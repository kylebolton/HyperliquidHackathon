const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-D2LSlJTO.js","assets/react-DnbZbiEq.js","assets/railgun-engine-CcqnAZft.js","assets/ethers-BgwcOcCU.js","assets/railgun-wasm-CL3CrBe4.js","assets/railgun-wallet-CEaUhN5a.js","assets/railgun-shared-CJtLqcIK.js","assets/metamask-sdk-BrrDBj35.js","assets/index-CqgZEpi_.js","assets/index-My90LZL7.js","assets/index-BIL5VC57.js","assets/index-C0o56x1F.js","assets/index-DolrDoYk.css"])))=>i.map(i=>d[i]);
import{k as rW,f as l5,p as PP,s as fne,a as bT,b as hne,c as yT,d as nW,r as SP,h as iW,e as uc,g as pne,E as gne,i as oe,j as sW,u as oW,l as I3,m as mne,n as kh,o as TP,q as d5,t as bne,v as yne,w as $r,R as z,x as wne,z as vne,A as eo,B as He,C as ne,D as Te}from"./react-DnbZbiEq.js";import{p as Ur,j as ju,k as aW,l as cW,m as uW,n as Ene,o as _ne,B as pt}from"./railgun-engine-CcqnAZft.js";import{g as OP,a as P3,i as $e,b as J,A as IA,E as PA,w as xe}from"./ethers-BgwcOcCU.js";let ws,le,ad,ur,Gn,SG,sE,Zl,Vs,Ui,FWe,qWe,UWe,zWe,Jie,se,Ws,od,lr,IWe,vWe,tie,g5,Es,Qr,c1,Er,re,qV,kp,jZ,VG,uE,MWe,$We,bi,TWe,CWe,Nj,pde,tWe,mde,HG,Pne,PWe,LWe,DWe,CT,px,LO,MO,Fi,UO,Dfe,MV,RWe,xWe,ui,HWe,Bm,Qn,qO,zO,kr,WWe,kWe,xo,BWe,DK,ahe,che,tj,NWe;let __tla=(async()=>{let Cne,Ane,wT;Cne="modulepreload";Ane=function(e){return"/"+e};wT={};re=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let c=function(u){return Promise.all(u.map(l=>Promise.resolve(l).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");i=c(r.map(u=>{if(u=Ane(u),u in wT)return;wT[u]=!0;const l=u.endsWith(".css"),f=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":Cne,l||(d.as="script"),d.crossOrigin="",d.href=u,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((h,g)=>{d.addEventListener("load",h),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};let vT,xne,p0,Ine,lW,V6,dW,ET;vT='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"';xne={rounded:`SFRounded, ui-rounded, "SF Pro Rounded", ${vT}`,system:vT};p0={large:{actionButton:"9999px",connectButton:"12px",modal:"24px",modalMobile:"28px"},medium:{actionButton:"10px",connectButton:"8px",modal:"16px",modalMobile:"18px"},none:{actionButton:"0px",connectButton:"0px",modal:"0px",modalMobile:"0px"},small:{actionButton:"4px",connectButton:"4px",modal:"8px",modalMobile:"8px"}};Ine={large:{modalOverlay:"blur(20px)"},none:{modalOverlay:"blur(0px)"},small:{modalOverlay:"blur(4px)"}};lW=({borderRadius:e="large",fontStack:t="rounded",overlayBlur:r="none"})=>({blurs:{modalOverlay:Ine[r].modalOverlay},fonts:{body:xne[t]},radii:{actionButton:p0[e].actionButton,connectButton:p0[e].connectButton,menuButton:p0[e].connectButton,modal:p0[e].modal,modalMobile:p0[e].modalMobile}});V6="#1A1B1F";dW={blue:{accentColor:"#3898FF",accentColorForeground:"#FFF"},green:{accentColor:"#4BD166",accentColorForeground:V6},orange:{accentColor:"#FF983D",accentColorForeground:V6},pink:{accentColor:"#FF7AB8",accentColorForeground:V6},purple:{accentColor:"#7A70FF",accentColorForeground:"#FFF"},red:{accentColor:"#FF6257",accentColorForeground:"#FFF"}};ET=dW.blue;Pne=({accentColor:e=ET.accentColor,accentColorForeground:t=ET.accentColorForeground,...r}={})=>({...lW(r),colors:{accentColor:e,accentColorForeground:t,actionButtonBorder:"rgba(255, 255, 255, 0.04)",actionButtonBorderMobile:"rgba(255, 255, 255, 0.08)",actionButtonSecondaryBackground:"rgba(255, 255, 255, 0.08)",closeButton:"rgba(224, 232, 255, 0.6)",closeButtonBackground:"rgba(255, 255, 255, 0.08)",connectButtonBackground:V6,connectButtonBackgroundError:"#FF494A",connectButtonInnerBackground:"linear-gradient(0deg, rgba(255, 255, 255, 0.075), rgba(255, 255, 255, 0.15))",connectButtonText:"#FFF",connectButtonTextError:"#FFF",connectionIndicator:"#30E000",downloadBottomCardBackground:"linear-gradient(126deg, rgba(0, 0, 0, 0) 9.49%, rgba(120, 120, 120, 0.2) 71.04%), #1A1B1F",downloadTopCardBackground:"linear-gradient(126deg, rgba(120, 120, 120, 0.2) 9.49%, rgba(0, 0, 0, 0) 71.04%), #1A1B1F",error:"#FF494A",generalBorder:"rgba(255, 255, 255, 0.08)",generalBorderDim:"rgba(255, 255, 255, 0.04)",menuItemBackground:"rgba(224, 232, 255, 0.1)",modalBackdrop:"rgba(0, 0, 0, 0.5)",modalBackground:"#1A1B1F",modalBorder:"rgba(255, 255, 255, 0.08)",modalText:"#FFF",modalTextDim:"rgba(224, 232, 255, 0.3)",modalTextSecondary:"rgba(255, 255, 255, 0.6)",profileAction:"rgba(224, 232, 255, 0.1)",profileActionHover:"rgba(224, 232, 255, 0.2)",profileForeground:"rgba(224, 232, 255, 0.05)",selectedOptionBorder:"rgba(224, 232, 255, 0.1)",standby:"#FFD641"},shadows:{connectButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",dialog:"0px 8px 32px rgba(0, 0, 0, 0.32)",profileDetailsAction:"0px 2px 6px rgba(37, 41, 46, 0.04)",selectedOption:"0px 2px 6px rgba(0, 0, 0, 0.24)",selectedWallet:"0px 2px 6px rgba(0, 0, 0, 0.24)",walletLogo:"0px 2px 16px rgba(0, 0, 0, 0.16)"}});Pne.accentColors=dW;var fW={blue:{accentColor:"#0E76FD",accentColorForeground:"#FFF"},green:{accentColor:"#1DB847",accentColorForeground:"#FFF"},orange:{accentColor:"#FF801F",accentColorForeground:"#FFF"},pink:{accentColor:"#FF5CA0",accentColorForeground:"#FFF"},purple:{accentColor:"#5F5AFA",accentColorForeground:"#FFF"},red:{accentColor:"#FA423C",accentColorForeground:"#FFF"}},_T=fW.blue,hW=({accentColor:e=_T.accentColor,accentColorForeground:t=_T.accentColorForeground,...r}={})=>({...lW(r),colors:{accentColor:e,accentColorForeground:t,actionButtonBorder:"rgba(0, 0, 0, 0.04)",actionButtonBorderMobile:"rgba(0, 0, 0, 0.06)",actionButtonSecondaryBackground:"rgba(0, 0, 0, 0.06)",closeButton:"rgba(60, 66, 66, 0.8)",closeButtonBackground:"rgba(0, 0, 0, 0.06)",connectButtonBackground:"#FFF",connectButtonBackgroundError:"#FF494A",connectButtonInnerBackground:"linear-gradient(0deg, rgba(0, 0, 0, 0.03), rgba(0, 0, 0, 0.06))",connectButtonText:"#25292E",connectButtonTextError:"#FFF",connectionIndicator:"#30E000",downloadBottomCardBackground:"linear-gradient(126deg, rgba(255, 255, 255, 0) 9.49%, rgba(171, 171, 171, 0.04) 71.04%), #FFFFFF",downloadTopCardBackground:"linear-gradient(126deg, rgba(171, 171, 171, 0.2) 9.49%, rgba(255, 255, 255, 0) 71.04%), #FFFFFF",error:"#FF494A",generalBorder:"rgba(0, 0, 0, 0.06)",generalBorderDim:"rgba(0, 0, 0, 0.03)",menuItemBackground:"rgba(60, 66, 66, 0.1)",modalBackdrop:"rgba(0, 0, 0, 0.3)",modalBackground:"#FFF",modalBorder:"transparent",modalText:"#25292E",modalTextDim:"rgba(60, 66, 66, 0.3)",modalTextSecondary:"rgba(60, 66, 66, 0.6)",profileAction:"#FFF",profileActionHover:"rgba(255, 255, 255, 0.5)",profileForeground:"rgba(60, 66, 66, 0.06)",selectedOptionBorder:"rgba(60, 66, 66, 0.1)",standby:"#FFD641"},shadows:{connectButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",dialog:"0px 8px 32px rgba(0, 0, 0, 0.32)",profileDetailsAction:"0px 2px 6px rgba(37, 41, 46, 0.04)",selectedOption:"0px 2px 6px rgba(0, 0, 0, 0.24)",selectedWallet:"0px 2px 6px rgba(0, 0, 0, 0.12)",walletLogo:"0px 2px 16px rgba(0, 0, 0, 0.16)"}});hW.accentColors=fW;CT=`{
  "connect_wallet": {
    "label": "Connect Wallet",
    "wrong_network": {
      "label": "Wrong network"
    }
  },

  "intro": {
    "title": "What is a Wallet?",
    "description": "A wallet is used to send, receive, store, and display digital assets. It's also a new way to log in, without needing to create new accounts and passwords on every website.",
    "digital_asset": {
      "title": "A Home for your Digital Assets",
      "description": "Wallets are used to send, receive, store, and display digital assets like Ethereum and NFTs."
    },
    "login": {
      "title": "A New Way to Log In",
      "description": "Instead of creating new accounts and passwords on every website, just connect your wallet."
    },
    "get": {
      "label": "Get a Wallet"
    },
    "learn_more": {
      "label": "Learn More"
    }
  },

  "sign_in": {
    "label": "Verify your account",
    "description": "To finish connecting, you must sign a message in your wallet to verify that you are the owner of this account.",
    "message": {
      "send": "Sign message",
      "preparing": "Preparing message...",
      "cancel": "Cancel",
      "preparing_error": "Error preparing message, please retry!"
    },
    "signature": {
      "waiting": "Waiting for signature...",
      "verifying": "Verifying signature...",
      "signing_error": "Error signing message, please retry!",
      "verifying_error": "Error verifying signature, please retry!",
      "oops_error": "Oops, something went wrong!"
    }
  },

  "connect": {
    "label": "Connect",
    "title": "Connect a Wallet",
    "new_to_ethereum": {
      "description": "New to Ethereum wallets?",
      "learn_more": {
        "label": "Learn More"
      }
    },
    "learn_more": {
      "label": "Learn more"
    },
    "recent": "Recent",
    "status": {
      "opening": "Opening %{wallet}...",
      "connecting": "Connecting",
      "connect_mobile": "Continue in %{wallet}",
      "not_installed": "%{wallet} is not installed",
      "not_available": "%{wallet} is not available",
      "confirm": "Confirm connection in the extension",
      "confirm_mobile": "Accept connection request in the wallet"
    },
    "secondary_action": {
      "get": {
        "description": "Don't have %{wallet}?",
        "label": "GET"
      },
      "install": {
        "label": "INSTALL"
      },
      "retry": {
        "label": "RETRY"
      }
    },
    "walletconnect": {
      "description": {
        "full": "Need the official WalletConnect modal?",
        "compact": "Need the WalletConnect modal?"
      },
      "open": {
        "label": "OPEN"
      }
    }
  },

  "connect_scan": {
    "title": "Scan with %{wallet}",
    "fallback_title": "Scan with your phone"
  },

  "connector_group": {
    "installed": "Installed",
    "recommended": "Recommended",
    "other": "Other",
    "popular": "Popular",
    "more": "More",
    "others": "Others"
  },

  "get": {
    "title": "Get a Wallet",
    "action": {
      "label": "GET"
    },
    "mobile": {
      "description": "Mobile Wallet"
    },
    "extension": {
      "description": "Browser Extension"
    },
    "mobile_and_extension": {
      "description": "Mobile Wallet and Extension"
    },
    "mobile_and_desktop": {
      "description": "Mobile and Desktop Wallet"
    },
    "looking_for": {
      "title": "Not what you're looking for?",
      "mobile": {
        "description": "Select a wallet on the main screen to get started with a different wallet provider."
      },
      "desktop": {
        "compact_description": "Select a wallet on the main screen to get started with a different wallet provider.",
        "wide_description": "Select a wallet on the left to get started with a different wallet provider."
      }
    }
  },

  "get_options": {
    "title": "Get started with %{wallet}",
    "short_title": "Get %{wallet}",
    "mobile": {
      "title": "%{wallet} for Mobile",
      "description": "Use the mobile wallet to explore the world of Ethereum.",
      "download": {
        "label": "Get the app"
      }
    },
    "extension": {
      "title": "%{wallet} for %{browser}",
      "description": "Access your wallet right from your favorite web browser.",
      "download": {
        "label": "Add to %{browser}"
      }
    },
    "desktop": {
      "title": "%{wallet} for %{platform}",
      "description": "Access your wallet natively from your powerful desktop.",
      "download": {
        "label": "Add to %{platform}"
      }
    }
  },

  "get_mobile": {
    "title": "Install %{wallet}",
    "description": "Scan with your phone to download on iOS or Android",
    "continue": {
      "label": "Continue"
    }
  },

  "get_instructions": {
    "mobile": {
      "connect": {
        "label": "Connect"
      },
      "learn_more": {
        "label": "Learn More"
      }
    },
    "extension": {
      "refresh": {
        "label": "Refresh"
      },
      "learn_more": {
        "label": "Learn More"
      }
    },
    "desktop": {
      "connect": {
        "label": "Connect"
      },
      "learn_more": {
        "label": "Learn More"
      }
    }
  },

  "chains": {
    "title": "Switch Networks",
    "wrong_network": "Wrong network detected, switch or disconnect to continue.",
    "confirm": "Confirm in Wallet",
    "switching_not_supported": "Your wallet does not support switching networks from %{appName}. Try switching networks from within your wallet instead.",
    "switching_not_supported_fallback": "Your wallet does not support switching networks from this app. Try switching networks from within your wallet instead.",
    "disconnect": "Disconnect",
    "connected": "Connected"
  },

  "profile": {
    "disconnect": {
      "label": "Disconnect"
    },
    "copy_address": {
      "label": "Copy Address",
      "copied": "Copied!"
    },
    "explorer": {
      "label": "View more on explorer"
    },
    "transactions": {
      "description": "%{appName} transactions will appear here...",
      "description_fallback": "Your transactions will appear here...",
      "recent": {
        "title": "Recent Transactions"
      },
      "clear": {
        "label": "Clear All"
      }
    }
  },

  "wallet_connectors": {
    "ready": {
      "qr_code": {
        "step1": {
          "description": "Add Ready to your home screen for faster access to your wallet.",
          "title": "Open the Ready app"
        },
        "step2": {
          "description": "Create a wallet and username, or import an existing wallet.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "berasig": {
      "extension": {
        "step1": {
          "title": "Install the BeraSig extension",
          "description": "We recommend pinning BeraSig to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "best": {
      "qr_code": {
        "step1": {
          "title": "Open the Best Wallet app",
          "description": "Add Best Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "bifrost": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bifrost Wallet on your home screen for quicker access.",
          "title": "Open the Bifrost Wallet app"
        },
        "step2": {
          "description": "Create or import a wallet using your recovery phrase.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "bitget": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bitget Wallet on your home screen for quicker access.",
          "title": "Open the Bitget Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Bitget Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Bitget Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "bitski": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Bitski to your taskbar for quicker access to your wallet.",
          "title": "Install the Bitski extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "bitverse": {
      "qr_code": {
        "step1": {
          "title": "Open the Bitverse Wallet app",
          "description": "Add Bitverse Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "bloom": {
      "desktop": {
        "step1": {
          "title": "Open the Bloom Wallet app",
          "description": "We recommend putting Bloom Wallet on your home screen for quicker access."
        },
        "step2": {
          "description": "Create or import a wallet using your recovery phrase.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you have a wallet, click on Connect to connect via Bloom. A connection prompt in the app will appear for you to confirm the connection.",
          "title": "Click on Connect"
        }
      }
    },

    "bybit": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bybit on your home screen for faster access to your wallet.",
          "title": "Open the Bybit app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "Click at the top right of your browser and pin Bybit Wallet for easy access.",
          "title": "Install the Bybit Wallet extension"
        },
        "step2": {
          "description": "Create a new wallet or import an existing one.",
          "title": "Create or Import a wallet"
        },
        "step3": {
          "description": "Once you set up Bybit Wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "binance": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Binance on your home screen for faster access to your wallet.",
          "title": "Open the Binance app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Binance Wallet extension",
          "description": "We recommend pinning Binance Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "coin98": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Coin98 Wallet on your home screen for faster access to your wallet.",
          "title": "Open the Coin98 Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },

      "extension": {
        "step1": {
          "description": "Click at the top right of your browser and pin Coin98 Wallet for easy access.",
          "title": "Install the Coin98 Wallet extension"
        },
        "step2": {
          "description": "Create a new wallet or import an existing one.",
          "title": "Create or Import a wallet"
        },
        "step3": {
          "description": "Once you set up Coin98 Wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "coinbase": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Coinbase Wallet on your home screen for quicker access.",
          "title": "Open the Coinbase Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using the cloud backup feature.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Coinbase Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Coinbase Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "compass": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Compass Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Compass Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "core": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Core on your home screen for faster access to your wallet.",
          "title": "Open the Core app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Core to your taskbar for quicker access to your wallet.",
          "title": "Install the Core extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "fox": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting FoxWallet on your home screen for quicker access.",
          "title": "Open the FoxWallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "frontier": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Frontier Wallet on your home screen for quicker access.",
          "title": "Open the Frontier Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Frontier Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Frontier Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "im_token": {
      "qr_code": {
        "step1": {
          "title": "Open the imToken app",
          "description": "Put imToken app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "iopay": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting ioPay on your home screen for faster access to your wallet.",
          "title": "Open the ioPay app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      }
    },

    "kaikas": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Kaikas to your taskbar for quicker access to your wallet.",
          "title": "Install the Kaikas extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Kaikas app",
          "description": "Put Kaikas app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "kaia": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Kaia to your taskbar for quicker access to your wallet.",
          "title": "Install the Kaia extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Kaia app",
          "description": "Put Kaia app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "kraken": {
      "qr_code": {
        "step1": {
          "title": "Open the Kraken Wallet app",
          "description": "Add Kraken Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "kresus": {
      "qr_code": {
        "step1": {
          "title": "Open the Kresus Wallet app",
          "description": "Add Kresus Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "magicEden": {
      "extension": {
        "step1": {
          "title": "Install the Magic Eden extension",
          "description": "We recommend pinning Magic Eden to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "metamask": {
      "qr_code": {
        "step1": {
          "title": "Open the MetaMask app",
          "description": "We recommend putting MetaMask on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the MetaMask extension",
          "description": "We recommend pinning MetaMask to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "nestwallet": {
      "extension": {
        "step1": {
          "title": "Install the NestWallet extension",
          "description": "We recommend pinning NestWallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "okx": {
      "qr_code": {
        "step1": {
          "title": "Open the OKX Wallet app",
          "description": "We recommend putting OKX Wallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the OKX Wallet extension",
          "description": "We recommend pinning OKX Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "omni": {
      "qr_code": {
        "step1": {
          "title": "Open the Omni app",
          "description": "Add Omni to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your home screen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "1inch": {
      "qr_code": {
        "step1": {
          "description": "Put 1inch Wallet on your home screen for faster access to your wallet.",
          "title": "Open the 1inch Wallet app"
        },
        "step2": {
          "description": "Create a wallet and username, or import an existing wallet.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "token_pocket": {
      "qr_code": {
        "step1": {
          "title": "Open the TokenPocket app",
          "description": "We recommend putting TokenPocket on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the TokenPocket extension",
          "description": "We recommend pinning TokenPocket to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "trust": {
      "qr_code": {
        "step1": {
          "title": "Open the Trust Wallet app",
          "description": "Put Trust Wallet on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the Trust Wallet extension",
          "description": "Click at the top right of your browser and pin Trust Wallet for easy access."
        },
        "step2": {
          "title": "Create or Import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up Trust Wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "uniswap": {
      "qr_code": {
        "step1": {
          "title": "Open the Uniswap app",
          "description": "Add Uniswap Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "zerion": {
      "qr_code": {
        "step1": {
          "title": "Open the Zerion app",
          "description": "We recommend putting Zerion on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the Zerion extension",
          "description": "We recommend pinning Zerion to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "rainbow": {
      "qr_code": {
        "step1": {
          "title": "Open the Rainbow app",
          "description": "We recommend putting Rainbow on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "You can easily backup your wallet using our backup feature on your phone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "enkrypt": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Enkrypt Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Enkrypt Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "frame": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Frame to your taskbar for quicker access to your wallet.",
          "title": "Install Frame & the companion extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "one_key": {
      "extension": {
        "step1": {
          "title": "Install the OneKey Wallet extension",
          "description": "We recommend pinning OneKey Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "paraswap": {
      "qr_code": {
        "step1": {
          "title": "Open the ParaSwap app",
          "description": "Add ParaSwap Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "phantom": {
      "extension": {
        "step1": {
          "title": "Install the Phantom extension",
          "description": "We recommend pinning Phantom to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "rabby": {
      "extension": {
        "step1": {
          "title": "Install the Rabby extension",
          "description": "We recommend pinning Rabby to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "ronin": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Ronin Wallet on your home screen for quicker access.",
          "title": "Open the Ronin Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Ronin Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Ronin Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "ramper": {
      "extension": {
        "step1": {
          "title": "Install the Ramper extension",
          "description": "We recommend pinning Ramper to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "safeheron": {
      "extension": {
        "step1": {
          "title": "Install the Core extension",
          "description": "We recommend pinning Safeheron to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "taho": {
      "extension": {
        "step1": {
          "title": "Install the Taho extension",
          "description": "We recommend pinning Taho to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "wigwam": {
      "extension": {
        "step1": {
          "title": "Install the Wigwam extension",
          "description": "We recommend pinning Wigwam to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "talisman": {
      "extension": {
        "step1": {
          "title": "Install the Talisman extension",
          "description": "We recommend pinning Talisman to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import an Ethereum Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "ctrl": {
      "extension": {
        "step1": {
          "title": "Install the CTRL Wallet extension",
          "description": "We recommend pinning CTRL Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "zeal": {
      "qr_code": {
        "step1": {
          "title": "Open the Zeal app",
          "description": "Add Zeal Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Zeal extension",
          "description": "We recommend pinning Zeal to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "safepal": {
      "extension": {
        "step1": {
          "title": "Install the SafePal Wallet extension",
          "description": "Click at the top right of your browser and pin SafePal Wallet for easy access."
        },
        "step2": {
          "title": "Create or Import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up SafePal Wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the SafePal Wallet app",
          "description": "Put SafePal Wallet on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "desig": {
      "extension": {
        "step1": {
          "title": "Install the Desig extension",
          "description": "We recommend pinning Desig to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "subwallet": {
      "extension": {
        "step1": {
          "title": "Install the SubWallet extension",
          "description": "We recommend pinning SubWallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the SubWallet app",
          "description": "We recommend putting SubWallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "clv": {
      "extension": {
        "step1": {
          "title": "Install the CLV Wallet extension",
          "description": "We recommend pinning CLV Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the CLV Wallet app",
          "description": "We recommend putting CLV Wallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "okto": {
      "qr_code": {
        "step1": {
          "title": "Open the Okto app",
          "description": "Add Okto to your home screen for quick access"
        },
        "step2": {
          "title": "Create an MPC Wallet",
          "description": "Create an account and generate a wallet"
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Tap the Scan QR icon at the top right and confirm the prompt to connect."
        }
      }
    },

    "ledger": {
      "desktop": {
        "step1": {
          "title": "Open the Ledger Live app",
          "description": "We recommend putting Ledger Live on your home screen for quicker access."
        },
        "step2": {
          "title": "Set up your Ledger",
          "description": "Set up a new Ledger or connect to an existing one."
        },
        "step3": {
          "title": "Connect",
          "description": "A connection prompt will appear for you to connect your wallet."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Ledger Live app",
          "description": "We recommend putting Ledger Live on your home screen for quicker access."
        },
        "step2": {
          "title": "Set up your Ledger",
          "description": "You can either sync with the desktop app or connect your Ledger."
        },
        "step3": {
          "title": "Scan the code",
          "description": "Tap WalletConnect then Switch to Scanner. After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "valora": {
      "qr_code": {
        "step1": {
          "title": "Open the Valora app",
          "description": "We recommend putting Valora on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "gate": {
      "qr_code": {
        "step1": {
          "title": "Open the Gate app",
          "description": "We recommend putting Gate on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Gate extension",
          "description": "We recommend pinning Gate to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "gemini": {
      "qr_code": {
        "step1": {
          "title": "Open keys.gemini.com",
          "description": "Visit keys.gemini.com on your mobile browser - no app download required."
        },
        "step2": {
          "title": "Create Your Wallet Instantly",
          "description": "Set up your smart wallet in seconds using your device's built-in authentication."
        },
        "step3": {
          "title": "Scan to Connect",
          "description": "Scan the QR code to instantly connect your wallet - it just works."
        }
      },
      "extension": {
        "step1": {
          "title": "Go to keys.gemini.com",
          "description": "No extensions or downloads needed - your wallet lives securely in the browser."
        },
        "step2": {
          "title": "One-Click Setup",
          "description": "Create your smart wallet instantly with passkey authentication - easier than any wallet out there."
        },
        "step3": {
          "title": "Connect and Go",
          "description": "Approve the connection and you're ready - the unopinionated wallet that just works."
        }
      }
    },

    "xportal": {
      "qr_code": {
        "step1": {
          "description": "Put xPortal on your home screen for faster access to your wallet.",
          "title": "Open the xPortal app"
        },
        "step2": {
          "description": "Create a wallet or import an existing one.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "mew": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting MEW Wallet on your home screen for quicker access.",
          "title": "Open the MEW Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using the cloud backup feature.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "zilpay": {
      "qr_code": {
        "step1": {
          "title": "Open the ZilPay app",
          "description": "Add ZilPay to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "nova": {
      "qr_code": {
        "step1": {
          "title": "Open the Nova Wallet app",
          "description": "Add Nova Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    }
  }
}
`;function Sne(e,t){return Object.defineProperty(e,"__recipe__",{value:t,writable:!1}),e}var pW=Sne;function gW(e){var{conditions:t}=e;if(!t)throw new Error("Styles have no conditions");function r(n){if(typeof n=="string"||typeof n=="number"||typeof n=="boolean"){if(!t.defaultCondition)throw new Error("No default condition");return{[t.defaultCondition]:n}}if(Array.isArray(n)){if(!("responsiveArray"in t))throw new Error("Responsive arrays are not supported");var i={};for(var s in t.responsiveArray)n[s]!=null&&(i[t.responsiveArray[s]]=n[s]);return i}return n}return pW(r,{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createNormalizeValueFn",args:[{conditions:e.conditions}]})}function Tne(e){var{conditions:t}=e;if(!t)throw new Error("Styles have no conditions");var r=gW(e);function n(i,s){if(typeof i=="string"||typeof i=="number"||typeof i=="boolean"){if(!t.defaultCondition)throw new Error("No default condition");return s(i,t.defaultCondition)}var o=Array.isArray(i)?r(i):i,a={};for(var c in o)o[c]!=null&&(a[c]=s(o[c],c));return a}return pW(n,{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createMapValueFn",args:[{conditions:e.conditions}]})}function One(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jne(e){var t=One(e,"string");return typeof t=="symbol"?t:String(t)}function Bne(e,t,r){return t=jne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function H8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(r),!0).forEach(function(n){Bne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Rne=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=Object.assign({},...r.map(c=>c.styles)),s=Object.keys(i),o=s.filter(c=>"mappings"in i[c]),a=c=>{var u=[],l={},f=H8({},c),d=!1;for(var h of o){var g=c[h];if(g!=null){var p=i[h];d=!0;for(var b of p.mappings)l[b]=g,f[b]==null&&delete f[b]}}var w=d?H8(H8({},l),f):c,y=function(){var C=w[v],E=i[v];try{if(E.mappings)return 1;if(typeof C=="string"||typeof C=="number")u.push(E.values[C].defaultClass);else if(Array.isArray(C))for(var _=0;_<C.length;_++){var P=C[_];if(P!=null){var x=E.responsiveArray[_];u.push(E.values[P].conditions[x])}}else for(var O in C){var D=C[O];D!=null&&u.push(E.values[D].conditions[O])}}catch(R){throw R}};for(var v in w)y();return e(u.join(" "))};return Object.assign(a,{properties:new Set(s)})},kne=e=>e,Nne=function(){return Rne(kne)(...arguments)};let f5,SA,mW,bW,Dne,xT,IT,yW,PT;f5=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}];SA=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}];mW=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}];bW=[...mW,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}];Dne=[...mW,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}];xT=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}];IT=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}];yW=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}];PT=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];tWe=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}];function Ao(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Kne(e.type);return`${e.name}(${S3(e.inputs,{includeName:t})})`}function S3(e,{includeName:t=!1}={}){return e?e.map(r=>$ne(r,{includeName:t})).join(t?", ":","):""}function $ne(e,{includeName:t}){return e.type.startsWith("tuple")?`(${S3(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}xo=function(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")};lr=function(e){return xo(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length};const wW="2.44.4";let W8;W8={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${wW}`};se=class TA extends Error{constructor(t,r={}){const n=r.cause instanceof TA?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof TA&&r.cause.docsPath||r.docsPath,s=W8.getDocsUrl?.({...r,docsPath:i}),o=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...W8.version?[`Version: ${W8.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=t,this.version=wW}walk(t){return vW(this,t)}};function vW(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?vW(e.cause,t):t?null:e}class Mne extends se{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class ST extends se{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class EW extends se{constructor({data:t,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${S3(r,{includeName:!0})})`,`Data:   ${t} (${n} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=r,this.size=n}}class o1 extends se{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class Lne extends se{constructor({expectedLength:t,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${t}`,`Given length: ${r}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Une extends se{constructor({expectedSize:t,value:r}){super(`Size of bytes "${r}" (bytes${lr(r)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class _W extends se{constructor({expectedLength:t,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${r}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class qne extends se{constructor(t,{docsPath:r}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:r,name:"AbiErrorInputsNotFoundError"})}}class TT extends se{constructor(t,{docsPath:r}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:r,name:"AbiErrorNotFoundError"})}}class CW extends se{constructor(t,{docsPath:r}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:r,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class zne extends se{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class Fne extends se{constructor(t,{docsPath:r}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:r,name:"AbiEventSignatureNotFoundError"})}}class OT extends se{constructor(t,{docsPath:r}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r,name:"AbiEventNotFoundError"})}}class Fh extends se{constructor(t,{docsPath:r}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionNotFoundError"})}}class AW extends se{constructor(t,{docsPath:r}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionOutputsNotFoundError"})}}class Hne extends se{constructor(t,{docsPath:r}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:r,name:"AbiFunctionSignatureNotFoundError"})}}class Wne extends se{constructor(t,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Ao(t.abiItem)}\`, and`,`\`${r.type}\` in \`${Ao(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let xW=class extends se{constructor({expectedSize:t,givenSize:r}){super(`Expected bytes${t}, got bytes${r}.`,{name:"BytesSizeMismatchError"})}};class h5 extends se{constructor({abiItem:t,data:r,params:n,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${S3(n,{includeName:!0})})`,`Data:   ${r} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=r,this.params=n,this.size=i}}class jP extends se{constructor({abiItem:t,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${Ao(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Vne extends se{constructor(t,{docsPath:r}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiEncodingType"})}}class Gne extends se{constructor(t,{docsPath:r}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiDecodingType"})}}let IW=class extends se{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Kne extends se{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Zne extends se{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}let Zn=class extends se{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},PW=class extends se{constructor({offset:t,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}},SW=class extends se{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${t}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};class jT extends se{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${r} ${n} long, but is ${t} ${n} long.`,{name:"InvalidBytesLengthError"})}}Qr=function(e,{dir:t,size:r=32}={}){return typeof e=="string"?yu(e,{dir:t,size:r}):Yne(e,{dir:t,size:r})};function yu(e,{dir:t,size:r=32}={}){if(r===null)return e;const n=e.replace("0x","");if(n.length>r*2)throw new SW({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[t==="right"?"padEnd":"padStart"](r*2,"0")}`}function Yne(e,{dir:t,size:r=32}={}){if(r===null)return e;if(e.length>r)throw new SW({size:e.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=t==="right";n[s?i:r-i-1]=e[s?i:e.length-i-1]}return n}let BP=class extends se{constructor({max:t,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${t?`(${r} to ${t})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},Qne=class extends se{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class Jne extends se{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Xne=class extends se{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};Ui=function(e,{dir:t="left"}={}){let r=typeof e=="string"?e.replace("0x",""):e,n=0;for(let i=0;i<r.length-1&&r[t==="left"?i:r.length-i-1].toString()==="0";i++)n++;return r=t==="left"?r.slice(n):r.slice(0,r.length-n),typeof e=="string"?(r.length===1&&t==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r};function Zs(e,{size:t}){if(lr(e)>t)throw new Xne({givenSize:lr(e),maxSize:t})}Er=function(e,t={}){const{signed:r}=t;t.size&&Zs(e,{size:t.size});const n=BigInt(e);if(!r)return n;const i=(e.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n};function eie(e,t={}){let r=e;if(t.size&&(Zs(r,{size:t.size}),r=Ui(r)),Ui(r)==="0x00")return!1;if(Ui(r)==="0x01")return!0;throw new Jne(r)}ws=function(e,t={}){const r=Er(e,t),n=Number(r);if(!Number.isSafeInteger(n))throw new BP({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:t.signed,size:t.size,value:`${r}n`});return n};tie=function(e,t={}){let r=Vs(e);return t.size&&(Zs(r,{size:t.size}),r=Ui(r,{dir:"right"})),new TextDecoder().decode(r)};const rie=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));Gn=function(e,t={}){return typeof e=="number"||typeof e=="bigint"?le(e,t):typeof e=="string"?od(e,t):typeof e=="boolean"?RP(e,t):zr(e,t)};function RP(e,t={}){const r=`0x${Number(e)}`;return typeof t.size=="number"?(Zs(r,{size:t.size}),Qr(r,{size:t.size})):r}function zr(e,t={}){let r="";for(let i=0;i<e.length;i++)r+=rie[e[i]];const n=`0x${r}`;return typeof t.size=="number"?(Zs(n,{size:t.size}),Qr(n,{dir:"right",size:t.size})):n}le=function(e,t={}){const{signed:r,size:n}=t,i=BigInt(e);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof e=="bigint"?"n":"";throw new BP({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${e}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?Qr(a,{size:n}):a};const nie=new TextEncoder;od=function(e,t={}){const r=nie.encode(e);return zr(r,t)};const iie=new TextEncoder;function Op(e,t={}){return typeof e=="number"||typeof e=="bigint"?oie(e,t):typeof e=="boolean"?sie(e,t):xo(e)?Vs(e,t):Zl(e,t)}function sie(e,t={}){const r=new Uint8Array(1);return r[0]=Number(e),typeof t.size=="number"?(Zs(r,{size:t.size}),Qr(r,{size:t.size})):r}const Ia={zero:48,nine:57,A:65,F:70,a:97,f:102};function BT(e){if(e>=Ia.zero&&e<=Ia.nine)return e-Ia.zero;if(e>=Ia.A&&e<=Ia.F)return e-(Ia.A-10);if(e>=Ia.a&&e<=Ia.f)return e-(Ia.a-10)}Vs=function(e,t={}){let r=e;t.size&&(Zs(r,{size:t.size}),r=Qr(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=BT(n.charCodeAt(a++)),u=BT(n.charCodeAt(a++));if(c===void 0||u===void 0)throw new se(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=c*16+u}return s};function oie(e,t){const r=le(e,t);return Vs(r)}Zl=function(e,t={}){const r=iie.encode(e);return typeof t.size=="number"?(Zs(r,{size:t.size}),Qr(r,{dir:"right",size:t.size})):r};ur=function(e,t){const r=t||"hex",n=rW(xo(e,{strict:!1})?Op(e):e);return r==="bytes"?n:Gn(n)};let Ld=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const r=super.get(t);return super.has(t)&&r!==void 0&&(this.delete(t),super.set(t,r)),r}set(t,r){if(super.set(t,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const aie=/^0x[a-fA-F0-9]{40}$/,V8=new Ld(8192);kr=function(e,t){const{strict:r=!0}=t??{},n=`${e}.${r}`;if(V8.has(n))return V8.get(n);const i=aie.test(e)?e.toLowerCase()===e?!0:r?a1(e)===e:!0:!1;return V8.set(n,i),i};const G8=new Ld(8192);function a1(e,t){if(G8.has(`${e}.${t}`))return G8.get(`${e}.${t}`);const r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=ur(Zl(r),"bytes"),i=(t?r.substring(`${t}0x`.length):r).split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return G8.set(`${e}.${t}`,s),s}function mn(e,t){if(!kr(e,{strict:!1}))throw new Zn({address:e});return a1(e,t)}let RT=class extends se{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},TW=class extends se{constructor({length:t,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},cie=class extends se{constructor({count:t,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const uie={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new cie({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new TW({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new RT({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new RT({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function kP(e,{recursiveReadLimit:t=8192}={}){const r=Object.create(uie);return r.bytes=e,r.dataView=new DataView(e.buffer??e,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}ad=function(e,t,r,{strict:n}={}){return xo(e,{strict:!1})?OA(e,t,r,{strict:n}):BW(e,t,r,{strict:n})};function OW(e,t){if(typeof t=="number"&&t>0&&t>lr(e)-1)throw new PW({offset:t,position:"start",size:lr(e)})}function jW(e,t,r){if(typeof t=="number"&&typeof r=="number"&&lr(e)!==r-t)throw new PW({offset:r,position:"end",size:lr(e)})}function BW(e,t,r,{strict:n}={}){OW(e,t);const i=e.slice(t,r);return n&&jW(i,t,r),i}function OA(e,t,r,{strict:n}={}){OW(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return n&&jW(i,t,r),i}function lie(e,t={}){typeof t.size<"u"&&Zs(e,{size:t.size});const r=zr(e,t);return Er(r,t)}function die(e,t={}){let r=e;if(typeof t.size<"u"&&(Zs(r,{size:t.size}),r=Ui(r)),r.length>1||r[0]>1)throw new Qne(r);return!!r[0]}function mc(e,t={}){typeof t.size<"u"&&Zs(e,{size:t.size});const r=zr(e,t);return ws(r,t)}function fie(e,t={}){let r=e;return typeof t.size<"u"&&(Zs(r,{size:t.size}),r=Ui(r,{dir:"right"})),new TextDecoder().decode(r)}function Jr(e){return typeof e[0]=="string"?zi(e):hie(e)}function hie(e){let t=0;for(const i of e)t+=i.length;const r=new Uint8Array(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}function zi(e){return`0x${e.reduce((t,r)=>t+r.replace("0x",""),"")}`}const pie=/^(.*)\[([0-9]*)\]$/,RW=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,NP=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;Ws=function(e,t){if(e.length!==t.length)throw new _W({expectedLength:e.length,givenLength:t.length});const r=gie({params:e,values:t}),n=$P(r);return n.length===0?"0x":n};function gie({params:e,values:t}){const r=[];for(let n=0;n<e.length;n++)r.push(DP({param:e[n],value:t[n]}));return r}function DP({param:e,value:t}){const r=MP(e.type);if(r){const[n,i]=r;return bie(t,{length:n,param:{...e,type:i}})}if(e.type==="tuple")return _ie(t,{param:e});if(e.type==="address")return mie(t);if(e.type==="bool")return wie(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const n=e.type.startsWith("int"),[,,i="256"]=NP.exec(e.type)??[];return vie(t,{signed:n,size:Number(i)})}if(e.type.startsWith("bytes"))return yie(t,{param:e});if(e.type==="string")return Eie(t);throw new Vne(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function $P(e){let t=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?t+=32:t+=lr(a)}const r=[],n=[];let i=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?(r.push(le(t+i,{size:32})),n.push(a),i+=lr(a)):r.push(a)}return Jr([...r,...n])}function mie(e){if(!kr(e))throw new Zn({address:e});return{dynamic:!1,encoded:yu(e.toLowerCase())}}function bie(e,{length:t,param:r}){const n=t===null;if(!Array.isArray(e))throw new IW(e);if(!n&&e.length!==t)throw new Lne({expectedLength:t,givenLength:e.length,type:`${r.type}[${t}]`});let i=!1;const s=[];for(let o=0;o<e.length;o++){const a=DP({param:r,value:e[o]});a.dynamic&&(i=!0),s.push(a)}if(n||i){const o=$P(s);if(n){const a=le(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?Jr([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Jr(s.map(({encoded:o})=>o))}}function yie(e,{param:t}){const[,r]=t.type.split("bytes"),n=lr(e);if(!r){let i=e;return n%32!==0&&(i=yu(i,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Jr([yu(le(n,{size:32})),i])}}if(n!==Number.parseInt(r,10))throw new Une({expectedSize:Number.parseInt(r,10),value:e});return{dynamic:!1,encoded:yu(e,{dir:"right"})}}function wie(e){if(typeof e!="boolean")throw new se(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:yu(RP(e))}}function vie(e,{signed:t,size:r=256}){if(typeof r=="number"){const n=2n**(BigInt(r)-(t?1n:0n))-1n,i=t?-n-1n:0n;if(e>n||e<i)throw new BP({max:n.toString(),min:i.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:le(e,{size:32,signed:t})}}function Eie(e){const t=od(e),r=Math.ceil(lr(t)/32),n=[];for(let i=0;i<r;i++)n.push(yu(ad(t,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Jr([yu(le(lr(t),{size:32})),...n])}}function _ie(e,{param:t}){let r=!1;const n=[];for(let i=0;i<t.components.length;i++){const s=t.components[i],o=Array.isArray(e)?i:s.name,a=DP({param:s,value:e[o]});n.push(a),a.dynamic&&(r=!0)}return{dynamic:r,encoded:r?$P(n):Jr(n.map(({encoded:i})=>i))}}function MP(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}c1=function(e,t){const r=typeof t=="string"?Vs(t):t,n=kP(r);if(lr(r)===0&&e.length>0)throw new o1;if(lr(t)&&lr(t)<32)throw new EW({data:typeof t=="string"?t:zr(t),params:e,size:lr(t)});let i=0;const s=[];for(let o=0;o<e.length;++o){const a=e[o];n.setPosition(i);const[c,u]=Nh(n,a,{staticPosition:0});i+=u,s.push(c)}return s};function Nh(e,t,{staticPosition:r}){const n=MP(t.type);if(n){const[i,s]=n;return Aie(e,{...t,type:s},{length:i,staticPosition:r})}if(t.type==="tuple")return Sie(e,t,{staticPosition:r});if(t.type==="address")return Cie(e);if(t.type==="bool")return xie(e);if(t.type.startsWith("bytes"))return Iie(e,t,{staticPosition:r});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Pie(e,t);if(t.type==="string")return Tie(e,{staticPosition:r});throw new Gne(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const kT=32,jA=32;function Cie(e){const t=e.readBytes(32);return[a1(zr(BW(t,-20))),32]}function Aie(e,t,{length:r,staticPosition:n}){if(!r){const o=mc(e.readBytes(jA)),a=n+o,c=a+kT;e.setPosition(a);const u=mc(e.readBytes(kT)),l=am(t);let f=0;const d=[];for(let h=0;h<u;++h){e.setPosition(c+(l?h*32:f));const[g,p]=Nh(e,t,{staticPosition:c});f+=p,d.push(g)}return e.setPosition(n+32),[d,32]}if(am(t)){const o=mc(e.readBytes(jA)),a=n+o,c=[];for(let u=0;u<r;++u){e.setPosition(a+u*32);const[l]=Nh(e,t,{staticPosition:a});c.push(l)}return e.setPosition(n+32),[c,32]}let i=0;const s=[];for(let o=0;o<r;++o){const[a,c]=Nh(e,t,{staticPosition:n+i});i+=c,s.push(a)}return[s,i]}function xie(e){return[die(e.readBytes(32),{size:32}),32]}function Iie(e,t,{staticPosition:r}){const[n,i]=t.type.split("bytes");if(!i){const o=mc(e.readBytes(32));e.setPosition(r+o);const a=mc(e.readBytes(32));if(a===0)return e.setPosition(r+32),["0x",32];const c=e.readBytes(a);return e.setPosition(r+32),[zr(c),32]}return[zr(e.readBytes(Number.parseInt(i,10),32)),32]}function Pie(e,t){const r=t.type.startsWith("int"),n=Number.parseInt(t.type.split("int")[1]||"256",10),i=e.readBytes(32);return[n>48?lie(i,{signed:r}):mc(i,{signed:r}),32]}function Sie(e,t,{staticPosition:r}){const n=t.components.length===0||t.components.some(({name:o})=>!o),i=n?[]:{};let s=0;if(am(t)){const o=mc(e.readBytes(jA)),a=r+o;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+s);const[l,f]=Nh(e,u,{staticPosition:a});s+=f,i[n?c:u?.name]=l}return e.setPosition(r+32),[i,32]}for(let o=0;o<t.components.length;++o){const a=t.components[o],[c,u]=Nh(e,a,{staticPosition:r});i[n?o:a?.name]=c,s+=u}return[i,s]}function Tie(e,{staticPosition:t}){const r=mc(e.readBytes(32)),n=t+r;e.setPosition(n);const i=mc(e.readBytes(32));if(i===0)return e.setPosition(t+32),["",32];const s=e.readBytes(i,32),o=fie(Ui(s));return e.setPosition(t+32),[o,32]}function am(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(am);const r=MP(e.type);return!!(r&&am({...e,type:r[1]}))}const Oie=e=>ur(Op(e));function jie(e){return Oie(e)}function Bie(e){let t=!0,r="",n=0,i="",s=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&n++,a===")"&&n--,!!t){if(n===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){e[o-1]!==","&&r!==","&&r!==",("&&(r="",t=!1);continue}i+=a,r+=a}}if(!s)throw new se("Unable to normalize signature.");return i}const Rie=e=>{const t=typeof e=="string"?e:l5(e);return Bie(t)};function kW(e){return jie(Rie(e))}const T3=kW,u1=e=>ad(kW(e),0,4);function Ud(e){const{abi:t,args:r=[],name:n}=e,i=xo(n,{strict:!1}),s=t.filter(a=>i?a.type==="function"?u1(a)===n:a.type==="event"?T3(a)===n:!1:"name"in a&&a.name===n);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!r||r.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==r.length)continue;if(r.every((u,l)=>{const f="inputs"in a&&a.inputs[l];return f?BA(u,f):!1})){if(o&&"inputs"in o&&o.inputs){const u=NW(a.inputs,o.inputs,r);if(u)throw new Wne({abiItem:a,type:u[0]},{abiItem:o,type:u[1]})}o=a}}return o||s[0]}function BA(e,t){const r=typeof e,n=t.type;switch(n){case"address":return kr(e,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in t?Object.values(t.components).every((i,s)=>r==="object"&&BA(Object.values(e)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(e)&&e.every(i=>BA(i,{...t,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function NW(e,t,r){for(const n in e){const i=e[n],s=t[n];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return NW(i.components,s.components,r[n]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?kr(r[n],{strict:!1}):o.includes("address")&&o.includes("bytes")?kr(r[n],{strict:!1}):!1)return o}}const K8="/docs/contract/decodeFunctionResult";function qd(e){const{abi:t,args:r,functionName:n,data:i}=e;let s=t[0];if(n){const a=Ud({abi:t,args:r,name:n});if(!a)throw new Fh(n,{docsPath:K8});s=a}if(s.type!=="function")throw new Fh(void 0,{docsPath:K8});if(!s.outputs)throw new AW(s.name,{docsPath:K8});const o=c1(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const NT="/docs/contract/encodeFunctionData";function kie(e){const{abi:t,args:r,functionName:n}=e;let i=t[0];if(n){const s=Ud({abi:t,args:r,name:n});if(!s)throw new Fh(n,{docsPath:NT});i=s}if(i.type!=="function")throw new Fh(void 0,{docsPath:NT});return{abi:[i],functionName:u1(Ao(i))}}Fi=function(e){const{args:t}=e,{abi:r,functionName:n}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:kie(e),i=r[0],s=n,o="inputs"in i&&i.inputs?Ws(i.inputs,t??[]):void 0;return zi([s,o??"0x"])};class RA extends se{constructor({blockNumber:t,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...t&&n.blockCreated&&n.blockCreated>t?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Nie extends se{constructor({chain:t,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class Die extends se{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class DW extends se{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class O3 extends se{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function jp({blockNumber:e,chain:t,contract:r}){const n=t?.contracts?.[r];if(!n)throw new RA({chain:t,contract:{name:r}});if(e&&n.blockCreated&&n.blockCreated>e)throw new RA({blockNumber:e,chain:t,contract:{name:r,blockCreated:n.blockCreated}});return n.address}function zt(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const $ie={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},$W={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Mie={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function LP(e){const{abi:t,data:r}=e,n=ad(r,0,4);if(n==="0x")throw new o1;const s=[...t||[],$W,Mie].find(o=>o.type==="error"&&n===u1(Ao(o)));if(!s)throw new CW(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?c1(s.inputs,ad(r,4)):void 0,errorName:s.name}}const _r=(e,t,r)=>JSON.stringify(e,(n,i)=>typeof i=="bigint"?i.toString():i,r);function MW({abiItem:e,args:t,includeFunctionName:r=!0,includeName:n=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${r?e.name:""}(${e.inputs.map((i,s)=>`${n&&i.name?`${i.name}: `:""}${typeof t[s]=="object"?_r(t[s]):t[s]}`).join(", ")})`}const Lie={gwei:9,wei:18},Uie={ether:-9,wei:9},qie={ether:-18,gwei:-9};function l1(e,t){let r=e.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(t,"0");let[i,s]=[r.slice(0,r.length-t),r.slice(r.length-t)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}function UP(e,t="wei"){return l1(e,Lie[t])}function Kn(e,t="wei"){return l1(e,Uie[t])}class zie extends se{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Fie extends se{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function DT(e){return e.reduce((t,{slot:r,value:n})=>`${t}        ${r}: ${n}
`,"")}function Hie(e){return e.reduce((t,{address:r,...n})=>{let i=`${t}    ${r}:
`;return n.nonce&&(i+=`      nonce: ${n.nonce}
`),n.balance&&(i+=`      balance: ${n.balance}
`),n.code&&(i+=`      code: ${n.code}
`),n.state&&(i+=`      state:
`,i+=DT(n.state)),n.stateDiff&&(i+=`      stateDiff:
`,i+=DT(n.stateDiff)),i},`  State Override:
`).slice(0,-1)}function Bp(e){const t=Object.entries(e).map(([n,i])=>i===void 0||i===!1?null:[n,i]).filter(Boolean),r=t.reduce((n,[i])=>Math.max(n,i.length),0);return t.map(([n,i])=>`  ${`${n}:`.padEnd(r+1)}  ${i}`).join(`
`)}class Wie extends se{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Vie extends se{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Bp(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Gie extends se{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class Kie extends se{constructor(t,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:f,value:d}){const h=Bp({chain:i&&`${i?.name} (id: ${i?.id})`,from:r?.address,to:f,value:typeof d<"u"&&`${UP(d)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Kn(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Kn(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Kn(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:n,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class LW extends se{constructor({blockHash:t,blockNumber:r,blockTag:n,hash:i,index:s}){let o="Transaction";n&&s!==void 0&&(o=`Transaction at block time "${n}" at index "${s}"`),t&&s!==void 0&&(o=`Transaction at block hash "${t}" at index "${s}"`),r&&s!==void 0&&(o=`Transaction at block number "${r}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class UW extends se{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class qW extends se{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class Zie extends se{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Yie=e=>e,d1=e=>e;class zW extends se{constructor(t,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:f,value:d,stateOverride:h}){const g=r?zt(r):void 0;let p=Bp({from:g?.address,to:f,value:typeof d<"u"&&`${UP(d)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Kn(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Kn(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Kn(u)} gwei`,nonce:l});h&&(p+=`
${Hie(h)}`),super(t.shortMessage,{cause:t,docsPath:n,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class j3 extends se{constructor(t,{abi:r,args:n,contractAddress:i,docsPath:s,functionName:o,sender:a}){const c=Ud({abi:r,args:n,name:o}),u=c?MW({abiItem:c,args:n,includeFunctionName:!1,includeName:!1}):void 0,l=c?Ao(c,{includeName:!0}):void 0,f=Bp({address:i&&Yie(i),function:l,args:u&&u!=="()"&&`${[...Array(o?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=r,this.args=n,this.cause=t,this.contractAddress=i,this.functionName=o,this.sender=a}}class p5 extends se{constructor({abi:t,data:r,functionName:n,message:i}){let s,o,a,c;if(r&&r!=="0x")try{o=LP({abi:t,data:r});const{abiItem:l,errorName:f,args:d}=o;if(f==="Error")c=d[0];else if(f==="Panic"){const[h]=d;c=$ie[h]}else{const h=l?Ao(l,{includeName:!0}):void 0,g=l&&d?MW({abiItem:l,args:d,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",g&&g!=="()"?`       ${[...Array(f?.length??0).keys()].map(()=>" ").join("")}${g}`:""]}}catch(l){s=l}else i&&(c=i);let u;s instanceof CW&&(u=s.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${n}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${n}" reverted.`,{cause:s,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=r,this.reason=c,this.signature=u}}class FW extends se{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Qie extends se{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class B3 extends se{constructor({data:t,message:r}){super(r||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}function qP(e){if(!(e instanceof se))return!1;const t=e.walk(r=>r instanceof p5);return t instanceof p5?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}Jie=function(e){const{abi:t,data:r}=e,n=ad(r,0,4),i=t.find(s=>s.type==="function"&&n===u1(Ao(s)));if(!i)throw new Hne(n,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?c1(i.inputs,ad(r,4)):void 0}};const Z8="/docs/contract/encodeErrorResult";function $T(e){const{abi:t,errorName:r,args:n}=e;let i=t[0];if(r){const c=Ud({abi:t,args:n,name:r});if(!c)throw new TT(r,{docsPath:Z8});i=c}if(i.type!=="error")throw new TT(void 0,{docsPath:Z8});const s=Ao(i),o=u1(s);let a="0x";if(n&&n.length>0){if(!i.inputs)throw new qne(i.name,{docsPath:Z8});a=Ws(i.inputs,n)}return zi([o,a])}const Y8="/docs/contract/encodeFunctionResult";function Xie(e){const{abi:t,functionName:r,result:n}=e;let i=t[0];if(r){const o=Ud({abi:t,name:r});if(!o)throw new Fh(r,{docsPath:Y8});i=o}if(i.type!=="function")throw new Fh(void 0,{docsPath:Y8});if(!i.outputs)throw new AW(i.name,{docsPath:Y8});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[n];if(Array.isArray(n))return n;throw new IW(n)})();return Ws(i.outputs,s)}const f1="x-batch-gateway:true";async function HW(e){const{data:t,ccipRequest:r}=e,{args:[n]}=Jie({abi:SA,data:t}),i=[],s=[];return await Promise.all(n.map(async(o,a)=>{try{s[a]=o.urls.includes(f1)?await HW({data:o.data,ccipRequest:r}):await r(o),i[a]=!1}catch(c){i[a]=!0,s[a]=ese(c)}})),Xie({abi:SA,functionName:"query",result:[i,s]})}function ese(e){return e.name==="HttpRequestError"&&e.status?$T({abi:SA,errorName:"HttpError",args:[e.status,e.shortMessage]}):$T({abi:[$W],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function WW(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return xo(t)?t:null}function kA(e){let t=new Uint8Array(32).fill(0);if(!e)return zr(t);const r=e.split(".");for(let n=r.length-1;n>=0;n-=1){const i=WW(r[n]),s=i?Op(i):ur(Zl(r[n]),"bytes");t=ur(Jr([t,s]),"bytes")}return zr(t)}function tse(e){return`[${e.slice(2)}]`}function rse(e){const t=new Uint8Array(32).fill(0);return e?WW(e)||ur(Zl(e)):zr(t)}function zP(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const r=new Uint8Array(Zl(t).byteLength+2);let n=0;const i=t.split(".");for(let s=0;s<i.length;s++){let o=Zl(i[s]);o.byteLength>255&&(o=Zl(tse(rse(i[s])))),r[n]=o.length,r.set(o,n+1),n+=o.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}function Ie(e,t,r){const n=e[t.name];if(typeof n=="function")return n;const i=e[r];return typeof i=="function"?i:s=>t(e,s)}class Yl extends se{constructor({body:t,cause:r,details:n,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${d1(o)}`,t&&`Request body: ${_r(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=i,this.status=s,this.url=o}}class FP extends se{constructor({body:t,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${d1(n)}`,`Request body: ${_r(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data,this.url=n}}class MT extends se{constructor({body:t,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${d1(r)}`,`Request body: ${_r(t)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=r}}const nse=-1;class Hi extends se{constructor(t,{code:r,docsPath:n,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:t,docsPath:n,metaMessages:i||t?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||t.name,this.code=t instanceof FP?t.code:r??nse}}class xs extends Hi{constructor(t,r){super(t,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class cm extends Hi{constructor(t){super(t,{code:cm.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(cm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class um extends Hi{constructor(t){super(t,{code:um.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(um,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class lm extends Hi{constructor(t,{method:r}={}){super(t,{code:lm.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(lm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class dm extends Hi{constructor(t){super(t,{code:dm.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(dm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class cd extends Hi{constructor(t){super(t,{code:cd.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(cd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Pu extends Hi{constructor(t){super(t,{code:Pu.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Pu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class fm extends Hi{constructor(t){super(t,{code:fm.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(fm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class sa extends Hi{constructor(t){super(t,{code:sa.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(sa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Hh extends Hi{constructor(t){super(t,{code:Hh.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Hh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Ll extends Hi{constructor(t,{method:r}={}){super(t,{code:Ll.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(Ll,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Wh extends Hi{constructor(t){super(t,{code:Wh.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Wh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class hm extends Hi{constructor(t){super(t,{code:hm.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(hm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class St extends xs{constructor(t){super(t,{code:St.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(St,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class pm extends xs{constructor(t){super(t,{code:pm.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(pm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class gm extends xs{constructor(t,{method:r}={}){super(t,{code:gm.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(gm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class mm extends xs{constructor(t){super(t,{code:mm.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(mm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class bm extends xs{constructor(t){super(t,{code:bm.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(bm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class ys extends xs{constructor(t){super(t,{code:ys.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(ys,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Vh extends xs{constructor(t){super(t,{code:Vh.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Vh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class ym extends xs{constructor(t){super(t,{code:ym.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(ym,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class wm extends xs{constructor(t){super(t,{code:wm.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(wm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class vm extends xs{constructor(t){super(t,{code:vm.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(vm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Em extends xs{constructor(t){super(t,{code:Em.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Em,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class _m extends xs{constructor(t){super(t,{code:_m.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(_m,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Gh extends xs{constructor(t){super(t,{code:Gh.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Gh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class ise extends Hi{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const sse=3;function ud(e,{abi:t,address:r,args:n,docsPath:i,functionName:s,sender:o}){const a=e instanceof B3?e:e instanceof se?e.walk(g=>"data"in g)||e.walk():{},{code:c,data:u,details:l,message:f,shortMessage:d}=a,h=e instanceof o1?new FW({functionName:s}):[sse,cd.code].includes(c)&&(u||l||f||d)||c===Pu.code&&l==="execution reverted"&&u?new p5({abi:t,data:typeof u=="object"?u.data:u,functionName:s,message:a instanceof FP?l:d??f}):e;return new j3(h,{abi:t,args:n,contractAddress:r,docsPath:i,functionName:s,sender:o})}const ose="0.1.1";function ase(){return ose}let it=class ec extends Error{static setStaticOptions(t){ec.prototype.docsOrigin=t.docsOrigin,ec.prototype.showVersion=t.showVersion,ec.prototype.version=t.version}constructor(t,r={}){const n=(()=>{if(r.cause instanceof ec){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:r.cause?.message?r.cause.message:r.details})(),i=r.cause instanceof ec&&r.cause.docsPath||r.docsPath,s=r.docsOrigin??ec.prototype.docsOrigin,o=`${s}${i??""}`,a=!!(r.version??ec.prototype.showVersion),c=r.version??ec.prototype.version,u=[t||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||i||a?["",n?`Details: ${n}`:void 0,i?`See: ${o}`:void 0,a?`Version: ${c}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(u,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=r.cause,this.details=n,this.docs=o,this.docsOrigin=s,this.docsPath=i,this.shortMessage=t,this.showVersion=a,this.version=c}walk(t){return VW(this,t)}};Object.defineProperty(it,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${ase()}`}});it.setStaticOptions(it.defaultStaticOptions);function VW(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?VW(e.cause,t):t?null:e}function h1(e,t){if(Ch(e)>t)throw new Ase({givenSize:Ch(e),maxSize:t})}const Pa={zero:48,nine:57,A:65,F:70,a:97,f:102};function LT(e){if(e>=Pa.zero&&e<=Pa.nine)return e-Pa.zero;if(e>=Pa.A&&e<=Pa.F)return e-(Pa.A-10);if(e>=Pa.a&&e<=Pa.f)return e-(Pa.a-10)}function cse(e,t={}){const{dir:r,size:n=32}=t;if(n===0)return e;if(e.length>n)throw new xse({size:e.length,targetSize:n,type:"Bytes"});const i=new Uint8Array(n);for(let s=0;s<n;s++){const o=r==="right";i[o?s:n-s-1]=e[o?s:e.length-s-1]}return i}function GW(e,t={}){const{dir:r="left"}=t;let n=e,i=0;for(let s=0;s<n.length-1&&n[r==="left"?s:n.length-s-1].toString()==="0";s++)i++;return n=r==="left"?n.slice(i):n.slice(0,n.length-i),n}function R3(e,t){if(vs(e)>t)throw new jse({givenSize:vs(e),maxSize:t})}function use(e,t){if(typeof t=="number"&&t>0&&t>vs(e)-1)throw new rV({offset:t,position:"start",size:vs(e)})}function lse(e,t,r){if(typeof t=="number"&&typeof r=="number"&&vs(e)!==r-t)throw new rV({offset:r,position:"end",size:vs(e)})}function KW(e,t={}){const{dir:r,size:n=32}=t;if(n===0)return e;const i=e.replace("0x","");if(i.length>n*2)throw new Bse({size:Math.ceil(i.length/2),targetSize:n,type:"Hex"});return`0x${i[r==="right"?"padEnd":"padStart"](n*2,"0")}`}const dse="#__bigint";function ZW(e,t,r){return JSON.stringify(e,(n,i)=>typeof i=="bigint"?i.toString()+dse:i,r)}const fse=new TextDecoder,hse=new TextEncoder;function pse(e){return e instanceof Uint8Array?e:typeof e=="string"?YW(e):gse(e)}function gse(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function YW(e,t={}){const{size:r}=t;let n=e;r&&(R3(e,r),n=dd(e,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const u=LT(i.charCodeAt(c++)),l=LT(i.charCodeAt(c++));if(u===void 0||l===void 0)throw new it(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);o[a]=u<<4|l}return o}function mse(e,t={}){const{size:r}=t,n=hse.encode(e);return typeof r=="number"?(h1(n,r),bse(n,r)):n}function bse(e,t){return cse(e,{dir:"right",size:t})}function Ch(e){return e.length}function yse(e,t,r,n={}){const{strict:i}=n;return e.slice(t,r)}function wse(e,t={}){const{size:r}=t;typeof r<"u"&&h1(e,r);const n=Po(e,t);return XW(n,t)}function vse(e,t={}){const{size:r}=t;let n=e;if(typeof r<"u"&&(h1(n,r),n=QW(n)),n.length>1||n[0]>1)throw new Cse(n);return!!n[0]}function bc(e,t={}){const{size:r}=t;typeof r<"u"&&h1(e,r);const n=Po(e,t);return eV(n,t)}function Ese(e,t={}){const{size:r}=t;let n=e;return typeof r<"u"&&(h1(n,r),n=_se(n)),fse.decode(n)}function QW(e){return GW(e,{dir:"left"})}function _se(e){return GW(e,{dir:"right"})}class Cse extends it{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let Ase=class extends it{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},xse=class extends it{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Ise=new TextEncoder,Pse=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Sse(e,t={}){const{strict:r=!1}=t;if(!e)throw new UT(e);if(typeof e!="string")throw new UT(e);if(r&&!/^0x[0-9a-fA-F]*$/.test(e))throw new qT(e);if(!e.startsWith("0x"))throw new qT(e)}function Io(...e){return`0x${e.reduce((t,r)=>t+r.replace("0x",""),"")}`}function Tse(e){return e instanceof Uint8Array?Po(e):Array.isArray(e)?Po(new Uint8Array(e)):e}function JW(e,t={}){const r=`0x${Number(e)}`;return typeof t.size=="number"?(R3(r,t.size),ld(r,t.size)):r}function Po(e,t={}){let r="";for(let i=0;i<e.length;i++)r+=Pse[e[i]];const n=`0x${r}`;return typeof t.size=="number"?(R3(n,t.size),dd(n,t.size)):n}function li(e,t={}){const{signed:r,size:n}=t,i=BigInt(e);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const u=typeof e=="bigint"?"n":"";throw new tV({max:s?`${s}${u}`:void 0,min:`${o}${u}`,signed:r,size:n,value:`${e}${u}`})}const c=`0x${(r&&i<0?BigInt.asUintN(n*8,BigInt(i)):i).toString(16)}`;return n?ld(c,n):c}function HP(e,t={}){return Po(Ise.encode(e),t)}function ld(e,t){return KW(e,{dir:"left",size:t})}function dd(e,t){return KW(e,{dir:"right",size:t})}function oa(e,t,r,n={}){const{strict:i}=n;use(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return i&&lse(s,t,r),s}function vs(e){return Math.ceil((e.length-2)/2)}function XW(e,t={}){const{signed:r}=t;t.size&&R3(e,t.size);const n=BigInt(e);if(!r)return n;const i=(e.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,o=s>>1n;return n<=o?n:n-s-1n}function eV(e,t={}){const{signed:r,size:n}=t;return Number(!r&&!n?e:XW(e,t))}function Ose(e,t={}){const{strict:r=!1}=t;try{return Sse(e,{strict:r}),!0}catch{return!1}}let tV=class extends it{constructor({max:t,min:r,signed:n,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${n?" signed":" unsigned"} integer range ${t?`(\`${r}\` to \`${t}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};class UT extends it{constructor(t){super(`Value \`${typeof t=="object"?ZW(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class qT extends it{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let jse=class extends it{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class rV extends it{constructor({offset:t,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let Bse=class extends it{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function Rse(e){return{address:e.address,amount:li(e.amount),index:li(e.index),validatorIndex:li(e.validatorIndex)}}function nV(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:li(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:li(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:li(e.gasLimit)},...typeof e.number=="bigint"&&{number:li(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:li(e.prevRandao)},...typeof e.time=="bigint"&&{time:li(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Rse)}}}const kse="0x82ad56cb",iV="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Nse="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Dse="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",WP="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",Q8="/docs/contract/encodeDeployData";function k3(e){const{abi:t,args:r,bytecode:n}=e;if(!r||r.length===0)return n;const i=t.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new Mne({docsPath:Q8});if(!("inputs"in i))throw new ST({docsPath:Q8});if(!i.inputs||i.inputs.length===0)throw new ST({docsPath:Q8});const s=Ws(i.inputs,r);return zi([n,s])}let Ul=class extends se{constructor({cause:t,message:r}={}){const n=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}};Object.defineProperty(Ul,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Ul,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class fd extends se{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Kn(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(fd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class NA extends se{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Kn(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(NA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class DA extends se{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(DA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class $A extends se{constructor({cause:t,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty($A,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class MA extends se{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(MA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class LA extends se{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(LA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class UA extends se{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(UA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class qA extends se{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(qA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class zA extends se{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(zA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Cm extends se{constructor({cause:t,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${Kn(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${Kn(n)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Cm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class p1 extends se{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function N3(e,t){const r=(e.details||"").toLowerCase(),n=e instanceof se?e.walk(i=>i?.code===Ul.code):e;return n instanceof se?new Ul({cause:e,message:n.details}):Ul.nodeMessage.test(r)?new Ul({cause:e,message:e.details}):fd.nodeMessage.test(r)?new fd({cause:e,maxFeePerGas:t?.maxFeePerGas}):NA.nodeMessage.test(r)?new NA({cause:e,maxFeePerGas:t?.maxFeePerGas}):DA.nodeMessage.test(r)?new DA({cause:e,nonce:t?.nonce}):$A.nodeMessage.test(r)?new $A({cause:e,nonce:t?.nonce}):MA.nodeMessage.test(r)?new MA({cause:e,nonce:t?.nonce}):LA.nodeMessage.test(r)?new LA({cause:e}):UA.nodeMessage.test(r)?new UA({cause:e,gas:t?.gas}):qA.nodeMessage.test(r)?new qA({cause:e,gas:t?.gas}):zA.nodeMessage.test(r)?new zA({cause:e}):Cm.nodeMessage.test(r)?new Cm({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new p1({cause:e})}function sV(e,{docsPath:t,...r}){const n=(()=>{const i=N3(e,r);return i instanceof p1?e:i})();return new zW(n,{docsPath:t,...r})}function Rp(e,{format:t}){if(!t)return{};const r={};function n(s){const o=Object.keys(s);for(const a of o)a in e&&(r[a]=e[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&n(s[a])}const i=t(e||{});return n(i),r}function VP(e,t){return({exclude:r,format:n})=>({exclude:r,format:(i,s)=>{const o=t(i,s);if(r)for(const a of r)delete o[a];return{...o,...n(i,s)}},type:e})}const $se={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Bu(e,t){const r={};return typeof e.authorizationList<"u"&&(r.authorizationList=Mse(e.authorizationList)),typeof e.accessList<"u"&&(r.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(r.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?r.blobs=e.blobs.map(n=>zr(n)):r.blobs=e.blobs),typeof e.data<"u"&&(r.data=e.data),e.account&&(r.from=e.account.address),typeof e.from<"u"&&(r.from=e.from),typeof e.gas<"u"&&(r.gas=le(e.gas)),typeof e.gasPrice<"u"&&(r.gasPrice=le(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(r.maxFeePerBlobGas=le(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(r.maxFeePerGas=le(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(r.maxPriorityFeePerGas=le(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(r.nonce=le(e.nonce)),typeof e.to<"u"&&(r.to=e.to),typeof e.type<"u"&&(r.type=$se[e.type]),typeof e.value<"u"&&(r.value=le(e.value)),r}function Mse(e){return e.map(t=>({address:t.address,r:t.r?le(BigInt(t.r)):t.r,s:t.s?le(BigInt(t.s)):t.s,chainId:le(t.chainId),nonce:le(t.nonce),...typeof t.yParity<"u"?{yParity:le(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:le(t.v)}:{}}))}function GP(){let e=()=>{},t=()=>{};return{promise:new Promise((n,i)=>{e=n,t=i}),resolve:e,reject:t}}const J8=new Map;function oV({fn:e,id:t,shouldSplitBatch:r,wait:n=0,sort:i}){const s=async()=>{const l=c();o();const f=l.map(({args:d})=>d);f.length!==0&&e(f).then(d=>{i&&Array.isArray(d)&&d.sort(i);for(let h=0;h<l.length;h++){const{resolve:g}=l[h];g?.([d[h],d])}}).catch(d=>{for(let h=0;h<l.length;h++){const{reject:g}=l[h];g?.(d)}})},o=()=>J8.delete(t),a=()=>c().map(({args:l})=>l),c=()=>J8.get(t)||[],u=l=>J8.set(t,[...c(),l]);return{flush:o,async schedule(l){const{promise:f,resolve:d,reject:h}=GP();return r?.([...a(),l])&&s(),c().length>0?(u({args:l,resolve:d,reject:h}),f):(u({args:l,resolve:d,reject:h}),setTimeout(s,n),f)}}}function zT(e){if(!(!e||e.length===0))return e.reduce((t,{slot:r,value:n})=>{if(r.length!==66)throw new jT({size:r.length,targetSize:66,type:"hex"});if(n.length!==66)throw new jT({size:n.length,targetSize:66,type:"hex"});return t[r]=n,t},{})}function Lse(e){const{balance:t,nonce:r,state:n,stateDiff:i,code:s}=e,o={};if(s!==void 0&&(o.code=s),t!==void 0&&(o.balance=le(t)),r!==void 0&&(o.nonce=le(r)),n!==void 0&&(o.state=zT(n)),i!==void 0){if(o.state)throw new Fie;o.stateDiff=zT(i)}return o}function D3(e){if(!e)return;const t={};for(const{address:r,...n}of e){if(!kr(r,{strict:!1}))throw new Zn({address:r});if(t[r])throw new zie({address:r});t[r]=Lse(n)}return t}const $3=2n**256n-1n;function Pc(e){const{account:t,maxFeePerGas:r,maxPriorityFeePerGas:n,to:i}=e,s=t?zt(t):void 0;if(s&&!kr(s.address))throw new Zn({address:s.address});if(i&&!kr(i))throw new Zn({address:i});if(r&&r>$3)throw new fd({maxFeePerGas:r});if(n&&r&&n>r)throw new Cm({maxFeePerGas:r,maxPriorityFeePerGas:n})}async function g1(e,t){const{account:r=e.account,authorizationList:n,batch:i=!!e.batch?.multicall,blockNumber:s,blockTag:o=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:l,data:f,factory:d,factoryData:h,gas:g,gasPrice:p,maxFeePerBlobGas:b,maxFeePerGas:w,maxPriorityFeePerGas:y,nonce:v,to:m,value:C,stateOverride:E,..._}=t,P=r?zt(r):void 0;if(l&&(d||h))throw new se("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(l&&m)throw new se("Cannot provide both `code` & `to` as parameters.");const x=l&&f,O=d&&h&&m&&f,D=x||O,R=x?aV({code:l,data:f}):O?zse({data:f,factory:d,factoryData:h,to:m}):f;try{Pc(t);const T=(typeof s=="bigint"?le(s):void 0)||o,S=u?nV(u):void 0,I=D3(E),A=e.chain?.formatters?.transactionRequest?.format,N=(A||Bu)({...Rp(_,{format:A}),accessList:a,account:P,authorizationList:n,blobs:c,data:R,gas:g,gasPrice:p,maxFeePerBlobGas:b,maxFeePerGas:w,maxPriorityFeePerGas:y,nonce:v,to:D?void 0:m,value:C},"call");if(i&&Use({request:N})&&!I&&!S)try{return await qse(e,{...N,blockNumber:s,blockTag:o})}catch(M){if(!(M instanceof DW)&&!(M instanceof RA))throw M}const B=(()=>{const M=[N,T];return I&&S?[...M,I,S]:I?[...M,I]:S?[...M,{},S]:M})(),$=await e.request({method:"eth_call",params:B});return $==="0x"?{data:void 0}:{data:$}}catch(k){const T=Fse(k),{offchainLookup:S,offchainLookupSignature:I}=await re(async()=>{const{offchainLookup:A,offchainLookupSignature:j}=await Promise.resolve().then(()=>oae);return{offchainLookup:A,offchainLookupSignature:j}},void 0);if(e.ccipRead!==!1&&T?.slice(0,10)===I&&m)return{data:await S(e,{data:T,to:m})};throw D&&T?.slice(0,10)==="0x101bb98d"?new Qie({factory:d}):sV(k,{...t,account:P,chain:e.chain})}}function Use({request:e}){const{data:t,to:r,...n}=e;return!(!t||t.startsWith(kse)||!r||Object.values(n).filter(i=>typeof i<"u").length>0)}async function qse(e,t){const{batchSize:r=1024,deployless:n=!1,wait:i=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:o=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(n)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return jp({blockNumber:s,chain:e.chain,contract:"multicall3"});throw new DW})(),f=(typeof s=="bigint"?le(s):void 0)||o,{schedule:d}=oV({id:`${e.uid}.${f}`,wait:i,shouldSplitBatch(p){return p.reduce((w,{data:y})=>w+(y.length-2),0)>r*2},fn:async p=>{const b=p.map(v=>({allowFailure:!0,callData:v.data,target:v.to})),w=Fi({abi:f5,args:[b],functionName:"aggregate3"}),y=await e.request({method:"eth_call",params:[{...u===null?{data:aV({code:WP,data:w})}:{to:u,data:w}},f]});return qd({abi:f5,args:[b],functionName:"aggregate3",data:y||"0x"})}}),[{returnData:h,success:g}]=await d({data:a,to:c});if(!g)throw new B3({data:h});return h==="0x"?{data:void 0}:{data:h}}function aV(e){const{code:t,data:r}=e;return k3({abi:PP(["constructor(bytes, bytes)"]),bytecode:iV,args:[t,r]})}function zse(e){const{data:t,factory:r,factoryData:n,to:i}=e;return k3({abi:PP(["constructor(address, bytes, address, bytes)"]),bytecode:Nse,args:[i,t,r,n]})}function Fse(e){if(!(e instanceof se))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}Es=async function(e,t){const{abi:r,address:n,args:i,functionName:s,...o}=t,a=Fi({abi:r,args:i,functionName:s});try{const{data:c}=await Ie(e,g1,"call")({...o,data:a,to:n});return qd({abi:r,args:i,functionName:s,data:c||"0x"})}catch(c){throw ud(c,{abi:r,address:n,args:i,docsPath:"/docs/contract/readContract",functionName:s})}};async function Hse(e,t){const{blockNumber:r,blockTag:n,coinType:i,name:s,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return jp({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})(),l=c?.ensTlds;if(l&&!l.some(d=>s.endsWith(d)))return null;const f=i!=null?[kA(s),BigInt(i)]:[kA(s)];try{const d=Fi({abi:IT,functionName:"addr",args:f}),h={address:u,abi:bW,functionName:"resolveWithGateways",args:[Gn(zP(s)),d,o??[f1]],blockNumber:r,blockTag:n},p=await Ie(e,Es,"readContract")(h);if(p[0]==="0x")return null;const b=qd({abi:IT,args:f,functionName:"addr",data:p[0]});return b==="0x"||Ui(b)==="0x00"?null:b}catch(d){if(a)throw d;if(qP(d))return null;throw d}}class Wse extends se{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class g0 extends se{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class KP extends se{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Vse extends se{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Gse=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Kse=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Zse=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Yse=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Qse(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(r=>{const n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=e})}}function FT(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function cV({uri:e,gatewayUrls:t}){const r=Zse.test(e);if(r)return{uri:e,isOnChain:!0,isEncoded:r};const n=FT(t?.ipfs,"https://ipfs.io"),i=FT(t?.arweave,"https://arweave.net"),s=e.match(Gse),{protocol:o,subpath:a,target:c,subtarget:u=""}=s?.groups||{},l=o==="ipns:/"||a==="ipns/",f=o==="ipfs:/"||a==="ipfs/"||Kse.test(e);if(e.startsWith("http")&&!l&&!f){let h=e;return t?.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((l||f)&&c)return{uri:`${n}/${l?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${i}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let d=e.replace(Yse,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new KP({uri:e})}function uV(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Wse({data:e});return e.image||e.image_url||e.image_data}async function Jse({gatewayUrls:e,uri:t}){try{const r=await fetch(t).then(i=>i.json());return await ZP({gatewayUrls:e,uri:uV(r)})}catch{throw new KP({uri:t})}}async function ZP({gatewayUrls:e,uri:t}){const{uri:r,isOnChain:n}=cV({uri:t,gatewayUrls:e});if(n||await Qse(r))return r;throw new KP({uri:t})}function Xse(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[r,n,i]=t.split("/"),[s,o]=r.split(":"),[a,c]=n.split(":");if(!s||s.toLowerCase()!=="eip155")throw new g0({reason:"Only EIP-155 supported"});if(!o)throw new g0({reason:"Chain ID not found"});if(!c)throw new g0({reason:"Contract address not found"});if(!i)throw new g0({reason:"Token ID not found"});if(!a)throw new g0({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:i}}async function eoe(e,{nft:t}){if(t.namespace==="erc721")return Es(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return Es(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Vse({namespace:t.namespace})}async function toe(e,{gatewayUrls:t,record:r}){return/eip155:/i.test(r)?roe(e,{gatewayUrls:t,record:r}):ZP({uri:r,gatewayUrls:t})}async function roe(e,{gatewayUrls:t,record:r}){const n=Xse(r),i=await eoe(e,{nft:n}),{uri:s,isOnChain:o,isEncoded:a}=cV({uri:i,gatewayUrls:t});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const u=a?atob(s.replace("data:application/json;base64,","")):s,l=JSON.parse(u);return ZP({uri:uV(l),gatewayUrls:t})}let c=n.tokenID;return n.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Jse({gatewayUrls:t,uri:s.replace(/(?:0x)?{id}/,c)})}async function lV(e,t){const{blockNumber:r,blockTag:n,key:i,name:s,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return jp({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})(),l=c?.ensTlds;if(l&&!l.some(f=>s.endsWith(f)))return null;try{const f={address:u,abi:bW,args:[Gn(zP(s)),Fi({abi:xT,functionName:"text",args:[kA(s),i]}),o??[f1]],functionName:"resolveWithGateways",blockNumber:r,blockTag:n},h=await Ie(e,Es,"readContract")(f);if(h[0]==="0x")return null;const g=qd({abi:xT,functionName:"text",data:h[0]});return g===""?null:g}catch(f){if(a)throw f;if(qP(f))return null;throw f}}async function dV(e,{blockNumber:t,blockTag:r,assetGatewayUrls:n,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const c=await Ie(e,lV,"getEnsText")({blockNumber:t,blockTag:r,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!c)return null;try{return await toe(e,{record:c,gatewayUrls:n})}catch{return null}}async function fV(e,t){const{address:r,blockNumber:n,blockTag:i,coinType:s=60n,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return jp({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})();try{const l={address:u,abi:Dne,args:[r,s,o??[f1]],functionName:"reverseWithGateways",blockNumber:n,blockTag:i},f=Ie(e,Es,"readContract"),[d]=await f(l);return d||null}catch(l){if(a)throw l;if(qP(l))return null;throw l}}async function noe(e,t){const{blockNumber:r,blockTag:n,name:i}=t,{chain:s}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return jp({blockNumber:r,chain:s,contract:"ensUniversalResolver"})})(),a=s?.ensTlds;if(a&&!a.some(u=>i.endsWith(u)))throw new Error(`${i} is not a valid ENS TLD (${a?.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[c]=await Ie(e,Es,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Gn(zP(i))],blockNumber:r,blockTag:n});return c}async function hV(e,t){const{account:r=e.account,blockNumber:n,blockTag:i="latest",blobs:s,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:f,to:d,value:h,...g}=t,p=r?zt(r):void 0;try{Pc(t);const w=(typeof n=="bigint"?le(n):void 0)||i,y=e.chain?.formatters?.transactionRequest?.format,m=(y||Bu)({...Rp(g,{format:y}),account:p,blobs:s,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:f,to:d,value:h},"createAccessList"),C=await e.request({method:"eth_createAccessList",params:[m,w]});return{accessList:C.accessList,gasUsed:BigInt(C.gasUsed)}}catch(b){throw sV(b,{...t,account:p,chain:e.chain})}}function M3(e,{method:t}){const r={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:n,response:i,status:s,transport:o})=>{s==="success"&&t===n&&(r[i]=o.request)}),(n=>r[n]||e.request)}async function ioe(e){const t=M3(e,{method:"eth_newBlockFilter"}),r=await e.request({method:"eth_newBlockFilter"});return{id:r,request:t(r),type:"block"}}class soe extends se{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const HT="/docs/contract/encodeEventTopics";function m1(e){const{abi:t,eventName:r,args:n}=e;let i=t[0];if(r){const c=Ud({abi:t,name:r});if(!c)throw new OT(r,{docsPath:HT});i=c}if(i.type!=="event")throw new OT(void 0,{docsPath:HT});const s=Ao(i),o=T3(s);let a=[];if(n&&"inputs"in i){const c=i.inputs?.filter(l=>"indexed"in l&&l.indexed),u=Array.isArray(n)?n:Object.values(n).length>0?c?.map(l=>n[l.name])??[]:[];u.length>0&&(a=c?.map((l,f)=>Array.isArray(u[f])?u[f].map((d,h)=>WT({param:l,value:u[f][h]})):typeof u[f]<"u"&&u[f]!==null?WT({param:l,value:u[f]}):null)??[])}return[o,...a]}function WT({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return ur(Op(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new soe(e.type);return Ws([e],[t])}async function pV(e,t){const{address:r,abi:n,args:i,eventName:s,fromBlock:o,strict:a,toBlock:c}=t,u=M3(e,{method:"eth_newFilter"}),l=s?m1({abi:n,args:i,eventName:s}):void 0,f=await e.request({method:"eth_newFilter",params:[{address:r,fromBlock:typeof o=="bigint"?le(o):o,toBlock:typeof c=="bigint"?le(c):c,topics:l}]});return{abi:n,args:i,eventName:s,id:f,request:u(f),strict:!!a,type:"event"}}async function gV(e,{address:t,args:r,event:n,events:i,fromBlock:s,strict:o,toBlock:a}={}){const c=i??(n?[n]:void 0),u=M3(e,{method:"eth_newFilter"});let l=[];c&&(l=[c.flatMap(h=>m1({abi:[h],eventName:h.name,args:r}))],n&&(l=l[0]));const f=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof s=="bigint"?le(s):s,toBlock:typeof a=="bigint"?le(a):a,...l.length?{topics:l}:{}}]});return{abi:c,args:r,eventName:n?n.name:void 0,fromBlock:s,id:f,request:u(f),strict:!!o,toBlock:a,type:"event"}}async function mV(e){const t=M3(e,{method:"eth_newPendingTransactionFilter"}),r=await e.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:t(r),type:"transaction"}}function ooe(e){const t=ur(`0x${e.substring(4)}`).substring(26);return a1(`0x${t}`)}async function aoe({hash:e,signature:t}){const r=xo(e)?e:Gn(e),{secp256k1:n}=await re(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>lue);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:l,v:f,yParity:d}=t,h=Number(d??f),g=VT(h);return new n.Signature(Er(u),Er(l)).addRecoveryBit(g)}const o=xo(t)?t:Gn(t);if(lr(o)!==65)throw new Error("invalid signature length");const a=ws(`0x${o.slice(130)}`),c=VT(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function VT(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function bV({hash:e,signature:t}){return ooe(await aoe({hash:e,signature:t}))}function Su(e,t="hex"){const r=yV(e),n=kP(new Uint8Array(r.length));return r.encode(n),t==="hex"?zr(n.bytes):n.bytes}function yV(e){return Array.isArray(e)?coe(e.map(t=>yV(t))):uoe(e)}function coe(e){const t=e.reduce((i,s)=>i+s.length,0),r=wV(t);return{length:t<=55?1+t:1+r+t,encode(i){t<=55?i.pushByte(192+t):(i.pushByte(247+r),r===1?i.pushUint8(t):r===2?i.pushUint16(t):r===3?i.pushUint24(t):i.pushUint32(t));for(const{encode:s}of e)s(i)}}}function uoe(e){const t=typeof e=="string"?Vs(e):e,r=wV(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+r+t.length,encode(i){t.length===1&&t[0]<128?i.pushBytes(t):t.length<=55?(i.pushByte(128+t.length),i.pushBytes(t)):(i.pushByte(183+r),r===1?i.pushUint8(t.length):r===2?i.pushUint16(t.length):r===3?i.pushUint24(t.length):i.pushUint32(t.length),i.pushBytes(t))}}}function wV(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new se("Length is too large.")}function loe(e){const{chainId:t,nonce:r,to:n}=e,i=e.contractAddress??e.address,s=ur(zi(["0x05",Su([t?le(t):"0x",i,r?le(r):"0x"])]));return n==="bytes"?Vs(s):s}async function L3(e){const{authorization:t,signature:r}=e;return bV({hash:loe(t),signature:r??t})}class doe extends se{constructor(t,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:f,value:d}){const h=Bp({from:r?.address,to:f,value:typeof d<"u"&&`${UP(d)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Kn(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Kn(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Kn(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:n,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function foe(e,{docsPath:t,...r}){const n=(()=>{const i=N3(e,r);return i instanceof p1?e:i})();return new doe(n,{docsPath:t,...r})}class vV extends se{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class YP extends se{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class hoe extends se{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Kn(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class EV extends se{constructor({blockHash:t,blockNumber:r}){let n="Block";t&&(n=`Block at hash "${t}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}const _V={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function b1(e,t){const r={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?ws(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?ws(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?_V[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(r.authorizationList=goe(e.authorizationList)),r.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof r.v=="bigint"){if(r.v===0n||r.v===27n)return 0;if(r.v===1n||r.v===28n)return 1;if(r.v>=35n)return r.v%2n===0n?1:0}})(),r.type==="legacy"&&(delete r.accessList,delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.yParity),r.type==="eip2930"&&(delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas),r.type==="eip1559"&&delete r.maxFeePerBlobGas,r}const poe=VP("transaction",b1);function goe(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function QP(e,t){const r=(e.transactions??[]).map(n=>typeof n=="string"?n:b1(n));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:r,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const moe=VP("block",QP);async function vo(e,{blockHash:t,blockNumber:r,blockTag:n=e.experimental_blockTag??"latest",includeTransactions:i}={}){const s=i??!1,o=r!==void 0?le(r):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,s]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[o||n,s]},{dedupe:!!o}),!a)throw new EV({blockHash:t,blockNumber:r});return(e.chain?.formatters?.block?.format||QP)(a,"getBlock")}async function JP(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function boe(e,t){return CV(e,t)}async function CV(e,t){const{block:r,chain:n=e.chain,request:i}=t||{};try{const s=n?.fees?.maxPriorityFeePerGas??n?.fees?.defaultPriorityFee;if(typeof s=="function"){const a=r||await Ie(e,vo,"getBlock")({}),c=await s({block:a,client:e,request:i});if(c===null)throw new Error;return c}if(typeof s<"u")return s;const o=await e.request({method:"eth_maxPriorityFeePerGas"});return Er(o)}catch{const[s,o]=await Promise.all([r?Promise.resolve(r):Ie(e,vo,"getBlock")({}),Ie(e,JP,"getGasPrice")({})]);if(typeof s.baseFeePerGas!="bigint")throw new YP;const a=o-s.baseFeePerGas;return a<0n?0n:a}}async function AV(e,t){return FA(e,t)}async function FA(e,t){const{block:r,chain:n=e.chain,request:i,type:s="eip1559"}=t||{},o=await (async()=>typeof n?.fees?.baseFeeMultiplier=="function"?n.fees.baseFeeMultiplier({block:r,client:e,request:i}):n?.fees?.baseFeeMultiplier??1.2)();if(o<1)throw new vV;const c=10**(o.toString().split(".")[1]?.length??0),u=d=>d*BigInt(Math.ceil(o*c))/BigInt(c),l=r||await Ie(e,vo,"getBlock")({});if(typeof n?.fees?.estimateFeesPerGas=="function"){const d=await n.fees.estimateFeesPerGas({block:r,client:e,multiply:u,request:i,type:s});if(d!==null)return d}if(s==="eip1559"){if(typeof l.baseFeePerGas!="bigint")throw new YP;const d=typeof i?.maxPriorityFeePerGas=="bigint"?i.maxPriorityFeePerGas:await CV(e,{block:l,chain:n,request:i}),h=u(l.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??h+d,maxPriorityFeePerGas:d}}return{gasPrice:i?.gasPrice??u(await Ie(e,JP,"getGasPrice")({}))}}async function XP(e,{address:t,blockTag:r="latest",blockNumber:n}){const i=await e.request({method:"eth_getTransactionCount",params:[t,typeof n=="bigint"?le(n):r]},{dedupe:!!n});return ws(i)}function e9(e){const{kzg:t}=e,r=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(s=>Vs(s)):e.blobs,i=[];for(const s of n)i.push(Uint8Array.from(t.blobToKzgCommitment(s)));return r==="bytes"?i:i.map(s=>zr(s))}function t9(e){const{kzg:t}=e,r=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(o=>Vs(o)):e.blobs,i=typeof e.commitments[0]=="string"?e.commitments.map(o=>Vs(o)):e.commitments,s=[];for(let o=0;o<n.length;o++){const a=n[o],c=i[o];s.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return r==="bytes"?s:s.map(o=>zr(o))}function yoe(e,t){return fne(xo(e,{strict:!1})?Op(e):e)}function woe(e){const{commitment:t,version:r=1}=e,n=e.to??(typeof t=="string"?"hex":"bytes"),i=yoe(t);return i.set([r],0),n==="bytes"?i:zr(i)}function xV(e){const{commitments:t,version:r}=e,n=e.to??(typeof t[0]=="string"?"hex":"bytes"),i=[];for(const s of t)i.push(woe({commitment:s,to:n,version:r}));return i}const GT=6,IV=32,r9=4096,PV=IV*r9,KT=PV*GT-1-1*r9*GT,SV=1;class voe extends se{constructor({maxSize:t,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}}class TV extends se{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Eoe extends se{constructor({hash:t,size:r}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${r}`],name:"InvalidVersionedHashSizeError"})}}class _oe extends se{constructor({hash:t,version:r}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${SV}`,`Received: ${r}`],name:"InvalidVersionedHashVersionError"})}}function Coe(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),r=typeof e.data=="string"?Vs(e.data):e.data,n=lr(r);if(!n)throw new TV;if(n>KT)throw new voe({maxSize:KT,size:n});const i=[];let s=!0,o=0;for(;s;){const a=kP(new Uint8Array(PV));let c=0;for(;c<r9;){const u=r.slice(o,o+(IV-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),s=!1;break}c++,o+=31}i.push(a)}return t==="bytes"?i.map(a=>a.bytes):i.map(a=>zr(a.bytes))}function OV(e){const{data:t,kzg:r,to:n}=e,i=e.blobs??Coe({data:t,to:n}),s=e.commitments??e9({blobs:i,kzg:r,to:n}),o=e.proofs??t9({blobs:i,commitments:s,kzg:r,to:n}),a=[];for(let c=0;c<i.length;c++)a.push({blob:i[c],commitment:s[c],proof:o[c]});return a}function jV(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Vie({transaction:e})}function U3(e,{docsPath:t,...r}){const n=(()=>{const i=N3(e,r);return i instanceof p1?e:i})();return new Kie(n,{docsPath:t,...r})}async function wa(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return ws(t)}async function n9(e,t){const{account:r=e.account,accessList:n,authorizationList:i,chain:s=e.chain,blobVersionedHashes:o,blobs:a,data:c,gas:u,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:g,nonceManager:p,to:b,type:w,value:y,...v}=t,m=await (async()=>{if(!r||!p||typeof g<"u")return g;const P=zt(r),x=s?s.id:await Ie(e,wa,"getChainId")({});return await p.consume({address:P.address,chainId:x,client:e})})();Pc(t);const C=s?.formatters?.transactionRequest?.format,_=(C||Bu)({...Rp(v,{format:C}),account:r?zt(r):void 0,accessList:n,authorizationList:i,blobs:a,blobVersionedHashes:o,data:c,gas:u,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:m,to:b,type:w,value:y},"fillTransaction");try{const P=await e.request({method:"eth_fillTransaction",params:[_]}),O=(s?.formatters?.transaction?.format||b1)(P.tx);delete O.blockHash,delete O.blockNumber,delete O.r,delete O.s,delete O.transactionIndex,delete O.v,delete O.yParity,O.data=O.input,O.gas&&(O.gas=t.gas??O.gas),O.gasPrice&&(O.gasPrice=t.gasPrice??O.gasPrice),O.maxFeePerBlobGas&&(O.maxFeePerBlobGas=t.maxFeePerBlobGas??O.maxFeePerBlobGas),O.maxFeePerGas&&(O.maxFeePerGas=t.maxFeePerGas??O.maxFeePerGas),O.maxPriorityFeePerGas&&(O.maxPriorityFeePerGas=t.maxPriorityFeePerGas??O.maxPriorityFeePerGas),O.nonce&&(O.nonce=t.nonce??O.nonce);const D=await (async()=>{if(typeof s?.fees?.baseFeeMultiplier=="function"){const S=await Ie(e,vo,"getBlock")({});return s.fees.baseFeeMultiplier({block:S,client:e,request:t})}return s?.fees?.baseFeeMultiplier??1.2})();if(D<1)throw new vV;const k=10**(D.toString().split(".")[1]?.length??0),T=S=>S*BigInt(Math.ceil(D*k))/BigInt(k);return O.maxFeePerGas&&!t.maxFeePerGas&&(O.maxFeePerGas=T(O.maxFeePerGas)),O.gasPrice&&!t.gasPrice&&(O.gasPrice=T(O.gasPrice)),{raw:P.raw,transaction:{from:_.from,...O}}}catch(P){throw U3(P,{...t,chain:e.chain})}}const i9=["blobVersionedHashes","chainId","fees","gas","nonce","type"],ZT=new Map,X8=new Ld(128);async function y1(e,t){let r=t;r.account??=e.account,r.parameters??=i9;const{account:n,chain:i=e.chain,nonceManager:s,parameters:o}=r,a=(()=>{if(typeof i?.prepareTransactionRequest=="function")return{fn:i.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(i?.prepareTransactionRequest))return{fn:i.prepareTransactionRequest[0],runAt:i.prepareTransactionRequest[1].runAt}})();let c;async function u(){return c||(typeof r.chainId<"u"?r.chainId:i?i.id:(c=await Ie(e,wa,"getChainId")({}),c))}const l=n&&zt(n);let f=r.nonce;if(o.includes("nonce")&&typeof f>"u"&&l&&s){const m=await u();f=await s.consume({address:l.address,chainId:m,client:e})}a?.fn&&a.runAt?.includes("beforeFillTransaction")&&(r=await a.fn({...r,chain:i},{phase:"beforeFillTransaction"}),f??=r.nonce);const h=((o.includes("blobVersionedHashes")||o.includes("sidecars"))&&r.kzg&&r.blobs||X8.get(e.uid)===!1||!["fees","gas"].some(C=>o.includes(C))?!1:!!(o.includes("chainId")&&typeof r.chainId!="number"||o.includes("nonce")&&typeof f!="number"||o.includes("fees")&&typeof r.gasPrice!="bigint"&&(typeof r.maxFeePerGas!="bigint"||typeof r.maxPriorityFeePerGas!="bigint")||o.includes("gas")&&typeof r.gas!="bigint"))?await Ie(e,n9,"fillTransaction")({...r,nonce:f}).then(m=>{const{chainId:C,from:E,gas:_,gasPrice:P,nonce:x,maxFeePerBlobGas:O,maxFeePerGas:D,maxPriorityFeePerGas:R,type:k,...T}=m.transaction;return X8.set(e.uid,!0),{...r,...E?{from:E}:{},...k?{type:k}:{},...typeof C<"u"?{chainId:C}:{},...typeof _<"u"?{gas:_}:{},...typeof P<"u"?{gasPrice:P}:{},...typeof x<"u"?{nonce:x}:{},...typeof O<"u"?{maxFeePerBlobGas:O}:{},...typeof D<"u"?{maxFeePerGas:D}:{},...typeof R<"u"?{maxPriorityFeePerGas:R}:{},..."nonceKey"in T&&typeof T.nonceKey<"u"?{nonceKey:T.nonceKey}:{}}}).catch(m=>{const C=m;return C.name!=="TransactionExecutionError"||C.walk?.(_=>{const P=_;return P.name==="MethodNotFoundRpcError"||P.name==="MethodNotSupportedRpcError"})&&X8.set(e.uid,!1),r}):r;f??=h.nonce,r={...h,...l?{from:l?.address}:{},...f?{nonce:f}:{}};const{blobs:g,gas:p,kzg:b,type:w}=r;a?.fn&&a.runAt?.includes("beforeFillParameters")&&(r=await a.fn({...r,chain:i},{phase:"beforeFillParameters"}));let y;async function v(){return y||(y=await Ie(e,vo,"getBlock")({blockTag:"latest"}),y)}if(o.includes("nonce")&&typeof f>"u"&&l&&!s&&(r.nonce=await Ie(e,XP,"getTransactionCount")({address:l.address,blockTag:"pending"})),(o.includes("blobVersionedHashes")||o.includes("sidecars"))&&g&&b){const m=e9({blobs:g,kzg:b});if(o.includes("blobVersionedHashes")){const C=xV({commitments:m,to:"hex"});r.blobVersionedHashes=C}if(o.includes("sidecars")){const C=t9({blobs:g,commitments:m,kzg:b}),E=OV({blobs:g,commitments:m,proofs:C,to:"hex"});r.sidecars=E}}if(o.includes("chainId")&&(r.chainId=await u()),(o.includes("fees")||o.includes("type"))&&typeof w>"u")try{r.type=jV(r)}catch{let m=ZT.get(e.uid);typeof m>"u"&&(m=typeof(await v())?.baseFeePerGas=="bigint",ZT.set(e.uid,m)),r.type=m?"eip1559":"legacy"}if(o.includes("fees"))if(r.type!=="legacy"&&r.type!=="eip2930"){if(typeof r.maxFeePerGas>"u"||typeof r.maxPriorityFeePerGas>"u"){const m=await v(),{maxFeePerGas:C,maxPriorityFeePerGas:E}=await FA(e,{block:m,chain:i,request:r});if(typeof r.maxPriorityFeePerGas>"u"&&r.maxFeePerGas&&r.maxFeePerGas<E)throw new hoe({maxPriorityFeePerGas:E});r.maxPriorityFeePerGas=E,r.maxFeePerGas=C}}else{if(typeof r.maxFeePerGas<"u"||typeof r.maxPriorityFeePerGas<"u")throw new YP;if(typeof r.gasPrice>"u"){const m=await v(),{gasPrice:C}=await FA(e,{block:m,chain:i,request:r,type:"legacy"});r.gasPrice=C}}return o.includes("gas")&&typeof p>"u"&&(r.gas=await Ie(e,s9,"estimateGas")({...r,account:l,prepare:l?.type==="local"?[]:["blobVersionedHashes"]})),a?.fn&&a.runAt?.includes("afterFillParameters")&&(r=await a.fn({...r,chain:i},{phase:"afterFillParameters"})),Pc(r),delete r.parameters,r}async function s9(e,t){const{account:r=e.account,prepare:n=!0}=t,i=r?zt(r):void 0,s=(()=>{if(Array.isArray(n))return n;if(i?.type!=="local")return["blobVersionedHashes"]})();try{const o=await (async()=>{if(t.to)return t.to;if(t.authorizationList&&t.authorizationList.length>0)return await L3({authorization:t.authorizationList[0]}).catch(()=>{throw new se("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:l,blockNumber:f,blockTag:d,data:h,gas:g,gasPrice:p,maxFeePerBlobGas:b,maxFeePerGas:w,maxPriorityFeePerGas:y,nonce:v,value:m,stateOverride:C,...E}=n?await y1(e,{...t,parameters:s,to:o}):t;if(g&&t.gas!==g)return g;const P=(typeof f=="bigint"?le(f):void 0)||d,x=D3(C);Pc(t);const O=e.chain?.formatters?.transactionRequest?.format,R=(O||Bu)({...Rp(E,{format:O}),account:i,accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:l,data:h,gasPrice:p,maxFeePerBlobGas:b,maxFeePerGas:w,maxPriorityFeePerGas:y,nonce:v,to:o,value:m},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:x?[R,P??e.experimental_blockTag??"latest",x]:P?[R,P]:[R]}))}catch(o){throw foe(o,{...t,account:i,chain:e.chain})}}async function Aoe(e,t){const{abi:r,address:n,args:i,functionName:s,dataSuffix:o,...a}=t,c=Fi({abi:r,args:i,functionName:s});try{return await Ie(e,s9,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:n,...a})}catch(u){const l=a.account?zt(a.account):void 0;throw ud(u,{abi:r,address:n,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:l?.address})}}async function BV(e,{address:t,blockNumber:r,blockTag:n=e.experimental_blockTag??"latest"}){const i=typeof r=="bigint"?le(r):void 0,s=await e.request({method:"eth_getBalance",params:[t,i||n]});return BigInt(s)}async function xoe(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}const Ioe=new Map,Poe=new Map;function Soe(e){const t=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),r=t(e,Ioe),n=t(e,Poe);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function Toe(e,{cacheKey:t,cacheTime:r=Number.POSITIVE_INFINITY}){const n=Soe(t),i=n.response.get();if(i&&r>0&&Date.now()-i.created.getTime()<r)return i.data;let s=n.promise.get();s||(s=e(),n.promise.set(s));try{const o=await s;return n.response.set({created:new Date,data:o}),o}finally{n.promise.clear()}}const Ooe=e=>`blockNumber.${e}`;async function w1(e,{cacheTime:t=e.cacheTime}={}){const r=await Toe(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Ooe(e.uid),cacheTime:t});return BigInt(r)}async function joe(e,{blockHash:t,blockNumber:r,blockTag:n="latest"}={}){const i=r!==void 0?le(r):void 0;let s;return t?s=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):s=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[i||n]},{dedupe:!!i}),ws(s)}g5=async function(e,{address:t,blockNumber:r,blockTag:n="latest"}){const i=r!==void 0?le(r):void 0,s=await e.request({method:"eth_getCode",params:[t,i||n]},{dedupe:!!i});if(s!=="0x")return s};kp=function(e,t){if(!kr(e,{strict:!1}))throw new Zn({address:e});if(!kr(t,{strict:!1}))throw new Zn({address:t});return e.toLowerCase()===t.toLowerCase()};const YT="/docs/contract/decodeEventLog";function m5(e){const{abi:t,data:r,strict:n,topics:i}=e,s=n??!0,[o,...a]=i;if(!o)throw new zne({docsPath:YT});const c=t.find(w=>w.type==="event"&&o===T3(Ao(w)));if(!(c&&"name"in c)||c.type!=="event")throw new Fne(o,{docsPath:YT});const{name:u,inputs:l}=c,f=l?.some(w=>!("name"in w&&w.name)),d=f?[]:{},h=l.map((w,y)=>[w,y]).filter(([w])=>"indexed"in w&&w.indexed),g=[];for(let w=0;w<h.length;w++){const[y,v]=h[w],m=a[w];if(!m){if(s)throw new jP({abiItem:c,param:y});g.push([y,v]);continue}d[f?v:y.name||v]=Boe({param:y,value:m})}const p=l.filter(w=>!("indexed"in w&&w.indexed)),b=s?p:[...g.map(([w])=>w),...p];if(b.length>0){if(r&&r!=="0x")try{const w=c1(b,r);if(w){let y=0;if(!s)for(const[v,m]of g)d[f?m:v.name||m]=w[y++];if(f)for(let v=0;v<l.length;v++)d[v]===void 0&&y<w.length&&(d[v]=w[y++]);else for(let v=0;v<p.length;v++)d[p[v].name]=w[y++]}}catch(w){if(s)throw w instanceof EW||w instanceof TW?new h5({abiItem:c,data:r,params:b,size:lr(r)}):w}else if(s)throw new h5({abiItem:c,data:"0x",params:b,size:0})}return{eventName:u,args:Object.values(d).length>0?d:void 0}}function Boe({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(c1([e],t)||[])[0]}function o9(e){const{abi:t,args:r,logs:n,strict:i=!0}=e,s=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return n.map(o=>{const a=t.filter(l=>l.type==="event"&&o.topics[0]===T3(l));if(a.length===0)return null;let c,u;for(const l of a)try{c=m5({...o,abi:[l],strict:!0}),u=l;break}catch{}if(!c&&!i){u=a[0];try{c=m5({...o,abi:[u],strict:!1})}catch{const l=u.inputs?.some(f=>!("name"in f&&f.name));return{...o,args:l?[]:{},eventName:u.name}}}return!c||!u||s&&!s.includes(c.eventName)||!Roe({args:c.args,inputs:u.inputs,matchArgs:r})?null:{...c,...o}}).filter(Boolean)}function Roe(e){const{args:t,inputs:r,matchArgs:n}=e;if(!n)return!0;if(!t)return!1;function i(s,o,a){try{return s.type==="address"?kp(o,a):s.type==="string"||s.type==="bytes"?ur(Op(o))===a:o===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(n)?n.every((s,o)=>{if(s==null)return!0;const a=r[o];return a?(Array.isArray(s)?s:[s]).some(u=>i(a,u,t[o])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof n=="object"&&!Array.isArray(n)?Object.entries(n).every(([s,o])=>{if(o==null)return!0;const a=r.find(u=>u.name===s);return a?(Array.isArray(o)?o:[o]).some(u=>i(a,u,t[s])):!1}):!1}function da(e,{args:t,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,blockTimestamp:e.blockTimestamp?BigInt(e.blockTimestamp):e.blockTimestamp===null?null:void 0,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:t,eventName:r}:{}}}async function a9(e,{address:t,blockHash:r,fromBlock:n,toBlock:i,event:s,events:o,args:a,strict:c}={}){const u=c??!1,l=o??(s?[s]:void 0);let f=[];l&&(f=[l.flatMap(p=>m1({abi:[p],eventName:p.name,args:o?void 0:a}))],s&&(f=f[0]));let d;r?d=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,blockHash:r}]}):d=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,fromBlock:typeof n=="bigint"?le(n):n,toBlock:typeof i=="bigint"?le(i):i}]});const h=d.map(g=>da(g));return l?o9({abi:l,args:a,logs:h,strict:u}):h}async function RV(e,t){const{abi:r,address:n,args:i,blockHash:s,eventName:o,fromBlock:a,toBlock:c,strict:u}=t,l=o?Ud({abi:r,name:o}):void 0,f=l?void 0:r.filter(d=>d.type==="event");return Ie(e,a9,"getLogs")({address:n,args:i,blockHash:s,event:l,events:f,fromBlock:a,toBlock:c,strict:u})}class koe extends se{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Noe(e,t){const{address:r,factory:n,factoryData:i}=t;try{const[s,o,a,c,u,l,f]=await Ie(e,Es,"readContract")({abi:Doe,address:r,functionName:"eip712Domain",factory:n,factoryData:i});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:u,salt:l},extensions:f,fields:s}}catch(s){const o=s;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new koe({address:r}):o}}const Doe=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function $oe(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(r=>BigInt(r)))}}async function Moe(e,{blockCount:t,blockNumber:r,blockTag:n="latest",rewardPercentiles:i}){const s=typeof r=="bigint"?le(r):void 0,o=await e.request({method:"eth_feeHistory",params:[le(t),s||n,i]},{dedupe:!!s});return $oe(o)}async function q3(e,{filter:t}){const r="strict"in t&&t.strict,n=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof n[0]=="string")return n;const i=n.map(s=>da(s));return!("abi"in t)||!t.abi?i:o9({abi:t.abi,logs:i,strict:r})}async function Loe(e,{filter:t}){const r=t.strict??!1,i=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(s=>da(s));return t.abi?o9({abi:t.abi,logs:i,strict:r}):i}vWe=function(e,t){if(e.length!==t.length)throw new _W({expectedLength:e.length,givenLength:t.length});const r=[];for(let n=0;n<e.length;n++){const i=e[n],s=t[n];r.push(kV(i,s))}return zi(r)};function kV(e,t,r=!1){if(e==="address"){const o=t;if(!kr(o))throw new Zn({address:o});return Qr(o.toLowerCase(),{size:r?32:null})}if(e==="string")return od(t);if(e==="bytes")return t;if(e==="bool")return Qr(RP(t),{size:r?32:1});const n=e.match(NP);if(n){const[o,a,c="256"]=n,u=Number.parseInt(c,10)/8;return le(t,{size:r?32:u,signed:a==="int"})}const i=e.match(RW);if(i){const[o,a]=i;if(Number.parseInt(a,10)!==(t.length-2)/2)throw new xW({expectedSize:Number.parseInt(a,10),givenSize:(t.length-2)/2});return Qr(t,{dir:"right",size:r?32:null})}const s=e.match(pie);if(s&&Array.isArray(t)){const[o,a]=s,c=[];for(let u=0;u<t.length;u++)c.push(kV(a,t[u],!0));return c.length===0?"0x":zi(c)}throw new Zne(e)}function Uoe(e){const{authorizationList:t}=e;if(t)for(const r of t){const{chainId:n}=r,i=r.address;if(!kr(i))throw new Zn({address:i});if(n<0)throw new O3({chainId:n})}c9(e)}function qoe(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new TV;for(const r of t){const n=lr(r),i=ws(ad(r,0,1));if(n!==32)throw new Eoe({hash:r,size:n});if(i!==SV)throw new _oe({hash:r,version:i})}}c9(e)}function c9(e){const{chainId:t,maxPriorityFeePerGas:r,maxFeePerGas:n,to:i}=e;if(t<=0)throw new O3({chainId:t});if(i&&!kr(i))throw new Zn({address:i});if(n&&n>$3)throw new fd({maxFeePerGas:n});if(r&&n&&r>n)throw new Cm({maxFeePerGas:n,maxPriorityFeePerGas:r})}function zoe(e){const{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:s}=e;if(t<=0)throw new O3({chainId:t});if(s&&!kr(s))throw new Zn({address:s});if(r||i)throw new se("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>$3)throw new fd({maxFeePerGas:n})}function Foe(e){const{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:s}=e;if(s&&!kr(s))throw new Zn({address:s});if(typeof t<"u"&&t<=0)throw new O3({chainId:t});if(r||i)throw new se("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>$3)throw new fd({maxFeePerGas:n})}function z3(e){if(!e||e.length===0)return[];const t=[];for(let r=0;r<e.length;r++){const{address:n,storageKeys:i}=e[r];for(let s=0;s<i.length;s++)if(i[s].length-2!==64)throw new Gie({storageKey:i[s]});if(!kr(n,{strict:!1}))throw new Zn({address:n});t.push([n,i])}return t}function Hoe(e,t){const r=jV(e);return r==="eip1559"?Goe(e,t):r==="eip2930"?Koe(e,t):r==="eip4844"?Voe(e,t):r==="eip7702"?Woe(e,t):Zoe(e,t)}function Woe(e,t){const{authorizationList:r,chainId:n,gas:i,nonce:s,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:f}=e;Uoe(e);const d=z3(l),h=Yoe(r);return zi(["0x04",Su([le(n),s?le(s):"0x",u?le(u):"0x",c?le(c):"0x",i?le(i):"0x",o??"0x",a?le(a):"0x",f??"0x",d,h,...v1(e,t)])])}function Voe(e,t){const{chainId:r,gas:n,nonce:i,to:s,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:f}=e;qoe(e);let d=e.blobVersionedHashes,h=e.sidecars;if(e.blobs&&(typeof d>"u"||typeof h>"u")){const v=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(E=>zr(E)),m=e.kzg,C=e9({blobs:v,kzg:m});if(typeof d>"u"&&(d=xV({commitments:C})),typeof h>"u"){const E=t9({blobs:v,commitments:C,kzg:m});h=OV({blobs:v,commitments:C,proofs:E})}}const g=z3(l),p=[le(r),i?le(i):"0x",u?le(u):"0x",c?le(c):"0x",n?le(n):"0x",s??"0x",o?le(o):"0x",f??"0x",g,a?le(a):"0x",d??[],...v1(e,t)],b=[],w=[],y=[];if(h)for(let v=0;v<h.length;v++){const{blob:m,commitment:C,proof:E}=h[v];b.push(m),w.push(C),y.push(E)}return zi(["0x03",Su(h?[p,b,w,y]:p)])}function Goe(e,t){const{chainId:r,gas:n,nonce:i,to:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:l}=e;c9(e);const f=z3(u),d=[le(r),i?le(i):"0x",c?le(c):"0x",a?le(a):"0x",n?le(n):"0x",s??"0x",o?le(o):"0x",l??"0x",f,...v1(e,t)];return zi(["0x02",Su(d)])}function Koe(e,t){const{chainId:r,gas:n,data:i,nonce:s,to:o,value:a,accessList:c,gasPrice:u}=e;zoe(e);const l=z3(c),f=[le(r),s?le(s):"0x",u?le(u):"0x",n?le(n):"0x",o??"0x",a?le(a):"0x",i??"0x",l,...v1(e,t)];return zi(["0x01",Su(f)])}function Zoe(e,t){const{chainId:r=0,gas:n,data:i,nonce:s,to:o,value:a,gasPrice:c}=e;Foe(e);let u=[s?le(s):"0x",c?le(c):"0x",n?le(n):"0x",o??"0x",a?le(a):"0x",i??"0x"];if(t){const l=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(r>0)return BigInt(r*2)+BigInt(35n+t.v-27n);const h=27n+(t.v===27n?0n:1n);if(t.v!==h)throw new Wie({v:t.v});return h})(),f=Ui(t.r),d=Ui(t.s);u=[...u,le(l),f==="0x00"?"0x":f,d==="0x00"?"0x":d]}else r>0&&(u=[...u,le(r),"0x","0x"]);return Su(u)}function v1(e,t){const r=t??e,{v:n,yParity:i}=r;if(typeof r.r>"u")return[];if(typeof r.s>"u")return[];if(typeof n>"u"&&typeof i>"u")return[];const s=Ui(r.r),o=Ui(r.s);return[typeof i=="number"?i?le(1):"0x":n===0n?"0x":n===1n?le(1):n===27n?"0x":le(1),s==="0x00"?"0x":s,o==="0x00"?"0x":o]}function Yoe(e){if(!e||e.length===0)return[];const t=[];for(const r of e){const{chainId:n,nonce:i,...s}=r,o=r.address;t.push([n?Gn(n):"0x",o,i?Gn(i):"0x",...v1({},s)])}return t}async function Qoe({address:e,authorization:t,signature:r}){return kp(mn(e),await L3({authorization:t,signature:r}))}const qb=new Ld(8192);function Joe(e,{enabled:t=!0,id:r}){if(!t||!r)return e();if(qb.get(r))return qb.get(r);const n=e().finally(()=>qb.delete(r));return qb.set(r,n),n}async function b5(e){return new Promise(t=>setTimeout(t,e))}function hd(e,{delay:t=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const l=typeof t=="function"?t({count:a,error:u}):t;l&&await b5(l),o({count:a+1})};try{const u=await e();i(u)}catch(u){if(a<r&&await n({count:a,error:u}))return c({error:u});s(u)}};o()})}function Xoe(e,t={}){return async(r,n={})=>{const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...t,...n},{method:u}=r;if(s?.exclude?.includes(u))throw new Ll(new Error("method not supported"),{method:u});if(s?.include&&!s.include.includes(u))throw new Ll(new Error("method not supported"),{method:u});const l=i?od(`${c}.${_r(r)}`):void 0;return Joe(()=>hd(async()=>{try{return await e(r)}catch(f){const d=f;switch(d.code){case cm.code:throw new cm(d);case um.code:throw new um(d);case lm.code:throw new lm(d,{method:r.method});case dm.code:throw new dm(d);case cd.code:throw new cd(d);case Pu.code:throw new Pu(d);case fm.code:throw new fm(d);case sa.code:throw new sa(d);case Hh.code:throw new Hh(d);case Ll.code:throw new Ll(d,{method:r.method});case Wh.code:throw new Wh(d);case hm.code:throw new hm(d);case St.code:throw new St(d);case pm.code:throw new pm(d);case gm.code:throw new gm(d);case mm.code:throw new mm(d);case bm.code:throw new bm(d);case ys.code:throw new ys(d);case Vh.code:throw new Vh(d);case ym.code:throw new ym(d);case wm.code:throw new wm(d);case vm.code:throw new vm(d);case Em.code:throw new Em(d);case _m.code:throw new _m(d);case Gh.code:throw new Gh(d);case 5e3:throw new St(d);default:throw f instanceof se?f:new ise(d)}}},{delay:({count:f,error:d})=>{if(d&&d instanceof Yl){const h=d?.headers?.get("Retry-After");if(h?.match(/\d/))return Number.parseInt(h,10)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>eae(f)}),{enabled:i,id:l})}}function eae(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Wh.code||e.code===cd.code:e instanceof Yl&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}class tae extends se{constructor({callbackSelector:t,cause:r,data:n,extraData:i,sender:s,urls:o}){super(r.shortMessage||"An error occurred while fetching for an offchain result.",{cause:r,metaMessages:[...r.metaMessages||[],r.metaMessages?.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(a=>`    ${d1(a)}`)],`  Sender: ${s}`,`  Data: ${n}`,`  Callback selector: ${t}`,`  Extra data: ${i}`].flat(),name:"OffchainLookupError"})}}class rae extends se{constructor({result:t,url:r}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${d1(r)}`,`Response: ${_r(t)}`],name:"OffchainLookupResponseMalformedError"})}}class nae extends se{constructor({sender:t,to:r}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${r}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const iae="0x556f1830",NV={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function sae(e,{blockNumber:t,blockTag:r,data:n,to:i}){const{args:s}=LP({data:n,abi:[NV]}),[o,a,c,u,l]=s,{ccipRead:f}=e,d=f&&typeof f?.request=="function"?f.request:DV;try{if(!kp(i,o))throw new nae({sender:o,to:i});const h=a.includes(f1)?await HW({data:c,ccipRequest:d}):await d({data:c,sender:o,urls:a}),{data:g}=await g1(e,{blockNumber:t,blockTag:r,data:Jr([u,Ws([{type:"bytes"},{type:"bytes"}],[h,l])]),to:i});return g}catch(h){throw new tae({callbackSelector:u,cause:h,data:n,extraData:l,sender:o,urls:a})}}async function DV({data:e,sender:t,urls:r}){let n=new Error("An unknown error occurred.");for(let i=0;i<r.length;i++){const s=r[i],o=s.includes("{data}")?"GET":"POST",a=o==="POST"?{data:e,sender:t}:void 0,c=o==="POST"?{"Content-Type":"application/json"}:{};try{const u=await fetch(s.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(a),headers:c,method:o});let l;if(u.headers.get("Content-Type")?.startsWith("application/json")?l=(await u.json()).data:l=await u.text(),!u.ok){n=new Yl({body:a,details:l?.error?_r(l.error):u.statusText,headers:u.headers,status:u.status,url:s});continue}if(!xo(l)){n=new rae({result:l,url:s});continue}return l}catch(u){n=new Yl({body:a,details:u.message,url:s})}}throw n}const oae=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:DV,offchainLookup:sae,offchainLookupAbiItem:NV,offchainLookupSignature:iae},Symbol.toStringTag,{value:"Module"}));function u9({chain:e,currentChainId:t}){if(!e)throw new Die;if(t!==e.id)throw new Nie({chain:e,currentChainId:t})}Qn=function(e){const t={formatters:void 0,fees:void 0,serializers:void 0,...e};function r(n){return i=>{const s=typeof i=="function"?i(n):i,o={...n,...s};return Object.assign(o,{extend:r(o)})}}return Object.assign(t,{extend:r(t)})};const $V={"0x0":"reverted","0x1":"success"};function F3(e,t){const r={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>da(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?ws(e.transactionIndex):null,status:e.status?$V[e.status]:null,type:e.type?_V[e.type]||e.type:null};return e.blobGasPrice&&(r.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(r.blobGasUsed=BigInt(e.blobGasUsed)),r}const aae=VP("transactionReceipt",F3);function cae(e){const{source:t}=e,r=new Map,n=new Ld(8192),i=new Map,s=({address:o,chainId:a})=>`${o}.${a}`;return{async consume({address:o,chainId:a,client:c}){const u=s({address:o,chainId:a}),l=this.get({address:o,chainId:a,client:c});this.increment({address:o,chainId:a});const f=await l;return await t.set({address:o,chainId:a},f),n.set(u,f),f},async increment({address:o,chainId:a}){const c=s({address:o,chainId:a}),u=r.get(c)??0;r.set(c,u+1)},async get({address:o,chainId:a,client:c}){const u=s({address:o,chainId:a});let l=i.get(u);return l||(l=(async()=>{try{const d=await t.get({address:o,chainId:a,client:c}),h=n.get(u)??0;return h>0&&d<=h?h+1:(n.delete(u),d)}finally{this.reset({address:o,chainId:a})}})(),i.set(u,l)),(r.get(u)??0)+await l},reset({address:o,chainId:a}){const c=s({address:o,chainId:a});r.delete(c),i.delete(c)}}}function H3(e,{errorInstance:t=new Error("timed out"),timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout(()=>{n?a.abort():s(t)},r)),i(await e({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&s(t),s(a)}finally{clearTimeout(o)}})()})}function uae(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const QT=uae();function lae(e,t={}){const{url:r,headers:n}=dae(e);return{async request(i){const{body:s,fetchFn:o=t.fetchFn??fetch,onRequest:a=t.onRequest,onResponse:c=t.onResponse,timeout:u=t.timeout??1e4}=i,l={...t.fetchOptions??{},...i.fetchOptions??{}},{headers:f,method:d,signal:h}=l;try{const g=await H3(async({signal:b})=>{const w={...l,body:Array.isArray(s)?_r(s.map(C=>({jsonrpc:"2.0",id:C.id??QT.take(),...C}))):_r({jsonrpc:"2.0",id:s.id??QT.take(),...s}),headers:{...n,"Content-Type":"application/json",...f},method:d||"POST",signal:h||(u>0?b:null)},y=new Request(r,w),v=await a?.(y,w)??{...w,url:r};return await o(v.url??r,v)},{errorInstance:new MT({body:s,url:r}),timeout:u,signal:!0});c&&await c(g);let p;if(g.headers.get("Content-Type")?.startsWith("application/json"))p=await g.json();else{p=await g.text();try{p=JSON.parse(p||"{}")}catch(b){if(g.ok)throw b;p={error:p}}}if(!g.ok)throw new Yl({body:s,details:_r(p.error)||g.statusText,headers:g.headers,status:g.status,url:r});return p}catch(g){throw g instanceof Yl||g instanceof MT?g:new Yl({body:s,cause:g,url:r})}}}}function dae(e){try{const t=new URL(e),r=(()=>{if(t.username){const n=`${decodeURIComponent(t.username)}:${decodeURIComponent(t.password)}`;return t.username="",t.password="",{url:t.toString(),headers:{Authorization:`Basic ${btoa(n)}`}}}})();return{url:t.toString(),...r}}catch{return{url:e}}}const fae=`Ethereum Signed Message:
`;function hae(e){const t=typeof e=="string"?od(e):typeof e.raw=="string"?e.raw:zr(e.raw),r=od(`${fae}${lr(t)}`);return Jr([r,t])}MV=function(e,t){return ur(hae(e),t)};class pae extends se{constructor({domain:t}){super(`Invalid domain "${_r(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class gae extends se{constructor({primaryType:t,types:r}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(r))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class mae extends se{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function bae(e){const{domain:t,message:r,primaryType:n,types:i}=e,s=(c,u)=>{const l={...u};for(const f of c){const{name:d,type:h}=f;h==="address"&&(l[d]=l[d].toLowerCase())}return l},o=i.EIP712Domain?t?s(i.EIP712Domain,t):{}:{},a=(()=>{if(n!=="EIP712Domain")return s(i[n],r)})();return _r({domain:o,message:a,primaryType:n,types:i})}function LV(e){const{domain:t,message:r,primaryType:n,types:i}=e,s=(o,a)=>{for(const c of o){const{name:u,type:l}=c,f=a[u],d=l.match(NP);if(d&&(typeof f=="number"||typeof f=="bigint")){const[p,b,w]=d;le(f,{signed:b==="int",size:Number.parseInt(w,10)/8})}if(l==="address"&&typeof f=="string"&&!kr(f))throw new Zn({address:f});const h=l.match(RW);if(h){const[p,b]=h;if(b&&lr(f)!==Number.parseInt(b,10))throw new xW({expectedSize:Number.parseInt(b,10),givenSize:lr(f)})}const g=i[l];g&&(yae(l),s(g,f))}};if(i.EIP712Domain&&t){if(typeof t!="object")throw new pae({domain:t});s(i.EIP712Domain,t)}if(n!=="EIP712Domain")if(i[n])s(i[n],r);else throw new gae({primaryType:n,types:i})}function UV({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function yae(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new mae({type:e})}qV=function(e){const{domain:t={},message:r,primaryType:n}=e,i={EIP712Domain:UV({domain:t}),...e.types};LV({domain:t,message:r,primaryType:n,types:i});const s=["0x1901"];return t&&s.push(wae({domain:t,types:i})),n!=="EIP712Domain"&&s.push(zV({data:r,primaryType:n,types:i})),ur(Jr(s))};function wae({domain:e,types:t}){return zV({data:e,primaryType:"EIP712Domain",types:t})}function zV({data:e,primaryType:t,types:r}){const n=FV({data:e,primaryType:t,types:r});return ur(n)}function FV({data:e,primaryType:t,types:r}){const n=[{type:"bytes32"}],i=[vae({primaryType:t,types:r})];for(const s of r[t]){const[o,a]=WV({types:r,name:s.name,type:s.type,value:e[s.name]});n.push(o),i.push(a)}return Ws(n,i)}function vae({primaryType:e,types:t}){const r=Gn(Eae({primaryType:e,types:t}));return ur(r)}function Eae({primaryType:e,types:t}){let r="";const n=HV({primaryType:e,types:t});n.delete(e);const i=[e,...Array.from(n).sort()];for(const s of i)r+=`${s}(${t[s].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return r}function HV({primaryType:e,types:t},r=new Set){const i=e.match(/^\w*/u)?.[0];if(r.has(i)||t[i]===void 0)return r;r.add(i);for(const s of t[i])HV({primaryType:s.type,types:t},r);return r}function WV({types:e,name:t,type:r,value:n}){if(e[r]!==void 0)return[{type:"bytes32"},ur(FV({data:n,primaryType:r,types:e}))];if(r==="bytes")return[{type:"bytes32"},ur(n)];if(r==="string")return[{type:"bytes32"},ur(Gn(n))];if(r.lastIndexOf("]")===r.length-1){const i=r.slice(0,r.lastIndexOf("[")),s=n.map(o=>WV({name:t,type:i,types:e,value:o}));return[{type:"bytes32"},ur(Ws(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:r},n]}const _ae="0x6492649264926492649264926492649264926492649264926492649264926492";let Cae=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const r=super.get(t);return super.has(t)&&r!==void 0&&(this.delete(t),super.set(t,r)),r}set(t,r){if(super.set(t,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const Aae={checksum:new Cae(8192)},e_=Aae.checksum;function VV(e,t={}){const{as:r=typeof e=="string"?"Hex":"Bytes"}=t,n=rW(pse(e));return r==="Bytes"?n:Po(n)}const xae=/^0x[a-fA-F0-9]{40}$/;function W3(e,t={}){const{strict:r=!0}=t;if(!xae.test(e))throw new JT({address:e,cause:new Iae});if(r){if(e.toLowerCase()===e)return;if(GV(e)!==e)throw new JT({address:e,cause:new Pae})}}function GV(e){if(e_.has(e))return e_.get(e);W3(e,{strict:!1});const t=e.substring(2).toLowerCase(),r=VV(mse(t),{as:"Bytes"}),n=t.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&n[s]&&(n[s]=n[s].toUpperCase()),(r[s>>1]&15)>=8&&n[s+1]&&(n[s+1]=n[s+1].toUpperCase());const i=`0x${n.join("")}`;return e_.set(e,i),i}function HA(e,t={}){const{strict:r=!0}=t??{};try{return W3(e,{strict:r}),!0}catch{return!1}}class JT extends it{constructor({address:t,cause:r}){super(`Address "${t}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Iae extends it{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Pae extends it{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Sae=/^(.*)\[([0-9]*)\]$/,Tae=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,KV=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,XT=2n**256n-1n;function Dh(e,t,r){const{checksumAddress:n,staticPosition:i}=r,s=f9(t.type);if(s){const[o,a]=s;return jae(e,{...t,type:a},{checksumAddress:n,length:o,staticPosition:i})}if(t.type==="tuple")return Nae(e,t,{checksumAddress:n,staticPosition:i});if(t.type==="address")return Oae(e,{checksum:n});if(t.type==="bool")return Bae(e);if(t.type.startsWith("bytes"))return Rae(e,t,{staticPosition:i});if(t.type.startsWith("uint")||t.type.startsWith("int"))return kae(e,t);if(t.type==="string")return Dae(e,{staticPosition:i});throw new p9(t.type)}const eO=32,WA=32;function Oae(e,t={}){const{checksum:r=!1}=t,n=e.readBytes(32);return[(s=>r?GV(s):s)(Po(yse(n,-20))),32]}function jae(e,t,r){const{checksumAddress:n,length:i,staticPosition:s}=r;if(!i){const c=bc(e.readBytes(WA)),u=s+c,l=u+eO;e.setPosition(u);const f=bc(e.readBytes(eO)),d=Am(t);let h=0;const g=[];for(let p=0;p<f;++p){e.setPosition(l+(d?p*32:h));const[b,w]=Dh(e,t,{checksumAddress:n,staticPosition:l});h+=w,g.push(b)}return e.setPosition(s+32),[g,32]}if(Am(t)){const c=bc(e.readBytes(WA)),u=s+c,l=[];for(let f=0;f<i;++f){e.setPosition(u+f*32);const[d]=Dh(e,t,{checksumAddress:n,staticPosition:u});l.push(d)}return e.setPosition(s+32),[l,32]}let o=0;const a=[];for(let c=0;c<i;++c){const[u,l]=Dh(e,t,{checksumAddress:n,staticPosition:s+o});o+=l,a.push(u)}return[a,o]}function Bae(e){return[vse(e.readBytes(32),{size:32}),32]}function Rae(e,t,{staticPosition:r}){const[n,i]=t.type.split("bytes");if(!i){const o=bc(e.readBytes(32));e.setPosition(r+o);const a=bc(e.readBytes(32));if(a===0)return e.setPosition(r+32),["0x",32];const c=e.readBytes(a);return e.setPosition(r+32),[Po(c),32]}return[Po(e.readBytes(Number.parseInt(i,10),32)),32]}function kae(e,t){const r=t.type.startsWith("int"),n=Number.parseInt(t.type.split("int")[1]||"256",10),i=e.readBytes(32);return[n>48?wse(i,{signed:r}):bc(i,{signed:r}),32]}function Nae(e,t,r){const{checksumAddress:n,staticPosition:i}=r,s=t.components.length===0||t.components.some(({name:c})=>!c),o=s?[]:{};let a=0;if(Am(t)){const c=bc(e.readBytes(WA)),u=i+c;for(let l=0;l<t.components.length;++l){const f=t.components[l];e.setPosition(u+a);const[d,h]=Dh(e,f,{checksumAddress:n,staticPosition:u});a+=h,o[s?l:f?.name]=d}return e.setPosition(i+32),[o,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[l,f]=Dh(e,u,{checksumAddress:n,staticPosition:i});o[s?c:u?.name]=l,a+=f}return[o,a]}function Dae(e,{staticPosition:t}){const r=bc(e.readBytes(32)),n=t+r;e.setPosition(n);const i=bc(e.readBytes(32));if(i===0)return e.setPosition(t+32),["",32];const s=e.readBytes(i,32),o=Ese(QW(s));return e.setPosition(t+32),[o,32]}function $ae({checksumAddress:e,parameters:t,values:r}){const n=[];for(let i=0;i<t.length;i++)n.push(l9({checksumAddress:e,parameter:t[i],value:r[i]}));return n}function l9({checksumAddress:e=!1,parameter:t,value:r}){const n=t,i=f9(n.type);if(i){const[s,o]=i;return Lae(r,{checksumAddress:e,length:s,parameter:{...n,type:o}})}if(n.type==="tuple")return Hae(r,{checksumAddress:e,parameter:n});if(n.type==="address")return Mae(r,{checksum:e});if(n.type==="bool")return qae(r);if(n.type.startsWith("uint")||n.type.startsWith("int")){const s=n.type.startsWith("int"),[,,o="256"]=KV.exec(n.type)??[];return zae(r,{signed:s,size:Number(o)})}if(n.type.startsWith("bytes"))return Uae(r,{type:n.type});if(n.type==="string")return Fae(r);throw new p9(n.type)}function d9(e){let t=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?t+=32:t+=vs(a)}const r=[],n=[];let i=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?(r.push(li(t+i,{size:32})),n.push(a),i+=vs(a)):r.push(a)}return Io(...r,...n)}function Mae(e,t){const{checksum:r=!1}=t;return W3(e,{strict:r}),{dynamic:!1,encoded:ld(e.toLowerCase())}}function Lae(e,t){const{checksumAddress:r,length:n,parameter:i}=t,s=n===null;if(!Array.isArray(e))throw new Xae(e);if(!s&&e.length!==n)throw new Jae({expectedLength:n,givenLength:e.length,type:`${i.type}[${n}]`});let o=!1;const a=[];for(let c=0;c<e.length;c++){const u=l9({checksumAddress:r,parameter:i,value:e[c]});u.dynamic&&(o=!0),a.push(u)}if(s||o){const c=d9(a);if(s){const u=li(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Io(u,c):u}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Io(...a.map(({encoded:c})=>c))}}function Uae(e,{type:t}){const[,r]=t.split("bytes"),n=vs(e);if(!r){let i=e;return n%32!==0&&(i=dd(i,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:Io(ld(li(n,{size:32})),i)}}if(n!==Number.parseInt(r,10))throw new YV({expectedSize:Number.parseInt(r,10),value:e});return{dynamic:!1,encoded:dd(e)}}function qae(e){if(typeof e!="boolean")throw new it(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ld(JW(e))}}function zae(e,{signed:t,size:r}){if(typeof r=="number"){const n=2n**(BigInt(r)-(t?1n:0n))-1n,i=t?-n-1n:0n;if(e>n||e<i)throw new tV({max:n.toString(),min:i.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:li(e,{size:32,signed:t})}}function Fae(e){const t=HP(e),r=Math.ceil(vs(t)/32),n=[];for(let i=0;i<r;i++)n.push(dd(oa(t,i*32,(i+1)*32)));return{dynamic:!0,encoded:Io(dd(li(vs(t),{size:32})),...n)}}function Hae(e,t){const{checksumAddress:r,parameter:n}=t;let i=!1;const s=[];for(let o=0;o<n.components.length;o++){const a=n.components[o],c=Array.isArray(e)?o:a.name,u=l9({checksumAddress:r,parameter:a,value:e[c]});s.push(u),u.dynamic&&(i=!0)}return{dynamic:i,encoded:i?d9(s):Io(...s.map(({encoded:o})=>o))}}function f9(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Am(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Am);const r=f9(e.type);return!!(r&&Am({...e,type:r[1]}))}const Wae={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Kae({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Gae({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new tO({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new tO({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Vae(e,{recursiveReadLimit:t=8192}={}){const r=Object.create(Wae);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}class tO extends it{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class Gae extends it{constructor({length:t,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class Kae extends it{constructor({count:t,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function Zae(e,t,r={}){const{as:n="Array",checksumAddress:i=!1}=r,s=typeof t=="string"?YW(t):t,o=Vae(s);if(Ch(s)===0&&e.length>0)throw new Qae;if(Ch(s)&&Ch(s)<32)throw new Yae({data:typeof t=="string"?t:Po(t),parameters:e,size:Ch(s)});let a=0;const c=n==="Array"?[]:{};for(let u=0;u<e.length;++u){const l=e[u];o.setPosition(a);const[f,d]=Dh(o,l,{checksumAddress:i,staticPosition:0});a+=d,n==="Array"?c.push(f):c[l.name??u]=f}return c}function h9(e,t,r){const{checksumAddress:n=!1}={};if(e.length!==t.length)throw new QV({expectedLength:e.length,givenLength:t.length});const i=$ae({checksumAddress:n,parameters:e,values:t}),s=d9(i);return s.length===0?"0x":s}function VA(e,t){if(e.length!==t.length)throw new QV({expectedLength:e.length,givenLength:t.length});const r=[];for(let n=0;n<e.length;n++){const i=e[n],s=t[n];r.push(VA.encode(i,s))}return Io(...r)}(function(e){function t(r,n,i=!1){if(r==="address"){const c=n;return W3(c),ld(c.toLowerCase(),i?32:0)}if(r==="string")return HP(n);if(r==="bytes")return n;if(r==="bool")return ld(JW(n),i?32:1);const s=r.match(KV);if(s){const[c,u,l="256"]=s,f=Number.parseInt(l,10)/8;return li(n,{size:i?32:f,signed:u==="int"})}const o=r.match(Tae);if(o){const[c,u]=o;if(Number.parseInt(u,10)!==(n.length-2)/2)throw new YV({expectedSize:Number.parseInt(u,10),value:n});return dd(n,i?32:0)}const a=r.match(Sae);if(a&&Array.isArray(n)){const[c,u]=a,l=[];for(let f=0;f<n.length;f++)l.push(t(u,n[f],!0));return l.length===0?"0x":Io(...l)}throw new p9(r)}e.encode=t})(VA||(VA={}));function ZV(e){return Array.isArray(e)&&typeof e[0]=="string"?bT(e):typeof e=="string"?bT(e):e}class Yae extends it{constructor({data:t,parameters:r,size:n}){super(`Data size of ${n} bytes is too small for given parameters.`,{metaMessages:[`Params: (${hne(r)})`,`Data:   ${t} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Qae extends it{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Jae extends it{constructor({expectedLength:t,givenLength:r,type:n}){super(`Array length mismatch for type \`${n}\`. Expected: \`${t}\`. Given: \`${r}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class YV extends it{constructor({expectedSize:t,value:r}){super(`Size of bytes "${r}" (bytes${vs(r)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class QV extends it{constructor({expectedLength:t,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Xae extends it{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class p9 extends it{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function JV(e,t={}){const{recovered:r}=t;if(typeof e.r>"u")throw new t_({signature:e});if(typeof e.s>"u")throw new t_({signature:e});if(r&&typeof e.yParity>"u")throw new t_({signature:e});if(e.r<0n||e.r>XT)throw new oce({value:e.r});if(e.s<0n||e.s>XT)throw new ace({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new m9({value:e.yParity})}function ece(e){return XV(Po(e))}function XV(e){if(e.length!==130&&e.length!==132)throw new sce({signature:e});const t=BigInt(oa(e,0,32)),r=BigInt(oa(e,32,64)),n=(()=>{const i=+`0x${e.slice(130)}`;if(!Number.isNaN(i))try{return g9(i)}catch{throw new m9({value:i})}})();return typeof n>"u"?{r:t,s:r}:{r:t,s:r,yParity:n}}function tce(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return rce(e)}function rce(e){const t=typeof e=="string"?XV(e):e instanceof Uint8Array?ece(e):typeof e.r=="string"?ice(e):e.v?nce(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return JV(t),t}function nce(e){return{r:e.r,s:e.s,yParity:g9(e.v)}}function ice(e){const t=(()=>{const r=e.v?Number(e.v):void 0;let n=e.yParity?Number(e.yParity):void 0;if(typeof r=="number"&&typeof n!="number"&&(n=g9(r)),typeof n!="number")throw new m9({value:e.yParity});return n})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function g9(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new cce({value:e})}class sce extends it{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${vs(Tse(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class t_ extends it{constructor({signature:t}){super(`Signature \`${ZW(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class oce extends it{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class ace extends it{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class m9 extends it{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class cce extends it{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function uce(e,t={}){return typeof e.chainId=="string"?lce(e):{...e,...t.signature}}function lce(e){const{address:t,chainId:r,nonce:n}=e,i=tce(e);return{address:t,chainId:Number(r),nonce:BigInt(n),...i}}const dce="0x8010801080108010801080108010801080108010801080108010801080108010",fce=ZV("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function eG(e){if(typeof e=="string"){if(oa(e,-32)!==dce)throw new gce(e)}else JV(e.authorization)}function hce(e){eG(e);const t=eV(oa(e,-64,-32)),r=oa(e,-t-64,-64),n=oa(e,0,-t-64),[i,s,o]=Zae(fce,r);return{authorization:uce({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:n,...o&&o!=="0x"?{data:o,to:s}:{}}}function pce(e){try{return eG(e),!0}catch{return!1}}let gce=class extends it{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function r_(e){const{address:t,data:r,signature:n,to:i="hex"}=e,s=zi([Ws([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,r,n]),_ae]);return i==="hex"?s:Vs(s)}class mce extends se{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}CWe=function(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new mce({value:e});let[r,n="0"]=e.split(".");const i=r.startsWith("-");if(i&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),t===0)Math.round(+`.${n}`)===1&&(r=`${BigInt(r)+1n}`),n="";else if(n.length>t){const[s,o,a]=[n.slice(0,t-1),n.slice(t-1,t),n.slice(t)],c=Math.round(+`${o}.${a}`);c>9?n=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):n=`${s}${c}`,n.length>t&&(n=n.slice(1),r=`${BigInt(r)+1n}`),n=n.slice(0,t)}else n=n.padEnd(t,"0");return BigInt(`${i?"-":""}${r}${n}`)};function bce(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function yce(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?ws(e.nonce):void 0,storageProof:e.storageProof?bce(e.storageProof):void 0}}async function wce(e,{address:t,blockNumber:r,blockTag:n,storageKeys:i}){const s=n??"latest",o=r!==void 0?le(r):void 0,a=await e.request({method:"eth_getProof",params:[t,i,o||s]});return yce(a)}async function vce(e,{address:t,blockNumber:r,blockTag:n="latest",slot:i}){const s=r!==void 0?le(r):void 0;return await e.request({method:"eth_getStorageAt",params:[t,i,s||n]})}async function b9(e,{blockHash:t,blockNumber:r,blockTag:n,hash:i,index:s,sender:o,nonce:a}){const c=n||"latest",u=r!==void 0?le(r):void 0;let l=null;if(i?l=await e.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):t?l=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,le(s)]},{dedupe:!0}):typeof s=="number"?l=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,le(s)]},{dedupe:!!u}):o&&typeof a=="number"&&(l=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[o,le(a)]},{dedupe:!0})),!l)throw new LW({blockHash:t,blockNumber:r,blockTag:c,hash:i,index:s});return(e.chain?.formatters?.transaction?.format||b1)(l,"getTransaction")}async function Ece(e,{hash:t,transactionReceipt:r}){const[n,i]=await Promise.all([Ie(e,w1,"getBlockNumber")({}),t?Ie(e,b9,"getTransaction")({hash:t}):void 0]),s=r?.blockNumber||i?.blockNumber;return s?n-s+1n:0n}async function G6(e,{hash:t}){const r=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!r)throw new UW({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||F3)(r,"getTransactionReceipt")}async function tG(e,t){const{account:r,authorizationList:n,allowFailure:i=!0,blockNumber:s,blockOverrides:o,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:l=t.batchSize??1024,deployless:f=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},d=(()=>{if(t.multicallAddress)return t.multicallAddress;if(f)return null;if(e.chain)return jp({blockNumber:s,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let g=0,p=0;for(let y=0;y<u.length;y++){const{abi:v,address:m,args:C,functionName:E}=u[y];try{const _=Fi({abi:v,args:C,functionName:E});p+=(_.length-2)/2,l>0&&p>l&&h[g].length>0&&(g++,p=(_.length-2)/2,h[g]=[]),h[g]=[...h[g],{allowFailure:!0,callData:_,target:m}]}catch(_){const P=ud(_,{abi:v,address:m,args:C,docsPath:"/docs/contract/multicall",functionName:E,sender:r});if(!i)throw P;h[g]=[...h[g],{allowFailure:!0,callData:"0x",target:m}]}}const b=await Promise.allSettled(h.map(y=>Ie(e,Es,"readContract")({...d===null?{code:WP}:{address:d},abi:f5,account:r,args:[y],authorizationList:n,blockNumber:s,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:c}))),w=[];for(let y=0;y<b.length;y++){const v=b[y];if(v.status==="rejected"){if(!i)throw v.reason;for(let C=0;C<h[y].length;C++)w.push({status:"failure",error:v.reason,result:void 0});continue}const m=v.value;for(let C=0;C<m.length;C++){const{returnData:E,success:_}=m[C],{callData:P}=h[y][C],{abi:x,address:O,functionName:D,args:R}=u[w.length];try{if(P==="0x")throw new o1;if(!_)throw new B3({data:E});const k=qd({abi:x,args:R,data:E,functionName:D});w.push(i?{result:k,status:"success"}:k)}catch(k){const T=ud(k,{abi:x,address:O,args:R,docsPath:"/docs/contract/multicall",functionName:D});if(!i)throw T;w.push({error:T,result:void 0,status:"failure"})}}}if(w.length!==u.length)throw new se("multicall results mismatch");return w}async function GA(e,t){const{blockNumber:r,blockTag:n=e.experimental_blockTag??"latest",blocks:i,returnFullTransactions:s,traceTransfers:o,validation:a}=t;try{const c=[];for(const d of i){const h=d.blockOverrides?nV(d.blockOverrides):void 0,g=d.calls.map(b=>{const w=b,y=w.account?zt(w.account):void 0,v=w.abi?Fi(w):w.data,m={...w,account:y,data:w.dataSuffix?Jr([v||"0x",w.dataSuffix]):v,from:w.from??y?.address};return Pc(m),Bu(m)}),p=d.stateOverrides?D3(d.stateOverrides):void 0;c.push({blockOverrides:h,calls:g,stateOverrides:p})}const l=(typeof r=="bigint"?le(r):void 0)||n;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:s,traceTransfers:o,validation:a},l]})).map((d,h)=>({...QP(d),calls:d.calls.map((g,p)=>{const{abi:b,args:w,functionName:y,to:v}=i[h].calls[p],m=g.error?.data??g.returnData,C=BigInt(g.gasUsed),E=g.logs?.map(O=>da(O)),_=g.status==="0x1"?"success":"failure",P=b&&_==="success"&&m!=="0x"?qd({abi:b,data:m,functionName:y}):null,x=(()=>{if(_==="success")return;let O;if(g.error?.data==="0x"?O=new o1:g.error&&(O=new B3(g.error)),!!O)return ud(O,{abi:b??[],address:v??"0x",args:w,functionName:y??"<unknown>"})})();return{data:m,gasUsed:C,logs:E,status:_,..._==="success"?{result:P}:{error:x}}})}))}catch(c){const u=c,l=N3(u,{});throw l instanceof p1?u:l}}function KA(e){let t=!0,r="",n=0,i="",s=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&n++,a===")"&&n--,!!t){if(n===0){if(a===" "&&["event","function","error",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){e[o-1]!==","&&r!==","&&r!==",("&&(r="",t=!1);continue}i+=a,r+=a}}if(!s)throw new it("Unable to normalize signature.");return i}function ZA(e,t){const r=typeof e,n=t.type;switch(n){case"address":return HA(e,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in t?Object.values(t.components).every((i,s)=>ZA(Object.values(e)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(e)&&e.every(i=>ZA(i,{...t,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function rG(e,t,r){for(const n in e){const i=e[n],s=t[n];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return rG(i.components,s.components,r[n]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?HA(r[n],{strict:!1}):o.includes("address")&&o.includes("bytes")?HA(r[n],{strict:!1}):!1)return o}}function nG(e,t={}){const{prepare:r=!0}=t,n=Array.isArray(e)?yT(e):typeof e=="string"?yT(e):e;return{...n,...r?{hash:Ah(n)}:{}}}function V3(e,t,r){const{args:n=[],prepare:i=!0}=r??{},s=Ose(t,{strict:!1}),o=e.filter(u=>s?u.type==="function"||u.type==="error"?iG(u)===oa(t,0,4):u.type==="event"?Ah(u)===t:!1:"name"in u&&u.name===t);if(o.length===0)throw new y5({name:t});if(o.length===1)return{...o[0],...i?{hash:Ah(o[0])}:{}};let a;for(const u of o){if(!("inputs"in u))continue;if(!n||n.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...i?{hash:Ah(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==n.length)continue;if(n.every((f,d)=>{const h="inputs"in u&&u.inputs[d];return h?ZA(f,h):!1})){if(a&&"inputs"in a&&a.inputs){const f=rG(u.inputs,a.inputs,n);if(f)throw new Cce({abiItem:u,type:f[0]},{abiItem:a,type:f[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...l]=o;return{...u,overloads:l}})();if(!c)throw new y5({name:t});return{...c,...i?{hash:Ah(c)}:{}}}function iG(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,n]=e;return V3(r,n)}return e[0]})();return oa(Ah(t),0,4)}function _ce(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,i]=e;return V3(n,i)}return e[0]})(),r=typeof t=="string"?t:l5(t);return KA(r)}function Ah(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,n]=e;return V3(r,n)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:VV(HP(_ce(t)))}class Cce extends it{constructor(t,r){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${KA(l5(t.abiItem))}\`, and`,`\`${r.type}\` in \`${KA(l5(r.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class y5 extends it{constructor({name:t,data:r,type:n="item"}){const i=t?` with name "${t}"`:r?` with data "${r}"`:"";super(`ABI ${n}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function Ace(...e){const[t,r]=(()=>{if(Array.isArray(e[0])){const[s,o]=e;return[Ice(s),o]}return e})(),{bytecode:n,args:i}=r;return Io(n,t.inputs?.length&&i?.length?h9(t.inputs,i):"0x")}function xce(e){return nG(e)}function Ice(e){const t=e.find(r=>r.type==="constructor");if(!t)throw new y5({name:"constructor"});return t}function Pce(...e){const[t,r=[]]=(()=>{if(Array.isArray(e[0])){const[u,l,f]=e;return[rO(u,l,{args:f}),f]}const[a,c]=e;return[a,c]})(),{overloads:n}=t,i=n?rO([t,...n],t.name,{args:r}):t,s=Sce(i),o=r.length>0?h9(i.inputs,r):void 0;return o?Io(s,o):s}function hf(e,t={}){return nG(e,t)}function rO(e,t,r){const n=V3(e,t,r);if(n.type!=="function")throw new y5({name:t,type:"function"});return n}function Sce(e){return iG(e)}const Tce="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Lo="0x0000000000000000000000000000000000000000",Oce="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function jce(e,t){const{blockNumber:r,blockTag:n,calls:i,stateOverrides:s,traceAssetChanges:o,traceTransfers:a,validation:c}=t,u=t.account?zt(t.account):void 0;if(o&&!u)throw new se("`account` is required when `traceAssetChanges` is true");const l=u?Ace(xce("constructor(bytes, bytes)"),{bytecode:iV,args:[Oce,Pce(hf("function getBalance(address)"),[u.address])]}):void 0,f=o?await Promise.all(t.calls.map(async j=>{if(!j.data&&!j.abi)return;const{accessList:N}=await hV(e,{account:u.address,...j,data:j.abi?Fi(j):j.data});return N.map(({address:B,storageKeys:$})=>$.length>0?B:null)})).then(j=>j.flat().filter(Boolean)):[],d=await GA(e,{blockNumber:r,blockTag:n,blocks:[...o?[{calls:[{data:l}],stateOverrides:s},{calls:f.map((j,N)=>({abi:[hf("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:j,from:Lo,nonce:N})),stateOverrides:[{address:Lo,nonce:0}]}]:[],{calls:[...i,{}].map(j=>({...j,from:u?.address})),stateOverrides:s},...o?[{calls:[{data:l}]},{calls:f.map((j,N)=>({abi:[hf("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:j,from:Lo,nonce:N})),stateOverrides:[{address:Lo,nonce:0}]},{calls:f.map((j,N)=>({to:j,abi:[hf("function decimals() returns (uint256)")],functionName:"decimals",from:Lo,nonce:N})),stateOverrides:[{address:Lo,nonce:0}]},{calls:f.map((j,N)=>({to:j,abi:[hf("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Lo,nonce:N})),stateOverrides:[{address:Lo,nonce:0}]},{calls:f.map((j,N)=>({to:j,abi:[hf("function symbol() returns (string)")],functionName:"symbol",from:Lo,nonce:N})),stateOverrides:[{address:Lo,nonce:0}]}]:[]],traceTransfers:a,validation:c}),h=o?d[2]:d[0],[g,p,,b,w,y,v,m]=o?d:[],{calls:C,...E}=h,_=C.slice(0,-1)??[],P=g?.calls??[],x=p?.calls??[],O=[...P,...x].map(j=>j.status==="success"?Er(j.data):null),D=b?.calls??[],R=w?.calls??[],k=[...D,...R].map(j=>j.status==="success"?Er(j.data):null),T=(y?.calls??[]).map(j=>j.status==="success"?j.result:null),S=(m?.calls??[]).map(j=>j.status==="success"?j.result:null),I=(v?.calls??[]).map(j=>j.status==="success"?j.result:null),A=[];for(const[j,N]of k.entries()){const B=O[j];if(typeof N!="bigint"||typeof B!="bigint")continue;const $=T[j-1],M=S[j-1],L=I[j-1],q=j===0?{address:Tce,decimals:18,symbol:"ETH"}:{address:f[j-1],decimals:L||$?Number($??1):void 0,symbol:M??void 0};A.some(U=>U.token.address===q.address)||A.push({token:q,value:{pre:B,post:N,diff:N-B}})}return{assetChanges:A,block:E,results:_}}async function Bce(e,t){const{abi:r,address:n,args:i,dataSuffix:s,functionName:o,...a}=t,c=a.account?zt(a.account):e.account,u=Fi({abi:r,args:i,functionName:o});try{const{data:l}=await Ie(e,g1,"call")({batch:!1,data:`${u}${s?s.replace("0x",""):""}`,to:n,...a,account:c}),f=qd({abi:r,args:i,functionName:o,data:l||"0x"}),d=r.filter(h=>"name"in h&&h.name===t.functionName);return{result:f,request:{abi:d,address:n,args:i,dataSuffix:s,functionName:o,...a,account:c}}}catch(l){throw ud(l,{abi:r,address:n,args:i,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c?.address})}}async function G3(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}const sG="0x6492649264926492649264926492649264926492649264926492649264926492";function Rce(e){if(oa(e,-32)!==sG)throw new Dce(e)}function kce(e){const{data:t,signature:r,to:n}=e;return Io(h9(ZV("address, bytes, bytes"),[n,t,r]),sG)}function Nce(e){try{return Rce(e),!0}catch{return!1}}class Dce extends it{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}const y9=BigInt(0),YA=BigInt(1);function E1(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function w9(e){if(!E1(e))throw new Error("Uint8Array expected")}function xm(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function zb(e){const t=e.toString(16);return t.length&1?"0"+t:t}function oG(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?y9:BigInt("0x"+e)}const aG=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",$ce=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Im(e){if(w9(e),aG)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=$ce[e[r]];return t}const Sa={_0:48,_9:57,A:65,F:70,a:97,f:102};function nO(e){if(e>=Sa._0&&e<=Sa._9)return e-Sa._0;if(e>=Sa.A&&e<=Sa.F)return e-(Sa.A-10);if(e>=Sa.a&&e<=Sa.f)return e-(Sa.a-10)}function w5(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(aG)return Uint8Array.fromHex(e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=nO(e.charCodeAt(s)),a=nO(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function Ql(e){return oG(Im(e))}function cG(e){return w9(e),oG(Im(Uint8Array.from(e).reverse()))}function _1(e,t){return w5(e.toString(16).padStart(t*2,"0"))}function uG(e,t){return _1(e,t).reverse()}function Fs(e,t,r){let n;if(typeof t=="string")try{n=w5(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(E1(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}function v5(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];w9(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}const n_=e=>typeof e=="bigint"&&y9<=e;function v9(e,t,r){return n_(e)&&n_(t)&&n_(r)&&t<=e&&e<r}function $h(e,t,r,n){if(!v9(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function Mce(e){let t;for(t=0;e>y9;e>>=YA,t+=1);return t}const K3=e=>(YA<<BigInt(e))-YA,i_=e=>new Uint8Array(e),iO=e=>Uint8Array.from(e);function Lce(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=i_(e),i=i_(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...f)=>r(i,n,...f),c=(f=i_(0))=>{i=a(iO([0]),f),n=a(),f.length!==0&&(i=a(iO([1]),f),n=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const d=[];for(;f<t;){n=a();const h=n.slice();d.push(h),f+=n.length}return v5(...d)};return(f,d)=>{o(),c(f);let h;for(;!(h=d(u()));)c();return o(),h}}const Uce={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||E1(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Z3(e,t,r={}){const n=(i,s,o)=>{const a=Uce[s];if(typeof a!="function")throw new Error("invalid validator function");const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(t))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return e}function sO(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(i!==void 0)return i;const s=e(r,...n);return t.set(r,s),s}}const Li=BigInt(0),fi=BigInt(1),ql=BigInt(2),qce=BigInt(3),lG=BigInt(4),dG=BigInt(5),fG=BigInt(8);function Ri(e,t){const r=e%t;return r>=Li?r:t+r}function js(e,t,r){let n=e;for(;t-- >Li;)n*=n,n%=r;return n}function QA(e,t){if(e===Li)throw new Error("invert: expected non-zero number");if(t<=Li)throw new Error("invert: expected positive modulus, got "+t);let r=Ri(e,t),n=t,i=Li,s=fi;for(;r!==Li;){const a=n/r,c=n%r,u=i-s*a;n=r,r=c,i=s,s=u}if(n!==fi)throw new Error("invert: does not exist");return Ri(i,t)}function hG(e,t){const r=(e.ORDER+fi)/lG,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw new Error("Cannot find square root");return n}function zce(e,t){const r=(e.ORDER-dG)/fG,n=e.mul(t,ql),i=e.pow(n,r),s=e.mul(t,i),o=e.mul(e.mul(s,ql),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Fce(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-fi,r=0;for(;t%ql===Li;)t/=ql,r++;let n=ql;const i=E9(e);for(;oO(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return hG;let s=i.pow(n,t);const o=(t+fi)/ql;return function(c,u){if(c.is0(u))return u;if(oO(c,u)!==1)throw new Error("Cannot find square root");let l=r,f=c.mul(c.ONE,s),d=c.pow(u,t),h=c.pow(u,o);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let g=1,p=c.sqr(d);for(;!c.eql(p,c.ONE);)if(g++,p=c.sqr(p),g===l)throw new Error("Cannot find square root");const b=fi<<BigInt(l-g-1),w=c.pow(f,b);l=g,f=c.sqr(w),d=c.mul(d,f),h=c.mul(h,w)}return h}}function Hce(e){return e%lG===qce?hG:e%fG===dG?zce:Fce(e)}const Wce=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Vce(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Wce.reduce((n,i)=>(n[i]="function",n),t);return Z3(e,r)}function Gce(e,t,r){if(r<Li)throw new Error("invalid exponent, negatives unsupported");if(r===Li)return e.ONE;if(r===fi)return t;let n=e.ONE,i=t;for(;r>Li;)r&fi&&(n=e.mul(n,i)),i=e.sqr(i),r>>=fi;return n}function pG(e,t,r=!1){const n=new Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((o,a,c)=>e.is0(a)?o:(n[c]=o,e.mul(o,a)),e.ONE),s=e.inv(i);return t.reduceRight((o,a,c)=>e.is0(a)?o:(n[c]=e.mul(o,n[c]),e.mul(o,a)),s),n}function oO(e,t){const r=(e.ORDER-fi)/ql,n=e.pow(t,r),i=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),o=e.eql(n,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function gG(e,t){t!==void 0&&nW(t);const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function E9(e,t,r=!1,n={}){if(e<=Li)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=gG(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:r,BITS:i,BYTES:s,MASK:K3(i),ZERO:Li,ONE:fi,create:c=>Ri(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Li<=c&&c<e},is0:c=>c===Li,isOdd:c=>(c&fi)===fi,neg:c=>Ri(-c,e),eql:(c,u)=>c===u,sqr:c=>Ri(c*c,e),add:(c,u)=>Ri(c+u,e),sub:(c,u)=>Ri(c-u,e),mul:(c,u)=>Ri(c*u,e),pow:(c,u)=>Gce(a,c,u),div:(c,u)=>Ri(c*QA(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>QA(c,e),sqrt:n.sqrt||(c=>(o||(o=Hce(e)),o(a,c))),toBytes:c=>r?uG(c,s):_1(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?cG(c):Ql(c)},invertBatch:c=>pG(a,c),cmov:(c,u,l)=>l?u:c});return Object.freeze(a)}function mG(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function bG(e){const t=mG(e);return t+Math.ceil(t/2)}function Kce(e,t,r=!1){const n=e.length,i=mG(t),s=bG(t);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?cG(e):Ql(e),a=Ri(o,t-fi)+fi;return r?uG(a,i):_1(a,i)}const aO=BigInt(0),JA=BigInt(1);function s_(e,t){const r=t.negate();return e?r:t}function yG(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function o_(e,t){yG(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e,s=K3(e),o=BigInt(e);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function cO(e,t,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(e&i),c=e>>o;a>n&&(a-=s,c+=JA);const u=t*n,l=u+Math.abs(a)-1,f=a===0,d=a<0,h=t%2!==0;return{nextN:c,offset:l,isZero:f,isNeg:d,isNegF:h,offsetF:u}}function Zce(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function Yce(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const a_=new WeakMap,wG=new WeakMap;function c_(e){return wG.get(e)||1}function Qce(e,t){return{constTimeNegate:s_,hasPrecomputes(r){return c_(r)!==1},unsafeLadder(r,n,i=e.ZERO){let s=r;for(;n>aO;)n&JA&&(i=i.add(s)),s=s.double(),n>>=JA;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=o_(n,t),o=[];let a=r,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let l=1;l<s;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){let s=e.ZERO,o=e.BASE;const a=o_(r,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:l,isZero:f,isNeg:d,isNegF:h,offsetF:g}=cO(i,c,a);i=u,f?o=o.add(s_(h,n[g])):s=s.add(s_(d,n[l]))}return{p:s,f:o}},wNAFUnsafe(r,n,i,s=e.ZERO){const o=o_(r,t);for(let a=0;a<o.windows&&i!==aO;a++){const{nextN:c,offset:u,isZero:l,isNeg:f}=cO(i,a,o);if(i=c,!l){const d=n[u];s=s.add(f?d.negate():d)}}return s},getPrecomputes(r,n,i){let s=a_.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&a_.set(n,i(s))),s},wNAFCached(r,n,i){const s=c_(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=c_(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){yG(n,t),wG.set(r,n),a_.delete(r)}}}function Jce(e,t,r,n){Zce(r,e),Yce(n,t);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=Mce(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=K3(c),l=new Array(Number(u)+1).fill(o),f=Math.floor((t.BITS-1)/c)*c;let d=o;for(let h=f;h>=0;h-=c){l.fill(o);for(let p=0;p<s;p++){const b=n[p],w=Number(b>>BigInt(h)&u);l[w]=l[w].add(r[p])}let g=o;for(let p=l.length-1,b=o;p>0;p--)b=b.add(l[p]),g=g.add(b);if(d=d.add(g),h!==0)for(let p=0;p<c;p++)d=d.double()}return d}function vG(e){return Vce(e.Fp),Z3(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...gG(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function uO(e){e.lowS!==void 0&&xm("lowS",e.lowS),e.prehash!==void 0&&xm("prehash",e.prehash)}function Xce(e){const t=vG(e);Z3(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}let eue=class extends Error{constructor(t=""){super(t)}};const nc={Err:eue,_tlv:{encode:(e,t)=>{const{Err:r}=nc;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");const n=t.length/2,i=zb(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?zb(i.length/2|128):"";return zb(e)+s+i+t},decode(e,t){const{Err:r}=nc;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const u=t.subarray(n,n+c);if(u.length!==c)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const l of u)o=o<<8|l;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=t.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+o)}}},_int:{encode(e){const{Err:t}=nc;if(e<lc)throw new t("integer: negative integers are not allowed");let r=zb(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=nc;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Ql(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=nc,i=Fs("signature",e),{v:s,l:o}=n.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:u,l}=n.decode(2,c);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(e){const{_tlv:t,_int:r}=nc,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s)),s=n+i;return t.encode(48,s)}};function u_(e,t){return Im(_1(e,t))}const lc=BigInt(0),an=BigInt(1);BigInt(2);const l_=BigInt(3),tue=BigInt(4);function rue(e){const t=Xce(e),{Fp:r}=t,n=E9(t.n,t.nBitLength),i=t.toBytes||((v,m,C)=>{const E=m.toAffine();return v5(Uint8Array.from([4]),r.toBytes(E.x),r.toBytes(E.y))}),s=t.fromBytes||(v=>{const m=v.subarray(1),C=r.fromBytes(m.subarray(0,r.BYTES)),E=r.fromBytes(m.subarray(r.BYTES,2*r.BYTES));return{x:C,y:E}});function o(v){const{a:m,b:C}=t,E=r.sqr(v),_=r.mul(E,v);return r.add(r.add(_,r.mul(v,m)),C)}function a(v,m){const C=r.sqr(m),E=o(v);return r.eql(C,E)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=r.mul(r.pow(t.a,l_),tue),u=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(c,u)))throw new Error("bad curve params: a or b");function l(v){return v9(v,an,t.n)}function f(v){const{allowedPrivateKeyLengths:m,nByteLength:C,wrapPrivateKey:E,n:_}=t;if(m&&typeof v!="bigint"){if(E1(v)&&(v=Im(v)),typeof v!="string"||!m.includes(v.length))throw new Error("invalid private key");v=v.padStart(C*2,"0")}let P;try{P=typeof v=="bigint"?v:Ql(Fs("private key",v,C))}catch{throw new Error("invalid private key, expected hex or "+C+" bytes, got "+typeof v)}return E&&(P=Ri(P,_)),$h("private key",P,an,_),P}function d(v){if(!(v instanceof p))throw new Error("ProjectivePoint expected")}const h=sO((v,m)=>{const{px:C,py:E,pz:_}=v;if(r.eql(_,r.ONE))return{x:C,y:E};const P=v.is0();m==null&&(m=P?r.ONE:r.inv(_));const x=r.mul(C,m),O=r.mul(E,m),D=r.mul(_,m);if(P)return{x:r.ZERO,y:r.ZERO};if(!r.eql(D,r.ONE))throw new Error("invZ was invalid");return{x,y:O}}),g=sO(v=>{if(v.is0()){if(t.allowInfinityPoint&&!r.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:m,y:C}=v.toAffine();if(!r.isValid(m)||!r.isValid(C))throw new Error("bad point: x or y not FE");if(!a(m,C))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(m,C,E){if(m==null||!r.isValid(m))throw new Error("x required");if(C==null||!r.isValid(C)||r.is0(C))throw new Error("y required");if(E==null||!r.isValid(E))throw new Error("z required");this.px=m,this.py=C,this.pz=E,Object.freeze(this)}static fromAffine(m){const{x:C,y:E}=m||{};if(!m||!r.isValid(C)||!r.isValid(E))throw new Error("invalid affine point");if(m instanceof p)throw new Error("projective point not allowed");const _=P=>r.eql(P,r.ZERO);return _(C)&&_(E)?p.ZERO:new p(C,E,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const C=pG(r,m.map(E=>E.pz));return m.map((E,_)=>E.toAffine(C[_])).map(p.fromAffine)}static fromHex(m){const C=p.fromAffine(s(Fs("pointHex",m)));return C.assertValidity(),C}static fromPrivateKey(m){return p.BASE.multiply(f(m))}static msm(m,C){return Jce(p,n,m,C)}_setWindowSize(m){y.setWindowSize(this,m)}assertValidity(){g(this)}hasEvenY(){const{y:m}=this.toAffine();if(r.isOdd)return!r.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){d(m);const{px:C,py:E,pz:_}=this,{px:P,py:x,pz:O}=m,D=r.eql(r.mul(C,O),r.mul(P,_)),R=r.eql(r.mul(E,O),r.mul(x,_));return D&&R}negate(){return new p(this.px,r.neg(this.py),this.pz)}double(){const{a:m,b:C}=t,E=r.mul(C,l_),{px:_,py:P,pz:x}=this;let O=r.ZERO,D=r.ZERO,R=r.ZERO,k=r.mul(_,_),T=r.mul(P,P),S=r.mul(x,x),I=r.mul(_,P);return I=r.add(I,I),R=r.mul(_,x),R=r.add(R,R),O=r.mul(m,R),D=r.mul(E,S),D=r.add(O,D),O=r.sub(T,D),D=r.add(T,D),D=r.mul(O,D),O=r.mul(I,O),R=r.mul(E,R),S=r.mul(m,S),I=r.sub(k,S),I=r.mul(m,I),I=r.add(I,R),R=r.add(k,k),k=r.add(R,k),k=r.add(k,S),k=r.mul(k,I),D=r.add(D,k),S=r.mul(P,x),S=r.add(S,S),k=r.mul(S,I),O=r.sub(O,k),R=r.mul(S,T),R=r.add(R,R),R=r.add(R,R),new p(O,D,R)}add(m){d(m);const{px:C,py:E,pz:_}=this,{px:P,py:x,pz:O}=m;let D=r.ZERO,R=r.ZERO,k=r.ZERO;const T=t.a,S=r.mul(t.b,l_);let I=r.mul(C,P),A=r.mul(E,x),j=r.mul(_,O),N=r.add(C,E),B=r.add(P,x);N=r.mul(N,B),B=r.add(I,A),N=r.sub(N,B),B=r.add(C,_);let $=r.add(P,O);return B=r.mul(B,$),$=r.add(I,j),B=r.sub(B,$),$=r.add(E,_),D=r.add(x,O),$=r.mul($,D),D=r.add(A,j),$=r.sub($,D),k=r.mul(T,B),D=r.mul(S,j),k=r.add(D,k),D=r.sub(A,k),k=r.add(A,k),R=r.mul(D,k),A=r.add(I,I),A=r.add(A,I),j=r.mul(T,j),B=r.mul(S,B),A=r.add(A,j),j=r.sub(I,j),j=r.mul(T,j),B=r.add(B,j),I=r.mul(A,B),R=r.add(R,I),I=r.mul($,B),D=r.mul(N,D),D=r.sub(D,I),I=r.mul(N,A),k=r.mul($,k),k=r.add(k,I),new p(D,R,k)}subtract(m){return this.add(m.negate())}is0(){return this.equals(p.ZERO)}wNAF(m){return y.wNAFCached(this,m,p.normalizeZ)}multiplyUnsafe(m){const{endo:C,n:E}=t;$h("scalar",m,lc,E);const _=p.ZERO;if(m===lc)return _;if(this.is0()||m===an)return this;if(!C||y.hasPrecomputes(this))return y.wNAFCachedUnsafe(this,m,p.normalizeZ);let{k1neg:P,k1:x,k2neg:O,k2:D}=C.splitScalar(m),R=_,k=_,T=this;for(;x>lc||D>lc;)x&an&&(R=R.add(T)),D&an&&(k=k.add(T)),T=T.double(),x>>=an,D>>=an;return P&&(R=R.negate()),O&&(k=k.negate()),k=new p(r.mul(k.px,C.beta),k.py,k.pz),R.add(k)}multiply(m){const{endo:C,n:E}=t;$h("scalar",m,an,E);let _,P;if(C){const{k1neg:x,k1:O,k2neg:D,k2:R}=C.splitScalar(m);let{p:k,f:T}=this.wNAF(O),{p:S,f:I}=this.wNAF(R);k=y.constTimeNegate(x,k),S=y.constTimeNegate(D,S),S=new p(r.mul(S.px,C.beta),S.py,S.pz),_=k.add(S),P=T.add(I)}else{const{p:x,f:O}=this.wNAF(m);_=x,P=O}return p.normalizeZ([_,P])[0]}multiplyAndAddUnsafe(m,C,E){const _=p.BASE,P=(O,D)=>D===lc||D===an||!O.equals(_)?O.multiplyUnsafe(D):O.multiply(D),x=P(this,C).add(P(m,E));return x.is0()?void 0:x}toAffine(m){return h(this,m)}isTorsionFree(){const{h:m,isTorsionFree:C}=t;if(m===an)return!0;if(C)return C(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:C}=t;return m===an?this:C?C(p,this):this.multiplyUnsafe(t.h)}toRawBytes(m=!0){return xm("isCompressed",m),this.assertValidity(),i(p,this,m)}toHex(m=!0){return xm("isCompressed",m),Im(this.toRawBytes(m))}}p.BASE=new p(t.Gx,t.Gy,r.ONE),p.ZERO=new p(r.ZERO,r.ONE,r.ZERO);const{endo:b,nBitLength:w}=t,y=Qce(p,b?Math.ceil(w/2):w);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:l}}function nue(e){const t=vG(e);return Z3(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function iue(e){const t=nue(e),{Fp:r,n,nByteLength:i,nBitLength:s}=t,o=r.BYTES+1,a=2*r.BYTES+1;function c(S){return Ri(S,n)}function u(S){return QA(S,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:h}=rue({...t,toBytes(S,I,A){const j=I.toAffine(),N=r.toBytes(j.x),B=v5;return xm("isCompressed",A),A?B(Uint8Array.from([I.hasEvenY()?2:3]),N):B(Uint8Array.from([4]),N,r.toBytes(j.y))},fromBytes(S){const I=S.length,A=S[0],j=S.subarray(1);if(I===o&&(A===2||A===3)){const N=Ql(j);if(!v9(N,an,r.ORDER))throw new Error("Point is not on curve");const B=d(N);let $;try{$=r.sqrt(B)}catch(q){const U=q instanceof Error?": "+q.message:"";throw new Error("Point is not on curve"+U)}const M=($&an)===an;return(A&1)===1!==M&&($=r.neg($)),{x:N,y:$}}else if(I===a&&A===4){const N=r.fromBytes(j.subarray(0,r.BYTES)),B=r.fromBytes(j.subarray(r.BYTES,2*r.BYTES));return{x:N,y:B}}else{const N=o,B=a;throw new Error("invalid Point, expected length of "+N+", or uncompressed "+B+", got "+I)}}});function g(S){const I=n>>an;return S>I}function p(S){return g(S)?c(-S):S}const b=(S,I,A)=>Ql(S.slice(I,A));class w{constructor(I,A,j){$h("r",I,an,n),$h("s",A,an,n),this.r=I,this.s=A,j!=null&&(this.recovery=j),Object.freeze(this)}static fromCompact(I){const A=i;return I=Fs("compactSignature",I,A*2),new w(b(I,0,A),b(I,A,2*A))}static fromDER(I){const{r:A,s:j}=nc.toSig(Fs("DER",I));return new w(A,j)}assertValidity(){}addRecoveryBit(I){return new w(this.r,this.s,I)}recoverPublicKey(I){const{r:A,s:j,recovery:N}=this,B=_(Fs("msgHash",I));if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");const $=N===2||N===3?A+t.n:A;if($>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const M=(N&1)===0?"02":"03",L=l.fromHex(M+u_($,r.BYTES)),q=u($),U=c(-B*q),F=c(j*q),H=l.BASE.multiplyAndAddUnsafe(L,U,F);if(!H)throw new Error("point at infinify");return H.assertValidity(),H}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return w5(this.toDERHex())}toDERHex(){return nc.hexFromSig(this)}toCompactRawBytes(){return w5(this.toCompactHex())}toCompactHex(){const I=i;return u_(this.r,I)+u_(this.s,I)}}const y={isValidPrivateKey(S){try{return f(S),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const S=bG(t.n);return Kce(t.randomBytes(S),t.n)},precompute(S=8,I=l.BASE){return I._setWindowSize(S),I.multiply(BigInt(3)),I}};function v(S,I=!0){return l.fromPrivateKey(S).toRawBytes(I)}function m(S){if(typeof S=="bigint")return!1;if(S instanceof l)return!0;const A=Fs("key",S).length,j=r.BYTES,N=j+1,B=2*j+1;if(!(t.allowedPrivateKeyLengths||i===N))return A===N||A===B}function C(S,I,A=!0){if(m(S)===!0)throw new Error("first arg must be private key");if(m(I)===!1)throw new Error("second arg must be public key");return l.fromHex(I).multiply(f(S)).toRawBytes(A)}const E=t.bits2int||function(S){if(S.length>8192)throw new Error("input is too large");const I=Ql(S),A=S.length*8-s;return A>0?I>>BigInt(A):I},_=t.bits2int_modN||function(S){return c(E(S))},P=K3(s);function x(S){return $h("num < 2^"+s,S,lc,P),_1(S,i)}function O(S,I,A=D){if(["recovered","canonical"].some(W=>W in A))throw new Error("sign() legacy options not supported");const{hash:j,randomBytes:N}=t;let{lowS:B,prehash:$,extraEntropy:M}=A;B==null&&(B=!0),S=Fs("msgHash",S),uO(A),$&&(S=Fs("prehashed msgHash",j(S)));const L=_(S),q=f(I),U=[x(q),x(L)];if(M!=null&&M!==!1){const W=M===!0?N(r.BYTES):M;U.push(Fs("extraEntropy",W))}const F=v5(...U),H=L;function V(W){const Z=E(W);if(!h(Z))return;const X=u(Z),ue=l.BASE.multiply(Z).toAffine(),Y=c(ue.x);if(Y===lc)return;const Q=c(X*c(H+Y*q));if(Q===lc)return;let ae=(ue.x===Y?0:2)|Number(ue.y&an),he=Q;return B&&g(Q)&&(he=p(Q),ae^=1),new w(Y,he,ae)}return{seed:F,k2sig:V}}const D={lowS:t.lowS,prehash:!1},R={lowS:t.lowS,prehash:!1};function k(S,I,A=D){const{seed:j,k2sig:N}=O(S,I,A),B=t;return Lce(B.hash.outputLen,B.nByteLength,B.hmac)(j,N)}l.BASE._setWindowSize(8);function T(S,I,A,j=R){const N=S;I=Fs("msgHash",I),A=Fs("publicKey",A);const{lowS:B,prehash:$,format:M}=j;if(uO(j),"strict"in j)throw new Error("options.strict was renamed to lowS");if(M!==void 0&&M!=="compact"&&M!=="der")throw new Error("format must be compact or der");const L=typeof N=="string"||E1(N),q=!L&&!M&&typeof N=="object"&&N!==null&&typeof N.r=="bigint"&&typeof N.s=="bigint";if(!L&&!q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let U,F;try{if(q&&(U=new w(N.r,N.s)),L){try{M!=="compact"&&(U=w.fromDER(N))}catch(ae){if(!(ae instanceof nc.Err))throw ae}!U&&M!=="der"&&(U=w.fromCompact(N))}F=l.fromHex(A)}catch{return!1}if(!U||B&&U.hasHighS())return!1;$&&(I=t.hash(I));const{r:H,s:V}=U,W=_(I),Z=u(V),X=c(W*Z),ue=c(H*Z),Y=l.BASE.multiplyAndAddUnsafe(F,X,ue)?.toAffine();return Y?c(Y.x)===H:!1}return{CURVE:t,getPublicKey:v,getSharedSecret:C,sign:k,verify:T,ProjectivePoint:l,Signature:w,utils:y}}function sue(e){return{hash:e,hmac:(t,...r)=>iW(e,t,uc(...r)),randomBytes:SP}}function oue(e,t){const r=n=>iue({...e,...sue(n)});return{...r(t),create:r}}const EG=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),lO=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),aue=BigInt(0),cue=BigInt(1),XA=BigInt(2),dO=(e,t)=>(e+t/XA)/t;function uue(e){const t=EG,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,f=js(l,r,t)*l%t,d=js(f,r,t)*l%t,h=js(d,XA,t)*u%t,g=js(h,i,t)*h%t,p=js(g,s,t)*g%t,b=js(p,a,t)*p%t,w=js(b,c,t)*b%t,y=js(w,a,t)*p%t,v=js(y,r,t)*l%t,m=js(v,o,t)*g%t,C=js(m,n,t)*u%t,E=js(C,XA,t);if(!ex.eql(ex.sqr(E),e))throw new Error("Cannot find square root");return E}const ex=E9(EG,void 0,void 0,{sqrt:uue}),_9=oue({a:aue,b:BigInt(7),Fp:ex,n:lO,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=lO,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-cue*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=dO(s*e,t),c=dO(-n*e,t);let u=Ri(e-a*r-c*i,t),l=Ri(-a*n-c*s,t);const f=u>o,d=l>o;if(f&&(u=t-u),d&&(l=t-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:d,k2:l}}}},pne),lue=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:_9},Symbol.toStringTag,{value:"Module"}));function due({r:e,s:t,to:r="hex",v:n,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new _9.Signature(Er(e),Er(t)).toCompactHex()}${s===0?"1b":"1c"}`;return r==="hex"?o:Vs(o)}async function Y3(e,t){const{address:r,chain:n=e.chain,hash:i,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??n?.contracts?.erc6492Verifier?.address,multicallAddress:o=t.multicallAddress??n?.contracts?.multicall3?.address}=t;if(n?.verifyHash)return await n.verifyHash(e,t);const a=(()=>{const c=t.signature;return xo(c)?c:typeof c=="object"&&"r"in c&&"s"in c?due(c):zr(c)})();try{return pce(a)?await fue(e,{...t,multicallAddress:o,signature:a}):await hue(e,{...t,verifierAddress:s,signature:a})}catch(c){try{if(kp(mn(r),await bV({hash:i,signature:a})))return!0}catch{}if(c instanceof pd)return!1;throw c}}async function fue(e,t){const{address:r,blockNumber:n,blockTag:i,hash:s,multicallAddress:o}=t,{authorization:a,data:c,signature:u,to:l}=hce(t.signature);if(await g5(e,{address:r,blockNumber:n,blockTag:i})===zi(["0xef0100",a.address]))return await pue(e,{address:r,blockNumber:n,blockTag:i,hash:s,signature:u});const d={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:le(a.r,{size:32}),s:le(a.s,{size:32}),yParity:a.yParity};if(!await Qoe({address:r,authorization:d}))throw new pd;const g=await Ie(e,Es,"readContract")({...o?{address:o}:{code:WP},authorizationList:[d],abi:f5,blockNumber:n,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:l??r,callData:c}]:[],{allowFailure:!0,target:r,callData:Fi({abi:yW,functionName:"isValidSignature",args:[s,u]})}]]});if(g[g.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new pd}async function hue(e,t){const{address:r,factory:n,factoryData:i,hash:s,signature:o,verifierAddress:a,...c}=t,u=await (async()=>!n&&!i||Nce(o)?o:kce({data:i,signature:o,to:n}))(),l=a?{to:a,data:Fi({abi:PT,functionName:"isValidSig",args:[r,s,u]}),...c}:{data:k3({abi:PT,args:[r,s,u],bytecode:Dse}),...c},{data:f}=await Ie(e,g1,"call")(l).catch(d=>{throw d instanceof zW?new pd:d});if(eie(f??"0x0"))return!0;throw new pd}async function pue(e,t){const{address:r,blockNumber:n,blockTag:i,hash:s,signature:o}=t;if((await Ie(e,Es,"readContract")({address:r,abi:yW,args:[s,o],blockNumber:n,blockTag:i,functionName:"isValidSignature"}).catch(c=>{throw c instanceof j3?new pd:c})).startsWith("0x1626ba7e"))return!0;throw new pd}class pd extends Error{}async function gue(e,{address:t,message:r,factory:n,factoryData:i,signature:s,...o}){const a=MV(r);return Ie(e,Y3,"verifyHash")({address:t,factory:n,factoryData:i,hash:a,signature:s,...o})}async function mue(e,t){const{address:r,factory:n,factoryData:i,signature:s,message:o,primaryType:a,types:c,domain:u,...l}=t,f=qV({message:o,primaryType:a,types:c,domain:u});return Ie(e,Y3,"verifyHash")({address:r,factory:n,factoryData:i,hash:f,signature:s,...l})}const d_=new Map,fO=new Map;let bue=0;function fa(e,t,r){const n=++bue,i=()=>d_.get(e)||[],s=()=>{const l=i();d_.set(e,l.filter(f=>f.id!==n))},o=()=>{const l=i();if(!l.some(d=>d.id===n))return;const f=fO.get(e);if(l.length===1&&f){const d=f();d instanceof Promise&&d.catch(()=>{})}s()},a=i();if(d_.set(e,[...a,{id:n,fns:t}]),a&&a.length>0)return o;const c={};for(const l in t)c[l]=((...f)=>{const d=i();if(d.length!==0)for(const h of d)h.fns[l]?.(...f)});const u=r(c);return typeof u=="function"&&fO.set(e,u),o}function zd(e,{emitOnBegin:t,initialWaitTime:r,interval:n}){let i=!0;const s=()=>i=!1;return(async()=>{let a;t&&(a=await e({unpoll:s}));const c=await r?.(a)??n;await b5(c);const u=async()=>{i&&(await e({unpoll:s}),await b5(n),u())};u()})(),s}function _G(e,{emitOnBegin:t=!1,emitMissed:r=!1,onBlockNumber:n,onError:i,poll:s,pollingInterval:o=e.pollingInterval}){const a=typeof s<"u"?s:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const f=_r(["watchBlockNumber",e.uid,t,r,o]);return fa(f,{onBlockNumber:n,onError:i},d=>zd(async()=>{try{const h=await Ie(e,w1,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(h===c)return;if(h-c>1&&r)for(let g=c+1n;g<h;g++)d.onBlockNumber(g,c),c=g}(c===void 0||h>c)&&(d.onBlockNumber(h,c),c=h)}catch(h){d.onError?.(h)}},{emitOnBegin:t,interval:o}))})():(()=>{const f=_r(["watchBlockNumber",e.uid,t,r]);return fa(f,{onBlockNumber:n,onError:i},d=>{let h=!0,g=()=>h=!1;return(async()=>{try{const p=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(y=>y.config.type==="webSocket"||y.config.type==="ipc");return w?w.value:e.transport}return e.transport})(),{unsubscribe:b}=await p.subscribe({params:["newHeads"],onData(w){if(!h)return;const y=Er(w.result?.number);d.onBlockNumber(y,c),c=y},onError(w){d.onError?.(w)}});g=b,h||g()}catch(p){i?.(p)}})(),()=>g()})})()}async function CG(e,t){const{checkReplacement:r=!0,confirmations:n=1,hash:i,onReplaced:s,retryCount:o=6,retryDelay:a=({count:C})=>~~(1<<C)*200,timeout:c=18e4}=t,u=_r(["waitForTransactionReceipt",e.uid,i]),l=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let f,d,h,g=!1,p,b;const{promise:w,resolve:y,reject:v}=GP(),m=c?setTimeout(()=>{b?.(),p?.(),v(new Zie({hash:i}))},c):void 0;return p=fa(u,{onReplaced:s,resolve:y,reject:v},async C=>{if(h=await Ie(e,G6,"getTransactionReceipt")({hash:i}).catch(()=>{}),h&&n<=1){clearTimeout(m),C.resolve(h),p?.();return}b=Ie(e,_G,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:l,async onBlockNumber(E){const _=x=>{clearTimeout(m),b?.(),x(),p?.()};let P=E;if(!g)try{if(h){if(n>1&&(!h.blockNumber||P-h.blockNumber+1n<n))return;_(()=>C.resolve(h));return}if(r&&!f&&(g=!0,await hd(async()=>{f=await Ie(e,b9,"getTransaction")({hash:i}),f.blockNumber&&(P=f.blockNumber)},{delay:a,retryCount:o}),g=!1),h=await Ie(e,G6,"getTransactionReceipt")({hash:i}),n>1&&(!h.blockNumber||P-h.blockNumber+1n<n))return;_(()=>C.resolve(h))}catch(x){if(x instanceof LW||x instanceof UW){if(!f){g=!1;return}try{d=f,g=!0;const O=await hd(()=>Ie(e,vo,"getBlock")({blockNumber:P,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:k})=>k instanceof EV});g=!1;const D=O.transactions.find(({from:k,nonce:T})=>k===d.from&&T===d.nonce);if(!D||(h=await Ie(e,G6,"getTransactionReceipt")({hash:D.hash}),n>1&&(!h.blockNumber||P-h.blockNumber+1n<n)))return;let R="replaced";D.to===d.to&&D.value===d.value&&D.input===d.input?R="repriced":D.from===D.to&&D.value===0n&&(R="cancelled"),_(()=>{C.onReplaced?.({reason:R,replacedTransaction:d,transaction:D,transactionReceipt:h}),C.resolve(h)})}catch(O){_(()=>C.reject(O))}}else _(()=>C.reject(x))}}})}),w}function yue(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),l=o??!1;let f;return u?(()=>{const g=_r(["watchBlocks",e.uid,t,r,n,l,c]);return fa(g,{onBlock:i,onError:s},p=>zd(async()=>{try{const b=await Ie(e,vo,"getBlock")({blockTag:t,includeTransactions:l});if(b.number!==null&&f?.number!=null){if(b.number===f.number)return;if(b.number-f.number>1&&r)for(let w=f?.number+1n;w<b.number;w++){const y=await Ie(e,vo,"getBlock")({blockNumber:w,includeTransactions:l});p.onBlock(y,f),f=y}}(f?.number==null||t==="pending"&&b?.number==null||b.number!==null&&b.number>f.number)&&(p.onBlock(b,f),f=b)}catch(b){p.onError?.(b)}},{emitOnBegin:n,interval:c}))})():(()=>{let g=!0,p=!0,b=()=>g=!1;return(async()=>{try{n&&Ie(e,vo,"getBlock")({blockTag:t,includeTransactions:l}).then(v=>{g&&p&&(i(v,void 0),p=!1)}).catch(s);const w=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(m=>m.config.type==="webSocket"||m.config.type==="ipc");return v?v.value:e.transport}return e.transport})(),{unsubscribe:y}=await w.subscribe({params:["newHeads"],async onData(v){if(!g)return;const m=await Ie(e,vo,"getBlock")({blockNumber:v.result?.number,includeTransactions:l}).catch(()=>{});g&&(i(m,f),p=!1,f=m)},onError(v){s?.(v)}});b=y,g||b()}catch(w){s?.(w)}})(),()=>b()})()}function wue(e,t){const{abi:r,address:n,args:i,batch:s=!0,eventName:o,fromBlock:a,onError:c,onLogs:u,poll:l,pollingInterval:f=e.pollingInterval,strict:d}=t;return(typeof l<"u"?l:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const b=d??!1,w=_r(["watchContractEvent",n,i,s,e.uid,o,f,b,a]);return fa(w,{onLogs:u,onError:c},y=>{let v;a!==void 0&&(v=a-1n);let m,C=!1;const E=zd(async()=>{if(!C){try{m=await Ie(e,pV,"createContractEventFilter")({abi:r,address:n,args:i,eventName:o,strict:b,fromBlock:a})}catch{}C=!0;return}try{let _;if(m)_=await Ie(e,q3,"getFilterChanges")({filter:m});else{const P=await Ie(e,w1,"getBlockNumber")({});v&&v<P?_=await Ie(e,RV,"getContractEvents")({abi:r,address:n,args:i,eventName:o,fromBlock:v+1n,toBlock:P,strict:b}):_=[],v=P}if(_.length===0)return;if(s)y.onLogs(_);else for(const P of _)y.onLogs([P])}catch(_){m&&_ instanceof Pu&&(C=!1),y.onError?.(_)}},{emitOnBegin:!0,interval:f});return async()=>{m&&await Ie(e,G3,"uninstallFilter")({filter:m}),E()}})})():(()=>{const b=d??!1,w=_r(["watchContractEvent",n,i,s,e.uid,o,f,b]);let y=!0,v=()=>y=!1;return fa(w,{onLogs:u,onError:c},m=>((async()=>{try{const C=(()=>{if(e.transport.type==="fallback"){const P=e.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return P?P.value:e.transport}return e.transport})(),E=o?m1({abi:r,eventName:o,args:i}):[],{unsubscribe:_}=await C.subscribe({params:["logs",{address:n,topics:E}],onData(P){if(!y)return;const x=P.result;try{const{eventName:O,args:D}=m5({abi:r,data:x.data,topics:x.topics,strict:d}),R=da(x,{args:D,eventName:O});m.onLogs([R])}catch(O){let D,R;if(O instanceof h5||O instanceof jP){if(d)return;D=O.abiItem.name,R=O.abiItem.inputs?.some(T=>!("name"in T&&T.name))}const k=da(x,{args:R?[]:{},eventName:D});m.onLogs([k])}},onError(P){m.onError?.(P)}});v=_,y||v()}catch(C){c?.(C)}})(),()=>v()))})()}function vue(e,{address:t,args:r,batch:n=!0,event:i,events:s,fromBlock:o,onError:a,onLogs:c,poll:u,pollingInterval:l=e.pollingInterval,strict:f}){const d=typeof u<"u"?u:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=f??!1;return d?(()=>{const b=_r(["watchEvent",t,r,n,e.uid,i,l,o]);return fa(b,{onLogs:c,onError:a},w=>{let y;o!==void 0&&(y=o-1n);let v,m=!1;const C=zd(async()=>{if(!m){try{v=await Ie(e,gV,"createEventFilter")({address:t,args:r,event:i,events:s,strict:h,fromBlock:o})}catch{}m=!0;return}try{let E;if(v)E=await Ie(e,q3,"getFilterChanges")({filter:v});else{const _=await Ie(e,w1,"getBlockNumber")({});y&&y!==_?E=await Ie(e,a9,"getLogs")({address:t,args:r,event:i,events:s,fromBlock:y+1n,toBlock:_}):E=[],y=_}if(E.length===0)return;if(n)w.onLogs(E);else for(const _ of E)w.onLogs([_])}catch(E){v&&E instanceof Pu&&(m=!1),w.onError?.(E)}},{emitOnBegin:!0,interval:l});return async()=>{v&&await Ie(e,G3,"uninstallFilter")({filter:v}),C()}})})():(()=>{let b=!0,w=()=>b=!1;return(async()=>{try{const y=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(_=>_.config.type==="webSocket"||_.config.type==="ipc");return E?E.value:e.transport}return e.transport})(),v=s??(i?[i]:void 0);let m=[];v&&(m=[v.flatMap(_=>m1({abi:[_],eventName:_.name,args:r}))],i&&(m=m[0]));const{unsubscribe:C}=await y.subscribe({params:["logs",{address:t,topics:m}],onData(E){if(!b)return;const _=E.result;try{const{eventName:P,args:x}=m5({abi:v??[],data:_.data,topics:_.topics,strict:h}),O=da(_,{args:x,eventName:P});c([O])}catch(P){let x,O;if(P instanceof h5||P instanceof jP){if(f)return;x=P.abiItem.name,O=P.abiItem.inputs?.some(R=>!("name"in R&&R.name))}const D=da(_,{args:O?[]:{},eventName:x});c([D])}},onError(E){a?.(E)}});w=C,b||w()}catch(y){a?.(y)}})(),()=>w()})()}function Eue(e,{batch:t=!0,onError:r,onTransactions:n,poll:i,pollingInterval:s=e.pollingInterval}){return(typeof i<"u"?i:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=_r(["watchPendingTransactions",e.uid,t,s]);return fa(u,{onTransactions:n,onError:r},l=>{let f;const d=zd(async()=>{try{if(!f)try{f=await Ie(e,mV,"createPendingTransactionFilter")({});return}catch(g){throw d(),g}const h=await Ie(e,q3,"getFilterChanges")({filter:f});if(h.length===0)return;if(t)l.onTransactions(h);else for(const g of h)l.onTransactions([g])}catch(h){l.onError?.(h)}},{emitOnBegin:!0,interval:s});return async()=>{f&&await Ie(e,G3,"uninstallFilter")({filter:f}),d()}})})():(()=>{let u=!0,l=()=>u=!1;return(async()=>{try{const{unsubscribe:f}=await e.transport.subscribe({params:["newPendingTransactions"],onData(d){if(!u)return;const h=d.result;n([h])},onError(d){r?.(d)}});l=f,u||l()}catch(f){r?.(f)}})(),()=>l()})()}async function _ue(e,{chain:t}){const{id:r,name:n,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:le(r),chainName:n,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}class jo extends se{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class Jl extends se{constructor({docsPath:t,metaMessages:r,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:t,metaMessages:r,name:"AccountTypeNotSupportedError"})}}async function C9(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const f_=new Ld(128);async function Q3(e,t){const{account:r=e.account,assertChainId:n=!0,chain:i=e.chain,accessList:s,authorizationList:o,blobs:a,data:c,gas:u,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:g,type:p,value:b,...w}=t;if(typeof r>"u")throw new jo({docsPath:"/docs/actions/wallet/sendTransaction"});const y=r?zt(r):null;try{Pc(t);const v=await (async()=>{if(t.to)return t.to;if(t.to!==null&&o&&o.length>0)return await L3({authorization:o[0]}).catch(()=>{throw new se("`to` is required. Could not infer from `authorizationList`.")})})();if(y?.type==="json-rpc"||y===null){let m;i!==null&&(m=await Ie(e,wa,"getChainId")({}),n&&u9({currentChainId:m,chain:i}));const C=e.chain?.formatters?.transactionRequest?.format,_=(C||Bu)({...Rp(w,{format:C}),accessList:s,account:y,authorizationList:o,blobs:a,chainId:m,data:c,gas:u,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:g,to:v,type:p,value:b},"sendTransaction"),P=f_.get(e.uid),x=P?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:x,params:[_]},{retryCount:0})}catch(O){if(P===!1)throw O;const D=O;if(D.name==="InvalidInputRpcError"||D.name==="InvalidParamsRpcError"||D.name==="MethodNotFoundRpcError"||D.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[_]},{retryCount:0}).then(R=>(f_.set(e.uid,!0),R)).catch(R=>{const k=R;throw k.name==="MethodNotFoundRpcError"||k.name==="MethodNotSupportedRpcError"?(f_.set(e.uid,!1),D):k});throw D}}if(y?.type==="local"){const m=await Ie(e,y1,"prepareTransactionRequest")({account:y,accessList:s,authorizationList:o,blobs:a,chain:i,data:c,gas:u,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:g,nonceManager:y.nonceManager,parameters:[...i9,"sidecars"],type:p,value:b,...w,to:v}),C=i?.serializers?.transaction,E=await y.signTransaction(m,{serializer:C});return await Ie(e,C9,"sendRawTransaction")({serializedTransaction:E})}throw y?.type==="smart"?new Jl({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Jl({docsPath:"/docs/actions/wallet/sendTransaction",type:y?.type})}catch(v){throw v instanceof Jl?v:U3(v,{...t,account:y,chain:t.chain||void 0})}}function Cue(e,t){const{abi:r,args:n,bytecode:i,...s}=t,o=k3({abi:r,args:n,bytecode:i});return Q3(e,{...s,...s.authorizationList?{to:null}:{},data:o})}async function Aue(e){return e.account?.type==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>a1(r))}const AG="0x5792579257925792579257925792579257925792579257925792579257925792",xG=le(0,{size:32});async function IG(e,t){const{account:r=e.account,capabilities:n,chain:i=e.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:u="2.0.0"}=t,l=r?zt(r):null,f=t.calls.map(d=>{const h=d,g=h.abi?Fi({abi:h.abi,functionName:h.functionName,args:h.args}):h.data;return{data:h.dataSuffix&&g?Jr([g,h.dataSuffix]):g,to:h.to,value:h.value?le(h.value):void 0}});try{const d=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:f,capabilities:n,chainId:le(i.id),from:l?.address,id:c,version:u}]},{retryCount:0});return typeof d=="string"?{id:d}:d}catch(d){const h=d;if(s&&(h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"||h.name==="UnknownRpcError"||h.details.toLowerCase().includes("does not exist / is not available")||h.details.toLowerCase().includes("missing or invalid. request()")||h.details.toLowerCase().includes("did not match any variant of untagged enum")||h.details.toLowerCase().includes("account upgraded to unsupported contract")||h.details.toLowerCase().includes("eip-7702 not supported")||h.details.toLowerCase().includes("unsupported wc_ method")||h.details.toLowerCase().includes("feature toggled misconfigured")||h.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(n&&Object.values(n).some(y=>!y.optional)){const y="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Vh(new se(y,{details:y}))}if(a&&f.length>1){const w="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Gh(new se(w,{details:w}))}const g=[];for(const w of f){const y=Q3(e,{account:l,chain:i,data:w.data,to:w.to,value:w.value?Er(w.value):void 0});g.push(y),o>0&&await new Promise(v=>setTimeout(v,o))}const p=await Promise.allSettled(g);if(p.every(w=>w.status==="rejected"))throw p[0].reason;const b=p.map(w=>w.status==="fulfilled"?w.value:xG);return{id:Jr([...b,le(i.id,{size:32}),AG])}}throw U3(d,{...t,account:l,chain:t.chain})}}async function PG(e,t){async function r(l){if(l.endsWith(AG.slice(2))){const d=Ui(OA(l,-64,-32)),h=OA(l,0,-64).slice(2).match(/.{1,64}/g),g=await Promise.all(h.map(b=>xG.slice(2)!==b?e.request({method:"eth_getTransactionReceipt",params:[`0x${b}`]},{dedupe:!0}):void 0)),p=g.some(b=>b===null)?100:g.every(b=>b?.status==="0x1")?200:g.every(b=>b?.status==="0x0")?500:600;return{atomic:!1,chainId:ws(d),receipts:g.filter(Boolean),status:p,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[l]})}const{atomic:n=!1,chainId:i,receipts:s,version:o="2.0.0",...a}=await r(t.id),[c,u]=(()=>{const l=a.status;return l>=100&&l<200?["pending",l]:l>=200&&l<300?["success",l]:l>=300&&l<700?["failure",l]:l==="CONFIRMED"?["success",200]:l==="PENDING"?["pending",100]:[void 0,l]})();return{...a,atomic:n,chainId:i?ws(i):void 0,receipts:s?.map(l=>({...l,blockNumber:Er(l.blockNumber),gasUsed:Er(l.gasUsed),status:$V[l.status]}))??[],statusCode:u,status:c,version:o}}async function xue(e,t={}){const{account:r=e.account,chainId:n}=t,i=r?zt(r):void 0,s=n?[i?.address,[le(n)]]:[i?.address],o=await e.request({method:"wallet_getCapabilities",params:s}),a={};for(const[c,u]of Object.entries(o)){a[Number(c)]={};for(let[l,f]of Object.entries(u))l==="addSubAccount"&&(l="unstable_addSubAccount"),a[Number(c)][l]=f}return typeof n=="number"?a[n]:a}async function Iue(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function A9(e,t){const{account:r=e.account,chainId:n,nonce:i}=t;if(!r)throw new jo({docsPath:"/docs/eip7702/prepareAuthorization"});const s=zt(r),o=(()=>{if(t.executor)return t.executor==="self"?t.executor:zt(t.executor)})(),a={address:t.contractAddress??t.address,chainId:n,nonce:i};return typeof a.chainId>"u"&&(a.chainId=e.chain?.id??await Ie(e,wa,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await Ie(e,XP,"getTransactionCount")({address:s.address,blockTag:"pending"}),(o==="self"||o?.address&&kp(o.address,s.address))&&(a.nonce+=1)),a}async function Pue(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(r=>mn(r))}async function Sue(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}class Tue extends se{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}SG=async function(e,t){const{id:r,pollingInterval:n=e.pollingInterval,status:i=({statusCode:p})=>p===200||p>=300,retryCount:s=4,retryDelay:o=({count:p})=>~~(1<<p)*200,timeout:a=6e4,throwOnFailure:c=!1}=t,u=_r(["waitForCallsStatus",e.uid,r]),{promise:l,resolve:f,reject:d}=GP();let h;const g=fa(u,{resolve:f,reject:d},p=>{const b=zd(async()=>{const w=y=>{clearTimeout(h),b(),y(),g()};try{const y=await hd(async()=>{const v=await Ie(e,PG,"getCallsStatus")({id:r});if(c&&v.status==="failure")throw new Tue(v);return v},{retryCount:s,delay:o});if(!i(y))return;w(()=>p.resolve(y))}catch(y){w(()=>p.reject(y))}},{interval:n,emitOnBegin:!0});return b});return h=a?setTimeout(()=>{g(),clearTimeout(h),d(new Oue({id:r}))},a):void 0,await l};class Oue extends se{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}async function jue(e,t){const{chain:r=e.chain}=t,n=t.timeout??Math.max((r?.blockTime??0)*3,5e3),i=await IG(e,t);return await SG(e,{...t,id:i.id,timeout:n})}async function x9(e,{serializedTransaction:t,throwOnReceiptRevert:r,timeout:n}){const i=await e.request({method:"eth_sendRawTransactionSync",params:n?[t,le(n)]:[t]},{retryCount:0}),o=(e.chain?.formatters?.transactionReceipt?.format||F3)(i);if(o.status==="reverted"&&r)throw new qW({receipt:o});return o}const h_=new Ld(128);async function TG(e,t){const{account:r=e.account,assertChainId:n=!0,chain:i=e.chain,accessList:s,authorizationList:o,blobs:a,data:c,gas:u,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:g,pollingInterval:p,throwOnReceiptRevert:b,type:w,value:y,...v}=t,m=t.timeout??Math.max((i?.blockTime??0)*3,5e3);if(typeof r>"u")throw new jo({docsPath:"/docs/actions/wallet/sendTransactionSync"});const C=r?zt(r):null;try{Pc(t);const E=await (async()=>{if(t.to)return t.to;if(t.to!==null&&o&&o.length>0)return await L3({authorization:o[0]}).catch(()=>{throw new se("`to` is required. Could not infer from `authorizationList`.")})})();if(C?.type==="json-rpc"||C===null){let _;i!==null&&(_=await Ie(e,wa,"getChainId")({}),n&&u9({currentChainId:_,chain:i}));const P=e.chain?.formatters?.transactionRequest?.format,O=(P||Bu)({...Rp(v,{format:P}),accessList:s,account:C,authorizationList:o,blobs:a,chainId:_,data:c,gas:u,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:g,to:E,type:w,value:y},"sendTransaction"),D=h_.get(e.uid),R=D?"wallet_sendTransaction":"eth_sendTransaction",k=await (async()=>{try{return await e.request({method:R,params:[O]},{retryCount:0})}catch(S){if(D===!1)throw S;const I=S;if(I.name==="InvalidInputRpcError"||I.name==="InvalidParamsRpcError"||I.name==="MethodNotFoundRpcError"||I.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[O]},{retryCount:0}).then(A=>(h_.set(e.uid,!0),A)).catch(A=>{const j=A;throw j.name==="MethodNotFoundRpcError"||j.name==="MethodNotSupportedRpcError"?(h_.set(e.uid,!1),I):j});throw I}})(),T=await Ie(e,CG,"waitForTransactionReceipt")({checkReplacement:!1,hash:k,pollingInterval:p,timeout:m});if(b&&T.status==="reverted")throw new qW({receipt:T});return T}if(C?.type==="local"){const _=await Ie(e,y1,"prepareTransactionRequest")({account:C,accessList:s,authorizationList:o,blobs:a,chain:i,data:c,gas:u,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:g,nonceManager:C.nonceManager,parameters:[...i9,"sidecars"],type:w,value:y,...v,to:E}),P=i?.serializers?.transaction,x=await C.signTransaction(_,{serializer:P});return await Ie(e,x9,"sendRawTransactionSync")({serializedTransaction:x,throwOnReceiptRevert:b,timeout:t.timeout})}throw C?.type==="smart"?new Jl({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Jl({docsPath:"/docs/actions/wallet/sendTransactionSync",type:C?.type})}catch(E){throw E instanceof Jl?E:U3(E,{...t,account:C,chain:t.chain||void 0})}}async function Bue(e,t){const{id:r}=t;await e.request({method:"wallet_showCallsStatus",params:[r]})}async function Rue(e,t){const{account:r=e.account}=t;if(!r)throw new jo({docsPath:"/docs/eip7702/signAuthorization"});const n=zt(r);if(!n.signAuthorization)throw new Jl({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:n.type});const i=await A9(e,t);return n.signAuthorization(i)}async function OG(e,{account:t=e.account,message:r}){if(!t)throw new jo({docsPath:"/docs/actions/wallet/signMessage"});const n=zt(t);if(n.signMessage)return n.signMessage({message:r});const i=typeof r=="string"?od(r):r.raw instanceof Uint8Array?Gn(r.raw):r.raw;return e.request({method:"personal_sign",params:[i,n.address]},{retryCount:0})}async function kue(e,t){const{account:r=e.account,chain:n=e.chain,...i}=t;if(!r)throw new jo({docsPath:"/docs/actions/wallet/signTransaction"});const s=zt(r);Pc({account:s,...t});const o=await Ie(e,wa,"getChainId")({});n!==null&&u9({currentChainId:o,chain:n});const c=(n?.formatters||e.chain?.formatters)?.transactionRequest?.format||Bu;return s.signTransaction?s.signTransaction({...i,chainId:o},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...c({...i,account:s},"signTransaction"),chainId:le(o),from:s.address}]},{retryCount:0})}async function Nue(e,t){const{account:r=e.account,domain:n,message:i,primaryType:s}=t;if(!r)throw new jo({docsPath:"/docs/actions/wallet/signTypedData"});const o=zt(r),a={EIP712Domain:UV({domain:n}),...t.types};if(LV({domain:n,message:i,primaryType:s,types:a}),o.signTypedData)return o.signTypedData({domain:n,message:i,primaryType:s,types:a});const c=bae({domain:n,message:i,primaryType:s,types:a});return e.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function Due(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:le(t)}]},{retryCount:0})}async function $ue(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function Pm(e,t){return Pm.internal(e,Q3,"sendTransaction",t)}(function(e){async function t(r,n,i,s){const{abi:o,account:a=r.account,address:c,args:u,dataSuffix:l,functionName:f,...d}=s;if(typeof a>"u")throw new jo({docsPath:"/docs/contract/writeContract"});const h=a?zt(a):null,g=Fi({abi:o,args:u,functionName:f});try{return await Ie(r,n,i)({data:`${g}${l?l.replace("0x",""):""}`,to:c,account:h,...d})}catch(p){throw ud(p,{abi:o,address:c,args:u,docsPath:"/docs/contract/writeContract",functionName:f,sender:h?.address})}}e.internal=t})(Pm||(Pm={}));async function Mue(e,t){return Pm.internal(e,TG,"sendTransactionSync",t)}function Np(e,t,r){const n=e[t.name];if(typeof n=="function")return n;const i=e[r];return typeof i=="function"?i:s=>t(e,s)}const K6="2.22.1",Lue=()=>`@wagmi/core@${K6}`;var jG=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},E5,BG;let Sc=class tx extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return Lue()}constructor(t,r={}){super(),E5.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const n=r.cause instanceof tx?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof tx&&r.cause.docsPath||r.docsPath;this.message=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${r.docsSlug?`#${r.docsSlug}`:""}`]:[],...n?[`Details: ${n}`]:[],`Version: ${this.version}`].join(`
`),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=t}walk(t){return jG(this,E5,"m",BG).call(this,this,t)}};E5=new WeakSet,BG=function e(t,r){return r?.(t)?t:t.cause?jG(this,E5,"m",e).call(this,t.cause,r):t};class Tu extends Sc{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class Uue extends Sc{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class que extends Sc{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class zue extends Sc{constructor({address:t,connector:r}){super(`Account "${t}" not found for connector "${r.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class Fue extends Sc{constructor({connectionChainId:t,connectorChainId:r}){super(`The current chain of the connector (id: ${r}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class Hue extends Sc{constructor({connector:t}){super(`Connector "${t.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function Wue(e,t){let r;if(typeof t.connector=="function"?r=e._internal.connectors.setup(t.connector):r=t.connector,r.uid===e.state.current)throw new Uue;try{e.setState(o=>({...o,status:"connecting"})),r.emitter.emit("message",{type:"connecting"});const{connector:n,...i}=t,s=await r.connect(i);return r.emitter.off("connect",e._internal.events.connect),r.emitter.on("change",e._internal.events.change),r.emitter.on("disconnect",e._internal.events.disconnect),await e.storage?.setItem("recentConnectorId",r.id),e.setState(o=>({...o,connections:new Map(o.connections).set(r.uid,{accounts:i.withCapabilities?s.accounts.map(a=>typeof a=="object"?a.address:a):s.accounts,chainId:s.chainId,connector:r}),current:r.uid,status:"connected"})),{accounts:i.withCapabilities?s.accounts.map(o=>typeof o=="object"?o:{address:o,capabilities:{}}):s.accounts,chainId:s.chainId}}catch(n){throw e.setState(i=>({...i,status:i.current?"connected":"disconnected"})),n}}const rx=256;let Fb=rx,Hb;function RG(e=11){if(!Hb||Fb+e>rx*2){Hb="",Fb=0;for(let t=0;t<rx;t++)Hb+=(256+Math.random()*256|0).toString(16).substring(1)}return Hb.substring(Fb,Fb+++e)}function J3(e){const{batch:t,chain:r,ccipRead:n,key:i="base",name:s="Base Client",type:o="base"}=e,a=e.experimental_blockTag??(typeof r?.experimental_preconfirmationTime=="number"?"pending":void 0),c=r?.blockTime??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),l=e.pollingInterval??u,f=e.cacheTime??l,d=e.account?zt(e.account):void 0,{config:h,request:g,value:p}=e.transport({account:d,chain:r,pollingInterval:l}),b={...h,...p},w={account:d,batch:t,cacheTime:f,ccipRead:n,chain:r,key:i,name:s,pollingInterval:l,request:g,transport:b,type:o,uid:RG(),...a?{experimental_blockTag:a}:{}};function y(v){return m=>{const C=m(v);for(const _ in w)delete C[_];const E={...v,...C};return Object.assign(E,{extend:y(E)})}}return Object.assign(w,{extend:y(w)})}function Vue(e){const{scheme:t,statement:r,...n}=e.match(Gue)?.groups??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:c,...u}=e.match(Kue)?.groups??{},l=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...n,...u,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...l?{resources:l}:{},...t?{scheme:t}:{},...r?{statement:r}:{}}}const Gue=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Kue=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Zue(e){const{address:t,domain:r,message:n,nonce:i,scheme:s,time:o=new Date}=e;if(r&&n.domain!==r||i&&n.nonce!==i||s&&n.scheme!==s||n.expirationTime&&o>=n.expirationTime||n.notBefore&&o<n.notBefore)return!1;try{if(!n.address||!kr(n.address,{strict:!1})||t&&!kp(n.address,t))return!1}catch{return!1}return!0}async function Yue(e,t){const{address:r,domain:n,message:i,nonce:s,scheme:o,signature:a,time:c=new Date,...u}=t,l=Vue(i);if(!l.address||!Zue({address:r,domain:n,message:l,nonce:s,scheme:o,time:c}))return!1;const d=MV(i);return Y3(e,{address:l.address,hash:d,signature:a,...u})}function kG(e){return{call:t=>g1(e,t),createAccessList:t=>hV(e,t),createBlockFilter:()=>ioe(e),createContractEventFilter:t=>pV(e,t),createEventFilter:t=>gV(e,t),createPendingTransactionFilter:()=>mV(e),estimateContractGas:t=>Aoe(e,t),estimateGas:t=>s9(e,t),getBalance:t=>BV(e,t),getBlobBaseFee:()=>xoe(e),getBlock:t=>vo(e,t),getBlockNumber:t=>w1(e,t),getBlockTransactionCount:t=>joe(e,t),getBytecode:t=>g5(e,t),getChainId:()=>wa(e),getCode:t=>g5(e,t),getContractEvents:t=>RV(e,t),getEip712Domain:t=>Noe(e,t),getEnsAddress:t=>Hse(e,t),getEnsAvatar:t=>dV(e,t),getEnsName:t=>fV(e,t),getEnsResolver:t=>noe(e,t),getEnsText:t=>lV(e,t),getFeeHistory:t=>Moe(e,t),estimateFeesPerGas:t=>AV(e,t),getFilterChanges:t=>q3(e,t),getFilterLogs:t=>Loe(e,t),getGasPrice:()=>JP(e),getLogs:t=>a9(e,t),getProof:t=>wce(e,t),estimateMaxPriorityFeePerGas:t=>boe(e,t),fillTransaction:t=>n9(e,t),getStorageAt:t=>vce(e,t),getTransaction:t=>b9(e,t),getTransactionConfirmations:t=>Ece(e,t),getTransactionCount:t=>XP(e,t),getTransactionReceipt:t=>G6(e,t),multicall:t=>tG(e,t),prepareTransactionRequest:t=>y1(e,t),readContract:t=>Es(e,t),sendRawTransaction:t=>C9(e,t),sendRawTransactionSync:t=>x9(e,t),simulate:t=>GA(e,t),simulateBlocks:t=>GA(e,t),simulateCalls:t=>jce(e,t),simulateContract:t=>Bce(e,t),verifyHash:t=>Y3(e,t),verifyMessage:t=>gue(e,t),verifySiweMessage:t=>Yue(e,t),verifyTypedData:t=>mue(e,t),uninstallFilter:t=>G3(e,t),waitForTransactionReceipt:t=>CG(e,t),watchBlocks:t=>yue(e,t),watchBlockNumber:t=>_G(e,t),watchContractEvent:t=>wue(e,t),watchEvent:t=>vue(e,t),watchPendingTransactions:t=>Eue(e,t)}}xWe=function(e){const{key:t="public",name:r="Public Client"}=e;return J3({...e,key:t,name:r,type:"publicClient"}).extend(kG)};function Que(e){return{addChain:t=>_ue(e,t),deployContract:t=>Cue(e,t),fillTransaction:t=>n9(e,t),getAddresses:()=>Aue(e),getCallsStatus:t=>PG(e,t),getCapabilities:t=>xue(e,t),getChainId:()=>wa(e),getPermissions:()=>Iue(e),prepareAuthorization:t=>A9(e,t),prepareTransactionRequest:t=>y1(e,t),requestAddresses:()=>Pue(e),requestPermissions:t=>Sue(e,t),sendCalls:t=>IG(e,t),sendCallsSync:t=>jue(e,t),sendRawTransaction:t=>C9(e,t),sendRawTransactionSync:t=>x9(e,t),sendTransaction:t=>Q3(e,t),sendTransactionSync:t=>TG(e,t),showCallsStatus:t=>Bue(e,t),signAuthorization:t=>Rue(e,t),signMessage:t=>OG(e,t),signTransaction:t=>kue(e,t),signTypedData:t=>Nue(e,t),switchChain:t=>Due(e,t),waitForCallsStatus:t=>SG(e,t),watchAsset:t=>$ue(e,t),writeContract:t=>Pm(e,t),writeContractSync:t=>Mue(e,t)}}function I9({key:e,methods:t,name:r,request:n,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const u=RG();return{config:{key:e,methods:t,name:r,request:n,retryCount:i,retryDelay:s,timeout:o,type:a},request:Xoe(n,{methods:t,retryCount:i,retryDelay:s,uid:u}),value:c}}function Jue(e,t={}){const{key:r="custom",methods:n,name:i="Custom Provider",retryDelay:s}=t;return({retryCount:o})=>I9({key:r,methods:n,name:i,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:s,type:"custom"})}function hO(e,t={}){const{key:r="fallback",name:n="Fallback",rank:i=!1,shouldThrow:s=Xue,retryCount:o,retryDelay:a}=t;return(({chain:c,pollingInterval:u=4e3,timeout:l,...f})=>{let d=e,h=()=>{};const g=I9({key:r,name:n,async request({method:p,params:b}){let w;const y=async(v=0)=>{const m=d[v]({...f,chain:c,retryCount:0,timeout:l});try{const C=await m.request({method:p,params:b});return h({method:p,params:b,response:C,transport:m,status:"success"}),C}catch(C){if(h({error:C,method:p,params:b,transport:m,status:"error"}),s(C)||v===d.length-1||(w??=d.slice(v+1).some(E=>{const{include:_,exclude:P}=E({chain:c}).config.methods||{};return _?_.includes(p):P?!P.includes(p):!0}),!w))throw C;return y(v+1)}};return y()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:p=>h=p,transports:d.map(p=>p({chain:c,retryCount:0}))});if(i){const p=typeof i=="object"?i:{};ele({chain:c,interval:p.interval??u,onTransports:b=>d=b,ping:p.ping,sampleCount:p.sampleCount,timeout:p.timeout,transports:d,weights:p.weights})}return g})}function Xue(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===Hh.code||e.code===St.code||Ul.nodeMessage.test(e.message)||e.code===5e3))}function ele({chain:e,interval:t=4e3,onTransports:r,ping:n,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:u=.3}=a,l=[],f=async()=>{const d=await Promise.all(o.map(async p=>{const b=p({chain:e,retryCount:0,timeout:s}),w=Date.now();let y,v;try{await (n?n({transport:b}):b.request({method:"net_listening"})),v=1}catch{v=0}finally{y=Date.now()}return{latency:y-w,success:v}}));l.push(d),l.length>i&&l.shift();const h=Math.max(...l.map(p=>Math.max(...p.map(({latency:b})=>b)))),g=o.map((p,b)=>{const w=l.map(E=>E[b].latency),v=1-w.reduce((E,_)=>E+_,0)/w.length/h,m=l.map(E=>E[b].success),C=m.reduce((E,_)=>E+_,0)/m.length;return C===0?[0,b]:[u*v+c*C,b]}).sort((p,b)=>b[0]-p[0]);r(g.map(([,p])=>o[p])),await b5(t),f()};f()}class tle extends se{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}ui=function(e,t={}){const{batch:r,fetchFn:n,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:l,raw:f}=t;return({chain:d,retryCount:h,timeout:g})=>{const{batchSize:p=1e3,wait:b=0}=typeof r=="object"?r:{},w=t.retryCount??h,y=g??t.timeout??1e4,v=e||d?.rpcUrls.default.http[0];if(!v)throw new tle;const m=lae(v,{fetchFn:n,fetchOptions:i,onRequest:c,onResponse:u,timeout:y});return I9({key:s,methods:o,name:a,async request({method:C,params:E}){const _={method:C,params:E},{schedule:P}=oV({id:v,wait:b,shouldSplitBatch(R){return R.length>p},fn:R=>m.request({body:R}),sort:(R,k)=>R.id-k.id}),x=async R=>r?P(R):[await m.request({body:R})],[{error:O,result:D}]=await x(_);if(f)return{error:O,result:D};if(O)throw new FP({body:_,error:O,url:v});return D},retryCount:w,retryDelay:l,timeout:y,type:"http"},{fetchOptions:i,url:v})}};IWe=function(e){const{r:t,s:r}=_9.Signature.fromCompact(e.slice(2,130)),n=+`0x${e.slice(130)}`,[i,s]=(()=>{if(n===0||n===1)return[void 0,n];if(n===27)return[BigInt(n),0];if(n===28)return[BigInt(n),1];throw new Error("Invalid yParityOrV value")})();return typeof i<"u"?{r:le(t,{size:32}),s:le(r,{size:32}),v:i,yParity:s}:{r:le(t,{size:32}),s:le(r,{size:32}),yParity:s}};async function NG(e,t={}){const{assertChainId:r=!0}=t;let n;if(t.connector){const{connector:l}=t;if(e.state.status==="reconnecting"&&!l.getAccounts&&!l.getChainId)throw new Hue({connector:l});const[f,d]=await Promise.all([l.getAccounts().catch(h=>{if(t.account===null)return[];throw h}),l.getChainId()]);n={accounts:f,chainId:d,connector:l}}else n=e.state.connections.get(e.state.current);if(!n)throw new que;const i=t.chainId??n.chainId,s=await n.connector.getChainId();if(r&&s!==i)throw new Fue({connectionChainId:i,connectorChainId:s});const o=n.connector;if(o.getClient)return o.getClient({chainId:i});const a=zt(t.account??n.accounts[0]);if(a&&(a.address=mn(a.address)),t.account&&!n.accounts.some(l=>l.toLowerCase()===a.address.toLowerCase()))throw new zue({address:a.address,connector:o});const c=e.chains.find(l=>l.id===i),u=await n.connector.getProvider({chainId:i});return J3({account:a,chain:c,name:"Connector Client",transport:l=>Jue(u)({...l,retryCount:0})})}async function rle(e,t={}){let r;if(t.connector)r=t.connector;else{const{connections:i,current:s}=e.state;r=i.get(s)?.connector}const n=e.state.connections;r&&(await r.disconnect(),r.emitter.off("change",e._internal.events.change),r.emitter.off("disconnect",e._internal.events.disconnect),r.emitter.on("connect",e._internal.events.connect),n.delete(r.uid)),e.setState(i=>{if(n.size===0)return{...i,connections:new Map,current:null,status:"disconnected"};const s=n.values().next().value;return{...i,connections:new Map(n),current:s.connector.uid}});{const i=e.state.current;if(!i)return;const s=e.state.connections.get(i)?.connector;if(!s)return;await e.storage?.setItem("recentConnectorId",s.id)}}function DG(e){return typeof e=="number"?e:e==="wei"?0:Math.abs(qie[e])}function $G(e){const t=e.state.current,r=e.state.connections.get(t),n=r?.accounts,i=n?.[0],s=e.chains.find(a=>a.id===r?.chainId),o=e.state.status;switch(o){case"connected":return{address:i,addresses:n,chain:s,chainId:r?.chainId,connector:r?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:i,addresses:n,chain:s,chainId:r?.chainId,connector:r?.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:i,addresses:n,chain:s,chainId:r?.chainId,connector:r?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function nle(e,t){const{allowFailure:r=!0,chainId:n,contracts:i,...s}=t,o=e.getClient({chainId:n});return Np(o,tG,"multicall")({allowFailure:r,contracts:i,...s})}function ile(e,t){const{chainId:r,...n}=t,i=e.getClient({chainId:r});return Np(i,Es,"readContract")(n)}async function sle(e,t){const{allowFailure:r=!0,blockNumber:n,blockTag:i,...s}=t,o=t.contracts;try{const a={};for(const[f,d]of o.entries()){const h=d.chainId??e.state.chainId;a[h]||(a[h]=[]),a[h]?.push({contract:d,index:f})}const c=()=>Object.entries(a).map(([f,d])=>nle(e,{...s,allowFailure:r,blockNumber:n,blockTag:i,chainId:Number.parseInt(f,10),contracts:d.map(({contract:h})=>h)})),u=(await Promise.all(c())).flat(),l=Object.values(a).flatMap(f=>f.map(({index:d})=>d));return u.reduce((f,d,h)=>(f&&(f[l[h]]=d),f),[])}catch(a){if(a instanceof j3)throw a;const c=()=>o.map(u=>ile(e,{...u,blockNumber:n,blockTag:i}));return r?(await Promise.allSettled(c())).map(u=>u.status==="fulfilled"?{result:u.value,status:"success"}:{error:u.reason,result:void 0,status:"failure"}):await Promise.all(c())}}async function ole(e,t){const{address:r,blockNumber:n,blockTag:i,chainId:s,token:o,unit:a="ether"}=t;if(o)try{return await pO(e,{balanceAddress:r,chainId:s,symbolType:"string",tokenAddress:o})}catch(d){if(d.name==="ContractFunctionExecutionError"){const h=await pO(e,{balanceAddress:r,chainId:s,symbolType:"bytes32",tokenAddress:o}),g=tie(Ui(h.symbol,{dir:"right"}));return{...h,symbol:g}}throw d}const c=e.getClient({chainId:s}),l=await Np(c,BV,"getBalance")(n?{address:r,blockNumber:n}:{address:r,blockTag:i}),f=e.chains.find(d=>d.id===s)??c.chain;return{decimals:f.nativeCurrency.decimals,formatted:l1(l,DG(a)),symbol:f.nativeCurrency.symbol,value:l}}async function pO(e,t){const{balanceAddress:r,chainId:n,symbolType:i,tokenAddress:s,unit:o}=t,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:i}]}],address:s},[c,u,l]=await sle(e,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[r],chainId:n},{...a,functionName:"decimals",chainId:n},{...a,functionName:"symbol",chainId:n}]}),f=l1(c??"0",DG(o??u));return{decimals:u,formatted:f,symbol:l,value:c}}function gO(e){return e.state.chainId}function gd(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let r,n;if(Array.isArray(e)&&Array.isArray(t)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!gd(e[n],t[n]))return!1;return!0}if(typeof e.valueOf=="function"&&e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString)return e.toString()===t.toString();const i=Object.keys(e);if(r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.hasOwn(t,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(s&&!gd(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}let p_=[];function mO(e){const t=e.chains;return gd(p_,t)?p_:(p_=t,t)}function ale(e,t={}){try{return e.getClient(t)}catch{return}}let Wb=[];function nx(e){const t=[...e.state.connections.values()];return e.state.status==="reconnecting"||gd(Wb,t)?Wb:(Wb=t,t)}let Vb=[];function bO(e){const t=e.connectors;return Vb.length===t.length&&Vb.every((r,n)=>r===t[n])?Vb:(Vb=t,t)}function cle(e,t){const{chainId:r,...n}=t,i=e.getClient({chainId:r});return Np(i,dV,"getEnsAvatar")(n)}function ule(e,t){const{chainId:r,...n}=t,i=e.getClient({chainId:r});return Np(i,fV,"getEnsName")(n)}function ix(e,t={}){return ale(e,t)?.extend(kG)}async function lle(e,t={}){return(await NG(e,t)).extend(Que)}let g_=!1;async function dle(e,t={}){if(g_)return[];g_=!0,e.setState(u=>({...u,status:u.current?"reconnecting":"connecting"}));const r=[];if(t.connectors?.length)for(const u of t.connectors){let l;typeof u=="function"?l=e._internal.connectors.setup(u):l=u,r.push(l)}else r.push(...e.connectors);let n;try{n=await e.storage?.getItem("recentConnectorId")}catch{}const i={};for(const[,u]of e.state.connections)i[u.connector.id]=1;n&&(i[n]=0);const s=Object.keys(i).length>0?[...r].sort((u,l)=>(i[u.id]??10)-(i[l.id]??10)):r;let o=!1;const a=[],c=[];for(const u of s){const l=await u.getProvider().catch(()=>{});if(!l||c.some(h=>h===l)||!await u.isAuthorized())continue;const d=await u.connect({isReconnecting:!0}).catch(()=>null);d&&(u.emitter.off("connect",e._internal.events.connect),u.emitter.on("change",e._internal.events.change),u.emitter.on("disconnect",e._internal.events.disconnect),e.setState(h=>{const g=new Map(o?h.connections:new Map).set(u.uid,{accounts:d.accounts,chainId:d.chainId,connector:u});return{...h,current:o?h.current:u.uid,connections:g}}),a.push({accounts:d.accounts,chainId:d.chainId,connector:u}),c.push(l),o=!0)}return(e.state.status==="reconnecting"||e.state.status==="connecting")&&(o?e.setState(u=>({...u,status:"connected"})):e.setState(u=>({...u,connections:new Map,current:null,status:"disconnected"}))),g_=!1,a}async function fle(e,t){const{account:r,connector:n,...i}=t;let s;return typeof r=="object"&&r.type==="local"?s=e.getClient():s=await NG(e,{account:r,connector:n}),Np(s,OG,"signMessage")({...i,...r?{account:r}:{}})}class hs extends Sc{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class hle extends Sc{constructor({connector:t}){super(`"${t.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function ple(e,t){const{addEthereumChainParameter:r,chainId:n}=t,i=e.state.connections.get(t.connector?.uid??e.state.current);if(i){const o=i.connector;if(!o.switchChain)throw new hle({connector:o});return await o.switchChain({addEthereumChainParameter:r,chainId:n})}const s=e.chains.find(o=>o.id===n);if(!s)throw new Tu;return e.setState(o=>({...o,chainId:n})),s}function MG(e,t){const{onChange:r}=t;return e.subscribe(()=>$G(e),r,{equalityFn(n,i){const{connector:s,...o}=n,{connector:a,...c}=i;return gd(o,c)&&s?.id===a?.id&&s?.uid===a?.uid}})}function gle(e,t){const{onChange:r}=t;return e.subscribe(n=>n.chainId,r)}function mle(e,t){const{onChange:r}=t;return e.subscribe(()=>nx(e),r,{equalityFn:gd})}function ble(e,t){const{onChange:r}=t;return e._internal.connectors.subscribe((n,i)=>{r(Object.values(n),i)})}function yle(e,t){const{onChange:r}=t;return e.subscribe(()=>ix(e),r,{equalityFn(n,i){return n?.uid===i?.uid}})}X3.type="injected";function X3(e={}){const{shimDisconnect:t=!0,unstable_shimAsyncInject:r}=e;function n(){const c=e.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...wle[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u?.ethereum}}}let i,s,o,a;return c=>({get icon(){return n().icon},get id(){return n().id},get name(){return n().name},get supportsSimulation(){return!0},type:X3.type,async setup(){const u=await this.getProvider();u?.on&&e.target&&(o||(o=this.onConnect.bind(this),u.on("connect",o)),i||(i=this.onAccountsChanged.bind(this),u.on("accountsChanged",i)))},async connect({chainId:u,isReconnecting:l,withCapabilities:f}={}){const d=await this.getProvider();if(!d)throw new hs;let h=[];if(l)h=await this.getAccounts().catch(()=>[]);else if(t)try{h=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(p=>mn(p)),h.length>0&&(h=await this.getAccounts())}catch(g){const p=g;if(p.code===St.code)throw new St(p);if(p.code===sa.code)throw p}try{!h?.length&&!l&&(h=(await d.request({method:"eth_requestAccounts"})).map(b=>mn(b))),o&&(d.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),d.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),d.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let g=await this.getChainId();return u&&g!==u&&(g=(await this.switchChain({chainId:u}).catch(b=>{if(b.code===St.code)throw b;return{id:g}}))?.id??g),t&&await c.storage?.removeItem(`${this.id}.disconnected`),e.target||await c.storage?.setItem("injected.connected",!0),{accounts:f?h.map(p=>({address:p,capabilities:{}})):h,chainId:g}}catch(g){const p=g;throw p.code===St.code?new St(p):p.code===sa.code?new sa(p):p}},async disconnect(){const u=await this.getProvider();if(!u)throw new hs;s&&(u.removeListener("chainChanged",s),s=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o));try{await H3(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}t&&await c.storage?.setItem(`${this.id}.disconnected`,!0),e.target||await c.storage?.removeItem("injected.connected")},async getAccounts(){const u=await this.getProvider();if(!u)throw new hs;return(await u.request({method:"eth_accounts"})).map(f=>mn(f))},async getChainId(){const u=await this.getProvider();if(!u)throw new hs;const l=await u.request({method:"eth_chainId"});return Number(l)},async getProvider(){if(typeof window>"u")return;let u;const l=n();return typeof l.provider=="function"?u=l.provider(window):typeof l.provider=="string"?u=Z6(window,l.provider):u=l.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){try{if(t&&await c.storage?.getItem(`${this.id}.disconnected`)||!e.target&&!await c.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(r!==void 0&&r!==!1){const d=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",d),!!await this.getProvider()),h=typeof r=="number"?r:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(p=>window.addEventListener("ethereum#initialized",()=>p(d()),{once:!0}))]:[],new Promise(p=>setTimeout(()=>p(d()),h))]))return!0}throw new hs}return!!(await hd(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:l}){const f=await this.getProvider();if(!f)throw new hs;const d=c.chains.find(g=>g.id===l);if(!d)throw new ys(new Tu);const h=new Promise(g=>{const p=(b=>{"chainId"in b&&b.chainId===l&&(c.emitter.off("change",p),g())});c.emitter.on("change",p)});try{return await Promise.all([f.request({method:"wallet_switchEthereumChain",params:[{chainId:le(l)}]}).then(async()=>{await this.getChainId()===l&&c.emitter.emit("change",{chainId:l})}),h]),d}catch(g){const p=g;if(p.code===4902||p?.data?.originalError?.code===4902)try{const{default:b,...w}=d.blockExplorers??{};let y;u?.blockExplorerUrls?y=u.blockExplorerUrls:b&&(y=[b.url,...Object.values(w).map(C=>C.url)]);let v;u?.rpcUrls?.length?v=u.rpcUrls:v=[d.rpcUrls.default?.http[0]??""];const m={blockExplorerUrls:y,chainId:le(l),chainName:u?.chainName??d.name,iconUrls:u?.iconUrls,nativeCurrency:u?.nativeCurrency??d.nativeCurrency,rpcUrls:v};return await Promise.all([f.request({method:"wallet_addEthereumChain",params:[m]}).then(async()=>{if(await this.getChainId()===l)c.emitter.emit("change",{chainId:l});else throw new St(new Error("User rejected switch after adding network."))}),h]),d}catch(b){throw new St(b)}throw p.code===St.code?new St(p):new ys(p)}},async onAccountsChanged(u){if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const l=(await this.getChainId()).toString();this.onConnect({chainId:l}),t&&await c.storage?.removeItem(`${this.id}.disconnected`)}else c.emitter.emit("change",{accounts:u.map(l=>mn(l))})},onChainChanged(u){const l=Number(u);c.emitter.emit("change",{chainId:l})},async onConnect(u){const l=await this.getAccounts();if(l.length===0)return;const f=Number(u.chainId);c.emitter.emit("connect",{accounts:l,chainId:f});const d=await this.getProvider();d&&(o&&(d.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),d.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),d.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a)))},async onDisconnect(u){const l=await this.getProvider();u&&u.code===1013&&l&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),l&&(s&&(l.removeListener("chainChanged",s),s=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o))))}})}const wle={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e?.coinbaseWalletExtension?e.coinbaseWalletExtension:Z6(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return Z6(e,t=>{if(!t.isMetaMask||t.isBraveWallet&&!t._events&&!t._state)return!1;const r=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const n of r)if(t[n])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){return e?.phantom?.ethereum?e.phantom?.ethereum:Z6(e,"isPhantom")}}};function Z6(e,t){function r(i){return typeof t=="function"?t(i):typeof t=="string"?i[t]:!0}const n=e.ethereum;if(n?.providers)return n.providers.find(i=>r(i));if(n&&r(n))return n}function vle(e){if(typeof window>"u")return;const t=r=>e(r.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function Ele(){const e=new Set;let t=[];const r=()=>vle(i=>{t.some(({info:s})=>s.uuid===i.info.uuid)||(t=[...t,i],e.forEach(s=>s(t,{added:[i]})))});let n=r();return{_listeners(){return e},clear(){e.forEach(i=>i([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),n?.()},findProvider({rdns:i}){return t.find(s=>s.info.rdns===i)},getProviders(){return t},reset(){this.clear(),n?.(),n=r()},subscribe(i,{emitImmediately:s}={}){return e.add(i),s&&i(t,{added:t}),()=>e.delete(i)}}}const _le=e=>(t,r,n)=>{const i=n.subscribe;return n.subscribe=(o,a,c)=>{let u=o;if(a){const l=c?.equalityFn||Object.is;let f=o(n.getState());u=d=>{const h=o(d);if(!l(f,h)){const g=f;a(f=h,g)}},c?.fireImmediately&&a(f,f)}return i(u)},e(t,r,n)},Cle=_le;function Ale(e,t){let r;try{r=e()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),a=(s=r.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>r.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>r.removeItem(i)}}const sx=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return sx(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return sx(n)(r)}}}},xle=(e,t)=>(r,n,i)=>{let s={storage:Ale(()=>localStorage),partialize:p=>p,version:0,merge:(p,b)=>({...b,...p}),...t},o=!1;const a=new Set,c=new Set;let u=s.storage;if(!u)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...p)},n,i);const l=()=>{const p=s.partialize({...n()});return u.setItem(s.name,{state:p,version:s.version})},f=i.setState;i.setState=(p,b)=>{f(p,b),l()};const d=e((...p)=>{r(...p),l()},n,i);i.getInitialState=()=>d;let h;const g=()=>{var p,b;if(!u)return;o=!1,a.forEach(y=>{var v;return y((v=n())!=null?v:d)});const w=((b=s.onRehydrateStorage)==null?void 0:b.call(s,(p=n())!=null?p:d))||void 0;return sx(u.getItem.bind(u))(s.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate)return[!0,s.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var v;const[m,C]=y;if(h=s.merge(C,(v=n())!=null?v:d),r(h,!0),m)return l()}).then(()=>{w?.(h,void 0),h=n(),o=!0,c.forEach(y=>y(h))}).catch(y=>{w?.(void 0,y)})};return i.persist={setOptions:p=>{s={...s,...p},p.storage&&(u=p.storage)},clearStorage:()=>{u?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:p=>(a.add(p),()=>{a.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},s.skipHydration||g(),h||d},Ile=xle,yO=e=>{let t;const r=new Set,n=(u,l)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const d=t;t=l??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(h=>h(t,d))}},i=()=>t,a={setState:n,getState:i,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u))},c=t=e(n,i,a);return a},m_=e=>e?yO(e):yO;class Ple{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new gne})}on(t,r){this._emitter.on(t,r)}once(t,r){this._emitter.once(t,r)}off(t,r){this._emitter.off(t,r)}emit(t,...r){const n=r[0];this._emitter.emit(t,{uid:this.uid,...n})}listenerCount(t){return this._emitter.listenerCount(t)}}function Sle(e){return new Ple(e)}function Tle(e,t){return JSON.parse(e,(r,n)=>{let i=n;return i?.__type==="bigint"&&(i=BigInt(i.value)),i?.__type==="Map"&&(i=new Map(i.value)),t?.(r,i)??i})}function wO(e,t){return e.slice(0,t).join(".")||"."}function vO(e,t){const{length:r}=e;for(let n=0;n<r;++n)if(e[n]===t)return n+1;return 0}function Ole(e,t){const r=typeof e=="function",n=typeof t=="function",i=[],s=[];return function(a,c){if(typeof c=="object")if(i.length){const u=vO(i,this);u===0?i[i.length]=this:(i.splice(u),s.splice(u)),s[s.length]=a;const l=vO(i,c);if(l!==0)return n?t.call(this,a,c,wO(s,l)):`[ref=${wO(s,l)}]`}else i[0]=c,s[0]=a;return r?e.call(this,a,c):c}}function jle(e,t,r,n){return JSON.stringify(e,Ole((i,s)=>{let o=s;return typeof o=="bigint"&&(o={__type:"bigint",value:s.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(s.entries())}),t?.(i,o)??o},n),r??void 0)}function Ble(e){const{deserialize:t=Tle,key:r="wagmi",serialize:n=jle,storage:i=LG}=e;function s(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...i,key:r,async getItem(o,a){const c=i.getItem(`${r}.${o}`),u=await s(c);return u?t(u)??null:a??null},async setItem(o,a){const c=`${r}.${o}`;a===null?await s(i.removeItem(c)):await s(i.setItem(c,n(a)))},async removeItem(o){await s(i.removeItem(`${r}.${o}`))}}}const LG={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function Rle(){const e=typeof window<"u"&&window.localStorage?window.localStorage:LG;return{getItem(t){return e.getItem(t)},removeItem(t){e.removeItem(t)},setItem(t,r){try{e.setItem(t,r)}catch{}}}}const ox=256;let Gb=ox,Kb;function kle(e=11){if(!Kb||Gb+e>ox*2){Kb="",Gb=0;for(let t=0;t<ox;t++)Kb+=(256+Math.random()*256|0).toString(16).substring(1)}return Kb.substring(Gb,Gb+++e)}function Nle(e){const{multiInjectedProviderDiscovery:t=!0,storage:r=Ble({storage:Rle()}),syncConnectedChain:n=!0,ssr:i=!1,...s}=e,o=typeof window<"u"&&t?Ele():void 0,a=m_(()=>s.chains),c=m_(()=>{const C=[],E=new Set;for(const _ of s.connectors??[]){const P=u(_);if(C.push(P),!i&&P.rdns){const x=typeof P.rdns=="string"?[P.rdns]:P.rdns;for(const O of x)E.add(O)}}if(!i&&o){const _=o.getProviders();for(const P of _)E.has(P.info.rdns)||C.push(u(l(P)))}return C});function u(C){const E=Sle(kle()),_={...C({emitter:E,chains:a.getState(),storage:r,transports:s.transports}),emitter:E,uid:E.uid};return E.on("connect",v),_.setup?.(),_}function l(C){const{info:E}=C,_=C.provider;return X3({target:{...E,id:E.rdns,provider:_}})}const f=new Map;function d(C={}){const E=C.chainId??b.getState().chainId,_=a.getState().find(x=>x.id===E);if(C.chainId&&!_)throw new Tu;{const x=f.get(b.getState().chainId);if(x&&!_)return x;if(!_)throw new Tu}{const x=f.get(E);if(x)return x}let P;if(s.client)P=s.client({chain:_});else{const x=_.id,O=a.getState().map(k=>k.id),D={},R=Object.entries(s);for(const[k,T]of R)if(!(k==="chains"||k==="client"||k==="connectors"||k==="transports"))if(typeof T=="object")if(x in T)D[k]=T[x];else{if(O.some(I=>I in T))continue;D[k]=T}else D[k]=T;P=J3({...D,chain:_,batch:D.batch??{multicall:!0},transport:k=>s.transports[x]({...k,connectors:c})})}return f.set(E,P),P}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let g;const p="0.0.0-canary-";K6.startsWith(p)?g=Number.parseInt(K6.replace(p,""),10):g=Number.parseInt(K6.split(".")[0]??"0",10);const b=m_(Cle(r?Ile(h,{migrate(C,E){if(E===g)return C;const _=h(),P=w(C,_.chainId);return{..._,chainId:P}},name:"store",partialize(C){return{connections:{__type:"Map",value:Array.from(C.connections.entries()).map(([E,_])=>{const{id:P,name:x,type:O,uid:D}=_.connector;return[E,{..._,connector:{id:P,name:x,type:O,uid:D}}]})},chainId:C.chainId,current:C.current}},merge(C,E){typeof C=="object"&&C&&"status"in C&&delete C.status;const _=w(C,E.chainId);return{...E,...C,chainId:_}},skipHydration:i,storage:r,version:g}):h));b.setState(h());function w(C,E){return C&&typeof C=="object"&&"chainId"in C&&typeof C.chainId=="number"&&a.getState().some(_=>_.id===C.chainId)?C.chainId:E}n&&b.subscribe(({connections:C,current:E})=>E?C.get(E)?.chainId:void 0,C=>{if(a.getState().some(_=>_.id===C))return b.setState(_=>({..._,chainId:C??_.chainId}))}),o?.subscribe(C=>{const E=new Set,_=new Set;for(const x of c.getState())if(E.add(x.id),x.rdns){const O=typeof x.rdns=="string"?[x.rdns]:x.rdns;for(const D of O)_.add(D)}const P=[];for(const x of C){if(_.has(x.info.rdns))continue;const O=u(l(x));E.has(O.id)||P.push(O)}r&&!b.persist.hasHydrated()||c.setState(x=>[...x,...P],!0)});function y(C){b.setState(E=>{const _=E.connections.get(C.uid);return _?{...E,connections:new Map(E.connections).set(C.uid,{accounts:C.accounts??_.accounts,chainId:C.chainId??_.chainId,connector:_.connector})}:E})}function v(C){b.getState().status==="connecting"||b.getState().status==="reconnecting"||b.setState(E=>{const _=c.getState().find(P=>P.uid===C.uid);return _?(_.emitter.listenerCount("connect")&&_.emitter.off("connect",y),_.emitter.listenerCount("change")||_.emitter.on("change",y),_.emitter.listenerCount("disconnect")||_.emitter.on("disconnect",m),{...E,connections:new Map(E.connections).set(C.uid,{accounts:C.accounts,chainId:C.chainId,connector:_}),current:C.uid,status:"connected"}):E})}function m(C){b.setState(E=>{const _=E.connections.get(C.uid);if(_){const x=_.connector;x.emitter.listenerCount("change")&&_.connector.emitter.off("change",y),x.emitter.listenerCount("disconnect")&&_.connector.emitter.off("disconnect",m),x.emitter.listenerCount("connect")||_.connector.emitter.on("connect",v)}if(E.connections.delete(C.uid),E.connections.size===0)return{...E,connections:new Map,current:null,status:"disconnected"};const P=E.connections.values().next().value;return{...E,connections:new Map(E.connections),current:P.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:r,getClient:d,get state(){return b.getState()},setState(C){let E;typeof C=="function"?E=C(b.getState()):E=C;const _=h();typeof E!="object"&&(E=_),Object.keys(_).some(x=>!(x in E))&&(E=_),b.setState(E,!0)},subscribe(C,E,_){return b.subscribe(C,E,_?{..._,fireImmediately:_.emitImmediately}:void 0)},_internal:{mipd:o,async revalidate(){const C=b.getState(),E=C.connections;let _=C.current;for(const[,P]of E){const x=P.connector;x.isAuthorized&&await x.isAuthorized()||(E.delete(x.uid),_===x.uid&&(_=null))}b.setState(P=>({...P,connections:E,current:_}))},store:b,ssr:!!i,syncConnectedChain:n,transports:s.transports,chains:{setState(C){const E=typeof C=="function"?C(a.getState()):C;if(E.length!==0)return a.setState(E,!0)},subscribe(C){return a.subscribe(C)}},connectors:{providerDetailToConnector:l,setup:u,setState(C){return c.setState(typeof C=="function"?C(c.getState()):C,!0)},subscribe(C){return c.subscribe(C)}},events:{change:y,connect:v,disconnect:m}}}}function Dle(e,t){const{initialState:r,reconnectOnMount:n}=t;return r&&!e._internal.store.persist.hasHydrated()&&e.setState({...r,chainId:e.chains.some(i=>i.id===r.chainId)?r.chainId:e.chains[0].id,connections:n?r.connections:new Map,status:n?"reconnecting":"disconnected"}),{async onMount(){e._internal.ssr&&(await e._internal.store.persist.rehydrate(),e._internal.mipd&&e._internal.connectors.setState(i=>{const s=new Set;for(const c of i??[])if(c.rdns){const u=Array.isArray(c.rdns)?c.rdns:[c.rdns];for(const l of u)s.add(l)}const o=[],a=e._internal.mipd?.getProviders()??[];for(const c of a){if(s.has(c.info.rdns))continue;const u=e._internal.connectors.providerDetailToConnector(c),l=e._internal.connectors.setup(u);o.push(l)}return[...i,...o]})),n?dle(e):e.storage&&e.setState(i=>({...i,connections:new Map}))}}}function UG(e){const{chain:t}=e,r=t.rpcUrls.default.http[0];if(!e.transports)return[r];const n=e.transports?.[t.id]?.({chain:t});return(n?.value?.transports||[n]).map(({value:s})=>s?.url||r)}function $le(e){const{children:t,config:r,initialState:n,reconnectOnMount:i=!0}=e,{onMount:s}=Dle(r,{initialState:n,reconnectOnMount:i});r._internal.ssr||s();const o=oe.useRef(!0);return oe.useEffect(()=>{if(o.current&&r._internal.ssr)return s(),()=>{o.current=!1}},[]),t}const qG=oe.createContext(void 0);PWe=function(e){const{children:t,config:r}=e,n={value:r};return oe.createElement($le,e,oe.createElement(qG.Provider,n,t))};const Mle="2.19.5",Lle=()=>`wagmi@${Mle}`;let Ule=class extends Sc{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return Lle()}};class qle extends Ule{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function en(e={}){const t=e.config??oe.useContext(qG);if(!t)throw new qle;return t}function zle(e,t){const{onChange:r}=t;return e._internal.chains.subscribe((n,i)=>{r(n,i)})}var b_={exports:{}},y_={},w_={exports:{}},v_={};var EO;function Fle(){if(EO)return v_;EO=1;var e=sW();function t(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function a(f,d){var h=d(),g=n({inst:{value:h,getSnapshot:d}}),p=g[0].inst,b=g[1];return s(function(){p.value=h,p.getSnapshot=d,c(p)&&b({inst:p})},[f,h,d]),i(function(){return c(p)&&b({inst:p}),f(function(){c(p)&&b({inst:p})})},[f]),o(h),h}function c(f){var d=f.getSnapshot;f=f.value;try{var h=d();return!r(f,h)}catch{return!0}}function u(f,d){return d()}var l=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return v_.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:l,v_}var _O;function Hle(){return _O||(_O=1,w_.exports=Fle()),w_.exports}var CO;function Wle(){if(CO)return y_;CO=1;var e=sW(),t=Hle();function r(u,l){return u===l&&(u!==0||1/u===1/l)||u!==u&&l!==l}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,s=e.useRef,o=e.useEffect,a=e.useMemo,c=e.useDebugValue;return y_.useSyncExternalStoreWithSelector=function(u,l,f,d,h){var g=s(null);if(g.current===null){var p={hasValue:!1,value:null};g.current=p}else p=g.current;g=a(function(){function w(E){if(!y){if(y=!0,v=E,E=d(E),h!==void 0&&p.hasValue){var _=p.value;if(h(_,E))return m=_}return m=E}if(_=m,n(v,E))return _;var P=d(E);return h!==void 0&&h(_,P)?(v=E,_):(v=E,m=P)}var y=!1,v,m,C=f===void 0?null:f;return[function(){return w(l())},C===null?void 0:function(){return w(C())}]},[l,f,d,h]);var b=i(u,g[0],g[1]);return o(function(){p.hasValue=!0,p.value=b},[b]),c(b),b},y_}var AO;function Vle(){return AO||(AO=1,b_.exports=Wle()),b_.exports}var zG=Vle();const E_=e=>typeof e=="object"&&!Array.isArray(e);function Gle(e,t,r=t,n=gd){const i=oe.useRef([]),s=zG.useSyncExternalStoreWithSelector(e,t,r,o=>o,(o,a)=>{if(E_(o)&&E_(a)&&i.current.length){for(const c of i.current)if(!n(o[c],a[c]))return!1;return!0}return n(o,a)});return oe.useMemo(()=>{if(E_(s)){const o={...s};let a={};for(const[c,u]of Object.entries(o))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(i.current.includes(c)||i.current.push(c),u)}};return Object.defineProperties(o,a),o}return s},[s])}bi=function(e={}){const t=en(e);return Gle(r=>MG(t,{onChange:r}),()=>$G(t))};function FG(e={}){const{onConnect:t,onDisconnect:r}=e,n=en(e);oe.useEffect(()=>MG(n,{onChange(i,s){if((s.status==="reconnecting"||s.status==="connecting"&&s.address===void 0)&&i.status==="connected"){const{address:o,addresses:a,chain:c,chainId:u,connector:l}=i,f=s.status==="reconnecting"||s.status===void 0;t?.({address:o,addresses:a,chain:c,chainId:u,connector:l,isReconnected:f})}else s.status==="connected"&&i.status==="disconnected"&&r?.()}}),[n,t,r])}function Kle(e){return JSON.stringify(e,(t,r)=>Zle(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):typeof r=="bigint"?r.toString():r)}function Zle(e){if(!xO(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const r=t.prototype;return!(!xO(r)||!r.hasOwnProperty("isPrototypeOf"))}function xO(e){return Object.prototype.toString.call(e)==="[object Object]"}function eE(e){const{_defaulted:t,behavior:r,gcTime:n,initialData:i,initialDataUpdatedAt:s,maxPages:o,meta:a,networkMode:c,queryFn:u,queryHash:l,queryKey:f,queryKeyHashFn:d,retry:h,retryDelay:g,structuralSharing:p,getPreviousPageParam:b,getNextPageParam:w,initialPageParam:y,_optimisticResults:v,enabled:m,notifyOnChangeProps:C,placeholderData:E,refetchInterval:_,refetchIntervalInBackground:P,refetchOnMount:x,refetchOnReconnect:O,refetchOnWindowFocus:D,retryOnMount:R,select:k,staleTime:T,suspense:S,throwOnError:I,config:A,connector:j,query:N,...B}=e;return B}function Yle(e){return{mutationFn(t){return Wue(e,t)},mutationKey:["connect"]}}function Qle(e){return{mutationFn(t){return rle(e,t)},mutationKey:["disconnect"]}}function Jle(e,t={}){return{async queryFn({queryKey:r}){const{address:n,scopeKey:i,...s}=r[1];if(!n)throw new Error("address is required");return await ole(e,{...s,address:n})??null},queryKey:Xle(t)}}function Xle(e={}){return["balance",eE(e)]}function ede(e,t={}){return{async queryFn({queryKey:r}){const{name:n,scopeKey:i,...s}=r[1];if(!n)throw new Error("name is required");return cle(e,{...s,name:n})},queryKey:tde(t)}}function tde(e={}){return["ensAvatar",eE(e)]}function rde(e,t={}){return{async queryFn({queryKey:r}){const{address:n,scopeKey:i,...s}=r[1];if(!n)throw new Error("address is required");return ule(e,{...s,address:n})},queryKey:nde(t)}}function nde(e={}){return["ensName",eE(e)]}function ide(e,t={}){return{gcTime:0,async queryFn({queryKey:r}){const{connector:n}=t,{connectorUid:i,scopeKey:s,...o}=r[1];return lle(e,{...o,connector:n})},queryKey:sde(t)}}function sde(e={}){const{connector:t,...r}=e;return["walletClient",{...eE(r),connectorUid:t?.uid}]}function ode(e){return{mutationFn(t){return fle(e,t)},mutationKey:["signMessage"]}}function ade(e){return{mutationFn(t){return ple(e,t)},mutationKey:["switchChain"]}}function tE(e){const t=oW({...e,queryKeyHashFn:Kle});return t.queryKey=e.queryKey,t}function rE(e={}){const t=en(e);return oe.useSyncExternalStore(r=>gle(t,{onChange:r}),()=>gO(t),()=>gO(t))}HG=function(e={}){const{address:t,query:r={}}=e,n=en(e),i=rE({config:n}),s=Jle(n,{...e,chainId:e.chainId??i}),o=!!(t&&(r.enabled??!0));return tE({...r,...s,enabled:o})};function cde(e={}){const t=en(e);return oe.useSyncExternalStore(r=>zle(t,{onChange:r}),()=>mO(t),()=>mO(t))}function ude(e={}){const t=en(e);return oe.useSyncExternalStore(r=>ble(t,{onChange:r}),()=>bO(t),()=>bO(t))}function lde(e={}){const{mutation:t}=e,r=en(e),n=Yle(r),{mutate:i,mutateAsync:s,...o}=I3({...t,...n});return oe.useEffect(()=>r.subscribe(({status:a})=>a,(a,c)=>{c==="connected"&&a==="disconnected"&&o.reset()}),[r,o.reset]),{...o,connect:i,connectAsync:s,connectors:ude({config:r})}}function dde(e={}){const t=en(e);return oe.useSyncExternalStore(r=>mle(t,{onChange:r}),()=>nx(t),()=>nx(t))}function P9(e={}){const{mutation:t}=e,r=en(e),n=Qle(r),{mutate:i,mutateAsync:s,...o}=I3({...t,...n});return{...o,connectors:dde({config:r}).map(a=>a.connector),disconnect:i,disconnectAsync:s}}function fde(e={}){const{name:t,query:r={}}=e,n=en(e),i=rE({config:n}),s=ede(n,{...e,chainId:e.chainId??i}),o=!!(t&&(r.enabled??!0));return tE({...r,...s,enabled:o})}function hde(e={}){const{address:t,query:r={}}=e,n=en(e),i=rE({config:n}),s=rde(n,{...e,chainId:e.chainId??i}),o=!!(t&&(r.enabled??!0));return tE({...r,...s,enabled:o})}pde=function(e={}){const t=en(e);return zG.useSyncExternalStoreWithSelector(r=>yle(t,{onChange:r}),()=>ix(t,e),()=>ix(t,e),r=>r,(r,n)=>r?.uid===n?.uid)};function gde(e={}){const{mutation:t}=e,r=en(e),n=ode(r),{mutate:i,mutateAsync:s,...o}=I3({...t,...n});return{...o,signMessage:i,signMessageAsync:s}}mde=function(e={}){const{mutation:t}=e,r=en(e),n=ade(r),{mutate:i,mutateAsync:s,...o}=I3({...t,...n});return{...o,chains:cde({config:r}),switchChain:i,switchChainAsync:s}};TWe=function(e={}){const{query:t={},...r}=e,n=en(r),i=mne(),{address:s,connector:o,status:a}=bi({config:n}),c=rE({config:n}),u=e.connector??o,{queryKey:l,...f}=ide(n,{...e,chainId:e.chainId??c,connector:e.connector??o}),d=!!((a==="connected"||a==="reconnecting"&&u?.getProvider)&&(t.enabled??!0)),h=oe.useRef(s);return oe.useEffect(()=>{const g=h.current;!s&&g?(i.removeQueries({queryKey:l}),h.current=void 0):s!==g&&(i.invalidateQueries({queryKey:l}),h.current=s)},[s,i]),tE({...t,...f,queryKey:l,enabled:d,staleTime:Number.POSITIVE_INFINITY})};function WG(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=WG(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}VG=function(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=WG(e))&&(n&&(n+=" "),n+=t);return n};var bde="AEkVMQnvDV0B0wKWAQYBQgDpATQAoQDcAIUApwBsAOMAcACTAEUAigBRAHkAPgA/ACwANwAoAGIAHgAvACsAJQAXAC8AHAAhACIALwAVACsAEQAiAAsAGwARABgAFwA7ACoAKwAsADQAFgAtABIAHAAhAA4AHQAdABUAFgAZAA0ADgAXABAAGQAUABIEtAYQASIUOjfDBdMAsQCuPwFnAKUBA10jAK5/Ly8vLwE/pwUJ6/0HPwbkMQVXBVgAPSs5APa2EQbIwQuUCkEDyJ4zAsUKLwKOoQKG2D+Ob4kCxcsCg/IBH98JAPKtAUECLY0KP48A4wDiChUAF9S5yAwLPZ0EG3cA/QI5GL0P6wkGKekFBIFnDRsHLQCrAGmR76WcfwBbBpMjBukAGwA7DJMAWxVbqft7uycM2yDPCLspA7EUOwD3LWujAKF9GAAXBCXXFgEdALkZzQT6CSBMNwmXCYgeG1ZZTOODQgATAAwAFQAOa1QAIQAOAEfuFdg98zlYypXmLgoQHV9NWD3sABMADAAVAA5rIFxAlwDD6wAbADkMxQAbFVup+3EB224cHQVbBeIC0J8CxLAKTBykZRRzGm1M9QC7DWcC4QALLTSJF8mRAoF7ARMbAL0NZwLhAAstAUhQJZFMCgMt+wUyCddpF60B10MASSsSdwIxFiEC6ye5N2sAOeEB9SUAxw7LtQEbY4EAsQUABQCK00kFG8MfBxcAqCfRAaErLQObAGcBChk+7Td0BBgXAKoBxwIhANMrEnM681CwBZA6dyc1SAX6JwVZBVivuAVpO11CEjpYQZd7k2ZfofgLEwPFByXxdyMEo0sCU1MCdRurJwGPo6U1WwNFFwSDYQkA0QarPy8jBykCOV0AawFhH3EAgx0ZAJUBSbcAJ2kXAa/FAzctIUNTAW9ZBmUCZQDxSRcDKQEFAElBAKsAXQBzACu1Bgfz7xmNfwAJIQApALMbRwHRAdsHCzGXeIHoAAoAEQA0AD0AODN3edPAEF8QXAFNCUxsOhULAqwPpgvlERUM0SrL09gANKkH6wNTB+sDUwNTB+sH6wNTB+sDUwNTA1MDUxwK8BrTwBBfD0gEbQWOBYsE1giDJkkRgQcoCNJUDXQeHEcDRQD8IyVJHDuTMwslQkwMTQMH/DZCbKd9OANHMatU9ZCiA8syTzlsAR5xEqAAKg9zHDW1Tn56R3GgCktPrrV/SWJOZwK+Oqg/+AohCZNvu3dOBj0QFyehEPMMLwGxATcN6UvUBO0GNwTFH3kZFQ/JlZgIoS3ZDOkm3y6dgFYj8Sp/BelL8DzZC0lRZA9VC2EJ3zpfgUoDHQEJIocK2Q01CGkQ7wrFZw3hEUEHNQPRSZYAoQb9Cw0dMRWxJgxiqAsFOXMG9xryC4smqxMlevgFzxodBkkBJRr7AMsu44WsWi1cGE9bBf8LISPDFKRQHA0hQLN4RBoXBxElpQKNQ2xKg1EyHo8h8jw5DWIuD1F4B/E8ARlLC308mkanRQoRzj6JPUQiRUwoBDF7LCsnhwnLD4EMtXxuAVUJHQmtDG0TLRETN8EINQcVKZcgJxEIHUaRYJYE85sD7xPNAwcFOwk9Bw8DsRwpEyoVJQUJgSDTAu820S6vAotWfAETBccPIR/bEExH3A7lCJcCYQN/JecAKRUdABMilwg/XwBbj9RTAS7HCMNqaCNwA2MU410RbweNDlMHoxwvFbsc3XDEXgeGBCifqwlXAXEJlQFbBN8IBTVXjJwgPWdPi1QYlyBdQTtd+AItDGEVm0S5h3QChw9nEhcBMQFvBzUM/QJzEekRZxCRCOeGADWxM/Q6IQRLIX8gDQojA0tsygsjJvUM9GUBnxJeAwg0OXfqZ6dgsiAX+QcVMsFBXCHtC45PyQyYGr0YPlQqGeAHuwPvGu8n5kFTBfsDnw86STPqBLkLZQiHCTsARQ6fEwfTGGYKbYzMAS2HAbOVA1ONfwJriwYzBwcAYweDBXXhABkCowifAAEAywNTADUCqQeZABUAgT0BOQMjKwEd4QKLA48ILccBkSsB7yUEF78MEQDzM25GAsOtAoBmZp4F2VQCigJFMQFJIQQBSkNNA6tt3QDXAEcGD9tDARGnRscW3z8B22snAMMA9wABMQcBPQHJAe9pALMBWwstCZ6vsQFJ5SUAfwARZwHTAoUA2QAxAHvtAU8ASQVV9QXPAktFAQ0tFCdTXQG3AxsBLwEJAHUGx4mhxQMbBGkHzwIQFxXdAu8qB7EDItsTyULBAr3aUQAyEgo0CrUKtB9f81wvAi1uPUwACh+kPsM/SgVNO087VDtPO1Q7TztUO087VDtPO1QDk7veu94KaF9BYecMog3QRMQ6RRPXYE1gLhPELbMUvRXKJVIZORq4JwEl4FUFDwAtz2YsCCg0cRe4ADspZIM9Y4IeLApHHONTjVT0LRcArUueM6sNqBsRRDwFQ3XpYiYWCgoeAmR9AmI+V0mrVzccAqHzAmiUAmYFAp+AOBcHAmY3AmYiBGoEewN/DwN+jjkCOXMTOX46Hx8CbBkCMjI4BgJtwwJtquuGL2NBJwFjANoA3QBGAQeUDIkA+ge+AAmxAncrAnaeOwJ5Rz8CeLYZWNdFqkbTAnw7AnrEAn0FAnzsBVUFHEf8SHlfIAAnEUlUSlcRE0rIAtD9AtDISyMDiEsDh+JEwZEuAvKdXP8DA6pLykwpIctNSE2rAos7AorUvRcDGT9jAbMCjjMCjlg8k30CjtUCjlh0UbBTMQZS0FSBApP3ApMIAOUAGFUaVatVzAIsFymRgjLdeGJFNzUCl5sC765YHaQAVSEClosClniYAKVZqFoFfUkANwKWsQKWSlxAXM0CmccCmWBcxl0DFQKclzm+OpkCnBICn5cCnrSGABkLLSYLAp3tAp6OALE5YTBh6wKezwKgagGlAp6bGwKeSqFjxGQjIScCJ6sCJnoCoPcCoEgCotkCocACpisCpcoCp/sAeQKn7mh4aK3/RWoYas0CrN8CrKoCrWMCrP4CVxkCVdgCsd3TAx9KbJMCsrkJArLkE2zcbV9tRFsDJckCtlg3O26MAylBArhaArlDEQK5JnNwMnDdAr0VArvWcJIDMg0CvoRx/gMzbQK+FnMec0sCw8cCwwBzfnRHMUF03AM8owM8lgM9uwLFeALGQwLGDIUCyGVNAshAAslLAskqAmSZAt3OeHVdeKp5IUvMAxifZv4CYfAZ75Ugewdejl63DQLPZwLPaCtHT87vD5sAwqkCz28BJeYDTg5+RwEC3CMC24YC0ksDUlgDU1sA/QNViICFO8cS6VxBghiCz4LKg4kC2sMC2dqEDIRFpzgDhqEAKwNkCoZtVfUAUQLfYQLetG9zAuIr7RAB8ywjAfSXAfLOgwLr7wLpbHUC6vUC6uAA9UMBtQLuhQLrmJamlv8C7jsDhdyYdXDccZ0C8v8AZQOOEpmPAvcPA5FqA5KDAveUAvnVAvhimhiap7czmxoDnX8C/vYBFwA1nxifrwMFiQOmZgOm1QDNwQMGZqGEogEFAwxFAQsBGwdpBl21YwEAtwRnuw2HHq8JABNxNQAfAy8SSQOFewFfIx0AjOsAHQDmnwObjQizBhufwQCnBRG76R09PhZ4BWg3PkArQiFCtF9xEV+8AJbFBTIAkEwZm7k7JmAyEbrPDi8YxhiJyfYFVwVYBVcFWAVjBVgFVwVYBVcFWAVXBVgFVwVYRhUI14VnAgICCmRe6SsEyQOxBi+7uwC7BKe7AOdAKRayBUY+aT5wQj9Ctl91N1/oAFgRM6sAjP7Ma8v8pudGej0mIwQrFic2NX5t32rB8RnCLGkBa9duMBcFXwVqycHJuAjPSVsAAAAKfF59i74AMz+BAAMW0QblrSMFAIzDCwMBDQDlZR09JB9KQrFCvEE4I18nYDYnOCMJwT0KRD9DPng+gT5wPnECiUK8SUI7X8tOT2pNCixrVC9qC24fX+AzOhsJZ5sKYiMrPB0mQqtCvCvMAcv8X8kOHy4JCAkifp3fajotShfJq8msCWXBy8wKYEFfD+UQoxEAk40dRUIlG6ltOc44CjM/Qz5wQj8cBwodTEdsWywtWuG8Egp97R0rQj8cXQhKCQ4zVENCNwQ7Q5wsCoEbLUI/G/UIUyIjGDAxAAWPYfBeCnFkyWALYC0jbkNgGTkCGx5gswYCaxBlTmBNEQFk52AVYJVgfWCzYEtgkWgWFwa1DtxVqbxaC0MWqwG7K83BAh8VABwDHgF5AmwvMJVSgAGKCrhHGgDkI3SOCsoNpk3qAZsCh5xPBUBfAPf3BwA0FlcMC6UMJB+6r0eAgQw0ABUTnyuCCHoC0gtLZREbANhOBnUECh5aADEAtritAJQnCxZvqyQ4nxkBWwGGCfwD2e0PBqoGSga5AB3LValaCbthE4kLLT8OuwG7ASICR1ooKCggHh8hLBImBiEMjQBUAm5XkEmVAW4fD3FHAdN1D85RIBmpsE3qBxEFTF8A9/cHAHoGJGwKKwulODAtx69WDQsAX7wLAGNAlQh6AOpN7yIbvwAxALa4rQCUJy07Ds4CkBh7ULtYyHRyjsOlmw/ZFUkb7AEpEFwSBh/lAccJOhCTBQ8rDDYLABEAs+AiAQIApADhAJiCCrJrOS8AFABbG8YubHYqDcEQAjskHNPhHB4LG30CewTBCqrxbAAnLQ6mLs6hHAe7CQAQOg+7GkcczaF3HgE9Kl8cLs4RGQB9q9ocAuugCAHCAULz5B9lAb4Jtwz6CDwKPgAFwAs9AksNuwi8DTwKvAk8DrsFmAEbawouzqEqD4sa4QHDAREWOwCgCzsLuxC7BBiqe9wAO2sMPAACpgm8BRvQ9QUBvgH6bsoGewG7D00RErwBAQDqAQAAdBVbBhbLFPxvF7sYOxjbL7ZtvgNIqLsAB7sALrsC6w5WAAq7BAAeuwJVICp/FTwVuwG+J+QAsloBvSjgo7vIAAFbAAG7AAJbAALjAAg7AA67AgAbu6VbDr/EAPQAaPuoOwMBu5UnSwDn3Rm7CBp7CKEFCv9wAN+7p7sau6OLeXIG+6mbgwASuwYbCwG8AACGAG27BgALu6c7ARo7ugihnMoBuwvtB8CpOwDhewG/AADlABW7AAb7AAm7AGmLABq7GLuOaRX7AA5rAC5LHgAGuwAXuwghAA1KAcIAt68mAcAAALQADpsAHBsBv/7hCqEABcYLFRXbAAebAEK7AQIAabsAC3sAHbsACLsJoQAFygBunxnVAJEIIQAFygABOwAH2wAdmwghAAaaAAl7ABsrAG0bAOa7gAAIWwAUuwkhAAbKAOOLAAk7C6EOxPtfAAc7AG6cQEgARwADOwAJrQM3AAcbABl7Abv/Aab7AAobAAo7AAn7p+sGuwAJGwADCwAQOwAIPAAUOwARawAPiwAN6wANuwAZCwYWGwAVOwBumxm7ALobLgATOwMAaSsKAOFLAAI7AARSABd7BRsABtAAGLsAC/sAX7sAa/sA5IsBuwAXdgG8AAFyC6EABUoAbXYAB/sA5XsAHGseAXsoUgA5RQD+Bw0McgAoKnABpAUIXgG8XiMMCQdvS2xfKokfPBRiLTYDoQq0AdgAFgLRA24BdnJHUhQhA08CFT4BLAYDc0a8e1J6QAApADEB+wBTCtsAe5AsASsAduUNETJGAUoAVwUAAVABB4rMAHg7BCClAFoA1hUAlWg3H4sAzWuxAM/UFgjCdXMbGFYdCdEBiJCrIlNTTUgSPMKJ+QB/HDdAKSvgEZdPAHIBKSwwKUIZDwMwVQT3xe4AS2XcAGoCcQI/EXo6x3guNdUGBQAQGx0KCAwqBB8dKU5TTgi5ugAKEs0AJgABGgCGAIkAjjUA7gC0AOAAnTwAuwCrAKYAoQDyAJ8A0wCcAOsBDAEHAMAAeQBaAMsAzQEHANcA6wCIAKIBNQDjANgA1QMBByoz1NTU1LbA3M3QzkMyFwFNAVcvRwFVAWQBYwFWAUdLQ0VoDQFOFQcIAzI2DAcAIg0kJiksODo6PT09Pj8OQB5RUVFRU1NSUylUVVdWVhxdYWFgYmEjZmhwb3JycnJycnR0dHR0dHR0dHR0dnZ3dnVbAEDsAEUAlgB0AC4AYvIAigBTAFMAMwJz6QCH//LyAGAAj+wAmwBLAF4AYPn5qgCBAIEAZQBSAK0AHgCyAH8CPAI/APgA4wD6APoA5AD7AOUA5QDkAOIAKQJ3AU0BPAE6AVABOgE6AToBNQE0ATQBNAEYAVQPACsIAABNFwoWAxUWDgCKAJIAogBLAGQYAi0AcABpAJEDEgMkKgMeQT5HKQCLAksAwwJTAqAAugKSApICkgKSApICkgKHApICkgKSApICkgKSApECkQKUApwCkwKSApICkAKQApACkAKOApECcQHQApMCmwKSApICkRZ5CwD6BQOnAl0CNhcBUBA1At4RCisTAUo3E02RAXekPAFlWQD/Az1HAQAAkykeGI9qAClgAGkALgCJA5TMi/CuhFoFuisOwhEBndV0KgsEIzFsATNabAGyAN5+gH9+gH6BgoJ+g4aEfoWIhoCHgoiCiX6Kfot+jIqNfo5+j4KQfpF+kn6TfpSDlYiWgpd+2gLabOEC2GwAgmwkbKAAg2xsBEkERgRIBEsESQRPBEwERwRNBE8ETgRKBEwETwCWZmwAowOIbAC0ZgEFbADJUWxsAM9sAgxsAPZabAD2ARkA9gD0APQA9QD0A31ebNSEI2XAAPYA9AD0APUA9BxsbACJWmwA9gCJARkA9gCJAL4A6AAIAPYAiQN9XmzUhCNlwBxsAPdabAEZAPYA9gD0APQA9QD0APcA9AD0APUA9AN9XmzUhCNlwBxsbACJWmwBGQD2AIkA9gCJAu0A9gCJAL4CNwD3AIkDfV5s1IQjZcAcbAJDATZsAkoBOWwCS8FsbAJXbGwDnwLtA58DnwOgA6ADoAOg1IQjZcAGA31ebBxsbACJWmwBGQOfAIkDnwCJAu0DnwCJAL4CNwOfAInUhCNlwAYDfV5sHGwEPmwAiQQ/AIkGjTFtIDFs1m4DKGwDrAJsbABVWv4VMgJsbACJAmwAVAEAul5sAmxebGwAiV5sAmxebD3YAEls1gJsbEbCxxP/x5BApA0KYFA89AsjTx97EHmJQPyocItC2JnNFRCEnFU6SFTDoI0PxeRNRoNRWkpzVnWW8pTagkNmgf+jGupqZ3eu50LAFnc+OzfJwdub1AdpOy76VnijWNR/CMEevikQkFyQuLuPajxWi9chqOoMJ7qpCN4sx3LJG4Myu8kD68wC6+iAwt+pU1JEeY13rpCVkXSZfinVKn4xZpxsI3Lp8bJLrJ9ujkrIalMRBAcv/GSKEtowzcEn5XmJw2BagB8V2UWJoJHZ14SXhM7p0XeGFOuw6mlvyq99WYp5XxrO6ru9nn4RHcOkJ7hx5UqWtman7yVMLzYXQefQRUdIY70RYQE8+aAzCNSGQkXiHfnHYRMi+xczKDdZLk3AV1gzxkkSHLjBwuq8shIJ+/RAbqjqQbugFhe0rqklu432EERkM5k9y1DXzds46oLqKAx6OhPT2WiqEfhaITn7OF9Y694AmKmUvbpWp0xJqDaf3jeNJXnK6NpnGcFOmbclbARC+5+5U52ufw5b0Hh+2LrrNimvZe4eYmApRsZnJE310SqB+1xB6rSJfnV1f2D0awB18Oc0sXAFqIlgHgWiaZGdvP5CJUSsCTCQUC335+iSkwPlLJJ5lwjTSn9Lw22NbK1Tu8w+bUpHtDRDPho7Gun8aw2Jzu9i+N0Ot/kPMbLAb/rUQ82kfpk85qLDkfxLl39QPDngo72GYh/Xigbpcm1pA23D2ywt3D8GgMOao040wDqkHxOEx0OhC+ZmHiIdjK7yRbfJD2ouZbAedhD3p7s8WDmCJfNforgDYPGAXSI08fTjPZ5B37lc5VXGzc1vJmibDwBNVzXuaUzg7N5H4BxqjhJ+kz9HLUJys7bpBDYAPvbut13AwJCWd059tS8YTYgC8HwrkewBfa1LSSpmMr9uR2EekTiAMH+Mx4AGzgbquccwBDlLmRhgXL/YiLPCEb6d2k5qJ6o800qddABkpqt7NG+sc2uvHZwZs57W1AHTFM1KkMShasADAh2FvzbzJOzVDMS3ZlT2BSFKdnkZFB6JyqJbhm6XANis9TrtzJdlPVp+rl8v3nIke6Jou7m2TKu53Vounupgkz2LzrQPhhatLIG7rfF/gUKWp15X3LKt+ZvuCDSqPUigF9yJntimC1HJR7Yj/dUrLAXWrT+1tnwPJJLGKAlQ5VeNDWRKCTt2vz3rJuo4+gIt75/Mkfl/gSZblZ9r/SEeeosZXneli/xNh1WVCvkRt2RnyyjtMkMqhzXh1PVOCbILqv0r7rGYm0CHIyKdhHL90cl9E1I6eEtQTCt6RXj8M0HHrHCHLVRpNM6WIbT5BCMGVnL0o5895qSRbCJz+5I8PGMhAN/Xrj4BgIdlKqlHtBHqTJwmK169toZ2IWxNzrAbIG7zh85Q/LG2A4yBcaBel52zdunokB0lv3A7kXnTI7M6ZnfZ7nwuj5lkGhqSpW+w5CI/FmRlplBEbnZy1ZxS3DL8rf1YWhO5XivWZBSRh1gFsjjyj3qRG1cm/6ors7WsEif6WRxns1MKDZa6KrbfMQ/swIb+2nb0tqxHeii6FcgVeAjE/Xwac1owx04dJKG8R5YQgHNnEfHf0qb8WOnU0eQSjazq+IK7cSuCqYzPEUB/x+QgGZqM3dBoYvNvZVOHDkbgdilWdagqO5bkybXfLpyMPuGq8mvAAEZGbR6RwXGlW9ErOWTfnjfx6dXFJqBj0OBSGFz4lWQasNOmVJeN4SFWSLfOGB/7ehV5YuoNNROHZEG9ElVuMnqbDMMuDleOt/cN/gsWxGw128mwU8/HxkOKqdTZnI7dHka67WCTf/FmBrxpNCaKJ1GxBTCSS7MNfhNj8S4Gtotg6Z3AM9cAeVROnppUMaiV5jjudLnNqoVrKO1/FijLlAc74kxydxKX1RQuMqHR63eecYr5o6MJ+B78VsLlCrpelWh6GOrCOBIoQmIcdpJL1pwE2zzZqBkecGTdK8KMOB6r1eNRURyrz6M899TZaoS/vNOxHf+5gORU+OyYIcIW6diP25GHF6u8TNjuL/GJzCnLLXd01KrsjRa51v4+O/VIAWXESJxfxWjv628J+cWUQpoD+Yytzs3jSMRJ23/XT+vUdtUMLDQq1vnIoeg/GjWh88MT6k9dRqDaQ+vodilFgvjuNw5pJpId9mfwyYeLCGb3BmHXdfQfhfPRQaupe/f8TG4Bk3eDKlYBaEK3kZYNN2Sdxz47m/vYBxvIOKtnqplB1pebzuXmAr/MuzQCknKe653dzaWQQ7MUhWYWvzIZwLe1v0rXxImLaz+AkAu+sYikhouNF3EW6w4crZ6MuUiDbIAx8XhAfegcvW6x9BPb3/sCxGWu9YyatqExB+TSm69qIkI9IwhjrcnzME+jWBx4mNQm5WwLzUjSyY4FZ0aMF5YFlXUD4hL4XfOeYv5rDe2s2D/Cn+28fZ9UCnOQvXFMnQqfc0G+ZqOWWD9l/liqUPaNQzZjxCHpUAD8Rcc90MniQ02ugHWsUupFUvhC9usY7zNPt5F2jO7qgzhafsQSd50jgLrC6Qx6bpHbXR3WNAu1BzGmwbz+ebGmwTjdy006Y6zipP7n/OJlvSmbq+SY+nefAVKK6EBMPbce5n3IdRI8+vbxCpN53rw3TvgNds1SuMiuLGxt89L71mxPDeanGhyHvOjmO56tnVpoHalQnL6TqNuqKsHjHCIKB4pCgj4WyYPvRvYvqi5EMr7lN3MotPR/KH7JUD1lZbU0QzfbrEBJnuQiVAyAC9vwXWp2TRU1/0aapyAH2cbglEHVAdl+1rb1u147uV0td1eNoQZsqHrIMIYVPXtLk2TIU3cJE08PjoYNDpfF/IcJnYQHl6nsplczX3Rgah4NbJJHl//5scUufqsSd//kbIS406ZWoMP//+jhGUswX/5nVNz/jAj9KmXPtAmMiK+khhbn1w/mELzZMT/WxcW//y/jsHaOM/61oAW/CjYhJtY622/TtMYuP7bilBvbiT3vB9n8IcFPnwM78H0KfhYDRdY5PhWJ4jWRQzB+HT5NVZV56LG82hcQms+jOTT/c9Y9sx5rPi1/wB7f/+c5UfUCKk3iwwCuywUc2MGnAwsXf1E5hoI55x1Q/Qby+sWH8NRjavZ8VaDsdi1NUVhH86BJHX1yaFt1w1OYeL5LVmdN+5Q+KuTvXEPDzUCg6xp0HhsUhTWSe7MZMM/6rsTUb0/nbUE3YQlGGt48kT1/6cnf6yHnvHtQx9EosOXN077yyEq/jE3YTiG/5SEJmXFeocJJ1EAd6vKeK6VEdJLOZ1km/EwOnZWCQpzCLKPHxrfh4yJhGq//2dos2E/3+MOcdW5EsgIdmTQUQetzRy5fQHhDBl37XbWzsqO/cASEDjyst1/8NEROqVAxWnddQV+umJ8IrKVgKvGaTc0GsQ4s8h0Osql5QKwlddPDjJhKInyWqYUKmmlIts+FIcXZ6yM6cljbsjUG2ksSOkuIw4sYHffRNgBOLApvD6XrR6Rt0rV2Uf8IpnIUVnb9Twt91QjAaD/dStSWDxg7aYY+VXIgnuowYdOkjywa2hlgrnI6PjaU3e3UjQ5Yk5mdIJGyHnv3/P+1EkMav1yFyF+FeJE/RXnWBw+Nh0aOo6TGlKX7d+dkP9+brvr79SdtXJtcD/aXBGiMNfG6/NQniQHYQlK78FEHDqOh+bDI0o+2Ub0h53EL/vlzjrBczVEZz2bOtvIL+DIzDkk9nCWt7tlqsq3l9JMtJk3r5HG2iJ9b/X11TG6wwMAjHLQ2oasaMEsydh88QPvI+hmqIHhvalpKoKOueJR0eZ9J8G2alNOIOy98jwvbc87Ewk9d+5G/tUijTmlbjFlDKXV05HalKxaRTrucc73On7yzAPS6f2v4ogiaWyWeV73dv/MsQT5HjRrsYV9dLAcI3T+zC2qEVINyNpEhoKV+xVSuWtT4AhBfpnZ7unIM+HX3msI0HiI+P+z2PFgkjGi5PqEbG/wNIWeRUjPtDEgbbubN+I4JaDLrW9borRBDob7ZFx+JdKeFVUKVeWqb/c88Ol7DhM0suLtuEd8tkDSMTD3DFx8UphPINHMHi51hAPttXL4Ektt/lKEUG/R4qZKohHjVpAcPIMiHyWr6xR8/EWnNJvBFET76yCdk5er7ADB/1bgoImhpSiZ/omZjPKPCEeZsOwvPmXL+1vlJNeGO3TzySmGA1X6e58gLrazDM71jywM1XL8zKHN6G3kB31Y8vLtP982N975SZXk2JwDvmv7AY/aDsFFk1v+nE7/hbvuOWhBH4kuemeYozPk2K22Vx/YGiDTLU7YilpOt29u3RZMBh4UJjlTP5ItxTzWv6ebL9b+GSU1Vsm2S8LMfVfJczaBSqE8J1A4YUjpsALL7++bwCPXFhaufdpDFtBlHb9makeYbqdg9ltvK/HwF/rNE6KrtWUkEcxmTB7Iyu5TiVaIgW/YxzQhpArliIMkOoK5L7ShVtF+DYqV01mk7fwop04hQRwg4KFmr5z9nYf05VVqkSe7gfnx5bxxlQ0qEV0jiwzf064qG11iEqjHcUgDWWsDs/LEGlzX31T5KVL+7D4EoKim7HBagiqRo5JI3WfDBgpKIruWz9j/J6Hp5Q/EJbMWB8NeSMuFarNw3AEYPBJtYQO/4oD/ZgPTSQ06di0EeumX5EbrdThO+fvYEVSxLtZ3AJkee0Xn0sDwNtiiZhJjJRDuG1YRKB1vOulfd9JjHeyu+UHTmrtra/pm+8Rixh4WKiLaLOCxIbZNoWRZSyyUGLPjAaAo+SQBpfO2uruWrzFxLlpvrXJNMCWtlJDKGAnlWK5xpU2tcxXbeD+sbdfwYXt/qTwDk6UqXR/aUt099DhSNl4Nk8mXwpw+b0nvjKOG6Mg1PRXjrMUMANvNgEArv8nMJs3vj1aHi8MHz/UfJWWzkcrSpZTNBhduXlGR7i+ip/THDp5R9KRNcDKECgtwgXg4EFN5HHfikP/XvsoCkHTg+NbsD8Gl6eknk4Arwn/BWGJ0hgW0/gUKrzuGZhub7igRP3abetpIm+24xEOlWl3YKpm2qTBFvX8ddDRvm1LcwnCJuEfZx12qPY9TrntMIQsv316zvpyWnyStX8VU4j6tQk+CWlLBUCJR6MdH9Cp7g2qdn2WM9qFbREmejH09dlWEPm8hPF0L7RxwRRdiCs0DP8ewk6ApoELkKU9hckSdbnXm8UHJmaNXjxv/q0fTTpu8rnl9lN0vQCpDRbCtcz12rGRFEA7Cfg7FhZn5QFkNmv1ZURKEsiZce1nS9K7HrwpC7yJV4Xt3eAVbLJfoXHrtwG60Z8gwaSnmxoL3s2ZlRqggZN/MHo1oUS4L+GwObFI596Ld4Mvi8l+cQmF1gJpkpnDio7TuO35npaMHiWzFqPSX3qNgkIPGuX0qGYnPIVsM901Yu8oZnOZOY1TbtIdFUNKNq2dP8SJ4F/VCEzIjF0/Rh+7UrZj80tC6rognVH3mqa8eCs/lcQU1Pjj98kBmAKDbZUTwosv02UunRR3n0X6c+f73mtwB7/WbQ16gO431EtwZbNG1SM4TZPBnsQSESlsfG2JLQXx5xWf4bmQ/xcVCPISAX5897JxHKLD/Xkgu57+ABR2+MMtEbX64+MNlBHpKC7sjlWVEShf5qA+dGc59LFVlZrX/Enq9z/v+wnZ1HErmxmjJjxOA+hAjVUWgtq6ygAi/8ewJDjUMFw3zhQFtbyTLDPFd21Ji5S5QPZo9nMSxdg1+DGFSN0wlWt7XeYPbHqLfliV0J1kOhQNp0VbUPy0MS2Ms66OxtSWvaULaWHnfAA+sieVVgtjDwN3nKonWapkSKRN8BKKJQpCfqo8RQI5udhfu5s5+7vwsppmAJDgz2GNA7d43VdbV2l/SrvEu4RYslmNJmfSOVbssxAhSYy6WxpIQdDB0FVBpZ6IM8yr81QN+XLZ3n/wed/R+s6LslkxKbzzst/GkRbe6rFmtvJCwr1T44ETM+IMgOnjUO0eG6a1n2w7lwM1oFBvzMUWRkNFOvKcx3oSb5XdenZ5dXsute6nkRypBiSdAtA2fxAd8UdLOZW/MB7fZoEuFheQXijdaF8kuaRZoSeWdKOkKsGYEGaXfaDKTu0WMTcLniQs7KRCz9iK3SP+Y2xIjkfVGqFLSQ6vh+A1u6FdfwXsv1VPMfi2cxmdM+/xTgMXEyo2ZGcQ2YmPsghnYdv2+z48JpGZA4tUK1p1q2VdVxyfypXEXcrxKKtmt8UdW7sHWmKMqDuBBM3J/JUQx8eUYN4pJ5oRqvdiPHU1o/WPjiKvnlCqOdyxlxF54L9PrtLD1NejZ9aZDivVr6ZfMFK1/psVygoPIAnphcJWWb9+5IKMKmgRQULsTPZi6Bw4wP32zVEoKcHpP73CkFAqS98nSaGoWDjDJiaACJn4p5o1jq9R4Q4VcibhXF//LHP0bdf63kRVZdRbbhGe7sDQcyWS5tpkfeYHnff25WK+4FpzLlAcbaKmHdIBqOw3fImx1uqQIADH0TyHzFlqTG6nMoY81svP0T6BIyELMS8tMe+E1p6TFP6sVpZa6VNaTumufD5aj9goRa9SAmdJT4HhI2r0egj8UrgFb8L59wGLnYlzkLAiUd3m/WWIIEU61kPoEjd3gIVy/fiBcgqQqHnoXpL0SqLGdGGgn7DQeVMSYWHfjno1FngIKP9cjYaTlcRP6bZunjHP13/lbVm4awti894pTf/ZNNqr4OR+tDVie/m+rC8QpVnRbsCMPukOH87B2jM4AG6pHuXl1x9SiKdhYJVOhfo/+SCaGjUW2CoogL1FFhFGN9o+acoVLl0SXs/3vrSccmZeAF3NewFuOg/P12QYKQF+SH+KYcNnsAhIAELPBUgre/KRUJEA+KPD0MHRjv+3J/j2Z23MuJmkfy7leWcMsti8wXLSHgXFJTaksx1Woi6oljwxFVIJG12SBSZLNJDbXMYPekmiXT4FclKI35BFgqnYpKfcsr+f8HUXQoHJ9UYZ4J5YMiHHyAxg6eidhodgqJ2Htf/xYEx+G0zXchuzlt8hcAl+AT8NCQ4orFc4DerabF1enA7NTLnvtZh3FUwqIOvY7Q4DYmoDHwXTSw5UNNh6r7j0B/ezMYJMDcw4+6gCTZX4YQ+7Xs8de72vsR3cmfpxIX64/6KR1p3VX4F6vfHEzxzarh8aDH4G1DFoBBM6npXFpK+Rh+WrcFclAeAxi0PoaR9CpOxxGLSdvxKVSw8oOOanG/soKImRopN38AdcUhhM2GT/PgQeSQrG12njuJJD5Z7vWfAZmFybYLdSA91kB4aoBhoj1Z//KNIVVujqaLLRwCkbyn4vh0739C9V9iSjybeOIeSOvNs7LW1a7EUtNoKAnOGML4U8KBXpfrw73WjAszJG4Qscq+Xr3kZWR4Omm0xT6qE9y6FNSpstV4onMZSqCEJ+3VX9qjvdx5QVrM0WXxmPZxejdfnihcFAjzv5PjlTl6ickDbHe6+Lch52pjOPqk+m3RZ+bh2JSMGtFBuODbMchrpRVlt16NTQ05Ps0IDtWlUmWfP2vX8M4YDynIuOZ4Ck91+591B98Gw9fw+yQogTR8CSg0zaJu+rlBo/mr3A+1NziF+kdubz+whc857AZt6DwIBIF5+5yiaaf3ByQp1Fm3sOkZDAzwsYSQTM/Kv6idkugF63FDobDdUY3huruU+sCaBuRR+HmOowvmZoBjZHNh77SXFtmY/oOUE7ifN7nBHAo83S/xvcS6H4Ci2u/9Id62Wv6Ui+zMNLAzhfkTkVcW2BwrnYvpur0ZDlzs+ZLsmGTWvd1892t78gx1YjEJusGcxphjLkV0UfAKlekfSBVWHE2ahk4AbbRmHyL7GYdtKfdlINwrcdJuf3Cee1nfUojDQn/YmItESOFhtLzrkEv4k2XpMU9oaJQ3VUC+1INh6BE68pkHameGJm4Gvdb24Q0fXWxd9Tp3A9mzFSe4qXDGGDIV4AAGV1jIDfveknH1TwWpUT6HiQxKP3AAHJNkJeRlj/mXBmS4S1j8FK6YmpK7jyyAiRbsMCCLoJcx01fvgpMvKQRxu9IOwymconQjD56g7ksOrcOeoTbius4JnGesAS1DtgdaophYsw1wGIsMS3P7K6doE3K5czznqPQLSRRF/Ylzb5NtSKsL33SgskFNCF4khn5LWaDxI23ZRi2hzqN8uW8UzZEBYy68+VtGLSymQrXGUlr2nO2BbBIT5Vh1RmGAyDXaW0FPrpx3wv2UYdFk9tSl+906bMxCuXQaKDQP/U19UEcVGK4gmksL8lAorxQSAOwpeYX9xrZsh6yoGaL/X5O3tgQC8OM+/GvxnW9XvAtu/JxAigydfSmZfqZfg1XOcHNOpLlN8j64OZ36l5qawDBJ62YaTvxeNmm5gowCdBosgcpHOgNgwA+sknN8XmsR2IYChcafl9bGNMZ/nB5guWuvEziv6QI2bP2DtyKWG/qUjZMaxy+wASkkVGtuwGtywkTYG6MYrZBo18vYcww48G/+f+eITA/qMwbLlJC0S3+/ai2pPvkOhRRVmGTuSupaxhIk0xoXLtixCxSAn4Z3OnUS3wBqVscLI4P3GP7i/6gxYsswsVmkvDXFLhO/OKcur8flegCSKiqmVpIRvCzgbjEA0mXPn+RExXY/2OE1f/BYuWpRQY8gCDpMOYBx9Gn4tL3hihSIR1ixh2PIIT7cr2gUJbfs76EKYG52Jk0UZF/PQkBxGuFCEWXnG6ue/hTIqjTRq1sotVrKrwIGHDrITyuanUzbIYdgdEeV88K1VD82TYB2B61Ft+tB1KqHPmT9+hWoaV+iF3SuvtJqvnoLaA8wxrD56AUMULEgzO9SvBcBAfqz/dzMYzwMt/YLszDbmGe1bcHHfFMcvGql9bf/tp+Hrj4q18aNnftGjmXTfws39emn7/5IBxog9MrmftAA5Oq4awenm8HimWO72dwVlHcHmutVMdrMHw+p2vzpzT+B0iIZ+IEpplwWhClcXlxhxAsF3CHRnnaUEqq3ByQ+cqhe5SvR4SFxh/LZoQwtj8QZQGT1BzY2EMpYnUcZWQEPlwFZw+7UryK9qV8KgruYsvyMoK16KI2sN4SOblrVwhyiL8+IBZ8cpUhsJQSU7TFHAi+L2F0sn0y+FtDODlnuif2Mba8QddPZYYxjTsIgkMe3M6+7kXxUfZvbCUlyq71J1eNczGk6Vqw6rSx2K3vM+DjLxDRGzWepTO2qTT/W8S7u0QXcyFUahcB4vq8xCYTpy8iswtnyz7Kx6lgTEQJ9RqkgEIN6DOUqB0uRdeYuDa7AP7Zy9z+ZlTsmVR5vtV71m3dmdtNeWghbr5PnPJtjXAzcvZjxyV96VEx/B1TA0IEQSI50ywGuIbmAYdQg/l/rxhQLX+6uOLyFsaUt6mtjpAJkLfehnB6MlOHnNOrWLvCBqVBS07jcM+4RzLEed3f3/0Xwp92U+nataNHyEgnnuYR6PXEjRLETz0xrt3UglfK7Bn4aNlXG7cZco4lMziLv5+Mh2JCww3mz69Z9ZMRR/xv5EKJ38IFxKd9dw5CgPIXja/gzAshMbF14/qBIgNkdUQeP8YE7SrICGtiTnAKTyA9cXa3OauDHxZOdTP7yuYBzD1UcHstIO16FxF1bRUAlSkszI83YufTchU8OPnnozDl9bS0y6CnnjGwgj9M61cXcZsljjhLeT/Vq+30ScN2PcT/dOoxUDqDS38+OpCCzLDdnwHQc3ECQVIkaxmdPaZTSdfp2jjGzSdNLM5yPQsgJDl+ZnhclDQi8ltUnkqWJ323IvTZPN8rn0+EshL1cx9PiaLTzUsryn9Zp2Nt/detUAh4N/2I3dlMQqjHFxSihv0uykzflq5clMy2ZBaxoEb0/QMp03IQQus3vnZd/NOmSsmgqXqKFP3ozyDgY7RQS+npabe/hNG+5sa5FtvL8v0uYuag2NewYkcol3TOTadpuncCnDgOGpmLnTQ1PEPUN2cNsrW8LYfIv+hzfb7vod+ipXHzmbgj5Fzc6RcT/5PD7VQ8nTJBNj1urkVUx9uJvTWmqY08OC80rGDLaWXv243VB16gjt4Xtwp5H2UDR0LiKW24Ed/sOO8jl1yEU/XAb3h7ScKnCFy/V3sICrkY1D0K9fSokHIL0s5/7DLShLAPXRbV7fbv4qj6OwHC9d5PlEOX3LRpQ3P7hcSAKlIKPDM83ypz56U5+rJeo0cyUtC7wltL8wqEiNSgZsDWzACc7RFoZqhlD0+sihIBQlkQTXmvUyIOZhkQX2zqME5VRC7ms1sa3CY+odMn3mMBiTvCMKnnCxg5ZPLq4GUDB4jF8Br2K4x4sxfWjGXQatJ25I1JyrIv2Z4bP1jKw5C+B2/s0v4dGUOsaS6IPIQV3ETQ+F2fSl2BPBXHzyYN8VmwWIrKeMX9pyGWuAOVXwkxJsRBaBVzLhZDP8ONGncknL5DpTxHN32GgFWMwsc0GmL0oRDmRT8u2lvjAKUIi0MmXhIHSlFeh3Qh5pP6ap4YUd6b569ZIaHgya2AyD12cPxY0In/PBjzDctTaKJCU+xc6m9RkNLDEE8guvxtJP8sl8N9bLqw0F/qejaBlcHYqw31zYpsutQp07hsP1vhGdl4hJ1wA7OCsAHnKj9879uSHILEmuZ6vI1lT4tvnWCVKZhhYrWHW9oPKPKpbOC6FTjf/OtUvwmiXr2ykvyLzHGQeyS7BenZpL3N/CaF5T7Gkml7JXN5cj0PKaDpZVImD61FuMgFHPqSHvt4Ej4KBdAfdcoO3AjQPLwwtKsgGM+ty4lNZMBEItJSRLunG5ckrM/BeoXWoPZVvEoIzLgFQYPupMwZCXis4W2SCJ2zsefZqCj+aTfSq1FYdUj2UeJALvVTf7vuuikOE1Hit3UIAGUi/sqgMum9vw218y1FlY/9XnOji9nqhGAcMYICc7BiqLZj5N+cKEuSAuiyWbMg81ZD1lHovy/we2eaCcCv4MzEW3O0mVA/t2xdA0cxTVbXmFhn+tARDpvDz5ftLr15OAAmvo2QiAky+feVO4bGibv2nlBmBzqx0lEDfEm4UnEs11pbnwZlJ/0Y73/wBPYfTNZiJKR73TzdCW1BffiJq9bLjQmaKnU0+gN8sfe25IKSUCooQwxePDrFn3a/zUgWxvPoTYVXfobY/GV2qqTkeVDV9D8657fhY0/wiaJ5NfLxhXbE/naxs34N0hd6vxNfdm1TCnozm/NKSCThchoYgMF7Z2tzXFovRfsNVkf86JjrM60r7UIuV3bsmfrMOqzjXjN6HPBG25zCJ3QLueySbj9oFvX/HxWBqh31PBPxduCVAxMqC9HK+YL3oBZqBruoh6LKvdMqoz0PYXUBrwbiioyE8Tj5ImjJmiOOWLbAZvIZ/l9rIPljx3T5glJ2ewlfuIT5GlodQsAf/IEtmYkML5SRQGxxwW+rlZkD8belJNu09Itwx9xDULTnemVDeojdbgcd2gKGM9aO00Jivtbs7ZyOSE8IPh98GfvatD8Ud5uHcZfAfMiPSlIxd4UqeSDzuNfbKDuFepkyC/s3j9fawmhY1b9NqDi0ZS5eP35l7rL2eK5QlWLlyCmxx8AFaFiTuD2pMUxZV5mBSJuJduOaq2ZrWpu28DE8jl/hisBz7bGWH6qLF0ayWNq1Sejtcs8KQrQqJk5P9QHDYHOIolgNsMDmEaWcTelghbfFCDqWrq6YLwDWy+m68ec5nShgq2fduUBpQUuKKKgnttaUX9PRfMmxqJyU7e0RLr1bev+ge1KK0bZyhHKKDE8gQX9Vf7rNHWOxBtZcxwwGusyMpH77qWZxXsQmbgIGhtiO+gSSRCyu/ek+OFsz1HMiQH0IHV7PjJi3dszYfFp8ue9h4+AfKte4MTiehPvxNcm/T1t9vsFZx8rHN5ie77r2jzZOq/Em4Q+H9sNcZakf9HnzCc1fJixppxP8FQABmVnqa6GbJhwaka7WH7Wdoz1WxOjSNV8N9sgW5S3Ppgkut+TTCkjA+AodUOk1KIR+8G8S3WrSZG4nyqfJ6FEjXl6a/LEoRMHZUqfPRWvwqrtXYy9IUsmUGzkqi76ib4NANCe5DnyOxnFRZ9d8FdBVBjra3iNuZhJuWW5Omi/hBigqDsg0mu2AhfJDXdwyMIJ33HHHPfS2JtjegRejX11m41TbNL+Qp7mR0g9CPKTj9PIjuSycGN/YPozXI4zarXuAeLv5CHKtKcJKRbd6R2oLNiEt0T8+QIVJH7zt9ncKMgd49vV2P1AyScZ9Qzbu3m3LBnuu6dw7aE0b6r4kzVkI/GUS88mA53L/rLtntkFlZXGtIoqNP2mD3eVv08AVVPT3wJn81zpbJV9SuqZ6Pd1ge0Zz2RFHeCdV5CLPftH9V5o9+VzFu4R0QeumqDwUhXn3IyYotdJnxr1l3BqWnQVAeDBEOtPyJQx1q5+mODiClXtYeBLTWtsJ42AMBcf/IFIhpfhYO08hsg0Ik+DpQFNOKReK3o3cudkxWX0soPtI5eSFOA6yNylS+IQjrQtYQ/5s4UcixJfokumBUjpH9ofSjUTwPCapGFndfqqG5IHeMMvfg+88SXm7bNyjk6pGKzL+WxDAdqKtQ72WWVbOk3I+ueGuammmB2pvFZvqIcU/lvW3n9+r2lycnQLE4OX9R1jIgW4cDjJ3v8dAa66mVcfC7ptCr5io6mCaA9qI9T9FFWqo1ZAaMxgxAu8aXqmaOYryMND2sTUfoHvxcYK7hEiJhCLYFDx3PBhE97c2a0ub1/ePJcyJOqr7UaTAPTJ+xvZtjb/40sloY1ltRnTkWILmIP2b7S3AdXCR+YiArMUHwdncpjpyDGfzqGOUoAuaamWzAMacQtb34/M32FEgR5lUEf8fRzFrZUhzQj0fR7/6gdzdnVVvcSneLmtqJ930VCCDORY8CVdQWdo/S3PNkX3pQsPVKWIYGAMrFZoq8bQ/OJBDSXP7KSBdL3QN0Zqd393p6VFc7DnlnFiN00SY5Nux7yadeIM0Upl2rVsu8/VAI";const IO=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),PO=4;function yde(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,s=[0,1];for(let C=1;C<n;C++)s.push(i+=r());let o=r(),a=t;t+=o;let c=0,u=0;function l(){return c==0&&(u=u<<8|e[t++],c=8),u>>--c&1}const f=31,d=2**f,h=d>>>1,g=h>>1,p=d-1;let b=0;for(let C=0;C<f;C++)b=b<<1|l();let w=[],y=0,v=d;for(;;){let C=Math.floor(((b-y+1)*i-1)/v),E=0,_=n;for(;_-E>1;){let O=E+_>>>1;C<s[O]?_=O:E=O}if(E==0)break;w.push(E);let P=y+Math.floor(v*s[E]/i),x=y+Math.floor(v*s[E+1]/i)-1;for(;((P^x)&h)==0;)b=b<<1&p|l(),P=P<<1&p,x=x<<1&p|1;for(;P&~x&g;)b=b&h|b<<1&p>>>1|l(),P=P<<1^h,x=(x^h)<<1|h|1;y=P,v=1+x-P}let m=n-4;return w.map(C=>{switch(C-m){case 3:return m+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return m+256+(e[a++]<<8|e[a++]);case 1:return m+e[a++];default:return C-1}})}function wde(e){let t=0;return()=>e[t++]}function GG(e){return wde(yde(vde(e)))}function vde(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>t[i.charCodeAt(0)]=s);let r=e.length,n=new Uint8Array(6*r>>3);for(let i=0,s=0,o=0,a=0;i<r;i++)a=a<<6|t[e.charCodeAt(i)],o+=6,o>=8&&(n[s++]=a>>(o-=8));return n}function Ede(e){return e&1?~e>>1:e>>1}function _de(e,t){let r=Array(e);for(let n=0,i=0;n<e;n++)r[n]=i+=Ede(t());return r}function Sm(e,t=0){let r=[];for(;;){let n=e(),i=e();if(!i)break;t+=n;for(let s=0;s<i;s++)r.push(t+s);t+=i+1}return r}function KG(e){return Tm(()=>{let t=Sm(e);if(t.length)return t})}function ZG(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(Cde(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(Ade(r,e))}return t.flat()}function Tm(e){let t=[];for(;;){let r=e(t.length);if(!r)break;t.push(r)}return t}function YG(e,t,r){let n=Array(e).fill().map(()=>[]);for(let i=0;i<t;i++)_de(e,r).forEach((s,o)=>n[o].push(s));return n}function Cde(e,t){let r=1+t(),n=t(),i=Tm(t);return YG(i.length,1+e,t).flatMap((o,a)=>{let[c,...u]=o;return Array(i[a]).fill().map((l,f)=>{let d=f*n;return[c+f*r,u.map(h=>h+d)]})})}function Ade(e,t){let r=1+t();return YG(r,1+e,t).map(i=>[i[0],i.slice(1)])}function xde(e){let t=[],r=Sm(e);return i(n([]),[]),t;function n(s){let o=e(),a=Tm(()=>{let c=Sm(e).map(u=>r[u]);if(c.length)return n(c)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,c){if(!(s&4&&c===a[a.length-1])){s&2&&(c=a[a.length-1]),s&1&&t.push(a);for(let u of o)for(let l of u.Q)i(u,[...a,l],c)}}}function Ide(e){return e.toString(16).toUpperCase().padStart(2,"0")}function QG(e){return`{${Ide(e)}}`}function Pde(e){let t=[];for(let r=0,n=e.length;r<n;){let i=e.codePointAt(r);r+=i<65536?1:2,t.push(i)}return t}function Kh(e){let r=e.length;if(r<4096)return String.fromCodePoint(...e);let n=[];for(let i=0;i<r;)n.push(String.fromCodePoint(...e.slice(i,i+=4096)));return n.join("")}function Sde(e,t){let r=e.length,n=r-t.length;for(let i=0;n==0&&i<r;i++)n=e[i]-t[i];return n}var Tde="AEUDWAHSCGYATwDVADIAdgAiADQAFAAtABQAIQAPACcADQASAAsAGQAJABIACQARAAUACwAFAAwABQAQAAMABwAEAAoABQAJAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACwANAA0AAwAKAAkABAAdAAYAZwDTAecDNACxCmIB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgPi89uj00MsvBXxEPAGPCDwBnQKoEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJEMAJpIBpob5AERSMAKNoAXqaQLRBMCzEiC+AZ4EWRJJFbEu7QDQLARtEbgECxDwAb/RyAk1AV4nD2cEQQKTAzsAGpobPgAahAGPCrysdy0OAKwAfFIcBAQFUmoA/PtZADkBIadVj2UMUgx5Il4ANQC9vLIBDAHUGVsQ8wCzfQIbGVcCHBZHAZ8CBAgXOhG7AqMZ4M7+1M0UAPDNAWsC+mcJDe8AAQA99zkEXLICyQozAo6lAobcP5JvjQLFzwKD9gU/OD8FEQCtEQL6bW+nAKUEvzjDHsuRyUvOFHcacUz5AqIFRSE2kzsBEQCuaQL5DQTlcgO6twSpTiUgCwIFCAUXBHQEqQV6swAVxUlmTmsCwjqsP/wKJQmXb793UgZBEBsnpRD3DDMBtQE7De1L2ATxBjsEyR99GRkPzZWcCKUt3QztJuMuoYBaI/UqgwXtS/Q83QtNUWgPWQtlCeM6Y4FOAyEBDSKLCt0NOQhtEPMKyWsN5RFFBzkD1UmaAKUHAQsRHTUVtSYQYqwLCTl3Bvsa9guPJq8TKXr8BdMaIQZNASka/wDPLueFsFoxXBxPXwYDCyUjxxSoUCANJUC3eEgaGwcVJakCkUNwSodRNh6TIfY8PQ1mLhNRfAf1PAUZTwuBPJ5Gq0UOEdI+jT1IIklMLAQ1fywvJ4sJzw+FDLl8cgFZCSEJsQxxEzERFzfFCDkHGS2XJCcVCCFGlWCaBPefA/MT0QMLBT8JQQcTA7UcLRMuFSkFDYEk1wLzNtUuswKPVoABFwXLDyUf3xBQR+AO6QibAmUDgyXrAC0VIQAXIpsIQ2MAX4/YUwUuywjHamwjdANnFOdhEXMHkQ5XB6ccMxW/HOFwyF4Lhggoo68JWwF1CZkBXwTjCAk1W4ygIEFnU4tYGJsgYUE/XfwCMQxlFZ9EvYd4AosPaxIbATUBcwc5DQECdxHtEWsQlQjrhgQ1tTP4OiUETyGDIBEKJwNPbM4LJyb5DPhpAaMSYgMMND137merYLYkF/0HGTLFQWAh8QuST80MnBrBGEJULhnkB78D8xrzJ+pBVwX/A6MDEzpNM+4EvQtpCIsJPwBJDqMXB9cYagpxjNABMYsBt5kDV5GDAm+PBjcHCwBnC4cFeeUAHQKnCKMABQDPA1cAOQKtB50AGQCFQQE9AycvASHlAo8DkwgxywGVLwHzKQQbwwwVAPc3bkoCw7ECgGpmogXdWAKOAkk1AU0lBAVOR1EDr3HhANsASwYT30cBFatKyxrjQwHfbysAxwD7AAU1BwVBAc0B820AtwFfCzEJorO1AU3pKQCDABVrAdcCiQDdADUAf/EBUwBNBVn5BdMCT0kBETEYK1dhAbsDHwEzAQ0AeQbLjaXJBx8EbQfTAhAbFeEC7y4HtQEDIt8TzULFAr3eVaFgAmSBAmJCW02vWzcgAqH3AmiYAmYJAp+EOBsLAmY7AmYmBG4EfwN/EwN+kjkGOXcXOYI6IyMCbB0CMjY4CgJtxwJtru+KM2dFKwFnAN4A4QBKBQeYDI0A/gvCAA21AncvAnaiPwJ5S0MCeLodXNtFrkbXAnw/AnrIAn0JAnzwBVkFIEgASH1jJAKBbQKAAAKABQJ/rklYSlsVF0rMAtEBAtDMSycDiE8Dh+ZExZEyAvKhXQMDA65LzkwtJQPPTUxNrwKLPwKK2MEbBx1DZwW3Ao43Ao5cQJeBAo7ZAo5ceFG0UzUKUtRUhQKT+wKTDADpABxVHlWvVdAGLBsplYYy4XhmRTs5ApefAu+yWCGoAFklApaPApZ8nACpWaxaCYFNADsClrUClk5cRFzRApnLAplkXMpdBxkCnJs5wjqdApwWAp+bAp64igAdDzEqDwKd8QKekgC1PWE0Ye8CntMCoG4BqQKenx8Cnk6lY8hkJyUrAievAiZ+AqD7AqBMAqLdAqHEAqYvAqXOAqf/AH0Cp/JofGixAANJahxq0QKs4wKsrgKtZwKtAgJXHQJV3AKx4dcDH05slwKyvQ0CsugXbOBtY21IXwMlzQK2XDs/bpADKUUCuF4CuUcVArkqd3A2cOECvRkCu9pwlgMyEQK+iHICAzNxAr4acyJzTwLDywLDBHOCdEs1RXTgAzynAzyaAz2/AsV8AsZHAsYQiQLIaVECyEQCyU8CyS4CZJ0C3dJ4eWF4rnklS9ADGKNnAgJh9BnzlSR7C16SXrsRAs9rAs9sL0tT0vMTnwDGrQLPcwEp6gNOEn5LBQLcJwLbigLSTwNSXANTXwEBA1WMgIk/AMsW7WBFghyC04LOg40C2scC2d6EEIRJpzwDhqUALwNkDoZxWfkAVQLfZQLeuHN3AuIv7RQB8zAnAfSbAfLShwLr8wLpcHkC6vkC6uQA+UcBuQLuiQLrnJaqlwMC7j8DheCYeXDgcaEC8wMAaQOOFpmTAvcTA5FuA5KHAveYAvnZAvhmmhyaq7s3mx4DnYMC/voBGwA5nxyfswMFjQOmagOm2QDRxQMGaqGIogUJAwxJAtQAPwMA4UEXUwER8wNrB5dnBQCTLSu3r73bAYmZFH8RBDkB+ykFIQ6dCZ8Akv0TtRQrxQL3LScApQC3BbmOkRc/xqdtQS4UJo0uAUMBgPwBtSYAdQMOBG0ALAIWDKEAAAoCPQJqA90DfgSRASBFBSF8CgAFAEQAEwA2EgJ3AQAF1QNr7wrFAgD3Cp8nv7G35QGRIUFCAekUfxE0wIkABAAbAFoCRQKEiwAGOlM6lI1tALg6jzrQAI04wTrcAKUA6ADLATqBOjs5/Dn5O3aJOls7nok6bzkYAVYBMwFsBS81XTWeNa01ZjV1NbY1xTWCNZE10jXhNZ41rTXuNf01sjXBNgI2ETXGNdU2FjYnNd417TYuNj02LjUtITY6Nj02PDbJNwgEkDxXNjg23TcgNw82yiA3iTcwCgSwPGc2JDcZN2w6jTchQtRDB0LgQwscDw8JmyhtKFFVBgDpfwDpsAD+mxQ91wLpNSMArQC9BbeOkRdLxptzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgELgEaJZkC7aMAoQCjBcGOmxdNxrsBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUHqSvAj5Gqwr7YrMUACT9AN3rpF27H7fsd/twPt4l+UW1yQYKBt2Cgy7qJpGiLcdE2P1cQSImUbqJ6ICH27H4knQMIRMrFkHu3sx6tC35Y+eLIh4e4CMKJ4DfyV+8mfta499RCAJ0xfeZR8PsoYOApva9pjGn4PhvyZS7/h5JLuhaucfjuU+Z584wwqNO4hWYmaBCcjgQPale1bjoHzMUbut/zTgxHxBnAyrdKpF4IRMASLBtD/jviyLeCgj8twWjAd3HchN/uqaeRYeHJgl7JEY9/cTrvtfybx/r3Y/NtxJ9dp+MTVmiS9bwBH73s8Di56/Ma+mTPMHq4T1yEG1fWcqr0u+hrGnJEvU1JJAm/maQSrKrazIyvSkDFkj8UUlfBq8baniTGPng6YZRL661rDNw4w/1g2figG0IhXnL7wosd/sVNo5dYSmMBTP5c7rYLjRdCwg8quwljOMPf63D8ICAL0r71XRiyFHdgwHbwfgnPOf4Lzjf2v+j+IiDHG2isp5yUnzSDyDRb4i/Vs0qHSHq8PiEQ/JnBP7PxnjN0j6gT4AVAeRx/1o9VnEUlUwvFrzJqHk9jxAw4sYxCnrxaeBdCFFKbnE7z+x54F5W7ZZsU6kx8Qocul6FoAHHy01FGL/nne61mn4+uYXfQ1Uccn+HMLKE+cZzT8BB1E3FRskOgJrRsq25rauLm8+uamXpkS/bTy6y1wDbCrW4eD532kTWrtNUmVVZOIn/C+/JR9KVR5iG9TY8iaT67ubm/whL1xbKZoqtY+a6fNxMJrg211bGYJDUkYMNWA0BMB++9zOm6Eik4roqs9CCEFW0lyAK0PbvlzvoxrZuY/OEhNW/l/63U15Od/RSvmDvXpGLiVmeGi5PDSH2bYz5o2g6wFDQ2FbZgYgTF8rPlvA1ifjZD3NLtFdXdpSIJvgKR7GpjJWG7GZGawPomIH8B5tUmtHH9LpM+/KQKunEPa1GiQkCXv4Cnm9DLORo2joicHdPDZ64obQrPZ5bgqckkj0G6/NEiPYBY4bCkL7W8G5YzsUb6GakFjykSPkT7JGeLeB6uJOGMm+x7N381BCDfbJFx0dtLgV9Q477BfL1fvitX5anV/oYfxeYl+eF5x5bB8+Ep/L2nsmd56aKF4aAD4GbJWsdKyBW22xEmAD3XdbtsMyAFoR5mOla0gEd9U/YVB7zvHGpHbQonay9Sv0bQ8iZ8piaXVrKc5AG1AmqqgaEvzHSP2Wux7aZTWh6quVDVU01JtMIVRdCFwlSbbqqhoFlyzsotQzRexFvZ/MqUSFu3OhRIuNBbufvBpdVgb8XdGJ48/lJPCZ7dsOujTTbKPSEvGXkOnG2Xdi8/nM3EMRqITd5QeU7iOjKqC7URJY6TnLsHij22xAHKnVRD5MDtBYnoGFqZGMDmXCW6Oj+BAWw14hESY/xLF6bLku06AHkiXTHPCFZ0f9YSqqo27eAhhS67OrA2Het4M9JM3jm/yRX6bYxnfmzYl5qQdHxN08FsNuWDrWd4vMUY2QD3hr8vS73SCTkFoXZR3xNzOQt8d/6HfjBmXqvrE6EGkLzK6YK2U2/ksU/iUH+LvVIsJI+ri2AL/klo+ShdDyfs5A83i2prkMs51IKR7ZcqjZJi5X3+bd8GlyWvtddxKEoEqSgEO7A8jIgf2nH0h8FjM7oB6yte3X5mpL0i/E4Rx0CotKnILJj/vJqo4VkPQ93jRtRVfaitQPqldl5xRYPq8387Z0DcnZvOeION0Ht1+P27kFLGQIcLBX4FG3sffccNHh5cPfzp9INoRtqVtdViJfg8RjnXiIz/MNqEN6zvzX3hMzyWC7oSoXIT14ubc0abPX8Rp9GVa5NI/8iv+6ela1oTncbdimRKnrbRffDR/X4nH+bgqAuHWl7hOaeXPWVzIeRl7ga+JzD4Sx3mlj/q6Ra/E2HhDf21eEzTLNGfCZsY+/yxZzQzIAuijG65ii4O/waAJCrEJaWd/DRAKMQ5678Dw5AT7RCKzdadIwd8LsD+DgPBASmWsUlf8R0k1w/2k4lO2Wpb4zMI6EJVJs0xk/wn8/fRUPqrDKhbjHR41SqgFMx5RGMPuduFwlu5lK89tW11sTqiX/5EfGs5nO+y9FKvgXKPOEmgE05EKNL6Sjb3xS40H3BVPhm0ESOZgAjZoymc8be0inDVo4JdJVf+NKd3tN/CaB7GShhH27qf95NoFZVX/6ZkR2lX+CgWrQ2INgkh+bbMz68+uJ3Clsh8HSMPEQtAt+BBE6fXDab7KIlsKxU1lIXW/KWVstpdPanJ0pdXpQinDyUQjtY7ZVcfiecRxRDMAUhHFU2cEaciQ+htiPMPx1kdvtWG9T44w3r037ljHBFJdYR0r55qvMRixtAEFJAqA4T1ES87FAx7UozXasytg8MftZYt0rjYgLe6EJ5aWvy2qscBSBQ7yehoJIA3wIIZ9ukfkyBb6qnue5ko8W50rpV4kXqWjI5nbGRXrNW0tBZHXlY48nSgcUXBHWT4GcgLZJoLlKJnV96kCYpq9eWHh7xJzkCAyrQuQ5AJ0qq/uZ3toJglNterev+Qm0KXxPg/+YbFRJdfhbp1wOnVOEYdVHTya6CtO0afhEaBhx3oHwCb5Kq6RwHDzFMl2vfjL8GwzcCoTj7wZe+UFnYDV2yKpPU9dba29gYBdNqJg/KXozO+CJTlKmlKhnqTf5doeS35DZFV+cYJQVjd+oVY/Gtc/6XPzUxb1gMqf6cEjNNoRC8AObrp+fx0cVtGu4ffC2TgXRC8zPl8moUHCB5HZ25d87mlsiiK0aNwBtcEQjRNBT/QrXbw/8aVXdKMHn9EqYEKEyxSGTpYQOaes1G1Qq8pDgqkZtlO2HRyCXpmeM7TSrRPkAh004BfisVpF6zP44n2Jvxz/gOVocNCyy9V6lkod28QM4pbaMvVJigD/w3BrsjSJrXlqc4ulBYOCceiBN4b/gHajYyupbhEt63a619Ay4wsL6a6w6B+A7TnoyE7BliWHJfzVxxIKM/W3M/J8Bx99Op863Q8eNuIMGRx++VbYfjm+VGYBA3Ap/KEu/wxBNBpJJncwHPG45V8Gh98ZIrGCc20MwijGowZbcS7d1nEgcOW5cddZpHL2XPAIRbColiheZzXTvBxZOY3iMSDSKDrICyJ/iQs1vdplVdH/JrLJsQ2jtTnfCrITIghq3KFX3qAgLWAIp8IffNSdTYptnbGfc8s+qcr3zyzyHp1aJg+jxTF4kD1ry5Wauv5V3xnOGwTFecNzXSLHBW20/pCQjk4uorD0plIhMSTc79+/r4RKPClRYTBYex1Ob5crtfvRQBBv6re/6FhtCqtduag67glqRA77/3ulblh9YRtMdDxkCyJDeNnAuCLPQFmdRRWJtH20Z8DstfJf+5oj5SSB64d0iF5/Ya4KfTWxfivj9Ap2/zbYaTo/1gO3tM6RYsCZharMBFr7Fm61mLSrQnEI4OF1gbVS4k/JE9UotOrnLJZuswoWodCSV8zbybkJSVIP7n8UaE9xCR39rJZmf27HOAPVOGc9pdkQUcRrI0qyVF9Z3j1RHDbxIfwbWzmPVjwIdPJvtmBYwEQIUsIW1S939hcVikK00ozPRI02cqhzVUNzpOxVdrwRPvlh1aIOf0xFEqD3YkGnCnFah/cFN3J2gB7N+bZSGawwkKFu1tpQMrp1W+27YNkyT0TpcFpTqgOqqLabrgcCUPxh97mREOGy4xItzQ9xSl6rq+8BZsHcrQFReS+QeMxJ3P6CnL9EP/eOLDjumLhvrcQrpPiknsofbzBv9gTP0lU+TIVwE6E7CcKfT36q+ZiEOHJ9ayf0dyUJLezAb2M8aNHwd0+OJmsVgTzRWA";const Om=44032,_5=4352,C5=4449,A5=4519,JG=19,XG=21,Zh=28,x5=XG*Zh,Ode=JG*x5,jde=Om+Ode,Bde=_5+JG,Rde=C5+XG,kde=A5+Zh;function $g(e){return e>>24&255}function eK(e){return e&0xffffff}let ax,SO,cx,Y6;function Nde(){let e=GG(Tde);ax=new Map(KG(e).flatMap((t,r)=>t.map(n=>[n,r+1<<24]))),SO=new Set(Sm(e)),cx=new Map,Y6=new Map;for(let[t,r]of ZG(e)){if(!SO.has(t)&&r.length==2){let[n,i]=r,s=Y6.get(n);s||(s=new Map,Y6.set(n,s)),s.set(i,t)}cx.set(t,r.reverse())}}function tK(e){return e>=Om&&e<jde}function Dde(e,t){if(e>=_5&&e<Bde&&t>=C5&&t<Rde)return Om+(e-_5)*x5+(t-C5)*Zh;if(tK(e)&&t>A5&&t<kde&&(e-Om)%Zh==0)return e+(t-A5);{let r=Y6.get(e);return r&&(r=r.get(t),r)?r:-1}}function rK(e){ax||Nde();let t=[],r=[],n=!1;function i(s){let o=ax.get(s);o&&(n=!0,s|=o),t.push(s)}for(let s of e)for(;;){if(s<128)t.push(s);else if(tK(s)){let o=s-Om,a=o/x5|0,c=o%x5/Zh|0,u=o%Zh;i(_5+a),i(C5+c),u>0&&i(A5+u)}else{let o=cx.get(s);o?r.push(...o):i(s)}if(!r.length)break;s=r.pop()}if(n&&t.length>1){let s=$g(t[0]);for(let o=1;o<t.length;o++){let a=$g(t[o]);if(a==0||s<=a){s=a;continue}let c=o-1;for(;;){let u=t[c+1];if(t[c+1]=t[c],t[c]=u,!c||(s=$g(t[--c]),s<=a))break}s=$g(t[o])}}return t}function $de(e){let t=[],r=[],n=-1,i=0;for(let s of e){let o=$g(s),a=eK(s);if(n==-1)o==0?n=a:t.push(a);else if(i>0&&i>=o)o==0?(t.push(n,...r),r.length=0,n=a):r.push(a),i=o;else{let c=Dde(n,a);c>=0?n=c:i==0&&o==0?(t.push(n),n=a):(r.push(a),i=o)}}return n>=0&&t.push(n,...r),t}function nK(e){return rK(e).map(eK)}function Mde(e){return $de(rK(e))}const TO=45,iK=".",sK=65039,oK=1,I5=e=>Array.from(e);function jm(e,t){return e.P.has(t)||e.Q.has(t)}class Lde extends Array{get is_emoji(){return!0}}let ux,aK,zl,lx,cK,Mh,__,bh,xl,OO,dx;function S9(){if(ux)return;let e=GG(bde);const t=()=>Sm(e),r=()=>new Set(t()),n=(l,f)=>f.forEach(d=>l.add(d));ux=new Map(ZG(e)),aK=r(),zl=t(),lx=new Set(t().map(l=>zl[l])),zl=new Set(zl),cK=r(),r();let i=KG(e),s=e();const o=()=>{let l=new Set;return t().forEach(f=>n(l,i[f])),n(l,t()),l};Mh=Tm(l=>{let f=Tm(e).map(d=>d+96);if(f.length){let d=l>=s;f[0]-=32,f=Kh(f),d&&(f=`Restricted[${f}]`);let h=o(),g=o(),p=!e();return{N:f,P:h,Q:g,M:p,R:d}}}),__=r(),bh=new Map;let a=t().concat(I5(__)).sort((l,f)=>l-f);a.forEach((l,f)=>{let d=e(),h=a[f]=d?a[f-d]:{V:[],M:new Map};h.V.push(l),__.has(l)||bh.set(l,h)});for(let{V:l,M:f}of new Set(bh.values())){let d=[];for(let g of l){let p=Mh.filter(w=>jm(w,g)),b=d.find(({G:w})=>p.some(y=>w.has(y)));b||(b={G:new Set,V:[]},d.push(b)),b.V.push(g),n(b.G,p)}let h=d.flatMap(g=>I5(g.G));for(let{G:g,V:p}of d){let b=new Set(h.filter(w=>!g.has(w)));for(let w of p)f.set(w,b)}}xl=new Set;let c=new Set;const u=l=>xl.has(l)?c.add(l):xl.add(l);for(let l of Mh){for(let f of l.P)u(f);for(let f of l.Q)u(f)}for(let l of xl)!bh.has(l)&&!c.has(l)&&bh.set(l,oK);n(xl,nK(xl)),OO=xde(e).map(l=>Lde.from(l)).sort(Sde),dx=new Map;for(let l of OO){let f=[dx];for(let d of l){let h=f.map(g=>{let p=g.get(d);return p||(p=new Map,g.set(d,p)),p});d===sK?f.push(...h):f=h}for(let d of f)d.V=l}}function T9(e){return(uK(e)?"":`${O9(nE([e]))} `)+QG(e)}function O9(e){return`"${e}"`}function Ude(e){if(e.length>=4&&e[2]==TO&&e[3]==TO)throw new Error(`invalid label extension: "${Kh(e.slice(0,4))}"`)}function qde(e){for(let r=e.lastIndexOf(95);r>0;)if(e[--r]!==95)throw new Error("underscore allowed only at start")}function zde(e){let t=e[0],r=IO.get(t);if(r)throw Kg(`leading ${r}`);let n=e.length,i=-1;for(let s=1;s<n;s++){t=e[s];let o=IO.get(t);if(o){if(i==s)throw Kg(`${r} + ${o}`);i=s+1,r=o}}if(i==n)throw Kg(`trailing ${r}`)}function nE(e,t=1/0,r=QG){let n=[];Fde(e[0])&&n.push(""),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let i=0,s=e.length;for(let o=0;o<s;o++){let a=e[o];uK(a)&&(n.push(Kh(e.slice(i,o))),n.push(r(a)),i=o+1)}return n.push(Kh(e.slice(i,s))),n.join("")}function Fde(e,t){return S9(),zl.has(e)}function uK(e){return S9(),cK.has(e)}function Hde(e){return Kde(Wde(e,Mde,Qde))}function Wde(e,t,r){if(!e)return[];S9();let n=0;return e.split(iK).map(i=>{let s=Pde(i),o={input:s,offset:n};n+=s.length+1;try{let a=o.tokens=Yde(s,t,r),c=a.length,u;if(!c)throw new Error("empty label");let l=o.output=a.flat();if(qde(l),!(o.emoji=c>1||a[0].is_emoji)&&l.every(d=>d<128))Ude(l),u="ASCII";else{let d=a.flatMap(h=>h.is_emoji?[]:h);if(!d.length)u="Emoji";else{if(zl.has(l[0]))throw Kg("leading combining mark");for(let p=1;p<c;p++){let b=a[p];if(!b.is_emoji&&zl.has(b[0]))throw Kg(`emoji + combining mark: "${Kh(a[p-1])} + ${nE([b[0]])}"`)}zde(l);let h=I5(new Set(d)),[g]=Gde(h);Zde(g,d),Vde(g,h),u=g.N}}o.type=u}catch(a){o.error=a}return o})}function Vde(e,t){let r,n=[];for(let i of t){let s=bh.get(i);if(s===oK)return;if(s){let o=s.M.get(i);if(r=r?r.filter(a=>o.has(a)):I5(o),!r.length)return}else n.push(i)}if(r){for(let i of r)if(n.every(s=>jm(i,s)))throw new Error(`whole-script confusable: ${e.N}/${i.N}`)}}function Gde(e){let t=Mh;for(let r of e){let n=t.filter(i=>jm(i,r));if(!n.length)throw Mh.some(i=>jm(i,r))?dK(t[0],r):lK(r);if(t=n,n.length==1)break}return t}function Kde(e){return e.map(({input:t,error:r,output:n})=>{if(r){let i=r.message;throw new Error(e.length==1?i:`Invalid label ${O9(nE(t,63))}: ${i}`)}return Kh(n)}).join(iK)}function lK(e){return new Error(`disallowed character: ${T9(e)}`)}function dK(e,t){let r=T9(t),n=Mh.find(i=>i.P.has(t));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${e.N} + ${r}`)}function Kg(e){return new Error(`illegal placement: ${e}`)}function Zde(e,t){for(let r of t)if(!jm(e,r))throw dK(e,r);if(e.M){let r=nK(t);for(let n=1,i=r.length;n<i;n++)if(lx.has(r[n])){let s=n+1;for(let o;s<i&&lx.has(o=r[s]);s++)for(let a=n;a<s;a++)if(r[a]==o)throw new Error(`duplicate non-spacing marks: ${T9(o)}`);if(s-n>PO)throw new Error(`excessive non-spacing marks: ${O9(nE(r.slice(n-1,s)))} (${s-n}/${PO})`);n=s}}}function Yde(e,t,r){let n=[],i=[];for(e=e.slice().reverse();e.length;){let s=Jde(e);if(s)i.length&&(n.push(t(i)),i=[]),n.push(r(s));else{let o=e.pop();if(xl.has(o))i.push(o);else{let a=ux.get(o);if(a)i.push(...a);else if(!aK.has(o))throw lK(o)}}}return i.length&&n.push(t(i)),n}function Qde(e){return e.filter(t=>t!=sK)}function Jde(e,t){let r=dx,n,i=e.length;for(;i&&(r=r.get(e[--i]),!!r);){let{V:s}=r;s&&(n=s,e.length=i)}return n}const j9=BigInt(0),fx=BigInt(1);function P5(e,t=""){if(typeof e!="boolean"){const r=t&&`"${t}"`;throw new Error(r+"expected boolean, got type="+typeof e)}return e}function Fl(e,t,r=""){const n=TP(e),i=e?.length,s=t!==void 0;if(!n||s&&i!==t){const o=r&&`"${r}" `,a=s?` of length ${t}`:"",c=n?`length=${i}`:`type=${typeof e}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return e}function Zb(e){const t=e.toString(16);return t.length&1?"0"+t:t}function fK(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?j9:BigInt("0x"+e)}function iE(e){return fK(kh(e))}function hK(e){return bne(e),fK(kh(Uint8Array.from(e).reverse()))}function B9(e,t){return d5(e.toString(16).padStart(t*2,"0"))}function pK(e,t){return B9(e,t).reverse()}function Bi(e,t,r){let n;if(typeof t=="string")try{n=d5(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(TP(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");return n.length,n}const C_=e=>typeof e=="bigint"&&j9<=e;function Xde(e,t,r){return C_(e)&&C_(t)&&C_(r)&&t<=e&&e<r}function efe(e,t,r,n){if(!Xde(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function gK(e){let t;for(t=0;e>j9;e>>=fx,t+=1);return t}const C1=e=>(fx<<BigInt(e))-fx;function tfe(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=h=>new Uint8Array(h),i=h=>Uint8Array.of(h);let s=n(e),o=n(e),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},u=(...h)=>r(o,s,...h),l=(h=n(0))=>{o=u(i(0),h),s=u(),h.length!==0&&(o=u(i(1),h),s=u())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const g=[];for(;h<t;){s=u();const p=s.slice();g.push(p),h+=s.length}return uc(...g)};return(h,g)=>{c(),l(h);let p;for(;!(p=g(f()));)l();return c(),p}}function R9(e,t,r={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function n(i,s,o){const a=e[i];if(o&&a===void 0)return;const c=typeof a;if(c!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(t).forEach(([i,s])=>n(i,s,!1)),Object.entries(r).forEach(([i,s])=>n(i,s,!0))}function jO(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(i!==void 0)return i;const s=e(r,...n);return t.set(r,s),s}}const ps=BigInt(0),hi=BigInt(1),Hl=BigInt(2),mK=BigInt(3),bK=BigInt(4),yK=BigInt(5),rfe=BigInt(7),wK=BigInt(8),nfe=BigInt(9),vK=BigInt(16);function mo(e,t){const r=e%t;return r>=ps?r:t+r}function BO(e,t){if(e===ps)throw new Error("invert: expected non-zero number");if(t<=ps)throw new Error("invert: expected positive modulus, got "+t);let r=mo(e,t),n=t,i=ps,s=hi;for(;r!==ps;){const a=n/r,c=n%r,u=i-s*a;n=r,r=c,i=s,s=u}if(n!==hi)throw new Error("invert: does not exist");return mo(i,t)}function k9(e,t,r){if(!e.eql(e.sqr(t),r))throw new Error("Cannot find square root")}function EK(e,t){const r=(e.ORDER+hi)/bK,n=e.pow(t,r);return k9(e,n,t),n}function ife(e,t){const r=(e.ORDER-yK)/wK,n=e.mul(t,Hl),i=e.pow(n,r),s=e.mul(t,i),o=e.mul(e.mul(s,Hl),i),a=e.mul(s,e.sub(o,e.ONE));return k9(e,a,t),a}function sfe(e){const t=sE(e),r=_K(e),n=r(t,t.neg(t.ONE)),i=r(t,n),s=r(t,t.neg(n)),o=(e+rfe)/vK;return(a,c)=>{let u=a.pow(c,o),l=a.mul(u,n);const f=a.mul(u,i),d=a.mul(u,s),h=a.eql(a.sqr(l),c),g=a.eql(a.sqr(f),c);u=a.cmov(u,l,h),l=a.cmov(d,f,g);const p=a.eql(a.sqr(l),c),b=a.cmov(u,l,p);return k9(a,b,c),b}}function _K(e){if(e<mK)throw new Error("sqrt is not defined for small field");let t=e-hi,r=0;for(;t%Hl===ps;)t/=Hl,r++;let n=Hl;const i=sE(e);for(;RO(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return EK;let s=i.pow(n,t);const o=(t+hi)/Hl;return function(c,u){if(c.is0(u))return u;if(RO(c,u)!==1)throw new Error("Cannot find square root");let l=r,f=c.mul(c.ONE,s),d=c.pow(u,t),h=c.pow(u,o);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let g=1,p=c.sqr(d);for(;!c.eql(p,c.ONE);)if(g++,p=c.sqr(p),g===l)throw new Error("Cannot find square root");const b=hi<<BigInt(l-g-1),w=c.pow(f,b);l=g,f=c.sqr(w),d=c.mul(d,f),h=c.mul(h,w)}return h}}function ofe(e){return e%bK===mK?EK:e%wK===yK?ife:e%vK===nfe?sfe(e):_K(e)}const afe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function cfe(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=afe.reduce((n,i)=>(n[i]="function",n),t);return R9(e,r),e}function ufe(e,t,r){if(r<ps)throw new Error("invalid exponent, negatives unsupported");if(r===ps)return e.ONE;if(r===hi)return t;let n=e.ONE,i=t;for(;r>ps;)r&hi&&(n=e.mul(n,i)),i=e.sqr(i),r>>=hi;return n}function CK(e,t,r=!1){const n=new Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((o,a,c)=>e.is0(a)?o:(n[c]=o,e.mul(o,a)),e.ONE),s=e.inv(i);return t.reduceRight((o,a,c)=>e.is0(a)?o:(n[c]=e.mul(o,n[c]),e.mul(o,a)),s),n}function RO(e,t){const r=(e.ORDER-hi)/Hl,n=e.pow(t,r),i=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),o=e.eql(n,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function AK(e,t){t!==void 0&&nW(t);const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}sE=function(e,t,r=!1,n={}){if(e<=ps)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,s,o=!1,a;if(typeof t=="object"&&t!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const d=t;d.BITS&&(i=d.BITS),d.sqrt&&(s=d.sqrt),typeof d.isLE=="boolean"&&(r=d.isLE),typeof d.modFromBytes=="boolean"&&(o=d.modFromBytes),a=d.allowedLengths}else typeof t=="number"&&(i=t),n.sqrt&&(s=n.sqrt);const{nBitLength:c,nByteLength:u}=AK(e,i);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const f=Object.freeze({ORDER:e,isLE:r,BITS:c,BYTES:u,MASK:C1(c),ZERO:ps,ONE:hi,allowedLengths:a,create:d=>mo(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return ps<=d&&d<e},is0:d=>d===ps,isValidNot0:d=>!f.is0(d)&&f.isValid(d),isOdd:d=>(d&hi)===hi,neg:d=>mo(-d,e),eql:(d,h)=>d===h,sqr:d=>mo(d*d,e),add:(d,h)=>mo(d+h,e),sub:(d,h)=>mo(d-h,e),mul:(d,h)=>mo(d*h,e),pow:(d,h)=>ufe(f,d,h),div:(d,h)=>mo(d*BO(h,e),e),sqrN:d=>d*d,addN:(d,h)=>d+h,subN:(d,h)=>d-h,mulN:(d,h)=>d*h,inv:d=>BO(d,e),sqrt:s||(d=>(l||(l=ofe(e)),l(f,d))),toBytes:d=>r?pK(d,u):B9(d,u),fromBytes:(d,h=!0)=>{if(a){if(!a.includes(d.length)||d.length>u)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);const p=new Uint8Array(u);p.set(d,r?0:p.length-d.length),d=p}if(d.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+d.length);let g=r?hK(d):iE(d);if(o&&(g=mo(g,e)),!h&&!f.isValid(g))throw new Error("invalid field element: outside of range 0..ORDER");return g},invertBatch:d=>CK(f,d),cmov:(d,h,g)=>g?h:d});return Object.freeze(f)};function xK(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function IK(e){const t=xK(e);return t+Math.ceil(t/2)}function lfe(e,t,r=!1){const n=e.length,i=xK(t),s=IK(t);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?hK(e):iE(e),a=mo(o,t-hi)+hi;return r?pK(a,i):B9(a,i)}const Yh=BigInt(0),Wl=BigInt(1);function S5(e,t){const r=t.negate();return e?r:t}function A_(e,t){const r=CK(e.Fp,t.map(n=>n.Z));return t.map((n,i)=>e.fromAffine(n.toAffine(r[i])))}function PK(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function x_(e,t){PK(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e,s=C1(e),o=BigInt(e);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function kO(e,t,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(e&i),c=e>>o;a>n&&(a-=s,c+=Wl);const u=t*n,l=u+Math.abs(a)-1,f=a===0,d=a<0,h=t%2!==0;return{nextN:c,offset:l,isZero:f,isNeg:d,isNegF:h,offsetF:u}}function dfe(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function ffe(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const I_=new WeakMap,SK=new WeakMap;function P_(e){return SK.get(e)||1}function NO(e){if(e!==Yh)throw new Error("invalid wNAF")}let hfe=class{constructor(t,r){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=r}_unsafeLadder(t,r,n=this.ZERO){let i=t;for(;r>Yh;)r&Wl&&(n=n.add(i)),i=i.double(),r>>=Wl;return n}precomputeWindow(t,r){const{windows:n,windowSize:i}=x_(r,this.bits),s=[];let o=t,a=o;for(let c=0;c<n;c++){a=o,s.push(a);for(let u=1;u<i;u++)a=a.add(o),s.push(a);o=a.double()}return s}wNAF(t,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const o=x_(t,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:u,isZero:l,isNeg:f,isNegF:d,offsetF:h}=kO(n,a,o);n=c,l?s=s.add(S5(d,r[h])):i=i.add(S5(f,r[u]))}return NO(n),{p:i,f:s}}wNAFUnsafe(t,r,n,i=this.ZERO){const s=x_(t,this.bits);for(let o=0;o<s.windows&&n!==Yh;o++){const{nextN:a,offset:c,isZero:u,isNeg:l}=kO(n,o,s);if(n=a,!u){const f=r[c];i=i.add(l?f.negate():f)}}return NO(n),i}getPrecomputes(t,r,n){let i=I_.get(r);return i||(i=this.precomputeWindow(r,t),t!==1&&(typeof n=="function"&&(i=n(i)),I_.set(r,i))),i}cached(t,r,n){const i=P_(t);return this.wNAF(i,this.getPrecomputes(i,t,n),r)}unsafe(t,r,n,i){const s=P_(t);return s===1?this._unsafeLadder(t,r,i):this.wNAFUnsafe(s,this.getPrecomputes(s,t,n),r,i)}createCache(t,r){PK(r,this.bits),SK.set(t,r),I_.delete(t)}hasCache(t){return P_(t)!==1}};function pfe(e,t,r,n){let i=t,s=e.ZERO,o=e.ZERO;for(;r>Yh||n>Yh;)r&Wl&&(s=s.add(i)),n&Wl&&(o=o.add(i)),i=i.double(),r>>=Wl,n>>=Wl;return{p1:s,p2:o}}function gfe(e,t,r,n){dfe(r,e),ffe(n,t);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=gK(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=C1(c),l=new Array(Number(u)+1).fill(o),f=Math.floor((t.BITS-1)/c)*c;let d=o;for(let h=f;h>=0;h-=c){l.fill(o);for(let p=0;p<s;p++){const b=n[p],w=Number(b>>BigInt(h)&u);l[w]=l[w].add(r[p])}let g=o;for(let p=l.length-1,b=o;p>0;p--)b=b.add(l[p]),g=g.add(b);if(d=d.add(g),h!==0)for(let p=0;p<c;p++)d=d.double()}return d}function DO(e,t,r){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return cfe(t),t}else return sE(e,{isLE:r})}function mfe(e,t,r={},n){if(n===void 0&&(n=e==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const c of["p","n","h"]){const u=t[c];if(!(typeof u=="bigint"&&u>Yh))throw new Error(`CURVE.${c} must be positive bigint`)}const i=DO(t.p,r.Fp,n),s=DO(t.n,r.Fn,n),a=["Gx","Gy","a","b"];for(const c of a)if(!i.isValid(t[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:i,Fn:s}}const $O=(e,t)=>(e+(e>=0?t:-t)/TK)/t;function bfe(e,t,r){const[[n,i],[s,o]]=t,a=$O(o*e,r),c=$O(-i*e,r);let u=e-a*n-c*s,l=-a*i-c*o;const f=u<gc,d=l<gc;f&&(u=-u),d&&(l=-l);const h=C1(Math.ceil(gK(r)/2))+Lh;if(u<gc||u>=h||l<gc||l>=h)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:f,k1:u,k2neg:d,k2:l}}function hx(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function S_(e,t){const r={};for(let n of Object.keys(t))r[n]=e[n]===void 0?t[n]:e[n];return P5(r.lowS,"lowS"),P5(r.prehash,"prehash"),r.format!==void 0&&hx(r.format),r}let yfe=class extends Error{constructor(t=""){super(t)}};const ic={Err:yfe,_tlv:{encode:(e,t)=>{const{Err:r}=ic;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");const n=t.length/2,i=Zb(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?Zb(i.length/2|128):"";return Zb(e)+s+i+t},decode(e,t){const{Err:r}=ic;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const u=t.subarray(n,n+c);if(u.length!==c)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const l of u)o=o<<8|l;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=t.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+o)}}},_int:{encode(e){const{Err:t}=ic;if(e<gc)throw new t("integer: negative integers are not allowed");let r=Zb(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=ic;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return iE(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=ic,i=Bi("signature",e),{v:s,l:o}=n.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:u,l}=n.decode(2,c);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(e){const{_tlv:t,_int:r}=ic,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s)),s=n+i;return t.encode(48,s)}},gc=BigInt(0),Lh=BigInt(1),TK=BigInt(2),Yb=BigInt(3),wfe=BigInt(4);function xh(e,t){const{BYTES:r}=e;let n;if(typeof t=="bigint")n=t;else{let i=Bi("private key",t);try{n=e.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof t}`)}}if(!e.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function vfe(e,t={}){const r=mfe("weierstrass",e,t),{Fp:n,Fn:i}=r;let s=r.CURVE;const{h:o,n:a}=s;R9(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!n.is0(s.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const u=jK(n,i);function l(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(R,k,T){const{x:S,y:I}=k.toAffine(),A=n.toBytes(S);if(P5(T,"isCompressed"),T){l();const j=!n.isOdd(I);return uc(OK(j),A)}else return uc(Uint8Array.of(4),A,n.toBytes(I))}function d(R){Fl(R,void 0,"Point");const{publicKey:k,publicKeyUncompressed:T}=u,S=R.length,I=R[0],A=R.subarray(1);if(S===k&&(I===2||I===3)){const j=n.fromBytes(A);if(!n.isValid(j))throw new Error("bad point: is not on curve, wrong x");const N=p(j);let B;try{B=n.sqrt(N)}catch(L){const q=L instanceof Error?": "+L.message:"";throw new Error("bad point: is not on curve, sqrt error"+q)}l();const $=n.isOdd(B);return(I&1)===1!==$&&(B=n.neg(B)),{x:j,y:B}}else if(S===T&&I===4){const j=n.BYTES,N=n.fromBytes(A.subarray(0,j)),B=n.fromBytes(A.subarray(j,j*2));if(!b(N,B))throw new Error("bad point: is not on curve");return{x:N,y:B}}else throw new Error(`bad point: got length ${S}, expected compressed=${k} or uncompressed=${T}`)}const h=t.toBytes||f,g=t.fromBytes||d;function p(R){const k=n.sqr(R),T=n.mul(k,R);return n.add(n.add(T,n.mul(R,s.a)),s.b)}function b(R,k){const T=n.sqr(k),S=p(R);return n.eql(T,S)}if(!b(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const w=n.mul(n.pow(s.a,Yb),wfe),y=n.mul(n.sqr(s.b),BigInt(27));if(n.is0(n.add(w,y)))throw new Error("bad curve params: a or b");function v(R,k,T=!1){if(!n.isValid(k)||T&&n.is0(k))throw new Error(`bad point coordinate ${R}`);return k}function m(R){if(!(R instanceof x))throw new Error("ProjectivePoint expected")}function C(R){if(!c||!c.basises)throw new Error("no endo");return bfe(R,c.basises,i.ORDER)}const E=jO((R,k)=>{const{X:T,Y:S,Z:I}=R;if(n.eql(I,n.ONE))return{x:T,y:S};const A=R.is0();k==null&&(k=A?n.ONE:n.inv(I));const j=n.mul(T,k),N=n.mul(S,k),B=n.mul(I,k);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql(B,n.ONE))throw new Error("invZ was invalid");return{x:j,y:N}}),_=jO(R=>{if(R.is0()){if(t.allowInfinityPoint&&!n.is0(R.Y))return;throw new Error("bad point: ZERO")}const{x:k,y:T}=R.toAffine();if(!n.isValid(k)||!n.isValid(T))throw new Error("bad point: x or y not field elements");if(!b(k,T))throw new Error("bad point: equation left != right");if(!R.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function P(R,k,T,S,I){return T=new x(n.mul(T.X,R),T.Y,T.Z),k=S5(S,k),T=S5(I,T),k.add(T)}class x{constructor(k,T,S){this.X=v("x",k),this.Y=v("y",T,!0),this.Z=v("z",S),Object.freeze(this)}static CURVE(){return s}static fromAffine(k){const{x:T,y:S}=k||{};if(!k||!n.isValid(T)||!n.isValid(S))throw new Error("invalid affine point");if(k instanceof x)throw new Error("projective point not allowed");return n.is0(T)&&n.is0(S)?x.ZERO:new x(T,S,n.ONE)}static fromBytes(k){const T=x.fromAffine(g(Fl(k,void 0,"point")));return T.assertValidity(),T}static fromHex(k){return x.fromBytes(Bi("pointHex",k))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(k=8,T=!0){return D.createCache(this,k),T||this.multiply(Yb),this}assertValidity(){_(this)}hasEvenY(){const{y:k}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(k)}equals(k){m(k);const{X:T,Y:S,Z:I}=this,{X:A,Y:j,Z:N}=k,B=n.eql(n.mul(T,N),n.mul(A,I)),$=n.eql(n.mul(S,N),n.mul(j,I));return B&&$}negate(){return new x(this.X,n.neg(this.Y),this.Z)}double(){const{a:k,b:T}=s,S=n.mul(T,Yb),{X:I,Y:A,Z:j}=this;let N=n.ZERO,B=n.ZERO,$=n.ZERO,M=n.mul(I,I),L=n.mul(A,A),q=n.mul(j,j),U=n.mul(I,A);return U=n.add(U,U),$=n.mul(I,j),$=n.add($,$),N=n.mul(k,$),B=n.mul(S,q),B=n.add(N,B),N=n.sub(L,B),B=n.add(L,B),B=n.mul(N,B),N=n.mul(U,N),$=n.mul(S,$),q=n.mul(k,q),U=n.sub(M,q),U=n.mul(k,U),U=n.add(U,$),$=n.add(M,M),M=n.add($,M),M=n.add(M,q),M=n.mul(M,U),B=n.add(B,M),q=n.mul(A,j),q=n.add(q,q),M=n.mul(q,U),N=n.sub(N,M),$=n.mul(q,L),$=n.add($,$),$=n.add($,$),new x(N,B,$)}add(k){m(k);const{X:T,Y:S,Z:I}=this,{X:A,Y:j,Z:N}=k;let B=n.ZERO,$=n.ZERO,M=n.ZERO;const L=s.a,q=n.mul(s.b,Yb);let U=n.mul(T,A),F=n.mul(S,j),H=n.mul(I,N),V=n.add(T,S),W=n.add(A,j);V=n.mul(V,W),W=n.add(U,F),V=n.sub(V,W),W=n.add(T,I);let Z=n.add(A,N);return W=n.mul(W,Z),Z=n.add(U,H),W=n.sub(W,Z),Z=n.add(S,I),B=n.add(j,N),Z=n.mul(Z,B),B=n.add(F,H),Z=n.sub(Z,B),M=n.mul(L,W),B=n.mul(q,H),M=n.add(B,M),B=n.sub(F,M),M=n.add(F,M),$=n.mul(B,M),F=n.add(U,U),F=n.add(F,U),H=n.mul(L,H),W=n.mul(q,W),F=n.add(F,H),H=n.sub(U,H),H=n.mul(L,H),W=n.add(W,H),U=n.mul(F,W),$=n.add($,U),U=n.mul(Z,W),B=n.mul(V,B),B=n.sub(B,U),U=n.mul(V,F),M=n.mul(Z,M),M=n.add(M,U),new x(B,$,M)}subtract(k){return this.add(k.negate())}is0(){return this.equals(x.ZERO)}multiply(k){const{endo:T}=t;if(!i.isValidNot0(k))throw new Error("invalid scalar: out of range");let S,I;const A=j=>D.cached(this,j,N=>A_(x,N));if(T){const{k1neg:j,k1:N,k2neg:B,k2:$}=C(k),{p:M,f:L}=A(N),{p:q,f:U}=A($);I=L.add(U),S=P(T.beta,M,q,j,B)}else{const{p:j,f:N}=A(k);S=j,I=N}return A_(x,[S,I])[0]}multiplyUnsafe(k){const{endo:T}=t,S=this;if(!i.isValid(k))throw new Error("invalid scalar: out of range");if(k===gc||S.is0())return x.ZERO;if(k===Lh)return S;if(D.hasCache(this))return this.multiply(k);if(T){const{k1neg:I,k1:A,k2neg:j,k2:N}=C(k),{p1:B,p2:$}=pfe(x,S,A,N);return P(T.beta,B,$,I,j)}else return D.unsafe(S,k)}multiplyAndAddUnsafe(k,T,S){const I=this.multiplyUnsafe(T).add(k.multiplyUnsafe(S));return I.is0()?void 0:I}toAffine(k){return E(this,k)}isTorsionFree(){const{isTorsionFree:k}=t;return o===Lh?!0:k?k(x,this):D.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:k}=t;return o===Lh?this:k?k(x,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(k=!0){return P5(k,"isCompressed"),this.assertValidity(),h(x,this,k)}toHex(k=!0){return kh(this.toBytes(k))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(k=!0){return this.toBytes(k)}_setWindowSize(k){this.precompute(k)}static normalizeZ(k){return A_(x,k)}static msm(k,T){return gfe(x,i,k,T)}static fromPrivateKey(k){return x.BASE.multiply(xh(i,k))}}x.BASE=new x(s.Gx,s.Gy,n.ONE),x.ZERO=new x(n.ZERO,n.ONE,n.ZERO),x.Fp=n,x.Fn=i;const O=i.BITS,D=new hfe(x,t.endo?Math.ceil(O/2):O);return x.BASE.precompute(8),x}function OK(e){return Uint8Array.of(e?2:3)}function jK(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function Efe(e,t={}){const{Fn:r}=e,n=t.randomBytes||SP,i=Object.assign(jK(e.Fp,r),{seed:IK(r.ORDER)});function s(h){try{return!!xh(r,h)}catch{return!1}}function o(h,g){const{publicKey:p,publicKeyUncompressed:b}=i;try{const w=h.length;return g===!0&&w!==p||g===!1&&w!==b?!1:!!e.fromBytes(h)}catch{return!1}}function a(h=n(i.seed)){return lfe(Fl(h,i.seed,"seed"),r.ORDER)}function c(h,g=!0){return e.BASE.multiply(xh(r,h)).toBytes(g)}function u(h){const g=a(h);return{secretKey:g,publicKey:c(g)}}function l(h){if(typeof h=="bigint")return!1;if(h instanceof e)return!0;const{secretKey:g,publicKey:p,publicKeyUncompressed:b}=i;if(r.allowedLengths||g===p)return;const w=Bi("key",h).length;return w===p||w===b}function f(h,g,p=!0){if(l(h)===!0)throw new Error("first arg must be private key");if(l(g)===!1)throw new Error("second arg must be public key");const b=xh(r,h);return e.fromHex(g).multiply(b).toBytes(p)}return Object.freeze({getPublicKey:c,getSharedSecret:f,keygen:u,Point:e,utils:{isValidSecretKey:s,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:s,randomPrivateKey:a,normPrivateKeyToScalar:h=>xh(r,h),precompute(h=8,g=e.BASE){return g.precompute(h,!1)}},lengths:i})}function _fe(e,t,r={}){yne(t),R9(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=r.randomBytes||SP,i=r.hmac||((T,...S)=>iW(t,T,uc(...S))),{Fp:s,Fn:o}=e,{ORDER:a,BITS:c}=o,{keygen:u,getPublicKey:l,getSharedSecret:f,utils:d,lengths:h}=Efe(e,r),g={prehash:!1,lowS:typeof r.lowS=="boolean"?r.lowS:!1,format:void 0,extraEntropy:!1},p="compact";function b(T){const S=a>>Lh;return T>S}function w(T,S){if(!o.isValidNot0(S))throw new Error(`invalid signature ${T}: out of range 1..Point.Fn.ORDER`);return S}function y(T,S){hx(S);const I=h.signature,A=S==="compact"?I:S==="recovered"?I+1:void 0;return Fl(T,A,`${S} signature`)}class v{constructor(S,I,A){this.r=w("r",S),this.s=w("s",I),A!=null&&(this.recovery=A),Object.freeze(this)}static fromBytes(S,I=p){y(S,I);let A;if(I==="der"){const{r:$,s:M}=ic.toSig(Fl(S));return new v($,M)}I==="recovered"&&(A=S[0],I="compact",S=S.subarray(1));const j=o.BYTES,N=S.subarray(0,j),B=S.subarray(j,j*2);return new v(o.fromBytes(N),o.fromBytes(B),A)}static fromHex(S,I){return this.fromBytes(d5(S),I)}addRecoveryBit(S){return new v(this.r,this.s,S)}recoverPublicKey(S){const I=s.ORDER,{r:A,s:j,recovery:N}=this;if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");if(a*TK<I&&N>1)throw new Error("recovery id is ambiguous for h>1 curve");const $=N===2||N===3?A+a:A;if(!s.isValid($))throw new Error("recovery id 2 or 3 invalid");const M=s.toBytes($),L=e.fromBytes(uc(OK((N&1)===0),M)),q=o.inv($),U=C(Bi("msgHash",S)),F=o.create(-U*q),H=o.create(j*q),V=e.BASE.multiplyUnsafe(F).add(L.multiplyUnsafe(H));if(V.is0())throw new Error("point at infinify");return V.assertValidity(),V}hasHighS(){return b(this.s)}toBytes(S=p){if(hx(S),S==="der")return d5(ic.hexFromSig(this));const I=o.toBytes(this.r),A=o.toBytes(this.s);if(S==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return uc(Uint8Array.of(this.recovery),I,A)}return uc(I,A)}toHex(S){return kh(this.toBytes(S))}assertValidity(){}static fromCompact(S){return v.fromBytes(Bi("sig",S),"compact")}static fromDER(S){return v.fromBytes(Bi("sig",S),"der")}normalizeS(){return this.hasHighS()?new v(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return kh(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return kh(this.toBytes("compact"))}}const m=r.bits2int||function(S){if(S.length>8192)throw new Error("input is too large");const I=iE(S),A=S.length*8-c;return A>0?I>>BigInt(A):I},C=r.bits2int_modN||function(S){return o.create(m(S))},E=C1(c);function _(T){return efe("num < 2^"+c,T,gc,E),o.toBytes(T)}function P(T,S){return Fl(T,void 0,"message"),S?Fl(t(T),void 0,"prehashed message"):T}function x(T,S,I){if(["recovered","canonical"].some(F=>F in I))throw new Error("sign() legacy options not supported");const{lowS:A,prehash:j,extraEntropy:N}=S_(I,g);T=P(T,j);const B=C(T),$=xh(o,S),M=[_($),_(B)];if(N!=null&&N!==!1){const F=N===!0?n(h.secretKey):N;M.push(Bi("extraEntropy",F))}const L=uc(...M),q=B;function U(F){const H=m(F);if(!o.isValidNot0(H))return;const V=o.inv(H),W=e.BASE.multiply(H).toAffine(),Z=o.create(W.x);if(Z===gc)return;const X=o.create(V*o.create(q+Z*$));if(X===gc)return;let ue=(W.x===Z?0:2)|Number(W.y&Lh),Y=X;return A&&b(X)&&(Y=o.neg(X),ue^=1),new v(Z,Y,ue)}return{seed:L,k2sig:U}}function O(T,S,I={}){T=Bi("message",T);const{seed:A,k2sig:j}=x(T,S,I);return tfe(t.outputLen,o.BYTES,i)(A,j)}function D(T){let S;const I=typeof T=="string"||TP(T),A=!I&&T!==null&&typeof T=="object"&&typeof T.r=="bigint"&&typeof T.s=="bigint";if(!I&&!A)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(A)S=new v(T.r,T.s);else if(I){try{S=v.fromBytes(Bi("sig",T),"der")}catch(j){if(!(j instanceof ic.Err))throw j}if(!S)try{S=v.fromBytes(Bi("sig",T),"compact")}catch{return!1}}return S||!1}function R(T,S,I,A={}){const{lowS:j,prehash:N,format:B}=S_(A,g);if(I=Bi("publicKey",I),S=P(Bi("message",S),N),"strict"in A)throw new Error("options.strict was renamed to lowS");const $=B===void 0?D(T):v.fromBytes(Bi("sig",T),B);if($===!1)return!1;try{const M=e.fromBytes(I);if(j&&$.hasHighS())return!1;const{r:L,s:q}=$,U=C(S),F=o.inv(q),H=o.create(U*F),V=o.create(L*F),W=e.BASE.multiplyUnsafe(H).add(M.multiplyUnsafe(V));return W.is0()?!1:o.create(W.x)===L}catch{return!1}}function k(T,S,I={}){const{prehash:A}=S_(I,g);return S=P(S,A),v.fromBytes(T,"recovered").recoverPublicKey(S).toBytes()}return Object.freeze({keygen:u,getPublicKey:l,getSharedSecret:f,utils:d,lengths:h,Point:e,sign:O,verify:R,recoverPublicKey:k,Signature:v,hash:t})}function Cfe(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp;let n=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const i=sE(t.n,{BITS:e.nBitLength,allowedLengths:n,modFromBytes:e.wrapPrivateKey}),s={Fp:r,Fn:i,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:s}}function Afe(e){const{CURVE:t,curveOpts:r}=Cfe(e),n={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:r,hash:e.hash,ecdsaOpts:n}}function xfe(e,t){const r=t.Point;return Object.assign({},t,{ProjectivePoint:r,CURVE:Object.assign({},e,AK(r.Fn.ORDER,r.Fn.BITS))})}function Ife(e){const{CURVE:t,curveOpts:r,hash:n,ecdsaOpts:i}=Afe(e),s=vfe(t,r),o=_fe(s,n,i);return xfe(e,o)}BWe=function(e,t){const r=n=>Ife({...e,hash:n});return{...r(t),create:r}};function Pfe(e){return Hde(e)}function Sfe(e){return Pfe(e)}const Tfe={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},Ofe={block:moe({format(e){return{transactions:e.transactions?.map(r=>{if(typeof r=="string")return r;const n=b1(r);return n.typeHex==="0x7e"&&(n.isSystemTx=r.isSystemTx,n.mint=r.mint?Er(r.mint):void 0,n.sourceHash=r.sourceHash,n.type="deposit"),n}),stateRoot:e.stateRoot}}}),transaction:poe({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?Er(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:aae({format(e){return{l1GasPrice:e.l1GasPrice?Er(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?Er(e.l1GasUsed):null,l1Fee:e.l1Fee?Er(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function jfe(e,t){return kfe(e)?Rfe(e):Hoe(e,t)}const Bfe={transaction:jfe};function Rfe(e){Nfe(e);const{sourceHash:t,data:r,from:n,gas:i,isSystemTx:s,mint:o,to:a,value:c}=e,u=[t,n,a??"0x",o?Gn(o):"0x",c?Gn(c):"0x",i?Gn(i):"0x",s?"0x1":"0x",r??"0x"];return zi(["0x7e",Su(u)])}function kfe(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function Nfe(e){const{from:t,to:r}=e;if(t&&!kr(t))throw new Zn({address:t});if(r&&!kr(r))throw new Zn({address:r})}let ha,m0;ha={blockTime:2e3,contracts:Tfe,formatters:Ofe,serializers:Bfe};MO=Qn({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:250,rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}});LO=Qn({id:43114,name:"Avalanche",blockTime:1700,nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0xb5b35e}}});m0=1;px=Qn({...ha,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...ha.contracts,disputeGameFactory:{[m0]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[m0]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[m0]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:0x10ac19f}},l1StandardBridge:{[m0]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:0x10ac19f}}},sourceId:m0});({...px});let b0;b0=0xaa36a7;Dfe=Qn({...ha,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...ha.contracts,disputeGameFactory:{[b0]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[b0]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[b0]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[b0]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:b0});({...Dfe});let y0,w0,Qb;UO=Qn({id:56,name:"BNB Smart Chain",blockTime:750,nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0xf2f12c}}});Bm=Qn({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:0x16041f6},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0xdb04c1}}});y0=1;qO=Qn({...ha,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...ha.contracts,disputeGameFactory:{[y0]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[y0]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[y0]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[y0]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:y0});w0=0xaa36a7;RWe=Qn({...ha,id:0xaa37dc,name:"OP Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.optimism.io"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com",apiUrl:"https://optimism-sepolia.blockscout.com/api"}},contracts:{...ha.contracts,disputeGameFactory:{[w0]:{address:"0x05F9613aDB30026FFd634f38e5C4dFd30a197Fa1"}},l2OutputOracle:{[w0]:{address:"0x90E9c4f8a994a250F6aEfd61CAFb4F2e895D458F"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1620204},portal:{[w0]:{address:"0x16Fc5058F25648194471939df75CF27A2fdC48BC"}},l1StandardBridge:{[w0]:{address:"0xFBb0621E0B23b5478B630BD55a5f21f67730B0F1"}}},testnet:!0,sourceId:w0});zO=Qn({id:137,name:"Polygon",blockTime:2e3,nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.etherscan.io/v2/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0x18938b0}}});kWe=Qn({id:0xaa36a7,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://11155111.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0});Qb=1;NWe=Qn({...ha,id:7777777,name:"Zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy",apiUrl:"https://explorer.zora.energy/api"}},contracts:{...ha.contracts,l2OutputOracle:{[Qb]:{address:"0x9E6204F750cD866b299594e2aC9eA824E2e5f95c"}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:5882},portal:{[Qb]:{address:"0x1a0ad011913A150f69f6A19DF447A0CfD9551054"}},l1StandardBridge:{[Qb]:{address:"0x3e2Ea9B92B7E48A52296fD261dc26fd995284631"}}},sourceId:Qb});function FO(e){var t=e.match(/^var\((.*)\)$/);return t?t[1]:e}function $fe(e,t){var r=e;for(var n of t){if(!(n in r))throw new Error("Path ".concat(t.join(" -> ")," does not exist in object"));r=r[n]}return r}function BK(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],n={};for(var i in e){var s=e[i],o=[...r,i];typeof s=="string"||typeof s=="number"||s==null?n[i]=t(s,o):typeof s=="object"&&!Array.isArray(s)?n[i]=BK(s,t,o):console.warn('Skipping invalid key "'.concat(o.join("."),'". Should be a string, number, null or object. Received: "').concat(Array.isArray(s)?"Array":typeof s,'"'))}return n}function HO(e,t){var r={};if(typeof t=="object"){var n=e;BK(t,(a,c)=>{if(a!=null){var u=$fe(n,c);r[FO(u)]=String(a)}})}else{var i=e;for(var s in i){var o=i[s];o!=null&&(r[FO(s)]=o)}}return Object.defineProperty(r,"toString",{value:function(){return Object.keys(this).map(c=>"".concat(c,":").concat(this[c])).join(";")},writable:!1}),r}var Mg={exports:{}},Mfe=Mg.exports,WO;function Lfe(){return WO||(WO=1,(function(e,t){(function(r,n){var i="1.0.41",s="",o="?",a="function",c="undefined",u="object",l="string",f="major",d="model",h="name",g="type",p="vendor",b="version",w="architecture",y="console",v="mobile",m="tablet",C="smarttv",E="wearable",_="embedded",P=500,x="Amazon",O="Apple",D="ASUS",R="BlackBerry",k="Browser",T="Chrome",S="Edge",I="Firefox",A="Google",j="Honor",N="Huawei",B="Lenovo",$="LG",M="Microsoft",L="Motorola",q="Nvidia",U="OnePlus",F="Opera",H="OPPO",V="Samsung",W="Sharp",Z="Sony",X="Xiaomi",ue="Zebra",Y="Facebook",Q="Chromium OS",ae="Mac OS",he=" Browser",pe=function(Ue,Ge){var ke={};for(var st in Ue)Ge[st]&&Ge[st].length%2===0?ke[st]=Ge[st].concat(Ue[st]):ke[st]=Ue[st];return ke},be=function(Ue){for(var Ge={},ke=0;ke<Ue.length;ke++)Ge[Ue[ke].toUpperCase()]=Ue[ke];return Ge},Pe=function(Ue,Ge){return typeof Ue===l?fe(Ge).indexOf(fe(Ue))!==-1:!1},fe=function(Ue){return Ue.toLowerCase()},ce=function(Ue){return typeof Ue===l?Ue.replace(/[^\d\.]/g,s).split(".")[0]:n},Qe=function(Ue,Ge){if(typeof Ue===l)return Ue=Ue.replace(/^\s\s*/,s),typeof Ge===c?Ue:Ue.substring(0,P)},Ke=function(Ue,Ge){for(var ke=0,st,Xn,ei,nt,We,ti;ke<Ge.length&&!We;){var Qu=Ge[ke],Ju=Ge[ke+1];for(st=Xn=0;st<Qu.length&&!We&&Qu[st];)if(We=Qu[st++].exec(Ue),We)for(ei=0;ei<Ju.length;ei++)ti=We[++Xn],nt=Ju[ei],typeof nt===u&&nt.length>0?nt.length===2?typeof nt[1]==a?this[nt[0]]=nt[1].call(this,ti):this[nt[0]]=nt[1]:nt.length===3?typeof nt[1]===a&&!(nt[1].exec&&nt[1].test)?this[nt[0]]=ti?nt[1].call(this,ti,nt[2]):n:this[nt[0]]=ti?ti.replace(nt[1],nt[2]):n:nt.length===4&&(this[nt[0]]=ti?nt[3].call(this,ti.replace(nt[1],nt[2])):n):this[nt]=ti||n;ke+=2}},Ft=function(Ue,Ge){for(var ke in Ge)if(typeof Ge[ke]===u&&Ge[ke].length>0){for(var st=0;st<Ge[ke].length;st++)if(Pe(Ge[ke][st],Ue))return ke===o?n:ke}else if(Pe(Ge[ke],Ue))return ke===o?n:ke;return Ge.hasOwnProperty("*")?Ge["*"]:Ue},At={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},xr={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ht={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[b,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[b,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,b],[/opios[\/ ]+([\w\.]+)/i],[b,[h,F+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[b,[h,F+" GX"]],[/\bopr\/([\w\.]+)/i],[b,[h,F]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[b,[h,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[b,[h,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,b],[/quark(?:pc)?\/([-\w\.]+)/i],[b,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[b,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[b,[h,"UC"+k]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[b,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[b,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[b,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[b,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[b,[h,"Smart Lenovo "+k]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+k],b],[/\bfocus\/([\w\.]+)/i],[b,[h,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[b,[h,F+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[b,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[b,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[b,[h,F+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[b,[h,"MIUI"+he]],[/fxios\/([\w\.-]+)/i],[b,[h,I]],[/\bqihoobrowser\/?([\w\.]*)/i],[b,[h,"360"]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],b],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+he],b],[/samsungbrowser\/([\w\.]+)/i],[b,[h,V+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[b,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],b],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[h,b],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[h],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[b,h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,Y],b],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,b],[/\bgsa\/([\w\.]+) .*safari\//i],[b,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[b,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[b,[h,T+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,T+" WebView"],b],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[b,[h,"Android "+k]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,b],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[b,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[b,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[b,Ft,At]],[/(webkit|khtml)\/([\w\.]+)/i],[h,b],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],b],[/(wolvic|librewolf)\/([\w\.]+)/i],[h,b],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[b,[h,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[h,[b,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[b,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[w,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[w,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[w,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[w,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[w,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[w,/ower/,s,fe]],[/ sun4\w[;\)]/i],[[w,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[w,fe]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[p,V],[g,m]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d,[p,V],[g,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[p,O],[g,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[p,O],[g,m]],[/(macintosh);/i],[d,[p,O]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[p,W],[g,v]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[d,[p,j],[g,m]],[/honor([-\w ]+)[;\)]/i],[d,[p,j],[g,v]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[d,[p,N],[g,m]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[p,N],[g,v]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[d,/_/g," "],[p,X],[g,m]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[d,/_/g," "],[p,X],[g,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[p,H],[g,v]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[d,[p,Ft,{OnePlus:["304","403","203"],"*":H}],[g,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[p,"Vivo"],[g,v]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[p,"Realme"],[g,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[p,L],[g,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[p,L],[g,m]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[p,$],[g,m]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[p,$],[g,v]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[d,[p,B],[g,m]],[/(nokia) (t[12][01])/i],[p,d,[g,m]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[d,/_/g," "],[g,v],[p,"Nokia"]],[/(pixel (c|tablet))\b/i],[d,[p,A],[g,m]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[p,A],[g,v]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[p,Z],[g,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[p,Z],[g,m]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[p,U],[g,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[p,x],[g,m]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[p,x],[g,v]],[/(playbook);[-\w\),; ]+(rim)/i],[d,p,[g,m]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[p,R],[g,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[p,D],[g,m]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[p,D],[g,v]],[/(nexus 9)/i],[d,[p,"HTC"],[g,m]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[d,/_/g," "],[g,v]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d,[p,"TCL"],[g,m]],[/(itel) ((\w+))/i],[[p,fe],d,[g,Ft,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[p,"Acer"],[g,m]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[p,"Meizu"],[g,v]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[p,"Ulefone"],[g,v]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[d,[p,"Energizer"],[g,v]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[d,[p,"Cat"],[g,v]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[d,[p,"Smartfren"],[g,v]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[p,"Nothing"],[g,v]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[d,[p,"Archos"],[g,m]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[d,[p,"Archos"],[g,v]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[p,d,[g,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[p,d,[g,v]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,d,[g,m]],[/(surface duo)/i],[d,[p,M],[g,m]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[p,"Fairphone"],[g,v]],[/(u304aa)/i],[d,[p,"AT&T"],[g,v]],[/\bsie-(\w*)/i],[d,[p,"Siemens"],[g,v]],[/\b(rct\w+) b/i],[d,[p,"RCA"],[g,m]],[/\b(venue[\d ]{2,7}) b/i],[d,[p,"Dell"],[g,m]],[/\b(q(?:mv|ta)\w+) b/i],[d,[p,"Verizon"],[g,m]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[p,"Barnes & Noble"],[g,m]],[/\b(tm\d{3}\w+) b/i],[d,[p,"NuVision"],[g,m]],[/\b(k88) b/i],[d,[p,"ZTE"],[g,m]],[/\b(nx\d{3}j) b/i],[d,[p,"ZTE"],[g,v]],[/\b(gen\d{3}) b.+49h/i],[d,[p,"Swiss"],[g,v]],[/\b(zur\d{3}) b/i],[d,[p,"Swiss"],[g,m]],[/\b((zeki)?tb.*\b) b/i],[d,[p,"Zeki"],[g,m]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],d,[g,m]],[/\b(ns-?\w{0,9}) b/i],[d,[p,"Insignia"],[g,m]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[p,"NextBook"],[g,m]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],d,[g,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],d,[g,v]],[/\b(ph-1) /i],[d,[p,"Essential"],[g,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[p,"Envizen"],[g,m]],[/\b(trio[-\w\. ]+) b/i],[d,[p,"MachSpeed"],[g,m]],[/\btu_(1491) b/i],[d,[p,"Rotor"],[g,m]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[d,[p,q],[g,m]],[/(sprint) (\w+)/i],[p,d,[g,v]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[p,M],[g,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[p,ue],[g,m]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[p,ue],[g,v]],[/smart-tv.+(samsung)/i],[p,[g,C]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[p,V],[g,C]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,$],[g,C]],[/(apple) ?tv/i],[p,[d,O+" TV"],[g,C]],[/crkey/i],[[d,T+"cast"],[p,A],[g,C]],[/droid.+aft(\w+)( bui|\))/i],[d,[p,x],[g,C]],[/(shield \w+ tv)/i],[d,[p,q],[g,C]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[p,W],[g,C]],[/(bravia[\w ]+)( bui|\))/i],[d,[p,Z],[g,C]],[/(mi(tv|box)-?\w+) bui/i],[d,[p,X],[g,C]],[/Hbbtv.*(technisat) (.*);/i],[p,d,[g,C]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,Qe],[d,Qe],[g,C]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[d,[g,C]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,C]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,d,[g,y]],[/droid.+; (shield)( bui|\))/i],[d,[p,q],[g,y]],[/(playstation \w+)/i],[d,[p,Z],[g,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[p,M],[g,y]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[d,[p,V],[g,E]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[p,d,[g,E]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[d,[p,H],[g,E]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[p,O],[g,E]],[/(opwwe\d{3})/i],[d,[p,U],[g,E]],[/(moto 360)/i],[d,[p,L],[g,E]],[/(smartwatch 3)/i],[d,[p,Z],[g,E]],[/(g watch r)/i],[d,[p,$],[g,E]],[/droid.+; (wt63?0{2,3})\)/i],[d,[p,ue],[g,E]],[/droid.+; (glass) \d/i],[d,[p,A],[g,E]],[/(pico) (4|neo3(?: link|pro)?)/i],[p,d,[g,E]],[/; (quest( \d| pro)?)/i],[d,[p,Y],[g,E]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[g,_]],[/(aeobc)\b/i],[d,[p,x],[g,_]],[/(homepod).+mac os/i],[d,[p,O],[g,_]],[/windows iot/i],[[g,_]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[g,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[g,m]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,m]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,v]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[d,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[b,[h,S+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[h,b],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[b,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,b],[/ladybird\//i],[[h,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[b,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,b],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[h,[b,Ft,xr]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[b,Ft,xr],[h,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[b,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,ae],[b,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[b,h],[/(ubuntu) ([\w\.]+) like android/i],[[h,/(.+)/,"$1 Touch"],b],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[h,b],[/\(bb(10);/i],[b,[h,R]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[b,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[b,[h,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[b,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[b,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[b,[h,T+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,Q],b],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,b],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],b],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,b]]},et=function(Ue,Ge){if(typeof Ue===u&&(Ge=Ue,Ue=n),!(this instanceof et))return new et(Ue,Ge).getResult();var ke=typeof r!==c&&r.navigator?r.navigator:n,st=Ue||(ke&&ke.userAgent?ke.userAgent:s),Xn=ke&&ke.userAgentData?ke.userAgentData:n,ei=Ge?pe(Ht,Ge):Ht,nt=ke&&ke.userAgent==st;return this.getBrowser=function(){var We={};return We[h]=n,We[b]=n,Ke.call(We,st,ei.browser),We[f]=ce(We[b]),nt&&ke&&ke.brave&&typeof ke.brave.isBrave==a&&(We[h]="Brave"),We},this.getCPU=function(){var We={};return We[w]=n,Ke.call(We,st,ei.cpu),We},this.getDevice=function(){var We={};return We[p]=n,We[d]=n,We[g]=n,Ke.call(We,st,ei.device),nt&&!We[g]&&Xn&&Xn.mobile&&(We[g]=v),nt&&We[d]=="Macintosh"&&ke&&typeof ke.standalone!==c&&ke.maxTouchPoints&&ke.maxTouchPoints>2&&(We[d]="iPad",We[g]=m),We},this.getEngine=function(){var We={};return We[h]=n,We[b]=n,Ke.call(We,st,ei.engine),We},this.getOS=function(){var We={};return We[h]=n,We[b]=n,Ke.call(We,st,ei.os),nt&&!We[h]&&Xn&&Xn.platform&&Xn.platform!="Unknown"&&(We[h]=Xn.platform.replace(/chrome os/i,Q).replace(/macos/i,ae)),We},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return st},this.setUA=function(We){return st=typeof We===l&&We.length>P?Qe(We,P):We,this},this.setUA(st),this};et.VERSION=i,et.BROWSER=be([h,b,f]),et.CPU=be([w]),et.DEVICE=be([d,p,g,y,v,C,m,E,_]),et.ENGINE=et.OS=be([h,b]),e.exports&&(t=e.exports=et),t.UAParser=et;var Ir=typeof r!==c&&(r.jQuery||r.Zepto);if(Ir&&!Ir.ua){var hr=new et;Ir.ua=hr.getResult(),Ir.ua.get=function(){return hr.getUA()},Ir.ua.set=function(Ue){hr.setUA(Ue);var Ge=hr.getResult();for(var ke in Ge)Ir.ua[ke]=Ge[ke]}}})(typeof window=="object"?window:Mfe)})(Mg,Mg.exports)),Mg.exports}var Ufe=Lfe();const v0={newline:10,reset:27};function qfe(e){if(!Number.isSafeInteger(e))throw new Error(`integer expected: ${e}`)}function zfe(e){if(!Number.isSafeInteger(e)||e<1||e>40)throw new Error(`Invalid version=${e}. Expected number [1..40]`)}function nl(e,t){return e.toString(2).padStart(t,"0")}function VO(e,t){const r=e%t;return r>=0?r:t+r}function ea(e,t){return new Array(e).fill(t)}function T_(e){return e=e-(e>>>1&0x55555555),e=(e&0x33333333)+(e>>>2&0x33333333),(e+(e>>>4)&0xf0f0f0f)*0x1010101>>>24}function GO(e){let t=0,r=0;for(const s of e)t=Math.max(t,s.length),r+=s.length;const n=new Uint8Array(r);let i=0;for(let s=0;s<t;s++)for(const o of e)s<o.length&&(n[i++]=o[s]);return n}function Ffe(){let e,t=1/0;return{add(r,n){r>=t||(e=n,t=r)},get:()=>e,score:()=>t}}function KO(e){return{has:t=>e.includes(t),decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);const n=e.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${e}`);return n})},encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(r=>{if(qfe(r),r<0||r>=e.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${e.length})`);return e[r]})}}}function ZO(e){if(e.length!==32)throw new Error("expects 32 element matrix");const t=[0x55555555,0x33333333,0xf0f0f0f,0xff00ff,65535];for(let r=0;r<5;r++){const n=t[r]>>>0,i=1<<r,s=i<<1;for(let o=0;o<32;o+=s)for(let a=0;a<i;a++){const c=o+a,u=c+i,l=e[c]>>>0,f=e[u]>>>0,d=(l>>>i^f)&n;e[c]=(l^d<<i)>>>0,e[u]=(f^d)>>>0}}}const E0=e=>1<<(e&31)>>>0,il=(e,t)=>t===0?0:t===32?0xffffffff:(1<<t)-1<<e>>>0;class ci{static size(t,r){if(typeof t=="number"&&(t={height:t,width:t}),!Number.isSafeInteger(t.height)&&t.height!==1/0)throw new Error(`Bitmap: invalid height=${t.height} (${typeof t.height})`);if(!Number.isSafeInteger(t.width)&&t.width!==1/0)throw new Error(`Bitmap: invalid width=${t.width} (${typeof t.width})`);return r!==void 0&&(t={width:Math.min(t.width,r.width),height:Math.min(t.height,r.height)}),t}static fromString(t){t=t.replace(/^\n+/g,"").replace(/\n+$/g,"");const r=t.split(String.fromCharCode(v0.newline)),n=r.length;let i;const s=[];for(const o of r){const a=o.split("").map(c=>{if(c==="X")return!0;if(c===" ")return!1;if(c!=="?")throw new Error(`Bitmap.fromString: unknown symbol=${c}`)});if(i!==void 0&&a.length!==i)throw new Error(`Bitmap.fromString different row sizes: width=${i} cur=${a.length}`);i=a.length,s.push(a)}return i===void 0&&(i=0),new ci({height:n,width:i},s)}defined;value;tailMask;words;fullWords;height;width;constructor(t,r){const{height:n,width:i}=ci.size(t);if(this.height=n,this.width=i,this.tailMask=il(0,i&31||32),this.words=Math.ceil(i/32)|0,this.fullWords=Math.floor(i/32)|0,this.value=new Uint32Array(this.words*n),this.defined=new Uint32Array(this.value.length),r){if(r.length!==n)throw new Error(`Bitmap: data height mismatch: exp=${n} got=${r.length}`);for(let s=0;s<n;s++){const o=r[s];if(!o||o.length!==i)throw new Error(`Bitmap: data width mismatch at y=${s}: exp=${i} got=${o?.length}`);for(let a=0;a<i;a++)this.set(a,s,o[a])}}}point(t){return this.get(t.x,t.y)}isInside(t){return 0<=t.x&&t.x<this.width&&0<=t.y&&t.y<this.height}size(t){if(!t)return{height:this.height,width:this.width};const{x:r,y:n}=this.xy(t);return{height:this.height-n,width:this.width-r}}xy(t){if(typeof t=="number"&&(t={x:t,y:t}),!Number.isSafeInteger(t.x))throw new Error(`Bitmap: invalid x=${t.x}`);if(!Number.isSafeInteger(t.y))throw new Error(`Bitmap: invalid y=${t.y}`);return t.x=VO(t.x,this.width),t.y=VO(t.y,this.height),t}wordIndex(t,r){return r*this.words+(t>>>5)}bitIndex(t,r){return{word:this.wordIndex(t,r),bit:t&31}}isDefined(t,r){const n=this.wordIndex(t,r),i=E0(t);return(this.defined[n]&i)!==0}get(t,r){const n=this.wordIndex(t,r),i=E0(t);return(this.value[n]&i)!==0}maskWord(t,r,n){const{defined:i,value:s}=this;i[t]|=r,s[t]=s[t]&~r|-n&r}set(t,r,n){n!==void 0&&this.maskWord(this.wordIndex(t,r),E0(t),n)}fillRectConst(t,r,n,i,s){if(n<=0||i<=0||s===void 0)return;const{value:o,defined:a,words:c}=this,u=t>>>5,l=t+n-1>>>5,f=t&31,d=t+n-1&31;for(let h=0;h<i;h++){const g=(r+h)*c;if(u===l){const p=il(f,d-f+1);this.maskWord(g+u,p,s);continue}this.maskWord(g+u,il(f,32-f),s);for(let p=u+1;p<l;p++)a[g+p]=0xffffffff,o[g+p]=s?0xffffffff:0;this.maskWord(g+l,il(0,d+1),s)}}rectWords(t,r,n,i,s){for(let o=0;o<i;o++){const a=r+o;for(let c=0;c<n;){const u=t+c,{bit:l,word:f}=this.bitIndex(u,a),d=Math.min(32-l,n-c);s(f,u,c,o,d),c+=d}}}rect(t,r,n){const{x:i,y:s}=this.xy(t),{height:o,width:a}=ci.size(r,this.size({x:i,y:s}));if(typeof n!="function")return this.fillRectConst(i,s,a,o,n),this;const{defined:c,value:u}=this;return this.rectWords(i,s,a,o,(l,f,d,h,g)=>{let p=0,b=u[l];for(let w=0;w<g;w++){const y=E0(f+w),v=n({x:d+w,y:h},(b&y)!==0);v!==void 0&&(p|=y,b=b&~y|-v&y)}c[l]|=p,u[l]=b}),this}rectRead(t,r,n){const{x:i,y:s}=this.xy(t),{height:o,width:a}=ci.size(r,this.size({x:i,y:s})),{value:c}=this;return this.rectWords(i,s,a,o,(u,l,f,d,h)=>{const g=c[u];for(let p=0;p<h;p++){const b=E0(l+p);n({x:f+p,y:d},(g&b)!==0)}}),this}hLine(t,r,n){return this.rect(t,{width:r,height:1},n)}vLine(t,r,n){return this.rect(t,{width:1,height:r},n)}border(t=2,r){const n=this.height+2*t,i=this.width+2*t,s=new ci({height:n,width:i});return s.rect(0,1/0,r),s.embed({x:t,y:t},this),s}embed(t,r){const{x:n,y:i}=this.xy(t),{height:s,width:o}=ci.size(r.size(),this.size({x:n,y:i}));if(o<=0||s<=0)return this;const{value:a,defined:c}=this,{words:u,value:l}=r;for(let f=0;f<s;f++){const d=f*u;for(let h=0;h<o;){const g=n+h,{word:p,bit:b}=this.bitIndex(g,i+f),{word:w,bit:y}=r.bitIndex(h,f),v=Math.min(32-b,o-h),m=l[w],C=y&&w+1<d+u?l[w+1]:0,E=y?(m>>>y|C<<32-y)>>>0:m,_=il(b,v),P=(E&il(0,v))<<b>>>0;c[p]|=_,a[p]=a[p]&~_|P,h+=v}}return this}rectSlice(t,r=this.size()){const{x:n,y:i}=this.xy(t),{height:s,width:o}=ci.size(r,this.size({x:n,y:i})),a=new ci({height:s,width:o});return this.rectRead({x:n,y:i},{height:s,width:o},(c,u)=>{this.isDefined(n+c.x,i+c.y)&&a.set(c.x,c.y,u)}),a}transpose(){const{height:t,width:r,value:n,defined:i,words:s}=this,o=new ci({height:r,width:t}),{words:a,value:c,defined:u,tailMask:l}=o,f=new Uint32Array(32),d=new Uint32Array(32);for(let h=0;h<t;h+=32)for(let g=0;g<s;g++){const p=Math.min(32,t-h);for(let b=0;b<p;b++){const w=this.wordIndex(32*g,h+b);f[b]=n[w],d[b]=i[w]}f.fill(0,p),d.fill(0,p),ZO(f),ZO(d);for(let b=0;b<32;b++){const w=g*32+b;if(w>=r)break;const y=o.wordIndex(h,w),v=h>>>5===a-1?l:0xffffffff;c[y]=f[b]&v,u[y]=d[b]&v}}return o}negate(){const t=this.defined.length;for(let r=0;r<t;r++)this.value[r]=~this.value[r],this.defined[r]=0xffffffff;return this}scale(t){if(!Number.isSafeInteger(t)||t>1024)throw new Error(`invalid scale factor: ${t}`);const{height:r,width:n}=this;return new ci({height:t*r,width:t*n}).rect({x:0,y:0},1/0,({x:s,y:o})=>this.get(s/t|0,o/t|0))}clone(){const t=new ci(this.size());return t.defined.set(this.defined),t.value.set(this.value),t}assertDrawn(){const{height:t,width:r,defined:n,tailMask:i,fullWords:s,words:o}=this;if(!(!t||!r))for(let a=0;a<t;a++){const c=a*o;for(let u=0;u<s;u++)if(n[c+u]!==0xffffffff)throw new Error("Invalid color type=undefined");if(o!==s&&(n[c+s]&i)!==i)throw new Error("Invalid color type=undefined")}}countPatternInRow(t,r,...n){if(r<=0||r>=32)throw new Error("wrong patternLen");const i=(1<<r)-1,{width:s,value:o,words:a}=this;let c=0;const u=this.wordIndex(0,t);for(let l=0,f=0;l<a;l++){const d=o[u+l],h=l===a-1&&s&31||32;for(let g=0;g<h;g++)if(f=(f<<1|d>>>g&1)&i,!(l*32+g+1<r)){for(const p of n)if(f===p){c++;break}}}return c}getRuns(t,r){const{width:n,value:i,words:s}=this;if(n===0)return;let o=0,a;const c=this.wordIndex(0,t);for(let u=0;u<s;u++){const l=i[c+u],f=u===s-1&&n&31||32;for(let d=0;d<f;d++){const h=(l&1<<d)!==0;if(h===a){o++;continue}a!==void 0&&r(o,a),a=h,o=1}}a!==void 0&&r(o,a)}popcnt(){const{height:t,width:r,words:n,fullWords:i,tailMask:s}=this;if(!t||!r)return 0;let o=0;for(let a=0;a<t;a++){const c=a*n;for(let u=0;u<i;u++)o+=T_(this.value[c+u]);n!==i&&(o+=T_(this.value[c+i]&s))}return o}countBoxes2x2(t){const{width:r,words:n}=this;if(r<2||(t|0)<0||t+1>=this.height)return 0;const i=this.wordIndex(0,t)|0,s=this.wordIndex(0,t+1)|0,a=(r&31)===0?0x7fffffff:il(0,r-1&31);let c=0;for(let u=0;u<n;u++){const l=this.value[i+u],f=this.value[s+u],d=~(l^f)>>>0,h=u+1<n?this.value[i+u+1]>>>0:0,g=~(l^(l>>>1|(h&1)<<31)>>>0)>>>0,p=u+1<n?this.value[s+u+1]>>>0:0,b=~(f^(f>>>1|(p&1)<<31)>>>0)>>>0;let w=(d&g&b)>>>0;u===n-1&&(w&=a),c+=T_(w)}return c}toString(){const t=String.fromCharCode(v0.newline);let r="";for(let n=0;n<this.height;n++){let i="";for(let s=0;s<this.width;s++){const o=this.get(s,n);i+=this.isDefined(s,n)?o?"X":" ":"?"}r+=i+(n+1===this.height?"":t)}return r}toRaw(){const t=Array.from({length:this.height},()=>new Array(this.width));for(let r=0;r<this.height;r++){const n=t[r];for(let i=0;i<this.width;i++)n[i]=this.get(i,r)}return t}toASCII(){const{height:t,width:r}=this;let n="";for(let i=0;i<t;i+=2){for(let s=0;s<r;s++){const o=this.get(s,i),a=i+1>=t?!0:this.get(s,i+1);!o&&!a?n+="":!o&&a?n+="":o&&!a?n+="":o&&a&&(n+=" ")}n+=String.fromCharCode(v0.newline)}return n}toTerm(){const t=String.fromCharCode(v0.reset),r=t+"[0m",n=t+"[1;47m  "+r,i=t+"[40m  "+r,s=String.fromCharCode(v0.newline);let o="";for(let a=0;a<this.height;a++){for(let c=0;c<this.width;c++){const u=this.get(c,a);o+=u?i:n}o+=s}return o}toSVG(t=!0){let r=`<svg viewBox="0 0 ${this.width} ${this.height}" xmlns="http://www.w3.org/2000/svg">`,n="",i;return this.rectRead(0,1/0,(s,o)=>{if(!o)return;const{x:a,y:c}=s;if(!t){r+=`<rect x="${a}" y="${c}" width="1" height="1" />`;return}let u=`M${a} ${c}`;if(i){const f=`m${a-i.x} ${c-i.y}`;f.length<=u.length&&(u=f)}const l=a<10?`H${a}`:"h-1";n+=`${u}h1v1${l}Z`,i=s}),t&&(r+=`<path d="${n}"/>`),r+="</svg>",r}toGIF(){const t=a=>[a&255,a>>>8&255],r=[...t(this.width),...t(this.height)],n=[];this.rectRead(0,1/0,(a,c)=>n.push(+(c===!0)));const i=126,s=[71,73,70,56,55,97,...r,246,0,0,255,255,255,...ea(381,0),44,0,0,0,0,...r,0,7],o=Math.floor(n.length/i);for(let a=0;a<o;a++)s.push(i+1,128,...n.slice(i*a,i*(a+1)).map(c=>+c));return s.push(n.length%i+1,128,...n.slice(o*i).map(a=>+a)),s.push(1,129,0,59),new Uint8Array(s)}toImage(t=!1){const{height:r,width:n}=this.size(),i=new Uint8Array(r*n*(t?3:4));let s=0;for(let o=0;o<r;o++)for(let a=0;a<n;a++){const c=this.get(a,o)?0:255;i[s++]=c,i[s++]=c,i[s++]=c,t||(i[s++]=255)}return{height:r,width:n,data:i}}}const YO=["low","medium","quartile","high"],QO=["numeric","alphanumeric","byte","kanji","eci"],Hfe=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],Wfe={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},Vfe={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},Vn={size:{encode:e=>21+4*(e-1),decode:e=>(e-17)/4},sizeType:e=>Math.floor((e+7)/17),alignmentPatterns(e){if(e===1)return[];const t=6,r=Vn.size.encode(e)-t-1,n=r-t,i=Math.ceil(n/28);let s=Math.floor(n/i);s%2?s+=1:n%i*2>=i&&(s+=2);const o=[t];for(let a=1;a<i;a++)o.push(r-(i-a)*s);return o.push(r),o},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(e,t){const r=Vn.ECCode[e]<<3|t;let n=r;for(let i=0;i<10;i++)n=n<<1^(n>>9)*1335;return(r<<10|n)^Vn.formatMask},versionBits(e){let t=e;for(let r=0;r<12;r++)t=t<<1^(t>>11)*7973;return e<<12|t},alphabet:{numeric:KO("0123456789"),alphanumerc:KO("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:")},lengthBits(e,t){return{numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]}[t][Vn.sizeType(e)]},modeBits:{numeric:"0001",alphanumeric:"0010",byte:"0100",kanji:"1000",eci:"0111"},capacity(e,t){const r=Hfe[e-1],n=Wfe[t][e-1],i=Vfe[t][e-1],s=Math.floor(r/i)-n,o=i-r%i;return{words:n,numBlocks:i,shortBlocks:o,blockLen:s,capacity:(r-n*i)*8,total:(n+s)*i+i-o}}},N9=[(e,t)=>(e+t)%2==0,(e,t)=>t%2==0,(e,t)=>e%3==0,(e,t)=>(e+t)%3==0,(e,t)=>(Math.floor(t/2)+Math.floor(e/3))%2==0,(e,t)=>e*t%2+e*t%3==0,(e,t)=>(e*t%2+e*t%3)%2==0,(e,t)=>((e+t)%2+e*t%3)%2==0],je={tables:(e=>{const t=ea(256,0),r=ea(256,0);for(let n=0,i=1;n<256;n++)t[n]=i,r[i]=n,i<<=1,i&256&&(i^=e);return{exp:t,log:r}})(285),exp:e=>je.tables.exp[e],log(e){if(e===0)throw new Error(`GF.log: invalid arg=${e}`);return je.tables.log[e]%255},mul(e,t){return e===0||t===0?0:je.tables.exp[(je.tables.log[e]+je.tables.log[t])%255]},add:(e,t)=>e^t,pow:(e,t)=>je.tables.exp[je.tables.log[e]*t%255],inv(e){if(e===0)throw new Error(`GF.inverse: invalid arg=${e}`);return je.tables.exp[255-je.tables.log[e]]},polynomial(e){if(e.length==0)throw new Error("GF.polymomial: invalid length");if(e[0]!==0)return e;let t=0;for(;t<e.length-1&&e[t]==0;t++);return e.slice(t)},monomial(e,t){if(e<0)throw new Error(`GF.monomial: invalid degree=${e}`);if(t==0)return[0];let r=ea(e+1,0);return r[0]=t,je.polynomial(r)},degree:e=>e.length-1,coefficient:(e,t)=>e[je.degree(e)-t],mulPoly(e,t){if(e[0]===0||t[0]===0)return[0];const r=ea(e.length+t.length-1,0);for(let n=0;n<e.length;n++)for(let i=0;i<t.length;i++)r[n+i]=je.add(r[n+i],je.mul(e[n],t[i]));return je.polynomial(r)},mulPolyScalar(e,t){if(t==0)return[0];if(t==1)return e;const r=ea(e.length,0);for(let n=0;n<e.length;n++)r[n]=je.mul(e[n],t);return je.polynomial(r)},mulPolyMonomial(e,t,r){if(t<0)throw new Error("GF.mulPolyMonomial: invalid degree");if(r==0)return[0];const n=ea(e.length+t,0);for(let i=0;i<e.length;i++)n[i]=je.mul(e[i],r);return je.polynomial(n)},addPoly(e,t){if(e[0]===0)return t;if(t[0]===0)return e;let r=e,n=t;r.length>n.length&&([r,n]=[n,r]);let i=ea(n.length,0),s=n.length-r.length,o=n.slice(0,s);for(let a=0;a<o.length;a++)i[a]=o[a];for(let a=s;a<n.length;a++)i[a]=je.add(r[a-s],n[a]);return je.polynomial(i)},remainderPoly(e,t){const r=Array.from(e);for(let n=0;n<e.length-t.length+1;n++){const i=r[n];if(i!==0)for(let s=1;s<t.length;s++)t[s]!==0&&(r[n+s]=je.add(r[n+s],je.mul(t[s],i)))}return r.slice(e.length-t.length+1,r.length)},divisorPoly(e){let t=[1];for(let r=0;r<e;r++)t=je.mulPoly(t,[1,je.pow(2,r)]);return t},evalPoly(e,t){if(t==0)return je.coefficient(e,0);let r=e[0];for(let n=1;n<e.length;n++)r=je.add(je.mul(t,r),e[n]);return r},euclidian(e,t,r){je.degree(e)<je.degree(t)&&([e,t]=[t,e]);let n=e,i=t,s=[0],o=[1];for(;2*je.degree(i)>=r;){let u=n,l=s;if(n=i,s=o,n[0]===0)throw new Error("rLast[0] === 0");i=u;let f=[0];const d=je.inv(n[0]);for(;je.degree(i)>=je.degree(n)&&i[0]!==0;){const h=je.degree(i)-je.degree(n),g=je.mul(i[0],d);f=je.addPoly(f,je.monomial(h,g)),i=je.addPoly(i,je.mulPolyMonomial(n,h,g))}if(f=je.mulPoly(f,s),o=je.addPoly(f,l),je.degree(i)>=je.degree(n))throw new Error(`Division failed r: ${i}, rLast: ${n}`)}const a=je.coefficient(o,0);if(a==0)throw new Error("sigmaTilde(0) was zero");const c=je.inv(a);return[je.mulPolyScalar(o,c),je.mulPolyScalar(i,c)]}};function Gfe(e){return{encode(t){const r=je.divisorPoly(e),n=Array.from(t);return n.push(...r.slice(0,-1).fill(0)),Uint8Array.from(je.remainderPoly(n,r))},decode(t){const r=t.slice(),n=je.polynomial(Array.from(t));let i=ea(e,0),s=!1;for(let f=0;f<e;f++){const d=je.evalPoly(n,je.exp(f));i[i.length-1-f]=d,d!==0&&(s=!0)}if(!s)return r;i=je.polynomial(i);const o=je.monomial(e,1),[a,c]=je.euclidian(o,i,e),u=ea(je.degree(a),0);let l=0;for(let f=1;f<256&&l<u.length;f++)je.evalPoly(a,f)===0&&(u[l++]=je.inv(f));if(l!==u.length)throw new Error("RS.decode: invalid errors number");for(let f=0;f<u.length;f++){const d=r.length-1-je.log(u[f]);if(d<0)throw new Error("RS.decode: invalid error location");const h=je.inv(u[f]);let g=1;for(let p=0;p<u.length;p++)f!==p&&(g=je.mul(g,je.add(1,je.mul(u[p],h))));r[d]=je.add(r[d],je.mul(je.evalPoly(c,h),je.inv(g)))}return r}}}function Kfe(e,t){const{words:r,shortBlocks:n,numBlocks:i,blockLen:s,total:o}=Vn.capacity(e,t),a=Gfe(r);return{encode(c){const u=[],l=[];for(let g=0;g<i;g++){const p=g<n,b=s+(p?0:1);u.push(c.subarray(0,b)),l.push(a.encode(c.subarray(0,b))),c=c.subarray(b)}const f=GO(u),d=GO(l),h=new Uint8Array(f.length+d.length);return h.set(f),h.set(d,f.length),h},decode(c){if(c.length!==o)throw new Error(`interleave.decode: len(data)=${c.length}, total=${o}`);const u=[];for(let d=0;d<i;d++){const h=d<n;u.push(new Uint8Array(r+s+(h?0:1)))}let l=0;for(let d=0;d<s;d++)for(let h=0;h<i;h++)u[h][d]=c[l++];for(let d=n;d<i;d++)u[d][s]=c[l++];for(let d=s;d<s+r;d++)for(let h=0;h<i;h++){const g=h<n;u[h][d+(g?0:1)]=c[l++]}const f=[];for(const d of u)f.push(...Array.from(a.decode(d)).slice(0,-r));return Uint8Array.from(f)}}}function Zfe(e,t,r,n=!1){const i=Vn.size.encode(e);let s=new ci(i+2);const o=new ci(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);s=s.embed(0,o).embed({x:-o.width,y:0},o).embed({x:0,y:-o.height},o),s=s.rectSlice(1,i);const a=new ci(1).rect(0,1,!0).border(1,!1).border(1,!0),c=Vn.alignmentPatterns(e);for(const u of c)for(const l of c)s.isDefined(l,u)||s.embed({x:l-2,y:u-2},a);s=s.hLine({x:0,y:6},1/0,({x:u})=>s.isDefined(u,6)?void 0:u%2==0).vLine({x:6,y:0},1/0,({y:u})=>s.isDefined(6,u)?void 0:u%2==0);{const u=Vn.formatBits(t,r),l=f=>!n&&(u>>f&1)==1;for(let f=0;f<6;f++)s.set(8,f,l(f));for(let f=6;f<8;f++)s.set(8,f+1,l(f));for(let f=8;f<15;f++)s.set(8,i-15+f,l(f));for(let f=0;f<8;f++)s.set(i-f-1,8,l(f));for(let f=8;f<9;f++)s.set(15-f-1+1,8,l(f));for(let f=9;f<15;f++)s.set(15-f-1,8,l(f));s.set(8,i-8,!n)}if(e>=7){const u=Vn.versionBits(e);for(let l=0;l<18;l+=1){const f=!n&&(u>>l&1)==1,d=Math.floor(l/3),h=l%3+i-8-3;s.set(h,d,f),s.set(d,h,f)}}return s}function Yfe(e,t,r){const n=e.height,i=N9[t];let s=-1,o=n-1;for(let a=n-1;a>0;a-=2){for(a==6&&(a=5);;o+=s){for(let c=0;c<2;c+=1){const u=a-c;e.isDefined(u,o)||r(u,o,i(u,o))}if(o+s<0||o+s>=n)break}s=-s}}function Qfe(e){let t="numeric";for(let r of e)if(!Vn.alphabet.numeric.has(r)&&(t="alphanumeric",!Vn.alphabet.alphanumerc.has(r)))return"byte";return t}function Jfe(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function JO(e,t,r,n,i=Jfe){let s="",o=r.length;if(n==="numeric"){const d=Vn.alphabet.numeric.decode(r.split("")),h=d.length;for(let g=0;g<h-2;g+=3)s+=nl(d[g]*100+d[g+1]*10+d[g+2],10);h%3===1?s+=nl(d[h-1],4):h%3===2&&(s+=nl(d[h-2]*10+d[h-1],7))}else if(n==="alphanumeric"){const d=Vn.alphabet.alphanumerc.decode(r.split("")),h=d.length;for(let g=0;g<h-1;g+=2)s+=nl(d[g]*45+d[g+1],11);h%2==1&&(s+=nl(d[h-1],6))}else if(n==="byte"){const d=i(r);o=d.length,s=Array.from(d).map(h=>nl(h,8)).join("")}else throw new Error("encode: unsupported type");const{capacity:a}=Vn.capacity(e,t),c=nl(o,Vn.lengthBits(e,n));let u=Vn.modeBits[n]+c+s;if(u.length>a)throw new Error("Capacity overflow");u+="0".repeat(Math.min(4,Math.max(0,a-u.length))),u.length%8&&(u+="0".repeat(8-u.length%8));const l="1110110000010001";for(let d=0;u.length!==a;d++)u+=l[d%l.length];const f=Uint8Array.from(u.match(/(.{8})/g).map(d=>+`0b${d}`));return Kfe(e,t).encode(f)}function XO(e,t,r,n,i=!1){const s=Zfe(e,t,n,i);let o=0;const a=8*r.length;if(Yfe(s,n,(c,u,l)=>{let f=!1;o<a&&(f=(r[o>>>3]>>(7-o&7)&1)!==0,o++),s.set(c,u,f!==l)}),o!==a)throw new Error("QR: bytes left after draw");return s}const RK=e=>{const t=e.map(r=>r?"1":"0").join("");return{len:t.length,n:+`0b${t}`}},kK=[!0,!1,!0,!0,!0,!1,!0],NK=[!1,!1,!1,!1],Jb=RK([...kK,...NK]),ej=RK([...NK,...kK]);function Xfe(e){const{width:t,height:r}=e,n=e.transpose();let i=0;for(let l=0;l<r;l++)e.getRuns(l,f=>{f>=5&&(i+=3+(f-5))});for(let l=0;l<t;l++)n.getRuns(l,f=>{f>=5&&(i+=3+(f-5))});let s=0;for(let l=0;l<r-1;l++)s+=3*e.countBoxes2x2(l);let o=0;for(let l=0;l<r;l++)o+=40*e.countPatternInRow(l,Jb.len,Jb.n,ej.n);for(let l=0;l<t;l++)o+=40*n.countPatternInRow(l,Jb.len,Jb.n,ej.n);let a=0;a=e.popcnt();const c=a/(r*t)*100,u=10*Math.floor(Math.abs(c-50)/5);return i+s+o+u}function ehe(e,t,r,n){if(n===void 0){const i=Ffe();for(let s=0;s<N9.length;s++)i.add(Xfe(XO(e,t,r,s,!0)),s);n=i.get()}if(n===void 0)throw new Error("Cannot find mask");return XO(e,t,r,n)}function the(e){if(!YO.includes(e))throw new Error(`Invalid error correction mode=${e}. Expected: ${YO}`)}function rhe(e){if(!QO.includes(e))throw new Error(`Encoding: invalid mode=${e}. Expected: ${QO}`);if(e==="kanji"||e==="eci")throw new Error(`Encoding: ${e} is not supported (yet?).`)}function nhe(e){if(![0,1,2,3,4,5,6,7].includes(e)||!N9[e])throw new Error(`Invalid mask=${e}. Expected number [0..7]`)}function ihe(e,t="raw",r={}){const n=r.ecc!==void 0?r.ecc:"medium";the(n);const i=r.encoding!==void 0?r.encoding:Qfe(e);rhe(i),r.mask!==void 0&&nhe(r.mask);let s=r.version,o,a=new Error("Unknown error");if(s!==void 0)zfe(s),o=JO(s,n,e,i,r.textEncoder);else for(let l=1;l<=40;l++)try{o=JO(l,n,e,i,r.textEncoder),s=l;break}catch(f){a=f}if(!s||!o)throw a;let c=ehe(s,n,o,r.mask);c.assertDrawn();const u=r.border===void 0?2:r.border;if(!Number.isSafeInteger(u))throw new Error(`invalid border type=${typeof u}`);if(c=c.border(u,!1),r.scale!==void 0&&(c=c.scale(r.scale)),t==="raw")return c.toRaw();if(t==="ascii")return c.toASCII();if(t==="svg")return c.toSVG(r.optimize);if(t==="gif")return c.toGIF();if(t==="term")return c.toTerm();throw new Error(`Unknown output: ${t}`)}function she(e,t={}){const{errorCorrection:r,version:n}=t,i=ihe(e,"raw",{border:0,ecc:r,scale:1,version:n});return{edgeLength:i.length,finderLength:7,grid:i,value:e}}function ia(e){const{arena:t,...r}=e;return $r.jsxs(ia.Root,{...r,children:[$r.jsx(ia.Finder,{}),$r.jsx(ia.Cells,{}),t&&$r.jsx(ia.Arena,{children:typeof t=="string"?$r.jsx("img",{alt:"Arena",src:t,style:{borderRadius:1,height:"100%",objectFit:"cover",width:"100%"}}):t})]})}(function(e){e.Context=oe.createContext(null);function t(s){const{children:o,size:a="100%",value:c,version:u,errorCorrection:l,...f}=s,d=oe.useMemo(()=>(oe.Children.map(o,v=>!oe.isValidElement(v)||typeof v.type=="string"?null:"displayName"in v.type&&v.type.displayName==="Arena"?!0:null)??[]).some(Boolean),[o]),h=oe.useMemo(()=>{let v=l;return d&&l==="low"&&(v="medium"),she(c,{errorCorrection:v,version:u})},[c,d,l,u]),g=1,p=h.edgeLength*g,b=h.finderLength*g/2,w=d?Math.floor(p/4):0,y=oe.useMemo(()=>({arenaSize:w,cellSize:g,edgeSize:p,qrcode:h,finderSize:b}),[w,p,h,b]);return $r.jsx(e.Context.Provider,{value:y,children:$r.jsxs("svg",{...f,width:a,height:a,viewBox:`0 0 ${p} ${p}`,xmlns:"http://www.w3.org/2000/svg",children:[$r.jsx("title",{children:"QR Code"}),o]})})}e.Root=t,(function(s){s.displayName="Root"})(t=e.Root||(e.Root={}));function r(s){const{className:o,fill:a,innerClassName:c,radius:u=.25}=s,{cellSize:l,edgeSize:f,finderSize:d}=oe.useContext(e.Context);function h({position:g}){let p=d-(d-l)-l/2;g==="top-right"&&(p=f-d-(d-l)-l/2);let b=d-(d-l)-l/2;g==="bottom-left"&&(b=f-d-(d-l)-l/2);let w=d-l*1.5;g==="top-right"&&(w=f-d-l*1.5);let y=d-l*1.5;return g==="bottom-left"&&(y=f-d-l*1.5),$r.jsxs($r.Fragment,{children:[$r.jsx("rect",{className:o,stroke:a??"currentColor",fill:"transparent",x:p,y:b,width:l+(d-l)*2,height:l+(d-l)*2,rx:2*u*(d-l),ry:2*u*(d-l),strokeWidth:l}),$r.jsx("rect",{className:c,fill:a??"currentColor",x:w,y,width:l*3,height:l*3,rx:2*u*l,ry:2*u*l})]})}return $r.jsxs($r.Fragment,{children:[$r.jsx(h,{position:"top-left"}),$r.jsx(h,{position:"top-right"}),$r.jsx(h,{position:"bottom-left"})]})}e.Finder=r,(function(s){s.displayName="Finder"})(r=e.Finder||(e.Finder={}));function n(s){const{className:o,fill:a="currentColor",inset:c=!0,radius:u=1}=s,{arenaSize:l,cellSize:f,qrcode:d}=oe.useContext(e.Context),{edgeLength:h,finderLength:g}=d,p=oe.useMemo(()=>{let b="";for(let w=0;w<d.grid.length;w++){const y=d.grid[w];if(y)for(let v=0;v<y.length;v++){if(!y[v])continue;const C=h/2-l/2,E=C+l;if(w>=C&&w<=E&&v>=C&&v<=E)continue;const _=w<g&&v<g,P=w<g&&v>=h-g,x=w>=h-g&&v<g;if(_||P||x)continue;const O=c?f*.1:0,D=(f-O*2)/2,R=v*f+f/2,k=w*f+f/2,T=R-D,S=R+D,I=k-D,A=k+D,j=u*D;b+=[`M ${T+j},${I}`,`L ${S-j},${I}`,`A ${j},${j} 0 0,1 ${S},${I+j}`,`L ${S},${A-j}`,`A ${j},${j} 0 0,1 ${S-j},${A}`,`L ${T+j},${A}`,`A ${j},${j} 0 0,1 ${T},${A-j}`,`L ${T},${I+j}`,`A ${j},${j} 0 0,1 ${T+j},${I}`,"z"].join(" ")}}return b},[l,f,h,g,d.grid,c,u]);return $r.jsx("path",{className:o,d:p,fill:a})}e.Cells=n,(function(s){s.displayName="Cells"})(n=e.Cells||(e.Cells={}));function i(s){const{children:o}=s,{arenaSize:a,cellSize:c,edgeSize:u}=oe.useContext(e.Context),l=Math.ceil(u/2-a/2),f=a+a%2,d=c/2;return $r.jsx("foreignObject",{x:l,y:l,width:f,height:f,children:$r.jsx("div",{style:{alignItems:"center",display:"flex",fontSize:1,justifyContent:"center",height:"100%",overflow:"hidden",width:"100%",padding:d,boxSizing:"border-box"},children:o})})}e.Arena=i,(function(s){s.displayName="Arena"})(i=e.Arena||(e.Arena={}))})(ia||(ia={}));function ohe(e={}){let t,r,n,i;return s=>({id:"baseAccount",name:"Base Account",rdns:"app.base.account",type:"baseAccount",async connect({chainId:o,withCapabilities:a,...c}={}){try{const u=await this.getProvider(),l=o??s.chains[0]?.id;if(!l)throw new Tu;const f=await u.request({method:"wallet_connect",params:[{capabilities:"capabilities"in c&&c.capabilities?c.capabilities:{},chainIds:[le(l),...s.chains.filter(g=>g.id!==l).map(g=>le(g.id))]}]}),d=f.accounts.map(g=>({address:mn(g.address),capabilities:g.capabilities??{}}));let h=Number(f.chainIds[0]);return r||(r=this.onAccountsChanged.bind(this),u.on("accountsChanged",r)),n||(n=this.onChainChanged.bind(this),u.on("chainChanged",n)),i||(i=this.onDisconnect.bind(this),u.on("disconnect",i)),o&&h!==o&&(h=(await this.switchChain({chainId:o}).catch(p=>{if(p.code===St.code)throw p;return{id:h}}))?.id??h),{accounts:a?d:d.map(g=>g.address),chainId:h}}catch(u){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(u.message)?new St(u):u}},async disconnect(){const o=await this.getProvider();r&&(o.removeListener("accountsChanged",r),r=void 0),n&&(o.removeListener("chainChanged",n),n=void 0),i&&(o.removeListener("disconnect",i),i=void 0),o.disconnect()},async getAccounts(){return(await (await this.getProvider()).request({method:"eth_accounts"})).map(a=>mn(a))},async getChainId(){const a=await (await this.getProvider()).request({method:"eth_chainId"});return Number(a)},async getProvider(){if(!t){const o=typeof e.preference=="string"?{options:e.preference}:{...e.preference,options:e.preference?.options??"all"},{createBaseAccountSDK:a}=await re(async()=>{const{createBaseAccountSDK:u}=await import("./index-D2LSlJTO.js");return{createBaseAccountSDK:u}},__vite__mapDeps([0,1,2,3,4,5,6]));t=a({...e,appChainIds:s.chains.map(u=>u.id),preference:o}).getProvider()}return t},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:o,chainId:a}){const c=s.chains.find(l=>l.id===a);if(!c)throw new ys(new Tu);const u=await this.getProvider();try{return await u.request({method:"wallet_switchEthereumChain",params:[{chainId:le(c.id)}]}),c}catch(l){if(l.code===4902)try{let f;o?.blockExplorerUrls?f=o.blockExplorerUrls:f=c.blockExplorers?.default.url?[c.blockExplorers?.default.url]:[];let d;o?.rpcUrls?.length?d=o.rpcUrls:d=[c.rpcUrls.default?.http[0]??""];const h={blockExplorerUrls:f,chainId:le(a),chainName:o?.chainName??c.name,iconUrls:o?.iconUrls,nativeCurrency:o?.nativeCurrency??c.nativeCurrency,rpcUrls:d};return await u.request({method:"wallet_addEthereumChain",params:[h]}),c}catch(f){throw new St(f)}throw new ys(l)}},onAccountsChanged(o){o.length===0?this.onDisconnect():s.emitter.emit("change",{accounts:o.map(a=>mn(a))})},onChainChanged(o){const a=Number(o);s.emitter.emit("change",{chainId:a})},async onDisconnect(o){s.emitter.emit("disconnect");const a=await this.getProvider();r&&(a.removeListener("accountsChanged",r),r=void 0),n&&(a.removeListener("chainChanged",n),n=void 0),i&&(a.removeListener("disconnect",i),i=void 0)}})}D9.type="metaMask";function D9(e={}){let t,r,n,i,s,o,a,c;return u=>({id:"metaMaskSDK",name:"MetaMask",rdns:["io.metamask","io.metamask.mobile"],type:D9.type,async setup(){const l=await this.getProvider();l?.on&&(o||(o=this.onConnect.bind(this),l.on("connect",o)),i||(i=this.onAccountsChanged.bind(this),l.on("accountsChanged",i)))},async connect({chainId:l,isReconnecting:f,withCapabilities:d}={}){const h=await this.getProvider();a||(a=this.onDisplayUri,h.on("display_uri",a));let g=[];f&&(g=await this.getAccounts().catch(()=>[]));try{let p,b;g?.length||(e.connectAndSign||e.connectWith?(e.connectAndSign?p=await t.connectAndSign({msg:e.connectAndSign}):e.connectWith&&(b=await t.connectWith({method:e.connectWith.method,params:e.connectWith.params})),g=await this.getAccounts()):g=(await t.connect()).map(v=>mn(v)));let w=await this.getChainId();return l&&w!==l&&(w=(await this.switchChain({chainId:l}).catch(v=>{if(v.code===St.code)throw v;return{id:w}}))?.id??w),a&&(h.removeListener("display_uri",a),a=void 0),p?h.emit("connectAndSign",{accounts:g,chainId:w,signResponse:p}):b&&h.emit("connectWith",{accounts:g,chainId:w,connectWithResponse:b}),o&&(h.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),h.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),h.on("chainChanged",s)),c||(c=this.onDisconnect.bind(this),h.on("disconnect",c)),{accounts:d?g.map(y=>({address:y,capabilities:{}})):g,chainId:w}}catch(p){const b=p;throw b.code===St.code?new St(b):b.code===sa.code?new sa(b):b}},async disconnect(){const l=await this.getProvider();s&&(l.removeListener("chainChanged",s),s=void 0),c&&(l.removeListener("disconnect",c),c=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o)),await t.terminate()},async getAccounts(){return(await (await this.getProvider()).request({method:"eth_accounts"})).map(d=>mn(d))},async getChainId(){const l=await this.getProvider(),f=l.getChainId()||await l?.request({method:"eth_chainId"});return Number(f)},async getProvider(){async function l(){const f=await (async()=>{const{default:p}=await re(async()=>{const{default:b}=await import("./metamask-sdk-BrrDBj35.js").then(async m=>{await m.__tla;return m});return{default:b}},__vite__mapDeps([7,3,1,2,4,5,6]));return typeof p!="function"&&typeof p.default=="function"?p.default:p})(),d={};for(const p of u.chains)d[le(p.id)]=UG({chain:p,transports:u.transports})?.[0];t=new f({_source:"wagmi",forceDeleteProvider:!1,forceInjectProvider:!1,injectProvider:!1,...e,readonlyRPCMap:d,dappMetadata:{...e.dappMetadata,name:e.dappMetadata?.name?e.dappMetadata?.name:"wagmi",url:e.dappMetadata?.url?e.dappMetadata?.url:typeof window<"u"?window.location.origin:"https://wagmi.sh"},useDeeplink:e.useDeeplink??!0});const h=await t.init(),g=h?.activeProvider?h.activeProvider:t.getProvider();if(!g)throw new hs;return g}return r||(n||(n=l()),r=await n),r},async isAuthorized(){try{return!!(await hd(()=>H3(()=>this.getAccounts(),{timeout:200}),{delay:201,retryCount:3})).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:f}){const d=await this.getProvider(),h=u.chains.find(b=>b.id===f);if(!h)throw new ys(new Tu);try{return await d.request({method:"wallet_switchEthereumChain",params:[{chainId:le(f)}]}),await g(),await p(f),h}catch(b){const w=b;if(w.code===St.code)throw new St(w);if(w.code===4902||w?.data?.originalError?.code===4902)try{return await d.request({method:"wallet_addEthereumChain",params:[{blockExplorerUrls:(()=>{const{default:y,...v}=h.blockExplorers??{};if(l?.blockExplorerUrls)return l.blockExplorerUrls;if(y)return[y.url,...Object.values(v).map(m=>m.url)]})(),chainId:le(f),chainName:l?.chainName??h.name,iconUrls:l?.iconUrls,nativeCurrency:l?.nativeCurrency??h.nativeCurrency,rpcUrls:l?.rpcUrls?.length?l.rpcUrls:[h.rpcUrls.default?.http[0]??""]}]}),await g(),await p(f),h}catch(y){const v=y;throw v.code===St.code?new St(v):new ys(v)}throw new ys(w)}async function g(){await hd(async()=>{const b=ws(await d.request({method:"eth_chainId"}));if(b!==f)throw new Error("User rejected switch after adding network.");return b},{delay:50,retryCount:20})}async function p(b){await new Promise(w=>{const y=(v=>{"chainId"in v&&v.chainId===b&&(u.emitter.off("change",y),w())});u.emitter.on("change",y),u.emitter.emit("change",{chainId:b})})}},async onAccountsChanged(l){if(l.length===0)if(t.isExtensionActive())this.onDisconnect();else return;else if(u.emitter.listenerCount("connect")){const f=(await this.getChainId()).toString();this.onConnect({chainId:f})}else u.emitter.emit("change",{accounts:l.map(f=>mn(f))})},onChainChanged(l){const f=Number(l);u.emitter.emit("change",{chainId:f})},async onConnect(l){const f=await this.getAccounts();if(f.length===0)return;const d=Number(l.chainId);u.emitter.emit("connect",{accounts:f,chainId:d});const h=await this.getProvider();o&&(h.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),h.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),h.on("chainChanged",s)),c||(c=this.onDisconnect.bind(this),h.on("disconnect",c))},async onDisconnect(l){const f=await this.getProvider();l&&l.code===1013&&f&&(await this.getAccounts()).length||(u.emitter.emit("disconnect"),s&&(f.removeListener("chainChanged",s),s=void 0),c&&(f.removeListener("disconnect",c),c=void 0),o||(o=this.onConnect.bind(this),f.on("connect",o)))},onDisplayUri(l){u.emitter.emit("message",{type:"display_uri",data:l})}})}function Fd(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}DK=function(e,t){const r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);const n=Fd(r);return(i,s)=>n.then(o=>s(o.transaction(t,i).objectStore(t)))};let O_;function A1(){return O_||(O_=DK("keyval-store","keyval")),O_}tj=function(e,t=A1()){return t("readonly",r=>Fd(r.get(e)))};ahe=function(e,t,r=A1()){return r("readwrite",n=>(n.put(t,e),Fd(n.transaction)))};che=function(e,t=A1()){return t("readwrite",r=>(r.delete(e),Fd(r.transaction)))};function uhe(e=A1()){return e("readwrite",t=>(t.clear(),Fd(t.transaction)))}function lhe(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},Fd(e.transaction)}function dhe(e=A1()){return e("readonly",t=>{if(t.getAllKeys)return Fd(t.getAllKeys());const r=[];return lhe(t,n=>r.push(n.key)).then(()=>r)})}$9.type="safe";function $9(e={}){const{shimDisconnect:t=!1}=e;let r,n;return i=>({id:"safe",name:"Safe",type:$9.type,async connect({withCapabilities:s}={}){const o=await this.getProvider();if(!o)throw new hs;const a=await this.getAccounts(),c=await this.getChainId();return n||(n=this.onDisconnect.bind(this),o.on("disconnect",n)),t&&await i.storage?.removeItem("safe.disconnected"),{accounts:s?a.map(u=>({address:u,capabilities:{}})):a,chainId:c}},async disconnect(){const s=await this.getProvider();if(!s)throw new hs;n&&(s.removeListener("disconnect",n),n=void 0),t&&await i.storage?.setItem("safe.disconnected",!0)},async getAccounts(){const s=await this.getProvider();if(!s)throw new hs;return(await s.request({method:"eth_accounts"})).map(mn)},async getProvider(){if(typeof window<"u"&&window?.parent!==window){if(!r){const{default:o}=await re(async()=>{const{default:l}=await import("./index-CqgZEpi_.js");return{default:l}},__vite__mapDeps([8,9,1,2,3,4,5,6])),a=new o(e),c=await H3(()=>a.safe.getInfo(),{timeout:e.unstable_getInfoTimeout??10});if(!c)throw new Error("Could not load Safe information");const u=await (async()=>{const l=await re(()=>import("./index-BIL5VC57.js").then(f=>f.i),__vite__mapDeps([10,3,1,2,4,5,6,9]));return typeof l.SafeAppProvider!="function"&&typeof l.default.SafeAppProvider=="function"?l.default.SafeAppProvider:l.SafeAppProvider})();r=new u(c,a)}return r}},async getChainId(){const s=await this.getProvider();if(!s)throw new hs;return Number(s.chainId)},async isAuthorized(){try{return t&&await i.storage?.getItem("safe.disconnected")?!1:!!(await this.getAccounts()).length}catch{return!1}},onAccountsChanged(){},onChainChanged(){},onDisconnect(){i.emitter.emit("disconnect")}})}M9.type="walletConnect";function M9(e){const t=e.isNewChainsStale??!0;let r,n;const i="eip155";let s,o,a,c,u,l;return f=>({id:"walletConnect",name:"WalletConnect",type:M9.type,async setup(){const d=await this.getProvider().catch(()=>null);d&&(a||(a=this.onConnect.bind(this),d.on("connect",a)),u||(u=this.onSessionDelete.bind(this),d.on("session_delete",u)))},async connect({chainId:d,withCapabilities:h,...g}={}){try{const p=await this.getProvider();if(!p)throw new hs;c||(c=this.onDisplayUri,p.on("display_uri",c));let b=d;if(!b){const m=await f.storage?.getItem("state")??{};f.chains.some(E=>E.id===m.chainId)?b=m.chainId:b=f.chains[0]?.id}if(!b)throw new Error("No chains found on connector.");const w=await this.isChainsStale();if(p.session&&w&&await p.disconnect(),!p.session||w){const m=f.chains.filter(C=>C.id!==b).map(C=>C.id);await p.connect({optionalChains:[b,...m],..."pairingTopic"in g?{pairingTopic:g.pairingTopic}:{}}),this.setRequestedChainsIds(f.chains.map(C=>C.id))}const y=(await p.enable()).map(m=>mn(m));let v=await this.getChainId();return d&&v!==d&&(v=(await this.switchChain({chainId:d}).catch(C=>{if(C.code===St.code&&C.cause?.message!=="Missing or invalid. request() method: wallet_addEthereumChain")throw C;return{id:v}}))?.id??v),c&&(p.removeListener("display_uri",c),c=void 0),a&&(p.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),p.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),p.on("chainChanged",o)),l||(l=this.onDisconnect.bind(this),p.on("disconnect",l)),u||(u=this.onSessionDelete.bind(this),p.on("session_delete",u)),{accounts:h?y.map(m=>({address:m,capabilities:{}})):y,chainId:v}}catch(p){throw/(user rejected|connection request reset)/i.test(p?.message)?new St(p):p}},async disconnect(){const d=await this.getProvider();try{await d?.disconnect()}catch(h){if(!/No matching key/i.test(h.message))throw h}finally{o&&(d?.removeListener("chainChanged",o),o=void 0),l&&(d?.removeListener("disconnect",l),l=void 0),a||(a=this.onConnect.bind(this),d?.on("connect",a)),s&&(d?.removeListener("accountsChanged",s),s=void 0),u&&(d?.removeListener("session_delete",u),u=void 0),this.setRequestedChainsIds([])}},async getAccounts(){return(await this.getProvider()).accounts.map(h=>mn(h))},async getProvider({chainId:d}={}){async function h(){const g=f.chains.map(b=>b.id);if(!g.length)return;const{EthereumProvider:p}=await re(async()=>{const{EthereumProvider:b}=await Promise.resolve().then(()=>MSe);return{EthereumProvider:b}},void 0);return await p.init({...e,disableProviderPing:!0,optionalChains:g,projectId:e.projectId,rpcMap:Object.fromEntries(f.chains.map(b=>{const[w]=UG({chain:b,transports:f.transports});return[b.id,w]})),showQrModal:e.showQrModal??!0})}return r||(n||(n=h()),r=await n,r?.events.setMaxListeners(Number.POSITIVE_INFINITY)),d&&await this.switchChain?.({chainId:d}),r},async getChainId(){return(await this.getProvider()).chainId},async isAuthorized(){try{const[d,h]=await Promise.all([this.getAccounts(),this.getProvider()]);return d.length?await this.isChainsStale()&&h.session?(await h.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:h}){const g=await this.getProvider();if(!g)throw new hs;const p=f.chains.find(b=>b.id===h);if(!p)throw new ys(new Tu);try{await Promise.all([new Promise(w=>{const y=({chainId:v})=>{v===h&&(f.emitter.off("change",y),w())};f.emitter.on("change",y)}),g.request({method:"wallet_switchEthereumChain",params:[{chainId:le(h)}]})]);const b=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...b,h]),p}catch(b){const w=b;if(/(user rejected)/i.test(w.message))throw new St(w);try{let y;d?.blockExplorerUrls?y=d.blockExplorerUrls:y=p.blockExplorers?.default.url?[p.blockExplorers?.default.url]:[];let v;d?.rpcUrls?.length?v=d.rpcUrls:v=[...p.rpcUrls.default.http];const m={blockExplorerUrls:y,chainId:le(h),chainName:d?.chainName??p.name,iconUrls:d?.iconUrls,nativeCurrency:d?.nativeCurrency??p.nativeCurrency,rpcUrls:v};await g.request({method:"wallet_addEthereumChain",params:[m]});const C=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...C,h]),p}catch(y){throw new St(y)}}},onAccountsChanged(d){d.length===0?this.onDisconnect():f.emitter.emit("change",{accounts:d.map(h=>mn(h))})},onChainChanged(d){const h=Number(d);f.emitter.emit("change",{chainId:h})},async onConnect(d){const h=Number(d.chainId),g=await this.getAccounts();f.emitter.emit("connect",{accounts:g,chainId:h})},async onDisconnect(d){this.setRequestedChainsIds([]),f.emitter.emit("disconnect");const h=await this.getProvider();s&&(h.removeListener("accountsChanged",s),s=void 0),o&&(h.removeListener("chainChanged",o),o=void 0),l&&(h.removeListener("disconnect",l),l=void 0),u&&(h.removeListener("session_delete",u),u=void 0),a||(a=this.onConnect.bind(this),h.on("connect",a))},onDisplayUri(d){f.emitter.emit("message",{type:"display_uri",data:d})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){return r?r.session?.namespaces[i]?.accounts?.map(h=>Number.parseInt(h.split(":")[1]||"",10))??[]:[]},async getRequestedChainsIds(){return await f.storage?.getItem(this.requestedChainsStorageKey)??[]},async isChainsStale(){if(!t)return!1;const d=f.chains.map(p=>p.id),h=this.getNamespaceChainsIds();if(h.length&&!h.some(p=>d.includes(p)))return!1;const g=await this.getRequestedChainsIds();return!d.every(p=>g.includes(p))},async setRequestedChainsIds(d){await f.storage?.setItem(this.requestedChainsStorageKey,d)},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}var T5={},fhe=768,pf=Tne({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}}),$K=gW({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}}),gx=Nne({conditions:{defaultCondition:"base",conditionNames:["base","hover","active"],responsiveArray:void 0},styles:{background:{values:{accentColor:{conditions:{base:"ju367v9i",hover:"ju367v9j",active:"ju367v9k"},defaultClass:"ju367v9i"},accentColorForeground:{conditions:{base:"ju367v9l",hover:"ju367v9m",active:"ju367v9n"},defaultClass:"ju367v9l"},actionButtonBorder:{conditions:{base:"ju367v9o",hover:"ju367v9p",active:"ju367v9q"},defaultClass:"ju367v9o"},actionButtonBorderMobile:{conditions:{base:"ju367v9r",hover:"ju367v9s",active:"ju367v9t"},defaultClass:"ju367v9r"},actionButtonSecondaryBackground:{conditions:{base:"ju367v9u",hover:"ju367v9v",active:"ju367v9w"},defaultClass:"ju367v9u"},closeButton:{conditions:{base:"ju367v9x",hover:"ju367v9y",active:"ju367v9z"},defaultClass:"ju367v9x"},closeButtonBackground:{conditions:{base:"ju367va0",hover:"ju367va1",active:"ju367va2"},defaultClass:"ju367va0"},connectButtonBackground:{conditions:{base:"ju367va3",hover:"ju367va4",active:"ju367va5"},defaultClass:"ju367va3"},connectButtonBackgroundError:{conditions:{base:"ju367va6",hover:"ju367va7",active:"ju367va8"},defaultClass:"ju367va6"},connectButtonInnerBackground:{conditions:{base:"ju367va9",hover:"ju367vaa",active:"ju367vab"},defaultClass:"ju367va9"},connectButtonText:{conditions:{base:"ju367vac",hover:"ju367vad",active:"ju367vae"},defaultClass:"ju367vac"},connectButtonTextError:{conditions:{base:"ju367vaf",hover:"ju367vag",active:"ju367vah"},defaultClass:"ju367vaf"},connectionIndicator:{conditions:{base:"ju367vai",hover:"ju367vaj",active:"ju367vak"},defaultClass:"ju367vai"},downloadBottomCardBackground:{conditions:{base:"ju367val",hover:"ju367vam",active:"ju367van"},defaultClass:"ju367val"},downloadTopCardBackground:{conditions:{base:"ju367vao",hover:"ju367vap",active:"ju367vaq"},defaultClass:"ju367vao"},error:{conditions:{base:"ju367var",hover:"ju367vas",active:"ju367vat"},defaultClass:"ju367var"},generalBorder:{conditions:{base:"ju367vau",hover:"ju367vav",active:"ju367vaw"},defaultClass:"ju367vau"},generalBorderDim:{conditions:{base:"ju367vax",hover:"ju367vay",active:"ju367vaz"},defaultClass:"ju367vax"},menuItemBackground:{conditions:{base:"ju367vb0",hover:"ju367vb1",active:"ju367vb2"},defaultClass:"ju367vb0"},modalBackdrop:{conditions:{base:"ju367vb3",hover:"ju367vb4",active:"ju367vb5"},defaultClass:"ju367vb3"},modalBackground:{conditions:{base:"ju367vb6",hover:"ju367vb7",active:"ju367vb8"},defaultClass:"ju367vb6"},modalBorder:{conditions:{base:"ju367vb9",hover:"ju367vba",active:"ju367vbb"},defaultClass:"ju367vb9"},modalText:{conditions:{base:"ju367vbc",hover:"ju367vbd",active:"ju367vbe"},defaultClass:"ju367vbc"},modalTextDim:{conditions:{base:"ju367vbf",hover:"ju367vbg",active:"ju367vbh"},defaultClass:"ju367vbf"},modalTextSecondary:{conditions:{base:"ju367vbi",hover:"ju367vbj",active:"ju367vbk"},defaultClass:"ju367vbi"},profileAction:{conditions:{base:"ju367vbl",hover:"ju367vbm",active:"ju367vbn"},defaultClass:"ju367vbl"},profileActionHover:{conditions:{base:"ju367vbo",hover:"ju367vbp",active:"ju367vbq"},defaultClass:"ju367vbo"},profileForeground:{conditions:{base:"ju367vbr",hover:"ju367vbs",active:"ju367vbt"},defaultClass:"ju367vbr"},selectedOptionBorder:{conditions:{base:"ju367vbu",hover:"ju367vbv",active:"ju367vbw"},defaultClass:"ju367vbu"},standby:{conditions:{base:"ju367vbx",hover:"ju367vby",active:"ju367vbz"},defaultClass:"ju367vbx"}}},borderColor:{values:{accentColor:{conditions:{base:"ju367vc0",hover:"ju367vc1",active:"ju367vc2"},defaultClass:"ju367vc0"},accentColorForeground:{conditions:{base:"ju367vc3",hover:"ju367vc4",active:"ju367vc5"},defaultClass:"ju367vc3"},actionButtonBorder:{conditions:{base:"ju367vc6",hover:"ju367vc7",active:"ju367vc8"},defaultClass:"ju367vc6"},actionButtonBorderMobile:{conditions:{base:"ju367vc9",hover:"ju367vca",active:"ju367vcb"},defaultClass:"ju367vc9"},actionButtonSecondaryBackground:{conditions:{base:"ju367vcc",hover:"ju367vcd",active:"ju367vce"},defaultClass:"ju367vcc"},closeButton:{conditions:{base:"ju367vcf",hover:"ju367vcg",active:"ju367vch"},defaultClass:"ju367vcf"},closeButtonBackground:{conditions:{base:"ju367vci",hover:"ju367vcj",active:"ju367vck"},defaultClass:"ju367vci"},connectButtonBackground:{conditions:{base:"ju367vcl",hover:"ju367vcm",active:"ju367vcn"},defaultClass:"ju367vcl"},connectButtonBackgroundError:{conditions:{base:"ju367vco",hover:"ju367vcp",active:"ju367vcq"},defaultClass:"ju367vco"},connectButtonInnerBackground:{conditions:{base:"ju367vcr",hover:"ju367vcs",active:"ju367vct"},defaultClass:"ju367vcr"},connectButtonText:{conditions:{base:"ju367vcu",hover:"ju367vcv",active:"ju367vcw"},defaultClass:"ju367vcu"},connectButtonTextError:{conditions:{base:"ju367vcx",hover:"ju367vcy",active:"ju367vcz"},defaultClass:"ju367vcx"},connectionIndicator:{conditions:{base:"ju367vd0",hover:"ju367vd1",active:"ju367vd2"},defaultClass:"ju367vd0"},downloadBottomCardBackground:{conditions:{base:"ju367vd3",hover:"ju367vd4",active:"ju367vd5"},defaultClass:"ju367vd3"},downloadTopCardBackground:{conditions:{base:"ju367vd6",hover:"ju367vd7",active:"ju367vd8"},defaultClass:"ju367vd6"},error:{conditions:{base:"ju367vd9",hover:"ju367vda",active:"ju367vdb"},defaultClass:"ju367vd9"},generalBorder:{conditions:{base:"ju367vdc",hover:"ju367vdd",active:"ju367vde"},defaultClass:"ju367vdc"},generalBorderDim:{conditions:{base:"ju367vdf",hover:"ju367vdg",active:"ju367vdh"},defaultClass:"ju367vdf"},menuItemBackground:{conditions:{base:"ju367vdi",hover:"ju367vdj",active:"ju367vdk"},defaultClass:"ju367vdi"},modalBackdrop:{conditions:{base:"ju367vdl",hover:"ju367vdm",active:"ju367vdn"},defaultClass:"ju367vdl"},modalBackground:{conditions:{base:"ju367vdo",hover:"ju367vdp",active:"ju367vdq"},defaultClass:"ju367vdo"},modalBorder:{conditions:{base:"ju367vdr",hover:"ju367vds",active:"ju367vdt"},defaultClass:"ju367vdr"},modalText:{conditions:{base:"ju367vdu",hover:"ju367vdv",active:"ju367vdw"},defaultClass:"ju367vdu"},modalTextDim:{conditions:{base:"ju367vdx",hover:"ju367vdy",active:"ju367vdz"},defaultClass:"ju367vdx"},modalTextSecondary:{conditions:{base:"ju367ve0",hover:"ju367ve1",active:"ju367ve2"},defaultClass:"ju367ve0"},profileAction:{conditions:{base:"ju367ve3",hover:"ju367ve4",active:"ju367ve5"},defaultClass:"ju367ve3"},profileActionHover:{conditions:{base:"ju367ve6",hover:"ju367ve7",active:"ju367ve8"},defaultClass:"ju367ve6"},profileForeground:{conditions:{base:"ju367ve9",hover:"ju367vea",active:"ju367veb"},defaultClass:"ju367ve9"},selectedOptionBorder:{conditions:{base:"ju367vec",hover:"ju367ved",active:"ju367vee"},defaultClass:"ju367vec"},standby:{conditions:{base:"ju367vef",hover:"ju367veg",active:"ju367veh"},defaultClass:"ju367vef"}}},boxShadow:{values:{connectButton:{conditions:{base:"ju367vei",hover:"ju367vej",active:"ju367vek"},defaultClass:"ju367vei"},dialog:{conditions:{base:"ju367vel",hover:"ju367vem",active:"ju367ven"},defaultClass:"ju367vel"},profileDetailsAction:{conditions:{base:"ju367veo",hover:"ju367vep",active:"ju367veq"},defaultClass:"ju367veo"},selectedOption:{conditions:{base:"ju367ver",hover:"ju367ves",active:"ju367vet"},defaultClass:"ju367ver"},selectedWallet:{conditions:{base:"ju367veu",hover:"ju367vev",active:"ju367vew"},defaultClass:"ju367veu"},walletLogo:{conditions:{base:"ju367vex",hover:"ju367vey",active:"ju367vez"},defaultClass:"ju367vex"}}},color:{values:{accentColor:{conditions:{base:"ju367vf0",hover:"ju367vf1",active:"ju367vf2"},defaultClass:"ju367vf0"},accentColorForeground:{conditions:{base:"ju367vf3",hover:"ju367vf4",active:"ju367vf5"},defaultClass:"ju367vf3"},actionButtonBorder:{conditions:{base:"ju367vf6",hover:"ju367vf7",active:"ju367vf8"},defaultClass:"ju367vf6"},actionButtonBorderMobile:{conditions:{base:"ju367vf9",hover:"ju367vfa",active:"ju367vfb"},defaultClass:"ju367vf9"},actionButtonSecondaryBackground:{conditions:{base:"ju367vfc",hover:"ju367vfd",active:"ju367vfe"},defaultClass:"ju367vfc"},closeButton:{conditions:{base:"ju367vff",hover:"ju367vfg",active:"ju367vfh"},defaultClass:"ju367vff"},closeButtonBackground:{conditions:{base:"ju367vfi",hover:"ju367vfj",active:"ju367vfk"},defaultClass:"ju367vfi"},connectButtonBackground:{conditions:{base:"ju367vfl",hover:"ju367vfm",active:"ju367vfn"},defaultClass:"ju367vfl"},connectButtonBackgroundError:{conditions:{base:"ju367vfo",hover:"ju367vfp",active:"ju367vfq"},defaultClass:"ju367vfo"},connectButtonInnerBackground:{conditions:{base:"ju367vfr",hover:"ju367vfs",active:"ju367vft"},defaultClass:"ju367vfr"},connectButtonText:{conditions:{base:"ju367vfu",hover:"ju367vfv",active:"ju367vfw"},defaultClass:"ju367vfu"},connectButtonTextError:{conditions:{base:"ju367vfx",hover:"ju367vfy",active:"ju367vfz"},defaultClass:"ju367vfx"},connectionIndicator:{conditions:{base:"ju367vg0",hover:"ju367vg1",active:"ju367vg2"},defaultClass:"ju367vg0"},downloadBottomCardBackground:{conditions:{base:"ju367vg3",hover:"ju367vg4",active:"ju367vg5"},defaultClass:"ju367vg3"},downloadTopCardBackground:{conditions:{base:"ju367vg6",hover:"ju367vg7",active:"ju367vg8"},defaultClass:"ju367vg6"},error:{conditions:{base:"ju367vg9",hover:"ju367vga",active:"ju367vgb"},defaultClass:"ju367vg9"},generalBorder:{conditions:{base:"ju367vgc",hover:"ju367vgd",active:"ju367vge"},defaultClass:"ju367vgc"},generalBorderDim:{conditions:{base:"ju367vgf",hover:"ju367vgg",active:"ju367vgh"},defaultClass:"ju367vgf"},menuItemBackground:{conditions:{base:"ju367vgi",hover:"ju367vgj",active:"ju367vgk"},defaultClass:"ju367vgi"},modalBackdrop:{conditions:{base:"ju367vgl",hover:"ju367vgm",active:"ju367vgn"},defaultClass:"ju367vgl"},modalBackground:{conditions:{base:"ju367vgo",hover:"ju367vgp",active:"ju367vgq"},defaultClass:"ju367vgo"},modalBorder:{conditions:{base:"ju367vgr",hover:"ju367vgs",active:"ju367vgt"},defaultClass:"ju367vgr"},modalText:{conditions:{base:"ju367vgu",hover:"ju367vgv",active:"ju367vgw"},defaultClass:"ju367vgu"},modalTextDim:{conditions:{base:"ju367vgx",hover:"ju367vgy",active:"ju367vgz"},defaultClass:"ju367vgx"},modalTextSecondary:{conditions:{base:"ju367vh0",hover:"ju367vh1",active:"ju367vh2"},defaultClass:"ju367vh0"},profileAction:{conditions:{base:"ju367vh3",hover:"ju367vh4",active:"ju367vh5"},defaultClass:"ju367vh3"},profileActionHover:{conditions:{base:"ju367vh6",hover:"ju367vh7",active:"ju367vh8"},defaultClass:"ju367vh6"},profileForeground:{conditions:{base:"ju367vh9",hover:"ju367vha",active:"ju367vhb"},defaultClass:"ju367vh9"},selectedOptionBorder:{conditions:{base:"ju367vhc",hover:"ju367vhd",active:"ju367vhe"},defaultClass:"ju367vhc"},standby:{conditions:{base:"ju367vhf",hover:"ju367vhg",active:"ju367vhh"},defaultClass:"ju367vhf"}}}}},{conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0},styles:{alignItems:{values:{"flex-start":{conditions:{smallScreen:"ju367v0",largeScreen:"ju367v1"},defaultClass:"ju367v0"},"flex-end":{conditions:{smallScreen:"ju367v2",largeScreen:"ju367v3"},defaultClass:"ju367v2"},center:{conditions:{smallScreen:"ju367v4",largeScreen:"ju367v5"},defaultClass:"ju367v4"}}},display:{values:{none:{conditions:{smallScreen:"ju367v6",largeScreen:"ju367v7"},defaultClass:"ju367v6"},block:{conditions:{smallScreen:"ju367v8",largeScreen:"ju367v9"},defaultClass:"ju367v8"},flex:{conditions:{smallScreen:"ju367va",largeScreen:"ju367vb"},defaultClass:"ju367va"},inline:{conditions:{smallScreen:"ju367vc",largeScreen:"ju367vd"},defaultClass:"ju367vc"}}}}},{conditions:void 0,styles:{margin:{mappings:["marginTop","marginBottom","marginLeft","marginRight"]},marginX:{mappings:["marginLeft","marginRight"]},marginY:{mappings:["marginTop","marginBottom"]},padding:{mappings:["paddingTop","paddingBottom","paddingLeft","paddingRight"]},paddingX:{mappings:["paddingLeft","paddingRight"]},paddingY:{mappings:["paddingTop","paddingBottom"]},alignSelf:{values:{"flex-start":{defaultClass:"ju367ve"},"flex-end":{defaultClass:"ju367vf"},center:{defaultClass:"ju367vg"}}},backgroundSize:{values:{cover:{defaultClass:"ju367vh"}}},borderRadius:{values:{1:{defaultClass:"ju367vi"},6:{defaultClass:"ju367vj"},10:{defaultClass:"ju367vk"},13:{defaultClass:"ju367vl"},actionButton:{defaultClass:"ju367vm"},connectButton:{defaultClass:"ju367vn"},menuButton:{defaultClass:"ju367vo"},modal:{defaultClass:"ju367vp"},modalMobile:{defaultClass:"ju367vq"},"25%":{defaultClass:"ju367vr"},full:{defaultClass:"ju367vs"}}},borderStyle:{values:{solid:{defaultClass:"ju367vt"}}},borderWidth:{values:{0:{defaultClass:"ju367vu"},1:{defaultClass:"ju367vv"},2:{defaultClass:"ju367vw"},4:{defaultClass:"ju367vx"}}},cursor:{values:{pointer:{defaultClass:"ju367vy"},none:{defaultClass:"ju367vz"}}},pointerEvents:{values:{none:{defaultClass:"ju367v10"},all:{defaultClass:"ju367v11"}}},minHeight:{values:{8:{defaultClass:"ju367v12"},44:{defaultClass:"ju367v13"}}},flexDirection:{values:{row:{defaultClass:"ju367v14"},column:{defaultClass:"ju367v15"}}},fontFamily:{values:{body:{defaultClass:"ju367v16"}}},fontSize:{values:{12:{defaultClass:"ju367v17"},13:{defaultClass:"ju367v18"},14:{defaultClass:"ju367v19"},16:{defaultClass:"ju367v1a"},18:{defaultClass:"ju367v1b"},20:{defaultClass:"ju367v1c"},23:{defaultClass:"ju367v1d"}}},fontWeight:{values:{regular:{defaultClass:"ju367v1e"},medium:{defaultClass:"ju367v1f"},semibold:{defaultClass:"ju367v1g"},bold:{defaultClass:"ju367v1h"},heavy:{defaultClass:"ju367v1i"}}},gap:{values:{0:{defaultClass:"ju367v1j"},1:{defaultClass:"ju367v1k"},2:{defaultClass:"ju367v1l"},3:{defaultClass:"ju367v1m"},4:{defaultClass:"ju367v1n"},5:{defaultClass:"ju367v1o"},6:{defaultClass:"ju367v1p"},8:{defaultClass:"ju367v1q"},10:{defaultClass:"ju367v1r"},12:{defaultClass:"ju367v1s"},14:{defaultClass:"ju367v1t"},16:{defaultClass:"ju367v1u"},18:{defaultClass:"ju367v1v"},20:{defaultClass:"ju367v1w"},24:{defaultClass:"ju367v1x"},28:{defaultClass:"ju367v1y"},32:{defaultClass:"ju367v1z"},36:{defaultClass:"ju367v20"},44:{defaultClass:"ju367v21"},64:{defaultClass:"ju367v22"},"-1":{defaultClass:"ju367v23"}}},height:{values:{1:{defaultClass:"ju367v24"},2:{defaultClass:"ju367v25"},4:{defaultClass:"ju367v26"},8:{defaultClass:"ju367v27"},12:{defaultClass:"ju367v28"},20:{defaultClass:"ju367v29"},24:{defaultClass:"ju367v2a"},28:{defaultClass:"ju367v2b"},30:{defaultClass:"ju367v2c"},32:{defaultClass:"ju367v2d"},34:{defaultClass:"ju367v2e"},36:{defaultClass:"ju367v2f"},40:{defaultClass:"ju367v2g"},44:{defaultClass:"ju367v2h"},48:{defaultClass:"ju367v2i"},54:{defaultClass:"ju367v2j"},60:{defaultClass:"ju367v2k"},200:{defaultClass:"ju367v2l"},full:{defaultClass:"ju367v2m"},max:{defaultClass:"ju367v2n"}}},justifyContent:{values:{"flex-start":{defaultClass:"ju367v2o"},"flex-end":{defaultClass:"ju367v2p"},center:{defaultClass:"ju367v2q"},"space-between":{defaultClass:"ju367v2r"},"space-around":{defaultClass:"ju367v2s"}}},textAlign:{values:{left:{defaultClass:"ju367v2t"},center:{defaultClass:"ju367v2u"},inherit:{defaultClass:"ju367v2v"}}},marginBottom:{values:{0:{defaultClass:"ju367v2w"},1:{defaultClass:"ju367v2x"},2:{defaultClass:"ju367v2y"},3:{defaultClass:"ju367v2z"},4:{defaultClass:"ju367v30"},5:{defaultClass:"ju367v31"},6:{defaultClass:"ju367v32"},8:{defaultClass:"ju367v33"},10:{defaultClass:"ju367v34"},12:{defaultClass:"ju367v35"},14:{defaultClass:"ju367v36"},16:{defaultClass:"ju367v37"},18:{defaultClass:"ju367v38"},20:{defaultClass:"ju367v39"},24:{defaultClass:"ju367v3a"},28:{defaultClass:"ju367v3b"},32:{defaultClass:"ju367v3c"},36:{defaultClass:"ju367v3d"},44:{defaultClass:"ju367v3e"},64:{defaultClass:"ju367v3f"},"-1":{defaultClass:"ju367v3g"}}},marginLeft:{values:{0:{defaultClass:"ju367v3h"},1:{defaultClass:"ju367v3i"},2:{defaultClass:"ju367v3j"},3:{defaultClass:"ju367v3k"},4:{defaultClass:"ju367v3l"},5:{defaultClass:"ju367v3m"},6:{defaultClass:"ju367v3n"},8:{defaultClass:"ju367v3o"},10:{defaultClass:"ju367v3p"},12:{defaultClass:"ju367v3q"},14:{defaultClass:"ju367v3r"},16:{defaultClass:"ju367v3s"},18:{defaultClass:"ju367v3t"},20:{defaultClass:"ju367v3u"},24:{defaultClass:"ju367v3v"},28:{defaultClass:"ju367v3w"},32:{defaultClass:"ju367v3x"},36:{defaultClass:"ju367v3y"},44:{defaultClass:"ju367v3z"},64:{defaultClass:"ju367v40"},"-1":{defaultClass:"ju367v41"}}},marginRight:{values:{0:{defaultClass:"ju367v42"},1:{defaultClass:"ju367v43"},2:{defaultClass:"ju367v44"},3:{defaultClass:"ju367v45"},4:{defaultClass:"ju367v46"},5:{defaultClass:"ju367v47"},6:{defaultClass:"ju367v48"},8:{defaultClass:"ju367v49"},10:{defaultClass:"ju367v4a"},12:{defaultClass:"ju367v4b"},14:{defaultClass:"ju367v4c"},16:{defaultClass:"ju367v4d"},18:{defaultClass:"ju367v4e"},20:{defaultClass:"ju367v4f"},24:{defaultClass:"ju367v4g"},28:{defaultClass:"ju367v4h"},32:{defaultClass:"ju367v4i"},36:{defaultClass:"ju367v4j"},44:{defaultClass:"ju367v4k"},64:{defaultClass:"ju367v4l"},"-1":{defaultClass:"ju367v4m"}}},marginTop:{values:{0:{defaultClass:"ju367v4n"},1:{defaultClass:"ju367v4o"},2:{defaultClass:"ju367v4p"},3:{defaultClass:"ju367v4q"},4:{defaultClass:"ju367v4r"},5:{defaultClass:"ju367v4s"},6:{defaultClass:"ju367v4t"},8:{defaultClass:"ju367v4u"},10:{defaultClass:"ju367v4v"},12:{defaultClass:"ju367v4w"},14:{defaultClass:"ju367v4x"},16:{defaultClass:"ju367v4y"},18:{defaultClass:"ju367v4z"},20:{defaultClass:"ju367v50"},24:{defaultClass:"ju367v51"},28:{defaultClass:"ju367v52"},32:{defaultClass:"ju367v53"},36:{defaultClass:"ju367v54"},44:{defaultClass:"ju367v55"},64:{defaultClass:"ju367v56"},"-1":{defaultClass:"ju367v57"}}},maxWidth:{values:{1:{defaultClass:"ju367v58"},2:{defaultClass:"ju367v59"},4:{defaultClass:"ju367v5a"},8:{defaultClass:"ju367v5b"},12:{defaultClass:"ju367v5c"},20:{defaultClass:"ju367v5d"},24:{defaultClass:"ju367v5e"},28:{defaultClass:"ju367v5f"},30:{defaultClass:"ju367v5g"},32:{defaultClass:"ju367v5h"},34:{defaultClass:"ju367v5i"},36:{defaultClass:"ju367v5j"},40:{defaultClass:"ju367v5k"},44:{defaultClass:"ju367v5l"},48:{defaultClass:"ju367v5m"},54:{defaultClass:"ju367v5n"},60:{defaultClass:"ju367v5o"},200:{defaultClass:"ju367v5p"},full:{defaultClass:"ju367v5q"},max:{defaultClass:"ju367v5r"}}},minWidth:{values:{1:{defaultClass:"ju367v5s"},2:{defaultClass:"ju367v5t"},4:{defaultClass:"ju367v5u"},8:{defaultClass:"ju367v5v"},12:{defaultClass:"ju367v5w"},20:{defaultClass:"ju367v5x"},24:{defaultClass:"ju367v5y"},28:{defaultClass:"ju367v5z"},30:{defaultClass:"ju367v60"},32:{defaultClass:"ju367v61"},34:{defaultClass:"ju367v62"},36:{defaultClass:"ju367v63"},40:{defaultClass:"ju367v64"},44:{defaultClass:"ju367v65"},48:{defaultClass:"ju367v66"},54:{defaultClass:"ju367v67"},60:{defaultClass:"ju367v68"},200:{defaultClass:"ju367v69"},full:{defaultClass:"ju367v6a"},max:{defaultClass:"ju367v6b"}}},overflow:{values:{hidden:{defaultClass:"ju367v6c"}}},paddingBottom:{values:{0:{defaultClass:"ju367v6d"},1:{defaultClass:"ju367v6e"},2:{defaultClass:"ju367v6f"},3:{defaultClass:"ju367v6g"},4:{defaultClass:"ju367v6h"},5:{defaultClass:"ju367v6i"},6:{defaultClass:"ju367v6j"},8:{defaultClass:"ju367v6k"},10:{defaultClass:"ju367v6l"},12:{defaultClass:"ju367v6m"},14:{defaultClass:"ju367v6n"},16:{defaultClass:"ju367v6o"},18:{defaultClass:"ju367v6p"},20:{defaultClass:"ju367v6q"},24:{defaultClass:"ju367v6r"},28:{defaultClass:"ju367v6s"},32:{defaultClass:"ju367v6t"},36:{defaultClass:"ju367v6u"},44:{defaultClass:"ju367v6v"},64:{defaultClass:"ju367v6w"},"-1":{defaultClass:"ju367v6x"}}},paddingLeft:{values:{0:{defaultClass:"ju367v6y"},1:{defaultClass:"ju367v6z"},2:{defaultClass:"ju367v70"},3:{defaultClass:"ju367v71"},4:{defaultClass:"ju367v72"},5:{defaultClass:"ju367v73"},6:{defaultClass:"ju367v74"},8:{defaultClass:"ju367v75"},10:{defaultClass:"ju367v76"},12:{defaultClass:"ju367v77"},14:{defaultClass:"ju367v78"},16:{defaultClass:"ju367v79"},18:{defaultClass:"ju367v7a"},20:{defaultClass:"ju367v7b"},24:{defaultClass:"ju367v7c"},28:{defaultClass:"ju367v7d"},32:{defaultClass:"ju367v7e"},36:{defaultClass:"ju367v7f"},44:{defaultClass:"ju367v7g"},64:{defaultClass:"ju367v7h"},"-1":{defaultClass:"ju367v7i"}}},paddingRight:{values:{0:{defaultClass:"ju367v7j"},1:{defaultClass:"ju367v7k"},2:{defaultClass:"ju367v7l"},3:{defaultClass:"ju367v7m"},4:{defaultClass:"ju367v7n"},5:{defaultClass:"ju367v7o"},6:{defaultClass:"ju367v7p"},8:{defaultClass:"ju367v7q"},10:{defaultClass:"ju367v7r"},12:{defaultClass:"ju367v7s"},14:{defaultClass:"ju367v7t"},16:{defaultClass:"ju367v7u"},18:{defaultClass:"ju367v7v"},20:{defaultClass:"ju367v7w"},24:{defaultClass:"ju367v7x"},28:{defaultClass:"ju367v7y"},32:{defaultClass:"ju367v7z"},36:{defaultClass:"ju367v80"},44:{defaultClass:"ju367v81"},64:{defaultClass:"ju367v82"},"-1":{defaultClass:"ju367v83"}}},paddingTop:{values:{0:{defaultClass:"ju367v84"},1:{defaultClass:"ju367v85"},2:{defaultClass:"ju367v86"},3:{defaultClass:"ju367v87"},4:{defaultClass:"ju367v88"},5:{defaultClass:"ju367v89"},6:{defaultClass:"ju367v8a"},8:{defaultClass:"ju367v8b"},10:{defaultClass:"ju367v8c"},12:{defaultClass:"ju367v8d"},14:{defaultClass:"ju367v8e"},16:{defaultClass:"ju367v8f"},18:{defaultClass:"ju367v8g"},20:{defaultClass:"ju367v8h"},24:{defaultClass:"ju367v8i"},28:{defaultClass:"ju367v8j"},32:{defaultClass:"ju367v8k"},36:{defaultClass:"ju367v8l"},44:{defaultClass:"ju367v8m"},64:{defaultClass:"ju367v8n"},"-1":{defaultClass:"ju367v8o"}}},position:{values:{absolute:{defaultClass:"ju367v8p"},fixed:{defaultClass:"ju367v8q"},relative:{defaultClass:"ju367v8r"}}},WebkitUserSelect:{values:{none:{defaultClass:"ju367v8s"}}},right:{values:{0:{defaultClass:"ju367v8t"}}},transition:{values:{default:{defaultClass:"ju367v8u"},transform:{defaultClass:"ju367v8v"}}},userSelect:{values:{none:{defaultClass:"ju367v8w"}}},width:{values:{1:{defaultClass:"ju367v8x"},2:{defaultClass:"ju367v8y"},4:{defaultClass:"ju367v8z"},8:{defaultClass:"ju367v90"},12:{defaultClass:"ju367v91"},20:{defaultClass:"ju367v92"},24:{defaultClass:"ju367v93"},28:{defaultClass:"ju367v94"},30:{defaultClass:"ju367v95"},32:{defaultClass:"ju367v96"},34:{defaultClass:"ju367v97"},36:{defaultClass:"ju367v98"},40:{defaultClass:"ju367v99"},44:{defaultClass:"ju367v9a"},48:{defaultClass:"ju367v9b"},54:{defaultClass:"ju367v9c"},60:{defaultClass:"ju367v9d"},200:{defaultClass:"ju367v9e"},full:{defaultClass:"ju367v9f"},max:{defaultClass:"ju367v9g"}}},backdropFilter:{values:{modalOverlay:{defaultClass:"ju367v9h"}}}}}),rj={colors:{accentColor:"var(--rk-colors-accentColor)",accentColorForeground:"var(--rk-colors-accentColorForeground)",actionButtonBorder:"var(--rk-colors-actionButtonBorder)",actionButtonBorderMobile:"var(--rk-colors-actionButtonBorderMobile)",actionButtonSecondaryBackground:"var(--rk-colors-actionButtonSecondaryBackground)",closeButton:"var(--rk-colors-closeButton)",closeButtonBackground:"var(--rk-colors-closeButtonBackground)",connectButtonBackground:"var(--rk-colors-connectButtonBackground)",connectButtonBackgroundError:"var(--rk-colors-connectButtonBackgroundError)",connectButtonInnerBackground:"var(--rk-colors-connectButtonInnerBackground)",connectButtonText:"var(--rk-colors-connectButtonText)",connectButtonTextError:"var(--rk-colors-connectButtonTextError)",connectionIndicator:"var(--rk-colors-connectionIndicator)",downloadBottomCardBackground:"var(--rk-colors-downloadBottomCardBackground)",downloadTopCardBackground:"var(--rk-colors-downloadTopCardBackground)",error:"var(--rk-colors-error)",generalBorder:"var(--rk-colors-generalBorder)",generalBorderDim:"var(--rk-colors-generalBorderDim)",menuItemBackground:"var(--rk-colors-menuItemBackground)",modalBackdrop:"var(--rk-colors-modalBackdrop)",modalBackground:"var(--rk-colors-modalBackground)",modalBorder:"var(--rk-colors-modalBorder)",modalText:"var(--rk-colors-modalText)",modalTextDim:"var(--rk-colors-modalTextDim)",modalTextSecondary:"var(--rk-colors-modalTextSecondary)",profileAction:"var(--rk-colors-profileAction)",profileActionHover:"var(--rk-colors-profileActionHover)",profileForeground:"var(--rk-colors-profileForeground)",selectedOptionBorder:"var(--rk-colors-selectedOptionBorder)",standby:"var(--rk-colors-standby)"},fonts:{body:"var(--rk-fonts-body)"},radii:{actionButton:"var(--rk-radii-actionButton)",connectButton:"var(--rk-radii-connectButton)",menuButton:"var(--rk-radii-menuButton)",modal:"var(--rk-radii-modal)",modalMobile:"var(--rk-radii-modalMobile)"},shadows:{connectButton:"var(--rk-shadows-connectButton)",dialog:"var(--rk-shadows-dialog)",profileDetailsAction:"var(--rk-shadows-profileDetailsAction)",selectedOption:"var(--rk-shadows-selectedOption)",selectedWallet:"var(--rk-shadows-selectedWallet)",walletLogo:"var(--rk-shadows-walletLogo)"},blurs:{modalOverlay:"var(--rk-blurs-modalOverlay)"}},hhe={shrink:"_12cbo8i6",shrinkSm:"_12cbo8i7"},phe="_12cbo8i3 ju367v8r",ghe={grow:"_12cbo8i4",growLg:"_12cbo8i5"};function qr({active:e,hover:t}){return[phe,t&&ghe[t],hhe[e]]}var MK=oe.createContext(null);function mhe(){const{adapter:e}=oe.useContext(MK)??{};if(!e)throw new Error("No authentication adapter found");return e}function oE(){return oe.useContext(MK)?.status??null}function L9(){const e=oE(),{isConnected:t}=bi();return t?e&&(e==="loading"||e==="unauthenticated")?e:"connected":"disconnected"}function LK(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}function bhe(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}function yhe(){return typeof navigator<"u"&&(/iPad/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)}function x1(){return bhe()||yhe()}function Fr(){return LK()||x1()}var whe="iekbcc0",vhe={a:"iekbcca",blockquote:"iekbcc2",button:"iekbcc9",input:"iekbcc8 iekbcc5 iekbcc4",mark:"iekbcc6",ol:"iekbcc1",q:"iekbcc2",select:"iekbcc7 iekbcc5 iekbcc4",table:"iekbcc3",textarea:"iekbcc5 iekbcc4",ul:"iekbcc1"},Ehe=({reset:e,...t})=>{if(!e)return gx(t);const r=vhe[e],n=gx(t);return VG(whe,r,n)},K=z.forwardRef(({as:e="div",className:t,testId:r,...n},i)=>{const s={},o={};for(const c in n)gx.properties.has(c)?s[c]=n[c]:o[c]=n[c];const a=Ehe({reset:typeof e=="string"?e:"div",...s});return z.createElement(e,{className:VG(a,t),...o,"data-testid":r?`rk-${r.replace(/^rk-/,"")}`:void 0,ref:i})});K.displayName="Box";var UK=new Map,j_=new Map;async function qK(e){const t=j_.get(e);if(t)return t;const r=async()=>e().then(async i=>(UK.set(e,i),i)),n=r().catch(i=>r().catch(s=>{j_.delete(e)}));return j_.set(e,n),n}async function pa(...e){return await Promise.all(e.map(t=>typeof t=="function"?qK(t):t))}function _he(){const[,e]=oe.useReducer(t=>t+1,0);return e}function aE(e){const t=typeof e=="function"?UK.get(e):void 0,r=_he();return oe.useEffect(()=>{typeof e=="function"&&!t&&qK(e).then(r)},[e,t,r]),typeof e=="function"?t:e}function _n({alt:e,background:t,borderColor:r,borderRadius:n,useAsImage:i,boxShadow:s,height:o,src:a,width:c,testId:u}){const l=x1(),f=aE(a),d=f&&/^http/.test(f),[h,g]=oe.useReducer(()=>!0,!1);return z.createElement(K,{"aria-label":e,borderRadius:n,boxShadow:s,height:typeof o=="string"?o:void 0,overflow:"hidden",position:"relative",role:"img",style:{background:t,height:typeof o=="number"?o:void 0,width:typeof c=="number"?c:void 0},width:typeof c=="string"?c:void 0,testId:u},z.createElement(K,{...d?{"aria-hidden":!0,as:"img",onLoad:g,src:f}:{"aria-hidden":!0,as:"img",src:f},height:"full",position:"absolute",...l?{WebkitUserSelect:"none"}:{},style:{WebkitTouchCallout:"none",transition:"opacity .15s linear",userSelect:"none",...!i&&d?{opacity:h?1:0}:{}},width:"full"}),r?z.createElement(K,{...typeof r=="object"&&"custom"in r?{style:{borderColor:r.custom}}:{borderColor:r},borderRadius:n,borderStyle:"solid",borderWidth:"1",height:"full",position:"relative",width:"full"}):null)}var Che="_1luule42",Ahe="_1luule43",xhe=e=>oe.useMemo(()=>`${e}_${Math.round(Math.random()*1e9)}`,[e]),Rm=({height:e=21,width:t=21})=>{const r=xhe("spinner");return z.createElement("svg",{className:Che,fill:"none",height:e,viewBox:"0 0 21 21",width:t,xmlns:"http://www.w3.org/2000/svg"},z.createElement("title",null,"Loading"),z.createElement("clipPath",{id:r},z.createElement("path",{d:"M10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18C11.3284 18 12 18.6716 12 19.5C12 20.3284 11.3284 21 10.5 21C4.70101 21 0 16.299 0 10.5C0 4.70101 4.70101 0 10.5 0C16.299 0 21 4.70101 21 10.5C21 11.3284 20.3284 12 19.5 12C18.6716 12 18 11.3284 18 10.5C18 6.35786 14.6421 3 10.5 3Z"})),z.createElement("foreignObject",{clipPath:`url(#${r})`,height:"21",width:"21",x:"0",y:"0"},z.createElement("div",{className:Ahe})))},at=["#FC5C54","#FFD95A","#E95D72","#6A87C8","#5FD0F3","#75C06B","#FFDD86","#5FC6D4","#FF949A","#FF8024","#9BA1A4","#EC66FF","#FF8CBC","#FF9A23","#C5DADB","#A8CE63","#71ABFF","#FFE279","#B6B1B6","#FF6780","#A575FF","#4D82FF","#FFB35A"],nj=[{color:at[0],emoji:"\uD83C\uDF36"},{color:at[1],emoji:"\uD83E\uDD11"},{color:at[2],emoji:"\uD83D\uDC19"},{color:at[3],emoji:"\uD83E\uDED0"},{color:at[4],emoji:"\uD83D\uDC33"},{color:at[0],emoji:"\uD83E\uDD36"},{color:at[5],emoji:"\uD83C\uDF32"},{color:at[6],emoji:"\uD83C\uDF1E"},{color:at[7],emoji:"\uD83D\uDC12"},{color:at[8],emoji:"\uD83D\uDC35"},{color:at[9],emoji:"\uD83E\uDD8A"},{color:at[10],emoji:"\uD83D\uDC3C"},{color:at[11],emoji:"\uD83E\uDD84"},{color:at[12],emoji:"\uD83D\uDC37"},{color:at[13],emoji:"\uD83D\uDC27"},{color:at[8],emoji:"\uD83E\uDDA9"},{color:at[14],emoji:"\uD83D\uDC7D"},{color:at[0],emoji:"\uD83C\uDF88"},{color:at[8],emoji:"\uD83C\uDF49"},{color:at[1],emoji:"\uD83C\uDF89"},{color:at[15],emoji:"\uD83D\uDC32"},{color:at[16],emoji:"\uD83C\uDF0E"},{color:at[17],emoji:"\uD83C\uDF4A"},{color:at[18],emoji:"\uD83D\uDC2D"},{color:at[19],emoji:"\uD83C\uDF63"},{color:at[1],emoji:"\uD83D\uDC25"},{color:at[20],emoji:"\uD83D\uDC7E"},{color:at[15],emoji:"\uD83E\uDD66"},{color:at[0],emoji:"\uD83D\uDC79"},{color:at[17],emoji:"\uD83D\uDE40"},{color:at[4],emoji:""},{color:at[21],emoji:""},{color:at[17],emoji:"\uD83E\uDD73"},{color:at[8],emoji:"\uD83E\uDD2F"},{color:at[22],emoji:"\uD83E\uDD20"}];function Ihe(e){let t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t=(t<<5)-t+n,t|=0}return t}function Phe(e){const r=Math.abs(Ihe((typeof e=="string"?e:"").toLowerCase())%nj.length);return nj[r??0]}var She=({address:e,ensImage:t,size:r})=>{const[n,i]=oe.useState(!1);oe.useEffect(()=>{if(t){const a=new Image;a.src=t,a.onload=()=>i(!0)}},[t]);const{color:s,emoji:o}=oe.useMemo(()=>Phe(e),[e]);return t?n?z.createElement(K,{backgroundSize:"cover",borderRadius:"full",position:"absolute",style:{backgroundImage:`url(${t})`,backgroundPosition:"center",height:r,width:r}}):z.createElement(K,{alignItems:"center",backgroundSize:"cover",borderRadius:"full",color:"modalText",display:"flex",justifyContent:"center",position:"absolute",style:{height:r,width:r}},z.createElement(Rm,null)):z.createElement(K,{alignItems:"center",display:"flex",justifyContent:"center",overflow:"hidden",style:{...!t&&{backgroundColor:s},height:r,width:r}},o)},zK=She,FK=oe.createContext(zK);function HK({address:e,imageUrl:t,loading:r,size:n}){const i=oe.useContext(FK);return z.createElement(K,{"aria-hidden":!0,borderRadius:"full",overflow:"hidden",position:"relative",style:{height:`${n}px`,width:`${n}px`},userSelect:"none"},z.createElement(K,{alignItems:"center",borderRadius:"full",display:"flex",justifyContent:"center",overflow:"hidden",position:"absolute",style:{fontSize:`${Math.round(n*.55)}px`,height:`${n}px`,transform:r?"scale(0.72)":void 0,transition:".25s ease",transitionDelay:r?void 0:".1s",width:`${n}px`,willChange:"transform"},userSelect:"none"},z.createElement(i,{address:e,ensImage:t,size:n})),r&&z.createElement(K,{color:"accentColor",display:"flex",height:"full",position:"absolute",width:"full"},z.createElement(Rm,{height:"100%",width:"100%"})))}var ij=()=>z.createElement("svg",{fill:"none",height:"7",width:"14",xmlns:"http://www.w3.org/2000/svg"},z.createElement("title",null,"Dropdown"),z.createElement("path",{d:"M12.75 1.54001L8.51647 5.0038C7.77974 5.60658 6.72026 5.60658 5.98352 5.0038L1.75 1.54001",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",xmlns:"http://www.w3.org/2000/svg"})),sj={defaultLocale:"en",locale:"en"},The=class{constructor(e){this.listeners=new Set,this.defaultLocale=sj.defaultLocale,this.enableFallback=!1,this.locale=sj.locale,this.cachedLocales=[],this.translations={};for(const[t,r]of Object.entries(e))this.cachedLocales=[...this.cachedLocales,t],this.translations={...this.translations,...this.flattenTranslation(r,t)}}missingMessage(e){return`[missing: "${this.locale}.${e}" translation]`}flattenTranslation(e,t){const r={},n=(i,s)=>{for(const o of Object.keys(i)){const a=`${s}.${o}`,c=i[o];typeof c=="object"&&c!==null?n(c,a):r[a]=c}};return n(e,t),r}translateWithReplacements(e,t={}){let r=e;for(const n in t){const i=t[n];r=r.replace(`%{${n}}`,i)}return r}t(e,t,r){const n=`${this.locale}.${e}`,i=this.translations[n];if(!i){if(this.enableFallback){const s=`${this.defaultLocale}.${e}`,o=this.translations[s];if(o)return this.translateWithReplacements(o,t)}return r?.rawKeyIfTranslationMissing?e:this.missingMessage(e)}return this.translateWithReplacements(i,t)}isLocaleCached(e){return this.cachedLocales.includes(e)}updateLocale(e){this.locale=e,this.notifyListeners()}setTranslations(e,t){this.isLocaleCached(e)||(this.cachedLocales=[...this.cachedLocales,e],this.translations={...this.translations,...this.flattenTranslation(t,e)}),this.locale=e,this.notifyListeners()}notifyListeners(){for(const e of this.listeners)e()}onChange(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}},Hs=new The({en:JSON.parse(CT),"en-US":JSON.parse(CT)});Hs.defaultLocale="en-US";Hs.locale="en-US";Hs.enableFallback=!0;var Ohe=async e=>{switch(e){case"ar":case"ar-AR":return(await re(async()=>{const{default:t}=await import("./ar_AR-44JUQ6EW-BMX-am0v.js");return{default:t}},[])).default;case"de":case"de-DE":return(await re(async()=>{const{default:t}=await import("./de_DE-PYAO5YD6-BWlqPWgO.js");return{default:t}},[])).default;case"en":case"en-US":return(await re(async()=>{const{default:t}=await import("./index-C0o56x1F.js").then(r=>r.e);return{default:t}},__vite__mapDeps([11,1,2,3,4,5,6,12]))).default;case"es":case"es-419":return(await re(async()=>{const{default:t}=await import("./es_419-HRGOJ6VT-D-qzxUM-.js");return{default:t}},[])).default;case"fr":case"fr-FR":return(await re(async()=>{const{default:t}=await import("./fr_FR-IGGVC6RM-D8LpUM75.js");return{default:t}},[])).default;case"hi":case"hi-IN":return(await re(async()=>{const{default:t}=await import("./hi_IN-XSKAA3MF-C3QUpWyP.js");return{default:t}},[])).default;case"id":case"id-ID":return(await re(async()=>{const{default:t}=await import("./id_ID-KUOB4UAL-K9y-nRWm.js");return{default:t}},[])).default;case"ja":case"ja-JP":return(await re(async()=>{const{default:t}=await import("./ja_JP-4WRQ63RX-Ct5pF4ug.js");return{default:t}},[])).default;case"ko":case"ko-KR":return(await re(async()=>{const{default:t}=await import("./ko_KR-I2K7AIEP-B5gw8Mwb.js");return{default:t}},[])).default;case"ms":case"ms-MY":return(await re(async()=>{const{default:t}=await import("./ms_MY-6VZW6Q3Z-BtFD07hR.js");return{default:t}},[])).default;case"pt":case"pt-BR":return(await re(async()=>{const{default:t}=await import("./pt_BR-N3XOZ4SV-CvVpfsHb.js");return{default:t}},[])).default;case"ru":case"ru-RU":return(await re(async()=>{const{default:t}=await import("./ru_RU-IITAPRET-DOj6Jzj7.js");return{default:t}},[])).default;case"th":case"th-TH":return(await re(async()=>{const{default:t}=await import("./th_TH-3ZQCKCQE-BcHUN2Q4.js");return{default:t}},[])).default;case"tr":case"tr-TR":return(await re(async()=>{const{default:t}=await import("./tr_TR-QUPUGMUF-CwpF6ZFn.js");return{default:t}},[])).default;case"ua":case"uk-UA":return(await re(async()=>{const{default:t}=await import("./uk_UA-SSN6SV5E-IlYYyRC6.js");return{default:t}},[])).default;case"vi":case"vi-VN":return(await re(async()=>{const{default:t}=await import("./vi_VN-7BUVRNYY-CZ9S75qZ.js");return{default:t}},[])).default;case"zh":case"zh-CN":case"zh-Hans":return(await re(async()=>{const{default:t}=await import("./zh_CN-HJBN674C-Baf0GEeT.js");return{default:t}},[])).default;case"zh-HK":return(await re(async()=>{const{default:t}=await import("./zh_HK-JW3WLRKE-VztJKXL5.js");return{default:t}},[])).default;case"zh-Hant":case"zh-TW":return(await re(async()=>{const{default:t}=await import("./zh_TW-VNNRNXY7-aWfg7Qp4.js");return{default:t}},[])).default;default:return(await re(async()=>{const{default:t}=await import("./index-C0o56x1F.js").then(r=>r.e);return{default:t}},__vite__mapDeps([11,1,2,3,4,5,6,12]))).default}};async function oj(e){if(Hs.isLocaleCached(e)){Hs.updateLocale(e);return}const r=await Ohe(e);Hs.setTranslations(e,JSON.parse(r))}var jhe=()=>{if(typeof window<"u"&&typeof navigator<"u"){if(navigator.languages?.length)return navigator.languages[0];if(navigator.language)return navigator.language}},Hr=oe.createContext({i18n:Hs}),Bhe=({children:e,locale:t})=>{const[r,n]=oe.useState(0),i=oe.useMemo(()=>jhe(),[]);oe.useEffect(()=>Hs.onChange(()=>{n(a=>a+1)}),[]),oe.useEffect(()=>{t&&t!==Hs.locale?oj(t):!t&&i&&i!==Hs.locale&&oj(i)},[t,i]);const s=oe.useMemo(()=>({t:(a,c)=>Hs.t(a,c),i18n:Hs}),[r]);return z.createElement(Hr.Provider,{value:s},e)};function WK(e){return e!=null}var aj={iconBackground:"#7290CC",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./apechain-SX5YFU6N-q5qBv-mp.js");return{default:e}},[])).default},B_={iconBackground:"#96bedc",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./arbitrum-WURIBY6W-CqVkHBr5.js");return{default:e}},[])).default},cj={iconBackground:"#e84141",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./avalanche-KOMJD3XY-Dsn_JPR4.js");return{default:e}},[])).default},R_={iconBackground:"#0052ff",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./base-OAXLRA4F-CoYTVIiL.js");return{default:e}},[])).default},k_={iconBackground:"#814625",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./berachain-NJECWIVC-DumxnFvf.js");return{default:e}},[])).default},uj={iconBackground:"#000000",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./blast-V555OVXZ-BbhJh1tj.js");return{default:e}},[])).default},lj={iconBackground:"#ebac0e",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./bsc-N647EYR2-B2nLKXWV.js");return{default:e}},[])).default},dj={iconBackground:"#FCFF52",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./celo-GEP4TUHG-CenIBYLU.js");return{default:e}},[])).default},fj={iconBackground:"#002D74",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./cronos-HJPAQTAE-BEOvlOC4.js");return{default:e}},[])).default},Rhe={iconBackground:"#A36EFD",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./degen-FQQ4XGHB-CeHTs88l.js");return{default:e}},[])).default},Lc={iconBackground:"#484c50",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./ethereum-RGGVA4PY-SWGOlkuk.js");return{default:e}},[])).default},hj={iconBackground:"transparent",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./flow-5FQJFCTK-CUie2reO.js");return{default:e}},[])).default},khe={iconBackground:"#04795c",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./gnosis-37ZC4RBL-B137OtHZ.js");return{default:e}},[])).default},pj={iconBackground:"#000000",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./gravity-J5YQHTYH-Bj6B0uod.js");return{default:e}},[])).default},Nhe={iconBackground:"#f9f7ec",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./hardhat-TX56IT5N-CV1FY-wE.js");return{default:e}},[])).default},Dhe={iconBackground:"#000000",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./hyperevm-VKPAA4SA-CHwraEsx.js");return{default:e}},[])).default},gj={iconBackground:"#7132F5",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./ink-FZMYZWHG-62p-5IK5.js");return{default:e}},[])).default},mj={iconBackground:"transparent",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./kaia-65D2U3PU-JmuLQ4gC.js");return{default:e}},[])).default},N_={iconBackground:"#ffffff",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./linea-QRMVQ5DY-DuI3vv0d.js");return{default:e}},[])).default},D_={iconBackground:"#ffffff",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./manta-SI27YFEJ-CpVOKa06.js");return{default:e}},[])).default},bj={iconBackground:"#000000",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./mantle-CKIUT334-DR2WgqzU.js");return{default:e}},[])).default},$he={iconBackground:"transparent",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./monad-4KWC6TSS-DVXSkpiz.js");return{default:e}},[])).default},Xb={iconBackground:"#ff5a57",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./optimism-HAF2GUT7-ec6Nqxs9.js");return{default:e}},[])).default},$_={iconBackground:"#9f71ec",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./polygon-WW6ZI7PM-DXlmm4L1.js");return{default:e}},[])).default},Mhe={iconBackground:"#1273EA",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./ronin-EMCPYXZT-N-QBHZdV.js");return{default:e}},[])).default},Lhe={iconBackground:"#000000",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./sanko-RHQYXGM5-OX010CbN.js");return{default:e}},[])).default},Uhe={iconBackground:"#000000",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./superposition-HG6MMR2Y-bRkgatRO.js");return{default:e}},[])).default},yj={iconBackground:"#FFEEDA",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./scroll-5OBGQVOV-DJFECiai.js");return{default:e}},[])).default},wj={iconBackground:"#F50DB4",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./unichain-C5BWO2ZY-BfguYsnu.js");return{default:e}},[])).default},vj={iconBackground:"#f9f7ec",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./xdc-KJ3TDBYO-DNV6zchh.js");return{default:e}},[])).default},Ej={iconBackground:"#000000",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./zetachain-TLDS5IPW-Udhyw16T.js");return{default:e}},[])).default},_j={iconBackground:"#f9f7ec",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./zksync-DH7HK5U4-Dt4usFw6.js");return{default:e}},[])).default},M_={iconBackground:"#000000",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./zora-FYL5H3IO-iB4wygST.js");return{default:e}},[])).default},qhe={apechain:{chainId:33139,name:"ApeChain",...aj},apechainCurtis:{chainId:33111,name:"ApeChain Curtis",...aj},arbitrum:{chainId:42161,name:"Arbitrum",...B_},arbitrumGoerli:{chainId:421613,...B_},arbitrumSepolia:{chainId:421614,...B_},avalanche:{chainId:43114,...cj},avalancheFuji:{chainId:43113,...cj},base:{chainId:8453,name:"Base",...R_},baseGoerli:{chainId:84531,...R_},baseSepolia:{chainId:84532,...R_},berachain:{chainId:80094,name:"Berachain",...k_},berachainArtio:{chainId:80085,name:"Berachain Artio",...k_},berachainBArtio:{chainId:80084,name:"Berachain bArtio",...k_},blast:{chainId:81457,name:"Blast",...uj},blastSepolia:{chainId:0xa0c71fd,...uj},bsc:{chainId:56,name:"BSC",...lj},bscTestnet:{chainId:97,...lj},celo:{chainId:42220,name:"Celo",...dj},celoAlfajores:{chainId:44787,name:"Celo Alfajores",...dj},cronos:{chainId:25,...fj},cronosTestnet:{chainId:338,...fj},degen:{chainId:0x27bc86aa,name:"Degen",...Rhe},flow:{chainId:747,...hj},flowTestnet:{chainId:545,...hj},gnosis:{chainId:100,name:"Gnosis",...khe},goerli:{chainId:5,...Lc},gravity:{chainId:1625,name:"Gravity",...pj},gravitySepolia:{chainId:13505,name:"Gravity Sepolia",...pj},hardhat:{chainId:31337,...Nhe},holesky:{chainId:17e3,...Lc},hyperevm:{chainId:999,...Dhe},ink:{chainId:57073,...gj},inkSepolia:{chainId:763373,...gj},kaia:{chainId:8217,name:"Kaia",...mj},kairos:{chainId:1001,name:"Kairos",...mj},kovan:{chainId:42,...Lc},linea:{chainId:59144,name:"Linea",...N_},lineaGoerli:{chainId:59140,name:"Linea Goerli",...N_},lineaSepolia:{chainId:59141,name:"Linea Sepolia",...N_},localhost:{chainId:1337,...Lc},mainnet:{chainId:1,name:"Ethereum",...Lc},manta:{chainId:169,name:"Manta",...D_},mantaSepolia:{chainId:3441006,...D_},mantaTestnet:{chainId:3441005,...D_},mantle:{chainId:5e3,...bj},mantleTestnet:{chainId:5001,...bj},monadTestnet:{chainId:10143,name:"Monad Testnet",...$he},optimism:{chainId:10,name:"Optimism",...Xb},optimismGoerli:{chainId:420,...Xb},optimismKovan:{chainId:69,...Xb},optimismSepolia:{chainId:0xaa37dc,...Xb},polygon:{chainId:137,name:"Polygon",...$_},polygonAmoy:{chainId:80002,...$_},polygonMumbai:{chainId:80001,...$_},rinkeby:{chainId:4,...Lc},ronin:{chainId:2020,...Mhe},ropsten:{chainId:3,...Lc},sanko:{chainId:1996,name:"Sanko",...Lhe},scroll:{chainId:534352,...yj},scrollSepolia:{chainId:534351,...yj},sepolia:{chainId:0xaa36a7,...Lc},superposition:{chainId:55244,name:"Superposition",...Uhe},unichain:{chainId:130,...wj},unichainSepolia:{chainId:1301,...wj},xdc:{chainId:50,name:"XDC",...vj},xdcTestnet:{chainId:51,...vj},zetachain:{chainId:7e3,name:"ZetaChain",...Ej},zetachainAthensTestnet:{chainId:7001,name:"Zeta Athens",...Ej},zkSync:{chainId:324,name:"zkSync",..._j},zkSyncTestnet:{chainId:280,..._j},zora:{chainId:7777777,name:"Zora",...M_},zoraSepolia:{chainId:0x3b9ac9ff,...M_},zoraTestnet:{chainId:999,...M_}},zhe=Object.fromEntries(Object.values(qhe).filter(WK).map(({chainId:e,...t})=>[e,t])),Fhe=e=>e.map(t=>{const r=zhe[t.id]??{};return{...t,name:r.name??t.name,iconUrl:t.iconUrl??r.iconUrl,iconBackground:t.iconBackground??r.iconBackground}}),U9=oe.createContext({chains:[]});function Hhe({children:e,initialChain:t}){const{chains:r}=en();return z.createElement(U9.Provider,{value:oe.useMemo(()=>({chains:Fhe(r),initialChainId:typeof t=="number"?t:t?.id}),[r,t])},e)}var Hd=()=>oe.useContext(U9).chains,Whe=()=>oe.useContext(U9).initialChainId,Vhe=()=>{const e=Hd();return oe.useMemo(()=>{const t={};for(const r of e)t[r.id]=r;return t},[e])},VK=oe.createContext({showBalance:void 0,setShowBalance:()=>{}});function Ghe({children:e}){const[t,r]=oe.useState();return z.createElement(VK.Provider,{value:{showBalance:t,setShowBalance:r}},e)}var GK=()=>oe.useContext(VK);function Khe(){const[e,t]=oe.useState(!1);return oe.useEffect(()=>(t(!0),()=>{t(!1)}),[]),oe.useCallback(()=>e,[e])}function KK(){const e=Hd(),t=Bm.id;return e.some(n=>n.id===t)}function Zhe(e){const t=KK(),r=i=>{try{return Sfe(i)}catch{}},{data:n}=fde({chainId:Bm.id,name:e?r(e):void 0,query:{enabled:t}});return n}async function sl(e,t){if(t={headers:{},method:"get",...t,timeout:t.timeout??1e4},!e)throw new Error("rainbowFetch: Missing url argument");const r=new AbortController,n=setTimeout(()=>r.abort(),t.timeout),{body:i,params:s,headers:o,...a}=t,c=i&&typeof i=="object"?JSON.stringify(t.body):t.body,u=await fetch(`${e}${Qhe(s)}`,{...a,body:c,headers:{Accept:"application/json","Content-Type":"application/json",...o},signal:r.signal});clearTimeout(n);const l=await Yhe(u);if(u.ok){const{headers:h,status:g}=u;return{data:l,headers:h,status:g}}throw Jhe({requestBody:i,response:u,responseBody:typeof l=="string"?{error:l}:l})}function Yhe(e){return e.headers.get("Content-Type")?.startsWith("application/json")?e.json():e.text()}function Qhe(e){return e&&Object.keys(e).length?`?${new URLSearchParams(e)}`:""}function Jhe({requestBody:e,response:t,responseBody:r}){const n=r?.error||t?.statusText||"There was an error with the request.",i=new Error(n);return i.response=t,i.responseBody=r,i.requestBody=e,i}var Xhe=class{constructor(e={}){const{baseUrl:t="",...r}=e;this.baseUrl=t,this.opts=r}get(e,t){return sl(`${this.baseUrl}${e}`,{...this.opts,...t||{},method:"get"})}delete(e,t){return sl(`${this.baseUrl}${e}`,{...this.opts,...t||{},method:"delete"})}head(e,t){return sl(`${this.baseUrl}${e}`,{...this.opts,...t||{},method:"head"})}options(e,t){return sl(`${this.baseUrl}${e}`,{...this.opts,...t||{},method:"options"})}post(e,t,r){return sl(`${this.baseUrl}${e}`,{...this.opts,...r||{},body:t,method:"post"})}put(e,t,r){return sl(`${this.baseUrl}${e}`,{...this.opts,...r||{},body:t,method:"put"})}patch(e,t,r){return sl(`${this.baseUrl}${e}`,{...this.opts,...r||{},body:t,method:"patch"})}};function epe({baseUrl:e,headers:t,params:r,timeout:n}){return new Xhe({baseUrl:e,headers:t,params:r,timeout:n})}var tpe=!!(typeof Ur<"u"&&typeof T5<"u"&&T5.RAINBOW_PROVIDER_API_KEY),rpe=epe({baseUrl:"https://enhanced-provider.rainbow.me",headers:{"x-api-key":typeof Ur<"u"&&typeof T5<"u"&&T5.RAINBOW_PROVIDER_API_KEY||"LzbasoBiLqltex3VkcQ7LRmL4PtfiiZ1EMJrizrgfonWN6byJReu/l6yrUoo3zLW"}});function npe(e,t,r={}){return[e,t,r]}function Q6(e){return`rk-ens-name-${e}`}function ipe(e){try{const t=e?JSON.parse(e):null;return typeof t=="object"?t:null}catch{return null}}function spe(e,t){if(!kr(e))return;const r=new Date,n=new Date(r.getTime()+180*6e4);localStorage.setItem(Q6(e),JSON.stringify({ensName:t,expires:n.getTime()}))}function ope(e){const t=ipe(localStorage.getItem(Q6(e)));if(!t)return null;const{ensName:r,expires:n}=t;return typeof r!="string"||Number.isNaN(Number(n))||new Date().getTime()>Number(n)?(localStorage.removeItem(Q6(e)),null):r}async function ape({address:e}){const t=ope(e);if(t)return t;const n=(await rpe.get("/v1/resolve-ens",{params:{address:e}})).data.data;return n&&spe(e,n),n}function cpe(e){const t=KK(),{data:r}=hde({chainId:Bm.id,address:e,query:{enabled:t}}),{data:n}=oW({queryKey:npe("address",e),queryFn:()=>ape({address:e}),enabled:!t&&!!e&&tpe,staleTime:10*(60*1e3),retry:1});return r||n}function ZK({address:e,includeBalance:t}){const r=cpe(e),n=Zhe(r),{data:i}=HG({address:t?e:void 0});return{ensName:r,ensAvatar:n,balance:i}}function q9(){const{chain:e}=bi();return e?.id??null}var YK="rk-transactions";function upe(e){try{const t=e?JSON.parse(e):{};return typeof t=="object"?t:{}}catch{return{}}}function Cj(){return upe(typeof localStorage<"u"?localStorage.getItem(YK):null)}var lpe=/^0x([A-Fa-f0-9]{64})$/;function dpe(e){const t=[];return lpe.test(e.hash)||t.push("Invalid transaction hash"),typeof e.description!="string"&&t.push("Transaction must have a description"),typeof e.confirmations<"u"&&(!Number.isInteger(e.confirmations)||e.confirmations<1)&&t.push("Transaction confirmations must be a positiver integer"),t}function fpe({provider:e}){let t=Cj(),r=e;const n=new Set,i=new Set,s=new Map;function o(y){r=y}function a(y,v){return t[y]?.[v]??[]}function c(y,v,m){const C=dpe(m);if(C.length>0)throw new Error(["Unable to add transaction",...C].join(`
`));d(y,v,E=>[{...m,status:"pending"},...E.filter(({hash:_})=>_!==m.hash)])}function u(y,v){d(y,v,()=>[])}function l(y,v,m,C){d(y,v,E=>E.map(_=>_.hash===m?{..._,status:C}:_))}async function f(y,v){await Promise.all(a(y,v).filter(m=>m.status==="pending").map(async m=>{const{confirmations:C,hash:E}=m,_=s.get(E);if(_)return await _;const P=r.waitForTransactionReceipt({confirmations:C,hash:E,timeout:3e5}).then(({status:x})=>{s.delete(E),x!==void 0&&(l(y,v,E,x===0||x==="reverted"?"failed":"confirmed"),p(x))}).catch(()=>{l(y,v,E,"failed")});return s.set(E,P),await P}))}function d(y,v,m){t=Cj(),t[y]=t[y]??{};let C=0;const E=10,_=m(t[y][v]??[]).filter(({status:P})=>P==="pending"?!0:C++<=E);t[y][v]=_.length>0?_:void 0,h(),g(),f(y,v)}function h(){localStorage.setItem(YK,JSON.stringify(t))}function g(){for(const y of n)y()}function p(y){for(const v of i)v(y)}function b(y){return n.add(y),()=>{n.delete(y)}}function w(y){return i.add(y),()=>{i.delete(y)}}return{addTransaction:c,clearTransactions:u,getTransactions:a,onTransactionStatus:w,onChange:b,setProvider:o,waitForPendingTransactions:f}}var Aj,QK=z.createContext(null);function hpe({children:e}){const t=pde(),{address:r}=bi(),n=q9(),{refetch:i}=HG({address:r,query:{enabled:!1}}),[s]=z.useState(()=>Aj??(Aj=fpe({provider:t}))),o=z.useCallback(a=>{a==="success"&&i()},[i]);return z.useEffect(()=>{s.setProvider(t)},[s,t]),z.useEffect(()=>{r&&n&&s.waitForPendingTransactions(r,n)},[s,r,n]),z.useEffect(()=>{if(s&&r&&n)return s.onTransactionStatus(o)},[s,r,n,o]),z.createElement(QK.Provider,{value:s},e)}function JK(){const e=z.useContext(QK);if(!e)throw new Error("Transaction hooks must be used within RainbowKitProvider");return e}function XK(){const e=JK(),{address:t}=bi(),r=q9(),[n,i]=oe.useState(()=>e&&t&&r?e.getTransactions(t,r):[]);return oe.useEffect(()=>{if(e&&t&&r)return i(e.getTransactions(t,r)),e.onChange(()=>{i(e.getTransactions(t,r))})},[e,t,r]),n}var xj=e=>typeof e=="function"?e():e;function ppe(e,{extends:t}={}){const r={...HO(rj,xj(e))};if(!t)return r;const n=HO(rj,xj(t));return Object.fromEntries(Object.entries(r).filter(([s,o])=>o!==n[s]))}function Ij(e,t={}){return Object.entries(ppe(e,t)).map(([r,n])=>`${r}:${n.replace(/[:;{}</>]/g,"")};`).join("")}var eZ={appName:void 0,disclaimer:void 0,learnMoreUrl:"https://learn.rainbow.me/understanding-web3?utm_source=rainbowkit&utm_campaign=learnmore"},I1=oe.createContext(eZ),tZ=oe.createContext(!1);function gpe(e,t){let r;return()=>{r&&clearTimeout(r),r=setTimeout(()=>{r=null,e()},t)}}var rZ=()=>{const[e,t]=oe.useState({height:void 0,width:void 0});return oe.useEffect(()=>{const r=gpe(()=>{t({height:window.innerHeight,width:window.innerWidth})},500);return window.addEventListener("resize",r),r(),()=>window.removeEventListener("resize",r)},[]),e},P1=oe.createContext({connector:null,setConnector:()=>{}});function mpe({children:e}){const[t,r]=oe.useState(null);return z.createElement(P1.Provider,{value:oe.useMemo(()=>({connector:t,setConnector:r}),[t])},e)}var S1={COMPACT:"compact",WIDE:"wide"},cE=oe.createContext(S1.WIDE);function bpe({children:e,modalSize:t}){const{width:r}=rZ(),n=r&&r<fhe,{connector:i}=oe.useContext(P1);return z.createElement(cE.Provider,{value:n||i?S1.COMPACT:t},e)}var z9=oe.createContext(!1),ype="rk-version";function wpe({version:e}){localStorage.setItem(ype,e)}function vpe(){const e=oe.useCallback(()=>{wpe({version:"2.2.10"})},[]);oe.useEffect(()=>{e()},[e])}function Epe(e,t){const r={};for(const n of e){const i=t(n);i&&(r[i]=n)}return r}function F9(){return typeof navigator<"u"&&typeof navigator.userAgent<"u"&&/Version\/([0-9._]+).*Safari/.test(navigator.userAgent)}function _pe(){return typeof document<"u"&&getComputedStyle(document.body).getPropertyValue("--arc-palette-focus")!==""}function H9(){if(typeof navigator>"u")return"Browser";const e=navigator.userAgent?.toLowerCase();return navigator.brave?.isBrave?"Brave":e?.indexOf("edg/")>-1?"Edge":e?.indexOf("op")>-1?"Opera":_pe()?"Arc":e?.indexOf("chrome")>-1?"Chrome":e?.indexOf("firefox")>-1?"Firefox":F9()?"Safari":"Browser"}var Cpe=Ufe.UAParser(),{os:W9}=Cpe;function Ape(){return W9.name==="Windows"}function xpe(){return W9.name==="Mac OS"}function Ipe(){return["Ubuntu","Mint","Fedora","Debian","Arch","Linux"].includes(W9.name)}function V9(){return Ape()?"Windows":xpe()?"macOS":Ipe()?"Linux":"Desktop"}var Ppe=e=>{const t=H9();return{Arc:e?.downloadUrls?.chrome,Brave:e?.downloadUrls?.chrome,Chrome:e?.downloadUrls?.chrome,Edge:e?.downloadUrls?.edge||e?.downloadUrls?.chrome,Firefox:e?.downloadUrls?.firefox,Opera:e?.downloadUrls?.opera||e?.downloadUrls?.chrome,Safari:e?.downloadUrls?.safari,Browser:e?.downloadUrls?.browserExtension}[t]??e?.downloadUrls?.browserExtension},Spe=e=>(x1()?e?.downloadUrls?.ios:e?.downloadUrls?.android)??e?.downloadUrls?.mobile,Tpe=e=>{const t=V9();return{Windows:e?.downloadUrls?.windows,macOS:e?.downloadUrls?.macos,Linux:e?.downloadUrls?.linux,Desktop:e?.downloadUrls?.desktop}[t]??e?.downloadUrls?.desktop},nZ=(e,t)=>e.some(r=>r.id===t),Ope=e=>!!e.isRainbowKitConnector,Pj=e=>!!(!e.isRainbowKitConnector&&e.icon?.replace(/\n/g,"").startsWith("data:image")&&e.uid&&e.name),jpe=(e,t)=>e.id==="walletConnect"&&t?{...e,walletConnectModalConnector:t}:e,Bpe=({wallets:e,recentWallets:t})=>[...t,...e.filter(r=>!nZ(t,r.id))],iZ="rk-recent";function Rpe(e){try{const t=e?JSON.parse(e):[];return Array.isArray(t)?t:[]}catch{return[]}}function sZ(){return typeof localStorage<"u"?Rpe(localStorage.getItem(iZ)):[]}function kpe(e){return[...new Set(e)]}function Npe(e){const t=kpe([e,...sZ()]);localStorage.setItem(iZ,JSON.stringify(t))}function km(e=!1){const t=Hd(),r=Whe(),{connectAsync:n,connectors:i}=lde(),s=i,{setIsWalletConnectModalOpen:o}=OZ(),a=s.map(m=>({...m,...m.rkDetails||{}}));async function c(m,C){const E=await m.getChainId(),_=await n({...C,chainId:C?.chainId??r??t.find(({id:P})=>P===E)?.id??t[0]?.id,connector:m});return _&&Npe(m.id),_}async function u(m){try{o(!0),await c(m),o(!1)}catch(C){const E=C.name==="UserRejectedRequestError"||C.message==="Connection request reset. Please try again.";if(o(!1),!E)throw C}}const l=async(m,C)=>{const E=await m.getProvider();return m.id==="coinbase"?E.qrUrl:new Promise(_=>E.once("display_uri",P=>{_(C(P))}))},f=a.find(m=>m.id==="walletConnect"&&m.isWalletConnectModalConnector),d=a.filter(Pj).map(m=>({...m,groupIndex:0})),h=a.filter(Ope).filter(m=>!m.isWalletConnectModalConnector).filter(m=>e?!d.some(E=>E.id===m.rdns):!0).map(m=>jpe(m,f)),g=[...d,...h],p=Epe(g,m=>m.id),w=sZ().map(m=>p[m]).filter(Boolean).slice(0,3),y=[],v=Bpe({wallets:g,recentWallets:w});for(const m of v){if(!m)continue;const C=Pj(m),E=nZ(w,m.id);if(C){y.push({...m,iconUrl:m.icon,ready:!0,connect:c.bind(null,m),groupName:"Installed",recent:E});continue}y.push({...m,ready:m.installed??!0,connect:c.bind(null,m),desktopDownloadUrl:Tpe(m),extensionDownloadUrl:Ppe(m),groupName:m.groupName,mobileDownloadUrl:Spe(m),getQrCodeUri:m.qrCode?.getUri?()=>l(m,m.qrCode.getUri):void 0,getDesktopUri:m.desktop?.getUri?()=>l(m,m.desktop.getUri):void 0,getMobileUri:m.mobile?.getUri?()=>l(m,m.mobile?.getUri):void 0,recent:E,showWalletConnectModal:m.walletConnectModalConnector?()=>u(m.walletConnectModalConnector):void 0})}return y}var oZ=async()=>(await re(async()=>{const{default:e}=await import("./assets-Q6ZU7ZJ5-P8HioiAD.js");return{default:e}},[])).default,Dpe=()=>pa(oZ),$pe=()=>z.createElement(_n,{background:"#d0d5de",borderRadius:"10",height:"48",src:oZ,width:"48"}),aZ=async()=>(await re(async()=>{const{default:e}=await import("./login-UP3DZBGS-Db_wM5oQ.js");return{default:e}},[])).default,Mpe=()=>pa(aZ),Lpe=()=>z.createElement(_n,{background:"#d0d5de",borderRadius:"10",height:"48",src:aZ,width:"48"}),De=z.forwardRef(({as:e="div",children:t,className:r,color:n,display:i,font:s="body",id:o,size:a="16",style:c,tabIndex:u,textAlign:l="inherit",weight:f="regular",testId:d},h)=>z.createElement(K,{as:e,className:r,color:n,display:i,fontFamily:s,fontSize:a,fontWeight:f,id:o,ref:h,style:c,tabIndex:u,textAlign:l,testId:d},t));De.displayName="Text";var Upe={large:{fontSize:"16",paddingX:"24",paddingY:"10"},medium:{fontSize:"14",height:"28",paddingX:"12",paddingY:"4"},small:{fontSize:"14",paddingX:"10",paddingY:"5"}};function pi({disabled:e=!1,href:t,label:r,onClick:n,rel:i="noreferrer noopener",size:s="medium",target:o="_blank",testId:a,type:c="primary"}){const u=c==="primary",l=s!=="large",f=Fr(),d=e?"actionButtonSecondaryBackground":u?"accentColor":l?"actionButtonSecondaryBackground":null,{fontSize:h,height:g,paddingX:p,paddingY:b}=Upe[s],w=!f||!l;return z.createElement(K,{...t?e?{}:{as:"a",href:t,rel:i,target:o}:{as:"button",type:"button"},onClick:e?void 0:n,...w?{borderColor:f&&!l&&!u?"actionButtonBorderMobile":"actionButtonBorder",borderStyle:"solid",borderWidth:"1"}:{},borderRadius:"actionButton",className:!e&&qr({active:"shrinkSm",hover:"grow"}),display:"block",paddingX:p,paddingY:b,style:{willChange:"transform"},testId:a,textAlign:"center",transition:"transform",...d?{background:d}:{},...g?{height:g}:{}},z.createElement(De,{color:e?"modalTextSecondary":u?"accentColorForeground":"accentColor",size:h,weight:"bold"},r))}var qpe=()=>Fr()?z.createElement("svg",{"aria-hidden":!0,fill:"none",height:"11.5",viewBox:"0 0 11.5 11.5",width:"11.5",xmlns:"http://www.w3.org/2000/svg"},z.createElement("title",null,"Close"),z.createElement("path",{d:"M2.13388 0.366117C1.64573 -0.122039 0.854272 -0.122039 0.366117 0.366117C-0.122039 0.854272 -0.122039 1.64573 0.366117 2.13388L3.98223 5.75L0.366117 9.36612C-0.122039 9.85427 -0.122039 10.6457 0.366117 11.1339C0.854272 11.622 1.64573 11.622 2.13388 11.1339L5.75 7.51777L9.36612 11.1339C9.85427 11.622 10.6457 11.622 11.1339 11.1339C11.622 10.6457 11.622 9.85427 11.1339 9.36612L7.51777 5.75L11.1339 2.13388C11.622 1.64573 11.622 0.854272 11.1339 0.366117C10.6457 -0.122039 9.85427 -0.122039 9.36612 0.366117L5.75 3.98223L2.13388 0.366117Z",fill:"currentColor"})):z.createElement("svg",{"aria-hidden":!0,fill:"none",height:"10",viewBox:"0 0 10 10",width:"10",xmlns:"http://www.w3.org/2000/svg"},z.createElement("title",null,"Close"),z.createElement("path",{d:"M1.70711 0.292893C1.31658 -0.0976311 0.683417 -0.0976311 0.292893 0.292893C-0.0976311 0.683417 -0.0976311 1.31658 0.292893 1.70711L3.58579 5L0.292893 8.29289C-0.0976311 8.68342 -0.0976311 9.31658 0.292893 9.70711C0.683417 10.0976 1.31658 10.0976 1.70711 9.70711L5 6.41421L8.29289 9.70711C8.68342 10.0976 9.31658 10.0976 9.70711 9.70711C10.0976 9.31658 10.0976 8.68342 9.70711 8.29289L6.41421 5L9.70711 1.70711C10.0976 1.31658 10.0976 0.683417 9.70711 0.292893C9.31658 -0.0976311 8.68342 -0.0976311 8.29289 0.292893L5 3.58579L1.70711 0.292893Z",fill:"currentColor"})),md=({"aria-label":e="Close",onClose:t})=>{const r=Fr();return z.createElement(K,{alignItems:"center","aria-label":e,as:"button",background:"closeButtonBackground",borderColor:"actionButtonBorder",borderRadius:"full",borderStyle:"solid",borderWidth:r?"0":"1",className:qr({active:"shrinkSm",hover:"growLg"}),color:"closeButton",display:"flex",height:r?"30":"28",justifyContent:"center",onClick:t,style:{willChange:"transform"},transition:"default",type:"button",width:r?"30":"28"},z.createElement(qpe,null))},cZ=async()=>(await re(async()=>{const{default:e}=await import("./sign-A7IJEUT5-CGsRnPrd.js");return{default:e}},[])).default;function zpe({onClose:e,onCloseModal:t}){const{i18n:r}=oe.useContext(Hr),[{status:n,...i},s]=z.useState({status:"idle"}),o=mhe(),a=oe.useCallback(async()=>{try{const g=await o.getNonce();s(p=>({...p,nonce:g}))}catch{s(g=>({...g,errorMessage:r.t("sign_in.message.preparing_error"),status:"idle"}))}},[o,r.t]),c=oe.useRef(!1);z.useEffect(()=>{c.current||(c.current=!0,a())},[a]);const u=Fr(),{address:l,chain:f}=bi(),{signMessageAsync:d}=gde(),h=async()=>{try{const g=f?.id,{nonce:p}=i;if(!l||!g||!p)return;s(y=>({...y,errorMessage:void 0,status:"signing"}));const b=o.createMessage({address:l,chainId:g,nonce:p});let w;try{w=await d({message:b})}catch(y){return y instanceof St?s(v=>({...v,status:"idle"})):s(v=>({...v,errorMessage:r.t("sign_in.signature.signing_error"),status:"idle"}))}s(y=>({...y,status:"verifying"}));try{if(await o.verify({message:b,signature:w})){t();return}throw new Error}catch{return s(y=>({...y,errorMessage:r.t("sign_in.signature.verifying_error"),status:"idle"}))}}catch{s({errorMessage:r.t("sign_in.signature.oops_error"),status:"idle"})}};return z.createElement(K,{position:"relative"},z.createElement(K,{display:"flex",paddingRight:"16",paddingTop:"16",position:"absolute",right:"0"},z.createElement(md,{onClose:e})),z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"32":"24",padding:"24",paddingX:"18",style:{paddingTop:u?"60px":"36px"}},z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"6":"4",style:{maxWidth:u?320:280}},z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"32":"16"},z.createElement(_n,{height:40,src:cZ,width:40}),z.createElement(De,{color:"modalText",size:u?"20":"18",textAlign:"center",weight:"heavy"},r.t("sign_in.label"))),z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"16":"12"},z.createElement(De,{color:"modalTextSecondary",size:u?"16":"14",textAlign:"center"},r.t("sign_in.description")),n==="idle"&&i.errorMessage?z.createElement(De,{color:"error",size:u?"16":"14",textAlign:"center",weight:"bold"},i.errorMessage):null)),z.createElement(K,{alignItems:u?void 0:"center",display:"flex",flexDirection:"column",gap:"8",width:"full"},z.createElement(pi,{disabled:!i.nonce||n==="signing"||n==="verifying",label:i.nonce?n==="signing"?r.t("sign_in.signature.waiting"):n==="verifying"?r.t("sign_in.signature.verifying"):r.t("sign_in.message.send"):r.t("sign_in.message.preparing"),onClick:h,size:u?"large":"medium",testId:"auth-message-button"}),u?z.createElement(pi,{label:"Cancel",onClick:e,size:"large",type:"secondary"}):z.createElement(K,{as:"button",borderRadius:"full",className:qr({active:"shrink",hover:"grow"}),display:"block",onClick:e,paddingX:"10",paddingY:"5",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},z.createElement(De,{color:"closeButton",size:u?"16":"14",weight:"bold"},r.t("sign_in.message.cancel"))))))}function Fpe(){const e=Hd(),t=km(),r=oE()==="unauthenticated",n=oe.useCallback(()=>{pa(...t.map(i=>i.iconUrl),...e.map(i=>i.iconUrl).filter(WK)),Fr()||(Dpe(),Mpe()),r&&pa(cZ)},[t,e,r]);oe.useEffect(()=>{n()},[n])}var uZ="WALLETCONNECT_DEEPLINK_CHOICE";function Hpe({mobileUri:e,name:t}){localStorage.setItem(uZ,JSON.stringify({href:e.split("?")[0],name:t}))}function Wpe(){localStorage.removeItem(uZ)}var lZ=oe.createContext(void 0),mx="data-rk",dZ=e=>({[mx]:e||""}),Vpe=e=>{if(e&&!/^[a-zA-Z0-9_]+$/.test(e))throw new Error(`Invalid ID: ${e}`);return e?`[${mx}="${e}"]`:`[${mx}]`},Gpe=()=>{const e=oe.useContext(lZ);return dZ(e)},Kpe=hW();DWe=function({appInfo:e,avatar:t,children:r,coolMode:n=!1,id:i,initialChain:s,locale:o,modalSize:a=S1.WIDE,showRecentTransactions:c=!1,theme:u=Kpe}){if(Fpe(),vpe(),FG({onDisconnect:Wpe}),typeof u=="function")throw new Error('A theme function was provided to the "theme" prop instead of a theme object. You must execute this function to get the resulting theme object.');const l=Vpe(i),f={...eZ,...e},d=t??zK;return z.createElement(Hhe,{initialChain:s},z.createElement(mpe,null,z.createElement(Bhe,{locale:o},z.createElement(tZ.Provider,{value:n},z.createElement(bpe,{modalSize:a},z.createElement(z9.Provider,{value:c},z.createElement(hpe,null,z.createElement(FK.Provider,{value:d},z.createElement(I1.Provider,{value:f},z.createElement(lZ.Provider,{value:i},z.createElement(Ghe,null,z.createElement(cge,null,u?z.createElement("div",{...dZ(i)},z.createElement("style",{dangerouslySetInnerHTML:{__html:[`${l}{${Ij("lightMode"in u?u.lightMode:u)}}`,"darkMode"in u?`@media(prefers-color-scheme:dark){${l}{${Ij(u.darkMode,{extends:u.lightMode})}}}`:null].join("")}}),r):r))))))))))))};var Zpe="_9pm4ki5 ju367va ju367v15 ju367v8r",Ype="_9pm4ki3 ju367v9h ju367vb3 ju367va ju367v2q ju367v8q",Sj=(e,t)=>{const r=e.querySelectorAll("button:not(:disabled), a[href]");r.length!==0&&r[t==="end"?r.length-1:0].focus()};function Qpe(e){const t=oe.useRef(null);return oe.useEffect(()=>{const r=document.activeElement;return()=>{r.focus?.()}},[]),oe.useEffect(()=>{if(t.current){const r=t.current.querySelector("[data-auto-focus]");r?r.focus():t.current.focus()}},[]),z.createElement(z.Fragment,null,z.createElement("div",{onFocus:oe.useCallback(()=>t.current&&Sj(t.current,"end"),[]),tabIndex:0}),z.createElement("div",{ref:t,style:{outline:"none"},tabIndex:-1,...e}),z.createElement("div",{onFocus:oe.useCallback(()=>t.current&&Sj(t.current,"start"),[]),tabIndex:0}))}var Jpe=e=>e.stopPropagation();function O5({children:e,onClose:t,open:r,titleId:n}){oe.useEffect(()=>{const u=l=>r&&l.key==="Escape"&&t();return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[r,t]);const[i,s]=oe.useState(!0);oe.useEffect(()=>{s(getComputedStyle(window.document.body).overflow!=="hidden")},[]);const o=oe.useCallback(()=>t(),[t]),a=Gpe(),c=Fr();return z.createElement(z.Fragment,null,r?wne.createPortal(z.createElement(vne,{enabled:i},z.createElement(K,{...a},z.createElement(K,{...a,alignItems:c?"flex-end":"center","aria-labelledby":n,"aria-modal":!0,className:Ype,onClick:o,position:"fixed",role:"dialog"},z.createElement(Qpe,{className:Zpe,onClick:Jpe,role:"document"},e)))),document.body):null)}var Xpe="_1ckjpok7",e0e="_1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",t0e="_1ckjpok4 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",r0e="_1ckjpok6 ju367vq",n0e="_1ckjpok3 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",i0e="_1ckjpok2 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r";function j5({bottomSheetOnMobile:e=!1,children:t,marginTop:r,padding:n="16",paddingBottom:i,wide:s=!1}){const o=Fr(),c=oe.useContext(cE)===S1.COMPACT;return z.createElement(K,{marginTop:r},z.createElement(K,{className:[s?o?i0e:c?t0e:n0e:e0e,o?r0e:null,o&&e?Xpe:null].join(" ")},z.createElement(K,{padding:n,paddingBottom:i??n},t)))}var Tj=["k","m","b","t"];function ey(e,t=1){return e.toString().replace(new RegExp(`(.+\\.\\d{${t}})\\d+`),"$1").replace(/(\.[1-9]*)0+$/,"$1").replace(/\.$/,"")}function fZ(e){if(e<1)return ey(e,3);if(e<10**2)return ey(e,2);if(e<10**4)return new Intl.NumberFormat().format(Number.parseFloat(ey(e,1)));const t=10**1;let r=String(e);for(let n=Tj.length-1;n>=0;n--){const i=10**((n+1)*3);if(i<=e){e=e*t/i/t,r=ey(e,1)+Tj[n];break}}return r}function hZ(e){return e.length<8?e:`${e.substring(0,4)}${e.substring(e.length-4)}`}function pZ(e){if(!e)return"";const t=e.split("."),r=t.pop();return t.join(".").length>24?`${t.join(".").substring(0,24)}...`:`${t.join(".")}.${r}`}var s0e=()=>z.createElement("svg",{fill:"none",height:"13",viewBox:"0 0 13 13",width:"13",xmlns:"http://www.w3.org/2000/svg"},z.createElement("title",null,"Copied"),z.createElement("path",{d:"M4.94568 12.2646C5.41052 12.2646 5.77283 12.0869 6.01892 11.7109L12.39 1.96973C12.5677 1.69629 12.6429 1.44336 12.6429 1.2041C12.6429 0.561523 12.1644 0.0966797 11.5082 0.0966797C11.057 0.0966797 10.7767 0.260742 10.5033 0.691406L4.9115 9.50977L2.07458 5.98926C1.82166 5.68848 1.54822 5.55176 1.16541 5.55176C0.502319 5.55176 0.0238037 6.02344 0.0238037 6.66602C0.0238037 6.95312 0.112671 7.20605 0.358765 7.48633L3.88611 11.7588C4.18005 12.1074 4.50818 12.2646 4.94568 12.2646Z",fill:"currentColor"})),o0e=()=>z.createElement("svg",{fill:"none",height:"16",viewBox:"0 0 17 16",width:"17",xmlns:"http://www.w3.org/2000/svg"},z.createElement("title",null,"Copy"),z.createElement("path",{d:"M3.04236 12.3027H4.18396V13.3008C4.18396 14.8525 5.03845 15.7002 6.59705 15.7002H13.6244C15.183 15.7002 16.0375 14.8525 16.0375 13.3008V6.24609C16.0375 4.69434 15.183 3.84668 13.6244 3.84668H12.4828V2.8418C12.4828 1.29688 11.6283 0.442383 10.0697 0.442383H3.04236C1.48376 0.442383 0.629272 1.29004 0.629272 2.8418V9.90332C0.629272 11.4551 1.48376 12.3027 3.04236 12.3027ZM3.23376 10.5391C2.68689 10.5391 2.39294 10.2656 2.39294 9.68457V3.06055C2.39294 2.47949 2.68689 2.21289 3.23376 2.21289H9.8783C10.4252 2.21289 10.7191 2.47949 10.7191 3.06055V3.84668H6.59705C5.03845 3.84668 4.18396 4.69434 4.18396 6.24609V10.5391H3.23376ZM6.78845 13.9365C6.24158 13.9365 5.94763 13.6699 5.94763 13.0889V6.45801C5.94763 5.87695 6.24158 5.61035 6.78845 5.61035H13.433C13.9799 5.61035 14.2738 5.87695 14.2738 6.45801V13.0889C14.2738 13.6699 13.9799 13.9365 13.433 13.9365H6.78845Z",fill:"currentColor"})),a0e=()=>z.createElement("svg",{fill:"none",height:"16",viewBox:"0 0 18 16",width:"18",xmlns:"http://www.w3.org/2000/svg"},z.createElement("title",null,"Disconnect"),z.createElement("path",{d:"M2.67834 15.5908H9.99963C11.5514 15.5908 12.399 14.7432 12.399 13.1777V10.2656H10.6354V12.9863C10.6354 13.5332 10.3688 13.8271 9.78772 13.8271H2.89026C2.3092 13.8271 2.0426 13.5332 2.0426 12.9863V3.15625C2.0426 2.60254 2.3092 2.30859 2.89026 2.30859H9.78772C10.3688 2.30859 10.6354 2.60254 10.6354 3.15625V5.89746H12.399V2.95801C12.399 1.39941 11.5514 0.544922 9.99963 0.544922H2.67834C1.12659 0.544922 0.278931 1.39941 0.278931 2.95801V13.1777C0.278931 14.7432 1.12659 15.5908 2.67834 15.5908ZM7.43616 8.85059H14.0875L15.0924 8.78906L14.566 9.14453L13.6842 9.96484C13.5406 10.1016 13.4586 10.2861 13.4586 10.4844C13.4586 10.8398 13.7321 11.168 14.1217 11.168C14.3199 11.168 14.4635 11.0928 14.6002 10.9561L16.7809 8.68652C16.986 8.48145 17.0543 8.27637 17.0543 8.06445C17.0543 7.85254 16.986 7.64746 16.7809 7.43555L14.6002 5.17285C14.4635 5.03613 14.3199 4.9541 14.1217 4.9541C13.7321 4.9541 13.4586 5.27539 13.4586 5.6377C13.4586 5.83594 13.5406 6.02734 13.6842 6.15723L14.566 6.98438L15.0924 7.33984L14.0875 7.27148H7.43616C7.01917 7.27148 6.65686 7.62012 6.65686 8.06445C6.65686 8.50195 7.01917 8.85059 7.43616 8.85059Z",fill:"currentColor"}));function c0e(){const e=JK(),{address:t}=bi(),r=q9();return oe.useCallback(()=>{if(!t||!r)throw new Error("No address or chain ID found");e.clearTransactions(t,r)},[e,t,r])}var gZ=e=>e?.blockExplorers?.default?.url,mZ=()=>z.createElement("svg",{fill:"none",height:"19",viewBox:"0 0 20 19",width:"20",xmlns:"http://www.w3.org/2000/svg"},z.createElement("title",null,"Link"),z.createElement("path",{d:"M10 18.9443C15.0977 18.9443 19.2812 14.752 19.2812 9.6543C19.2812 4.56543 15.0889 0.373047 10 0.373047C4.90234 0.373047 0.71875 4.56543 0.71875 9.6543C0.71875 14.752 4.91113 18.9443 10 18.9443ZM10 16.6328C6.1416 16.6328 3.03906 13.5215 3.03906 9.6543C3.03906 5.7959 6.13281 2.68457 10 2.68457C13.8584 2.68457 16.9697 5.7959 16.9697 9.6543C16.9785 13.5215 13.8672 16.6328 10 16.6328ZM12.7158 12.1416C13.2432 12.1416 13.5684 11.7549 13.5684 11.1836V7.19336C13.5684 6.44629 13.1377 6.05957 12.417 6.05957H8.40918C7.8291 6.05957 7.45117 6.38477 7.45117 6.91211C7.45117 7.43945 7.8291 7.77344 8.40918 7.77344H9.69238L10.7207 7.63281L9.53418 8.67871L6.73047 11.4912C6.53711 11.6758 6.41406 11.9395 6.41406 12.2031C6.41406 12.7832 6.85352 13.1699 7.39844 13.1699C7.68848 13.1699 7.92578 13.0732 8.1543 12.8623L10.9316 10.0762L11.9775 8.89844L11.8545 9.98828V11.1836C11.8545 11.7725 12.1885 12.1416 12.7158 12.1416Z",fill:"currentColor"})),u0e=()=>z.createElement("svg",{fill:"none",height:"19",viewBox:"0 0 20 19",width:"20",xmlns:"http://www.w3.org/2000/svg"},z.createElement("title",null,"Cancel"),z.createElement("path",{d:"M10 18.9443C15.0977 18.9443 19.2812 14.752 19.2812 9.6543C19.2812 4.56543 15.0889 0.373047 10 0.373047C4.90234 0.373047 0.71875 4.56543 0.71875 9.6543C0.71875 14.752 4.91113 18.9443 10 18.9443ZM10 16.6328C6.1416 16.6328 3.03906 13.5215 3.03906 9.6543C3.03906 5.7959 6.13281 2.68457 10 2.68457C13.8584 2.68457 16.9697 5.7959 16.9697 9.6543C16.9785 13.5215 13.8672 16.6328 10 16.6328ZM7.29297 13.3018C7.58301 13.3018 7.81152 13.2139 7.99609 13.0205L10 11.0166L12.0127 13.0205C12.1973 13.2051 12.4258 13.3018 12.707 13.3018C13.2432 13.3018 13.6562 12.8887 13.6562 12.3525C13.6562 12.0977 13.5508 11.8691 13.3662 11.6934L11.3535 9.67188L13.375 7.6416C13.5596 7.44824 13.6562 7.22852 13.6562 6.98242C13.6562 6.44629 13.2432 6.0332 12.7158 6.0332C12.4346 6.0332 12.2148 6.12109 12.0215 6.31445L10 8.32715L7.9873 6.32324C7.80273 6.12988 7.58301 6.04199 7.29297 6.04199C6.76562 6.04199 6.35254 6.45508 6.35254 6.99121C6.35254 7.2373 6.44922 7.46582 6.63379 7.6416L8.65527 9.67188L6.63379 11.6934C6.44922 11.8691 6.35254 12.1064 6.35254 12.3525C6.35254 12.8887 6.76562 13.3018 7.29297 13.3018Z",fill:"currentColor"})),l0e=()=>z.createElement("svg",{fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},z.createElement("title",null,"Success"),z.createElement("path",{d:"M10 19.4443C15.0977 19.4443 19.2812 15.252 19.2812 10.1543C19.2812 5.06543 15.0889 0.873047 10 0.873047C4.90234 0.873047 0.71875 5.06543 0.71875 10.1543C0.71875 15.252 4.91113 19.4443 10 19.4443ZM10 17.1328C6.1416 17.1328 3.03906 14.0215 3.03906 10.1543C3.03906 6.2959 6.13281 3.18457 10 3.18457C13.8584 3.18457 16.9697 6.2959 16.9697 10.1543C16.9785 14.0215 13.8672 17.1328 10 17.1328ZM9.07715 14.3379C9.4375 14.3379 9.7627 14.1533 9.97363 13.8369L13.7441 8.00977C13.8848 7.79883 13.9814 7.5791 13.9814 7.36816C13.9814 6.84961 13.5244 6.48926 13.0322 6.48926C12.707 6.48926 12.4258 6.66504 12.2148 7.0166L9.05957 12.0967L7.5918 10.2949C7.37207 10.0225 7.13477 9.9082 6.84473 9.9082C6.33496 9.9082 5.92188 10.3125 5.92188 10.8223C5.92188 11.0684 6.00098 11.2793 6.18555 11.5078L8.1543 13.8545C8.40918 14.1709 8.70801 14.3379 9.07715 14.3379Z",fill:"currentColor"})),d0e=e=>{switch(e){case"pending":return Rm;case"confirmed":return l0e;case"failed":return u0e;default:return Rm}};function f0e({tx:e}){const t=Fr(),r=d0e(e.status),n=e.status==="failed"?"error":"accentColor",{chain:i}=bi(),s=e.status==="confirmed"?"Confirmed":e.status==="failed"?"Failed":"Pending",o=gZ(i);return z.createElement(z.Fragment,null,z.createElement(K,{...o?{as:"a",background:{hover:"profileForeground"},borderRadius:"menuButton",className:qr({active:"shrink"}),href:`${o}/tx/${e.hash}`,rel:"noreferrer noopener",target:"_blank",transition:"default"}:{},color:"modalText",display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"8",width:"full"},z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",gap:t?"16":"14"},z.createElement(K,{color:n},z.createElement(r,null)),z.createElement(K,{display:"flex",flexDirection:"column",gap:t?"3":"1"},z.createElement(K,null,z.createElement(De,{color:"modalText",font:"body",size:t?"16":"14",weight:"bold"},e?.description)),z.createElement(K,null,z.createElement(De,{color:e.status==="pending"?"modalTextSecondary":n,font:"body",size:"14",weight:t?"medium":"regular"},s)))),o&&z.createElement(K,{alignItems:"center",color:"modalTextDim",display:"flex"},z.createElement(mZ,null))))}var h0e=3;function p0e({address:e}){const t=XK(),r=c0e(),{chain:n}=bi(),i=gZ(n),s=t.slice(0,h0e),o=s.length>0,a=Fr(),{appName:c}=oe.useContext(I1),{i18n:u}=oe.useContext(Hr);return z.createElement(z.Fragment,null,z.createElement(K,{display:"flex",flexDirection:"column",gap:"10",paddingBottom:"2",paddingTop:"16",paddingX:a?"8":"18"},o&&z.createElement(K,{paddingBottom:a?"4":"0",paddingTop:"8",paddingX:a?"12":"6"},z.createElement(K,{display:"flex",justifyContent:"space-between"},z.createElement(De,{color:"modalTextSecondary",size:a?"16":"14",weight:"semibold"},u.t("profile.transactions.recent.title")),z.createElement(K,{style:{marginBottom:-6,marginLeft:-10,marginRight:-10,marginTop:-6}},z.createElement(K,{as:"button",background:{hover:"profileForeground"},borderRadius:"actionButton",className:qr({active:"shrink"}),onClick:r,paddingX:a?"8":"12",paddingY:a?"4":"5",transition:"default",type:"button"},z.createElement(De,{color:"modalTextSecondary",size:a?"16":"14",weight:"semibold"},u.t("profile.transactions.clear.label")))))),z.createElement(K,{display:"flex",flexDirection:"column",gap:"4"},o?s.map(l=>z.createElement(f0e,{key:l.hash,tx:l})):z.createElement(z.Fragment,null,z.createElement(K,{padding:a?"12":"8"},z.createElement(De,{color:"modalTextDim",size:a?"16":"14",weight:a?"medium":"bold"},c?u.t("profile.transactions.description",{appName:c}):u.t("profile.transactions.description_fallback"))),a&&z.createElement(K,{background:"generalBorderDim",height:"1",marginX:"12",marginY:"8"})))),i&&z.createElement(K,{paddingBottom:"18",paddingX:a?"8":"18"},z.createElement(K,{alignItems:"center",as:"a",background:{hover:"profileForeground"},borderRadius:"menuButton",className:qr({active:"shrink"}),color:"modalTextDim",display:"flex",flexDirection:"row",href:`${i}/address/${e}`,justifyContent:"space-between",paddingX:"8",paddingY:"12",rel:"noreferrer noopener",style:{willChange:"transform"},target:"_blank",transition:"default",width:"full",...a?{paddingLeft:"12"}:{}},z.createElement(De,{color:"modalText",font:"body",size:a?"16":"14",weight:a?"semibold":"bold"},u.t("profile.explorer.label")),z.createElement(mZ,null))))}function Oj({action:e,icon:t,label:r,testId:n,url:i}){const s=Fr();return z.createElement(K,{...i?{as:"a",href:i,rel:"noreferrer noopener",target:"_blank"}:{as:"button",type:"button"},background:{base:"profileAction",...s?{}:{hover:"profileActionHover"}},borderRadius:"menuButton",boxShadow:"profileDetailsAction",className:qr({active:"shrinkSm",hover:s?void 0:"grow"}),display:"flex",onClick:e,padding:s?"6":"8",style:{willChange:"transform"},testId:n,transition:"default",width:"full"},z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"1",justifyContent:"center",paddingTop:"2",width:"full"},z.createElement(K,{color:"modalText",height:"max"},t),z.createElement(K,null,z.createElement(De,{color:"modalText",size:s?"12":"13",weight:"semibold"},r))))}function g0e({address:e,ensAvatar:t,ensName:r,balance:n,onClose:i,onDisconnect:s}){const o=oe.useContext(z9),[a,c]=oe.useState(!1),u=oe.useCallback(()=>{e&&(navigator.clipboard.writeText(e),c(!0))},[e]);if(oe.useEffect(()=>{if(a){const b=setTimeout(()=>{c(!1)},1500);return()=>clearTimeout(b)}},[a]),!e)return null;const l=r?pZ(r):hZ(e),f=n?.formatted,d=f?fZ(Number.parseFloat(f)):void 0,h="rk_profile_title",g=Fr(),{i18n:p}=oe.useContext(Hr);return z.createElement(z.Fragment,null,z.createElement(K,{display:"flex",flexDirection:"column"},z.createElement(K,{background:"profileForeground",padding:"16"},z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:g?"16":"12",justifyContent:"center",margin:"8",style:{textAlign:"center"}},z.createElement(K,{style:{position:"absolute",right:16,top:16,willChange:"transform"}},z.createElement(md,{onClose:i}))," ",z.createElement(K,{marginTop:g?"24":"0"},z.createElement(HK,{address:e,imageUrl:t,size:g?82:74})),z.createElement(K,{display:"flex",flexDirection:"column",gap:g?"4":"0",textAlign:"center"},z.createElement(K,{textAlign:"center"},z.createElement(De,{as:"h1",color:"modalText",id:h,size:g?"20":"18",weight:"heavy"},l)),!!n&&z.createElement(K,{textAlign:"center"},z.createElement(De,{as:"h1",color:"modalTextSecondary",id:h,size:g?"16":"14",weight:"semibold"},d," ",n.symbol)))),z.createElement(K,{display:"flex",flexDirection:"row",gap:"8",margin:"2",marginTop:"16"},z.createElement(Oj,{action:u,icon:a?z.createElement(s0e,null):z.createElement(o0e,null),label:a?p.t("profile.copy_address.copied"):p.t("profile.copy_address.label")}),z.createElement(Oj,{action:s,icon:z.createElement(a0e,null),label:p.t("profile.disconnect.label"),testId:"disconnect-button"}))),o&&z.createElement(z.Fragment,null,z.createElement(K,{background:"generalBorder",height:"1",marginTop:"-1"}),z.createElement(K,null,z.createElement(p0e,{address:e})))))}function m0e({onClose:e,open:t}){const{address:r}=bi(),{balance:n,ensAvatar:i,ensName:s}=ZK({address:r,includeBalance:t}),{disconnect:o}=P9();return r?z.createElement(z.Fragment,null,r&&z.createElement(O5,{onClose:e,open:t,titleId:"rk_account_modal_title"},z.createElement(j5,{bottomSheetOnMobile:!0,padding:"0"},z.createElement(g0e,{address:r,ensAvatar:i,ensName:s,balance:n,onClose:e,onDisconnect:o})))):null}var b0e=({size:e})=>z.createElement("svg",{fill:"none",height:e,viewBox:"0 0 28 28",width:e,xmlns:"http://www.w3.org/2000/svg"},z.createElement("title",null,"Disconnect"),z.createElement("path",{d:"M6.742 22.195h8.367c1.774 0 2.743-.968 2.743-2.758V16.11h-2.016v3.11c0 .625-.305.96-.969.96H6.984c-.664 0-.968-.335-.968-.96V7.984c0-.632.304-.968.968-.968h7.883c.664 0 .969.336.969.968v3.133h2.016v-3.36c0-1.78-.97-2.757-2.743-2.757H6.742C4.97 5 4 5.977 4 7.758v11.68c0 1.789.969 2.757 2.742 2.757Zm5.438-7.703h7.601l1.149-.07-.602.406-1.008.938a.816.816 0 0 0-.258.593c0 .407.313.782.758.782.227 0 .39-.086.547-.243l2.492-2.593c.235-.235.313-.47.313-.711 0-.242-.078-.477-.313-.719l-2.492-2.586c-.156-.156-.32-.25-.547-.25-.445 0-.758.367-.758.781 0 .227.094.446.258.594l1.008.945.602.407-1.149-.079H12.18a.904.904 0 0 0 0 1.805Z",fill:"currentColor"})),y0e="v9horb0",G9=z.forwardRef(({children:e,currentlySelected:t=!1,onClick:r,testId:n,...i},s)=>{const o=Fr();return z.createElement(K,{as:"button",borderRadius:"menuButton",disabled:t,display:"flex",onClick:r,ref:s,testId:n,type:"button"},z.createElement(K,{borderRadius:"menuButton",className:[o?y0e:void 0,!t&&qr({active:"shrink"})],padding:o?"8":"6",transition:"default",width:"full",...t?{background:"accentColor",borderColor:"selectedOptionBorder",borderStyle:"solid",borderWidth:"1",boxShadow:"selectedOption",color:"accentColorForeground"}:{background:{hover:"menuItemBackground"},color:"modalText",transition:"default"},...i},e))});G9.displayName="MenuButton";var w0e=({chainId:e,currentChainId:t,switchChain:r,chainIconSize:n,isLoading:i,src:s,name:o,iconBackground:a,idx:c})=>{const u=Fr(),{i18n:l}=oe.useContext(Hr),f=Hd(),d=t===e;return z.createElement(oe.Fragment,null,z.createElement(G9,{currentlySelected:d,onClick:d?void 0:()=>r({chainId:e}),testId:`chain-option-${e}`},z.createElement(K,{fontFamily:"body",fontSize:"16",fontWeight:"bold"},z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",height:n},s&&z.createElement(K,{height:"full",marginRight:"8"},z.createElement(_n,{alt:o,background:a,borderRadius:"full",height:n,src:s,width:n,testId:`chain-option-${e}-icon`})),z.createElement("div",null,o??o)),d&&z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",marginRight:"6"},z.createElement(De,{color:"accentColorForeground",size:"14",weight:"medium"},l.t("chains.connected")),z.createElement(K,{background:"connectionIndicator",borderColor:"selectedOptionBorder",borderRadius:"full",borderStyle:"solid",borderWidth:"1",height:"8",marginLeft:"8",width:"8"})),i&&z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",marginRight:"6"},z.createElement(De,{color:"modalText",size:"14",weight:"medium"},l.t("chains.confirm")),z.createElement(K,{background:"standby",borderRadius:"full",height:"8",marginLeft:"8",width:"8"}))))),u&&c<f.length-1&&z.createElement(K,{background:"generalBorderDim",height:"1",marginX:"8"}))},v0e=w0e,E0e="_18dqw9x0",_0e="_18dqw9x1";function C0e({onClose:e,open:t}){const{chainId:r}=bi(),{chains:n}=en(),[i,s]=oe.useState(null),{switchChain:o}=mde({mutation:{onMutate:({chainId:g})=>{s(g)},onSuccess:()=>{i&&s(null)},onError:()=>{i&&s(null)},onSettled:()=>{e()}}}),{i18n:a}=oe.useContext(Hr),{disconnect:c}=P9(),u="rk_chain_modal_title",l=Fr(),f=n.some(g=>g.id===r),d=l?"36":"28",h=Hd();return r?z.createElement(O5,{onClose:e,open:t,titleId:u},z.createElement(j5,{bottomSheetOnMobile:!0,paddingBottom:"0"},z.createElement(K,{display:"flex",flexDirection:"column",gap:"14"},z.createElement(K,{display:"flex",flexDirection:"row",justifyContent:"space-between"},l&&z.createElement(K,{width:"30"}),z.createElement(K,{paddingBottom:"0",paddingLeft:"8",paddingTop:"4"},z.createElement(De,{as:"h1",color:"modalText",id:u,size:l?"20":"18",weight:"heavy"},a.t("chains.title"))),z.createElement(md,{onClose:e})),!f&&z.createElement(K,{marginX:"8",textAlign:l?"center":"left"},z.createElement(De,{color:"modalTextSecondary",size:"14",weight:"medium"},a.t("chains.wrong_network"))),z.createElement(K,{className:l?_0e:E0e,display:"flex",flexDirection:"column",gap:"4",padding:"2",paddingBottom:"16"},h.map(({iconBackground:g,iconUrl:p,id:b,name:w},y)=>z.createElement(v0e,{key:b,chainId:b,currentChainId:r,switchChain:o,chainIconSize:d,isLoading:i===b,src:p,name:w,iconBackground:g,idx:y})),!f&&z.createElement(z.Fragment,null,z.createElement(K,{background:"generalBorderDim",height:"1",marginX:"8"}),z.createElement(G9,{onClick:()=>c(),testId:"chain-option-disconnect"},z.createElement(K,{color:"error",fontFamily:"body",fontSize:"16",fontWeight:"bold"},z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",height:d},z.createElement(K,{alignItems:"center",color:"error",height:d,justifyContent:"center",marginRight:"8"},z.createElement(b0e,{size:Number(d)})),z.createElement("div",null,a.t("chains.disconnect"))))))))))):null}function A0e(e,t){const r={};for(const n of e){const i=t(n);i&&(r[i]||(r[i]=[]),r[i].push(n))}return r}var K9=({children:e,href:t})=>z.createElement(K,{as:"a",color:"accentColor",href:t,rel:"noreferrer",target:"_blank"},e),Z9=({children:e})=>z.createElement(De,{color:"modalTextSecondary",size:"12",weight:"medium"},e);function jj({compactModeEnabled:e=!1,getWallet:t}){const{disclaimer:r,learnMoreUrl:n}=oe.useContext(I1),{i18n:i}=oe.useContext(Hr);return z.createElement(z.Fragment,null,z.createElement(K,{alignItems:"center",color:"accentColor",display:"flex",flexDirection:"column",height:"full",justifyContent:"space-around"},z.createElement(K,{marginBottom:"10"},!e&&z.createElement(De,{color:"modalText",size:"18",weight:"heavy"},i.t("intro.title"))),z.createElement(K,{display:"flex",flexDirection:"column",gap:"32",justifyContent:"center",marginY:"20",style:{maxWidth:312}},z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},z.createElement(K,{borderRadius:"6",height:"48",minWidth:"48",width:"48"},z.createElement($pe,null)),z.createElement(K,{display:"flex",flexDirection:"column",gap:"4"},z.createElement(De,{color:"modalText",size:"14",weight:"bold"},i.t("intro.digital_asset.title")),z.createElement(De,{color:"modalTextSecondary",size:"14",weight:"medium"},i.t("intro.digital_asset.description")))),z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},z.createElement(K,{borderRadius:"6",height:"48",minWidth:"48",width:"48"},z.createElement(Lpe,null)),z.createElement(K,{display:"flex",flexDirection:"column",gap:"4"},z.createElement(De,{color:"modalText",size:"14",weight:"bold"},i.t("intro.login.title")),z.createElement(De,{color:"modalTextSecondary",size:"14",weight:"medium"},i.t("intro.login.description"))))),z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",margin:"10"},z.createElement(pi,{label:i.t("intro.get.label"),onClick:t}),z.createElement(K,{as:"a",className:qr({active:"shrink",hover:"grow"}),display:"block",href:n,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},z.createElement(De,{color:"accentColor",size:"14",weight:"bold"},i.t("intro.learn_more.label")))),r&&!e&&z.createElement(K,{marginBottom:"8",marginTop:"12",textAlign:"center"},z.createElement(r,{Link:K9,Text:Z9}))))}var bZ=()=>z.createElement("svg",{fill:"none",height:"17",viewBox:"0 0 11 17",width:"11",xmlns:"http://www.w3.org/2000/svg"},z.createElement("title",null,"Back"),z.createElement("path",{d:"M0.99707 8.6543C0.99707 9.08496 1.15527 9.44531 1.51562 9.79688L8.16016 16.3096C8.43262 16.5732 8.74902 16.7051 9.13574 16.7051C9.90918 16.7051 10.5508 16.0811 10.5508 15.3076C10.5508 14.9121 10.3838 14.5605 10.0938 14.2705L4.30176 8.64551L10.0938 3.0293C10.3838 2.74805 10.5508 2.3877 10.5508 2.00098C10.5508 1.23633 9.90918 0.603516 9.13574 0.603516C8.74902 0.603516 8.43262 0.735352 8.16016 0.999023L1.51562 7.51172C1.15527 7.85449 1.00586 8.21484 0.99707 8.6543Z",fill:"currentColor"})),x0e=()=>z.createElement("svg",{fill:"none",height:"12",viewBox:"0 0 8 12",width:"8",xmlns:"http://www.w3.org/2000/svg"},z.createElement("title",null,"Info"),z.createElement("path",{d:"M3.64258 7.99609C4.19336 7.99609 4.5625 7.73828 4.68555 7.24609C4.69141 7.21094 4.70312 7.16406 4.70898 7.13477C4.80859 6.60742 5.05469 6.35547 6.04492 5.76367C7.14648 5.10156 7.67969 4.3457 7.67969 3.24414C7.67969 1.39844 6.17383 0.255859 3.95898 0.255859C2.32422 0.255859 1.05859 0.894531 0.548828 1.86719C0.396484 2.14844 0.320312 2.44727 0.320312 2.74023C0.314453 3.37305 0.742188 3.79492 1.42188 3.79492C1.91406 3.79492 2.33594 3.54883 2.53516 3.11523C2.78711 2.47656 3.23242 2.21289 3.83594 2.21289C4.55664 2.21289 5.10742 2.65234 5.10742 3.29102C5.10742 3.9707 4.7793 4.29883 3.81836 4.87891C3.02148 5.36523 2.50586 5.92773 2.50586 6.76562V6.90039C2.50586 7.55664 2.96289 7.99609 3.64258 7.99609ZM3.67188 11.4473C4.42773 11.4473 5.04297 10.8672 5.04297 10.1406C5.04297 9.41406 4.42773 8.83984 3.67188 8.83984C2.91602 8.83984 2.30664 9.41406 2.30664 10.1406C2.30664 10.8672 2.91602 11.4473 3.67188 11.4473Z",fill:"currentColor"})),I0e=({"aria-label":e="Info",onClick:t})=>{const r=Fr();return z.createElement(K,{alignItems:"center","aria-label":e,as:"button",background:"closeButtonBackground",borderColor:"actionButtonBorder",borderRadius:"full",borderStyle:"solid",borderWidth:r?"0":"1",className:qr({active:"shrinkSm",hover:"growLg"}),color:"closeButton",display:"flex",height:r?"30":"28",justifyContent:"center",onClick:t,style:{willChange:"transform"},transition:"default",type:"button",width:r?"30":"28"},z.createElement(x0e,null))},yZ=e=>{const t=oe.useRef(null),r=oe.useContext(tZ),n=aE(e);return oe.useEffect(()=>{if(r&&t.current&&n)return S0e(t.current,n)},[r,n]),t},P0e=()=>{const e="_rk_coolMode",t=document.getElementById(e);if(t)return t;const r=document.createElement("div");return r.setAttribute("id",e),r.setAttribute("style",["overflow:hidden","position:fixed","height:100%","top:0","left:0","right:0","bottom:0","pointer-events:none","z-index:2147483647"].join(";")),document.body.appendChild(r),r},Bj=0;function S0e(e,t){Bj++;const r=[15,20,25,35,45],n=35;let i=[],s=!1,o=0,a=0;const c=P0e();function u(){const m=r[Math.floor(Math.random()*r.length)],C=Math.random()*10,E=Math.random()*25,_=Math.random()*360,P=Math.random()*35*(Math.random()<=.5?-1:1),x=a-m/2,O=o-m/2,D=Math.random()<=.5?-1:1,R=document.createElement("div");R.innerHTML=`<img src="${t}" width="${m}" height="${m}" style="border-radius: 25%">`,R.setAttribute("style",["position:absolute","will-change:transform",`top:${x}px`,`left:${O}px`,`transform:rotate(${_}deg)`].join(";")),c.appendChild(R),i.push({direction:D,element:R,left:O,size:m,speedHorz:C,speedUp:E,spinSpeed:P,spinVal:_,top:x})}function l(){for(const m of i)m.left=m.left-m.speedHorz*m.direction,m.top=m.top-m.speedUp,m.speedUp=Math.min(m.size,m.speedUp-1),m.spinVal=m.spinVal+m.spinSpeed,m.top>=Math.max(window.innerHeight,document.body.clientHeight)+m.size&&(i=i.filter(C=>C!==m),m.element.remove()),m.element.setAttribute("style",["position:absolute","will-change:transform",`top:${m.top}px`,`left:${m.left}px`,`transform:rotate(${m.spinVal}deg)`].join(";"))}let f;function d(){s&&i.length<n&&u(),l(),f=requestAnimationFrame(d)}d();const h="ontouchstart"in window||navigator.msMaxTouchPoints,g=h?"touchstart":"mousedown",p=h?"touchend":"mouseup",b=h?"touchmove":"mousemove",w=m=>{"touches"in m?(o=m.touches?.[0].clientX,a=m.touches?.[0].clientY):(o=m.clientX,a=m.clientY)},y=m=>{w(m),s=!0},v=()=>{s=!1};return e.addEventListener(b,w,{passive:!1}),e.addEventListener(g,y),e.addEventListener(p,v),e.addEventListener("mouseleave",v),()=>{e.removeEventListener(b,w),e.removeEventListener(g,y),e.removeEventListener(p,v),e.removeEventListener("mouseleave",v);const m=setInterval(()=>{f&&i.length===0&&(cancelAnimationFrame(f),clearInterval(m),--Bj===0&&c.remove())},500)}}var T0e="g5kl0l0",wZ=({as:e="button",currentlySelected:t=!1,iconBackground:r,iconUrl:n,name:i,onClick:s,ready:o,recent:a,testId:c,isRainbowKitConnector:u,...l})=>{const f=yZ(n),[d,h]=z.useState(!1),{i18n:g}=z.useContext(Hr);return z.createElement(K,{display:"flex",flexDirection:"column",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),ref:f},z.createElement(K,{as:e,borderRadius:"menuButton",borderStyle:"solid",borderWidth:"1",className:t?void 0:[T0e,qr({active:"shrink"})],disabled:t,onClick:s,padding:"5",style:{willChange:"transform"},testId:c,transition:"default",width:"full",...t?{background:"accentColor",borderColor:"selectedOptionBorder",boxShadow:"selectedWallet"}:{background:{hover:"menuItemBackground"}},...l},z.createElement(K,{color:t?"accentColorForeground":"modalText",disabled:!o,fontFamily:"body",fontSize:"16",fontWeight:"bold",transition:"default"},z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",gap:"12"},z.createElement(_n,{background:r,...!d&&u?{borderColor:"actionButtonBorder"}:{},useAsImage:!u,borderRadius:"6",height:"28",src:n,width:"28"}),z.createElement(K,null,z.createElement(K,{style:{marginTop:a?-2:void 0},maxWidth:"200"},i),a&&z.createElement(De,{color:t?"accentColorForeground":"accentColor",size:"12",style:{lineHeight:1,marginTop:-1},weight:"medium"},g.t("connect.recent")))))))};wZ.displayName="ModalSelection";var O0e="rk-latest-id";function j0e(e){localStorage.setItem(O0e,e)}var L_=(e,t=1)=>{let r=e.replace("#","");r.length===3&&(r=`${r[0]}${r[0]}${r[1]}${r[1]}${r[2]}${r[2]}`);const n=Number.parseInt(r.substring(0,2),16),i=Number.parseInt(r.substring(2,4),16),s=Number.parseInt(r.substring(4,6),16);return t>1&&t<=100&&(t=t/100),`rgba(${n},${i},${s},${t})`},B0e=e=>e?[L_(e,.2),L_(e,.14),L_(e,.1)]:null,R0e=e=>/^#([0-9a-f]{3}){1,2}$/i.test(e),vZ=async()=>(await re(async()=>{const{default:e}=await import("./connect-UA7M4XW6-IY3X6Bmr.js");return{default:e}},[])).default,k0e=()=>pa(vZ),N0e=()=>z.createElement(_n,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:vZ,width:"48"}),EZ=async()=>(await re(async()=>{const{default:e}=await import("./create-FASO7PVG-D_rvSpre.js");return{default:e}},[])).default,_Z=()=>pa(EZ),D0e=()=>z.createElement(_n,{background:"#e3a5e8",borderColor:"generalBorder",borderRadius:"10",height:"48",src:EZ,width:"48"}),CZ=async()=>(await re(async()=>{const{default:e}=await import("./refresh-S4T5V5GX-CwqIaaxK.js");return{default:e}},[])).default,$0e=()=>pa(CZ),M0e=()=>z.createElement(_n,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:CZ,width:"48"}),AZ=async()=>(await re(async()=>{const{default:e}=await import("./scan-4UYSQ56Q-CjMz6-XC.js");return{default:e}},[])).default,xZ=()=>pa(AZ),L0e=()=>z.createElement(_n,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:AZ,width:"48"}),U0e="_1vwt0cg0",q0e="_1vwt0cg2 ju367v7a ju367v7v",z0e="_1vwt0cg3",F0e="_1vwt0cg4";function IZ({ecc:e="medium",logoBackground:t,logoSize:r=50,logoUrl:n,size:i=200,uri:s}){const a=i-Number.parseInt("20",10)*2,c=aE(n);return z.createElement(K,{borderColor:"generalBorder",borderRadius:"menuButton",borderStyle:"solid",borderWidth:"1",className:U0e,padding:"20",width:"max"},z.createElement(K,{style:{height:a,userSelect:"none",width:a},userSelect:"none"},z.createElement(ia.Root,{errorCorrection:e,size:a,value:s},z.createElement(ia.Cells,{radius:1}),z.createElement(ia.Finder,{radius:.25}),c&&z.createElement(ia.Arena,null,z.createElement("img",{alt:"Wallet Logo",src:c,style:{objectFit:"cover",height:"88%",width:"88%",borderRadius:"22.5%",backgroundColor:t}})))))}var PZ=async()=>{switch(H9()){case"Arc":return(await re(async()=>{const{default:t}=await import("./Arc-VDBY7LNS-BChRXCXW.js");return{default:t}},[])).default;case"Brave":return(await re(async()=>{const{default:t}=await import("./Brave-BRAKJXDS-mq-Xo37j.js");return{default:t}},[])).default;case"Chrome":return(await re(async()=>{const{default:t}=await import("./Chrome-65Q5P54Y-DR9MQEVr.js");return{default:t}},[])).default;case"Edge":return(await re(async()=>{const{default:t}=await import("./Edge-XSPUTORV-DEoZslQE.js");return{default:t}},[])).default;case"Firefox":return(await re(async()=>{const{default:t}=await import("./Firefox-AAHGJQIP-Bp_Hm04m.js");return{default:t}},[])).default;case"Opera":return(await re(async()=>{const{default:t}=await import("./Opera-KQZLSACL-Cwv5MDFy.js");return{default:t}},[])).default;case"Safari":return(await re(async()=>{const{default:t}=await import("./Safari-ZPL37GXR-C4Ggg6rz.js");return{default:t}},[])).default;default:return(await re(async()=>{const{default:t}=await import("./Browser-76IHF3Y2-BMhRaC5Z.js");return{default:t}},[])).default}},H0e=()=>pa(PZ),SZ=async()=>{switch(V9()){case"Windows":return(await re(async()=>{const{default:t}=await import("./Windows-PPTHQER6-BlyV2p7Y.js");return{default:t}},[])).default;case"macOS":return(await re(async()=>{const{default:t}=await import("./Macos-MW4AE7LN-Vvm8Drw3.js");return{default:t}},[])).default;case"Linux":return(await re(async()=>{const{default:t}=await import("./Linux-OO4TNCLJ-B0aw93n9.js");return{default:t}},[])).default;default:return(await re(async()=>{const{default:t}=await import("./Linux-OO4TNCLJ-B0aw93n9.js");return{default:t}},[])).default}},W0e=()=>pa(SZ);function V0e({getWalletDownload:e,compactModeEnabled:t}){const n=km().filter(s=>s.isRainbowKitConnector).splice(0,5),{i18n:i}=oe.useContext(Hr);return z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",marginTop:"18",width:"full"},z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"28",height:"full",width:"full"},n?.filter(s=>s.extensionDownloadUrl||s.desktopDownloadUrl||s.qrCode&&s.downloadUrls?.qrCode).map(s=>{const{downloadUrls:o,iconBackground:a,iconUrl:c,id:u,name:l,qrCode:f}=s,d=o?.qrCode&&f,h=!!s.extensionDownloadUrl,g=o?.qrCode&&h,p=o?.qrCode&&!!s.desktopDownloadUrl;return z.createElement(K,{alignItems:"center",display:"flex",gap:"16",justifyContent:"space-between",key:s.id,width:"full"},z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},z.createElement(_n,{background:a,borderColor:"actionButtonBorder",borderRadius:"10",height:"48",src:c,width:"48"}),z.createElement(K,{display:"flex",flexDirection:"column",gap:"2"},z.createElement(De,{color:"modalText",size:"14",weight:"bold"},l),z.createElement(De,{color:"modalTextSecondary",size:"14",weight:"medium"},g?i.t("get.mobile_and_extension.description"):p?i.t("get.mobile_and_desktop.description"):d?i.t("get.mobile.description"):h?i.t("get.extension.description"):null))),z.createElement(K,{display:"flex",flexDirection:"column",gap:"4"},z.createElement(pi,{label:i.t("get.action.label"),onClick:()=>e(u),type:"secondary"})))})),z.createElement(K,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"column",gap:"8",justifyContent:"space-between",marginBottom:"4",paddingY:"8",style:{maxWidth:275,textAlign:"center"}},z.createElement(De,{color:"modalText",size:"14",weight:"bold"},i.t("get.looking_for.title")),z.createElement(De,{color:"modalTextSecondary",size:"14",weight:"medium"},t?i.t("get.looking_for.desktop.compact_description"):i.t("get.looking_for.desktop.wide_description"))))}var U_="44";function G0e({changeWalletStep:e,compactModeEnabled:t,connectionError:r,onClose:n,qrCodeUri:i,reconnect:s,wallet:o}){const{downloadUrls:a,iconBackground:c,iconUrl:u,name:l,qrCode:f,ready:d,showWalletConnectModal:h,getDesktopUri:g}=o,p=!!g,b=F9(),{i18n:w}=oe.useContext(Hr),y=!!o.extensionDownloadUrl,v=a?.qrCode&&y,m=a?.qrCode&&!!o.desktopDownloadUrl,C=f&&i,E=async()=>{const O=await g?.();window.open(O,b?"_blank":"_self")},_=h?{description:t?w.t("connect.walletconnect.description.compact"):w.t("connect.walletconnect.description.full"),label:w.t("connect.walletconnect.open.label"),onClick:()=>{n(),h()}}:C?{description:w.t("connect.secondary_action.get.description",{wallet:l}),label:w.t("connect.secondary_action.get.label"),onClick:()=>e(v||m?"DOWNLOAD_OPTIONS":"DOWNLOAD")}:null,{width:P}=rZ(),x=P&&P<768;return oe.useEffect(()=>{H0e(),W0e()},[]),z.createElement(K,{display:"flex",flexDirection:"column",height:"full",width:"full"},C?z.createElement(K,{alignItems:"center",display:"flex",height:"full",justifyContent:"center"},z.createElement(IZ,{logoBackground:c,logoSize:t?60:72,logoUrl:u,size:t?318:x?Math.max(280,Math.min(P-308,382)):382,uri:i})):z.createElement(K,{alignItems:"center",display:"flex",justifyContent:"center",style:{flexGrow:1}},z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"8"},z.createElement(K,{borderRadius:"10",height:U_,overflow:"hidden"},z.createElement(_n,{useAsImage:!o.isRainbowKitConnector,height:U_,src:u,width:U_})),z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"4",paddingX:"32",style:{textAlign:"center"}},z.createElement(De,{color:"modalText",size:"18",weight:"bold"},d?w.t("connect.status.opening",{wallet:l}):y?w.t("connect.status.not_installed",{wallet:l}):w.t("connect.status.not_available",{wallet:l})),!d&&y?z.createElement(K,{paddingTop:"20"},z.createElement(pi,{href:o.extensionDownloadUrl,label:w.t("connect.secondary_action.install.label"),type:"secondary"})):null,d&&!C&&z.createElement(z.Fragment,null,z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},z.createElement(De,{color:"modalTextSecondary",size:"14",textAlign:"center",weight:"medium"},w.t("connect.status.confirm"))),z.createElement(K,{alignItems:"center",color:"modalText",display:"flex",flexDirection:"row",height:"32",marginTop:"8"},r?z.createElement(pi,{label:w.t("connect.secondary_action.retry.label"),onClick:async()=>{p&&E(),s(o)}}):z.createElement(K,{color:"modalTextSecondary"},z.createElement(Rm,null))))))),z.createElement(K,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"row",gap:"8",height:"28",justifyContent:"space-between",marginTop:"12"},d&&_&&z.createElement(z.Fragment,null,z.createElement(De,{color:"modalTextSecondary",size:"14",weight:"medium"},_.description),z.createElement(pi,{label:_.label,onClick:_.onClick,type:"secondary"}))))}var q_=({actionLabel:e,description:t,iconAccent:r,iconBackground:n,iconUrl:i,isCompact:s,onAction:o,title:a,url:c,variant:u})=>{const l=u==="browser",f=!l&&r&&B0e(r);return z.createElement(K,{alignItems:"center",borderRadius:"13",display:"flex",justifyContent:"center",overflow:"hidden",paddingX:s?"18":"44",position:"relative",style:{flex:1,isolation:"isolate"},width:"full"},z.createElement(K,{borderColor:"actionButtonBorder",borderRadius:"13",borderStyle:"solid",borderWidth:"1",style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0",zIndex:1}}),l&&z.createElement(K,{background:"downloadTopCardBackground",height:"full",position:"absolute",style:{zIndex:0},width:"full"},z.createElement(K,{display:"flex",flexDirection:"row",justifyContent:"space-between",style:{bottom:"0",filter:"blur(20px)",left:"0",position:"absolute",right:"0",top:"0",transform:"translate3d(0, 0, 0)"}},z.createElement(K,{style:{filter:"blur(100px)",marginLeft:-27,marginTop:-20,opacity:.6,transform:"translate3d(0, 0, 0)"}},z.createElement(_n,{borderRadius:"full",height:"200",src:i,width:"200"})),z.createElement(K,{style:{filter:"blur(100px)",marginRight:0,marginTop:105,opacity:.6,overflow:"auto",transform:"translate3d(0, 0, 0)"}},z.createElement(_n,{borderRadius:"full",height:"200",src:i,width:"200"})))),!l&&f&&z.createElement(K,{background:"downloadBottomCardBackground",style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0"}},z.createElement(K,{position:"absolute",style:{background:`radial-gradient(50% 50% at 50% 50%, ${f[0]} 0%, ${f[1]} 25%, rgba(0,0,0,0) 100%)`,height:564,left:-215,top:-197,transform:"translate3d(0, 0, 0)",width:564}}),z.createElement(K,{position:"absolute",style:{background:`radial-gradient(50% 50% at 50% 50%, ${f[2]} 0%, rgba(0, 0, 0, 0) 100%)`,height:564,left:-1,top:-76,transform:"translate3d(0, 0, 0)",width:564}})),z.createElement(K,{alignItems:"flex-start",display:"flex",flexDirection:"row",gap:"24",height:"max",justifyContent:"center",style:{zIndex:1}},z.createElement(K,null,z.createElement(_n,{height:"60",src:i,width:"60",...n?{background:n,borderColor:"generalBorder",borderRadius:"10"}:null})),z.createElement(K,{display:"flex",flexDirection:"column",gap:"4",style:{flex:1},width:"full"},z.createElement(De,{color:"modalText",size:"14",weight:"bold"},a),z.createElement(De,{color:"modalTextSecondary",size:"14",weight:"medium"},t),z.createElement(K,{marginTop:"14",width:"max"},z.createElement(pi,{href:c,label:e,onClick:o,size:"medium"})))))};function K0e({changeWalletStep:e,wallet:t}){const r=H9(),n=V9(),s=oe.useContext(cE)==="compact",{desktop:o,desktopDownloadUrl:a,extension:c,extensionDownloadUrl:u,mobileDownloadUrl:l}=t,{i18n:f}=oe.useContext(Hr);return oe.useEffect(()=>{_Z(),xZ(),$0e(),k0e()},[]),z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24",height:"full",marginBottom:"8",marginTop:"4",width:"full"},z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"8",height:"full",justifyContent:"center",width:"full"},u&&z.createElement(q_,{actionLabel:f.t("get_options.extension.download.label",{browser:r}),description:f.t("get_options.extension.description"),iconUrl:PZ,isCompact:s,onAction:()=>e(c?.instructions?"INSTRUCTIONS_EXTENSION":"CONNECT"),title:f.t("get_options.extension.title",{wallet:t.name,browser:r}),url:u,variant:"browser"}),a&&z.createElement(q_,{actionLabel:f.t("get_options.desktop.download.label",{platform:n}),description:f.t("get_options.desktop.description"),iconUrl:SZ,isCompact:s,onAction:()=>e(o?.instructions?"INSTRUCTIONS_DESKTOP":"CONNECT"),title:f.t("get_options.desktop.title",{wallet:t.name,platform:n}),url:a,variant:"desktop"}),l&&z.createElement(q_,{actionLabel:f.t("get_options.mobile.download.label",{wallet:t.name}),description:f.t("get_options.mobile.description"),iconAccent:t.iconAccent,iconBackground:t.iconBackground,iconUrl:t.iconUrl,isCompact:s,onAction:()=>{e("DOWNLOAD")},title:f.t("get_options.mobile.title",{wallet:t.name}),variant:"app"})))}function Z0e({changeWalletStep:e,wallet:t}){const{downloadUrls:r,qrCode:n}=t,{i18n:i}=oe.useContext(Hr);return oe.useEffect(()=>{_Z(),xZ()},[]),z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24",height:"full",width:"full"},z.createElement(K,{style:{maxWidth:220,textAlign:"center"}},z.createElement(De,{color:"modalTextSecondary",size:"14",weight:"semibold"},i.t("get_mobile.description"))),z.createElement(K,{height:"full"},r?.qrCode?z.createElement(IZ,{logoSize:0,size:268,uri:r.qrCode}):null),z.createElement(K,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"row",gap:"8",height:"34",justifyContent:"space-between",marginBottom:"12",paddingY:"8"},z.createElement(pi,{label:i.t("get_mobile.continue.label"),onClick:()=>e(n?.instructions?"INSTRUCTIONS_MOBILE":"CONNECT")})))}var Y9={connect:()=>z.createElement(N0e,null),create:()=>z.createElement(D0e,null),install:e=>z.createElement(_n,{background:e.iconBackground,borderColor:"generalBorder",borderRadius:"10",height:"48",src:e.iconUrl,width:"48"}),refresh:()=>z.createElement(M0e,null),scan:()=>z.createElement(L0e,null)};function Y0e({connectWallet:e,wallet:t}){const{i18n:r}=oe.useContext(Hr);return z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},z.createElement(K,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},t?.qrCode?.instructions?.steps.map((n,i)=>z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:i},z.createElement(K,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},Y9[n.step]?.(t)),z.createElement(K,{display:"flex",flexDirection:"column",gap:"4"},z.createElement(De,{color:"modalText",size:"14",weight:"bold"},r.t(n.title,void 0,{rawKeyIfTranslationMissing:!0})),z.createElement(De,{color:"modalTextSecondary",size:"14",weight:"medium"},r.t(n.description,void 0,{rawKeyIfTranslationMissing:!0})))))),z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},z.createElement(pi,{label:r.t("get_instructions.mobile.connect.label"),onClick:()=>e(t)}),z.createElement(K,{as:"a",className:qr({active:"shrink",hover:"grow"}),display:"block",href:t?.qrCode?.instructions?.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},z.createElement(De,{color:"accentColor",size:"14",weight:"bold"},r.t("get_instructions.mobile.learn_more.label")))))}function Q0e({wallet:e}){const{i18n:t}=oe.useContext(Hr);return z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},z.createElement(K,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},e?.extension?.instructions?.steps.map((r,n)=>z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:n},z.createElement(K,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},Y9[r.step]?.(e)),z.createElement(K,{display:"flex",flexDirection:"column",gap:"4"},z.createElement(De,{color:"modalText",size:"14",weight:"bold"},t.t(r.title,void 0,{rawKeyIfTranslationMissing:!0})),z.createElement(De,{color:"modalTextSecondary",size:"14",weight:"medium"},t.t(r.description,void 0,{rawKeyIfTranslationMissing:!0})))))),z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},z.createElement(pi,{label:t.t("get_instructions.extension.refresh.label"),onClick:window.location.reload.bind(window.location)}),z.createElement(K,{as:"a",className:qr({active:"shrink",hover:"grow"}),display:"block",href:e?.extension?.instructions?.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},z.createElement(De,{color:"accentColor",size:"14",weight:"bold"},t.t("get_instructions.extension.learn_more.label")))))}function J0e({connectWallet:e,wallet:t}){const{i18n:r}=oe.useContext(Hr);return z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},z.createElement(K,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},t?.desktop?.instructions?.steps.map((n,i)=>z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:i},z.createElement(K,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},Y9[n.step]?.(t)),z.createElement(K,{display:"flex",flexDirection:"column",gap:"4"},z.createElement(De,{color:"modalText",size:"14",weight:"bold"},r.t(n.title,void 0,{rawKeyIfTranslationMissing:!0})),z.createElement(De,{color:"modalTextSecondary",size:"14",weight:"medium"},r.t(n.description,void 0,{rawKeyIfTranslationMissing:!0})))))),z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},z.createElement(pi,{label:r.t("get_instructions.desktop.connect.label"),onClick:()=>e(t)}),z.createElement(K,{as:"a",className:qr({active:"shrink",hover:"grow"}),display:"block",href:t?.desktop?.instructions?.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},z.createElement(De,{color:"accentColor",size:"14",weight:"bold"},r.t("get_instructions.desktop.learn_more.label")))))}function X0e({onClose:e}){const t="rk_connect_title",[r,n]=oe.useState(),[i,s]=oe.useState(),[o,a]=oe.useState(),c=!!i?.qrCode&&o,[u,l]=oe.useState(!1),d=oe.useContext(cE)===S1.COMPACT,{disclaimer:h}=oe.useContext(I1),{i18n:g}=oe.useContext(Hr),p=F9(),b=oe.useRef(!1),{connector:w}=oe.useContext(P1),v=km(!w).filter(q=>q.ready||!!q.extensionDownloadUrl).sort((q,U)=>q.groupIndex-U.groupIndex),m=km(),C=A0e(v,q=>q.groupName),E=["Recommended","Other","Popular","More","Others","Installed"];oe.useEffect(()=>{w&&!b.current&&(k("CONNECT"),O(w),b.current=!0)},[w]);const _=q=>{l(!1),q.ready&&q?.connect?.()?.catch(()=>{l(!0)})},P=async q=>{const U=v.find(F=>q.id===F.id);U?.getDesktopUri&&setTimeout(async()=>{const F=await U?.getDesktopUri?.();F&&window.open(F,p?"_blank":"_self")},0)},x=async q=>{const U=v.find(H=>q.id===H.id),F=await U?.getQrCodeUri?.();a(F),setTimeout(()=>{s(U),k("CONNECT")},F?0:50)},O=async q=>{j0e(q.id),q.ready&&(x(q),P(q)),_(q),n(q.id),q.ready||(s(q),k(q?.extensionDownloadUrl?"DOWNLOAD_OPTIONS":"CONNECT"))},D=q=>{const U=m.find(W=>q===W.id),F=U?.downloadUrls?.qrCode,H=!!U?.desktopDownloadUrl,V=!!U?.extensionDownloadUrl;s(U),k(F&&(V||H)?"DOWNLOAD_OPTIONS":F?"DOWNLOAD":H?"INSTRUCTIONS_DESKTOP":"INSTRUCTIONS_EXTENSION")},R=()=>{n(void 0),s(void 0),a(void 0)},k=(q,U=!1)=>{U&&q==="GET"&&T==="GET"?R():!U&&q==="GET"?S("GET"):!U&&q==="CONNECT"&&S("CONNECT"),A(q)},[T,S]=oe.useState("NONE"),[I,A]=oe.useState("NONE");let j=null,N=null,B=null,$;oe.useEffect(()=>{l(!1)},[I,i]);const L=!!(!!i?.extensionDownloadUrl&&i?.mobileDownloadUrl);switch(I){case"NONE":j=z.createElement(jj,{getWallet:()=>k("GET")});break;case"LEARN_COMPACT":j=z.createElement(jj,{compactModeEnabled:d,getWallet:()=>k("GET")}),N=g.t("intro.title"),B="NONE";break;case"GET":j=z.createElement(V0e,{getWalletDownload:D,compactModeEnabled:d}),N=g.t("get.title"),B=d?"LEARN_COMPACT":"NONE";break;case"CONNECT":j=i&&z.createElement(G0e,{changeWalletStep:k,compactModeEnabled:d,connectionError:u,onClose:e,qrCodeUri:o,reconnect:_,wallet:i}),N=c&&(i.name==="WalletConnect"?g.t("connect_scan.fallback_title"):g.t("connect_scan.title",{wallet:i.name})),B=d?w?null:"NONE":null,$=d?w?()=>{}:R:()=>{};break;case"DOWNLOAD_OPTIONS":j=i&&z.createElement(K0e,{changeWalletStep:k,wallet:i}),N=i&&g.t("get_options.short_title",{wallet:i.name}),B=w?"CONNECT":d?"NONE":T;break;case"DOWNLOAD":j=i&&z.createElement(Z0e,{changeWalletStep:k,wallet:i}),N=i&&g.t("get_mobile.title",{wallet:i.name}),B=L?"DOWNLOAD_OPTIONS":T;break;case"INSTRUCTIONS_MOBILE":j=i&&z.createElement(Y0e,{connectWallet:O,wallet:i}),N=i&&g.t("get_options.title",{wallet:d&&i.shortName||i.name}),B="DOWNLOAD";break;case"INSTRUCTIONS_EXTENSION":j=i&&z.createElement(Q0e,{wallet:i}),N=i&&g.t("get_options.title",{wallet:d&&i.shortName||i.name}),B="DOWNLOAD_OPTIONS";break;case"INSTRUCTIONS_DESKTOP":j=i&&z.createElement(J0e,{connectWallet:O,wallet:i}),N=i&&g.t("get_options.title",{wallet:d&&i.shortName||i.name}),B="DOWNLOAD_OPTIONS";break}return z.createElement(K,{display:"flex",flexDirection:"row",style:{maxHeight:d?468:504}},(d?I==="NONE":!0)&&z.createElement(K,{className:d?F0e:z0e,display:"flex",flexDirection:"column",marginTop:"16"},z.createElement(K,{display:"flex",justifyContent:"space-between"},d&&h&&z.createElement(K,{marginLeft:"16",width:"28"},z.createElement(I0e,{onClick:()=>k("LEARN_COMPACT")})),d&&!h&&z.createElement(K,{marginLeft:"16",width:"28"}),z.createElement(K,{marginLeft:d?"0":"6",paddingBottom:"8",paddingTop:"2",paddingX:"18"},z.createElement(De,{as:"h1",color:"modalText",id:t,size:"18",weight:"heavy",testId:"connect-header-label"},g.t("connect.title"))),d&&z.createElement(K,{marginRight:"16"},z.createElement(md,{onClose:e}))),z.createElement(K,{className:q0e,paddingBottom:"18"},Object.entries(C).map(([q,U],F)=>U.length>0&&z.createElement(oe.Fragment,{key:F},q?z.createElement(K,{marginBottom:"8",marginTop:"16",marginX:"6"},z.createElement(De,{color:q==="Installed"?"accentColor":"modalTextSecondary",size:"14",weight:"bold"},E.includes(q)?g.t(`connector_group.${q.toLowerCase()}`):q)):null,z.createElement(K,{display:"flex",flexDirection:"column",gap:"4"},U.map(H=>z.createElement(wZ,{currentlySelected:H.id===r,iconBackground:H.iconBackground,iconUrl:H.iconUrl,key:H.id,name:H.name,onClick:()=>O(H),ready:H.ready,recent:H.recent,testId:`wallet-option-${H.id}`,isRainbowKitConnector:H.isRainbowKitConnector})))))),d&&z.createElement(z.Fragment,null,z.createElement(K,{background:"generalBorder",height:"1",marginTop:"-1"}),h?z.createElement(K,{paddingX:"24",paddingY:"16",textAlign:"center"},z.createElement(h,{Link:K9,Text:Z9})):z.createElement(K,{alignItems:"center",display:"flex",justifyContent:"space-between",paddingX:"24",paddingY:"16"},z.createElement(K,{paddingY:"4"},z.createElement(De,{color:"modalTextSecondary",size:"14",weight:"medium"},g.t("connect.new_to_ethereum.description"))),z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",justifyContent:"center"},z.createElement(K,{className:qr({active:"shrink",hover:"grow"}),cursor:"pointer",onClick:()=>k("LEARN_COMPACT"),paddingY:"4",style:{willChange:"transform"},transition:"default"},z.createElement(De,{color:"accentColor",size:"14",weight:"bold"},g.t("connect.new_to_ethereum.learn_more.label"))))))),(d?I!=="NONE":!0)&&z.createElement(z.Fragment,null,!d&&z.createElement(K,{background:"generalBorder",minWidth:"1",width:"1"}),z.createElement(K,{display:"flex",flexDirection:"column",margin:"16",style:{flexGrow:1}},z.createElement(K,{alignItems:"center",display:"flex",justifyContent:"space-between",marginBottom:"12"},z.createElement(K,{width:"28"},B&&z.createElement(K,{as:"button",className:qr({active:"shrinkSm",hover:"growLg"}),color:"accentColor",onClick:()=>{B&&k(B,!0),$?.()},paddingX:"8",paddingY:"4",style:{boxSizing:"content-box",height:17,willChange:"transform"},transition:"default",type:"button"},z.createElement(bZ,null))),z.createElement(K,{display:"flex",justifyContent:"center",style:{flexGrow:1}},N&&z.createElement(De,{color:"modalText",size:"18",textAlign:"center",weight:"heavy"},N)),z.createElement(md,{onClose:e})),z.createElement(K,{display:"flex",flexDirection:"column",style:{minHeight:d?396:432}},z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"6",height:"full",justifyContent:"center",marginX:"8"},j)))))}var ege="_1am14412",tge="_1am14410",rge="_1am14413",nge=({wallet:e})=>z.createElement("svg",{className:rge,viewBox:"0 0 86 86",width:"86",height:"86"},z.createElement("title",null,"Loading"),z.createElement("rect",{x:"3",y:"3",width:80,height:80,rx:20,ry:20,strokeDasharray:`${160/3} ${320/3}`,strokeDashoffset:160,className:ege,style:{stroke:e?.iconAccent||"#0D3887"}}));function TZ({onClose:e,wallet:t,connecting:r}){const{connect:n,iconBackground:i,iconUrl:s,id:o,name:a,getMobileUri:c,ready:u,shortName:l,showWalletConnectModal:f}=t,d=yZ(s),h=oe.useRef(!1),{i18n:g}=oe.useContext(Hr),p=oe.useCallback(async()=>{if(o!=="walletConnect"&&(async()=>{const w=await c?.();if(w)if(w&&Hpe({mobileUri:w,name:a}),w.startsWith("http")){const y=document.createElement("a");y.href=w,y.target="_blank",y.rel="noreferrer noopener",y.click()}else window.location.href=w})(),f){f(),e?.();return}try{await n?.()}catch{}},[n,c,f,e,a,o]);return oe.useEffect(()=>{r&&!h.current&&(p(),h.current=!0)},[r,p]),z.createElement(K,{as:"button",color:u?"modalText":"modalTextSecondary",disabled:!u,fontFamily:"body",key:o,onClick:p,ref:d,style:{overflow:"visible",textAlign:"center"},testId:`wallet-option-${o}`,type:"button",width:"full"},z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},z.createElement(K,{display:"flex",alignItems:"center",justifyContent:"center",paddingBottom:"8",paddingTop:"10",position:"relative"},r?z.createElement(nge,{wallet:t}):null,z.createElement(_n,{background:i,borderRadius:"13",boxShadow:"walletLogo",height:"60",src:s,width:"60"})),r?null:z.createElement(K,{display:"flex",flexDirection:"column",textAlign:"center"},z.createElement(De,{as:"h2",color:t.ready?"modalText":"modalTextSecondary",size:"13",weight:"medium"},z.createElement(K,{as:"span",position:"relative"},l??a,!t.ready&&" (unsupported)")),t.recent&&z.createElement(De,{color:"accentColor",size:"12",weight:"medium"},g.t("connect.recent")))))}function ige({onClose:e}){const t="rk_connect_title",r=km().filter(h=>h.isRainbowKitConnector),{disclaimer:n,learnMoreUrl:i}=oe.useContext(I1);let s=null,o=null,a=!1,c=null;const[u,l]=oe.useState("CONNECT"),{i18n:f}=oe.useContext(Hr),d=x1();switch(u){case"CONNECT":{s=f.t("connect.title"),a=!0,o=z.createElement(K,null,z.createElement(K,{background:"profileForeground",className:tge,display:"flex",paddingBottom:"20",paddingTop:"6",paddingX:"20",style:{gap:"calc((100% - 40px - 240px + 47px) / 4)"}},r.filter(h=>h.ready).map(h=>z.createElement(K,{key:h.id,width:"60"},z.createElement(TZ,{onClose:e,wallet:h})))),z.createElement(K,{background:"generalBorder",height:"1",marginBottom:"32",marginTop:"-1"}),z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"32",paddingX:"32",style:{textAlign:"center"}},z.createElement(K,{display:"flex",flexDirection:"column",gap:"8",textAlign:"center"},z.createElement(De,{color:"modalText",size:"16",weight:"bold"},f.t("intro.title")),z.createElement(De,{color:"modalTextSecondary",size:"16"},f.t("intro.description")))),z.createElement(K,{paddingTop:"32",paddingX:"20"},z.createElement(K,{display:"flex",gap:"14",justifyContent:"center"},z.createElement(pi,{label:f.t("intro.get.label"),onClick:()=>l("GET"),size:"large",type:"secondary"}),z.createElement(pi,{href:i,label:f.t("intro.learn_more.label"),size:"large",type:"secondary"}))),n&&z.createElement(K,{marginTop:"28",marginX:"32",textAlign:"center"},z.createElement(n,{Link:K9,Text:Z9})));break}case"GET":{s=f.t("get.title"),c="CONNECT";const h=r?.filter(g=>g.downloadUrls?.ios||g.downloadUrls?.android||g.downloadUrls?.mobile)?.splice(0,3);o=z.createElement(K,null,z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",marginBottom:"36",marginTop:"5",paddingTop:"12",width:"full"},h.map((g,p)=>{const{downloadUrls:b,iconBackground:w,iconUrl:y,name:v}=g;return!b?.ios&&!b?.android&&!b?.mobile?null:z.createElement(K,{display:"flex",gap:"16",key:g.id,paddingX:"20",width:"full"},z.createElement(K,{style:{minHeight:48,minWidth:48}},z.createElement(_n,{background:w,borderColor:"generalBorder",borderRadius:"10",height:"48",src:y,width:"48"})),z.createElement(K,{display:"flex",flexDirection:"column",width:"full"},z.createElement(K,{alignItems:"center",display:"flex",height:"48"},z.createElement(K,{width:"full"},z.createElement(De,{color:"modalText",size:"18",weight:"bold"},v)),z.createElement(pi,{href:(d?b?.ios:b?.android)||b?.mobile,label:f.t("get.action.label"),size:"small",type:"secondary"})),p<h.length-1&&z.createElement(K,{background:"generalBorderDim",height:"1",marginY:"10",width:"full"})))})),z.createElement(K,{style:{marginBottom:"42px"}}),z.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"36",paddingX:"36",style:{textAlign:"center"}},z.createElement(K,{display:"flex",flexDirection:"column",gap:"12",textAlign:"center"},z.createElement(De,{color:"modalText",size:"16",weight:"bold"},f.t("get.looking_for.title")),z.createElement(De,{color:"modalTextSecondary",size:"16"},f.t("get.looking_for.mobile.description")))));break}}return z.createElement(K,{display:"flex",flexDirection:"column",paddingBottom:"36"},z.createElement(K,{background:a?"profileForeground":"modalBackground",display:"flex",flexDirection:"column",paddingBottom:"4",paddingTop:"14"},z.createElement(K,{display:"flex",justifyContent:"center",paddingBottom:"6",paddingX:"20",position:"relative"},c&&z.createElement(K,{display:"flex",position:"absolute",style:{left:0,marginBottom:-20,marginTop:-20}},z.createElement(K,{alignItems:"center",as:"button",className:qr({active:"shrinkSm",hover:"growLg"}),color:"accentColor",display:"flex",marginLeft:"4",marginTop:"20",onClick:()=>l(c),padding:"16",style:{height:17,willChange:"transform"},transition:"default",type:"button"},z.createElement(bZ,null))),z.createElement(K,{marginTop:"4",textAlign:"center",width:"full"},z.createElement(De,{as:"h1",color:"modalText",id:t,size:"20",weight:"bold"},s)),z.createElement(K,{alignItems:"center",display:"flex",height:"32",paddingRight:"14",position:"absolute",right:"0"},z.createElement(K,{style:{marginBottom:-20,marginTop:-20}},z.createElement(md,{onClose:e}))))),z.createElement(K,{display:"flex",flexDirection:"column"},o))}var sge=({onClose:e})=>{const{connector:t}=oe.useContext(P1),{i18n:r}=oe.useContext(Hr),n=t?.name||"";return z.createElement(K,null,z.createElement(K,{display:"flex",paddingBottom:"32",justifyContent:"center",alignItems:"center",background:"profileForeground",flexDirection:"column"},z.createElement(K,{width:"full",display:"flex",justifyContent:"flex-end",marginTop:"18",marginRight:"24"},z.createElement(md,{onClose:e})),z.createElement(K,{width:"60"},z.createElement(TZ,{onClose:e,wallet:t,connecting:!0})),z.createElement(K,{marginTop:"20"},z.createElement(De,{textAlign:"center",color:"modalText",size:"18",weight:"semibold"},r.t("connect.status.connect_mobile",{wallet:n}))),z.createElement(K,{maxWidth:"full",marginTop:"8"},z.createElement(De,{textAlign:"center",color:"modalText",size:"16",weight:"medium"},r.t("connect.status.confirm_mobile",{wallet:n})))))};function oge({onClose:e}){const{connector:t}=oe.useContext(P1);return Fr()?t?z.createElement(sge,{onClose:e}):z.createElement(ige,{onClose:e}):z.createElement(X0e,{onClose:e})}function age({onClose:e,open:t}){const r="rk_connect_title",n=L9(),{disconnect:i}=P9(),{isConnecting:s}=bi(),o=z.useCallback(()=>{e(),i()},[e,i]),a=z.useCallback(()=>{s&&i(),e()},[e,i,s]);return n==="disconnected"?z.createElement(O5,{onClose:a,open:t,titleId:r},z.createElement(j5,{bottomSheetOnMobile:!0,padding:"0",wide:!0},z.createElement(oge,{onClose:a}))):n==="unauthenticated"?z.createElement(O5,{onClose:o,open:t,titleId:r},z.createElement(j5,{bottomSheetOnMobile:!0,padding:"0"},z.createElement(zpe,{onClose:o,onCloseModal:e}))):null}function z_(){const[e,t]=oe.useState(!1);return{closeModal:oe.useCallback(()=>t(!1),[]),isModalOpen:e,openModal:oe.useCallback(()=>t(!0),[])}}var Dp=oe.createContext({accountModalOpen:!1,chainModalOpen:!1,connectModalOpen:!1,isWalletConnectModalOpen:!1,setIsWalletConnectModalOpen:()=>{}});function cge({children:e}){const{closeModal:t,isModalOpen:r,openModal:n}=z_(),{closeModal:i,isModalOpen:s,openModal:o}=z_(),{closeModal:a,isModalOpen:c,openModal:u}=z_(),[l,f]=oe.useState(!1),d=L9(),{chainId:h}=bi(),{chains:g}=en(),p=g.some(y=>y.id===h),b=oe.useCallback(({keepConnectModalOpen:y=!1}={})=>{y||t(),i(),a()},[t,i,a]),w=oE()==="unauthenticated";return FG({onConnect:()=>b({keepConnectModalOpen:w}),onDisconnect:()=>b()}),oe.useEffect(()=>{w&&b()},[w,b]),z.createElement(Dp.Provider,{value:oe.useMemo(()=>({accountModalOpen:s,chainModalOpen:c,connectModalOpen:r,isWalletConnectModalOpen:l,openAccountModal:p&&d==="connected"?o:void 0,openChainModal:d==="connected"?u:void 0,openConnectModal:d==="disconnected"||d==="unauthenticated"?n:void 0,setIsWalletConnectModalOpen:f}),[d,s,c,r,o,u,n,p,l])},e,z.createElement(age,{onClose:t,open:r}),z.createElement(m0e,{onClose:i,open:s}),z.createElement(C0e,{onClose:a,open:c}))}function uge(){const{accountModalOpen:e,chainModalOpen:t,connectModalOpen:r}=oe.useContext(Dp);return{accountModalOpen:e,chainModalOpen:t,connectModalOpen:r}}function lge(){const{accountModalOpen:e,openAccountModal:t}=oe.useContext(Dp);return{accountModalOpen:e,openAccountModal:t}}function dge(){const{chainModalOpen:e,openChainModal:t}=oe.useContext(Dp);return{chainModalOpen:e,openChainModal:t}}function OZ(){const{isWalletConnectModalOpen:e,setIsWalletConnectModalOpen:t}=oe.useContext(Dp);return{isWalletConnectModalOpen:e,setIsWalletConnectModalOpen:t}}function fge(){const{connectModalOpen:e,openConnectModal:t}=oe.useContext(Dp),{isWalletConnectModalOpen:r}=OZ();return{connectModalOpen:e||r,openConnectModal:t}}var F_=()=>{};function Q9({children:e}){const t=Khe(),{address:r}=bi(),{chainId:n}=bi(),{chains:i}=en(),s=i.some(R=>R.id===n),o=Vhe(),a=oE()??void 0,c=n?o[n]:void 0,u=c?.name??void 0,l=c?.iconUrl??void 0,f=c?.iconBackground??void 0,d=aE(l),h=oe.useContext(z9),g=XK().some(({status:R})=>R==="pending")&&h,{showBalance:p}=GK(),w=typeof p=="boolean"?p:p?$K(p)[Fr()?"smallScreen":"largeScreen"]:!0,{balance:y,ensAvatar:v,ensName:m}=ZK({address:r,includeBalance:w}),C=y?`${fZ(Number.parseFloat(y.formatted))} ${y.symbol}`:void 0,{openConnectModal:E}=fge(),{openChainModal:_}=dge(),{openAccountModal:P}=lge(),{accountModalOpen:x,chainModalOpen:O,connectModalOpen:D}=uge();return z.createElement(z.Fragment,null,e({account:r?{address:r,balanceDecimals:y?.decimals,balanceFormatted:y?.formatted,balanceSymbol:y?.symbol,displayBalance:C,displayName:m?pZ(m):hZ(r),ensAvatar:v??void 0,ensName:m??void 0,hasPendingTransactions:g}:void 0,accountModalOpen:x,authenticationStatus:a,chain:n?{hasIcon:!!l,iconBackground:f,iconUrl:d,id:n,name:u,unsupported:!s}:void 0,chainModalOpen:O,connectModalOpen:D,mounted:t(),openAccountModal:P??F_,openChainModal:_??F_,openConnectModal:E??F_}))}Q9.displayName="ConnectButton.Custom";var Lg={accountStatus:"full",chainStatus:{largeScreen:"full",smallScreen:"icon"},label:"Connect Wallet",showBalance:{largeScreen:!0,smallScreen:!1}};jZ=function({accountStatus:e=Lg.accountStatus,chainStatus:t=Lg.chainStatus,label:r=Lg.label,showBalance:n=Lg.showBalance}){const i=Hd(),s=L9(),{setShowBalance:o}=GK(),[a,c]=oe.useState(!1),{i18n:u}=oe.useContext(Hr);return oe.useEffect(()=>{o(n),a||c(!0)},[n,o]),a?z.createElement(Q9,null,({account:l,chain:f,mounted:d,openAccountModal:h,openChainModal:g,openConnectModal:p})=>{const b=d&&s!=="loading",w=f?.unsupported??!1;return z.createElement(K,{display:"flex",gap:"12",...!b&&{"aria-hidden":!0,style:{opacity:0,pointerEvents:"none",userSelect:"none"}}},b&&l&&s==="connected"?z.createElement(z.Fragment,null,f&&(i.length>1||w)&&z.createElement(K,{alignItems:"center","aria-label":"Chain Selector",as:"button",background:w?"connectButtonBackgroundError":"connectButtonBackground",borderRadius:"connectButton",boxShadow:"connectButton",className:qr({active:"shrink",hover:"grow"}),color:w?"connectButtonTextError":"connectButtonText",display:pf(t,y=>y==="none"?"none":"flex"),fontFamily:"body",fontWeight:"bold",gap:"6",key:w?"unsupported":"supported",onClick:g,paddingX:"10",paddingY:"8",testId:w?"wrong-network-button":"chain-button",transition:"default",type:"button"},w?z.createElement(K,{alignItems:"center",display:"flex",height:"24",paddingX:"4"},u.t("connect_wallet.wrong_network.label")):z.createElement(K,{alignItems:"center",display:"flex",gap:"6"},f.hasIcon?z.createElement(K,{display:pf(t,y=>y==="full"||y==="icon"?"block":"none"),height:"24",width:"24"},z.createElement(_n,{alt:f.name??"Chain icon",background:f.iconBackground,borderRadius:"full",height:"24",src:f.iconUrl,width:"24"})):null,z.createElement(K,{display:pf(t,y=>y==="icon"&&!f.iconUrl||y==="full"||y==="name"?"block":"none")},f.name??f.id)),z.createElement(ij,null)),!w&&z.createElement(K,{alignItems:"center",as:"button",background:"connectButtonBackground",borderRadius:"connectButton",boxShadow:"connectButton",className:qr({active:"shrink",hover:"grow"}),color:"connectButtonText",display:"flex",fontFamily:"body",fontWeight:"bold",onClick:h,testId:"account-button",transition:"default",type:"button"},l.displayBalance&&z.createElement(K,{display:pf(n,y=>y?"block":"none"),padding:"8",paddingLeft:"12"},l.displayBalance),z.createElement(K,{background:$K(n)[Fr()?"smallScreen":"largeScreen"]?"connectButtonInnerBackground":"connectButtonBackground",borderColor:"connectButtonBackground",borderRadius:"connectButton",borderStyle:"solid",borderWidth:"2",color:"connectButtonText",fontFamily:"body",fontWeight:"bold",paddingX:"8",paddingY:"6",transition:"default"},z.createElement(K,{alignItems:"center",display:"flex",gap:"6",height:"24"},z.createElement(K,{display:pf(e,y=>y==="full"||y==="avatar"?"block":"none")},z.createElement(HK,{address:l.address,imageUrl:l.ensAvatar,loading:l.hasPendingTransactions,size:24})),z.createElement(K,{alignItems:"center",display:"flex",gap:"6"},z.createElement(K,{display:pf(e,y=>y==="full"||y==="address"?"block":"none")},l.displayName),z.createElement(ij,null)))))):z.createElement(K,{as:"button",background:"accentColor",borderRadius:"connectButton",boxShadow:"connectButton",className:qr({active:"shrink",hover:"grow"}),color:"accentColorForeground",fontFamily:"body",fontWeight:"bold",height:"40",key:"connect",onClick:p,paddingX:"14",testId:"connect-button",transition:"default",type:"button"},d&&r==="Connect Wallet"?u.t("connect_wallet.label"):r))}):z.createElement(z.Fragment,null)};jZ.__defaultProps=Lg;jZ.Custom=Q9;var BZ=({appName:e,appDescription:t,appUrl:r,appIcon:n})=>({name:e,description:t??e,url:r??(typeof window<"u"?window.location.origin:""),icons:[...n?[n]:[]]});function hge(e){return Object.fromEntries(Object.entries(e).filter(([t,r])=>r!==void 0))}function pge(e,t){const r=[];for(const n of e)r.some(i=>i[t]===n[t])||r.push(n);return r}var gge=(e,{projectId:t,walletConnectParameters:r,appName:n,appDescription:i,appUrl:s,appIcon:o})=>{if(!e.length)throw new Error("No wallet list was provided");for(const{wallets:h,groupName:g}of e)if(!h.length)throw new Error(`No wallets provided for group: ${g}`);let a=-1;const c=[],u=[],l=[],f=BZ({appName:n,appDescription:i,appUrl:s,appIcon:o});for(const[h,{groupName:g,wallets:p}]of e.entries())for(const b of p){a++;const w=b({projectId:t,appName:n,appIcon:o,options:{metadata:f,...r},walletConnectParameters:{metadata:f,...r}});if(w?.iconAccent&&!R0e(w?.iconAccent))throw new Error(`Property \`iconAccent\` is not a hex value for wallet: ${w.name}`);const y={...w,groupIndex:h+1,groupName:g,index:a};typeof w.hidden=="function"?l.push(y):u.push(y)}const d=pge([...u,...l],"id");for(const{createConnector:h,groupIndex:g,groupName:p,hidden:b,...w}of d){if(typeof b=="function"&&b())continue;const y=C=>({rkDetails:hge({...w,groupIndex:g,groupName:p,isRainbowKitConnector:!0,...C||{}})});w.id==="walletConnect"&&c.push(h(y({isWalletConnectModalConnector:!0,showQrModal:!0})));const m=h(y());c.push(m)}return c},Rj=new Map,mge=({projectId:e,walletConnectParameters:t,rkDetailsShowQrModal:r,rkDetailsIsWalletConnectModalConnector:n})=>{let i={telemetryEnabled:!1,...t||{},projectId:e,showQrModal:!1};r&&(i={...i,showQrModal:!0}),"customStoragePrefix"in i||(i={...i,customStoragePrefix:n?"clientOne":"clientTwo"});const s=JSON.stringify(i),o=Rj.get(s);if(o)return o;const a=M9(i);return Rj.set(s,a),a};function bge({projectId:e,walletDetails:t,walletConnectParameters:r}){return n=>({...mge({projectId:e,walletConnectParameters:r,rkDetailsShowQrModal:t.rkDetails.showQrModal,rkDetailsIsWalletConnectModalConnector:t.rkDetails.isWalletConnectModalConnector})(n),...t})}function J9({projectId:e,walletConnectParameters:t}){const r="21fef48091f12692cad574a6f7753643";if(!e||e==="")throw new Error("No projectId found. Every dApp must now provide a WalletConnect Cloud projectId to enable WalletConnect v2 https://www.rainbowkit.com/docs/installation#configure");return e==="YOUR_PROJECT_ID"&&(e=r),n=>bge({projectId:e,walletDetails:n,walletConnectParameters:t})}function RZ(e){const t=typeof window<"u"?window:void 0;if(typeof t>"u"||typeof t.ethereum>"u")return;const r=t.ethereum.providers;return r?r.find(n=>n[e]):t.ethereum[e]?t.ethereum:void 0}function kZ(e){const t=(r,n)=>{const[i,...s]=n.split("."),o=r[i];if(o)return s.length===0?o:t(o,s.join("."))};if(typeof window<"u")return t(window,e)}function yge({flag:e,namespace:t}){return!!(t&&typeof kZ(t)<"u"||typeof RZ(e)<"u")}function wge({flag:e,namespace:t}){const r=typeof window<"u"?window:void 0;if(typeof r>"u")return;if(t){const i=kZ(t);if(i)return i}const n=r.ethereum?.providers;{const i=RZ(e);if(i)return i}return typeof n<"u"&&n.length>0?n[0]:r.ethereum}function vge(e){return t=>{const r=e?{target:()=>({id:t.rkDetails.id,name:t.rkDetails.name,provider:e})}:{};return n=>({...X3(r)(n),...t})}}function Ege({flag:e,namespace:t,target:r}){const n=r||wge({flag:e,namespace:t});return vge(n)}var NZ=({appName:e,appIcon:t})=>{const{preference:r,...n}=NZ;return{id:"baseAccount",name:"Base Account",shortName:"Base Account",rdns:"app.base.account",iconUrl:async()=>(await re(async()=>{const{default:i}=await import("./baseAccount-44UITRK7-CsjdbWCf.js");return{default:i}},[])).default,iconAccent:"#0000FF",iconBackground:"#0000FF",installed:!0,createConnector:i=>{const s=ohe({appName:e,appLogoUrl:t,...n,preference:{telemetry:!1,...r||{}}});return o=>({...s(o),...i})}}};function _ge(e){return!(!e?.isMetaMask||e.isBraveWallet&&!e._events&&!e._state||e.isApexWallet||e.isAvalanche||e.isBackpack||e.isBifrost||e.isBitKeep||e.isBitski||e.isBinance||e.isBlockWallet||e.isCoinbaseWallet||e.isDawn||e.isEnkrypt||e.isExodus||e.isFrame||e.isFrontier||e.isGamestop||e.isHyperPay||e.isImToken||e.isKuCoinWallet||e.isMathWallet||e.isNestWallet||e.isOkxWallet||e.isOKExWallet||e.isOneInchIOSWallet||e.isOneInchAndroidWallet||e.isOpera||e.isPhantom||e.isZilPay||e.isPortal||e.isxPortal||e.isRabby||e.isRainbow||e.isStatus||e.isTalisman||e.isTally||e.isTokenPocket||e.isTokenary||e.isTrust||e.isTrustWallet||e.isCTRL||e.isZeal||e.isCoin98||e.isMEWwallet||e.isSafeheron||e.isSafePal||e.isWigwam||e.isZerion||e.__seif)}var DZ=({projectId:e,walletConnectParameters:t})=>{const{...r}=DZ,n=typeof window<"u"?_ge(window.ethereum):!1,i=!n&&!Fr(),s=n||Fr();return{id:"metaMask",name:"MetaMask",rdns:"io.metamask",iconUrl:async()=>(await re(async()=>{const{default:o}=await import("./metaMaskWallet-SITXT2FV-BlemcphV.js");return{default:o}},[])).default,iconAccent:"#f6851a",iconBackground:"#fff",installed:n||void 0,downloadUrls:{android:"https://play.google.com/store/apps/details?id=io.metamask",ios:"https://apps.apple.com/us/app/metamask/id1438144202",mobile:"https://metamask.io/download",qrCode:"https://metamask.io/download",chrome:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",edge:"https://microsoftedge.microsoft.com/addons/detail/metamask/ejbalbakoplchlghecdalmeeeajnimhm",firefox:"https://addons.mozilla.org/firefox/addon/ether-metamask",opera:"https://addons.opera.com/extensions/details/metamask-10",browserExtension:"https://metamask.io/download"},mobile:{getUri:s?o=>o:void 0},qrCode:i?{getUri:o=>`https://metamask.app.link/wc?uri=${encodeURIComponent(o)}`,instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.qr_code.step1.description",step:"install",title:"wallet_connectors.metamask.qr_code.step1.title"},{description:"wallet_connectors.metamask.qr_code.step2.description",step:"create",title:"wallet_connectors.metamask.qr_code.step2.title"},{description:"wallet_connectors.metamask.qr_code.step3.description",step:"refresh",title:"wallet_connectors.metamask.qr_code.step3.title"}]}}:void 0,extension:{instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.extension.step1.description",step:"install",title:"wallet_connectors.metamask.extension.step1.title"},{description:"wallet_connectors.metamask.extension.step2.description",step:"create",title:"wallet_connectors.metamask.extension.step2.title"},{description:"wallet_connectors.metamask.extension.step3.description",step:"refresh",title:"wallet_connectors.metamask.extension.step3.title"}]}},createConnector:i?J9({projectId:e,walletConnectParameters:t}):(o=>a=>{const c=D9({dappMetadata:{connector:"rainbowkit",name:t?.metadata?.name,iconUrl:t?.metadata?.icons[0],url:t?.metadata?.url},headless:!0,checkInstallationImmediately:!1,enableAnalytics:!1,...r})(a);return{...c,...o,getChainId:async()=>{try{return await c.getChainId()}catch{return a.chains[0]?.id??1}}}})}},Cge=({projectId:e,walletConnectParameters:t})=>{const r=yge({flag:"isRainbow"}),n=!r,i=s=>LK()?s:x1()?`rainbow://wc?uri=${encodeURIComponent(s)}&connector=rainbowkit`:`https://rnbwapp.com/wc?uri=${encodeURIComponent(s)}&connector=rainbowkit`;return{id:"rainbow",name:"Rainbow",rdns:"me.rainbow",iconUrl:async()=>(await re(async()=>{const{default:s}=await import("./rainbowWallet-O26YNBMX-DUhYus-9.js");return{default:s}},[])).default,iconBackground:"#0c2f78",installed:n?void 0:r,downloadUrls:{android:"https://play.google.com/store/apps/details?id=me.rainbow&referrer=utm_source%3Drainbowkit&utm_source=rainbowkit",ios:"https://apps.apple.com/app/apple-store/id1457119021?pt=119997837&ct=rainbowkit&mt=8",mobile:"https://rainbow.download?utm_source=rainbowkit",qrCode:"https://rainbow.download?utm_source=rainbowkit&utm_medium=qrcode",browserExtension:"https://rainbow.me/extension?utm_source=rainbowkit"},mobile:{getUri:n?i:void 0},qrCode:n?{getUri:i,instructions:{learnMoreUrl:"https://learn.rainbow.me/connect-to-a-website-or-app?utm_source=rainbowkit&utm_medium=connector&utm_campaign=learnmore",steps:[{description:"wallet_connectors.rainbow.qr_code.step1.description",step:"install",title:"wallet_connectors.rainbow.qr_code.step1.title"},{description:"wallet_connectors.rainbow.qr_code.step2.description",step:"create",title:"wallet_connectors.rainbow.qr_code.step2.title"},{description:"wallet_connectors.rainbow.qr_code.step3.description",step:"scan",title:"wallet_connectors.rainbow.qr_code.step3.title"}]}}:void 0,createConnector:n?J9({projectId:e,walletConnectParameters:t}):Ege({flag:"isRainbow"})}},Age=()=>({id:"safe",name:"Safe",iconAccent:"#12ff80",iconBackground:"#fff",iconUrl:async()=>(await re(async()=>{const{default:e}=await import("./safeWallet-5MNKTR5Z-D-5imDLD.js");return{default:e}},[])).default,installed:!(typeof window>"u")&&window?.parent!==window,downloadUrls:{},createConnector:e=>t=>({...$9()(t),...e})}),xge=({projectId:e,options:t})=>({id:"walletConnect",name:"WalletConnect",installed:void 0,iconUrl:async()=>(await re(async()=>{const{default:n}=await import("./walletConnectWallet-YHWKVTDY-D3lyiczV.js");return{default:n}},[])).default,iconBackground:"#3b99fc",qrCode:{getUri:n=>n},createConnector:J9({projectId:e,walletConnectParameters:t})}),Ige=e=>e.reduce((r,n)=>{const i=n.id;return r[i]=ui(),r},{}),Pge=({appName:e,appDescription:t,appUrl:r,appIcon:n,wallets:i,projectId:s,walletConnectParameters:o,...a})=>{const{transports:c,chains:u,...l}=a,f=BZ({appName:e,appDescription:t,appUrl:r,appIcon:n}),d=gge(i||[{groupName:"Popular",wallets:[Age,Cge,NZ,DZ,xge]}],{projectId:s,appName:e,appDescription:t,appUrl:r,appIcon:n,walletConnectParameters:{metadata:f,...o}});return Nle({connectors:d,chains:u,transports:c||Ige(u),...l})};let lE,X9,kj,Dj,Sge;uE=999;lE=998;X9=146;kj={...Qn({id:X9,name:"Sonic",nativeCurrency:{name:"Sonic",symbol:"S",decimals:18},rpcUrls:{default:{http:["https://rpc.soniclabs.com"]}},blockExplorers:{default:{name:"Sonic Explorer",url:"https://sonicscan.org"}}}),iconUrl:"https://s2.coinmarketcap.com/static/img/coins/64x64/32684.png",iconBackground:"#0a0a0a"};Nj={...Qn({id:uE,name:"Hyperliquid",nativeCurrency:{name:"HYPE",symbol:"HYPE",decimals:18},rpcUrls:{default:{http:["https://rpc.hyperliquid.xyz/evm"]}},blockExplorers:{default:{name:"Hyperliquid Explorer",url:"https://explorer.hyperliquid.xyz"}}}),iconUrl:"/assets/green.png",iconBackground:"#0a0a0a"};Dj={...Qn({id:lE,name:"Hyperliquid Testnet",nativeCurrency:{name:"HYPE",symbol:"HYPE",decimals:18},rpcUrls:{default:{http:["https://rpc.hyperliquid-testnet.xyz/evm"]}},blockExplorers:{default:{name:"Hyperliquid Testnet Explorer",url:"https://explorer.hyperliquid-testnet.xyz"}},testnet:!0}),iconUrl:"/assets/green.png",iconBackground:"#0a0a0a"};$We={1:{name:"Ethereum",shortName:"ETH",logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/info/logo.png",color:"#627EEA"},42161:{name:"Arbitrum",shortName:"ARB",logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/arbitrum/info/logo.png",color:"#28A0F0"},10:{name:"Optimism",shortName:"OP",logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/optimism/info/logo.png",color:"#FF0420"},137:{name:"Polygon",shortName:"MATIC",logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/polygon/info/logo.png",color:"#8247E5"},8453:{name:"Base",shortName:"BASE",logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/base/info/logo.png",color:"#0052FF"},56:{name:"BNB Chain",shortName:"BNB",logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/binance/info/logo.png",color:"#F3BA2F"},43114:{name:"Avalanche",shortName:"AVAX",logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/avalanchec/info/logo.png",color:"#E84142"},[X9]:{name:"Sonic",shortName:"S",logo:"https://s2.coinmarketcap.com/static/img/coins/64x64/32684.png",color:"#1DB4F4"},[uE]:{name:"Hyperliquid",shortName:"HYPE",logo:"/assets/green.png",color:"#4ADE80"},[lE]:{name:"Hyperliquid Testnet",shortName:"HYPE-T",logo:"/assets/green.png",color:"#4ADE80",isTestnet:!0}};Sge=[{id:1,key:"eth",name:"Ethereum",shortName:"ETH",logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/info/logo.png",color:"#627EEA"},{id:42161,key:"arb",name:"Arbitrum",shortName:"ARB",logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/arbitrum/info/logo.png",color:"#28A0F0"},{id:10,key:"op",name:"Optimism",shortName:"OP",logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/optimism/info/logo.png",color:"#FF0420"},{id:137,key:"matic",name:"Polygon",shortName:"MATIC",logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/polygon/info/logo.png",color:"#8247E5"},{id:8453,key:"base",name:"Base",shortName:"BASE",logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/base/info/logo.png",color:"#0052FF"},{id:56,key:"bnb",name:"BNB Chain",shortName:"BNB",logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/binance/info/logo.png",color:"#F3BA2F"},{id:43114,key:"avax",name:"Avalanche",shortName:"AVAX",logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/avalanchec/info/logo.png",color:"#E84142"},{id:X9,key:"sonic",name:"Sonic",shortName:"S",logo:"https://s2.coinmarketcap.com/static/img/coins/64x64/32684.png",color:"#1DB4F4"},{id:uE,key:"hyperliquid",name:"Hyperliquid",shortName:"HYPE",logo:"/assets/green.png",color:"#4ADE80"},{id:lE,key:"hyperliquid-testnet",name:"Hyperliquid (Testnet)",shortName:"HYPE-T",logo:"/assets/green.png",color:"#4ADE80",isTestnet:!0,rpcUrl:"https://rpc.hyperliquid-testnet.xyz/evm"}];MWe=Sge.filter(e=>e.id!==uE&&e.id!==lE);LWe=Pge({appName:"Liquyn Swap",projectId:"03e25dad449e237174daba0f4a197af4",chains:[Bm,MO,qO,zO,px,UO,LO,kj,Nj,Dj],transports:{[Bm.id]:ui(),[MO.id]:ui(),[qO.id]:ui(),[zO.id]:ui(),[px.id]:ui(),[UO.id]:ui(),[LO.id]:ui(),[kj.id]:ui("https://rpc.soniclabs.com"),[Nj.id]:ui("https://rpc.hyperliquid.xyz/evm"),[Dj.id]:ui("https://rpc.hyperliquid-testnet.xyz/evm")}});function Tge(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let u=0;u<t.length;u++)t[u]=255;for(let u=0;u<e.length;u++){const l=e.charAt(u),f=l.charCodeAt(0);if(t[f]!==255)throw new TypeError(l+" is ambiguous");t[f]=u}const r=e.length,n=e.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let l=0,f=0,d=0;const h=u.length;for(;d!==h&&u[d]===0;)d++,l++;const g=(h-d)*s+1>>>0,p=new Uint8Array(g);for(;d!==h;){let y=u[d],v=0;for(let m=g-1;(y!==0||v<f)&&m!==-1;m--,v++)y+=256*p[m]>>>0,p[m]=y%r>>>0,y=y/r>>>0;if(y!==0)throw new Error("Non-zero carry");f=v,d++}let b=g-f;for(;b!==g&&p[b]===0;)b++;let w=n.repeat(l);for(;b<g;++b)w+=e.charAt(p[b]);return w}function a(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let l=0,f=0,d=0;for(;u[l]===n;)f++,l++;const h=(u.length-l)*i+1>>>0,g=new Uint8Array(h);for(;l<u.length;){const y=u.charCodeAt(l);if(y>255)return;let v=t[y];if(v===255)return;let m=0;for(let C=h-1;(v!==0||m<d)&&C!==-1;C--,m++)v+=r*g[C]>>>0,g[C]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");d=m,l++}let p=h-d;for(;p!==h&&g[p]===0;)p++;const b=new Uint8Array(f+(h-p));let w=f;for(;p!==h;)b[w++]=g[p++];return b}function c(u){const l=a(u);if(l)return l;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var Oge="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const eS=Tge(Oge);var H_={},$j;function $Z(){return $j||($j=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=e.HMAC=void 0;const t=ju();class r extends t.Hash{constructor(s,o){super(),this.finished=!1,this.destroyed=!1,(0,t.ahash)(s);const a=(0,t.toBytes)(o);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,u=new Uint8Array(c);u.set(a.length>c?s.create().update(a).digest():a);for(let l=0;l<u.length;l++)u[l]^=54;this.iHash.update(u),this.oHash=s.create();for(let l=0;l<u.length;l++)u[l]^=106;this.oHash.update(u),(0,t.clean)(u)}update(s){return(0,t.aexists)(this),this.iHash.update(s),this}digestInto(s){(0,t.aexists)(this),(0,t.abytes)(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:o,iHash:a,finished:c,destroyed:u,blockLen:l,outputLen:f}=this;return s=s,s.finished=c,s.destroyed=u,s.blockLen=l,s.outputLen=f,s.oHash=o._cloneInto(s.oHash),s.iHash=a._cloneInto(s.iHash),s}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.HMAC=r;const n=(i,s,o)=>new r(i,s).update(o).digest();e.hmac=n,e.hmac.create=(i,s)=>new r(i,s)})(H_)),H_}function jge(){if(typeof WebSocket<"u")return WebSocket;if(typeof globalThis.WebSocket<"u")return globalThis.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}let Bge,Rge;Bge=jge();Rge=Object.freeze(Object.defineProperty({__proto__:null,WebSocket:Bge},Symbol.toStringTag,{value:"Module"}));UWe=[{inputs:[{name:"preOpGas",type:"uint256"},{name:"paid",type:"uint256"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"targetSuccess",type:"bool"},{name:"targetResult",type:"bytes"}],name:"ExecutionResult",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"}],name:"ValidationResult",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"},{components:[{name:"aggregator",type:"address"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"stakeInfo",type:"tuple"}],name:"aggregatorInfo",type:"tuple"}],name:"ValidationResultWithAggregation",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"factory",type:"address"},{indexed:!1,name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[],name:"BeforeExecution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalStaked",type:"uint256"},{indexed:!1,name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"paymaster",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"success",type:"bool"},{indexed:!1,name:"actualGasCost",type:"uint256"},{indexed:!1,name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[],name:"SIG_VALIDATION_FAILED",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"},{name:"sender",type:"address"},{name:"paymasterAndData",type:"bytes"}],name:"_validateSenderAndPaymaster",outputs:[],stateMutability:"view",type:"function"},{inputs:[{name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"",type:"address"}],name:"deposits",outputs:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOps",type:"tuple[]"},{name:"aggregator",type:"address"},{name:"signature",type:"bytes"}],name:"opsPerAggregator",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"ops",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"key",type:"uint192"}],name:"incrementNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"callData",type:"bytes"},{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"paymaster",type:"address"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"}],name:"mUserOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"prefund",type:"uint256"},{name:"contextOffset",type:"uint256"},{name:"preOpGas",type:"uint256"}],name:"opInfo",type:"tuple"},{name:"context",type:"bytes"}],name:"innerHandleOp",outputs:[{name:"actualGasCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"uint192"}],name:"nonceSequenceNumber",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"op",type:"tuple"},{name:"target",type:"address"},{name:"targetCallData",type:"bytes"}],name:"simulateHandleOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"simulateValidation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"},{name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}];qWe="0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789";function MZ(e,t={}){const{forHash:r}=t,{authorization:n,factory:i,factoryData:s}=e;return r&&(i==="0x7702"||i==="0x7702000000000000000000000000000000000000")?n?Jr([n.address,s??"0x"]):"0x7702000000000000000000000000000000000000":i?Jr([i,s??"0x"]):"0x"}const Mj="0x22e325a297439656";function LZ(e,t={}){const{callGasLimit:r,callData:n,maxPriorityFeePerGas:i,maxFeePerGas:s,paymaster:o,paymasterData:a,paymasterPostOpGasLimit:c,paymasterSignature:u,paymasterVerificationGasLimit:l,sender:f,signature:d="0x",verificationGasLimit:h}=e,g=Jr([Qr(le(h||0n),{size:16}),Qr(le(r||0n),{size:16})]),p=MZ(e,t),b=Jr([Qr(le(i||0n),{size:16}),Qr(le(s||0n),{size:16})]),w=e.nonce??0n,y=o?Jr([o,Qr(le(l||0n),{size:16}),Qr(le(c||0n),{size:16}),a||"0x",...u?t.forHash?[Mj]:[u,Qr(le(lr(u)),{size:2}),Mj]:[]]):"0x",v=e.preVerificationGas??0n;return{accountGasLimits:g,callData:n,initCode:p,gasFees:b,nonce:w,paymasterAndData:y,preVerificationGas:v,sender:f,signature:d}}const kge={PackedUserOperation:[{type:"address",name:"sender"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"bytes32",name:"accountGasLimits"},{type:"uint256",name:"preVerificationGas"},{type:"bytes32",name:"gasFees"},{type:"bytes",name:"paymasterAndData"}]};function Nge(e){const{chainId:t,entryPointAddress:r,userOperation:n}=e,i=LZ(n,{forHash:!0});return{types:kge,primaryType:"PackedUserOperation",domain:{name:"ERC4337",version:"1",chainId:t,verifyingContract:r},message:i}}zWe=function(e){const{chainId:t,entryPointAddress:r,entryPointVersion:n}=e,i=e.userOperation,{authorization:s,callData:o="0x",callGasLimit:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,paymasterAndData:f="0x",preVerificationGas:d,sender:h,verificationGasLimit:g}=i;if(n==="0.8"||n==="0.9")return qV(Nge({chainId:t,entryPointAddress:r,userOperation:i}));const p=(()=>{if(n==="0.6"){const b=i.initCode?.slice(0,42),w=i.initCode?.slice(42),y=MZ({authorization:s,factory:b,factoryData:w},{forHash:!0});return Ws([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"bytes32"}],[h,l,ur(y),ur(o),a,g,d,c,u,ur(f)])}if(n==="0.7"){const b=LZ(i,{forHash:!0});return Ws([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"}],[b.sender,b.nonce,ur(b.initCode),ur(b.callData),b.accountGasLimits,b.preVerificationGas,b.gasFees,ur(b.paymasterAndData)])}throw new Error(`entryPointVersion "${n}" not supported.`)})();return ur(Ws([{type:"bytes32"},{type:"address"},{type:"uint256"}],[ur(p),r,BigInt(t)]))};FWe=async function(e){const{extend:t,nonceKeyManager:r=cae({source:{get(){return Date.now()},set(){}}}),...n}=e;let i=!1;const s=await e.getAddress();return{...t,...n,address:s,async getFactoryArgs(){return"isDeployed"in this&&await this.isDeployed()?{factory:void 0,factoryData:void 0}:e.getFactoryArgs()},async getNonce(o){const a=o?.key??BigInt(await r.consume({address:s,chainId:e.client.chain.id,client:e.client}));return e.getNonce?await e.getNonce({...o,key:a}):await Es(e.client,{abi:PP(["function getNonce(address, uint192) pure returns (uint256)"]),address:e.entryPoint.address,functionName:"getNonce",args:[s,a]})},async isDeployed(){return i?!0:(i=!!await Ie(e.client,g5,"getCode")({address:s}),i)},...e.sign?{async sign(o){const[{factory:a,factoryData:c},u]=await Promise.all([this.getFactoryArgs(),e.sign(o)]);return a&&c?r_({address:a,data:c,signature:u}):u}}:{},async signMessage(o){const[{factory:a,factoryData:c},u]=await Promise.all([this.getFactoryArgs(),e.signMessage(o)]);return a&&c&&a!=="0x7702"?r_({address:a,data:c,signature:u}):u},async signTypedData(o){const[{factory:a,factoryData:c},u]=await Promise.all([this.getFactoryArgs(),e.signTypedData(o)]);return a&&c&&a!=="0x7702"?r_({address:a,data:c,signature:u}):u},type:"smart"}};class bx extends se{constructor({cause:t}){super("Smart Account is not deployed.",{cause:t,metaMessages:["This could arise when:","- No `factory`/`factoryData` or `initCode` properties are provided for Smart Account deployment.","- An incorrect `sender` address is provided."],name:"AccountNotDeployedError"})}}Object.defineProperty(bx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa20/});class Qh extends se{constructor({cause:t,data:r,message:n}={}){const i=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${i?`with reason: ${i}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r}}Object.defineProperty(Qh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32521});Object.defineProperty(Qh,"message",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class yx extends se{constructor({cause:t}){super("Failed to send funds to beneficiary.",{cause:t,name:"FailedToSendToBeneficiaryError"})}}Object.defineProperty(yx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa91/});class wx extends se{constructor({cause:t}){super("Gas value overflowed.",{cause:t,metaMessages:["This could arise when:","- one of the gas values exceeded 2**120 (uint120)"].filter(Boolean),name:"GasValuesOverflowError"})}}Object.defineProperty(wx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa94/});class vx extends se{constructor({cause:t}){super("The `handleOps` function was called by the Bundler with a gas limit too low.",{cause:t,name:"HandleOpsOutOfGasError"})}}Object.defineProperty(vx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa95/});class Ex extends se{constructor({cause:t,factory:r,factoryData:n,initCode:i}){super("Failed to simulate deployment for Smart Account.",{cause:t,metaMessages:["This could arise when:","- Invalid `factory`/`factoryData` or `initCode` properties are present","- Smart Account deployment execution ran out of gas (low `verificationGasLimit` value)",`- Smart Account deployment execution reverted with an error
`,r&&`factory: ${r}`,n&&`factoryData: ${n}`,i&&`initCode: ${i}`].filter(Boolean),name:"InitCodeFailedError"})}}Object.defineProperty(Ex,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa13/});class _x extends se{constructor({cause:t,factory:r,factoryData:n,initCode:i}){super("Smart Account initialization implementation did not create an account.",{cause:t,metaMessages:["This could arise when:","- `factory`/`factoryData` or `initCode` properties are invalid",`- Smart Account initialization implementation is incorrect
`,r&&`factory: ${r}`,n&&`factoryData: ${n}`,i&&`initCode: ${i}`].filter(Boolean),name:"InitCodeMustCreateSenderError"})}}Object.defineProperty(_x,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa15/});class Cx extends se{constructor({cause:t,factory:r,factoryData:n,initCode:i,sender:s}){super("Smart Account initialization implementation does not return the expected sender.",{cause:t,metaMessages:["This could arise when:",`Smart Account initialization implementation does not return a sender address
`,r&&`factory: ${r}`,n&&`factoryData: ${n}`,i&&`initCode: ${i}`,s&&`sender: ${s}`].filter(Boolean),name:"InitCodeMustReturnSenderError"})}}Object.defineProperty(Cx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa14/});class Ax extends se{constructor({cause:t}){super("Smart Account does not have sufficient funds to execute the User Operation.",{cause:t,metaMessages:["This could arise when:","- the Smart Account does not have sufficient funds to cover the required prefund, or","- a Paymaster was not provided"].filter(Boolean),name:"InsufficientPrefundError"})}}Object.defineProperty(Ax,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa21/});class xx extends se{constructor({cause:t}){super("Bundler attempted to call an invalid function on the EntryPoint.",{cause:t,name:"InternalCallOnlyError"})}}Object.defineProperty(xx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa92/});class Ix extends se{constructor({cause:t}){super("Bundler used an invalid aggregator for handling aggregated User Operations.",{cause:t,name:"InvalidAggregatorError"})}}Object.defineProperty(Ix,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa96/});class Px extends se{constructor({cause:t,nonce:r}){super("Invalid Smart Account nonce used for User Operation.",{cause:t,metaMessages:[r&&`nonce: ${r}`].filter(Boolean),name:"InvalidAccountNonceError"})}}Object.defineProperty(Px,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa25/});class Sx extends se{constructor({cause:t}){super("Bundler has not set a beneficiary address.",{cause:t,name:"InvalidBeneficiaryError"})}}Object.defineProperty(Sx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa90/});class B5 extends se{constructor({cause:t}){super("Invalid fields set on User Operation.",{cause:t,name:"InvalidFieldsError"})}}Object.defineProperty(B5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Tx extends se{constructor({cause:t,paymasterAndData:r}){super("Paymaster properties provided are invalid.",{cause:t,metaMessages:["This could arise when:","- the `paymasterAndData` property is of an incorrect length\n",r&&`paymasterAndData: ${r}`].filter(Boolean),name:"InvalidPaymasterAndDataError"})}}Object.defineProperty(Tx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa93/});class Vl extends se{constructor({cause:t}){super("Paymaster deposit for the User Operation is too low.",{cause:t,metaMessages:["This could arise when:","- the Paymaster has deposited less than the expected amount via the `deposit` function"].filter(Boolean),name:"PaymasterDepositTooLowError"})}}Object.defineProperty(Vl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32508});Object.defineProperty(Vl,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa31/});class Ox extends se{constructor({cause:t}){super("The `validatePaymasterUserOp` function on the Paymaster reverted.",{cause:t,name:"PaymasterFunctionRevertedError"})}}Object.defineProperty(Ox,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa33/});class jx extends se{constructor({cause:t}){super("The Paymaster contract has not been deployed.",{cause:t,name:"PaymasterNotDeployedError"})}}Object.defineProperty(jx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa30/});class R5 extends se{constructor({cause:t}){super("UserOperation rejected because paymaster (or signature aggregator) is throttled/banned.",{cause:t,name:"PaymasterRateLimitError"})}}Object.defineProperty(R5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32504});class k5 extends se{constructor({cause:t}){super("UserOperation rejected because paymaster (or signature aggregator) is throttled/banned.",{cause:t,name:"PaymasterStakeTooLowError"})}}Object.defineProperty(k5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32505});class Bx extends se{constructor({cause:t}){super("Paymaster `postOp` function reverted.",{cause:t,name:"PaymasterPostOpFunctionRevertedError"})}}Object.defineProperty(Bx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa50/});class Rx extends se{constructor({cause:t,factory:r,factoryData:n,initCode:i}){super("Smart Account has already been deployed.",{cause:t,metaMessages:["Remove the following properties and try again:",r&&"`factory`",n&&"`factoryData`",i&&"`initCode`"].filter(Boolean),name:"SenderAlreadyConstructedError"})}}Object.defineProperty(Rx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa10/});class N5 extends se{constructor({cause:t}){super("UserOperation rejected because account signature check failed (or paymaster signature, if the paymaster uses its data as signature).",{cause:t,name:"SignatureCheckFailedError"})}}Object.defineProperty(N5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32507});class kx extends se{constructor({cause:t}){super("The `validateUserOp` function on the Smart Account reverted.",{cause:t,name:"SmartAccountFunctionRevertedError"})}}Object.defineProperty(kx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa23/});class D5 extends se{constructor({cause:t}){super("UserOperation rejected because account specified unsupported signature aggregator.",{cause:t,name:"UnsupportedSignatureAggregatorError"})}}Object.defineProperty(D5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32506});class Nx extends se{constructor({cause:t}){super("User Operation expired.",{cause:t,metaMessages:["This could arise when:","- the `validAfter` or `validUntil` values returned from `validateUserOp` on the Smart Account are not satisfied"].filter(Boolean),name:"UserOperationExpiredError"})}}Object.defineProperty(Nx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa22/});class Dx extends se{constructor({cause:t}){super("Paymaster for User Operation expired.",{cause:t,metaMessages:["This could arise when:","- the `validAfter` or `validUntil` values returned from `validatePaymasterUserOp` on the Paymaster are not satisfied"].filter(Boolean),name:"UserOperationPaymasterExpiredError"})}}Object.defineProperty(Dx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa32/});class $x extends se{constructor({cause:t}){super("Signature provided for the User Operation is invalid.",{cause:t,metaMessages:["This could arise when:","- the `signature` for the User Operation is incorrectly computed, and unable to be verified by the Smart Account"].filter(Boolean),name:"UserOperationSignatureError"})}}Object.defineProperty($x,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa24/});class Mx extends se{constructor({cause:t}){super("Signature provided for the User Operation is invalid.",{cause:t,metaMessages:["This could arise when:","- the `signature` for the User Operation is incorrectly computed, and unable to be verified by the Paymaster"].filter(Boolean),name:"UserOperationPaymasterSignatureError"})}}Object.defineProperty(Mx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa34/});class $5 extends se{constructor({cause:t}){super("User Operation rejected by EntryPoint's `simulateValidation` during account creation or validation.",{cause:t,name:"UserOperationRejectedByEntryPointError"})}}Object.defineProperty($5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32500});class M5 extends se{constructor({cause:t}){super("User Operation rejected by Paymaster's `validatePaymasterUserOp`.",{cause:t,name:"UserOperationRejectedByPaymasterError"})}}Object.defineProperty(M5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32501});class L5 extends se{constructor({cause:t}){super("User Operation rejected with op code validation error.",{cause:t,name:"UserOperationRejectedByOpCodeError"})}}Object.defineProperty(L5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32502});class U5 extends se{constructor({cause:t}){super("UserOperation out of time-range: either wallet or paymaster returned a time-range, and it is already expired (or will expire soon).",{cause:t,name:"UserOperationOutOfTimeRangeError"})}}Object.defineProperty(U5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32503});class Dge extends se{constructor({cause:t}){super(`An error occurred while executing user operation: ${t?.shortMessage}`,{cause:t,name:"UnknownBundlerError"})}}class Lx extends se{constructor({cause:t}){super("User Operation verification gas limit exceeded.",{cause:t,metaMessages:["This could arise when:","- the gas used for verification exceeded the `verificationGasLimit`"].filter(Boolean),name:"VerificationGasLimitExceededError"})}}Object.defineProperty(Lx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa40/});class Ux extends se{constructor({cause:t}){super("User Operation verification gas limit is too low.",{cause:t,metaMessages:["This could arise when:","- the `verificationGasLimit` is too low to verify the User Operation"].filter(Boolean),name:"VerificationGasLimitTooLowError"})}}Object.defineProperty(Ux,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa41/});class $ge extends se{constructor(t,{callData:r,callGasLimit:n,docsPath:i,factory:s,factoryData:o,initCode:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,paymaster:f,paymasterAndData:d,paymasterData:h,paymasterPostOpGasLimit:g,paymasterVerificationGasLimit:p,preVerificationGas:b,sender:w,signature:y,verificationGasLimit:v}){const m=Bp({callData:r,callGasLimit:n,factory:s,factoryData:o,initCode:a,maxFeePerGas:typeof c<"u"&&`${Kn(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Kn(u)} gwei`,nonce:l,paymaster:f,paymasterAndData:d,paymasterData:h,paymasterPostOpGasLimit:g,paymasterVerificationGasLimit:p,preVerificationGas:b,sender:w,signature:y,verificationGasLimit:v});super(t.shortMessage,{cause:t,docsPath:i,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",m].filter(Boolean),name:"UserOperationExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Mge extends se{constructor({hash:t}){super(`User Operation receipt with hash "${t}" could not be found. The User Operation may not have been processed yet.`,{name:"UserOperationReceiptNotFoundError"})}}class Lge extends se{constructor({hash:t}){super(`User Operation with hash "${t}" could not be found.`,{name:"UserOperationNotFoundError"})}}class Lj extends se{constructor({hash:t}){super(`Timed out while waiting for User Operation with hash "${t}" to be confirmed.`,{name:"WaitForUserOperationReceiptTimeoutError"})}}const Uge=[Qh,B5,Vl,R5,k5,N5,D5,U5,$5,M5,L5];function qge(e,t){const r=(e.details||"").toLowerCase();if(bx.message.test(r))return new bx({cause:e});if(yx.message.test(r))return new yx({cause:e});if(wx.message.test(r))return new wx({cause:e});if(vx.message.test(r))return new vx({cause:e});if(Ex.message.test(r))return new Ex({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode});if(_x.message.test(r))return new _x({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode});if(Cx.message.test(r))return new Cx({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode,sender:t.sender});if(Ax.message.test(r))return new Ax({cause:e});if(xx.message.test(r))return new xx({cause:e});if(Px.message.test(r))return new Px({cause:e,nonce:t.nonce});if(Ix.message.test(r))return new Ix({cause:e});if(Sx.message.test(r))return new Sx({cause:e});if(Tx.message.test(r))return new Tx({cause:e});if(Vl.message.test(r))return new Vl({cause:e});if(Ox.message.test(r))return new Ox({cause:e});if(jx.message.test(r))return new jx({cause:e});if(Bx.message.test(r))return new Bx({cause:e});if(kx.message.test(r))return new kx({cause:e});if(Rx.message.test(r))return new Rx({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode});if(Nx.message.test(r))return new Nx({cause:e});if(Dx.message.test(r))return new Dx({cause:e});if(Mx.message.test(r))return new Mx({cause:e});if($x.message.test(r))return new $x({cause:e});if(Lx.message.test(r))return new Lx({cause:e});if(Ux.message.test(r))return new Ux({cause:e});const n=e.walk(i=>Uge.some(s=>s.code===i.code));if(n){if(n.code===Qh.code)return new Qh({cause:e,data:n.data,message:n.details});if(n.code===B5.code)return new B5({cause:e});if(n.code===Vl.code)return new Vl({cause:e});if(n.code===R5.code)return new R5({cause:e});if(n.code===k5.code)return new k5({cause:e});if(n.code===N5.code)return new N5({cause:e});if(n.code===D5.code)return new D5({cause:e});if(n.code===U5.code)return new U5({cause:e});if(n.code===$5.code)return new $5({cause:e});if(n.code===M5.code)return new M5({cause:e});if(n.code===L5.code)return new L5({cause:e})}return new Dge({cause:e})}function UZ(e,{calls:t,docsPath:r,...n}){const i=(()=>{const s=qge(e,n);if(t&&s instanceof Qh){const o=zge(s),a=t?.filter(c=>c.abi);if(o&&a.length>0)return Fge({calls:a,revertData:o})}return s})();return new $ge(i,{docsPath:r,...n})}function zge(e){let t;return e.walk(r=>{const n=r;if(typeof n.data=="string"||typeof n.data?.revertData=="string"||!(n instanceof se)&&typeof n.message=="string"){const i=(n.data?.revertData||n.data||n.message).match?.(/(0x[A-Za-z0-9]*)/);if(i)return t=i[1],!0}return!1}),t}function Fge(e){const{calls:t,revertData:r}=e,{abi:n,functionName:i,args:s,to:o}=(()=>{const c=t?.filter(l=>!!l.abi);if(c.length===1)return c[0];const u=c.filter(l=>{try{return!!LP({abi:l.abi,data:r})}catch{return!1}});return u.length===1?u[0]:{abi:[],functionName:c.reduce((l,f)=>`${l?`${l} | `:""}${f.functionName}`,""),args:void 0,to:void 0}})(),a=r==="0x"?new FW({functionName:i}):new p5({abi:n,data:r,functionName:i});return new j3(a,{abi:n,args:s,contractAddress:o,functionName:i})}function Hge(e){const t={};return e.callGasLimit&&(t.callGasLimit=BigInt(e.callGasLimit)),e.preVerificationGas&&(t.preVerificationGas=BigInt(e.preVerificationGas)),e.verificationGasLimit&&(t.verificationGasLimit=BigInt(e.verificationGasLimit)),e.paymasterPostOpGasLimit&&(t.paymasterPostOpGasLimit=BigInt(e.paymasterPostOpGasLimit)),e.paymasterVerificationGasLimit&&(t.paymasterVerificationGasLimit=BigInt(e.paymasterVerificationGasLimit)),t}function dE(e){const t={};return typeof e.callData<"u"&&(t.callData=e.callData),typeof e.callGasLimit<"u"&&(t.callGasLimit=le(e.callGasLimit)),typeof e.factory<"u"&&(t.factory=e.factory),typeof e.factoryData<"u"&&(t.factoryData=e.factoryData),typeof e.initCode<"u"&&(t.initCode=e.initCode),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=le(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=le(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=le(e.nonce)),typeof e.paymaster<"u"&&(t.paymaster=e.paymaster),typeof e.paymasterAndData<"u"&&(t.paymasterAndData=e.paymasterAndData||"0x"),typeof e.paymasterData<"u"&&(t.paymasterData=e.paymasterData),typeof e.paymasterPostOpGasLimit<"u"&&(t.paymasterPostOpGasLimit=le(e.paymasterPostOpGasLimit)),typeof e.paymasterSignature<"u"&&(t.paymasterSignature=e.paymasterSignature),typeof e.paymasterVerificationGasLimit<"u"&&(t.paymasterVerificationGasLimit=le(e.paymasterVerificationGasLimit)),typeof e.preVerificationGas<"u"&&(t.preVerificationGas=le(e.preVerificationGas)),typeof e.sender<"u"&&(t.sender=e.sender),typeof e.signature<"u"&&(t.signature=e.signature),typeof e.verificationGasLimit<"u"&&(t.verificationGasLimit=le(e.verificationGasLimit)),typeof e.authorization<"u"&&(t.eip7702Auth=Wge(e.authorization)),t}function Wge(e){return{address:e.address,chainId:le(e.chainId),nonce:le(e.nonce),r:e.r?le(BigInt(e.r),{size:32}):Qr("0x",{size:32}),s:e.s?le(BigInt(e.s),{size:32}):Qr("0x",{size:32}),yParity:e.yParity?le(e.yParity,{size:1}):Qr("0x",{size:32})}}async function Vge(e,t){const{chainId:r,entryPointAddress:n,context:i,...s}=t,o=dE(s),{paymasterPostOpGasLimit:a,paymasterVerificationGasLimit:c,...u}=await e.request({method:"pm_getPaymasterData",params:[{...o,callGasLimit:o.callGasLimit??"0x0",verificationGasLimit:o.verificationGasLimit??"0x0",preVerificationGas:o.preVerificationGas??"0x0"},n,le(r),i]});return{...u,...a&&{paymasterPostOpGasLimit:Er(a)},...c&&{paymasterVerificationGasLimit:Er(c)}}}async function Gge(e,t){const{chainId:r,entryPointAddress:n,context:i,...s}=t,o=dE(s),{paymasterPostOpGasLimit:a,paymasterVerificationGasLimit:c,...u}=await e.request({method:"pm_getPaymasterStubData",params:[{...o,callGasLimit:o.callGasLimit??"0x0",verificationGasLimit:o.verificationGasLimit??"0x0",preVerificationGas:o.preVerificationGas??"0x0"},n,le(r),i]});return{...u,...a&&{paymasterPostOpGasLimit:Er(a)},...c&&{paymasterVerificationGasLimit:Er(c)}}}const Kge=["factory","fees","gas","paymaster","nonce","signature","authorization"];async function tS(e,t){const r=t,{account:n=e.account,parameters:i=Kge,stateOverride:s}=r;if(!n)throw new jo;const o=zt(n),a=e,c=r.paymaster??a?.paymaster,u=typeof c=="string"?c:void 0,{getPaymasterStubData:l,getPaymasterData:f}=(()=>{if(c===!0)return{getPaymasterStubData:E=>Ie(a,Gge,"getPaymasterStubData")(E),getPaymasterData:E=>Ie(a,Vge,"getPaymasterData")(E)};if(typeof c=="object"){const{getPaymasterStubData:E,getPaymasterData:_}=c;return{getPaymasterStubData:_&&E?E:_,getPaymasterData:_&&E?_:void 0}}return{getPaymasterStubData:void 0,getPaymasterData:void 0}})(),d=r.paymasterContext?r.paymasterContext:a?.paymasterContext;let h={...r,paymaster:u,sender:o.address};const[g,p,b,w,y]=await Promise.all([(async()=>r.calls?o.encodeCalls(r.calls.map(E=>{const _=E;return _.abi?{data:Fi(_),to:_.to,value:_.value}:_})):r.callData)(),(async()=>{if(!i.includes("factory"))return;if(r.initCode)return{initCode:r.initCode};if(r.factory&&r.factoryData)return{factory:r.factory,factoryData:r.factoryData};const{factory:E,factoryData:_}=await o.getFactoryArgs();return o.entryPoint.version==="0.6"?{initCode:E&&_?Jr([E,_]):void 0}:{factory:E,factoryData:_}})(),(async()=>{if(i.includes("fees")){if(typeof r.maxFeePerGas=="bigint"&&typeof r.maxPriorityFeePerGas=="bigint")return h;if(a?.userOperation?.estimateFeesPerGas){const E=await a.userOperation.estimateFeesPerGas({account:o,bundlerClient:a,userOperation:h});return{...h,...E}}try{const E=a.client??e,_=await Ie(E,AV,"estimateFeesPerGas")({chain:E.chain,type:"eip1559"});return{maxFeePerGas:typeof r.maxFeePerGas=="bigint"?r.maxFeePerGas:BigInt(2n*_.maxFeePerGas),maxPriorityFeePerGas:typeof r.maxPriorityFeePerGas=="bigint"?r.maxPriorityFeePerGas:BigInt(2n*_.maxPriorityFeePerGas)}}catch{return}}})(),(async()=>{if(i.includes("nonce"))return typeof r.nonce=="bigint"?r.nonce:o.getNonce()})(),(async()=>{if(i.includes("authorization")){if(typeof r.authorization=="object")return r.authorization;if(o.authorization&&!await o.isDeployed())return{...await A9(o.client,o.authorization),r:"0xfffffffffffffffffffffffffffffff000000000000000000000000000000000",s:"0x7aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",yParity:1}}})()]);typeof g<"u"&&(h.callData=g),typeof p<"u"&&(h={...h,...p}),typeof b<"u"&&(h={...h,...b}),typeof w<"u"&&(h.nonce=w),typeof y<"u"&&(h.authorization=y),i.includes("signature")&&(typeof r.signature<"u"?h.signature=r.signature:h.signature=await o.getStubSignature(h)),o.entryPoint.version==="0.6"&&!h.initCode&&(h.initCode="0x");let v;async function m(){return v||(e.chain?e.chain.id:(v=await Ie(e,wa,"getChainId")({}),v))}let C=!1;if(i.includes("paymaster")&&l&&!u&&!r.paymasterAndData){const{isFinal:E=!1,sponsor:_,...P}=await l({chainId:await m(),entryPointAddress:o.entryPoint.address,context:d,...h});C=E,h={...h,...P}}if(o.entryPoint.version==="0.6"&&!h.paymasterAndData&&(h.paymasterAndData="0x"),i.includes("gas")){if(o.userOperation?.estimateGas){const E=await o.userOperation.estimateGas(h);h={...h,...E}}if(typeof h.callGasLimit>"u"||typeof h.preVerificationGas>"u"||typeof h.verificationGasLimit>"u"||h.paymaster&&typeof h.paymasterPostOpGasLimit>"u"||h.paymaster&&typeof h.paymasterVerificationGasLimit>"u"){const E=await Ie(a,qZ,"estimateUserOperationGas")({account:o,callGasLimit:0n,preVerificationGas:0n,verificationGasLimit:0n,stateOverride:s,...h.paymaster?{paymasterPostOpGasLimit:0n,paymasterVerificationGasLimit:0n}:{},...h});h={...h,callGasLimit:h.callGasLimit??E.callGasLimit,preVerificationGas:h.preVerificationGas??E.preVerificationGas,verificationGasLimit:h.verificationGasLimit??E.verificationGasLimit,paymasterPostOpGasLimit:h.paymasterPostOpGasLimit??E.paymasterPostOpGasLimit,paymasterVerificationGasLimit:h.paymasterVerificationGasLimit??E.paymasterVerificationGasLimit}}}if(i.includes("paymaster")&&f&&!u&&!r.paymasterAndData&&!C){const E=await f({chainId:await m(),entryPointAddress:o.entryPoint.address,context:d,...h});h={...h,...E}}return delete h.calls,delete h.parameters,delete h.paymasterContext,typeof h.paymaster!="string"&&delete h.paymaster,h}async function qZ(e,t){const{account:r=e.account,entryPointAddress:n,stateOverride:i}=t;if(!r&&!t.sender)throw new jo;const s=r?zt(r):void 0,o=D3(i),a=s?await Ie(e,tS,"prepareUserOperation")({...t,parameters:["authorization","factory","nonce","paymaster","signature"]}):t;try{const c=[dE(a),n??s?.entryPoint?.address],u=await e.request({method:"eth_estimateUserOperationGas",params:o?[...c,o]:[...c]});return Hge(u)}catch(c){const u=t.calls;throw UZ(c,{...a,...u?{calls:u}:{}})}}function Zge(e){return e.request({method:"eth_supportedEntryPoints"})}function Yge(e){const t={...e};return e.callGasLimit&&(t.callGasLimit=BigInt(e.callGasLimit)),e.maxFeePerGas&&(t.maxFeePerGas=BigInt(e.maxFeePerGas)),e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=BigInt(e.maxPriorityFeePerGas)),e.nonce&&(t.nonce=BigInt(e.nonce)),e.paymasterPostOpGasLimit&&(t.paymasterPostOpGasLimit=BigInt(e.paymasterPostOpGasLimit)),e.paymasterVerificationGasLimit&&(t.paymasterVerificationGasLimit=BigInt(e.paymasterVerificationGasLimit)),e.preVerificationGas&&(t.preVerificationGas=BigInt(e.preVerificationGas)),e.verificationGasLimit&&(t.verificationGasLimit=BigInt(e.verificationGasLimit)),t}async function Qge(e,{hash:t}){const r=await e.request({method:"eth_getUserOperationByHash",params:[t]},{dedupe:!0});if(!r)throw new Lge({hash:t});const{blockHash:n,blockNumber:i,entryPoint:s,transactionHash:o,userOperation:a}=r;return{blockHash:n,blockNumber:BigInt(i),entryPoint:s,transactionHash:o,userOperation:Yge(a)}}function Jge(e){const t={...e};return e.actualGasCost&&(t.actualGasCost=BigInt(e.actualGasCost)),e.actualGasUsed&&(t.actualGasUsed=BigInt(e.actualGasUsed)),e.logs&&(t.logs=e.logs.map(r=>da(r))),e.receipt&&(t.receipt=F3(t.receipt)),t}async function zZ(e,{hash:t}){const r=await e.request({method:"eth_getUserOperationReceipt",params:[t]},{dedupe:!0});if(!r)throw new Mge({hash:t});return Jge(r)}async function Xge(e,t){const{account:r=e.account,entryPointAddress:n}=t;if(!r&&!t.sender)throw new jo;const i=r?zt(r):void 0,s=i?await Ie(e,tS,"prepareUserOperation")(t):t,o=t.signature||await i?.signUserOperation?.(s),a=dE({...s,signature:o});try{return await e.request({method:"eth_sendUserOperation",params:[a,n??i?.entryPoint?.address]},{retryCount:0})}catch(c){const u=t.calls;throw UZ(c,{...s,...u?{calls:u}:{},signature:o})}}function eme(e,t){const{hash:r,pollingInterval:n=e.pollingInterval,retryCount:i,timeout:s=12e4}=t;let o=0;const a=_r(["waitForUserOperationReceipt",e.uid,r]);return new Promise((c,u)=>{const l=fa(a,{resolve:c,reject:u},f=>{const d=p=>{g(),p(),l()},h=s?setTimeout(()=>d(()=>f.reject(new Lj({hash:r}))),s):void 0,g=zd(async()=>{i&&o>=i&&(clearTimeout(h),d(()=>f.reject(new Lj({hash:r}))));try{const p=await Ie(e,zZ,"getUserOperationReceipt")({hash:r});clearTimeout(h),d(()=>f.resolve(p))}catch(p){const b=p;b.name!=="UserOperationReceiptNotFoundError"&&(clearTimeout(h),d(()=>f.reject(b)))}o++},{emitOnBegin:!0,interval:n});return g})})}function tme(e){return{estimateUserOperationGas:t=>qZ(e,t),getChainId:()=>wa(e),getSupportedEntryPoints:()=>Zge(e),getUserOperation:t=>Qge(e,t),getUserOperationReceipt:t=>zZ(e,t),prepareUserOperation:t=>tS(e,t),sendUserOperation:t=>Xge(e,t),waitForUserOperationReceipt:t=>eme(e,t)}}HWe=function(e){const{client:t,key:r="bundler",name:n="Bundler Client",paymaster:i,paymasterContext:s,transport:o,userOperation:a}=e;return Object.assign(J3({...e,chain:e.chain??t?.chain,key:r,name:n,transport:o,type:"bundlerClient"}),{client:t,paymaster:i,paymasterContext:s,userOperation:a}).extend(tme)};var W_={},V_={},_0={},C0={},Uj;function rme(){return Uj||(Uj=1,Object.defineProperty(C0,"__esModule",{value:!0}),C0.version=void 0,C0.version="1.2.3"),C0}var qj;function $p(){if(qj)return _0;qj=1,Object.defineProperty(_0,"__esModule",{value:!0}),_0.BaseError=void 0;const e=rme();class t extends Error{constructor(n,i={}){const s=i.cause instanceof t?i.cause.details:i.cause?.message?i.cause.message:i.details,o=i.cause instanceof t&&i.cause.docsPath||i.docsPath,a=[n||"An error occurred.","",...i.metaMessages?[...i.metaMessages,""]:[],...o?[`Docs: https://abitype.dev${o}`]:[],...s?[`Details: ${s}`]:[],`Version: abitype@${e.version}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),i.cause&&(this.cause=i.cause),this.details=s,this.docsPath=o,this.metaMessages=i.metaMessages,this.shortMessage=n}}return _0.BaseError=t,_0}var ty={},zj;function nme(){if(zj)return ty;zj=1,Object.defineProperty(ty,"__esModule",{value:!0}),ty.narrow=e;function e(t){return t}return ty}var ry={},ny={},iy={},sy={},Uo={},Fj;function fE(){if(Fj)return Uo;Fj=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.isTupleRegex=Uo.integerRegex=Uo.bytesRegex=void 0,Uo.execTyped=e;function e(t,r){return t.exec(r)?.groups}return Uo.bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Uo.integerRegex=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Uo.isTupleRegex=/^\(.+?\).*?$/,Uo}var Hj;function FZ(){if(Hj)return sy;Hj=1,Object.defineProperty(sy,"__esModule",{value:!0}),sy.formatAbiParameter=r;const e=fE(),t=/^tuple(?<array>(\[(\d*)\])*)$/;function r(n){let i=n.type;if(t.test(n.type)&&"components"in n){i="(";const s=n.components.length;for(let a=0;a<s;a++){const c=n.components[a];i+=r(c),a<s-1&&(i+=", ")}const o=(0,e.execTyped)(t,n.type);return i+=`)${o?.array||""}`,r({...n,type:i})}return"indexed"in n&&n.indexed&&(i=`${i} indexed`),n.name?`${i} ${n.name}`:i}return sy}var Wj;function HZ(){if(Wj)return iy;Wj=1,Object.defineProperty(iy,"__esModule",{value:!0}),iy.formatAbiParameters=t;const e=FZ();function t(r){let n="";const i=r.length;for(let s=0;s<i;s++){const o=r[s];n+=(0,e.formatAbiParameter)(o),s!==i-1&&(n+=", ")}return n}return iy}var Vj;function WZ(){if(Vj)return ny;Vj=1,Object.defineProperty(ny,"__esModule",{value:!0}),ny.formatAbiItem=t;const e=HZ();function t(r){return r.type==="function"?`function ${r.name}(${(0,e.formatAbiParameters)(r.inputs)})${r.stateMutability&&r.stateMutability!=="nonpayable"?` ${r.stateMutability}`:""}${r.outputs?.length?` returns (${(0,e.formatAbiParameters)(r.outputs)})`:""}`:r.type==="event"?`event ${r.name}(${(0,e.formatAbiParameters)(r.inputs)})`:r.type==="error"?`error ${r.name}(${(0,e.formatAbiParameters)(r.inputs)})`:r.type==="constructor"?`constructor(${(0,e.formatAbiParameters)(r.inputs)})${r.stateMutability==="payable"?" payable":""}`:r.type==="fallback"?`fallback() external${r.stateMutability==="payable"?" payable":""}`:"receive() external payable"}return ny}var Gj;function ime(){if(Gj)return ry;Gj=1,Object.defineProperty(ry,"__esModule",{value:!0}),ry.formatAbi=t;const e=WZ();function t(r){const n=[],i=r.length;for(let s=0;s<i;s++){const o=r[s],a=(0,e.formatAbiItem)(o);n.push(a)}return n}return ry}var oy={},wr={},Kj;function Mp(){if(Kj)return wr;Kj=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.functionModifiers=wr.eventModifiers=wr.modifiers=void 0,wr.isErrorSignature=r,wr.execErrorSignature=n,wr.isEventSignature=s,wr.execEventSignature=o,wr.isFunctionSignature=c,wr.execFunctionSignature=u,wr.isStructSignature=f,wr.execStructSignature=d,wr.isConstructorSignature=g,wr.execConstructorSignature=p,wr.isFallbackSignature=w,wr.execFallbackSignature=y,wr.isReceiveSignature=m;const e=fE(),t=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function r(C){return t.test(C)}function n(C){return(0,e.execTyped)(t,C)}const i=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function s(C){return i.test(C)}function o(C){return(0,e.execTyped)(i,C)}const a=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function c(C){return a.test(C)}function u(C){return(0,e.execTyped)(a,C)}const l=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function f(C){return l.test(C)}function d(C){return(0,e.execTyped)(l,C)}const h=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function g(C){return h.test(C)}function p(C){return(0,e.execTyped)(h,C)}const b=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function w(C){return b.test(C)}function y(C){return(0,e.execTyped)(b,C)}const v=/^receive\(\) external payable$/;function m(C){return v.test(C)}return wr.modifiers=new Set(["memory","indexed","storage","calldata"]),wr.eventModifiers=new Set(["indexed"]),wr.functionModifiers=new Set(["calldata","memory","storage"]),wr}var ay={},Ta={},Zj;function hE(){if(Zj)return Ta;Zj=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.UnknownSolidityTypeError=Ta.UnknownTypeError=Ta.InvalidAbiItemError=void 0;const e=$p();class t extends e.BaseError{constructor({signature:s}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(s,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}Ta.InvalidAbiItemError=t;class r extends e.BaseError{constructor({type:s}){super("Unknown type.",{metaMessages:[`Type "${s}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}Ta.UnknownTypeError=r;class n extends e.BaseError{constructor({type:s}){super("Unknown type.",{metaMessages:[`Type "${s}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}return Ta.UnknownSolidityTypeError=n,Ta}var xn={},Yj;function T1(){if(Yj)return xn;Yj=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.InvalidAbiTypeParameterError=xn.InvalidFunctionModifierError=xn.InvalidModifierError=xn.SolidityProtectedKeywordError=xn.InvalidParameterError=xn.InvalidAbiParametersError=xn.InvalidAbiParameterError=void 0;const e=$p();class t extends e.BaseError{constructor({param:u}){super("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(u,null,2)})`,docsPath:"/api/human#parseabiparameter-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParameterError"})}}xn.InvalidAbiParameterError=t;class r extends e.BaseError{constructor({params:u}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(u,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}xn.InvalidAbiParametersError=r;class n extends e.BaseError{constructor({param:u}){super("Invalid ABI parameter.",{details:u}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}xn.InvalidParameterError=n;class i extends e.BaseError{constructor({param:u,name:l}){super("Invalid ABI parameter.",{details:u,metaMessages:[`"${l}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}xn.SolidityProtectedKeywordError=i;class s extends e.BaseError{constructor({param:u,type:l,modifier:f}){super("Invalid ABI parameter.",{details:u,metaMessages:[`Modifier "${f}" not allowed${l?` in "${l}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}xn.InvalidModifierError=s;class o extends e.BaseError{constructor({param:u,type:l,modifier:f}){super("Invalid ABI parameter.",{details:u,metaMessages:[`Modifier "${f}" not allowed${l?` in "${l}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${f}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}xn.InvalidFunctionModifierError=o;class a extends e.BaseError{constructor({abiParameter:u}){super("Invalid ABI parameter.",{details:JSON.stringify(u,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}return xn.InvalidAbiTypeParameterError=a,xn}var Oa={},Qj;function rS(){if(Qj)return Oa;Qj=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.InvalidStructSignatureError=Oa.UnknownSignatureError=Oa.InvalidSignatureError=void 0;const e=$p();class t extends e.BaseError{constructor({signature:s,type:o}){super(`Invalid ${o} signature.`,{details:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}Oa.InvalidSignatureError=t;class r extends e.BaseError{constructor({signature:s}){super("Unknown signature.",{details:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}Oa.UnknownSignatureError=r;class n extends e.BaseError{constructor({signature:s}){super("Invalid struct signature.",{details:s,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}return Oa.InvalidStructSignatureError=n,Oa}var A0={},Jj;function VZ(){if(Jj)return A0;Jj=1,Object.defineProperty(A0,"__esModule",{value:!0}),A0.CircularReferenceError=void 0;const e=$p();class t extends e.BaseError{constructor({type:n}){super("Circular reference detected.",{metaMessages:[`Struct "${n}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}return A0.CircularReferenceError=t,A0}var vi={},x0={},Xj;function GZ(){if(Xj)return x0;Xj=1,Object.defineProperty(x0,"__esModule",{value:!0}),x0.InvalidParenthesisError=void 0;const e=$p();class t extends e.BaseError{constructor({current:n,depth:i}){super("Unbalanced parentheses.",{metaMessages:[`"${n.trim()}" has too many ${i>0?"opening":"closing"} parentheses.`],details:`Depth "${i}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}return x0.InvalidParenthesisError=t,x0}var gf={},eB;function sme(){if(eB)return gf;eB=1,Object.defineProperty(gf,"__esModule",{value:!0}),gf.parameterCache=void 0,gf.getParameterCacheKey=e;function e(t,r,n){let i="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const a of s[1])o+=`[${a.type}${a.name?`:${a.name}`:""}]`;i+=`(${s[0]}{${o}})`}return r?`${r}:${t}${i}`:`${t}${i}`}return gf.parameterCache=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),gf}var tB;function Jh(){if(tB)return vi;tB=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.parseSignature=a,vi.parseFunctionSignature=c,vi.parseEventSignature=u,vi.parseErrorSignature=l,vi.parseConstructorSignature=f,vi.parseFallbackSignature=d,vi.parseAbiParameter=b,vi.splitParameters=w,vi.isSolidityType=y,vi.isSolidityKeyword=m,vi.isValidDataLocation=C;const e=fE(),t=hE(),r=T1(),n=rS(),i=GZ(),s=sme(),o=Mp();function a(E,_={}){if((0,o.isFunctionSignature)(E))return c(E,_);if((0,o.isEventSignature)(E))return u(E,_);if((0,o.isErrorSignature)(E))return l(E,_);if((0,o.isConstructorSignature)(E))return f(E,_);if((0,o.isFallbackSignature)(E))return d(E);if((0,o.isReceiveSignature)(E))return{type:"receive",stateMutability:"payable"};throw new n.UnknownSignatureError({signature:E})}function c(E,_={}){const P=(0,o.execFunctionSignature)(E);if(!P)throw new n.InvalidSignatureError({signature:E,type:"function"});const x=w(P.parameters),O=[],D=x.length;for(let k=0;k<D;k++)O.push(b(x[k],{modifiers:o.functionModifiers,structs:_,type:"function"}));const R=[];if(P.returns){const k=w(P.returns),T=k.length;for(let S=0;S<T;S++)R.push(b(k[S],{modifiers:o.functionModifiers,structs:_,type:"function"}))}return{name:P.name,type:"function",stateMutability:P.stateMutability??"nonpayable",inputs:O,outputs:R}}function u(E,_={}){const P=(0,o.execEventSignature)(E);if(!P)throw new n.InvalidSignatureError({signature:E,type:"event"});const x=w(P.parameters),O=[],D=x.length;for(let R=0;R<D;R++)O.push(b(x[R],{modifiers:o.eventModifiers,structs:_,type:"event"}));return{name:P.name,type:"event",inputs:O}}function l(E,_={}){const P=(0,o.execErrorSignature)(E);if(!P)throw new n.InvalidSignatureError({signature:E,type:"error"});const x=w(P.parameters),O=[],D=x.length;for(let R=0;R<D;R++)O.push(b(x[R],{structs:_,type:"error"}));return{name:P.name,type:"error",inputs:O}}function f(E,_={}){const P=(0,o.execConstructorSignature)(E);if(!P)throw new n.InvalidSignatureError({signature:E,type:"constructor"});const x=w(P.parameters),O=[],D=x.length;for(let R=0;R<D;R++)O.push(b(x[R],{structs:_,type:"constructor"}));return{type:"constructor",stateMutability:P.stateMutability??"nonpayable",inputs:O}}function d(E){const _=(0,o.execFallbackSignature)(E);if(!_)throw new n.InvalidSignatureError({signature:E,type:"fallback"});return{type:"fallback",stateMutability:_.stateMutability??"nonpayable"}}const h=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,g=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,p=/^u?int$/;function b(E,_){const P=(0,s.getParameterCacheKey)(E,_?.type,_?.structs);if(s.parameterCache.has(P))return s.parameterCache.get(P);const x=e.isTupleRegex.test(E),O=(0,e.execTyped)(x?g:h,E);if(!O)throw new r.InvalidParameterError({param:E});if(O.name&&m(O.name))throw new r.SolidityProtectedKeywordError({param:E,name:O.name});const D=O.name?{name:O.name}:{},R=O.modifier==="indexed"?{indexed:!0}:{},k=_?.structs??{};let T,S={};if(x){T="tuple";const A=w(O.type),j=[],N=A.length;for(let B=0;B<N;B++)j.push(b(A[B],{structs:k}));S={components:j}}else if(O.type in k)T="tuple",S={components:k[O.type]};else if(p.test(O.type))T=`${O.type}256`;else if(O.type==="address payable")T="address";else if(T=O.type,_?.type!=="struct"&&!y(T))throw new t.UnknownSolidityTypeError({type:T});if(O.modifier){if(!_?.modifiers?.has?.(O.modifier))throw new r.InvalidModifierError({param:E,type:_?.type,modifier:O.modifier});if(o.functionModifiers.has(O.modifier)&&!C(T,!!O.array))throw new r.InvalidFunctionModifierError({param:E,type:_?.type,modifier:O.modifier})}const I={type:`${T}${O.array??""}`,...D,...R,...S};return s.parameterCache.set(P,I),I}function w(E,_=[],P="",x=0){const O=E.trim().length;for(let D=0;D<O;D++){const R=E[D],k=E.slice(D+1);switch(R){case",":return x===0?w(k,[..._,P.trim()]):w(k,_,`${P}${R}`,x);case"(":return w(k,_,`${P}${R}`,x+1);case")":return w(k,_,`${P}${R}`,x-1);default:return w(k,_,`${P}${R}`,x)}}if(P==="")return _;if(x!==0)throw new i.InvalidParenthesisError({current:P,depth:x});return _.push(P.trim()),_}function y(E){return E==="address"||E==="bool"||E==="function"||E==="string"||e.bytesRegex.test(E)||e.integerRegex.test(E)}const v=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function m(E){return E==="address"||E==="bool"||E==="function"||E==="string"||E==="tuple"||e.bytesRegex.test(E)||e.integerRegex.test(E)||v.test(E)}function C(E,_){return _||E==="bytes"||E==="string"||E==="tuple"}return vi}var rB;function pE(){if(rB)return ay;rB=1,Object.defineProperty(ay,"__esModule",{value:!0}),ay.parseStructs=a;const e=fE(),t=hE(),r=T1(),n=rS(),i=VZ(),s=Mp(),o=Jh();function a(l){const f={},d=l.length;for(let b=0;b<d;b++){const w=l[b];if(!(0,s.isStructSignature)(w))continue;const y=(0,s.execStructSignature)(w);if(!y)throw new n.InvalidSignatureError({signature:w,type:"struct"});const v=y.properties.split(";"),m=[],C=v.length;for(let E=0;E<C;E++){const P=v[E].trim();if(!P)continue;const x=(0,o.parseAbiParameter)(P,{type:"struct"});m.push(x)}if(!m.length)throw new n.InvalidStructSignatureError({signature:w});f[y.name]=m}const h={},g=Object.entries(f),p=g.length;for(let b=0;b<p;b++){const[w,y]=g[b];h[w]=u(y,f)}return h}const c=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function u(l=[],f={},d=new Set){const h=[],g=l.length;for(let p=0;p<g;p++){const b=l[p];if(e.isTupleRegex.test(b.type))h.push(b);else{const y=(0,e.execTyped)(c,b.type);if(!y?.type)throw new r.InvalidAbiTypeParameterError({abiParameter:b});const{array:v,type:m}=y;if(m in f){if(d.has(m))throw new i.CircularReferenceError({type:m});h.push({...b,type:`tuple${v??""}`,components:u(f[m],f,new Set([...d,m]))})}else if((0,o.isSolidityType)(m))h.push(b);else throw new t.UnknownTypeError({type:m})}}return h}return ay}var nB;function ome(){if(nB)return oy;nB=1,Object.defineProperty(oy,"__esModule",{value:!0}),oy.parseAbi=n;const e=Mp(),t=pE(),r=Jh();function n(i){const s=(0,t.parseStructs)(i),o=[],a=i.length;for(let c=0;c<a;c++){const u=i[c];(0,e.isStructSignature)(u)||o.push((0,r.parseSignature)(u,s))}return o}return oy}var cy={},iB;function ame(){if(iB)return cy;iB=1,Object.defineProperty(cy,"__esModule",{value:!0}),cy.parseAbiItem=i;const e=hE(),t=Mp(),r=pE(),n=Jh();function i(s){let o;if(typeof s=="string")o=(0,n.parseSignature)(s);else{const a=(0,r.parseStructs)(s),c=s.length;for(let u=0;u<c;u++){const l=s[u];if(!(0,t.isStructSignature)(l)){o=(0,n.parseSignature)(l,a);break}}}if(!o)throw new e.InvalidAbiItemError({signature:s});return o}return cy}var uy={},sB;function cme(){if(sB)return uy;sB=1,Object.defineProperty(uy,"__esModule",{value:!0}),uy.parseAbiParameter=i;const e=T1(),t=Mp(),r=pE(),n=Jh();function i(s){let o;if(typeof s=="string")o=(0,n.parseAbiParameter)(s,{modifiers:t.modifiers});else{const a=(0,r.parseStructs)(s),c=s.length;for(let u=0;u<c;u++){const l=s[u];if(!(0,t.isStructSignature)(l)){o=(0,n.parseAbiParameter)(l,{modifiers:t.modifiers,structs:a});break}}}if(!o)throw new e.InvalidAbiParameterError({param:s});return o}return uy}var ly={},oB;function ume(){if(oB)return ly;oB=1,Object.defineProperty(ly,"__esModule",{value:!0}),ly.parseAbiParameters=s;const e=T1(),t=Mp(),r=pE(),n=Jh(),i=Jh();function s(o){const a=[];if(typeof o=="string"){const c=(0,n.splitParameters)(o),u=c.length;for(let l=0;l<u;l++)a.push((0,i.parseAbiParameter)(c[l],{modifiers:t.modifiers}))}else{const c=(0,r.parseStructs)(o),u=o.length;for(let l=0;l<u;l++){const f=o[l];if((0,t.isStructSignature)(f))continue;const d=(0,n.splitParameters)(f),h=d.length;for(let g=0;g<h;g++)a.push((0,i.parseAbiParameter)(d[g],{modifiers:t.modifiers,structs:c}))}}if(a.length===0)throw new e.InvalidAbiParametersError({params:o});return a}return ly}var aB;function Ru(){return aB||(aB=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CircularReferenceError=e.InvalidParenthesisError=e.UnknownSignatureError=e.InvalidSignatureError=e.InvalidStructSignatureError=e.InvalidAbiParameterError=e.InvalidAbiParametersError=e.InvalidParameterError=e.SolidityProtectedKeywordError=e.InvalidModifierError=e.InvalidFunctionModifierError=e.InvalidAbiTypeParameterError=e.UnknownSolidityTypeError=e.InvalidAbiItemError=e.UnknownTypeError=e.parseAbiParameters=e.parseAbiParameter=e.parseAbiItem=e.parseAbi=e.formatAbiParameters=e.formatAbiParameter=e.formatAbiItem=e.formatAbi=e.narrow=e.BaseError=void 0;var t=$p();Object.defineProperty(e,"BaseError",{enumerable:!0,get:function(){return t.BaseError}});var r=nme();Object.defineProperty(e,"narrow",{enumerable:!0,get:function(){return r.narrow}});var n=ime();Object.defineProperty(e,"formatAbi",{enumerable:!0,get:function(){return n.formatAbi}});var i=WZ();Object.defineProperty(e,"formatAbiItem",{enumerable:!0,get:function(){return i.formatAbiItem}});var s=FZ();Object.defineProperty(e,"formatAbiParameter",{enumerable:!0,get:function(){return s.formatAbiParameter}});var o=HZ();Object.defineProperty(e,"formatAbiParameters",{enumerable:!0,get:function(){return o.formatAbiParameters}});var a=ome();Object.defineProperty(e,"parseAbi",{enumerable:!0,get:function(){return a.parseAbi}});var c=ame();Object.defineProperty(e,"parseAbiItem",{enumerable:!0,get:function(){return c.parseAbiItem}});var u=cme();Object.defineProperty(e,"parseAbiParameter",{enumerable:!0,get:function(){return u.parseAbiParameter}});var l=ume();Object.defineProperty(e,"parseAbiParameters",{enumerable:!0,get:function(){return l.parseAbiParameters}});var f=hE();Object.defineProperty(e,"UnknownTypeError",{enumerable:!0,get:function(){return f.UnknownTypeError}}),Object.defineProperty(e,"InvalidAbiItemError",{enumerable:!0,get:function(){return f.InvalidAbiItemError}}),Object.defineProperty(e,"UnknownSolidityTypeError",{enumerable:!0,get:function(){return f.UnknownSolidityTypeError}});var d=T1();Object.defineProperty(e,"InvalidAbiTypeParameterError",{enumerable:!0,get:function(){return d.InvalidAbiTypeParameterError}}),Object.defineProperty(e,"InvalidFunctionModifierError",{enumerable:!0,get:function(){return d.InvalidFunctionModifierError}}),Object.defineProperty(e,"InvalidModifierError",{enumerable:!0,get:function(){return d.InvalidModifierError}}),Object.defineProperty(e,"SolidityProtectedKeywordError",{enumerable:!0,get:function(){return d.SolidityProtectedKeywordError}}),Object.defineProperty(e,"InvalidParameterError",{enumerable:!0,get:function(){return d.InvalidParameterError}}),Object.defineProperty(e,"InvalidAbiParametersError",{enumerable:!0,get:function(){return d.InvalidAbiParametersError}}),Object.defineProperty(e,"InvalidAbiParameterError",{enumerable:!0,get:function(){return d.InvalidAbiParameterError}});var h=rS();Object.defineProperty(e,"InvalidStructSignatureError",{enumerable:!0,get:function(){return h.InvalidStructSignatureError}}),Object.defineProperty(e,"InvalidSignatureError",{enumerable:!0,get:function(){return h.InvalidSignatureError}}),Object.defineProperty(e,"UnknownSignatureError",{enumerable:!0,get:function(){return h.UnknownSignatureError}});var g=GZ();Object.defineProperty(e,"InvalidParenthesisError",{enumerable:!0,get:function(){return g.InvalidParenthesisError}});var p=VZ();Object.defineProperty(e,"CircularReferenceError",{enumerable:!0,get:function(){return p.CircularReferenceError}})})(V_)),V_}var mf={},dy={},cB;function mt(){if(cB)return dy;cB=1,Object.defineProperty(dy,"__esModule",{value:!0}),dy.getAction=e;function e(t,r,n){const i=t[r.name];if(typeof i=="function")return i;const s=t[n];return typeof s=="function"?s:o=>r(t,o)}return dy}var fy={},hy={},qe={},I0={},uB;function Tc(){if(uB)return I0;uB=1,Object.defineProperty(I0,"__esModule",{value:!0}),I0.formatAbiItem=t,I0.formatAbiParams=r;const e=br();function t(i,{includeName:s=!1}={}){if(i.type!=="function"&&i.type!=="event"&&i.type!=="error")throw new e.InvalidDefinitionTypeError(i.type);return`${i.name}(${r(i.inputs,{includeName:s})})`}function r(i,{includeName:s=!1}={}){return i?i.map(o=>n(o,{includeName:s})).join(s?", ":","):""}function n(i,{includeName:s}){return i.type.startsWith("tuple")?`(${r(i.components,{includeName:s})})${i.type.slice(5)}`:i.type+(s&&i.name?` ${i.name}`:"")}return I0}var py={},gy={},lB;function wi(){if(lB)return gy;lB=1,Object.defineProperty(gy,"__esModule",{value:!0}),gy.isHex=e;function e(t,{strict:r=!0}={}){return!t||typeof t!="string"?!1:r?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}return gy}var dB;function Wi(){if(dB)return py;dB=1,Object.defineProperty(py,"__esModule",{value:!0}),py.size=t;const e=wi();function t(r){return(0,e.isHex)(r,{strict:!1})?Math.ceil((r.length-2)/2):r.length}return py}var bf={},P0={},fB;function lme(){return fB||(fB=1,Object.defineProperty(P0,"__esModule",{value:!0}),P0.version=void 0,P0.version="2.44.4"),P0}var hB;function Ye(){if(hB)return bf;hB=1,Object.defineProperty(bf,"__esModule",{value:!0}),bf.BaseError=void 0,bf.setErrorConfig=r;const e=lme();let t={getDocsUrl:({docsBaseUrl:s,docsPath:o="",docsSlug:a})=>o?`${s??"https://viem.sh"}${o}${a?`#${a}`:""}`:void 0,version:`viem@${e.version}`};function r(s){t=s}class n extends Error{constructor(o,a={}){const c=a.cause instanceof n?a.cause.details:a.cause?.message?a.cause.message:a.details,u=a.cause instanceof n&&a.cause.docsPath||a.docsPath,l=t.getDocsUrl?.({...a,docsPath:u}),f=[o||"An error occurred.","",...a.metaMessages?[...a.metaMessages,""]:[],...l?[`Docs: ${l}`]:[],...c?[`Details: ${c}`]:[],...t.version?[`Version: ${t.version}`]:[]].join(`
`);super(f,a.cause?{cause:a.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=c,this.docsPath=u,this.metaMessages=a.metaMessages,this.name=a.name??this.name,this.shortMessage=o,this.version=e.version}walk(o){return i(this,o)}}bf.BaseError=n;function i(s,o){return o?.(s)?s:s&&typeof s=="object"&&"cause"in s&&s.cause!==void 0?i(s.cause,o):o?null:s}return bf}var pB;function br(){if(pB)return qe;pB=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.UnsupportedPackedAbiType=qe.InvalidDefinitionTypeError=qe.InvalidArrayError=qe.InvalidAbiDecodingTypeError=qe.InvalidAbiEncodingTypeError=qe.DecodeLogTopicsMismatch=qe.DecodeLogDataMismatch=qe.BytesSizeMismatchError=qe.AbiItemAmbiguityError=qe.AbiFunctionSignatureNotFoundError=qe.AbiFunctionOutputsNotFoundError=qe.AbiFunctionNotFoundError=qe.AbiEventNotFoundError=qe.AbiEventSignatureNotFoundError=qe.AbiEventSignatureEmptyTopicsError=qe.AbiErrorSignatureNotFoundError=qe.AbiErrorNotFoundError=qe.AbiErrorInputsNotFoundError=qe.AbiEncodingLengthMismatchError=qe.AbiEncodingBytesSizeMismatchError=qe.AbiEncodingArrayLengthMismatchError=qe.AbiDecodingZeroDataError=qe.AbiDecodingDataSizeTooSmallError=qe.AbiDecodingDataSizeInvalidError=qe.AbiConstructorParamsNotFoundError=qe.AbiConstructorNotFoundError=void 0;const e=Tc(),t=Wi(),r=Ye();class n extends r.BaseError{constructor({docsPath:T}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:T,name:"AbiConstructorNotFoundError"})}}qe.AbiConstructorNotFoundError=n;class i extends r.BaseError{constructor({docsPath:T}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:T,name:"AbiConstructorParamsNotFoundError"})}}qe.AbiConstructorParamsNotFoundError=i;class s extends r.BaseError{constructor({data:T,size:S}){super([`Data size of ${S} bytes is invalid.`,"Size must be in increments of 32 bytes (size % 32 === 0)."].join(`
`),{metaMessages:[`Data: ${T} (${S} bytes)`],name:"AbiDecodingDataSizeInvalidError"})}}qe.AbiDecodingDataSizeInvalidError=s;class o extends r.BaseError{constructor({data:T,params:S,size:I}){super([`Data size of ${I} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${(0,e.formatAbiParams)(S,{includeName:!0})})`,`Data:   ${T} (${I} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=T,this.params=S,this.size=I}}qe.AbiDecodingDataSizeTooSmallError=o;class a extends r.BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}qe.AbiDecodingZeroDataError=a;class c extends r.BaseError{constructor({expectedLength:T,givenLength:S,type:I}){super([`ABI encoding array length mismatch for type ${I}.`,`Expected length: ${T}`,`Given length: ${S}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}qe.AbiEncodingArrayLengthMismatchError=c;class u extends r.BaseError{constructor({expectedSize:T,value:S}){super(`Size of bytes "${S}" (bytes${(0,t.size)(S)}) does not match expected size (bytes${T}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}qe.AbiEncodingBytesSizeMismatchError=u;class l extends r.BaseError{constructor({expectedLength:T,givenLength:S}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${T}`,`Given length (values): ${S}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}qe.AbiEncodingLengthMismatchError=l;class f extends r.BaseError{constructor(T,{docsPath:S}){super([`Arguments (\`args\`) were provided to "${T}", but "${T}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:S,name:"AbiErrorInputsNotFoundError"})}}qe.AbiErrorInputsNotFoundError=f;class d extends r.BaseError{constructor(T,{docsPath:S}={}){super([`Error ${T?`"${T}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:S,name:"AbiErrorNotFoundError"})}}qe.AbiErrorNotFoundError=d;class h extends r.BaseError{constructor(T,{docsPath:S}){super([`Encoded error signature "${T}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${T}.`].join(`
`),{docsPath:S,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=T}}qe.AbiErrorSignatureNotFoundError=h;class g extends r.BaseError{constructor({docsPath:T}){super("Cannot extract event signature from empty topics.",{docsPath:T,name:"AbiEventSignatureEmptyTopicsError"})}}qe.AbiEventSignatureEmptyTopicsError=g;class p extends r.BaseError{constructor(T,{docsPath:S}){super([`Encoded event signature "${T}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${T}.`].join(`
`),{docsPath:S,name:"AbiEventSignatureNotFoundError"})}}qe.AbiEventSignatureNotFoundError=p;class b extends r.BaseError{constructor(T,{docsPath:S}={}){super([`Event ${T?`"${T}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:S,name:"AbiEventNotFoundError"})}}qe.AbiEventNotFoundError=b;class w extends r.BaseError{constructor(T,{docsPath:S}={}){super([`Function ${T?`"${T}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:S,name:"AbiFunctionNotFoundError"})}}qe.AbiFunctionNotFoundError=w;class y extends r.BaseError{constructor(T,{docsPath:S}){super([`Function "${T}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:S,name:"AbiFunctionOutputsNotFoundError"})}}qe.AbiFunctionOutputsNotFoundError=y;class v extends r.BaseError{constructor(T,{docsPath:S}){super([`Encoded function signature "${T}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${T}.`].join(`
`),{docsPath:S,name:"AbiFunctionSignatureNotFoundError"})}}qe.AbiFunctionSignatureNotFoundError=v;class m extends r.BaseError{constructor(T,S){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${T.type}\` in \`${(0,e.formatAbiItem)(T.abiItem)}\`, and`,`\`${S.type}\` in \`${(0,e.formatAbiItem)(S.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}qe.AbiItemAmbiguityError=m;class C extends r.BaseError{constructor({expectedSize:T,givenSize:S}){super(`Expected bytes${T}, got bytes${S}.`,{name:"BytesSizeMismatchError"})}}qe.BytesSizeMismatchError=C;class E extends r.BaseError{constructor({abiItem:T,data:S,params:I,size:A}){super([`Data size of ${A} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${(0,e.formatAbiParams)(I,{includeName:!0})})`,`Data:   ${S} (${A} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=T,this.data=S,this.params=I,this.size=A}}qe.DecodeLogDataMismatch=E;class _ extends r.BaseError{constructor({abiItem:T,param:S}){super([`Expected a topic for indexed event parameter${S.name?` "${S.name}"`:""} on event "${(0,e.formatAbiItem)(T,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=T}}qe.DecodeLogTopicsMismatch=_;class P extends r.BaseError{constructor(T,{docsPath:S}){super([`Type "${T}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:S,name:"InvalidAbiEncodingType"})}}qe.InvalidAbiEncodingTypeError=P;class x extends r.BaseError{constructor(T,{docsPath:S}){super([`Type "${T}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:S,name:"InvalidAbiDecodingType"})}}qe.InvalidAbiDecodingTypeError=x;class O extends r.BaseError{constructor(T){super([`Value "${T}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}qe.InvalidArrayError=O;class D extends r.BaseError{constructor(T){super([`"${T}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}qe.InvalidDefinitionTypeError=D;class R extends r.BaseError{constructor(T){super(`Type "${T}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}return qe.UnsupportedPackedAbiType=R,qe}var S0={},gB;function KZ(){if(gB)return S0;gB=1,Object.defineProperty(S0,"__esModule",{value:!0}),S0.FilterTypeNotSupportedError=void 0;const e=Ye();class t extends e.BaseError{constructor(n){super(`Filter type "${n}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}return S0.FilterTypeNotSupportedError=t,S0}var Uc={},yf={},ja={},mB;function gE(){if(mB)return ja;mB=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.InvalidBytesLengthError=ja.SizeExceedsPaddingSizeError=ja.SliceOffsetOutOfBoundsError=void 0;const e=Ye();class t extends e.BaseError{constructor({offset:s,position:o,size:a}){super(`Slice ${o==="start"?"starting":"ending"} at offset "${s}" is out-of-bounds (size: ${a}).`,{name:"SliceOffsetOutOfBoundsError"})}}ja.SliceOffsetOutOfBoundsError=t;class r extends e.BaseError{constructor({size:s,targetSize:o,type:a}){super(`${a.charAt(0).toUpperCase()}${a.slice(1).toLowerCase()} size (${s}) exceeds padding size (${o}).`,{name:"SizeExceedsPaddingSizeError"})}}ja.SizeExceedsPaddingSizeError=r;class n extends e.BaseError{constructor({size:s,targetSize:o,type:a}){super(`${a.charAt(0).toUpperCase()}${a.slice(1).toLowerCase()} is expected to be ${o} ${a} long, but is ${s} ${a} long.`,{name:"InvalidBytesLengthError"})}}return ja.InvalidBytesLengthError=n,ja}var bB;function ku(){if(bB)return yf;bB=1,Object.defineProperty(yf,"__esModule",{value:!0}),yf.pad=t,yf.padHex=r,yf.padBytes=n;const e=gE();function t(i,{dir:s,size:o=32}={}){return typeof i=="string"?r(i,{dir:s,size:o}):n(i,{dir:s,size:o})}function r(i,{dir:s,size:o=32}={}){if(o===null)return i;const a=i.replace("0x","");if(a.length>o*2)throw new e.SizeExceedsPaddingSizeError({size:Math.ceil(a.length/2),targetSize:o,type:"hex"});return`0x${a[s==="right"?"padEnd":"padStart"](o*2,"0")}`}function n(i,{dir:s,size:o=32}={}){if(o===null)return i;if(i.length>o)throw new e.SizeExceedsPaddingSizeError({size:i.length,targetSize:o,type:"bytes"});const a=new Uint8Array(o);for(let c=0;c<o;c++){const u=s==="right";a[u?c:o-c-1]=i[u?c:i.length-c-1]}return a}return yf}var Ba={},Ji={},yB;function Lp(){if(yB)return Ji;yB=1,Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.SizeOverflowError=Ji.InvalidHexValueError=Ji.InvalidHexBooleanError=Ji.InvalidBytesBooleanError=Ji.IntegerOutOfRangeError=void 0;const e=Ye();class t extends e.BaseError{constructor({max:a,min:c,signed:u,size:l,value:f}){super(`Number "${f}" is not in safe ${l?`${l*8}-bit ${u?"signed":"unsigned"} `:""}integer range ${a?`(${c} to ${a})`:`(above ${c})`}`,{name:"IntegerOutOfRangeError"})}}Ji.IntegerOutOfRangeError=t;class r extends e.BaseError{constructor(a){super(`Bytes value "${a}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}Ji.InvalidBytesBooleanError=r;class n extends e.BaseError{constructor(a){super(`Hex value "${a}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}Ji.InvalidHexBooleanError=n;class i extends e.BaseError{constructor(a){super(`Hex value "${a}" is an odd length (${a.length}). It must be an even length.`,{name:"InvalidHexValueError"})}}Ji.InvalidHexValueError=i;class s extends e.BaseError{constructor({givenSize:a,maxSize:c}){super(`Size cannot exceed ${c} bytes. Given size: ${a} bytes.`,{name:"SizeOverflowError"})}}return Ji.SizeOverflowError=s,Ji}var my={},wB;function Oc(){if(wB)return my;wB=1,Object.defineProperty(my,"__esModule",{value:!0}),my.trim=e;function e(t,{dir:r="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,i=0;for(let s=0;s<n.length-1&&n[r==="left"?s:n.length-s-1].toString()==="0";s++)i++;return n=r==="left"?n.slice(i):n.slice(0,n.length-i),typeof t=="string"?(n.length===1&&r==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}return my}var vB;function Cr(){if(vB)return Ba;vB=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.assertSize=i,Ba.fromHex=s,Ba.hexToBigInt=o,Ba.hexToBool=a,Ba.hexToNumber=c,Ba.hexToString=u;const e=Lp(),t=Wi(),r=Oc(),n=Qt();function i(l,{size:f}){if((0,t.size)(l)>f)throw new e.SizeOverflowError({givenSize:(0,t.size)(l),maxSize:f})}function s(l,f){const d=typeof f=="string"?{to:f}:f,h=d.to;return h==="number"?c(l,d):h==="bigint"?o(l,d):h==="string"?u(l,d):h==="boolean"?a(l,d):(0,n.hexToBytes)(l,d)}function o(l,f={}){const{signed:d}=f;f.size&&i(l,{size:f.size});const h=BigInt(l);if(!d)return h;const g=(l.length-2)/2,p=(1n<<BigInt(g)*8n-1n)-1n;return h<=p?h:h-BigInt(`0x${"f".padStart(g*2,"f")}`)-1n}function a(l,f={}){let d=l;if(f.size&&(i(d,{size:f.size}),d=(0,r.trim)(d)),(0,r.trim)(d)==="0x00")return!1;if((0,r.trim)(d)==="0x01")return!0;throw new e.InvalidHexBooleanError(d)}function c(l,f={}){const d=o(l,f),h=Number(d);if(!Number.isSafeInteger(h))throw new e.IntegerOutOfRangeError({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:f.signed,size:f.size,value:`${d}n`});return h}function u(l,f={}){let d=(0,n.hexToBytes)(l);return f.size&&(i(d,{size:f.size}),d=(0,r.trim)(d,{dir:"right"})),new TextDecoder().decode(d)}return Ba}var qc={},EB;function Oe(){if(EB)return qc;EB=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.toHex=i,qc.boolToHex=s,qc.bytesToHex=o,qc.numberToHex=a,qc.stringToHex=u;const e=Lp(),t=ku(),r=Cr(),n=Array.from({length:256},(l,f)=>f.toString(16).padStart(2,"0"));function i(l,f={}){return typeof l=="number"||typeof l=="bigint"?a(l,f):typeof l=="string"?u(l,f):typeof l=="boolean"?s(l,f):o(l,f)}function s(l,f={}){const d=`0x${Number(l)}`;return typeof f.size=="number"?((0,r.assertSize)(d,{size:f.size}),(0,t.pad)(d,{size:f.size})):d}function o(l,f={}){let d="";for(let g=0;g<l.length;g++)d+=n[l[g]];const h=`0x${d}`;return typeof f.size=="number"?((0,r.assertSize)(h,{size:f.size}),(0,t.pad)(h,{dir:"right",size:f.size})):h}function a(l,f={}){const{signed:d,size:h}=f,g=BigInt(l);let p;h?d?p=(1n<<BigInt(h)*8n-1n)-1n:p=2n**(BigInt(h)*8n)-1n:typeof l=="number"&&(p=BigInt(Number.MAX_SAFE_INTEGER));const b=typeof p=="bigint"&&d?-p-1n:0;if(p&&g>p||g<b){const y=typeof l=="bigint"?"n":"";throw new e.IntegerOutOfRangeError({max:p?`${p}${y}`:void 0,min:`${b}${y}`,signed:d,size:h,value:`${l}${y}`})}const w=`0x${(d&&g<0?(1n<<BigInt(h*8))+BigInt(g):g).toString(16)}`;return h?(0,t.pad)(w,{size:h}):w}const c=new TextEncoder;function u(l,f={}){const d=c.encode(l);return o(d,f)}return qc}var _B;function Qt(){if(_B)return Uc;_B=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.toBytes=o,Uc.boolToBytes=a,Uc.hexToBytes=l,Uc.numberToBytes=f,Uc.stringToBytes=d;const e=Ye(),t=wi(),r=ku(),n=Cr(),i=Oe(),s=new TextEncoder;function o(h,g={}){return typeof h=="number"||typeof h=="bigint"?f(h,g):typeof h=="boolean"?a(h,g):(0,t.isHex)(h)?l(h,g):d(h,g)}function a(h,g={}){const p=new Uint8Array(1);return p[0]=Number(h),typeof g.size=="number"?((0,n.assertSize)(p,{size:g.size}),(0,r.pad)(p,{size:g.size})):p}const c={zero:48,nine:57,A:65,F:70,a:97,f:102};function u(h){if(h>=c.zero&&h<=c.nine)return h-c.zero;if(h>=c.A&&h<=c.F)return h-(c.A-10);if(h>=c.a&&h<=c.f)return h-(c.a-10)}function l(h,g={}){let p=h;g.size&&((0,n.assertSize)(p,{size:g.size}),p=(0,r.pad)(p,{dir:"right",size:g.size}));let b=p.slice(2);b.length%2&&(b=`0${b}`);const w=b.length/2,y=new Uint8Array(w);for(let v=0,m=0;v<w;v++){const C=u(b.charCodeAt(m++)),E=u(b.charCodeAt(m++));if(C===void 0||E===void 0)throw new e.BaseError(`Invalid byte sequence ("${b[m-2]}${b[m-1]}" in "${b}").`);y[v]=C*16+E}return y}function f(h,g){const p=(0,i.numberToHex)(h,g);return l(p)}function d(h,g={}){const p=s.encode(h);return typeof g.size=="number"?((0,n.assertSize)(p,{size:g.size}),(0,r.pad)(p,{dir:"right",size:g.size})):p}return Uc}var by={},CB;function Vi(){if(CB)return by;CB=1,Object.defineProperty(by,"__esModule",{value:!0}),by.keccak256=i;const e=aW(),t=wi(),r=Qt(),n=Oe();function i(s,o){const a=o||"hex",c=(0,e.keccak_256)((0,t.isHex)(s,{strict:!1})?(0,r.toBytes)(s):s);return a==="bytes"?c:(0,n.toHex)(c)}return by}var T0={},yy={},wy={},AB;function dme(){if(AB)return wy;AB=1,Object.defineProperty(wy,"__esModule",{value:!0}),wy.hashSignature=n;const e=Qt(),t=Vi(),r=i=>(0,t.keccak256)((0,e.toBytes)(i));function n(i){return r(i)}return wy}var O0={},vy={},xB;function fme(){if(xB)return vy;xB=1,Object.defineProperty(vy,"__esModule",{value:!0}),vy.normalizeSignature=t;const e=Ye();function t(r){let n=!0,i="",s=0,o="",a=!1;for(let c=0;c<r.length;c++){const u=r[c];if(["(",")",","].includes(u)&&(n=!0),u==="("&&s++,u===")"&&s--,!!n){if(s===0){if(u===" "&&["event","function",""].includes(o))o="";else if(o+=u,u===")"){a=!0;break}continue}if(u===" "){r[c-1]!==","&&i!==","&&i!==",("&&(i="",n=!1);continue}o+=u,i+=u}}if(!a)throw new e.BaseError("Unable to normalize signature.");return o}return vy}var IB;function nS(){if(IB)return O0;IB=1,Object.defineProperty(O0,"__esModule",{value:!0}),O0.toSignature=void 0;const e=Ru(),t=fme(),r=n=>{const i=typeof n=="string"?n:(0,e.formatAbiItem)(n);return(0,t.normalizeSignature)(i)};return O0.toSignature=r,O0}var PB;function mE(){if(PB)return yy;PB=1,Object.defineProperty(yy,"__esModule",{value:!0}),yy.toSignatureHash=r;const e=dme(),t=nS();function r(n){return(0,e.hashSignature)((0,t.toSignature)(n))}return yy}var SB;function Up(){if(SB)return T0;SB=1,Object.defineProperty(T0,"__esModule",{value:!0}),T0.toEventSelector=void 0;const e=mE();return T0.toEventSelector=e.toSignatureHash,T0}var j0={},B0={},TB;function Bo(){if(TB)return B0;TB=1,Object.defineProperty(B0,"__esModule",{value:!0}),B0.InvalidAddressError=void 0;const e=Ye();class t extends e.BaseError{constructor({address:n}){super(`Address "${n}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}return B0.InvalidAddressError=t,B0}var G_={},R0={},OB;function Wd(){if(OB)return R0;OB=1,Object.defineProperty(R0,"__esModule",{value:!0}),R0.LruMap=void 0;class e extends Map{constructor(r){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=r}get(r){const n=super.get(r);return super.has(r)&&n!==void 0&&(this.delete(r),super.set(r,n)),n}set(r,n){if(super.set(r,n),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}}return R0.LruMap=e,R0}var k0={},jB;function Is(){if(jB)return k0;jB=1,Object.defineProperty(k0,"__esModule",{value:!0}),k0.checksumAddress=o,k0.getAddress=a;const e=Bo(),t=Qt(),r=Vi(),n=Wd(),i=Gi(),s=new n.LruMap(8192);function o(c,u){if(s.has(`${c}.${u}`))return s.get(`${c}.${u}`);const l=u?`${u}${c.toLowerCase()}`:c.substring(2).toLowerCase(),f=(0,r.keccak256)((0,t.stringToBytes)(l),"bytes"),d=(u?l.substring(`${u}0x`.length):l).split("");for(let g=0;g<40;g+=2)f[g>>1]>>4>=8&&d[g]&&(d[g]=d[g].toUpperCase()),(f[g>>1]&15)>=8&&d[g+1]&&(d[g+1]=d[g+1].toUpperCase());const h=`0x${d.join("")}`;return s.set(`${c}.${u}`,h),h}function a(c,u){if(!(0,i.isAddress)(c,{strict:!1}))throw new e.InvalidAddressError({address:c});return o(c,u)}return k0}var BB;function Gi(){return BB||(BB=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isAddressCache=void 0,e.isAddress=i;const t=Wd(),r=Is(),n=/^0x[a-fA-F0-9]{40}$/;e.isAddressCache=new t.LruMap(8192);function i(s,o){const{strict:a=!0}=o??{},c=`${s}.${a}`;if(e.isAddressCache.has(c))return e.isAddressCache.get(c);const u=n.test(s)?s.toLowerCase()===s?!0:a?(0,r.checksumAddress)(s)===s:!0:!1;return e.isAddressCache.set(c,u),u}})(G_)),G_}var wf={},RB;function An(){if(RB)return wf;RB=1,Object.defineProperty(wf,"__esModule",{value:!0}),wf.concat=e,wf.concatBytes=t,wf.concatHex=r;function e(n){return typeof n[0]=="string"?r(n):t(n)}function t(n){let i=0;for(const a of n)i+=a.length;const s=new Uint8Array(i);let o=0;for(const a of n)s.set(a,o),o+=a.length;return s}function r(n){return`0x${n.reduce((i,s)=>i+s.replace("0x",""),"")}`}return wf}var vf={},kB;function Ys(){if(kB)return vf;kB=1,Object.defineProperty(vf,"__esModule",{value:!0}),vf.slice=n,vf.sliceBytes=o,vf.sliceHex=a;const e=gE(),t=wi(),r=Wi();function n(c,u,l,{strict:f}={}){return(0,t.isHex)(c,{strict:!1})?a(c,u,l,{strict:f}):o(c,u,l,{strict:f})}function i(c,u){if(typeof u=="number"&&u>0&&u>(0,r.size)(c)-1)throw new e.SliceOffsetOutOfBoundsError({offset:u,position:"start",size:(0,r.size)(c)})}function s(c,u,l){if(typeof u=="number"&&typeof l=="number"&&(0,r.size)(c)!==l-u)throw new e.SliceOffsetOutOfBoundsError({offset:l,position:"end",size:(0,r.size)(c)})}function o(c,u,l,{strict:f}={}){i(c,u);const d=c.slice(u,l);return f&&s(d,u,l),d}function a(c,u,l,{strict:f}={}){i(c,u);const d=`0x${c.replace("0x","").slice((u??0)*2,(l??c.length)*2)}`;return f&&s(d,u,l),d}return vf}var Ra={},NB;function bE(){return NB||(NB=1,Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.integerRegex=Ra.bytesRegex=Ra.arrayRegex=void 0,Ra.arrayRegex=/^(.*)\[([0-9]*)\]$/,Ra.bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ra.integerRegex=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/),Ra}var DB;function Ro(){if(DB)return j0;DB=1,Object.defineProperty(j0,"__esModule",{value:!0}),j0.encodeAbiParameters=f,j0.getArrayComponents=E;const e=br(),t=Bo(),r=Ye(),n=Lp(),i=Gi(),s=An(),o=ku(),a=Wi(),c=Ys(),u=Oe(),l=bE();function f(_,P){if(_.length!==P.length)throw new e.AbiEncodingLengthMismatchError({expectedLength:_.length,givenLength:P.length});const x=d({params:_,values:P}),O=g(x);return O.length===0?"0x":O}function d({params:_,values:P}){const x=[];for(let O=0;O<_.length;O++)x.push(h({param:_[O],value:P[O]}));return x}function h({param:_,value:P}){const x=E(_.type);if(x){const[O,D]=x;return b(P,{length:O,param:{..._,type:D}})}if(_.type==="tuple")return C(P,{param:_});if(_.type==="address")return p(P);if(_.type==="bool")return y(P);if(_.type.startsWith("uint")||_.type.startsWith("int")){const O=_.type.startsWith("int"),[,,D="256"]=l.integerRegex.exec(_.type)??[];return v(P,{signed:O,size:Number(D)})}if(_.type.startsWith("bytes"))return w(P,{param:_});if(_.type==="string")return m(P);throw new e.InvalidAbiEncodingTypeError(_.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function g(_){let P=0;for(let R=0;R<_.length;R++){const{dynamic:k,encoded:T}=_[R];k?P+=32:P+=(0,a.size)(T)}const x=[],O=[];let D=0;for(let R=0;R<_.length;R++){const{dynamic:k,encoded:T}=_[R];k?(x.push((0,u.numberToHex)(P+D,{size:32})),O.push(T),D+=(0,a.size)(T)):x.push(T)}return(0,s.concat)([...x,...O])}function p(_){if(!(0,i.isAddress)(_))throw new t.InvalidAddressError({address:_});return{dynamic:!1,encoded:(0,o.padHex)(_.toLowerCase())}}function b(_,{length:P,param:x}){const O=P===null;if(!Array.isArray(_))throw new e.InvalidArrayError(_);if(!O&&_.length!==P)throw new e.AbiEncodingArrayLengthMismatchError({expectedLength:P,givenLength:_.length,type:`${x.type}[${P}]`});let D=!1;const R=[];for(let k=0;k<_.length;k++){const T=h({param:x,value:_[k]});T.dynamic&&(D=!0),R.push(T)}if(O||D){const k=g(R);if(O){const T=(0,u.numberToHex)(R.length,{size:32});return{dynamic:!0,encoded:R.length>0?(0,s.concat)([T,k]):T}}if(D)return{dynamic:!0,encoded:k}}return{dynamic:!1,encoded:(0,s.concat)(R.map(({encoded:k})=>k))}}function w(_,{param:P}){const[,x]=P.type.split("bytes"),O=(0,a.size)(_);if(!x){let D=_;return O%32!==0&&(D=(0,o.padHex)(D,{dir:"right",size:Math.ceil((_.length-2)/2/32)*32})),{dynamic:!0,encoded:(0,s.concat)([(0,o.padHex)((0,u.numberToHex)(O,{size:32})),D])}}if(O!==Number.parseInt(x,10))throw new e.AbiEncodingBytesSizeMismatchError({expectedSize:Number.parseInt(x,10),value:_});return{dynamic:!1,encoded:(0,o.padHex)(_,{dir:"right"})}}function y(_){if(typeof _!="boolean")throw new r.BaseError(`Invalid boolean value: "${_}" (type: ${typeof _}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:(0,o.padHex)((0,u.boolToHex)(_))}}function v(_,{signed:P,size:x=256}){if(typeof x=="number"){const O=2n**(BigInt(x)-(P?1n:0n))-1n,D=P?-O-1n:0n;if(_>O||_<D)throw new n.IntegerOutOfRangeError({max:O.toString(),min:D.toString(),signed:P,size:x/8,value:_.toString()})}return{dynamic:!1,encoded:(0,u.numberToHex)(_,{size:32,signed:P})}}function m(_){const P=(0,u.stringToHex)(_),x=Math.ceil((0,a.size)(P)/32),O=[];for(let D=0;D<x;D++)O.push((0,o.padHex)((0,c.slice)(P,D*32,(D+1)*32),{dir:"right"}));return{dynamic:!0,encoded:(0,s.concat)([(0,o.padHex)((0,u.numberToHex)((0,a.size)(P),{size:32})),...O])}}function C(_,{param:P}){let x=!1;const O=[];for(let D=0;D<P.components.length;D++){const R=P.components[D],k=Array.isArray(_)?D:R.name,T=h({param:R,value:_[k]});O.push(T),T.dynamic&&(x=!0)}return{dynamic:x,encoded:x?g(O):(0,s.concat)(O.map(({encoded:D})=>D))}}function E(_){const P=_.match(/^(.*)\[(\d+)?\]$/);return P?[P[2]?Number(P[2]):null,P[1]]:void 0}return j0}var Ef={},N0={},$B;function Vd(){if($B)return N0;$B=1,Object.defineProperty(N0,"__esModule",{value:!0}),N0.toFunctionSelector=void 0;const e=Ys(),t=mE(),r=n=>(0,e.slice)((0,t.toSignatureHash)(n),0,4);return N0.toFunctionSelector=r,N0}var MB;function jc(){if(MB)return Ef;MB=1,Object.defineProperty(Ef,"__esModule",{value:!0}),Ef.getAbiItem=s,Ef.isArgOfType=o,Ef.getAmbiguousTypes=a;const e=br(),t=wi(),r=Gi(),n=Up(),i=Vd();function s(c){const{abi:u,args:l=[],name:f}=c,d=(0,t.isHex)(f,{strict:!1}),h=u.filter(p=>d?p.type==="function"?(0,i.toFunctionSelector)(p)===f:p.type==="event"?(0,n.toEventSelector)(p)===f:!1:"name"in p&&p.name===f);if(h.length===0)return;if(h.length===1)return h[0];let g;for(const p of h){if(!("inputs"in p))continue;if(!l||l.length===0){if(!p.inputs||p.inputs.length===0)return p;continue}if(!p.inputs||p.inputs.length===0||p.inputs.length!==l.length)continue;if(l.every((w,y)=>{const v="inputs"in p&&p.inputs[y];return v?o(w,v):!1})){if(g&&"inputs"in g&&g.inputs){const w=a(p.inputs,g.inputs,l);if(w)throw new e.AbiItemAmbiguityError({abiItem:p,type:w[0]},{abiItem:g,type:w[1]})}g=p}}return g||h[0]}function o(c,u){const l=typeof c,f=u.type;switch(f){case"address":return(0,r.isAddress)(c,{strict:!1});case"bool":return l==="boolean";case"function":return l==="string";case"string":return l==="string";default:return f==="tuple"&&"components"in u?Object.values(u.components).every((d,h)=>l==="object"&&o(Object.values(c)[h],d)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(f)?l==="number"||l==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(f)?l==="string"||c instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(f)?Array.isArray(c)&&c.every(d=>o(d,{...u,type:f.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function a(c,u,l){for(const f in c){const d=c[f],h=u[f];if(d.type==="tuple"&&h.type==="tuple"&&"components"in d&&"components"in h)return a(d.components,h.components,l[f]);const g=[d.type,h.type];if(g.includes("address")&&g.includes("bytes20")?!0:g.includes("address")&&g.includes("string")?(0,r.isAddress)(l[f],{strict:!1}):g.includes("address")&&g.includes("bytes")?(0,r.isAddress)(l[f],{strict:!1}):!1)return g}}return Ef}var LB;function Gd(){if(LB)return hy;LB=1,Object.defineProperty(hy,"__esModule",{value:!0}),hy.encodeEventTopics=u;const e=br(),t=KZ(),r=Qt(),n=Vi(),i=Up(),s=Ro(),o=Tc(),a=jc(),c="/docs/contract/encodeEventTopics";function u(f){const{abi:d,eventName:h,args:g}=f;let p=d[0];if(h){const v=(0,a.getAbiItem)({abi:d,name:h});if(!v)throw new e.AbiEventNotFoundError(h,{docsPath:c});p=v}if(p.type!=="event")throw new e.AbiEventNotFoundError(void 0,{docsPath:c});const b=(0,o.formatAbiItem)(p),w=(0,i.toEventSelector)(b);let y=[];if(g&&"inputs"in p){const v=p.inputs?.filter(C=>"indexed"in C&&C.indexed),m=Array.isArray(g)?g:Object.values(g).length>0?v?.map(C=>g[C.name])??[]:[];m.length>0&&(y=v?.map((C,E)=>Array.isArray(m[E])?m[E].map((_,P)=>l({param:C,value:m[E][P]})):typeof m[E]<"u"&&m[E]!==null?l({param:C,value:m[E]}):null)??[])}return[w,...y]}function l({param:f,value:d}){if(f.type==="string"||f.type==="bytes")return(0,n.keccak256)((0,r.toBytes)(d));if(f.type==="tuple"||f.type.match(/^(.*)\[(\d+)?\]$/))throw new t.FilterTypeNotSupportedError(f.type);return(0,s.encodeAbiParameters)([f],[d])}return hy}var Ey={},UB;function yE(){if(UB)return Ey;UB=1,Object.defineProperty(Ey,"__esModule",{value:!0}),Ey.createFilterRequestScope=e;function e(t,{method:r}){const n={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:i,response:s,status:o,transport:a})=>{o==="success"&&r===i&&(n[s]=a.request)}),(i=>n[i]||t.request)}return Ey}var qB;function iS(){if(qB)return fy;qB=1,Object.defineProperty(fy,"__esModule",{value:!0}),fy.createContractEventFilter=n;const e=Gd(),t=Oe(),r=yE();async function n(i,s){const{address:o,abi:a,args:c,eventName:u,fromBlock:l,strict:f,toBlock:d}=s,h=(0,r.createFilterRequestScope)(i,{method:"eth_newFilter"}),g=u?(0,e.encodeEventTopics)({abi:a,args:c,eventName:u}):void 0,p=await i.request({method:"eth_newFilter",params:[{address:o,fromBlock:typeof l=="bigint"?(0,t.numberToHex)(l):l,toBlock:typeof d=="bigint"?(0,t.numberToHex)(d):d,topics:g}]});return{abi:a,args:c,eventName:u,id:p,request:h(p),strict:!!f,type:"event"}}return fy}var _y={},Cy={},zB;function yr(){if(zB)return Cy;zB=1,Object.defineProperty(Cy,"__esModule",{value:!0}),Cy.parseAccount=e;function e(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}return Cy}var Ay={},xy={},FB;function ZZ(){if(FB)return xy;FB=1,Object.defineProperty(xy,"__esModule",{value:!0}),xy.prepareEncodeFunctionData=s;const e=br(),t=Vd(),r=Tc(),n=jc(),i="/docs/contract/encodeFunctionData";function s(o){const{abi:a,args:c,functionName:u}=o;let l=a[0];if(u){const f=(0,n.getAbiItem)({abi:a,args:c,name:u});if(!f)throw new e.AbiFunctionNotFoundError(u,{docsPath:i});l=f}if(l.type!=="function")throw new e.AbiFunctionNotFoundError(void 0,{docsPath:i});return{abi:[l],functionName:(0,t.toFunctionSelector)((0,r.formatAbiItem)(l))}}return xy}var HB;function Ki(){if(HB)return Ay;HB=1,Object.defineProperty(Ay,"__esModule",{value:!0}),Ay.encodeFunctionData=n;const e=An(),t=Ro(),r=ZZ();function n(i){const{args:s}=i,{abi:o,functionName:a}=i.abi.length===1&&i.functionName?.startsWith("0x")?i:(0,r.prepareEncodeFunctionData)(i),c=o[0],u=a,l="inputs"in c&&c.inputs?(0,t.encodeAbiParameters)(c.inputs,s??[]):void 0;return(0,e.concatHex)([u,l??"0x"])}return Ay}var Iy={},ri={},ka={},WB;function sS(){return WB||(WB=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.solidityPanic=ka.solidityError=ka.panicReasons=void 0,ka.panicReasons={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},ka.solidityError={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},ka.solidityPanic={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}),ka}var Py={},Sy={},Ty={},Na={},VB;function YZ(){if(VB)return Na;VB=1,Object.defineProperty(Na,"__esModule",{value:!0}),Na.RecursiveReadLimitExceededError=Na.PositionOutOfBoundsError=Na.NegativeOffsetError=void 0;const e=Ye();class t extends e.BaseError{constructor({offset:s}){super(`Offset \`${s}\` cannot be negative.`,{name:"NegativeOffsetError"})}}Na.NegativeOffsetError=t;class r extends e.BaseError{constructor({length:s,position:o}){super(`Position \`${o}\` is out of bounds (\`0 < position < ${s}\`).`,{name:"PositionOutOfBoundsError"})}}Na.PositionOutOfBoundsError=r;class n extends e.BaseError{constructor({count:s,limit:o}){super(`Recursive read limit of \`${o}\` exceeded (recursive read count: \`${s}\`).`,{name:"RecursiveReadLimitExceededError"})}}return Na.RecursiveReadLimitExceededError=n,Na}var GB;function O1(){if(GB)return Ty;GB=1,Object.defineProperty(Ty,"__esModule",{value:!0}),Ty.createCursor=r;const e=YZ(),t={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new e.RecursiveReadLimitExceededError({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(n){if(n<0||n>this.bytes.length-1)throw new e.PositionOutOfBoundsError({length:this.bytes.length,position:n})},decrementPosition(n){if(n<0)throw new e.NegativeOffsetError({offset:n});const i=this.position-n;this.assertPosition(i),this.position=i},getReadCount(n){return this.positionReadCount.get(n||this.position)||0},incrementPosition(n){if(n<0)throw new e.NegativeOffsetError({offset:n});const i=this.position+n;this.assertPosition(i),this.position=i},inspectByte(n){const i=n??this.position;return this.assertPosition(i),this.bytes[i]},inspectBytes(n,i){const s=i??this.position;return this.assertPosition(s+n-1),this.bytes.subarray(s,s+n)},inspectUint8(n){const i=n??this.position;return this.assertPosition(i),this.bytes[i]},inspectUint16(n){const i=n??this.position;return this.assertPosition(i+1),this.dataView.getUint16(i)},inspectUint24(n){const i=n??this.position;return this.assertPosition(i+2),(this.dataView.getUint16(i)<<8)+this.dataView.getUint8(i+2)},inspectUint32(n){const i=n??this.position;return this.assertPosition(i+3),this.dataView.getUint32(i)},pushByte(n){this.assertPosition(this.position),this.bytes[this.position]=n,this.position++},pushBytes(n){this.assertPosition(this.position+n.length-1),this.bytes.set(n,this.position),this.position+=n.length},pushUint8(n){this.assertPosition(this.position),this.bytes[this.position]=n,this.position++},pushUint16(n){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,n),this.position+=2},pushUint24(n){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,n>>8),this.dataView.setUint8(this.position+2,n&255),this.position+=3},pushUint32(n){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,n),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const n=this.inspectByte();return this.position++,n},readBytes(n,i){this.assertReadLimit(),this._touch();const s=this.inspectBytes(n);return this.position+=i??n,s},readUint8(){this.assertReadLimit(),this._touch();const n=this.inspectUint8();return this.position+=1,n},readUint16(){this.assertReadLimit(),this._touch();const n=this.inspectUint16();return this.position+=2,n},readUint24(){this.assertReadLimit(),this._touch();const n=this.inspectUint24();return this.position+=3,n},readUint32(){this.assertReadLimit(),this._touch();const n=this.inspectUint32();return this.position+=4,n},get remaining(){return this.bytes.length-this.position},setPosition(n){const i=this.position;return this.assertPosition(n),this.position=n,()=>this.position=i},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const n=this.getReadCount();this.positionReadCount.set(this.position,n+1),n>0&&this.recursiveReadCount++}};function r(n,{recursiveReadLimit:i=8192}={}){const s=Object.create(t);return s.bytes=n,s.dataView=new DataView(n.buffer??n,n.byteOffset,n.byteLength),s.positionReadCount=new Map,s.recursiveReadLimit=i,s}return Ty}var zc={},KB;function oS(){if(KB)return zc;KB=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.fromBytes=i,zc.bytesToBigInt=s,zc.bytesToBool=o,zc.bytesToNumber=a,zc.bytesToString=c;const e=Lp(),t=Oc(),r=Cr(),n=Oe();function i(u,l){const f=typeof l=="string"?{to:l}:l,d=f.to;return d==="number"?a(u,f):d==="bigint"?s(u,f):d==="boolean"?o(u,f):d==="string"?c(u,f):(0,n.bytesToHex)(u,f)}function s(u,l={}){typeof l.size<"u"&&(0,r.assertSize)(u,{size:l.size});const f=(0,n.bytesToHex)(u,l);return(0,r.hexToBigInt)(f,l)}function o(u,l={}){let f=u;if(typeof l.size<"u"&&((0,r.assertSize)(f,{size:l.size}),f=(0,t.trim)(f)),f.length>1||f[0]>1)throw new e.InvalidBytesBooleanError(f);return!!f[0]}function a(u,l={}){typeof l.size<"u"&&(0,r.assertSize)(u,{size:l.size});const f=(0,n.bytesToHex)(u,l);return(0,r.hexToNumber)(f,l)}function c(u,l={}){let f=u;return typeof l.size<"u"&&((0,r.assertSize)(f,{size:l.size}),f=(0,t.trim)(f,{dir:"right"})),new TextDecoder().decode(f)}return zc}var ZB;function Nu(){if(ZB)return Sy;ZB=1,Object.defineProperty(Sy,"__esModule",{value:!0}),Sy.decodeAbiParameters=l;const e=br(),t=Is(),r=O1(),n=Wi(),i=Ys(),s=Oc(),o=oS(),a=Qt(),c=Oe(),u=Ro();function l(E,_){const P=typeof _=="string"?(0,a.hexToBytes)(_):_,x=(0,r.createCursor)(P);if((0,n.size)(P)===0&&E.length>0)throw new e.AbiDecodingZeroDataError;if((0,n.size)(_)&&(0,n.size)(_)<32)throw new e.AbiDecodingDataSizeTooSmallError({data:typeof _=="string"?_:(0,c.bytesToHex)(_),params:E,size:(0,n.size)(_)});let O=0;const D=[];for(let R=0;R<E.length;++R){const k=E[R];x.setPosition(O);const[T,S]=f(x,k,{staticPosition:0});O+=S,D.push(T)}return D}function f(E,_,{staticPosition:P}){const x=(0,u.getArrayComponents)(_.type);if(x){const[O,D]=x;return p(E,{..._,type:D},{length:O,staticPosition:P})}if(_.type==="tuple")return v(E,_,{staticPosition:P});if(_.type==="address")return g(E);if(_.type==="bool")return b(E);if(_.type.startsWith("bytes"))return w(E,_,{staticPosition:P});if(_.type.startsWith("uint")||_.type.startsWith("int"))return y(E,_);if(_.type==="string")return m(E,{staticPosition:P});throw new e.InvalidAbiDecodingTypeError(_.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const d=32,h=32;function g(E){const _=E.readBytes(32);return[(0,t.checksumAddress)((0,c.bytesToHex)((0,i.sliceBytes)(_,-20))),32]}function p(E,_,{length:P,staticPosition:x}){if(!P){const R=(0,o.bytesToNumber)(E.readBytes(h)),k=x+R,T=k+d;E.setPosition(k);const S=(0,o.bytesToNumber)(E.readBytes(d)),I=C(_);let A=0;const j=[];for(let N=0;N<S;++N){E.setPosition(T+(I?N*32:A));const[B,$]=f(E,_,{staticPosition:T});A+=$,j.push(B)}return E.setPosition(x+32),[j,32]}if(C(_)){const R=(0,o.bytesToNumber)(E.readBytes(h)),k=x+R,T=[];for(let S=0;S<P;++S){E.setPosition(k+S*32);const[I]=f(E,_,{staticPosition:k});T.push(I)}return E.setPosition(x+32),[T,32]}let O=0;const D=[];for(let R=0;R<P;++R){const[k,T]=f(E,_,{staticPosition:x+O});O+=T,D.push(k)}return[D,O]}function b(E){return[(0,o.bytesToBool)(E.readBytes(32),{size:32}),32]}function w(E,_,{staticPosition:P}){const[x,O]=_.type.split("bytes");if(!O){const R=(0,o.bytesToNumber)(E.readBytes(32));E.setPosition(P+R);const k=(0,o.bytesToNumber)(E.readBytes(32));if(k===0)return E.setPosition(P+32),["0x",32];const T=E.readBytes(k);return E.setPosition(P+32),[(0,c.bytesToHex)(T),32]}return[(0,c.bytesToHex)(E.readBytes(Number.parseInt(O,10),32)),32]}function y(E,_){const P=_.type.startsWith("int"),x=Number.parseInt(_.type.split("int")[1]||"256",10),O=E.readBytes(32);return[x>48?(0,o.bytesToBigInt)(O,{signed:P}):(0,o.bytesToNumber)(O,{signed:P}),32]}function v(E,_,{staticPosition:P}){const x=_.components.length===0||_.components.some(({name:R})=>!R),O=x?[]:{};let D=0;if(C(_)){const R=(0,o.bytesToNumber)(E.readBytes(h)),k=P+R;for(let T=0;T<_.components.length;++T){const S=_.components[T];E.setPosition(k+D);const[I,A]=f(E,S,{staticPosition:k});D+=A,O[x?T:S?.name]=I}return E.setPosition(P+32),[O,32]}for(let R=0;R<_.components.length;++R){const k=_.components[R],[T,S]=f(E,k,{staticPosition:P});O[x?R:k?.name]=T,D+=S}return[O,D]}function m(E,{staticPosition:_}){const P=(0,o.bytesToNumber)(E.readBytes(32)),x=_+P;E.setPosition(x);const O=(0,o.bytesToNumber)(E.readBytes(32));if(O===0)return E.setPosition(_+32),["",32];const D=E.readBytes(O,32),R=(0,o.bytesToString)((0,s.trim)(D));return E.setPosition(_+32),[R,32]}function C(E){const{type:_}=E;if(_==="string"||_==="bytes"||_.endsWith("[]"))return!0;if(_==="tuple")return E.components?.some(C);const P=(0,u.getArrayComponents)(E.type);return!!(P&&C({...E,type:P[1]}))}return Sy}var YB;function wE(){if(YB)return Py;YB=1,Object.defineProperty(Py,"__esModule",{value:!0}),Py.decodeErrorResult=o;const e=sS(),t=br(),r=Ys(),n=Vd(),i=Nu(),s=Tc();function o(a){const{abi:c,data:u}=a,l=(0,r.slice)(u,0,4);if(l==="0x")throw new t.AbiDecodingZeroDataError;const d=[...c||[],e.solidityError,e.solidityPanic].find(h=>h.type==="error"&&l===(0,n.toFunctionSelector)((0,s.formatAbiItem)(h)));if(!d)throw new t.AbiErrorSignatureNotFoundError(l,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:d,args:"inputs"in d&&d.inputs&&d.inputs.length>0?(0,i.decodeAbiParameters)(d.inputs,(0,r.slice)(u,4)):void 0,errorName:d.name}}return Py}var Oy={},D0={},QB;function Dn(){if(QB)return D0;QB=1,Object.defineProperty(D0,"__esModule",{value:!0}),D0.stringify=void 0;const e=(t,r,n)=>JSON.stringify(t,(i,s)=>{const o=typeof s=="bigint"?s.toString():s;return typeof r=="function"?r(i,o):o},n);return D0.stringify=e,D0}var JB;function QZ(){if(JB)return Oy;JB=1,Object.defineProperty(Oy,"__esModule",{value:!0}),Oy.formatAbiItemWithArgs=t;const e=Dn();function t({abiItem:r,args:n,includeFunctionName:i=!0,includeName:s=!1}){if("name"in r&&"inputs"in r&&r.inputs)return`${i?r.name:""}(${r.inputs.map((o,a)=>`${s&&o.name?`${o.name}: `:""}${typeof n[a]=="object"?(0,e.stringify)(n[a]):n[a]}`).join(", ")})`}return Oy}var jy={},Da={},XB;function j1(){return XB||(XB=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.weiUnits=Da.gweiUnits=Da.etherUnits=void 0,Da.etherUnits={gwei:9,wei:18},Da.gweiUnits={ether:-9,wei:9},Da.weiUnits={ether:-18,gwei:-9}),Da}var By={},eR;function vE(){if(eR)return By;eR=1,Object.defineProperty(By,"__esModule",{value:!0}),By.formatUnits=e;function e(t,r){let n=t.toString();const i=n.startsWith("-");i&&(n=n.slice(1)),n=n.padStart(r,"0");let[s,o]=[n.slice(0,n.length-r),n.slice(n.length-r)];return o=o.replace(/(0+)$/,""),`${i?"-":""}${s||"0"}${o?`.${o}`:""}`}return By}var tR;function B1(){if(tR)return jy;tR=1,Object.defineProperty(jy,"__esModule",{value:!0}),jy.formatEther=r;const e=j1(),t=vE();function r(n,i="wei"){return(0,t.formatUnits)(n,e.etherUnits[i])}return jy}var Ry={},rR;function Kd(){if(rR)return Ry;rR=1,Object.defineProperty(Ry,"__esModule",{value:!0}),Ry.formatGwei=r;const e=j1(),t=vE();function r(n,i="wei"){return(0,t.formatUnits)(n,e.gweiUnits[i])}return Ry}var $a={},nR;function aS(){if(nR)return $a;nR=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.StateAssignmentConflictError=$a.AccountStateConflictError=void 0,$a.prettyStateMapping=n,$a.prettyStateOverride=i;const e=Ye();class t extends e.BaseError{constructor({address:o}){super(`State for account "${o}" is set multiple times.`,{name:"AccountStateConflictError"})}}$a.AccountStateConflictError=t;class r extends e.BaseError{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}$a.StateAssignmentConflictError=r;function n(s){return s.reduce((o,{slot:a,value:c})=>`${o}        ${a}: ${c}
`,"")}function i(s){return s.reduce((o,{address:a,...c})=>{let u=`${o}    ${a}:
`;return c.nonce&&(u+=`      nonce: ${c.nonce}
`),c.balance&&(u+=`      balance: ${c.balance}
`),c.code&&(u+=`      code: ${c.code}
`),c.state&&(u+=`      state:
`,u+=n(c.state)),c.stateDiff&&(u+=`      stateDiff:
`,u+=n(c.stateDiff)),u},`  State Override:
`).slice(0,-1)}return $a}var Xt={},iR;function Zi(){if(iR)return Xt;iR=1,Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.WaitForTransactionReceiptTimeoutError=Xt.TransactionReceiptRevertedError=Xt.TransactionReceiptNotFoundError=Xt.TransactionNotFoundError=Xt.TransactionExecutionError=Xt.InvalidStorageKeySizeError=Xt.InvalidSerializedTransactionError=Xt.InvalidSerializedTransactionTypeError=Xt.InvalidSerializableTransactionError=Xt.InvalidLegacyVError=Xt.FeeConflictError=void 0,Xt.prettyPrint=n;const e=B1(),t=Kd(),r=Ye();function n(p){const b=Object.entries(p).map(([y,v])=>v===void 0||v===!1?null:[y,v]).filter(Boolean),w=b.reduce((y,[v])=>Math.max(y,v.length),0);return b.map(([y,v])=>`  ${`${y}:`.padEnd(w+1)}  ${v}`).join(`
`)}class i extends r.BaseError{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}Xt.FeeConflictError=i;class s extends r.BaseError{constructor({v:b}){super(`Invalid \`v\` value "${b}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}Xt.InvalidLegacyVError=s;class o extends r.BaseError{constructor({transaction:b}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",n(b),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}Xt.InvalidSerializableTransactionError=o;class a extends r.BaseError{constructor({serializedType:b}){super(`Serialized transaction type "${b}" is invalid.`,{name:"InvalidSerializedTransactionType"}),Object.defineProperty(this,"serializedType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedType=b}}Xt.InvalidSerializedTransactionTypeError=a;class c extends r.BaseError{constructor({attributes:b,serializedTransaction:w,type:y}){const v=Object.entries(b).map(([m,C])=>typeof C>"u"?m:void 0).filter(Boolean);super(`Invalid serialized transaction of type "${y}" was provided.`,{metaMessages:[`Serialized Transaction: "${w}"`,v.length>0?`Missing Attributes: ${v.join(", ")}`:""].filter(Boolean),name:"InvalidSerializedTransactionError"}),Object.defineProperty(this,"serializedTransaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedTransaction=w,this.type=y}}Xt.InvalidSerializedTransactionError=c;class u extends r.BaseError{constructor({storageKey:b}){super(`Size for storage key "${b}" is invalid. Expected 32 bytes. Got ${Math.floor((b.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}Xt.InvalidStorageKeySizeError=u;class l extends r.BaseError{constructor(b,{account:w,docsPath:y,chain:v,data:m,gas:C,gasPrice:E,maxFeePerGas:_,maxPriorityFeePerGas:P,nonce:x,to:O,value:D}){const R=n({chain:v&&`${v?.name} (id: ${v?.id})`,from:w?.address,to:O,value:typeof D<"u"&&`${(0,e.formatEther)(D)} ${v?.nativeCurrency?.symbol||"ETH"}`,data:m,gas:C,gasPrice:typeof E<"u"&&`${(0,t.formatGwei)(E)} gwei`,maxFeePerGas:typeof _<"u"&&`${(0,t.formatGwei)(_)} gwei`,maxPriorityFeePerGas:typeof P<"u"&&`${(0,t.formatGwei)(P)} gwei`,nonce:x});super(b.shortMessage,{cause:b,docsPath:y,metaMessages:[...b.metaMessages?[...b.metaMessages," "]:[],"Request Arguments:",R].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=b}}Xt.TransactionExecutionError=l;class f extends r.BaseError{constructor({blockHash:b,blockNumber:w,blockTag:y,hash:v,index:m}){let C="Transaction";y&&m!==void 0&&(C=`Transaction at block time "${y}" at index "${m}"`),b&&m!==void 0&&(C=`Transaction at block hash "${b}" at index "${m}"`),w&&m!==void 0&&(C=`Transaction at block number "${w}" at index "${m}"`),v&&(C=`Transaction with hash "${v}"`),super(`${C} could not be found.`,{name:"TransactionNotFoundError"})}}Xt.TransactionNotFoundError=f;class d extends r.BaseError{constructor({hash:b}){super(`Transaction receipt with hash "${b}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}Xt.TransactionReceiptNotFoundError=d;class h extends r.BaseError{constructor({receipt:b}){super(`Transaction with hash "${b.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=b}}Xt.TransactionReceiptRevertedError=h;class g extends r.BaseError{constructor({hash:b}){super(`Timed out while waiting for transaction with hash "${b}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}return Xt.WaitForTransactionReceiptTimeoutError=g,Xt}var ol={},sR;function cS(){if(sR)return ol;sR=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.getUrl=ol.getContractAddress=void 0;const e=r=>r;ol.getContractAddress=e;const t=r=>r;return ol.getUrl=t,ol}var oR;function Du(){if(oR)return ri;oR=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.RawContractError=ri.CounterfactualDeploymentFailedError=ri.ContractFunctionZeroDataError=ri.ContractFunctionRevertedError=ri.ContractFunctionExecutionError=ri.CallExecutionError=void 0;const e=yr(),t=sS(),r=wE(),n=Tc(),i=QZ(),s=jc(),o=B1(),a=Kd(),c=br(),u=Ye(),l=aS(),f=Zi(),d=cS();class h extends u.BaseError{constructor(m,{account:C,docsPath:E,chain:_,data:P,gas:x,gasPrice:O,maxFeePerGas:D,maxPriorityFeePerGas:R,nonce:k,to:T,value:S,stateOverride:I}){const A=C?(0,e.parseAccount)(C):void 0;let j=(0,f.prettyPrint)({from:A?.address,to:T,value:typeof S<"u"&&`${(0,o.formatEther)(S)} ${_?.nativeCurrency?.symbol||"ETH"}`,data:P,gas:x,gasPrice:typeof O<"u"&&`${(0,a.formatGwei)(O)} gwei`,maxFeePerGas:typeof D<"u"&&`${(0,a.formatGwei)(D)} gwei`,maxPriorityFeePerGas:typeof R<"u"&&`${(0,a.formatGwei)(R)} gwei`,nonce:k});I&&(j+=`
${(0,l.prettyStateOverride)(I)}`),super(m.shortMessage,{cause:m,docsPath:E,metaMessages:[...m.metaMessages?[...m.metaMessages," "]:[],"Raw Call Arguments:",j].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=m}}ri.CallExecutionError=h;class g extends u.BaseError{constructor(m,{abi:C,args:E,contractAddress:_,docsPath:P,functionName:x,sender:O}){const D=(0,s.getAbiItem)({abi:C,args:E,name:x}),R=D?(0,i.formatAbiItemWithArgs)({abiItem:D,args:E,includeFunctionName:!1,includeName:!1}):void 0,k=D?(0,n.formatAbiItem)(D,{includeName:!0}):void 0,T=(0,f.prettyPrint)({address:_&&(0,d.getContractAddress)(_),function:k,args:R&&R!=="()"&&`${[...Array(x?.length??0).keys()].map(()=>" ").join("")}${R}`,sender:O});super(m.shortMessage||`An unknown error occurred while executing the contract function "${x}".`,{cause:m,docsPath:P,metaMessages:[...m.metaMessages?[...m.metaMessages," "]:[],T&&"Contract Call:",T].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=C,this.args=E,this.cause=m,this.contractAddress=_,this.functionName=x,this.sender=O}}ri.ContractFunctionExecutionError=g;class p extends u.BaseError{constructor({abi:m,data:C,functionName:E,message:_}){let P,x,O,D;if(C&&C!=="0x")try{x=(0,r.decodeErrorResult)({abi:m,data:C});const{abiItem:k,errorName:T,args:S}=x;if(T==="Error")D=S[0];else if(T==="Panic"){const[I]=S;D=t.panicReasons[I]}else{const I=k?(0,n.formatAbiItem)(k,{includeName:!0}):void 0,A=k&&S?(0,i.formatAbiItemWithArgs)({abiItem:k,args:S,includeFunctionName:!1,includeName:!1}):void 0;O=[I?`Error: ${I}`:"",A&&A!=="()"?`       ${[...Array(T?.length??0).keys()].map(()=>" ").join("")}${A}`:""]}}catch(k){P=k}else _&&(D=_);let R;P instanceof c.AbiErrorSignatureNotFoundError&&(R=P.signature,O=[`Unable to decode signature "${R}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${R}.`]),super(D&&D!=="execution reverted"||R?[`The contract function "${E}" reverted with the following ${R?"signature":"reason"}:`,D||R].join(`
`):`The contract function "${E}" reverted.`,{cause:P,metaMessages:O,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=x,this.raw=C,this.reason=D,this.signature=R}}ri.ContractFunctionRevertedError=p;class b extends u.BaseError{constructor({functionName:m}){super(`The contract function "${m}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${m}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}ri.ContractFunctionZeroDataError=b;class w extends u.BaseError{constructor({factory:m}){super(`Deployment for counterfactual contract call failed${m?` for factory "${m}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}ri.CounterfactualDeploymentFailedError=w;class y extends u.BaseError{constructor({data:m,message:C}){super(C||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=m}}return ri.RawContractError=y,ri}var Xi={},aR;function ko(){if(aR)return Xi;aR=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.TimeoutError=Xi.SocketClosedError=Xi.RpcRequestError=Xi.WebSocketRequestError=Xi.HttpRequestError=void 0;const e=Dn(),t=Ye(),r=cS();class n extends t.BaseError{constructor({body:u,cause:l,details:f,headers:d,status:h,url:g}){super("HTTP request failed.",{cause:l,details:f,metaMessages:[h&&`Status: ${h}`,`URL: ${(0,r.getUrl)(g)}`,u&&`Request body: ${(0,e.stringify)(u)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=u,this.headers=d,this.status=h,this.url=g}}Xi.HttpRequestError=n;class i extends t.BaseError{constructor({body:u,cause:l,details:f,url:d}){super("WebSocket request failed.",{cause:l,details:f,metaMessages:[`URL: ${(0,r.getUrl)(d)}`,u&&`Request body: ${(0,e.stringify)(u)}`].filter(Boolean),name:"WebSocketRequestError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=d}}Xi.WebSocketRequestError=i;class s extends t.BaseError{constructor({body:u,error:l,url:f}){super("RPC Request failed.",{cause:l,details:l.message,metaMessages:[`URL: ${(0,r.getUrl)(f)}`,`Request body: ${(0,e.stringify)(u)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=l.code,this.data=l.data,this.url=f}}Xi.RpcRequestError=s;class o extends t.BaseError{constructor({url:u}={}){super("The socket has been closed.",{metaMessages:[u&&`URL: ${(0,r.getUrl)(u)}`].filter(Boolean),name:"SocketClosedError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=u}}Xi.SocketClosedError=o;class a extends t.BaseError{constructor({body:u,url:l}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,r.getUrl)(l)}`,`Request body: ${(0,e.stringify)(u)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=l}}return Xi.TimeoutError=a,Xi}var Me={},cR;function $u(){if(cR)return Me;cR=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.UnknownRpcError=Me.AtomicityNotSupportedError=Me.AtomicReadyWalletRejectedUpgradeError=Me.BundleTooLargeError=Me.UnknownBundleIdError=Me.DuplicateIdError=Me.UnsupportedChainIdError=Me.UnsupportedNonOptionalCapabilityError=Me.SwitchChainError=Me.ChainDisconnectedError=Me.ProviderDisconnectedError=Me.UnsupportedProviderMethodError=Me.UnauthorizedProviderError=Me.UserRejectedRequestError=Me.JsonRpcVersionUnsupportedError=Me.LimitExceededRpcError=Me.MethodNotSupportedRpcError=Me.TransactionRejectedRpcError=Me.ResourceUnavailableRpcError=Me.ResourceNotFoundRpcError=Me.InvalidInputRpcError=Me.InternalRpcError=Me.InvalidParamsRpcError=Me.MethodNotFoundRpcError=Me.InvalidRequestRpcError=Me.ParseRpcError=Me.ProviderRpcError=Me.RpcError=void 0;const e=Ye(),t=ko(),r=-1;class n extends e.BaseError{constructor(I,{code:A,docsPath:j,metaMessages:N,name:B,shortMessage:$}){super($,{cause:I,docsPath:j,metaMessages:N||I?.metaMessages,name:B||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=B||I.name,this.code=I instanceof t.RpcRequestError?I.code:A??r}}Me.RpcError=n;class i extends n{constructor(I,A){super(I,A),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=A.data}}Me.ProviderRpcError=i;class s extends n{constructor(I){super(I,{code:s.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Me.ParseRpcError=s,Object.defineProperty(s,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class o extends n{constructor(I){super(I,{code:o.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Me.InvalidRequestRpcError=o,Object.defineProperty(o,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class a extends n{constructor(I,{method:A}={}){super(I,{code:a.code,name:"MethodNotFoundRpcError",shortMessage:`The method${A?` "${A}"`:""} does not exist / is not available.`})}}Me.MethodNotFoundRpcError=a,Object.defineProperty(a,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class c extends n{constructor(I){super(I,{code:c.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Me.InvalidParamsRpcError=c,Object.defineProperty(c,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class u extends n{constructor(I){super(I,{code:u.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Me.InternalRpcError=u,Object.defineProperty(u,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class l extends n{constructor(I){super(I,{code:l.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Me.InvalidInputRpcError=l,Object.defineProperty(l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class f extends n{constructor(I){super(I,{code:f.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Me.ResourceNotFoundRpcError=f,Object.defineProperty(f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class d extends n{constructor(I){super(I,{code:d.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Me.ResourceUnavailableRpcError=d,Object.defineProperty(d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class h extends n{constructor(I){super(I,{code:h.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Me.TransactionRejectedRpcError=h,Object.defineProperty(h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class g extends n{constructor(I,{method:A}={}){super(I,{code:g.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${A?` "${A}"`:""} is not supported.`})}}Me.MethodNotSupportedRpcError=g,Object.defineProperty(g,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class p extends n{constructor(I){super(I,{code:p.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Me.LimitExceededRpcError=p,Object.defineProperty(p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class b extends n{constructor(I){super(I,{code:b.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Me.JsonRpcVersionUnsupportedError=b,Object.defineProperty(b,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class w extends i{constructor(I){super(I,{code:w.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Me.UserRejectedRequestError=w,Object.defineProperty(w,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class y extends i{constructor(I){super(I,{code:y.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Me.UnauthorizedProviderError=y,Object.defineProperty(y,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class v extends i{constructor(I,{method:A}={}){super(I,{code:v.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${A?` " ${A}"`:""}.`})}}Me.UnsupportedProviderMethodError=v,Object.defineProperty(v,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class m extends i{constructor(I){super(I,{code:m.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Me.ProviderDisconnectedError=m,Object.defineProperty(m,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class C extends i{constructor(I){super(I,{code:C.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Me.ChainDisconnectedError=C,Object.defineProperty(C,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class E extends i{constructor(I){super(I,{code:E.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Me.SwitchChainError=E,Object.defineProperty(E,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class _ extends i{constructor(I){super(I,{code:_.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Me.UnsupportedNonOptionalCapabilityError=_,Object.defineProperty(_,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class P extends i{constructor(I){super(I,{code:P.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Me.UnsupportedChainIdError=P,Object.defineProperty(P,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class x extends i{constructor(I){super(I,{code:x.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Me.DuplicateIdError=x,Object.defineProperty(x,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class O extends i{constructor(I){super(I,{code:O.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Me.UnknownBundleIdError=O,Object.defineProperty(O,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class D extends i{constructor(I){super(I,{code:D.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Me.BundleTooLargeError=D,Object.defineProperty(D,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class R extends i{constructor(I){super(I,{code:R.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Me.AtomicReadyWalletRejectedUpgradeError=R,Object.defineProperty(R,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class k extends i{constructor(I){super(I,{code:k.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Me.AtomicityNotSupportedError=k,Object.defineProperty(k,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class T extends n{constructor(I){super(I,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}return Me.UnknownRpcError=T,Me}var uR;function Mu(){if(uR)return Iy;uR=1,Object.defineProperty(Iy,"__esModule",{value:!0}),Iy.getContractError=o;const e=br(),t=Ye(),r=Du(),n=ko(),i=$u(),s=3;function o(a,{abi:c,address:u,args:l,docsPath:f,functionName:d,sender:h}){const g=a instanceof r.RawContractError?a:a instanceof t.BaseError?a.walk(C=>"data"in C)||a.walk():{},{code:p,data:b,details:w,message:y,shortMessage:v}=g,m=a instanceof e.AbiDecodingZeroDataError?new r.ContractFunctionZeroDataError({functionName:d}):[s,i.InternalRpcError.code].includes(p)&&(b||w||y||v)||p===i.InvalidInputRpcError.code&&w==="execution reverted"&&b?new r.ContractFunctionRevertedError({abi:c,data:typeof b=="object"?b.data:b,functionName:d,message:g instanceof n.RpcRequestError?w:v??y}):a;return new r.ContractFunctionExecutionError(m,{abi:c,args:l,contractAddress:u,docsPath:f,functionName:d,sender:h})}return Iy}var ky={},Ny={},Dy={},$y={},lR;function JZ(){if(lR)return $y;lR=1,Object.defineProperty($y,"__esModule",{value:!0}),$y.publicKeyToAddress=r;const e=Is(),t=Vi();function r(n){const i=(0,t.keccak256)(`0x${n.substring(4)}`).substring(26);return(0,e.checksumAddress)(`0x${i}`)}return $y}var My={},K_={},$0={},Z_={},al={},ir={},xt={},dR;function R1(){if(dR)return xt;dR=1;Object.defineProperty(xt,"__esModule",{value:!0}),xt.notImplemented=xt.bitMask=void 0,xt.isBytes=r,xt.abytes=n,xt.abool=i,xt.numberToHexUnpadded=s,xt.hexToNumber=o,xt.bytesToHex=u,xt.hexToBytes=d,xt.bytesToNumberBE=h,xt.bytesToNumberLE=g,xt.numberToBytesBE=p,xt.numberToBytesLE=b,xt.numberToVarBytesBE=w,xt.ensureBytes=y,xt.concatBytes=v,xt.equalBytes=m,xt.utf8ToBytes=C,xt.inRange=_,xt.aInRange=P,xt.bitLen=x,xt.bitGet=O,xt.bitSet=D,xt.createHmacDrbg=S,xt.validateObject=A,xt.memoized=N;const e=BigInt(0),t=BigInt(1);function r(B){return B instanceof Uint8Array||ArrayBuffer.isView(B)&&B.constructor.name==="Uint8Array"}function n(B){if(!r(B))throw new Error("Uint8Array expected")}function i(B,$){if(typeof $!="boolean")throw new Error(B+" boolean expected, got "+$)}function s(B){const $=B.toString(16);return $.length&1?"0"+$:$}function o(B){if(typeof B!="string")throw new Error("hex string expected, got "+typeof B);return B===""?e:BigInt("0x"+B)}const a=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",c=Array.from({length:256},(B,$)=>$.toString(16).padStart(2,"0"));function u(B){if(n(B),a)return B.toHex();let $="";for(let M=0;M<B.length;M++)$+=c[B[M]];return $}const l={_0:48,_9:57,A:65,F:70,a:97,f:102};function f(B){if(B>=l._0&&B<=l._9)return B-l._0;if(B>=l.A&&B<=l.F)return B-(l.A-10);if(B>=l.a&&B<=l.f)return B-(l.a-10)}function d(B){if(typeof B!="string")throw new Error("hex string expected, got "+typeof B);if(a)return Uint8Array.fromHex(B);const $=B.length,M=$/2;if($%2)throw new Error("hex string expected, got unpadded hex of length "+$);const L=new Uint8Array(M);for(let q=0,U=0;q<M;q++,U+=2){const F=f(B.charCodeAt(U)),H=f(B.charCodeAt(U+1));if(F===void 0||H===void 0){const V=B[U]+B[U+1];throw new Error('hex string expected, got non-hex character "'+V+'" at index '+U)}L[q]=F*16+H}return L}function h(B){return o(u(B))}function g(B){return n(B),o(u(Uint8Array.from(B).reverse()))}function p(B,$){return d(B.toString(16).padStart($*2,"0"))}function b(B,$){return p(B,$).reverse()}function w(B){return d(s(B))}function y(B,$,M){let L;if(typeof $=="string")try{L=d($)}catch(U){throw new Error(B+" must be hex string or Uint8Array, cause: "+U)}else if(r($))L=Uint8Array.from($);else throw new Error(B+" must be hex string or Uint8Array");const q=L.length;if(typeof M=="number"&&q!==M)throw new Error(B+" of length "+M+" expected, got "+q);return L}function v(...B){let $=0;for(let L=0;L<B.length;L++){const q=B[L];n(q),$+=q.length}const M=new Uint8Array($);for(let L=0,q=0;L<B.length;L++){const U=B[L];M.set(U,q),q+=U.length}return M}function m(B,$){if(B.length!==$.length)return!1;let M=0;for(let L=0;L<B.length;L++)M|=B[L]^$[L];return M===0}function C(B){if(typeof B!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(B))}const E=B=>typeof B=="bigint"&&e<=B;function _(B,$,M){return E(B)&&E($)&&E(M)&&$<=B&&B<M}function P(B,$,M,L){if(!_($,M,L))throw new Error("expected valid "+B+": "+M+" <= n < "+L+", got "+$)}function x(B){let $;for($=0;B>e;B>>=t,$+=1);return $}function O(B,$){return B>>BigInt($)&t}function D(B,$,M){return B|(M?t:e)<<BigInt($)}const R=B=>(t<<BigInt(B))-t;xt.bitMask=R;const k=B=>new Uint8Array(B),T=B=>Uint8Array.from(B);function S(B,$,M){if(typeof B!="number"||B<2)throw new Error("hashLen must be a number");if(typeof $!="number"||$<2)throw new Error("qByteLen must be a number");if(typeof M!="function")throw new Error("hmacFn must be a function");let L=k(B),q=k(B),U=0;const F=()=>{L.fill(1),q.fill(0),U=0},H=(...X)=>M(q,L,...X),V=(X=k(0))=>{q=H(T([0]),X),L=H(),X.length!==0&&(q=H(T([1]),X),L=H())},W=()=>{if(U++>=1e3)throw new Error("drbg: tried 1000 values");let X=0;const ue=[];for(;X<$;){L=H();const Y=L.slice();ue.push(Y),X+=L.length}return v(...ue)};return(X,ue)=>{F(),V(X);let Y;for(;!(Y=ue(W()));)V();return F(),Y}}const I={bigint:B=>typeof B=="bigint",function:B=>typeof B=="function",boolean:B=>typeof B=="boolean",string:B=>typeof B=="string",stringOrUint8Array:B=>typeof B=="string"||r(B),isSafeInteger:B=>Number.isSafeInteger(B),array:B=>Array.isArray(B),field:(B,$)=>$.Fp.isValid(B),hash:B=>typeof B=="function"&&Number.isSafeInteger(B.outputLen)};function A(B,$,M={}){const L=(q,U,F)=>{const H=I[U];if(typeof H!="function")throw new Error("invalid validator function");const V=B[q];if(!(F&&V===void 0)&&!H(V,B))throw new Error("param "+String(q)+" is invalid. Expected "+U+", got "+V)};for(const[q,U]of Object.entries($))L(q,U,!1);for(const[q,U]of Object.entries(M))L(q,U,!0);return B}const j=()=>{throw new Error("not implemented")};xt.notImplemented=j;function N(B){const $=new WeakMap;return(M,...L)=>{const q=$.get(M);if(q!==void 0)return q;const U=B(M,...L);return $.set(M,U),U}}return xt}var fR;function EE(){if(fR)return ir;fR=1,Object.defineProperty(ir,"__esModule",{value:!0}),ir.isNegativeLE=void 0,ir.mod=u,ir.pow=l,ir.pow2=f,ir.invert=d,ir.tonelliShanks=p,ir.FpSqrt=b,ir.validateField=v,ir.FpPow=m,ir.FpInvertBatch=C,ir.FpDiv=E,ir.FpLegendre=_,ir.FpIsSquare=P,ir.nLength=x,ir.Field=O,ir.FpSqrtOdd=D,ir.FpSqrtEven=R,ir.hashToPrivateScalar=k,ir.getFieldBytesLength=T,ir.getMinHashLength=S,ir.mapHashToField=I;const e=ju(),t=R1(),r=BigInt(0),n=BigInt(1),i=BigInt(2),s=BigInt(3),o=BigInt(4),a=BigInt(5),c=BigInt(8);function u(A,j){const N=A%j;return N>=r?N:j+N}function l(A,j,N){return m(O(N),A,j)}function f(A,j,N){let B=A;for(;j-- >r;)B*=B,B%=N;return B}function d(A,j){if(A===r)throw new Error("invert: expected non-zero number");if(j<=r)throw new Error("invert: expected positive modulus, got "+j);let N=u(A,j),B=j,$=r,M=n;for(;N!==r;){const q=B/N,U=B%N,F=$-M*q;B=N,N=U,$=M,M=F}if(B!==n)throw new Error("invert: does not exist");return u($,j)}function h(A,j){const N=(A.ORDER+n)/o,B=A.pow(j,N);if(!A.eql(A.sqr(B),j))throw new Error("Cannot find square root");return B}function g(A,j){const N=(A.ORDER-a)/c,B=A.mul(j,i),$=A.pow(B,N),M=A.mul(j,$),L=A.mul(A.mul(M,i),$),q=A.mul(M,A.sub(L,A.ONE));if(!A.eql(A.sqr(q),j))throw new Error("Cannot find square root");return q}function p(A){if(A<BigInt(3))throw new Error("sqrt is not defined for small field");let j=A-n,N=0;for(;j%i===r;)j/=i,N++;let B=i;const $=O(A);for(;_($,B)===1;)if(B++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(N===1)return h;let M=$.pow(B,j);const L=(j+n)/i;return function(U,F){if(U.is0(F))return F;if(_(U,F)!==1)throw new Error("Cannot find square root");let H=N,V=U.mul(U.ONE,M),W=U.pow(F,j),Z=U.pow(F,L);for(;!U.eql(W,U.ONE);){if(U.is0(W))return U.ZERO;let X=1,ue=U.sqr(W);for(;!U.eql(ue,U.ONE);)if(X++,ue=U.sqr(ue),X===H)throw new Error("Cannot find square root");const Y=n<<BigInt(H-X-1),Q=U.pow(V,Y);H=X,V=U.sqr(Q),W=U.mul(W,V),Z=U.mul(Z,Q)}return Z}}function b(A){return A%o===s?h:A%c===a?g:p(A)}const w=(A,j)=>(u(A,j)&n)===n;ir.isNegativeLE=w;const y=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function v(A){const j={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},N=y.reduce((B,$)=>(B[$]="function",B),j);return(0,t.validateObject)(A,N)}function m(A,j,N){if(N<r)throw new Error("invalid exponent, negatives unsupported");if(N===r)return A.ONE;if(N===n)return j;let B=A.ONE,$=j;for(;N>r;)N&n&&(B=A.mul(B,$)),$=A.sqr($),N>>=n;return B}function C(A,j,N=!1){const B=new Array(j.length).fill(N?A.ZERO:void 0),$=j.reduce((L,q,U)=>A.is0(q)?L:(B[U]=L,A.mul(L,q)),A.ONE),M=A.inv($);return j.reduceRight((L,q,U)=>A.is0(q)?L:(B[U]=A.mul(L,B[U]),A.mul(L,q)),M),B}function E(A,j,N){return A.mul(j,typeof N=="bigint"?d(N,A.ORDER):A.inv(N))}function _(A,j){const N=(A.ORDER-n)/i,B=A.pow(j,N),$=A.eql(B,A.ONE),M=A.eql(B,A.ZERO),L=A.eql(B,A.neg(A.ONE));if(!$&&!M&&!L)throw new Error("invalid Legendre symbol result");return $?1:M?0:-1}function P(A,j){return _(A,j)===1}function x(A,j){j!==void 0&&(0,e.anumber)(j);const N=j!==void 0?j:A.toString(2).length,B=Math.ceil(N/8);return{nBitLength:N,nByteLength:B}}function O(A,j,N=!1,B={}){if(A<=r)throw new Error("invalid field: expected ORDER > 0, got "+A);const{nBitLength:$,nByteLength:M}=x(A,j);if(M>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let L;const q=Object.freeze({ORDER:A,isLE:N,BITS:$,BYTES:M,MASK:(0,t.bitMask)($),ZERO:r,ONE:n,create:U=>u(U,A),isValid:U=>{if(typeof U!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof U);return r<=U&&U<A},is0:U=>U===r,isOdd:U=>(U&n)===n,neg:U=>u(-U,A),eql:(U,F)=>U===F,sqr:U=>u(U*U,A),add:(U,F)=>u(U+F,A),sub:(U,F)=>u(U-F,A),mul:(U,F)=>u(U*F,A),pow:(U,F)=>m(q,U,F),div:(U,F)=>u(U*d(F,A),A),sqrN:U=>U*U,addN:(U,F)=>U+F,subN:(U,F)=>U-F,mulN:(U,F)=>U*F,inv:U=>d(U,A),sqrt:B.sqrt||(U=>(L||(L=b(A)),L(q,U))),toBytes:U=>N?(0,t.numberToBytesLE)(U,M):(0,t.numberToBytesBE)(U,M),fromBytes:U=>{if(U.length!==M)throw new Error("Field.fromBytes: expected "+M+" bytes, got "+U.length);return N?(0,t.bytesToNumberLE)(U):(0,t.bytesToNumberBE)(U)},invertBatch:U=>C(q,U),cmov:(U,F,H)=>H?F:U});return Object.freeze(q)}function D(A,j){if(!A.isOdd)throw new Error("Field doesn't have isOdd");const N=A.sqrt(j);return A.isOdd(N)?N:A.neg(N)}function R(A,j){if(!A.isOdd)throw new Error("Field doesn't have isOdd");const N=A.sqrt(j);return A.isOdd(N)?A.neg(N):N}function k(A,j,N=!1){A=(0,t.ensureBytes)("privateHash",A);const B=A.length,$=x(j).nByteLength+8;if($<24||B<$||B>1024)throw new Error("hashToPrivateScalar: expected "+$+"-1024 bytes of input, got "+B);const M=N?(0,t.bytesToNumberLE)(A):(0,t.bytesToNumberBE)(A);return u(M,j-n)+n}function T(A){if(typeof A!="bigint")throw new Error("field order must be bigint");const j=A.toString(2).length;return Math.ceil(j/8)}function S(A){const j=T(A);return j+Math.ceil(j/2)}function I(A,j,N=!1){const B=A.length,$=T(j),M=S(j);if(B<16||B<M||B>1024)throw new Error("expected "+M+"-1024 bytes of input, got "+B);const L=N?(0,t.bytesToNumberLE)(A):(0,t.bytesToNumberBE)(A),q=u(L,j-n)+n;return N?(0,t.numberToBytesLE)(q,$):(0,t.numberToBytesBE)(q,$)}return ir}var hR;function hme(){if(hR)return al;hR=1,Object.defineProperty(al,"__esModule",{value:!0}),al.wNAF=h,al.pippenger=g,al.precomputeMSMUnsafe=p,al.validateBasic=b;const e=EE(),t=R1(),r=BigInt(0),n=BigInt(1);function i(w,y){const v=y.negate();return w?v:y}function s(w,y){if(!Number.isSafeInteger(w)||w<=0||w>y)throw new Error("invalid window size, expected [1.."+y+"], got W="+w)}function o(w,y){s(w,y);const v=Math.ceil(y/w)+1,m=2**(w-1),C=2**w,E=(0,t.bitMask)(w),_=BigInt(w);return{windows:v,windowSize:m,mask:E,maxNumber:C,shiftBy:_}}function a(w,y,v){const{windowSize:m,mask:C,maxNumber:E,shiftBy:_}=v;let P=Number(w&C),x=w>>_;P>m&&(P-=E,x+=n);const O=y*m,D=O+Math.abs(P)-1,R=P===0,k=P<0,T=y%2!==0;return{nextN:x,offset:D,isZero:R,isNeg:k,isNegF:T,offsetF:O}}function c(w,y){if(!Array.isArray(w))throw new Error("array expected");w.forEach((v,m)=>{if(!(v instanceof y))throw new Error("invalid point at index "+m)})}function u(w,y){if(!Array.isArray(w))throw new Error("array of scalars expected");w.forEach((v,m)=>{if(!y.isValid(v))throw new Error("invalid scalar at index "+m)})}const l=new WeakMap,f=new WeakMap;function d(w){return f.get(w)||1}function h(w,y){return{constTimeNegate:i,hasPrecomputes(v){return d(v)!==1},unsafeLadder(v,m,C=w.ZERO){let E=v;for(;m>r;)m&n&&(C=C.add(E)),E=E.double(),m>>=n;return C},precomputeWindow(v,m){const{windows:C,windowSize:E}=o(m,y),_=[];let P=v,x=P;for(let O=0;O<C;O++){x=P,_.push(x);for(let D=1;D<E;D++)x=x.add(P),_.push(x);P=x.double()}return _},wNAF(v,m,C){let E=w.ZERO,_=w.BASE;const P=o(v,y);for(let x=0;x<P.windows;x++){const{nextN:O,offset:D,isZero:R,isNeg:k,isNegF:T,offsetF:S}=a(C,x,P);C=O,R?_=_.add(i(T,m[S])):E=E.add(i(k,m[D]))}return{p:E,f:_}},wNAFUnsafe(v,m,C,E=w.ZERO){const _=o(v,y);for(let P=0;P<_.windows&&C!==r;P++){const{nextN:x,offset:O,isZero:D,isNeg:R}=a(C,P,_);if(C=x,!D){const k=m[O];E=E.add(R?k.negate():k)}}return E},getPrecomputes(v,m,C){let E=l.get(m);return E||(E=this.precomputeWindow(m,v),v!==1&&l.set(m,C(E))),E},wNAFCached(v,m,C){const E=d(v);return this.wNAF(E,this.getPrecomputes(E,v,C),m)},wNAFCachedUnsafe(v,m,C,E){const _=d(v);return _===1?this.unsafeLadder(v,m,E):this.wNAFUnsafe(_,this.getPrecomputes(_,v,C),m,E)},setWindowSize(v,m){s(m,y),f.set(v,m),l.delete(v)}}}function g(w,y,v,m){c(v,w),u(m,y);const C=v.length,E=m.length;if(C!==E)throw new Error("arrays of points and scalars must have equal length");const _=w.ZERO,P=(0,t.bitLen)(BigInt(C));let x=1;P>12?x=P-3:P>4?x=P-2:P>0&&(x=2);const O=(0,t.bitMask)(x),D=new Array(Number(O)+1).fill(_),R=Math.floor((y.BITS-1)/x)*x;let k=_;for(let T=R;T>=0;T-=x){D.fill(_);for(let I=0;I<E;I++){const A=m[I],j=Number(A>>BigInt(T)&O);D[j]=D[j].add(v[I])}let S=_;for(let I=D.length-1,A=_;I>0;I--)A=A.add(D[I]),S=S.add(A);if(k=k.add(S),T!==0)for(let I=0;I<x;I++)k=k.double()}return k}function p(w,y,v,m){s(m,y.BITS),c(v,w);const C=w.ZERO,E=2**m-1,_=Math.ceil(y.BITS/m),P=(0,t.bitMask)(m),x=v.map(O=>{const D=[];for(let R=0,k=O;R<E;R++)D.push(k),k=k.add(O);return D});return O=>{if(u(O,y),O.length>v.length)throw new Error("array of scalars must be smaller than array of points");let D=C;for(let R=0;R<_;R++){if(D!==C)for(let T=0;T<m;T++)D=D.double();const k=BigInt(_*m-(R+1)*m);for(let T=0;T<O.length;T++){const S=O[T],I=Number(S>>k&P);I&&(D=D.add(x[T][I-1]))}}return D}}function b(w){return(0,e.validateField)(w.Fp),(0,t.validateObject)(w,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,e.nLength)(w.n,w.nBitLength),...w,p:w.Fp.ORDER})}return al}var pR;function XZ(){return pR||(pR=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DER=e.DERErr=void 0,e.weierstrassPoints=h,e.weierstrass=p,e.SWUFpSqrtRatio=b,e.mapToCurveSimpleSWU=w;const t=hme(),r=EE(),n=R1();function i(y){y.lowS!==void 0&&(0,n.abool)("lowS",y.lowS),y.prehash!==void 0&&(0,n.abool)("prehash",y.prehash)}function s(y){const v=(0,t.validateBasic)(y);(0,n.validateObject)(v,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:m,Fp:C,a:E}=v;if(m){if(!C.eql(E,C.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof m!="object"||typeof m.beta!="bigint"||typeof m.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...v})}class o extends Error{constructor(v=""){super(v)}}e.DERErr=o,e.DER={Err:o,_tlv:{encode:(y,v)=>{const{Err:m}=e.DER;if(y<0||y>256)throw new m("tlv.encode: wrong tag");if(v.length&1)throw new m("tlv.encode: unpadded data");const C=v.length/2,E=(0,n.numberToHexUnpadded)(C);if(E.length/2&128)throw new m("tlv.encode: long form length too big");const _=C>127?(0,n.numberToHexUnpadded)(E.length/2|128):"";return(0,n.numberToHexUnpadded)(y)+_+E+v},decode(y,v){const{Err:m}=e.DER;let C=0;if(y<0||y>256)throw new m("tlv.encode: wrong tag");if(v.length<2||v[C++]!==y)throw new m("tlv.decode: wrong tlv");const E=v[C++],_=!!(E&128);let P=0;if(!_)P=E;else{const O=E&127;if(!O)throw new m("tlv.decode(long): indefinite length not supported");if(O>4)throw new m("tlv.decode(long): byte length is too big");const D=v.subarray(C,C+O);if(D.length!==O)throw new m("tlv.decode: length bytes not complete");if(D[0]===0)throw new m("tlv.decode(long): zero leftmost byte");for(const R of D)P=P<<8|R;if(C+=O,P<128)throw new m("tlv.decode(long): not minimal encoding")}const x=v.subarray(C,C+P);if(x.length!==P)throw new m("tlv.decode: wrong value length");return{v:x,l:v.subarray(C+P)}}},_int:{encode(y){const{Err:v}=e.DER;if(y<c)throw new v("integer: negative integers are not allowed");let m=(0,n.numberToHexUnpadded)(y);if(Number.parseInt(m[0],16)&8&&(m="00"+m),m.length&1)throw new v("unexpected DER parsing assertion: unpadded hex");return m},decode(y){const{Err:v}=e.DER;if(y[0]&128)throw new v("invalid signature integer: negative");if(y[0]===0&&!(y[1]&128))throw new v("invalid signature integer: unnecessary leading zero");return(0,n.bytesToNumberBE)(y)}},toSig(y){const{Err:v,_int:m,_tlv:C}=e.DER,E=(0,n.ensureBytes)("signature",y),{v:_,l:P}=C.decode(48,E);if(P.length)throw new v("invalid signature: left bytes after parsing");const{v:x,l:O}=C.decode(2,_),{v:D,l:R}=C.decode(2,O);if(R.length)throw new v("invalid signature: left bytes after parsing");return{r:m.decode(x),s:m.decode(D)}},hexFromSig(y){const{_tlv:v,_int:m}=e.DER,C=v.encode(2,m.encode(y.r)),E=v.encode(2,m.encode(y.s)),_=C+E;return v.encode(48,_)}};function a(y,v){return(0,n.bytesToHex)((0,n.numberToBytesBE)(y,v))}const c=BigInt(0),u=BigInt(1),l=BigInt(2),f=BigInt(3),d=BigInt(4);function h(y){const v=s(y),{Fp:m}=v,C=(0,r.Field)(v.n,v.nBitLength),E=v.toBytes||(($,M,L)=>{const q=M.toAffine();return(0,n.concatBytes)(Uint8Array.from([4]),m.toBytes(q.x),m.toBytes(q.y))}),_=v.fromBytes||($=>{const M=$.subarray(1),L=m.fromBytes(M.subarray(0,m.BYTES)),q=m.fromBytes(M.subarray(m.BYTES,2*m.BYTES));return{x:L,y:q}});function P($){const{a:M,b:L}=v,q=m.sqr($),U=m.mul(q,$);return m.add(m.add(U,m.mul($,M)),L)}function x($,M){const L=m.sqr(M),q=P($);return m.eql(L,q)}if(!x(v.Gx,v.Gy))throw new Error("bad curve params: generator point");const O=m.mul(m.pow(v.a,f),d),D=m.mul(m.sqr(v.b),BigInt(27));if(m.is0(m.add(O,D)))throw new Error("bad curve params: a or b");function R($){return(0,n.inRange)($,u,v.n)}function k($){const{allowedPrivateKeyLengths:M,nByteLength:L,wrapPrivateKey:q,n:U}=v;if(M&&typeof $!="bigint"){if((0,n.isBytes)($)&&($=(0,n.bytesToHex)($)),typeof $!="string"||!M.includes($.length))throw new Error("invalid private key");$=$.padStart(L*2,"0")}let F;try{F=typeof $=="bigint"?$:(0,n.bytesToNumberBE)((0,n.ensureBytes)("private key",$,L))}catch{throw new Error("invalid private key, expected hex or "+L+" bytes, got "+typeof $)}return q&&(F=(0,r.mod)(F,U)),(0,n.aInRange)("private key",F,u,U),F}function T($){if(!($ instanceof A))throw new Error("ProjectivePoint expected")}const S=(0,n.memoized)(($,M)=>{const{px:L,py:q,pz:U}=$;if(m.eql(U,m.ONE))return{x:L,y:q};const F=$.is0();M==null&&(M=F?m.ONE:m.inv(U));const H=m.mul(L,M),V=m.mul(q,M),W=m.mul(U,M);if(F)return{x:m.ZERO,y:m.ZERO};if(!m.eql(W,m.ONE))throw new Error("invZ was invalid");return{x:H,y:V}}),I=(0,n.memoized)($=>{if($.is0()){if(v.allowInfinityPoint&&!m.is0($.py))return;throw new Error("bad point: ZERO")}const{x:M,y:L}=$.toAffine();if(!m.isValid(M)||!m.isValid(L))throw new Error("bad point: x or y not FE");if(!x(M,L))throw new Error("bad point: equation left != right");if(!$.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class A{constructor(M,L,q){if(M==null||!m.isValid(M))throw new Error("x required");if(L==null||!m.isValid(L)||m.is0(L))throw new Error("y required");if(q==null||!m.isValid(q))throw new Error("z required");this.px=M,this.py=L,this.pz=q,Object.freeze(this)}static fromAffine(M){const{x:L,y:q}=M||{};if(!M||!m.isValid(L)||!m.isValid(q))throw new Error("invalid affine point");if(M instanceof A)throw new Error("projective point not allowed");const U=F=>m.eql(F,m.ZERO);return U(L)&&U(q)?A.ZERO:new A(L,q,m.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(M){const L=(0,r.FpInvertBatch)(m,M.map(q=>q.pz));return M.map((q,U)=>q.toAffine(L[U])).map(A.fromAffine)}static fromHex(M){const L=A.fromAffine(_((0,n.ensureBytes)("pointHex",M)));return L.assertValidity(),L}static fromPrivateKey(M){return A.BASE.multiply(k(M))}static msm(M,L){return(0,t.pippenger)(A,C,M,L)}_setWindowSize(M){B.setWindowSize(this,M)}assertValidity(){I(this)}hasEvenY(){const{y:M}=this.toAffine();if(m.isOdd)return!m.isOdd(M);throw new Error("Field doesn't support isOdd")}equals(M){T(M);const{px:L,py:q,pz:U}=this,{px:F,py:H,pz:V}=M,W=m.eql(m.mul(L,V),m.mul(F,U)),Z=m.eql(m.mul(q,V),m.mul(H,U));return W&&Z}negate(){return new A(this.px,m.neg(this.py),this.pz)}double(){const{a:M,b:L}=v,q=m.mul(L,f),{px:U,py:F,pz:H}=this;let V=m.ZERO,W=m.ZERO,Z=m.ZERO,X=m.mul(U,U),ue=m.mul(F,F),Y=m.mul(H,H),Q=m.mul(U,F);return Q=m.add(Q,Q),Z=m.mul(U,H),Z=m.add(Z,Z),V=m.mul(M,Z),W=m.mul(q,Y),W=m.add(V,W),V=m.sub(ue,W),W=m.add(ue,W),W=m.mul(V,W),V=m.mul(Q,V),Z=m.mul(q,Z),Y=m.mul(M,Y),Q=m.sub(X,Y),Q=m.mul(M,Q),Q=m.add(Q,Z),Z=m.add(X,X),X=m.add(Z,X),X=m.add(X,Y),X=m.mul(X,Q),W=m.add(W,X),Y=m.mul(F,H),Y=m.add(Y,Y),X=m.mul(Y,Q),V=m.sub(V,X),Z=m.mul(Y,ue),Z=m.add(Z,Z),Z=m.add(Z,Z),new A(V,W,Z)}add(M){T(M);const{px:L,py:q,pz:U}=this,{px:F,py:H,pz:V}=M;let W=m.ZERO,Z=m.ZERO,X=m.ZERO;const ue=v.a,Y=m.mul(v.b,f);let Q=m.mul(L,F),ae=m.mul(q,H),he=m.mul(U,V),pe=m.add(L,q),be=m.add(F,H);pe=m.mul(pe,be),be=m.add(Q,ae),pe=m.sub(pe,be),be=m.add(L,U);let Pe=m.add(F,V);return be=m.mul(be,Pe),Pe=m.add(Q,he),be=m.sub(be,Pe),Pe=m.add(q,U),W=m.add(H,V),Pe=m.mul(Pe,W),W=m.add(ae,he),Pe=m.sub(Pe,W),X=m.mul(ue,be),W=m.mul(Y,he),X=m.add(W,X),W=m.sub(ae,X),X=m.add(ae,X),Z=m.mul(W,X),ae=m.add(Q,Q),ae=m.add(ae,Q),he=m.mul(ue,he),be=m.mul(Y,be),ae=m.add(ae,he),he=m.sub(Q,he),he=m.mul(ue,he),be=m.add(be,he),Q=m.mul(ae,be),Z=m.add(Z,Q),Q=m.mul(Pe,be),W=m.mul(pe,W),W=m.sub(W,Q),Q=m.mul(pe,ae),X=m.mul(Pe,X),X=m.add(X,Q),new A(W,Z,X)}subtract(M){return this.add(M.negate())}is0(){return this.equals(A.ZERO)}wNAF(M){return B.wNAFCached(this,M,A.normalizeZ)}multiplyUnsafe(M){const{endo:L,n:q}=v;(0,n.aInRange)("scalar",M,c,q);const U=A.ZERO;if(M===c)return U;if(this.is0()||M===u)return this;if(!L||B.hasPrecomputes(this))return B.wNAFCachedUnsafe(this,M,A.normalizeZ);let{k1neg:F,k1:H,k2neg:V,k2:W}=L.splitScalar(M),Z=U,X=U,ue=this;for(;H>c||W>c;)H&u&&(Z=Z.add(ue)),W&u&&(X=X.add(ue)),ue=ue.double(),H>>=u,W>>=u;return F&&(Z=Z.negate()),V&&(X=X.negate()),X=new A(m.mul(X.px,L.beta),X.py,X.pz),Z.add(X)}multiply(M){const{endo:L,n:q}=v;(0,n.aInRange)("scalar",M,u,q);let U,F;if(L){const{k1neg:H,k1:V,k2neg:W,k2:Z}=L.splitScalar(M);let{p:X,f:ue}=this.wNAF(V),{p:Y,f:Q}=this.wNAF(Z);X=B.constTimeNegate(H,X),Y=B.constTimeNegate(W,Y),Y=new A(m.mul(Y.px,L.beta),Y.py,Y.pz),U=X.add(Y),F=ue.add(Q)}else{const{p:H,f:V}=this.wNAF(M);U=H,F=V}return A.normalizeZ([U,F])[0]}multiplyAndAddUnsafe(M,L,q){const U=A.BASE,F=(V,W)=>W===c||W===u||!V.equals(U)?V.multiplyUnsafe(W):V.multiply(W),H=F(this,L).add(F(M,q));return H.is0()?void 0:H}toAffine(M){return S(this,M)}isTorsionFree(){const{h:M,isTorsionFree:L}=v;if(M===u)return!0;if(L)return L(A,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:M,clearCofactor:L}=v;return M===u?this:L?L(A,this):this.multiplyUnsafe(v.h)}toRawBytes(M=!0){return(0,n.abool)("isCompressed",M),this.assertValidity(),E(A,this,M)}toHex(M=!0){return(0,n.abool)("isCompressed",M),(0,n.bytesToHex)(this.toRawBytes(M))}}A.BASE=new A(v.Gx,v.Gy,m.ONE),A.ZERO=new A(m.ZERO,m.ONE,m.ZERO);const{endo:j,nBitLength:N}=v,B=(0,t.wNAF)(A,j?Math.ceil(N/2):N);return{CURVE:v,ProjectivePoint:A,normPrivateKeyToScalar:k,weierstrassEquation:P,isWithinCurveOrder:R}}function g(y){const v=(0,t.validateBasic)(y);return(0,n.validateObject)(v,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...v})}function p(y){const v=g(y),{Fp:m,n:C,nByteLength:E,nBitLength:_}=v,P=m.BYTES+1,x=2*m.BYTES+1;function O(Y){return(0,r.mod)(Y,C)}function D(Y){return(0,r.invert)(Y,C)}const{ProjectivePoint:R,normPrivateKeyToScalar:k,weierstrassEquation:T,isWithinCurveOrder:S}=h({...v,toBytes(Y,Q,ae){const he=Q.toAffine(),pe=m.toBytes(he.x),be=n.concatBytes;return(0,n.abool)("isCompressed",ae),ae?be(Uint8Array.from([Q.hasEvenY()?2:3]),pe):be(Uint8Array.from([4]),pe,m.toBytes(he.y))},fromBytes(Y){const Q=Y.length,ae=Y[0],he=Y.subarray(1);if(Q===P&&(ae===2||ae===3)){const pe=(0,n.bytesToNumberBE)(he);if(!(0,n.inRange)(pe,u,m.ORDER))throw new Error("Point is not on curve");const be=T(pe);let Pe;try{Pe=m.sqrt(be)}catch(Qe){const Ke=Qe instanceof Error?": "+Qe.message:"";throw new Error("Point is not on curve"+Ke)}const fe=(Pe&u)===u;return(ae&1)===1!==fe&&(Pe=m.neg(Pe)),{x:pe,y:Pe}}else if(Q===x&&ae===4){const pe=m.fromBytes(he.subarray(0,m.BYTES)),be=m.fromBytes(he.subarray(m.BYTES,2*m.BYTES));return{x:pe,y:be}}else{const pe=P,be=x;throw new Error("invalid Point, expected length of "+pe+", or uncompressed "+be+", got "+Q)}}});function I(Y){const Q=C>>u;return Y>Q}function A(Y){return I(Y)?O(-Y):Y}const j=(Y,Q,ae)=>(0,n.bytesToNumberBE)(Y.slice(Q,ae));class N{constructor(Q,ae,he){(0,n.aInRange)("r",Q,u,C),(0,n.aInRange)("s",ae,u,C),this.r=Q,this.s=ae,he!=null&&(this.recovery=he),Object.freeze(this)}static fromCompact(Q){const ae=E;return Q=(0,n.ensureBytes)("compactSignature",Q,ae*2),new N(j(Q,0,ae),j(Q,ae,2*ae))}static fromDER(Q){const{r:ae,s:he}=e.DER.toSig((0,n.ensureBytes)("DER",Q));return new N(ae,he)}assertValidity(){}addRecoveryBit(Q){return new N(this.r,this.s,Q)}recoverPublicKey(Q){const{r:ae,s:he,recovery:pe}=this,be=U((0,n.ensureBytes)("msgHash",Q));if(pe==null||![0,1,2,3].includes(pe))throw new Error("recovery id invalid");const Pe=pe===2||pe===3?ae+v.n:ae;if(Pe>=m.ORDER)throw new Error("recovery id 2 or 3 invalid");const fe=(pe&1)===0?"02":"03",ce=R.fromHex(fe+a(Pe,m.BYTES)),Qe=D(Pe),Ke=O(-be*Qe),Ft=O(he*Qe),At=R.BASE.multiplyAndAddUnsafe(ce,Ke,Ft);if(!At)throw new Error("point at infinify");return At.assertValidity(),At}hasHighS(){return I(this.s)}normalizeS(){return this.hasHighS()?new N(this.r,O(-this.s),this.recovery):this}toDERRawBytes(){return(0,n.hexToBytes)(this.toDERHex())}toDERHex(){return e.DER.hexFromSig(this)}toCompactRawBytes(){return(0,n.hexToBytes)(this.toCompactHex())}toCompactHex(){const Q=E;return a(this.r,Q)+a(this.s,Q)}}const B={isValidPrivateKey(Y){try{return k(Y),!0}catch{return!1}},normPrivateKeyToScalar:k,randomPrivateKey:()=>{const Y=(0,r.getMinHashLength)(v.n);return(0,r.mapHashToField)(v.randomBytes(Y),v.n)},precompute(Y=8,Q=R.BASE){return Q._setWindowSize(Y),Q.multiply(BigInt(3)),Q}};function $(Y,Q=!0){return R.fromPrivateKey(Y).toRawBytes(Q)}function M(Y){if(typeof Y=="bigint")return!1;if(Y instanceof R)return!0;const ae=(0,n.ensureBytes)("key",Y).length,he=m.BYTES,pe=he+1,be=2*he+1;if(!(v.allowedPrivateKeyLengths||E===pe))return ae===pe||ae===be}function L(Y,Q,ae=!0){if(M(Y)===!0)throw new Error("first arg must be private key");if(M(Q)===!1)throw new Error("second arg must be public key");return R.fromHex(Q).multiply(k(Y)).toRawBytes(ae)}const q=v.bits2int||function(Y){if(Y.length>8192)throw new Error("input is too large");const Q=(0,n.bytesToNumberBE)(Y),ae=Y.length*8-_;return ae>0?Q>>BigInt(ae):Q},U=v.bits2int_modN||function(Y){return O(q(Y))},F=(0,n.bitMask)(_);function H(Y){return(0,n.aInRange)("num < 2^"+_,Y,c,F),(0,n.numberToBytesBE)(Y,E)}function V(Y,Q,ae=W){if(["recovered","canonical"].some(Ht=>Ht in ae))throw new Error("sign() legacy options not supported");const{hash:he,randomBytes:pe}=v;let{lowS:be,prehash:Pe,extraEntropy:fe}=ae;be==null&&(be=!0),Y=(0,n.ensureBytes)("msgHash",Y),i(ae),Pe&&(Y=(0,n.ensureBytes)("prehashed msgHash",he(Y)));const ce=U(Y),Qe=k(Q),Ke=[H(Qe),H(ce)];if(fe!=null&&fe!==!1){const Ht=fe===!0?pe(m.BYTES):fe;Ke.push((0,n.ensureBytes)("extraEntropy",Ht))}const Ft=(0,n.concatBytes)(...Ke),At=ce;function xr(Ht){const et=q(Ht);if(!S(et))return;const Ir=D(et),hr=R.BASE.multiply(et).toAffine(),Ue=O(hr.x);if(Ue===c)return;const Ge=O(Ir*O(At+Ue*Qe));if(Ge===c)return;let ke=(hr.x===Ue?0:2)|Number(hr.y&u),st=Ge;return be&&I(Ge)&&(st=A(Ge),ke^=1),new N(Ue,st,ke)}return{seed:Ft,k2sig:xr}}const W={lowS:v.lowS,prehash:!1},Z={lowS:v.lowS,prehash:!1};function X(Y,Q,ae=W){const{seed:he,k2sig:pe}=V(Y,Q,ae),be=v;return(0,n.createHmacDrbg)(be.hash.outputLen,be.nByteLength,be.hmac)(he,pe)}R.BASE._setWindowSize(8);function ue(Y,Q,ae,he=Z){const pe=Y;Q=(0,n.ensureBytes)("msgHash",Q),ae=(0,n.ensureBytes)("publicKey",ae);const{lowS:be,prehash:Pe,format:fe}=he;if(i(he),"strict"in he)throw new Error("options.strict was renamed to lowS");if(fe!==void 0&&fe!=="compact"&&fe!=="der")throw new Error("format must be compact or der");const ce=typeof pe=="string"||(0,n.isBytes)(pe),Qe=!ce&&!fe&&typeof pe=="object"&&pe!==null&&typeof pe.r=="bigint"&&typeof pe.s=="bigint";if(!ce&&!Qe)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Ke,Ft;try{if(Qe&&(Ke=new N(pe.r,pe.s)),ce){try{fe!=="compact"&&(Ke=N.fromDER(pe))}catch(ke){if(!(ke instanceof e.DER.Err))throw ke}!Ke&&fe!=="der"&&(Ke=N.fromCompact(pe))}Ft=R.fromHex(ae)}catch{return!1}if(!Ke||be&&Ke.hasHighS())return!1;Pe&&(Q=v.hash(Q));const{r:At,s:xr}=Ke,Ht=U(Q),et=D(xr),Ir=O(Ht*et),hr=O(At*et),Ue=R.BASE.multiplyAndAddUnsafe(Ft,Ir,hr)?.toAffine();return Ue?O(Ue.x)===At:!1}return{CURVE:v,getPublicKey:$,getSharedSecret:L,sign:X,verify:ue,ProjectivePoint:R,Signature:N,utils:B}}function b(y,v){const m=y.ORDER;let C=c;for(let I=m-u;I%l===c;I/=l)C+=u;const E=C,_=l<<E-u-u,P=_*l,x=(m-u)/P,O=(x-u)/l,D=P-u,R=_,k=y.pow(v,x),T=y.pow(v,(x+u)/l);let S=(I,A)=>{let j=k,N=y.pow(A,D),B=y.sqr(N);B=y.mul(B,A);let $=y.mul(I,B);$=y.pow($,O),$=y.mul($,N),N=y.mul($,A),B=y.mul($,I);let M=y.mul(B,N);$=y.pow(M,R);let L=y.eql($,y.ONE);N=y.mul(B,T),$=y.mul(M,j),B=y.cmov(N,B,L),M=y.cmov($,M,L);for(let q=E;q>u;q--){let U=q-l;U=l<<U-u;let F=y.pow(M,U);const H=y.eql(F,y.ONE);N=y.mul(B,j),j=y.mul(j,j),F=y.mul(M,j),B=y.cmov(N,B,H),M=y.cmov(F,M,H)}return{isValid:L,value:B}};if(y.ORDER%d===f){const I=(y.ORDER-f)/d,A=y.sqrt(y.neg(v));S=(j,N)=>{let B=y.sqr(N);const $=y.mul(j,N);B=y.mul(B,$);let M=y.pow(B,I);M=y.mul(M,$);const L=y.mul(M,A),q=y.mul(y.sqr(M),N),U=y.eql(q,j);let F=y.cmov(L,M,U);return{isValid:U,value:F}}}return S}function w(y,v){if((0,r.validateField)(y),!y.isValid(v.A)||!y.isValid(v.B)||!y.isValid(v.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const m=b(y,v.Z);if(!y.isOdd)throw new Error("Fp.isOdd is not implemented!");return C=>{let E,_,P,x,O,D,R,k;E=y.sqr(C),E=y.mul(E,v.Z),_=y.sqr(E),_=y.add(_,E),P=y.add(_,y.ONE),P=y.mul(P,v.B),x=y.cmov(v.Z,y.neg(_),!y.eql(_,y.ZERO)),x=y.mul(x,v.A),_=y.sqr(P),D=y.sqr(x),O=y.mul(D,v.A),_=y.add(_,O),_=y.mul(_,P),D=y.mul(D,x),O=y.mul(D,v.B),_=y.add(_,O),R=y.mul(E,P);const{isValid:T,value:S}=m(_,D);k=y.mul(E,C),k=y.mul(k,S),R=y.cmov(R,P,T),k=y.cmov(k,S,T);const I=y.isOdd(C)===y.isOdd(k);k=y.cmov(y.neg(k),k,I);const A=(0,r.FpInvertBatch)(y,[x],!0)[0];return R=y.mul(R,A),{x:R,y:k}}}})(Z_)),Z_}var gR;function pme(){if(gR)return $0;gR=1,Object.defineProperty($0,"__esModule",{value:!0}),$0.getHash=n,$0.createCurve=i;const e=$Z(),t=ju(),r=XZ();function n(s){return{hash:s,hmac:(o,...a)=>(0,e.hmac)(s,o,(0,t.concatBytes)(...a)),randomBytes:t.randomBytes}}function i(s,o){const a=c=>(0,r.weierstrass)({...s,...n(c)});return{...a(o),create:a}}return $0}var Fc={},mR;function gme(){if(mR)return Fc;mR=1,Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.expand_message_xmd=o,Fc.expand_message_xof=a,Fc.hash_to_field=c,Fc.isogenyMap=u,Fc.createHasher=l;const e=EE(),t=R1(),r=t.bytesToNumberBE;function n(f,d){if(s(f),s(d),f<0||f>=1<<8*d)throw new Error("invalid I2OSP input: "+f);const h=Array.from({length:d}).fill(0);for(let g=d-1;g>=0;g--)h[g]=f&255,f>>>=8;return new Uint8Array(h)}function i(f,d){const h=new Uint8Array(f.length);for(let g=0;g<f.length;g++)h[g]=f[g]^d[g];return h}function s(f){if(!Number.isSafeInteger(f))throw new Error("number expected")}function o(f,d,h,g){(0,t.abytes)(f),(0,t.abytes)(d),s(h),d.length>255&&(d=g((0,t.concatBytes)((0,t.utf8ToBytes)("H2C-OVERSIZE-DST-"),d)));const{outputLen:p,blockLen:b}=g,w=Math.ceil(h/p);if(h>65535||w>255)throw new Error("expand_message_xmd: invalid lenInBytes");const y=(0,t.concatBytes)(d,n(d.length,1)),v=n(0,b),m=n(h,2),C=new Array(w),E=g((0,t.concatBytes)(v,f,m,n(0,1),y));C[0]=g((0,t.concatBytes)(E,n(1,1),y));for(let P=1;P<=w;P++){const x=[i(E,C[P-1]),n(P+1,1),y];C[P]=g((0,t.concatBytes)(...x))}return(0,t.concatBytes)(...C).slice(0,h)}function a(f,d,h,g,p){if((0,t.abytes)(f),(0,t.abytes)(d),s(h),d.length>255){const b=Math.ceil(2*g/8);d=p.create({dkLen:b}).update((0,t.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(d).digest()}if(h>65535||d.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return p.create({dkLen:h}).update(f).update(n(h,2)).update(d).update(n(d.length,1)).digest()}function c(f,d,h){(0,t.validateObject)(h,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:g,k:p,m:b,hash:w,expand:y,DST:v}=h;(0,t.abytes)(f),s(d);const m=typeof v=="string"?(0,t.utf8ToBytes)(v):v,C=g.toString(2).length,E=Math.ceil((C+p)/8),_=d*b*E;let P;if(y==="xmd")P=o(f,m,_,w);else if(y==="xof")P=a(f,m,_,p,w);else if(y==="_internal_pass")P=f;else throw new Error('expand must be "xmd" or "xof"');const x=new Array(d);for(let O=0;O<d;O++){const D=new Array(b);for(let R=0;R<b;R++){const k=E*(R+O*b),T=P.subarray(k,k+E);D[R]=(0,e.mod)(r(T),g)}x[O]=D}return x}function u(f,d){const h=d.map(g=>Array.from(g).reverse());return(g,p)=>{const[b,w,y,v]=h.map(E=>E.reduce((_,P)=>f.add(f.mul(_,g),P))),[m,C]=(0,e.FpInvertBatch)(f,[w,v],!0);return g=f.mul(b,m),p=f.mul(p,f.mul(y,C)),{x:g,y:p}}}function l(f,d,h){if(typeof d!="function")throw new Error("mapToCurve() must be defined");function g(b){return f.fromAffine(d(b))}function p(b){const w=b.clearCofactor();return w.equals(f.ZERO)?f.ZERO:(w.assertValidity(),w)}return{defaults:h,hashToCurve(b,w){const y=c(b,2,{...h,DST:h.DST,...w}),v=g(y[0]),m=g(y[1]);return p(v.add(m))},encodeToCurve(b,w){const y=c(b,1,{...h,DST:h.encodeDST,...w});return p(g(y[0]))},mapToCurve(b){if(!Array.isArray(b))throw new Error("expected array of bigints");for(const w of b)if(typeof w!="bigint")throw new Error("expected array of bigints");return p(g(b))}}}return Fc}var bR;function k1(){return bR||(bR=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.encodeToCurve=e.hashToCurve=e.secp256k1_hasher=e.schnorr=e.secp256k1=void 0;const t=cW(),r=ju(),n=pme(),i=gme(),s=EE(),o=R1(),a=XZ(),c=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),u=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),l=BigInt(0),f=BigInt(1),d=BigInt(2),h=(A,j)=>(A+j/d)/j;function g(A){const j=c,N=BigInt(3),B=BigInt(6),$=BigInt(11),M=BigInt(22),L=BigInt(23),q=BigInt(44),U=BigInt(88),F=A*A*A%j,H=F*F*A%j,V=(0,s.pow2)(H,N,j)*H%j,W=(0,s.pow2)(V,N,j)*H%j,Z=(0,s.pow2)(W,d,j)*F%j,X=(0,s.pow2)(Z,$,j)*Z%j,ue=(0,s.pow2)(X,M,j)*X%j,Y=(0,s.pow2)(ue,q,j)*ue%j,Q=(0,s.pow2)(Y,U,j)*Y%j,ae=(0,s.pow2)(Q,q,j)*ue%j,he=(0,s.pow2)(ae,N,j)*H%j,pe=(0,s.pow2)(he,L,j)*X%j,be=(0,s.pow2)(pe,B,j)*F%j,Pe=(0,s.pow2)(be,d,j);if(!p.eql(p.sqr(Pe),A))throw new Error("Cannot find square root");return Pe}const p=(0,s.Field)(c,void 0,void 0,{sqrt:g});e.secp256k1=(0,n.createCurve)({a:l,b:BigInt(7),Fp:p,n:u,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:A=>{const j=u,N=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),B=-f*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),$=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),M=N,L=BigInt("0x100000000000000000000000000000000"),q=h(M*A,j),U=h(-B*A,j);let F=(0,s.mod)(A-q*N-U*$,j),H=(0,s.mod)(-q*B-U*M,j);const V=F>L,W=H>L;if(V&&(F=j-F),W&&(H=j-H),F>L||H>L)throw new Error("splitScalar: Endomorphism failed, k="+A);return{k1neg:V,k1:F,k2neg:W,k2:H}}}},t.sha256);const b={};function w(A,...j){let N=b[A];if(N===void 0){const B=(0,t.sha256)(Uint8Array.from(A,$=>$.charCodeAt(0)));N=(0,o.concatBytes)(B,B),b[A]=N}return(0,t.sha256)((0,o.concatBytes)(N,...j))}const y=A=>A.toRawBytes(!0).slice(1),v=A=>(0,o.numberToBytesBE)(A,32),m=A=>(0,s.mod)(A,c),C=A=>(0,s.mod)(A,u),E=e.secp256k1.ProjectivePoint,_=(A,j,N)=>E.BASE.multiplyAndAddUnsafe(A,j,N);function P(A){let j=e.secp256k1.utils.normPrivateKeyToScalar(A),N=E.fromPrivateKey(j);return{scalar:N.hasEvenY()?j:C(-j),bytes:y(N)}}function x(A){(0,o.aInRange)("x",A,f,c);const j=m(A*A),N=m(j*A+BigInt(7));let B=g(N);B%d!==l&&(B=m(-B));const $=new E(A,B,f);return $.assertValidity(),$}const O=o.bytesToNumberBE;function D(...A){return C(O(w("BIP0340/challenge",...A)))}function R(A){return P(A).bytes}function k(A,j,N=(0,r.randomBytes)(32)){const B=(0,o.ensureBytes)("message",A),{bytes:$,scalar:M}=P(j),L=(0,o.ensureBytes)("auxRand",N,32),q=v(M^O(w("BIP0340/aux",L))),U=w("BIP0340/nonce",q,$,B),F=C(O(U));if(F===l)throw new Error("sign failed: k is zero");const{bytes:H,scalar:V}=P(F),W=D(H,$,B),Z=new Uint8Array(64);if(Z.set(H,0),Z.set(v(C(V+W*M)),32),!T(Z,B,$))throw new Error("sign: Invalid signature produced");return Z}function T(A,j,N){const B=(0,o.ensureBytes)("signature",A,64),$=(0,o.ensureBytes)("message",j),M=(0,o.ensureBytes)("publicKey",N,32);try{const L=x(O(M)),q=O(B.subarray(0,32));if(!(0,o.inRange)(q,f,c))return!1;const U=O(B.subarray(32,64));if(!(0,o.inRange)(U,f,u))return!1;const F=D(v(q),y(L),$),H=_(L,U,C(-F));return!(!H||!H.hasEvenY()||H.toAffine().x!==q)}catch{return!1}}e.schnorr={getPublicKey:R,sign:k,verify:T,utils:{randomPrivateKey:e.secp256k1.utils.randomPrivateKey,lift_x:x,pointToBytes:y,numberToBytesBE:o.numberToBytesBE,bytesToNumberBE:o.bytesToNumberBE,taggedHash:w,mod:s.mod}};const S=(0,i.isogenyMap)(p,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(A=>A.map(j=>BigInt(j)))),I=(0,a.mapToCurveSimpleSWU)(p,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:p.create(BigInt("-11"))});e.secp256k1_hasher=(0,i.createHasher)(e.secp256k1.ProjectivePoint,A=>{const{x:j,y:N}=I(p.create(A[0]));return S(j,N)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:p.ORDER,m:1,k:128,expand:"xmd",hash:t.sha256}),e.hashToCurve=e.secp256k1_hasher.hashToCurve,e.encodeToCurve=e.secp256k1_hasher.encodeToCurve})(K_)),K_}var yR;function uS(){if(yR)return My;yR=1,Object.defineProperty(My,"__esModule",{value:!0}),My.recoverPublicKey=i;const e=wi(),t=Wi(),r=Cr(),n=Oe();async function i({hash:o,signature:a}){const c=(0,e.isHex)(o)?o:(0,n.toHex)(o),{secp256k1:u}=await Promise.resolve().then(()=>k1());return`0x${(()=>{if(typeof a=="object"&&"r"in a&&"s"in a){const{r:p,s:b,v:w,yParity:y}=a,v=Number(y??w),m=s(v);return new u.Signature((0,r.hexToBigInt)(p),(0,r.hexToBigInt)(b)).addRecoveryBit(m)}const d=(0,e.isHex)(a)?a:(0,n.toHex)(a);if((0,t.size)(d)!==65)throw new Error("invalid signature length");const h=(0,r.hexToNumber)(`0x${d.slice(130)}`),g=s(h);return u.Signature.fromCompact(d.substring(2,130)).addRecoveryBit(g)})().recoverPublicKey(c.substring(2)).toHex(!1)}`}function s(o){if(o===0||o===1)return o;if(o===27)return 0;if(o===28)return 1;throw new Error("Invalid yParityOrV value")}return My}var wR;function Lu(){if(wR)return Dy;wR=1,Object.defineProperty(Dy,"__esModule",{value:!0}),Dy.recoverAddress=r;const e=JZ(),t=uS();async function r({hash:n,signature:i}){return(0,e.publicKeyToAddress)(await (0,t.recoverPublicKey)({hash:n,signature:i}))}return Dy}var Ly={},_f={},vR;function N1(){if(vR)return _f;vR=1,Object.defineProperty(_f,"__esModule",{value:!0}),_f.toRlp=i,_f.bytesToRlp=s,_f.hexToRlp=o;const e=Ye(),t=O1(),r=Qt(),n=Oe();function i(f,d="hex"){const h=a(f),g=(0,t.createCursor)(new Uint8Array(h.length));return h.encode(g),d==="hex"?(0,n.bytesToHex)(g.bytes):g.bytes}function s(f,d="bytes"){return i(f,d)}function o(f,d="hex"){return i(f,d)}function a(f){return Array.isArray(f)?c(f.map(d=>a(d))):u(f)}function c(f){const d=f.reduce((p,b)=>p+b.length,0),h=l(d);return{length:d<=55?1+d:1+h+d,encode(p){d<=55?p.pushByte(192+d):(p.pushByte(247+h),h===1?p.pushUint8(d):h===2?p.pushUint16(d):h===3?p.pushUint24(d):p.pushUint32(d));for(const{encode:b}of f)b(p)}}}function u(f){const d=typeof f=="string"?(0,r.hexToBytes)(f):f,h=l(d.length);return{length:d.length===1&&d[0]<128?1:d.length<=55?1+d.length:1+h+d.length,encode(p){d.length===1&&d[0]<128?p.pushBytes(d):d.length<=55?(p.pushByte(128+d.length),p.pushBytes(d)):(p.pushByte(183+h),h===1?p.pushUint8(d.length):h===2?p.pushUint16(d.length):h===3?p.pushUint24(d.length):p.pushUint32(d.length),p.pushBytes(d))}}}function l(f){if(f<2**8)return 1;if(f<2**16)return 2;if(f<2**24)return 3;if(f<2**32)return 4;throw new e.BaseError("Length is too large.")}return _f}var ER;function eY(){if(ER)return Ly;ER=1,Object.defineProperty(Ly,"__esModule",{value:!0}),Ly.hashAuthorization=s;const e=An(),t=Qt(),r=Oe(),n=N1(),i=Vi();function s(o){const{chainId:a,nonce:c,to:u}=o,l=o.contractAddress??o.address,f=(0,i.keccak256)((0,e.concatHex)(["0x05",(0,n.toRlp)([a?(0,r.numberToHex)(a):"0x",l,c?(0,r.numberToHex)(c):"0x"])]));return u==="bytes"?(0,t.hexToBytes)(f):f}return Ly}var _R;function D1(){if(_R)return Ny;_R=1,Object.defineProperty(Ny,"__esModule",{value:!0}),Ny.recoverAuthorizationAddress=r;const e=Lu(),t=eY();async function r(n){const{authorization:i,signature:s}=n;return(0,e.recoverAddress)({hash:(0,t.hashAuthorization)(i),signature:s??i})}return Ny}var Uy={},M0={},CR;function tY(){if(CR)return M0;CR=1,Object.defineProperty(M0,"__esModule",{value:!0}),M0.EstimateGasExecutionError=void 0;const e=B1(),t=Kd(),r=Ye(),n=Zi();class i extends r.BaseError{constructor(o,{account:a,docsPath:c,chain:u,data:l,gas:f,gasPrice:d,maxFeePerGas:h,maxPriorityFeePerGas:g,nonce:p,to:b,value:w}){const y=(0,n.prettyPrint)({from:a?.address,to:b,value:typeof w<"u"&&`${(0,e.formatEther)(w)} ${u?.nativeCurrency?.symbol||"ETH"}`,data:l,gas:f,gasPrice:typeof d<"u"&&`${(0,t.formatGwei)(d)} gwei`,maxFeePerGas:typeof h<"u"&&`${(0,t.formatGwei)(h)} gwei`,maxPriorityFeePerGas:typeof g<"u"&&`${(0,t.formatGwei)(g)} gwei`,nonce:p});super(o.shortMessage,{cause:o,docsPath:c,metaMessages:[...o.metaMessages?[...o.metaMessages," "]:[],"Estimate Gas Arguments:",y].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=o}}return M0.EstimateGasExecutionError=i,M0}var Wt={},AR;function Bc(){if(AR)return Wt;AR=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.UnknownNodeError=Wt.TipAboveFeeCapError=Wt.TransactionTypeNotSupportedError=Wt.IntrinsicGasTooLowError=Wt.IntrinsicGasTooHighError=Wt.InsufficientFundsError=Wt.NonceMaxValueError=Wt.NonceTooLowError=Wt.NonceTooHighError=Wt.FeeCapTooLowError=Wt.FeeCapTooHighError=Wt.ExecutionRevertedError=void 0;const e=Kd(),t=Ye();class r extends t.BaseError{constructor({cause:p,message:b}={}){const w=b?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${w?`with reason: ${w}`:"for an unknown reason"}.`,{cause:p,name:"ExecutionRevertedError"})}}Wt.ExecutionRevertedError=r,Object.defineProperty(r,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(r,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class n extends t.BaseError{constructor({cause:p,maxFeePerGas:b}={}){super(`The fee cap (\`maxFeePerGas\`${b?` = ${(0,e.formatGwei)(b)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:p,name:"FeeCapTooHighError"})}}Wt.FeeCapTooHighError=n,Object.defineProperty(n,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class i extends t.BaseError{constructor({cause:p,maxFeePerGas:b}={}){super(`The fee cap (\`maxFeePerGas\`${b?` = ${(0,e.formatGwei)(b)}`:""} gwei) cannot be lower than the block base fee.`,{cause:p,name:"FeeCapTooLowError"})}}Wt.FeeCapTooLowError=i,Object.defineProperty(i,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class s extends t.BaseError{constructor({cause:p,nonce:b}={}){super(`Nonce provided for the transaction ${b?`(${b}) `:""}is higher than the next one expected.`,{cause:p,name:"NonceTooHighError"})}}Wt.NonceTooHighError=s,Object.defineProperty(s,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class o extends t.BaseError{constructor({cause:p,nonce:b}={}){super([`Nonce provided for the transaction ${b?`(${b}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:p,name:"NonceTooLowError"})}}Wt.NonceTooLowError=o,Object.defineProperty(o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class a extends t.BaseError{constructor({cause:p,nonce:b}={}){super(`Nonce provided for the transaction ${b?`(${b}) `:""}exceeds the maximum allowed nonce.`,{cause:p,name:"NonceMaxValueError"})}}Wt.NonceMaxValueError=a,Object.defineProperty(a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class c extends t.BaseError{constructor({cause:p}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:p,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Wt.InsufficientFundsError=c,Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class u extends t.BaseError{constructor({cause:p,gas:b}={}){super(`The amount of gas ${b?`(${b}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:p,name:"IntrinsicGasTooHighError"})}}Wt.IntrinsicGasTooHighError=u,Object.defineProperty(u,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class l extends t.BaseError{constructor({cause:p,gas:b}={}){super(`The amount of gas ${b?`(${b}) `:""}provided for the transaction is too low.`,{cause:p,name:"IntrinsicGasTooLowError"})}}Wt.IntrinsicGasTooLowError=l,Object.defineProperty(l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class f extends t.BaseError{constructor({cause:p}){super("The transaction type is not supported for this chain.",{cause:p,name:"TransactionTypeNotSupportedError"})}}Wt.TransactionTypeNotSupportedError=f,Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class d extends t.BaseError{constructor({cause:p,maxPriorityFeePerGas:b,maxFeePerGas:w}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${b?` = ${(0,e.formatGwei)(b)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${w?` = ${(0,e.formatGwei)(w)} gwei`:""}).`].join(`
`),{cause:p,name:"TipAboveFeeCapError"})}}Wt.TipAboveFeeCapError=d,Object.defineProperty(d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class h extends t.BaseError{constructor({cause:p}){super(`An error occurred while executing: ${p?.shortMessage}`,{cause:p,name:"UnknownNodeError"})}}return Wt.UnknownNodeError=h,Wt}var L0={},xR;function $1(){if(xR)return L0;xR=1,Object.defineProperty(L0,"__esModule",{value:!0}),L0.containsNodeError=i,L0.getNodeError=s;const e=Ye(),t=Bc(),r=ko(),n=$u();function i(o){return o instanceof n.TransactionRejectedRpcError||o instanceof n.InvalidInputRpcError||o instanceof r.RpcRequestError&&o.code===t.ExecutionRevertedError.code}function s(o,a){const c=(o.details||"").toLowerCase(),u=o instanceof e.BaseError?o.walk(l=>l?.code===t.ExecutionRevertedError.code):o;return u instanceof e.BaseError?new t.ExecutionRevertedError({cause:o,message:u.details}):t.ExecutionRevertedError.nodeMessage.test(c)?new t.ExecutionRevertedError({cause:o,message:o.details}):t.FeeCapTooHighError.nodeMessage.test(c)?new t.FeeCapTooHighError({cause:o,maxFeePerGas:a?.maxFeePerGas}):t.FeeCapTooLowError.nodeMessage.test(c)?new t.FeeCapTooLowError({cause:o,maxFeePerGas:a?.maxFeePerGas}):t.NonceTooHighError.nodeMessage.test(c)?new t.NonceTooHighError({cause:o,nonce:a?.nonce}):t.NonceTooLowError.nodeMessage.test(c)?new t.NonceTooLowError({cause:o,nonce:a?.nonce}):t.NonceMaxValueError.nodeMessage.test(c)?new t.NonceMaxValueError({cause:o,nonce:a?.nonce}):t.InsufficientFundsError.nodeMessage.test(c)?new t.InsufficientFundsError({cause:o}):t.IntrinsicGasTooHighError.nodeMessage.test(c)?new t.IntrinsicGasTooHighError({cause:o,gas:a?.gas}):t.IntrinsicGasTooLowError.nodeMessage.test(c)?new t.IntrinsicGasTooLowError({cause:o,gas:a?.gas}):t.TransactionTypeNotSupportedError.nodeMessage.test(c)?new t.TransactionTypeNotSupportedError({cause:o}):t.TipAboveFeeCapError.nodeMessage.test(c)?new t.TipAboveFeeCapError({cause:o,maxFeePerGas:a?.maxFeePerGas,maxPriorityFeePerGas:a?.maxPriorityFeePerGas}):new t.UnknownNodeError({cause:o})}return L0}var IR;function rY(){if(IR)return Uy;IR=1,Object.defineProperty(Uy,"__esModule",{value:!0}),Uy.getEstimateGasError=n;const e=tY(),t=Bc(),r=$1();function n(i,{docsPath:s,...o}){const a=(()=>{const c=(0,r.getNodeError)(i,o);return c instanceof t.UnknownNodeError?i:c})();return new e.EstimateGasExecutionError(a,{docsPath:s,...o})}return Uy}var qy={},PR;function Uu(){if(PR)return qy;PR=1,Object.defineProperty(qy,"__esModule",{value:!0}),qy.extract=e;function e(t,{format:r}){if(!r)return{};const n={};function i(o){const a=Object.keys(o);for(const c of a)c in t&&(n[c]=t[c]),o[c]&&typeof o[c]=="object"&&!Array.isArray(o[c])&&i(o[c])}const s=r(t||{});return i(s),n}return qy}var Y_={},zy={},SR;function M1(){if(SR)return zy;SR=1,Object.defineProperty(zy,"__esModule",{value:!0}),zy.defineFormatter=e;function e(t,r){return({exclude:n,format:i})=>({exclude:n,format:(s,o)=>{const a=r(s,o);if(n)for(const c of n)delete a[c];return{...a,...i(s,o)}},type:t})}return zy}var TR;function No(){return TR||(TR=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defineTransactionRequest=e.rpcTransactionType=void 0,e.formatTransactionRequest=n;const t=Oe(),r=M1();e.rpcTransactionType={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function n(s,o){const a={};return typeof s.authorizationList<"u"&&(a.authorizationList=i(s.authorizationList)),typeof s.accessList<"u"&&(a.accessList=s.accessList),typeof s.blobVersionedHashes<"u"&&(a.blobVersionedHashes=s.blobVersionedHashes),typeof s.blobs<"u"&&(typeof s.blobs[0]!="string"?a.blobs=s.blobs.map(c=>(0,t.bytesToHex)(c)):a.blobs=s.blobs),typeof s.data<"u"&&(a.data=s.data),s.account&&(a.from=s.account.address),typeof s.from<"u"&&(a.from=s.from),typeof s.gas<"u"&&(a.gas=(0,t.numberToHex)(s.gas)),typeof s.gasPrice<"u"&&(a.gasPrice=(0,t.numberToHex)(s.gasPrice)),typeof s.maxFeePerBlobGas<"u"&&(a.maxFeePerBlobGas=(0,t.numberToHex)(s.maxFeePerBlobGas)),typeof s.maxFeePerGas<"u"&&(a.maxFeePerGas=(0,t.numberToHex)(s.maxFeePerGas)),typeof s.maxPriorityFeePerGas<"u"&&(a.maxPriorityFeePerGas=(0,t.numberToHex)(s.maxPriorityFeePerGas)),typeof s.nonce<"u"&&(a.nonce=(0,t.numberToHex)(s.nonce)),typeof s.to<"u"&&(a.to=s.to),typeof s.type<"u"&&(a.type=e.rpcTransactionType[s.type]),typeof s.value<"u"&&(a.value=(0,t.numberToHex)(s.value)),a}e.defineTransactionRequest=(0,r.defineFormatter)("transactionRequest",n);function i(s){return s.map(o=>({address:o.address,r:o.r?(0,t.numberToHex)(BigInt(o.r)):o.r,s:o.s?(0,t.numberToHex)(BigInt(o.s)):o.s,chainId:(0,t.numberToHex)(o.chainId),nonce:(0,t.numberToHex)(o.nonce),...typeof o.yParity<"u"?{yParity:(0,t.numberToHex)(o.yParity)}:{},...typeof o.v<"u"&&typeof o.yParity>"u"?{v:(0,t.numberToHex)(o.v)}:{}}))}})(Y_)),Y_}var Cf={},OR;function lS(){if(OR)return Cf;OR=1,Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.serializeStateMapping=s,Cf.serializeAccountStateOverride=o,Cf.serializeStateOverride=a;const e=Bo(),t=gE(),r=aS(),n=Gi(),i=Oe();function s(c){if(!(!c||c.length===0))return c.reduce((u,{slot:l,value:f})=>{if(l.length!==66)throw new t.InvalidBytesLengthError({size:l.length,targetSize:66,type:"hex"});if(f.length!==66)throw new t.InvalidBytesLengthError({size:f.length,targetSize:66,type:"hex"});return u[l]=f,u},{})}function o(c){const{balance:u,nonce:l,state:f,stateDiff:d,code:h}=c,g={};if(h!==void 0&&(g.code=h),u!==void 0&&(g.balance=(0,i.numberToHex)(u)),l!==void 0&&(g.nonce=(0,i.numberToHex)(l)),f!==void 0&&(g.state=s(f)),d!==void 0){if(g.state)throw new r.StateAssignmentConflictError;g.stateDiff=s(d)}return g}function a(c){if(!c)return;const u={};for(const{address:l,...f}of c){if(!(0,n.isAddress)(l,{strict:!1}))throw new e.InvalidAddressError({address:l});if(u[l])throw new r.AccountStateConflictError({address:l});u[l]=o(f)}return u}return Cf}var Fy={},te={},jR;function dS(){return jR||(jR=1,Object.defineProperty(te,"__esModule",{value:!0}),te.minInt144=te.minInt136=te.minInt128=te.minInt120=te.minInt112=te.minInt104=te.minInt96=te.minInt88=te.minInt80=te.minInt72=te.minInt64=te.minInt56=te.minInt48=te.minInt40=te.minInt32=te.minInt24=te.minInt16=te.minInt8=te.maxInt256=te.maxInt248=te.maxInt240=te.maxInt232=te.maxInt224=te.maxInt216=te.maxInt208=te.maxInt200=te.maxInt192=te.maxInt184=te.maxInt176=te.maxInt168=te.maxInt160=te.maxInt152=te.maxInt144=te.maxInt136=te.maxInt128=te.maxInt120=te.maxInt112=te.maxInt104=te.maxInt96=te.maxInt88=te.maxInt80=te.maxInt72=te.maxInt64=te.maxInt56=te.maxInt48=te.maxInt40=te.maxInt32=te.maxInt24=te.maxInt16=te.maxInt8=void 0,te.maxUint256=te.maxUint248=te.maxUint240=te.maxUint232=te.maxUint224=te.maxUint216=te.maxUint208=te.maxUint200=te.maxUint192=te.maxUint184=te.maxUint176=te.maxUint168=te.maxUint160=te.maxUint152=te.maxUint144=te.maxUint136=te.maxUint128=te.maxUint120=te.maxUint112=te.maxUint104=te.maxUint96=te.maxUint88=te.maxUint80=te.maxUint72=te.maxUint64=te.maxUint56=te.maxUint48=te.maxUint40=te.maxUint32=te.maxUint24=te.maxUint16=te.maxUint8=te.minInt256=te.minInt248=te.minInt240=te.minInt232=te.minInt224=te.minInt216=te.minInt208=te.minInt200=te.minInt192=te.minInt184=te.minInt176=te.minInt168=te.minInt160=te.minInt152=void 0,te.maxInt8=2n**(8n-1n)-1n,te.maxInt16=2n**(16n-1n)-1n,te.maxInt24=2n**(24n-1n)-1n,te.maxInt32=2n**(32n-1n)-1n,te.maxInt40=2n**(40n-1n)-1n,te.maxInt48=2n**(48n-1n)-1n,te.maxInt56=2n**(56n-1n)-1n,te.maxInt64=2n**(64n-1n)-1n,te.maxInt72=2n**(72n-1n)-1n,te.maxInt80=2n**(80n-1n)-1n,te.maxInt88=2n**(88n-1n)-1n,te.maxInt96=2n**(96n-1n)-1n,te.maxInt104=2n**(104n-1n)-1n,te.maxInt112=2n**(112n-1n)-1n,te.maxInt120=2n**(120n-1n)-1n,te.maxInt128=2n**(128n-1n)-1n,te.maxInt136=2n**(136n-1n)-1n,te.maxInt144=2n**(144n-1n)-1n,te.maxInt152=2n**(152n-1n)-1n,te.maxInt160=2n**(160n-1n)-1n,te.maxInt168=2n**(168n-1n)-1n,te.maxInt176=2n**(176n-1n)-1n,te.maxInt184=2n**(184n-1n)-1n,te.maxInt192=2n**(192n-1n)-1n,te.maxInt200=2n**(200n-1n)-1n,te.maxInt208=2n**(208n-1n)-1n,te.maxInt216=2n**(216n-1n)-1n,te.maxInt224=2n**(224n-1n)-1n,te.maxInt232=2n**(232n-1n)-1n,te.maxInt240=2n**(240n-1n)-1n,te.maxInt248=2n**(248n-1n)-1n,te.maxInt256=2n**(256n-1n)-1n,te.minInt8=-(2n**(8n-1n)),te.minInt16=-(2n**(16n-1n)),te.minInt24=-(2n**(24n-1n)),te.minInt32=-(2n**(32n-1n)),te.minInt40=-(2n**(40n-1n)),te.minInt48=-(2n**(48n-1n)),te.minInt56=-(2n**(56n-1n)),te.minInt64=-(2n**(64n-1n)),te.minInt72=-(2n**(72n-1n)),te.minInt80=-(2n**(80n-1n)),te.minInt88=-(2n**(88n-1n)),te.minInt96=-(2n**(96n-1n)),te.minInt104=-(2n**(104n-1n)),te.minInt112=-(2n**(112n-1n)),te.minInt120=-(2n**(120n-1n)),te.minInt128=-(2n**(128n-1n)),te.minInt136=-(2n**(136n-1n)),te.minInt144=-(2n**(144n-1n)),te.minInt152=-(2n**(152n-1n)),te.minInt160=-(2n**(160n-1n)),te.minInt168=-(2n**(168n-1n)),te.minInt176=-(2n**(176n-1n)),te.minInt184=-(2n**(184n-1n)),te.minInt192=-(2n**(192n-1n)),te.minInt200=-(2n**(200n-1n)),te.minInt208=-(2n**(208n-1n)),te.minInt216=-(2n**(216n-1n)),te.minInt224=-(2n**(224n-1n)),te.minInt232=-(2n**(232n-1n)),te.minInt240=-(2n**(240n-1n)),te.minInt248=-(2n**(248n-1n)),te.minInt256=-(2n**(256n-1n)),te.maxUint8=2n**8n-1n,te.maxUint16=2n**16n-1n,te.maxUint24=2n**24n-1n,te.maxUint32=2n**32n-1n,te.maxUint40=2n**40n-1n,te.maxUint48=2n**48n-1n,te.maxUint56=2n**56n-1n,te.maxUint64=2n**64n-1n,te.maxUint72=2n**72n-1n,te.maxUint80=2n**80n-1n,te.maxUint88=2n**88n-1n,te.maxUint96=2n**96n-1n,te.maxUint104=2n**104n-1n,te.maxUint112=2n**112n-1n,te.maxUint120=2n**120n-1n,te.maxUint128=2n**128n-1n,te.maxUint136=2n**136n-1n,te.maxUint144=2n**144n-1n,te.maxUint152=2n**152n-1n,te.maxUint160=2n**160n-1n,te.maxUint168=2n**168n-1n,te.maxUint176=2n**176n-1n,te.maxUint184=2n**184n-1n,te.maxUint192=2n**192n-1n,te.maxUint200=2n**200n-1n,te.maxUint208=2n**208n-1n,te.maxUint216=2n**216n-1n,te.maxUint224=2n**224n-1n,te.maxUint232=2n**232n-1n,te.maxUint240=2n**240n-1n,te.maxUint248=2n**248n-1n,te.maxUint256=2n**256n-1n),te}var BR;function Do(){if(BR)return Fy;BR=1,Object.defineProperty(Fy,"__esModule",{value:!0}),Fy.assertRequest=s;const e=yr(),t=dS(),r=Bo(),n=Bc(),i=Gi();function s(o){const{account:a,maxFeePerGas:c,maxPriorityFeePerGas:u,to:l}=o,f=a?(0,e.parseAccount)(a):void 0;if(f&&!(0,i.isAddress)(f.address))throw new r.InvalidAddressError({address:f.address});if(l&&!(0,i.isAddress)(l))throw new r.InvalidAddressError({address:l});if(c&&c>t.maxUint256)throw new n.FeeCapTooHighError({maxFeePerGas:c});if(u&&c&&u>c)throw new n.TipAboveFeeCapError({maxFeePerGas:c,maxPriorityFeePerGas:u})}return Fy}var Q_={},U0={},Ma={},RR;function L1(){if(RR)return Ma;RR=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.MaxFeePerGasTooLowError=Ma.Eip1559FeesNotSupportedError=Ma.BaseFeeScalarError=void 0;const e=Kd(),t=Ye();class r extends t.BaseError{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}Ma.BaseFeeScalarError=r;class n extends t.BaseError{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}Ma.Eip1559FeesNotSupportedError=n;class i extends t.BaseError{constructor({maxPriorityFeePerGas:o}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,e.formatGwei)(o)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}return Ma.MaxFeePerGasTooLowError=i,Ma}var q0={},Hy={},z0={},kR;function fS(){if(kR)return z0;kR=1,Object.defineProperty(z0,"__esModule",{value:!0}),z0.BlockNotFoundError=void 0;const e=Ye();class t extends e.BaseError{constructor({blockHash:n,blockNumber:i}){let s="Block";n&&(s=`Block at hash "${n}"`),i&&(s=`Block at number "${i}"`),super(`${s} could not be found.`,{name:"BlockNotFoundError"})}}return z0.BlockNotFoundError=t,z0}var Af={},J_={},NR;function qp(){return NR||(NR=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defineTransaction=e.transactionType=void 0,e.formatTransaction=n;const t=Cr(),r=M1();e.transactionType={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function n(s,o){const a={...s,blockHash:s.blockHash?s.blockHash:null,blockNumber:s.blockNumber?BigInt(s.blockNumber):null,chainId:s.chainId?(0,t.hexToNumber)(s.chainId):void 0,gas:s.gas?BigInt(s.gas):void 0,gasPrice:s.gasPrice?BigInt(s.gasPrice):void 0,maxFeePerBlobGas:s.maxFeePerBlobGas?BigInt(s.maxFeePerBlobGas):void 0,maxFeePerGas:s.maxFeePerGas?BigInt(s.maxFeePerGas):void 0,maxPriorityFeePerGas:s.maxPriorityFeePerGas?BigInt(s.maxPriorityFeePerGas):void 0,nonce:s.nonce?(0,t.hexToNumber)(s.nonce):void 0,to:s.to?s.to:null,transactionIndex:s.transactionIndex?Number(s.transactionIndex):null,type:s.type?e.transactionType[s.type]:void 0,typeHex:s.type?s.type:void 0,value:s.value?BigInt(s.value):void 0,v:s.v?BigInt(s.v):void 0};return s.authorizationList&&(a.authorizationList=i(s.authorizationList)),a.yParity=(()=>{if(s.yParity)return Number(s.yParity);if(typeof a.v=="bigint"){if(a.v===0n||a.v===27n)return 0;if(a.v===1n||a.v===28n)return 1;if(a.v>=35n)return a.v%2n===0n?1:0}})(),a.type==="legacy"&&(delete a.accessList,delete a.maxFeePerBlobGas,delete a.maxFeePerGas,delete a.maxPriorityFeePerGas,delete a.yParity),a.type==="eip2930"&&(delete a.maxFeePerBlobGas,delete a.maxFeePerGas,delete a.maxPriorityFeePerGas),a.type==="eip1559"&&delete a.maxFeePerBlobGas,a}e.defineTransaction=(0,r.defineFormatter)("transaction",n);function i(s){return s.map(o=>({address:o.address,chainId:Number(o.chainId),nonce:Number(o.nonce),r:o.r,s:o.s,yParity:Number(o.yParity)}))}})(J_)),J_}var DR;function _E(){if(DR)return Af;DR=1,Object.defineProperty(Af,"__esModule",{value:!0}),Af.defineBlock=void 0,Af.formatBlock=r;const e=M1(),t=qp();function r(n,i){const s=(n.transactions??[]).map(o=>typeof o=="string"?o:(0,t.formatTransaction)(o));return{...n,baseFeePerGas:n.baseFeePerGas?BigInt(n.baseFeePerGas):null,blobGasUsed:n.blobGasUsed?BigInt(n.blobGasUsed):void 0,difficulty:n.difficulty?BigInt(n.difficulty):void 0,excessBlobGas:n.excessBlobGas?BigInt(n.excessBlobGas):void 0,gasLimit:n.gasLimit?BigInt(n.gasLimit):void 0,gasUsed:n.gasUsed?BigInt(n.gasUsed):void 0,hash:n.hash?n.hash:null,logsBloom:n.logsBloom?n.logsBloom:null,nonce:n.nonce?n.nonce:null,number:n.number?BigInt(n.number):null,size:n.size?BigInt(n.size):void 0,timestamp:n.timestamp?BigInt(n.timestamp):void 0,transactions:s,totalDifficulty:n.totalDifficulty?BigInt(n.totalDifficulty):null}}return Af.defineBlock=(0,e.defineFormatter)("block",r),Af}var $R;function Zd(){if($R)return Hy;$R=1,Object.defineProperty(Hy,"__esModule",{value:!0}),Hy.getBlock=n;const e=fS(),t=Oe(),r=_E();async function n(i,{blockHash:s,blockNumber:o,blockTag:a=i.experimental_blockTag??"latest",includeTransactions:c}={}){const u=c??!1,l=o!==void 0?(0,t.numberToHex)(o):void 0;let f=null;if(s?f=await i.request({method:"eth_getBlockByHash",params:[s,u]},{dedupe:!0}):f=await i.request({method:"eth_getBlockByNumber",params:[l||a,u]},{dedupe:!!l}),!f)throw new e.BlockNotFoundError({blockHash:s,blockNumber:o});return(i.chain?.formatters?.block?.format||r.formatBlock)(f,"getBlock")}return Hy}var Wy={},MR;function hS(){if(MR)return Wy;MR=1,Object.defineProperty(Wy,"__esModule",{value:!0}),Wy.getGasPrice=e;async function e(t){const r=await t.request({method:"eth_gasPrice"});return BigInt(r)}return Wy}var LR;function nY(){if(LR)return q0;LR=1,Object.defineProperty(q0,"__esModule",{value:!0}),q0.estimateMaxPriorityFeePerGas=s,q0.internal_estimateMaxPriorityFeePerGas=o;const e=L1(),t=Cr(),r=mt(),n=Zd(),i=hS();async function s(a,c){return o(a,c)}async function o(a,c){const{block:u,chain:l=a.chain,request:f}=c||{};try{const d=l?.fees?.maxPriorityFeePerGas??l?.fees?.defaultPriorityFee;if(typeof d=="function"){const g=u||await (0,r.getAction)(a,n.getBlock,"getBlock")({}),p=await d({block:g,client:a,request:f});if(p===null)throw new Error;return p}if(typeof d<"u")return d;const h=await a.request({method:"eth_maxPriorityFeePerGas"});return(0,t.hexToBigInt)(h)}catch{const[d,h]=await Promise.all([u?Promise.resolve(u):(0,r.getAction)(a,n.getBlock,"getBlock")({}),(0,r.getAction)(a,i.getGasPrice,"getGasPrice")({})]);if(typeof d.baseFeePerGas!="bigint")throw new e.Eip1559FeesNotSupportedError;const g=h-d.baseFeePerGas;return g<0n?0n:g}}return q0}var UR;function iY(){if(UR)return U0;UR=1,Object.defineProperty(U0,"__esModule",{value:!0}),U0.estimateFeesPerGas=s,U0.internal_estimateFeesPerGas=o;const e=L1(),t=mt(),r=nY(),n=Zd(),i=hS();async function s(a,c){return o(a,c)}async function o(a,c){const{block:u,chain:l=a.chain,request:f,type:d="eip1559"}=c||{},h=await (async()=>typeof l?.fees?.baseFeeMultiplier=="function"?l.fees.baseFeeMultiplier({block:u,client:a,request:f}):l?.fees?.baseFeeMultiplier??1.2)();if(h<1)throw new e.BaseFeeScalarError;const p=10**(h.toString().split(".")[1]?.length??0),b=v=>v*BigInt(Math.ceil(h*p))/BigInt(p),w=u||await (0,t.getAction)(a,n.getBlock,"getBlock")({});if(typeof l?.fees?.estimateFeesPerGas=="function"){const v=await l.fees.estimateFeesPerGas({block:u,client:a,multiply:b,request:f,type:d});if(v!==null)return v}if(d==="eip1559"){if(typeof w.baseFeePerGas!="bigint")throw new e.Eip1559FeesNotSupportedError;const v=typeof f?.maxPriorityFeePerGas=="bigint"?f.maxPriorityFeePerGas:await (0,r.internal_estimateMaxPriorityFeePerGas)(a,{block:w,chain:l,request:f}),m=b(w.baseFeePerGas);return{maxFeePerGas:f?.maxFeePerGas??m+v,maxPriorityFeePerGas:v}}return{gasPrice:f?.gasPrice??b(await (0,t.getAction)(a,i.getGasPrice,"getGasPrice")({}))}}return U0}var Vy={},qR;function CE(){if(qR)return Vy;qR=1,Object.defineProperty(Vy,"__esModule",{value:!0}),Vy.getTransactionCount=r;const e=Cr(),t=Oe();async function r(n,{address:i,blockTag:s="latest",blockNumber:o}){const a=await n.request({method:"eth_getTransactionCount",params:[i,typeof o=="bigint"?(0,t.numberToHex)(o):s]},{dedupe:!!o});return(0,e.hexToNumber)(a)}return Vy}var Gy={},zR;function AE(){if(zR)return Gy;zR=1,Object.defineProperty(Gy,"__esModule",{value:!0}),Gy.blobsToCommitments=r;const e=Qt(),t=Oe();function r(n){const{kzg:i}=n,s=n.to??(typeof n.blobs[0]=="string"?"hex":"bytes"),o=typeof n.blobs[0]=="string"?n.blobs.map(c=>(0,e.hexToBytes)(c)):n.blobs,a=[];for(const c of o)a.push(Uint8Array.from(i.blobToKzgCommitment(c)));return s==="bytes"?a:a.map(c=>(0,t.bytesToHex)(c))}return Gy}var Ky={},FR;function xE(){if(FR)return Ky;FR=1,Object.defineProperty(Ky,"__esModule",{value:!0}),Ky.blobsToProofs=r;const e=Qt(),t=Oe();function r(n){const{kzg:i}=n,s=n.to??(typeof n.blobs[0]=="string"?"hex":"bytes"),o=typeof n.blobs[0]=="string"?n.blobs.map(u=>(0,e.hexToBytes)(u)):n.blobs,a=typeof n.commitments[0]=="string"?n.commitments.map(u=>(0,e.hexToBytes)(u)):n.commitments,c=[];for(let u=0;u<o.length;u++){const l=o[u],f=a[u];c.push(Uint8Array.from(i.computeBlobKzgProof(l,f)))}return s==="bytes"?c:c.map(u=>(0,t.bytesToHex)(u))}return Ky}var Zy={},Yy={},Qy={},HR;function pS(){if(HR)return Qy;HR=1,Object.defineProperty(Qy,"__esModule",{value:!0}),Qy.sha256=i;const e=uW(),t=wi(),r=Qt(),n=Oe();function i(s,o){const a=o||"hex",c=(0,e.sha256)((0,t.isHex)(s,{strict:!1})?(0,r.toBytes)(s):s);return a==="bytes"?c:(0,n.toHex)(c)}return Qy}var WR;function gS(){if(WR)return Yy;WR=1,Object.defineProperty(Yy,"__esModule",{value:!0}),Yy.commitmentToVersionedHash=r;const e=Oe(),t=pS();function r(n){const{commitment:i,version:s=1}=n,o=n.to??(typeof i=="string"?"hex":"bytes"),a=(0,t.sha256)(i,"bytes");return a.set([s],0),o==="bytes"?a:(0,e.bytesToHex)(a)}return Yy}var VR;function mS(){if(VR)return Zy;VR=1,Object.defineProperty(Zy,"__esModule",{value:!0}),Zy.commitmentsToVersionedHashes=t;const e=gS();function t(r){const{commitments:n,version:i}=r,s=r.to??(typeof n[0]=="string"?"hex":"bytes"),o=[];for(const a of n)o.push((0,e.commitmentToVersionedHash)({commitment:a,to:s,version:i}));return o}return Zy}var Jy={},Xy={},X_={},GR;function mme(){return GR||(GR=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.maxBytesPerTransaction=e.bytesPerBlob=e.fieldElementsPerBlob=e.bytesPerFieldElement=void 0;const t=6;e.bytesPerFieldElement=32,e.fieldElementsPerBlob=4096,e.bytesPerBlob=e.bytesPerFieldElement*e.fieldElementsPerBlob,e.maxBytesPerTransaction=e.bytesPerBlob*t-1-1*e.fieldElementsPerBlob*t})(X_)),X_}var to={},F0={},KR;function sY(){return KR||(KR=1,Object.defineProperty(F0,"__esModule",{value:!0}),F0.versionedHashVersionKzg=void 0,F0.versionedHashVersionKzg=1),F0}var ZR;function oY(){if(ZR)return to;ZR=1,Object.defineProperty(to,"__esModule",{value:!0}),to.InvalidVersionedHashVersionError=to.InvalidVersionedHashSizeError=to.EmptyBlobError=to.BlobSizeTooLargeError=void 0;const e=sY(),t=Ye();class r extends t.BaseError{constructor({maxSize:a,size:c}){super("Blob size is too large.",{metaMessages:[`Max: ${a} bytes`,`Given: ${c} bytes`],name:"BlobSizeTooLargeError"})}}to.BlobSizeTooLargeError=r;class n extends t.BaseError{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}to.EmptyBlobError=n;class i extends t.BaseError{constructor({hash:a,size:c}){super(`Versioned hash "${a}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${c}`],name:"InvalidVersionedHashSizeError"})}}to.InvalidVersionedHashSizeError=i;class s extends t.BaseError{constructor({hash:a,version:c}){super(`Versioned hash "${a}" version is invalid.`,{metaMessages:[`Expected: ${e.versionedHashVersionKzg}`,`Received: ${c}`],name:"InvalidVersionedHashVersionError"})}}return to.InvalidVersionedHashVersionError=s,to}var YR;function aY(){if(YR)return Xy;YR=1,Object.defineProperty(Xy,"__esModule",{value:!0}),Xy.toBlobs=o;const e=mme(),t=oY(),r=O1(),n=Wi(),i=Qt(),s=Oe();function o(a){const c=a.to??(typeof a.data=="string"?"hex":"bytes"),u=typeof a.data=="string"?(0,i.hexToBytes)(a.data):a.data,l=(0,n.size)(u);if(!l)throw new t.EmptyBlobError;if(l>e.maxBytesPerTransaction)throw new t.BlobSizeTooLargeError({maxSize:e.maxBytesPerTransaction,size:l});const f=[];let d=!0,h=0;for(;d;){const g=(0,r.createCursor)(new Uint8Array(e.bytesPerBlob));let p=0;for(;p<e.fieldElementsPerBlob;){const b=u.slice(h,h+(e.bytesPerFieldElement-1));if(g.pushByte(0),g.pushBytes(b),b.length<31){g.pushByte(128),d=!1;break}p++,h+=31}f.push(g)}return c==="bytes"?f.map(g=>g.bytes):f.map(g=>(0,s.bytesToHex)(g.bytes))}return Xy}var QR;function IE(){if(QR)return Jy;QR=1,Object.defineProperty(Jy,"__esModule",{value:!0}),Jy.toBlobSidecars=n;const e=AE(),t=xE(),r=aY();function n(i){const{data:s,kzg:o,to:a}=i,c=i.blobs??(0,r.toBlobs)({data:s,to:a}),u=i.commitments??(0,e.blobsToCommitments)({blobs:c,kzg:o,to:a}),l=i.proofs??(0,t.blobsToProofs)({blobs:c,commitments:u,kzg:o,to:a}),f=[];for(let d=0;d<c.length;d++)f.push({blob:c[d],commitment:u[d],proof:l[d]});return f}return Jy}var ew={},JR;function PE(){if(JR)return ew;JR=1,Object.defineProperty(ew,"__esModule",{value:!0}),ew.getTransactionType=t;const e=Zi();function t(r){if(r.type)return r.type;if(typeof r.authorizationList<"u")return"eip7702";if(typeof r.blobs<"u"||typeof r.blobVersionedHashes<"u"||typeof r.maxFeePerBlobGas<"u"||typeof r.sidecars<"u")return"eip4844";if(typeof r.maxFeePerGas<"u"||typeof r.maxPriorityFeePerGas<"u")return"eip1559";if(typeof r.gasPrice<"u")return typeof r.accessList<"u"?"eip2930":"legacy";throw new e.InvalidSerializableTransactionError({transaction:r})}return ew}var tw={},rw={},XR;function U1(){if(XR)return rw;XR=1,Object.defineProperty(rw,"__esModule",{value:!0}),rw.getTransactionError=n;const e=Bc(),t=Zi(),r=$1();function n(i,{docsPath:s,...o}){const a=(()=>{const c=(0,r.getNodeError)(i,o);return c instanceof e.UnknownNodeError?i:c})();return new t.TransactionExecutionError(a,{docsPath:s,...o})}return rw}var nw={},ek;function qu(){if(ek)return nw;ek=1,Object.defineProperty(nw,"__esModule",{value:!0}),nw.getChainId=t;const e=Cr();async function t(r){const n=await r.request({method:"eth_chainId"},{dedupe:!0});return(0,e.hexToNumber)(n)}return nw}var tk;function bS(){if(tk)return tw;tk=1,Object.defineProperty(tw,"__esModule",{value:!0}),tw.fillTransaction=l;const e=yr(),t=L1(),r=U1(),n=Uu(),i=qp(),s=No(),o=mt(),a=Do(),c=Zd(),u=qu();async function l(f,d){const{account:h=f.account,accessList:g,authorizationList:p,chain:b=f.chain,blobVersionedHashes:w,blobs:y,data:v,gas:m,gasPrice:C,maxFeePerBlobGas:E,maxFeePerGas:_,maxPriorityFeePerGas:P,nonce:x,nonceManager:O,to:D,type:R,value:k,...T}=d,S=await (async()=>{if(!h||!O||typeof x<"u")return x;const N=(0,e.parseAccount)(h),B=b?b.id:await (0,o.getAction)(f,u.getChainId,"getChainId")({});return await O.consume({address:N.address,chainId:B,client:f})})();(0,a.assertRequest)(d);const I=b?.formatters?.transactionRequest?.format,j=(I||s.formatTransactionRequest)({...(0,n.extract)(T,{format:I}),account:h?(0,e.parseAccount)(h):void 0,accessList:g,authorizationList:p,blobs:y,blobVersionedHashes:w,data:v,gas:m,gasPrice:C,maxFeePerBlobGas:E,maxFeePerGas:_,maxPriorityFeePerGas:P,nonce:S,to:D,type:R,value:k},"fillTransaction");try{const N=await f.request({method:"eth_fillTransaction",params:[j]}),$=(b?.formatters?.transaction?.format||i.formatTransaction)(N.tx);delete $.blockHash,delete $.blockNumber,delete $.r,delete $.s,delete $.transactionIndex,delete $.v,delete $.yParity,$.data=$.input,$.gas&&($.gas=d.gas??$.gas),$.gasPrice&&($.gasPrice=d.gasPrice??$.gasPrice),$.maxFeePerBlobGas&&($.maxFeePerBlobGas=d.maxFeePerBlobGas??$.maxFeePerBlobGas),$.maxFeePerGas&&($.maxFeePerGas=d.maxFeePerGas??$.maxFeePerGas),$.maxPriorityFeePerGas&&($.maxPriorityFeePerGas=d.maxPriorityFeePerGas??$.maxPriorityFeePerGas),$.nonce&&($.nonce=d.nonce??$.nonce);const M=await (async()=>{if(typeof b?.fees?.baseFeeMultiplier=="function"){const F=await (0,o.getAction)(f,c.getBlock,"getBlock")({});return b.fees.baseFeeMultiplier({block:F,client:f,request:d})}return b?.fees?.baseFeeMultiplier??1.2})();if(M<1)throw new t.BaseFeeScalarError;const q=10**(M.toString().split(".")[1]?.length??0),U=F=>F*BigInt(Math.ceil(M*q))/BigInt(q);return $.maxFeePerGas&&!d.maxFeePerGas&&($.maxFeePerGas=U($.maxFeePerGas)),$.gasPrice&&!d.gasPrice&&($.gasPrice=U($.gasPrice)),{raw:N.raw,transaction:{from:j.from,...$}}}catch(N){throw(0,r.getTransactionError)(N,{...d,chain:f.chain})}}return tw}var rk;function q1(){return rk||(rk=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.supportsFillTransaction=e.eip1559NetworkCache=e.defaultParameters=void 0,e.prepareTransactionRequest=w;const t=yr(),r=iY(),n=yS(),i=Zd(),s=CE(),o=L1(),a=AE(),c=xE(),u=mS(),l=IE(),f=mt(),d=Wd(),h=Do(),g=PE(),p=bS(),b=qu();e.defaultParameters=["blobVersionedHashes","chainId","fees","gas","nonce","type"],e.eip1559NetworkCache=new Map,e.supportsFillTransaction=new d.LruMap(128);async function w(y,v){let m=v;m.account??=y.account,m.parameters??=e.defaultParameters;const{account:C,chain:E=y.chain,nonceManager:_,parameters:P}=m,x=(()=>{if(typeof E?.prepareTransactionRequest=="function")return{fn:E.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(E?.prepareTransactionRequest))return{fn:E.prepareTransactionRequest[0],runAt:E.prepareTransactionRequest[1].runAt}})();let O;async function D(){return O||(typeof m.chainId<"u"?m.chainId:E?E.id:(O=await (0,f.getAction)(y,b.getChainId,"getChainId")({}),O))}const R=C&&(0,t.parseAccount)(C);let k=m.nonce;if(P.includes("nonce")&&typeof k>"u"&&R&&_){const M=await D();k=await _.consume({address:R.address,chainId:M,client:y})}x?.fn&&x.runAt?.includes("beforeFillTransaction")&&(m=await x.fn({...m,chain:E},{phase:"beforeFillTransaction"}),k??=m.nonce);const S=((P.includes("blobVersionedHashes")||P.includes("sidecars"))&&m.kzg&&m.blobs||e.supportsFillTransaction.get(y.uid)===!1||!["fees","gas"].some(L=>P.includes(L))?!1:!!(P.includes("chainId")&&typeof m.chainId!="number"||P.includes("nonce")&&typeof k!="number"||P.includes("fees")&&typeof m.gasPrice!="bigint"&&(typeof m.maxFeePerGas!="bigint"||typeof m.maxPriorityFeePerGas!="bigint")||P.includes("gas")&&typeof m.gas!="bigint"))?await (0,f.getAction)(y,p.fillTransaction,"fillTransaction")({...m,nonce:k}).then(M=>{const{chainId:L,from:q,gas:U,gasPrice:F,nonce:H,maxFeePerBlobGas:V,maxFeePerGas:W,maxPriorityFeePerGas:Z,type:X,...ue}=M.transaction;return e.supportsFillTransaction.set(y.uid,!0),{...m,...q?{from:q}:{},...X?{type:X}:{},...typeof L<"u"?{chainId:L}:{},...typeof U<"u"?{gas:U}:{},...typeof F<"u"?{gasPrice:F}:{},...typeof H<"u"?{nonce:H}:{},...typeof V<"u"?{maxFeePerBlobGas:V}:{},...typeof W<"u"?{maxFeePerGas:W}:{},...typeof Z<"u"?{maxPriorityFeePerGas:Z}:{},..."nonceKey"in ue&&typeof ue.nonceKey<"u"?{nonceKey:ue.nonceKey}:{}}}).catch(M=>{const L=M;return L.name!=="TransactionExecutionError"||L.walk?.(U=>{const F=U;return F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError"})&&e.supportsFillTransaction.set(y.uid,!1),m}):m;k??=S.nonce,m={...S,...R?{from:R?.address}:{},...k?{nonce:k}:{}};const{blobs:I,gas:A,kzg:j,type:N}=m;x?.fn&&x.runAt?.includes("beforeFillParameters")&&(m=await x.fn({...m,chain:E},{phase:"beforeFillParameters"}));let B;async function $(){return B||(B=await (0,f.getAction)(y,i.getBlock,"getBlock")({blockTag:"latest"}),B)}if(P.includes("nonce")&&typeof k>"u"&&R&&!_&&(m.nonce=await (0,f.getAction)(y,s.getTransactionCount,"getTransactionCount")({address:R.address,blockTag:"pending"})),(P.includes("blobVersionedHashes")||P.includes("sidecars"))&&I&&j){const M=(0,a.blobsToCommitments)({blobs:I,kzg:j});if(P.includes("blobVersionedHashes")){const L=(0,u.commitmentsToVersionedHashes)({commitments:M,to:"hex"});m.blobVersionedHashes=L}if(P.includes("sidecars")){const L=(0,c.blobsToProofs)({blobs:I,commitments:M,kzg:j}),q=(0,l.toBlobSidecars)({blobs:I,commitments:M,proofs:L,to:"hex"});m.sidecars=q}}if(P.includes("chainId")&&(m.chainId=await D()),(P.includes("fees")||P.includes("type"))&&typeof N>"u")try{m.type=(0,g.getTransactionType)(m)}catch{let M=e.eip1559NetworkCache.get(y.uid);typeof M>"u"&&(M=typeof(await $())?.baseFeePerGas=="bigint",e.eip1559NetworkCache.set(y.uid,M)),m.type=M?"eip1559":"legacy"}if(P.includes("fees"))if(m.type!=="legacy"&&m.type!=="eip2930"){if(typeof m.maxFeePerGas>"u"||typeof m.maxPriorityFeePerGas>"u"){const M=await $(),{maxFeePerGas:L,maxPriorityFeePerGas:q}=await (0,r.internal_estimateFeesPerGas)(y,{block:M,chain:E,request:m});if(typeof m.maxPriorityFeePerGas>"u"&&m.maxFeePerGas&&m.maxFeePerGas<q)throw new o.MaxFeePerGasTooLowError({maxPriorityFeePerGas:q});m.maxPriorityFeePerGas=q,m.maxFeePerGas=L}}else{if(typeof m.maxFeePerGas<"u"||typeof m.maxPriorityFeePerGas<"u")throw new o.Eip1559FeesNotSupportedError;if(typeof m.gasPrice>"u"){const M=await $(),{gasPrice:L}=await (0,r.internal_estimateFeesPerGas)(y,{block:M,chain:E,request:m,type:"legacy"});m.gasPrice=L}}return P.includes("gas")&&typeof A>"u"&&(m.gas=await (0,f.getAction)(y,n.estimateGas,"estimateGas")({...m,account:R,prepare:R?.type==="local"?[]:["blobVersionedHashes"]})),x?.fn&&x.runAt?.includes("afterFillParameters")&&(m=await x.fn({...m,chain:E},{phase:"afterFillParameters"})),(0,h.assertRequest)(m),delete m.parameters,m}})(Q_)),Q_}var nk;function yS(){if(nk)return ky;nk=1,Object.defineProperty(ky,"__esModule",{value:!0}),ky.estimateGas=l;const e=yr(),t=Ye(),r=D1(),n=Oe(),i=rY(),s=Uu(),o=No(),a=lS(),c=Do(),u=q1();async function l(f,d){const{account:h=f.account,prepare:g=!0}=d,p=h?(0,e.parseAccount)(h):void 0,b=(()=>{if(Array.isArray(g))return g;if(p?.type!=="local")return["blobVersionedHashes"]})();try{const w=await (async()=>{if(d.to)return d.to;if(d.authorizationList&&d.authorizationList.length>0)return await (0,r.recoverAuthorizationAddress)({authorization:d.authorizationList[0]}).catch(()=>{throw new t.BaseError("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:y,authorizationList:v,blobs:m,blobVersionedHashes:C,blockNumber:E,blockTag:_,data:P,gas:x,gasPrice:O,maxFeePerBlobGas:D,maxFeePerGas:R,maxPriorityFeePerGas:k,nonce:T,value:S,stateOverride:I,...A}=g?await (0,u.prepareTransactionRequest)(f,{...d,parameters:b,to:w}):d;if(x&&d.gas!==x)return x;const N=(typeof E=="bigint"?(0,n.numberToHex)(E):void 0)||_,B=(0,a.serializeStateOverride)(I);(0,c.assertRequest)(d);const $=f.chain?.formatters?.transactionRequest?.format,L=($||o.formatTransactionRequest)({...(0,s.extract)(A,{format:$}),account:p,accessList:y,authorizationList:v,blobs:m,blobVersionedHashes:C,data:P,gasPrice:O,maxFeePerBlobGas:D,maxFeePerGas:R,maxPriorityFeePerGas:k,nonce:T,to:w,value:S},"estimateGas");return BigInt(await f.request({method:"eth_estimateGas",params:B?[L,N??f.experimental_blockTag??"latest",B]:N?[L,N]:[L]}))}catch(w){throw(0,i.getEstimateGasError)(w,{...d,account:p,chain:f.chain})}}return ky}var ik;function cY(){if(ik)return _y;ik=1,Object.defineProperty(_y,"__esModule",{value:!0}),_y.estimateContractGas=s;const e=yr(),t=Ki(),r=Mu(),n=mt(),i=yS();async function s(o,a){const{abi:c,address:u,args:l,functionName:f,dataSuffix:d,...h}=a,g=(0,t.encodeFunctionData)({abi:c,args:l,functionName:f});try{return await (0,n.getAction)(o,i.estimateGas,"estimateGas")({data:`${g}${d?d.replace("0x",""):""}`,to:u,...h})}catch(p){const b=h.account?(0,e.parseAccount)(h.account):void 0;throw(0,r.getContractError)(p,{abi:c,address:u,args:l,docsPath:"/docs/contract/estimateContractGas",functionName:f,sender:b?.address})}}return _y}var iw={},sw={},ow={},aw={},sk;function $o(){if(sk)return aw;sk=1,Object.defineProperty(aw,"__esModule",{value:!0}),aw.isAddressEqual=r;const e=Bo(),t=Gi();function r(n,i){if(!(0,t.isAddress)(n,{strict:!1}))throw new e.InvalidAddressError({address:n});if(!(0,t.isAddress)(i,{strict:!1}))throw new e.InvalidAddressError({address:i});return n.toLowerCase()===i.toLowerCase()}return aw}var cw={},ok;function z1(){if(ok)return cw;ok=1,Object.defineProperty(cw,"__esModule",{value:!0}),cw.decodeEventLog=a;const e=br(),t=YZ(),r=Wi(),n=Up(),i=Nu(),s=Tc(),o="/docs/contract/decodeEventLog";function a(u){const{abi:l,data:f,strict:d,topics:h}=u,g=d??!0,[p,...b]=h;if(!p)throw new e.AbiEventSignatureEmptyTopicsError({docsPath:o});const w=l.find(O=>O.type==="event"&&p===(0,n.toEventSelector)((0,s.formatAbiItem)(O)));if(!(w&&"name"in w)||w.type!=="event")throw new e.AbiEventSignatureNotFoundError(p,{docsPath:o});const{name:y,inputs:v}=w,m=v?.some(O=>!("name"in O&&O.name)),C=m?[]:{},E=v.map((O,D)=>[O,D]).filter(([O])=>"indexed"in O&&O.indexed),_=[];for(let O=0;O<E.length;O++){const[D,R]=E[O],k=b[O];if(!k){if(g)throw new e.DecodeLogTopicsMismatch({abiItem:w,param:D});_.push([D,R]);continue}C[m?R:D.name||R]=c({param:D,value:k})}const P=v.filter(O=>!("indexed"in O&&O.indexed)),x=g?P:[..._.map(([O])=>O),...P];if(x.length>0){if(f&&f!=="0x")try{const O=(0,i.decodeAbiParameters)(x,f);if(O){let D=0;if(!g)for(const[R,k]of _)C[m?k:R.name||k]=O[D++];if(m)for(let R=0;R<v.length;R++)C[R]===void 0&&D<O.length&&(C[R]=O[D++]);else for(let R=0;R<P.length;R++)C[P[R].name]=O[D++]}}catch(O){if(g)throw O instanceof e.AbiDecodingDataSizeTooSmallError||O instanceof t.PositionOutOfBoundsError?new e.DecodeLogDataMismatch({abiItem:w,data:f,params:x,size:(0,r.size)(f)}):O}else if(g)throw new e.DecodeLogDataMismatch({abiItem:w,data:"0x",params:x,size:0})}return{eventName:y,args:Object.values(C).length>0?C:void 0}}function c({param:u,value:l}){return u.type==="string"||u.type==="bytes"||u.type==="tuple"||u.type.match(/^(.*)\[(\d+)?\]$/)?l:((0,i.decodeAbiParameters)([u],l)||[])[0]}return cw}var ak;function F1(){if(ak)return ow;ak=1,Object.defineProperty(ow,"__esModule",{value:!0}),ow.parseEventLogs=s;const e=$o(),t=Qt(),r=Vi(),n=Up(),i=z1();function s(a){const{abi:c,args:u,logs:l,strict:f=!0}=a,d=(()=>{if(a.eventName)return Array.isArray(a.eventName)?a.eventName:[a.eventName]})();return l.map(h=>{const g=c.filter(w=>w.type==="event"&&h.topics[0]===(0,n.toEventSelector)(w));if(g.length===0)return null;let p,b;for(const w of g)try{p=(0,i.decodeEventLog)({...h,abi:[w],strict:!0}),b=w;break}catch{}if(!p&&!f){b=g[0];try{p=(0,i.decodeEventLog)({...h,abi:[b],strict:!1})}catch{const w=b.inputs?.some(y=>!("name"in y&&y.name));return{...h,args:w?[]:{},eventName:b.name}}}return!p||!b||d&&!d.includes(p.eventName)||!o({args:p.args,inputs:b.inputs,matchArgs:u})?null:{...p,...h}}).filter(Boolean)}function o(a){const{args:c,inputs:u,matchArgs:l}=a;if(!l)return!0;if(!c)return!1;function f(d,h,g){try{return d.type==="address"?(0,e.isAddressEqual)(h,g):d.type==="string"||d.type==="bytes"?(0,r.keccak256)((0,t.toBytes)(h))===g:h===g}catch{return!1}}return Array.isArray(c)&&Array.isArray(l)?l.every((d,h)=>{if(d==null)return!0;const g=u[h];return g?(Array.isArray(d)?d:[d]).some(b=>f(g,b,c[h])):!1}):typeof c=="object"&&!Array.isArray(c)&&typeof l=="object"&&!Array.isArray(l)?Object.entries(l).every(([d,h])=>{if(h==null)return!0;const g=u.find(b=>b.name===d);return g?(Array.isArray(h)?h:[h]).some(b=>f(g,b,c[d])):!1}):!1}return ow}var uw={},ck;function Rc(){if(ck)return uw;ck=1,Object.defineProperty(uw,"__esModule",{value:!0}),uw.formatLog=e;function e(t,{args:r,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,blockTimestamp:t.blockTimestamp?BigInt(t.blockTimestamp):t.blockTimestamp===null?null:void 0,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:r,eventName:n}:{}}}return uw}var uk;function wS(){if(uk)return sw;uk=1,Object.defineProperty(sw,"__esModule",{value:!0}),sw.getLogs=i;const e=Gd(),t=F1(),r=Oe(),n=Rc();async function i(s,{address:o,blockHash:a,fromBlock:c,toBlock:u,event:l,events:f,args:d,strict:h}={}){const g=h??!1,p=f??(l?[l]:void 0);let b=[];p&&(b=[p.flatMap(m=>(0,e.encodeEventTopics)({abi:[m],eventName:m.name,args:f?void 0:d}))],l&&(b=b[0]));let w;a?w=await s.request({method:"eth_getLogs",params:[{address:o,topics:b,blockHash:a}]}):w=await s.request({method:"eth_getLogs",params:[{address:o,topics:b,fromBlock:typeof c=="bigint"?(0,r.numberToHex)(c):c,toBlock:typeof u=="bigint"?(0,r.numberToHex)(u):u}]});const y=w.map(v=>(0,n.formatLog)(v));return p?(0,t.parseEventLogs)({abi:p,args:d,logs:y,strict:g}):y}return sw}var lk;function vS(){if(lk)return iw;lk=1,Object.defineProperty(iw,"__esModule",{value:!0}),iw.getContractEvents=n;const e=jc(),t=mt(),r=wS();async function n(i,s){const{abi:o,address:a,args:c,blockHash:u,eventName:l,fromBlock:f,toBlock:d,strict:h}=s,g=l?(0,e.getAbiItem)({abi:o,name:l}):void 0,p=g?void 0:o.filter(b=>b.type==="event");return(0,t.getAction)(i,r.getLogs,"getLogs")({address:a,args:c,blockHash:u,event:g,events:p,fromBlock:f,toBlock:d,strict:h})}return iw}var lw={},dw={},dk;function kc(){if(dk)return dw;dk=1,Object.defineProperty(dw,"__esModule",{value:!0}),dw.decodeFunctionResult=i;const e=br(),t=Nu(),r=jc(),n="/docs/contract/decodeFunctionResult";function i(s){const{abi:o,args:a,functionName:c,data:u}=s;let l=o[0];if(c){const d=(0,r.getAbiItem)({abi:o,args:a,name:c});if(!d)throw new e.AbiFunctionNotFoundError(c,{docsPath:n});l=d}if(l.type!=="function")throw new e.AbiFunctionNotFoundError(void 0,{docsPath:n});if(!l.outputs)throw new e.AbiFunctionOutputsNotFoundError(l.name,{docsPath:n});const f=(0,t.decodeAbiParameters)(l.outputs,u);if(f&&f.length>1)return f;if(f&&f.length===1)return f[0]}return dw}var H0={},W0={},tt={},It={},fk;function Yd(){if(fk)return It;fk=1;Object.defineProperty(It,"__esModule",{value:!0}),It.notImplemented=It.bitMask=void 0,It.isBytes=r,It.abytes=n,It.abool=i,It.numberToHexUnpadded=s,It.hexToNumber=o,It.bytesToHex=u,It.hexToBytes=d,It.bytesToNumberBE=h,It.bytesToNumberLE=g,It.numberToBytesBE=p,It.numberToBytesLE=b,It.numberToVarBytesBE=w,It.ensureBytes=y,It.concatBytes=v,It.equalBytes=m,It.utf8ToBytes=C,It.inRange=_,It.aInRange=P,It.bitLen=x,It.bitGet=O,It.bitSet=D,It.createHmacDrbg=S,It.validateObject=A,It.memoized=N;const e=BigInt(0),t=BigInt(1);function r(B){return B instanceof Uint8Array||ArrayBuffer.isView(B)&&B.constructor.name==="Uint8Array"}function n(B){if(!r(B))throw new Error("Uint8Array expected")}function i(B,$){if(typeof $!="boolean")throw new Error(B+" boolean expected, got "+$)}function s(B){const $=B.toString(16);return $.length&1?"0"+$:$}function o(B){if(typeof B!="string")throw new Error("hex string expected, got "+typeof B);return B===""?e:BigInt("0x"+B)}const a=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",c=Array.from({length:256},(B,$)=>$.toString(16).padStart(2,"0"));function u(B){if(n(B),a)return B.toHex();let $="";for(let M=0;M<B.length;M++)$+=c[B[M]];return $}const l={_0:48,_9:57,A:65,F:70,a:97,f:102};function f(B){if(B>=l._0&&B<=l._9)return B-l._0;if(B>=l.A&&B<=l.F)return B-(l.A-10);if(B>=l.a&&B<=l.f)return B-(l.a-10)}function d(B){if(typeof B!="string")throw new Error("hex string expected, got "+typeof B);if(a)return Uint8Array.fromHex(B);const $=B.length,M=$/2;if($%2)throw new Error("hex string expected, got unpadded hex of length "+$);const L=new Uint8Array(M);for(let q=0,U=0;q<M;q++,U+=2){const F=f(B.charCodeAt(U)),H=f(B.charCodeAt(U+1));if(F===void 0||H===void 0){const V=B[U]+B[U+1];throw new Error('hex string expected, got non-hex character "'+V+'" at index '+U)}L[q]=F*16+H}return L}function h(B){return o(u(B))}function g(B){return n(B),o(u(Uint8Array.from(B).reverse()))}function p(B,$){return d(B.toString(16).padStart($*2,"0"))}function b(B,$){return p(B,$).reverse()}function w(B){return d(s(B))}function y(B,$,M){let L;if(typeof $=="string")try{L=d($)}catch(U){throw new Error(B+" must be hex string or Uint8Array, cause: "+U)}else if(r($))L=Uint8Array.from($);else throw new Error(B+" must be hex string or Uint8Array");const q=L.length;if(typeof M=="number"&&q!==M)throw new Error(B+" of length "+M+" expected, got "+q);return L}function v(...B){let $=0;for(let L=0;L<B.length;L++){const q=B[L];n(q),$+=q.length}const M=new Uint8Array($);for(let L=0,q=0;L<B.length;L++){const U=B[L];M.set(U,q),q+=U.length}return M}function m(B,$){if(B.length!==$.length)return!1;let M=0;for(let L=0;L<B.length;L++)M|=B[L]^$[L];return M===0}function C(B){if(typeof B!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(B))}const E=B=>typeof B=="bigint"&&e<=B;function _(B,$,M){return E(B)&&E($)&&E(M)&&$<=B&&B<M}function P(B,$,M,L){if(!_($,M,L))throw new Error("expected valid "+B+": "+M+" <= n < "+L+", got "+$)}function x(B){let $;for($=0;B>e;B>>=t,$+=1);return $}function O(B,$){return B>>BigInt($)&t}function D(B,$,M){return B|(M?t:e)<<BigInt($)}const R=B=>(t<<BigInt(B))-t;It.bitMask=R;const k=B=>new Uint8Array(B),T=B=>Uint8Array.from(B);function S(B,$,M){if(typeof B!="number"||B<2)throw new Error("hashLen must be a number");if(typeof $!="number"||$<2)throw new Error("qByteLen must be a number");if(typeof M!="function")throw new Error("hmacFn must be a function");let L=k(B),q=k(B),U=0;const F=()=>{L.fill(1),q.fill(0),U=0},H=(...X)=>M(q,L,...X),V=(X=k(0))=>{q=H(T([0]),X),L=H(),X.length!==0&&(q=H(T([1]),X),L=H())},W=()=>{if(U++>=1e3)throw new Error("drbg: tried 1000 values");let X=0;const ue=[];for(;X<$;){L=H();const Y=L.slice();ue.push(Y),X+=L.length}return v(...ue)};return(X,ue)=>{F(),V(X);let Y;for(;!(Y=ue(W()));)V();return F(),Y}}const I={bigint:B=>typeof B=="bigint",function:B=>typeof B=="function",boolean:B=>typeof B=="boolean",string:B=>typeof B=="string",stringOrUint8Array:B=>typeof B=="string"||r(B),isSafeInteger:B=>Number.isSafeInteger(B),array:B=>Array.isArray(B),field:(B,$)=>$.Fp.isValid(B),hash:B=>typeof B=="function"&&Number.isSafeInteger(B.outputLen)};function A(B,$,M={}){const L=(q,U,F)=>{const H=I[U];if(typeof H!="function")throw new Error("invalid validator function");const V=B[q];if(!(F&&V===void 0)&&!H(V,B))throw new Error("param "+String(q)+" is invalid. Expected "+U+", got "+V)};for(const[q,U]of Object.entries($))L(q,U,!1);for(const[q,U]of Object.entries(M))L(q,U,!0);return B}const j=()=>{throw new Error("not implemented")};It.notImplemented=j;function N(B){const $=new WeakMap;return(M,...L)=>{const q=$.get(M);if(q!==void 0)return q;const U=B(M,...L);return $.set(M,U),U}}return It}var ct={},V0={},xf={},G0={},hk;function bme(){return hk||(hk=1,Object.defineProperty(G0,"__esModule",{value:!0}),G0.version=void 0,G0.version="0.1.1"),G0}var pk;function yme(){if(pk)return xf;pk=1,Object.defineProperty(xf,"__esModule",{value:!0}),xf.getUrl=t,xf.getVersion=r,xf.prettyPrint=n;const e=bme();function t(i){return i}function r(){return e.version}function n(i){if(!i)return"";const s=Object.entries(i).map(([a,c])=>c===void 0||c===!1?null:[a,c]).filter(Boolean),o=s.reduce((a,[c])=>Math.max(a,c.length),0);return s.map(([a,c])=>`  ${`${a}:`.padEnd(o+1)}  ${c}`).join(`
`)}return xf}var gk;function Ps(){if(gk)return V0;gk=1,Object.defineProperty(V0,"__esModule",{value:!0}),V0.BaseError=void 0;const e=yme();class t extends Error{static setStaticOptions(i){t.prototype.docsOrigin=i.docsOrigin,t.prototype.showVersion=i.showVersion,t.prototype.version=i.version}constructor(i,s={}){const o=(()=>{if(s.cause instanceof t){if(s.cause.details)return s.cause.details;if(s.cause.shortMessage)return s.cause.shortMessage}return s.cause&&"details"in s.cause&&typeof s.cause.details=="string"?s.cause.details:s.cause?.message?s.cause.message:s.details})(),a=s.cause instanceof t&&s.cause.docsPath||s.docsPath,c=s.docsOrigin??t.prototype.docsOrigin,u=`${c}${a??""}`,l=!!(s.version??t.prototype.showVersion),f=s.version??t.prototype.version,d=[i||"An error occurred.",...s.metaMessages?["",...s.metaMessages]:[],...o||a||l?["",o?`Details: ${o}`:void 0,a?`See: ${u}`:void 0,l?`Version: ${f}`:void 0]:[]].filter(h=>typeof h=="string").join(`
`);super(d,s.cause?{cause:s.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=s.cause,this.details=o,this.docs=u,this.docsOrigin=c,this.docsPath=a,this.shortMessage=i,this.showVersion=l,this.version=f}walk(i){return r(this,i)}}V0.BaseError=t,Object.defineProperty(t,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${(0,e.getVersion)()}`}}),t.setStaticOptions(t.defaultStaticOptions);function r(n,i){return i?.(n)?n:n&&typeof n=="object"&&"cause"in n&&n.cause?r(n.cause,i):i?null:n}return V0}var e4={},mk;function uY(){return mk||(mk=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.charCodeMap=void 0,e.assertSize=r,e.assertStartOffset=n,e.assertEndOffset=i,e.charCodeToBase16=s,e.pad=o,e.trim=a;const t=va();function r(c,u){if(t.size(c)>u)throw new t.SizeOverflowError({givenSize:t.size(c),maxSize:u})}function n(c,u){if(typeof u=="number"&&u>0&&u>t.size(c)-1)throw new t.SliceOffsetOutOfBoundsError({offset:u,position:"start",size:t.size(c)})}function i(c,u,l){if(typeof u=="number"&&typeof l=="number"&&t.size(c)!==l-u)throw new t.SliceOffsetOutOfBoundsError({offset:l,position:"end",size:t.size(c)})}e.charCodeMap={zero:48,nine:57,A:65,F:70,a:97,f:102};function s(c){if(c>=e.charCodeMap.zero&&c<=e.charCodeMap.nine)return c-e.charCodeMap.zero;if(c>=e.charCodeMap.A&&c<=e.charCodeMap.F)return c-(e.charCodeMap.A-10);if(c>=e.charCodeMap.a&&c<=e.charCodeMap.f)return c-(e.charCodeMap.a-10)}function o(c,u={}){const{dir:l,size:f=32}=u;if(f===0)return c;if(c.length>f)throw new t.SizeExceedsPaddingSizeError({size:c.length,targetSize:f,type:"Bytes"});const d=new Uint8Array(f);for(let h=0;h<f;h++){const g=l==="right";d[g?h:f-h-1]=c[g?h:c.length-h-1]}return d}function a(c,u={}){const{dir:l="left"}=u;let f=c,d=0;for(let h=0;h<f.length-1&&f[l==="left"?h:f.length-h-1].toString()==="0";h++)d++;return f=l==="left"?f.slice(d):f.slice(0,f.length-d),f}})(e4)),e4}var Hc={},bk;function lY(){if(bk)return Hc;bk=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.assertSize=t,Hc.assertStartOffset=r,Hc.assertEndOffset=n,Hc.pad=i,Hc.trim=s;const e=$n();function t(o,a){if(e.size(o)>a)throw new e.SizeOverflowError({givenSize:e.size(o),maxSize:a})}function r(o,a){if(typeof a=="number"&&a>0&&a>e.size(o)-1)throw new e.SliceOffsetOutOfBoundsError({offset:a,position:"start",size:e.size(o)})}function n(o,a,c){if(typeof a=="number"&&typeof c=="number"&&e.size(o)!==c-a)throw new e.SliceOffsetOutOfBoundsError({offset:c,position:"end",size:e.size(o)})}function i(o,a={}){const{dir:c,size:u=32}=a;if(u===0)return o;const l=o.replace("0x","");if(l.length>u*2)throw new e.SizeExceedsPaddingSizeError({size:Math.ceil(l.length/2),targetSize:u,type:"Hex"});return`0x${l[c==="right"?"padEnd":"padStart"](u*2,"0")}`}function s(o,a={}){const{dir:c="left"}=a;let u=o.replace("0x",""),l=0;for(let f=0;f<u.length-1&&u[c==="left"?f:u.length-f-1].toString()==="0";f++)l++;return u=c==="left"?u.slice(l):u.slice(0,u.length-l),u==="0"?"0x":c==="right"&&u.length%2===1?`0x${u}0`:`0x${u}`}return Hc}var K0={},yk;function SE(){if(yk)return K0;yk=1,Object.defineProperty(K0,"__esModule",{value:!0}),K0.parse=t,K0.stringify=r;const e="#__bigint";function t(n,i){return JSON.parse(n,(s,o)=>{const a=o;return typeof a=="string"&&a.endsWith(e)?BigInt(a.slice(0,-e.length)):typeof i=="function"?i(s,a):a})}function r(n,i,s){return JSON.stringify(n,(o,a)=>typeof i=="function"?i(o,a):typeof a=="bigint"?a.toString()+e:a,s)}return K0}var wk;function va(){if(wk)return ct;wk=1,Object.defineProperty(ct,"__esModule",{value:!0}),ct.SizeExceedsPaddingSizeError=ct.SliceOffsetOutOfBoundsError=ct.SizeOverflowError=ct.InvalidBytesTypeError=ct.InvalidBytesBooleanError=void 0,ct.assert=c,ct.concat=u,ct.from=l,ct.fromArray=f,ct.fromBoolean=d,ct.fromHex=h,ct.fromNumber=g,ct.fromString=p,ct.isEqual=b,ct.padLeft=w,ct.padRight=y,ct.random=v,ct.size=m,ct.slice=C,ct.toBigInt=E,ct.toBoolean=_,ct.toHex=P,ct.toNumber=x,ct.toString=O,ct.trimLeft=D,ct.trimRight=R,ct.validate=k;const e=Yd(),t=Ps(),r=$n(),n=uY(),i=lY(),s=SE(),o=new TextDecoder,a=new TextEncoder;function c(N){if(!(N instanceof Uint8Array)){if(!N)throw new S(N);if(typeof N!="object")throw new S(N);if(!("BYTES_PER_ELEMENT"in N))throw new S(N);if(N.BYTES_PER_ELEMENT!==1||N.constructor.name!=="Uint8Array")throw new S(N)}}function u(...N){let B=0;for(const M of N)B+=M.length;const $=new Uint8Array(B);for(let M=0,L=0;M<N.length;M++){const q=N[M];$.set(q,L),L+=q.length}return $}function l(N){return N instanceof Uint8Array?N:typeof N=="string"?h(N):f(N)}function f(N){return N instanceof Uint8Array?N:new Uint8Array(N)}function d(N,B={}){const{size:$}=B,M=new Uint8Array(1);return M[0]=Number(N),typeof $=="number"?(n.assertSize(M,$),w(M,$)):M}function h(N,B={}){const{size:$}=B;let M=N;$&&(i.assertSize(N,$),M=r.padRight(N,$));let L=M.slice(2);L.length%2&&(L=`0${L}`);const q=L.length/2,U=new Uint8Array(q);for(let F=0,H=0;F<q;F++){const V=n.charCodeToBase16(L.charCodeAt(H++)),W=n.charCodeToBase16(L.charCodeAt(H++));if(V===void 0||W===void 0)throw new t.BaseError(`Invalid byte sequence ("${L[H-2]}${L[H-1]}" in "${L}").`);U[F]=V<<4|W}return U}function g(N,B){const $=r.fromNumber(N,B);return h($)}function p(N,B={}){const{size:$}=B,M=a.encode(N);return typeof $=="number"?(n.assertSize(M,$),y(M,$)):M}function b(N,B){return(0,e.equalBytes)(N,B)}function w(N,B){return n.pad(N,{dir:"left",size:B})}function y(N,B){return n.pad(N,{dir:"right",size:B})}function v(N){return crypto.getRandomValues(new Uint8Array(N))}function m(N){return N.length}function C(N,B,$,M={}){const{strict:L}=M;n.assertStartOffset(N,B);const q=N.slice(B,$);return L&&n.assertEndOffset(q,B,$),q}function E(N,B={}){const{size:$}=B;typeof $<"u"&&n.assertSize(N,$);const M=r.fromBytes(N,B);return r.toBigInt(M,B)}function _(N,B={}){const{size:$}=B;let M=N;if(typeof $<"u"&&(n.assertSize(M,$),M=D(M)),M.length>1||M[0]>1)throw new T(M);return!!M[0]}function P(N,B={}){return r.fromBytes(N,B)}function x(N,B={}){const{size:$}=B;typeof $<"u"&&n.assertSize(N,$);const M=r.fromBytes(N,B);return r.toNumber(M,B)}function O(N,B={}){const{size:$}=B;let M=N;return typeof $<"u"&&(n.assertSize(M,$),M=R(M)),o.decode(M)}function D(N){return n.trim(N,{dir:"left"})}function R(N){return n.trim(N,{dir:"right"})}function k(N){try{return c(N),!0}catch{return!1}}class T extends t.BaseError{constructor(B){super(`Bytes value \`${B}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}ct.InvalidBytesBooleanError=T;class S extends t.BaseError{constructor(B){super(`Value \`${typeof B=="object"?s.stringify(B):B}\` of type \`${typeof B}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}ct.InvalidBytesTypeError=S;class I extends t.BaseError{constructor({givenSize:B,maxSize:$}){super(`Size cannot exceed \`${$}\` bytes. Given size: \`${B}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}ct.SizeOverflowError=I;class A extends t.BaseError{constructor({offset:B,position:$,size:M}){super(`Slice ${$==="start"?"starting":"ending"} at offset \`${B}\` is out-of-bounds (size: \`${M}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}ct.SliceOffsetOutOfBoundsError=A;class j extends t.BaseError{constructor({size:B,targetSize:$,type:M}){super(`${M.charAt(0).toUpperCase()}${M.slice(1).toLowerCase()} size (\`${B}\`) exceeds padding size (\`${$}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}return ct.SizeExceedsPaddingSizeError=j,ct}var vk;function $n(){if(vk)return tt;vk=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.SizeExceedsPaddingSizeError=tt.SliceOffsetOutOfBoundsError=tt.SizeOverflowError=tt.InvalidLengthError=tt.InvalidHexValueError=tt.InvalidHexTypeError=tt.InvalidHexBooleanError=tt.IntegerOutOfRangeError=void 0,tt.assert=c,tt.concat=u,tt.from=l,tt.fromBoolean=f,tt.fromBytes=d,tt.fromNumber=h,tt.fromString=g,tt.isEqual=p,tt.padLeft=b,tt.padRight=w,tt.random=y,tt.slice=v,tt.size=m,tt.trimLeft=C,tt.trimRight=E,tt.toBigInt=_,tt.toBoolean=P,tt.toBytes=x,tt.toNumber=O,tt.toString=D,tt.validate=R;const e=Yd(),t=va(),r=Ps(),n=uY(),i=lY(),s=SE(),o=new TextEncoder,a=Array.from({length:256},($,M)=>M.toString(16).padStart(2,"0"));function c($,M={}){const{strict:L=!1}=M;if(!$)throw new S($);if(typeof $!="string")throw new S($);if(L&&!/^0x[0-9a-fA-F]*$/.test($))throw new I($);if(!$.startsWith("0x"))throw new I($)}function u(...$){return`0x${$.reduce((M,L)=>M+L.replace("0x",""),"")}`}function l($){return $ instanceof Uint8Array?d($):Array.isArray($)?d(new Uint8Array($)):$}function f($,M={}){const L=`0x${Number($)}`;return typeof M.size=="number"?(i.assertSize(L,M.size),b(L,M.size)):L}function d($,M={}){let L="";for(let U=0;U<$.length;U++)L+=a[$[U]];const q=`0x${L}`;return typeof M.size=="number"?(i.assertSize(q,M.size),w(q,M.size)):q}function h($,M={}){const{signed:L,size:q}=M,U=BigInt($);let F;q?L?F=(1n<<BigInt(q)*8n-1n)-1n:F=2n**(BigInt(q)*8n)-1n:typeof $=="number"&&(F=BigInt(Number.MAX_SAFE_INTEGER));const H=typeof F=="bigint"&&L?-F-1n:0;if(F&&U>F||U<H){const Z=typeof $=="bigint"?"n":"";throw new k({max:F?`${F}${Z}`:void 0,min:`${H}${Z}`,signed:L,size:q,value:`${$}${Z}`})}const W=`0x${(L&&U<0?BigInt.asUintN(q*8,BigInt(U)):U).toString(16)}`;return q?b(W,q):W}function g($,M={}){return d(o.encode($),M)}function p($,M){return(0,e.equalBytes)(t.fromHex($),t.fromHex(M))}function b($,M){return i.pad($,{dir:"left",size:M})}function w($,M){return i.pad($,{dir:"right",size:M})}function y($){return d(t.random($))}function v($,M,L,q={}){const{strict:U}=q;i.assertStartOffset($,M);const F=`0x${$.replace("0x","").slice((M??0)*2,(L??$.length)*2)}`;return U&&i.assertEndOffset(F,M,L),F}function m($){return Math.ceil(($.length-2)/2)}function C($){return i.trim($,{dir:"left"})}function E($){return i.trim($,{dir:"right"})}function _($,M={}){const{signed:L}=M;M.size&&i.assertSize($,M.size);const q=BigInt($);if(!L)return q;const U=($.length-2)/2,F=(1n<<BigInt(U)*8n)-1n,H=F>>1n;return q<=H?q:q-F-1n}function P($,M={}){M.size&&i.assertSize($,M.size);const L=C($);if(L==="0x")return!1;if(L==="0x1")return!0;throw new T($)}function x($,M={}){return t.fromHex($,M)}function O($,M={}){const{signed:L,size:q}=M;return Number(!L&&!q?$:_($,M))}function D($,M={}){const{size:L}=M;let q=t.fromHex($);return L&&(n.assertSize(q,L),q=t.trimRight(q)),new TextDecoder().decode(q)}function R($,M={}){const{strict:L=!1}=M;try{return c($,{strict:L}),!0}catch{return!1}}class k extends r.BaseError{constructor({max:M,min:L,signed:q,size:U,value:F}){super(`Number \`${F}\` is not in safe${U?` ${U*8}-bit`:""}${q?" signed":" unsigned"} integer range ${M?`(\`${L}\` to \`${M}\`)`:`(above \`${L}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}tt.IntegerOutOfRangeError=k;class T extends r.BaseError{constructor(M){super(`Hex value \`"${M}"\` is not a valid boolean.`,{metaMessages:['The hex value must be `"0x0"` (false) or `"0x1"` (true).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexBooleanError"})}}tt.InvalidHexBooleanError=T;class S extends r.BaseError{constructor(M){super(`Value \`${typeof M=="object"?s.stringify(M):M}\` of type \`${typeof M}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}tt.InvalidHexTypeError=S;class I extends r.BaseError{constructor(M){super(`Value \`${M}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}tt.InvalidHexValueError=I;class A extends r.BaseError{constructor(M){super(`Hex value \`"${M}"\` is an odd length (${M.length-2} nibbles).`,{metaMessages:["It must be an even length."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidLengthError"})}}tt.InvalidLengthError=A;class j extends r.BaseError{constructor({givenSize:M,maxSize:L}){super(`Size cannot exceed \`${L}\` bytes. Given size: \`${M}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}tt.SizeOverflowError=j;class N extends r.BaseError{constructor({offset:M,position:L,size:q}){super(`Slice ${L==="start"?"starting":"ending"} at offset \`${M}\` is out-of-bounds (size: \`${q}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}tt.SliceOffsetOutOfBoundsError=N;class B extends r.BaseError{constructor({size:M,targetSize:L,type:q}){super(`${q.charAt(0).toUpperCase()}${q.slice(1).toLowerCase()} size (\`${M}\`) exceeds padding size (\`${L}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}return tt.SizeExceedsPaddingSizeError=B,tt}var Z0={},Ek;function wme(){if(Ek)return Z0;Ek=1,Object.defineProperty(Z0,"__esModule",{value:!0}),Z0.fromRpc=t,Z0.toRpc=r;const e=$n();function t(n){return{...n,amount:BigInt(n.amount),index:Number(n.index),validatorIndex:Number(n.validatorIndex)}}function r(n){return{address:n.address,amount:e.fromNumber(n.amount),index:e.fromNumber(n.index),validatorIndex:e.fromNumber(n.validatorIndex)}}return Z0}var _k;function dY(){if(_k)return W0;_k=1,Object.defineProperty(W0,"__esModule",{value:!0}),W0.fromRpc=r,W0.toRpc=n;const e=$n(),t=wme();function r(i){return{...i.baseFeePerGas&&{baseFeePerGas:BigInt(i.baseFeePerGas)},...i.blobBaseFee&&{blobBaseFee:BigInt(i.blobBaseFee)},...i.feeRecipient&&{feeRecipient:i.feeRecipient},...i.gasLimit&&{gasLimit:BigInt(i.gasLimit)},...i.number&&{number:BigInt(i.number)},...i.prevRandao&&{prevRandao:BigInt(i.prevRandao)},...i.time&&{time:BigInt(i.time)},...i.withdrawals&&{withdrawals:i.withdrawals.map(t.fromRpc)}}}function n(i){return{...typeof i.baseFeePerGas=="bigint"&&{baseFeePerGas:e.fromNumber(i.baseFeePerGas)},...typeof i.blobBaseFee=="bigint"&&{blobBaseFee:e.fromNumber(i.blobBaseFee)},...typeof i.feeRecipient=="string"&&{feeRecipient:i.feeRecipient},...typeof i.gasLimit=="bigint"&&{gasLimit:e.fromNumber(i.gasLimit)},...typeof i.number=="bigint"&&{number:e.fromNumber(i.number)},...typeof i.prevRandao=="bigint"&&{prevRandao:e.fromNumber(i.prevRandao)},...typeof i.time=="bigint"&&{time:e.fromNumber(i.time)},...i.withdrawals&&{withdrawals:i.withdrawals.map(t.toRpc)}}}return W0}var kt={},Ck;function zu(){if(Ck)return kt;Ck=1,Object.defineProperty(kt,"__esModule",{value:!0}),kt.erc4626Abi=kt.erc721Abi=kt.erc1155Abi=kt.erc20Abi_bytes32=kt.erc20Abi=kt.erc6492SignatureValidatorAbi=kt.erc1271Abi=kt.addressResolverAbi=kt.textResolverAbi=kt.universalResolverReverseAbi=kt.universalResolverResolveAbi=kt.batchGatewayAbi=kt.multicall3Abi=void 0,kt.multicall3Abi=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],kt.batchGatewayAbi=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}];const e=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}];return kt.universalResolverResolveAbi=[...e,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],kt.universalResolverReverseAbi=[...e,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],kt.textResolverAbi=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],kt.addressResolverAbi=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],kt.erc1271Abi=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],kt.erc6492SignatureValidatorAbi=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],kt.erc20Abi=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],kt.erc20Abi_bytes32=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],kt.erc1155Abi=[{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC1155InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC1155InvalidApprover",type:"error"},{inputs:[{internalType:"uint256",name:"idsLength",type:"uint256"},{internalType:"uint256",name:"valuesLength",type:"uint256"}],name:"ERC1155InvalidArrayLength",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC1155InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC1155InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC1155InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"ERC1155MissingApprovalForAll",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],kt.erc721Abi=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"event",name:"ApprovalForAll",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"payable",inputs:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"getApproved",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"address"}]},{type:"function",name:"isApprovedForAll",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"ownerOf",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"owner",type:"address"}]},{type:"function",name:"safeTransferFrom",stateMutability:"payable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"safeTransferFrom",stateMutability:"nonpayable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"id",type:"uint256"},{name:"data",type:"bytes"}],outputs:[]},{type:"function",name:"setApprovalForAll",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"index",type:"uint256"}],outputs:[{type:"uint256"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"tokenId",type:"uint256"}]},{type:"function",name:"tokenURI",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transferFrom",stateMutability:"payable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]}],kt.erc4626Abi=[{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!0,name:"owner",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{name:"assetTokenAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"}],name:"deposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxDeposit",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxMint",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxRedeem",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"}],name:"mint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewMint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"redeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAssets",outputs:[{name:"totalManagedAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"withdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],kt}var Y0={},Ak;function vme(){return Ak||(Ak=1,Object.defineProperty(Y0,"__esModule",{value:!0}),Y0.aggregate3Signature=void 0,Y0.aggregate3Signature="0x82ad56cb"),Y0}var ro={},xk;function H1(){return xk||(xk=1,Object.defineProperty(ro,"__esModule",{value:!0}),ro.multicall3Bytecode=ro.erc6492SignatureValidatorByteCode=ro.deploylessCallViaFactoryBytecode=ro.deploylessCallViaBytecodeBytecode=void 0,ro.deploylessCallViaBytecodeBytecode="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",ro.deploylessCallViaFactoryBytecode="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",ro.erc6492SignatureValidatorByteCode="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",ro.multicall3Bytecode="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033"),ro}var es={},Ik;function W1(){if(Ik)return es;Ik=1,Object.defineProperty(es,"__esModule",{value:!0}),es.InvalidChainIdError=es.ClientChainNotConfiguredError=es.ChainNotFoundError=es.ChainMismatchError=es.ChainDoesNotSupportContract=void 0;const e=Ye();class t extends e.BaseError{constructor({blockNumber:a,chain:c,contract:u}){super(`Chain "${c.name}" does not support contract "${u.name}".`,{metaMessages:["This could be due to any of the following:",...a&&u.blockCreated&&u.blockCreated>a?[`- The contract "${u.name}" was not deployed until block ${u.blockCreated} (current block ${a}).`]:[`- The chain does not have the contract "${u.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}es.ChainDoesNotSupportContract=t;class r extends e.BaseError{constructor({chain:a,currentChainId:c}){super(`The current chain of the wallet (id: ${c}) does not match the target chain for the transaction (id: ${a.id}  ${a.name}).`,{metaMessages:[`Current Chain ID:  ${c}`,`Expected Chain ID: ${a.id}  ${a.name}`],name:"ChainMismatchError"})}}es.ChainMismatchError=r;class n extends e.BaseError{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}es.ChainNotFoundError=n;class i extends e.BaseError{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}es.ClientChainNotConfiguredError=i;class s extends e.BaseError{constructor({chainId:a}){super(typeof a=="number"?`Chain ID "${a}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}return es.InvalidChainIdError=s,es}var fw={},Pk;function V1(){if(Pk)return fw;Pk=1,Object.defineProperty(fw,"__esModule",{value:!0}),fw.encodeDeployData=i;const e=br(),t=An(),r=Ro(),n="/docs/contract/encodeDeployData";function i(s){const{abi:o,args:a,bytecode:c}=s;if(!a||a.length===0)return c;const u=o.find(f=>"type"in f&&f.type==="constructor");if(!u)throw new e.AbiConstructorNotFoundError({docsPath:n});if(!("inputs"in u))throw new e.AbiConstructorParamsNotFoundError({docsPath:n});if(!u.inputs||u.inputs.length===0)throw new e.AbiConstructorParamsNotFoundError({docsPath:n});const l=(0,r.encodeAbiParameters)(u.inputs,a);return(0,t.concatHex)([c,l])}return fw}var hw={},Sk;function Fu(){if(Sk)return hw;Sk=1,Object.defineProperty(hw,"__esModule",{value:!0}),hw.getChainContractAddress=t;const e=W1();function t({blockNumber:r,chain:n,contract:i}){const s=n?.contracts?.[i];if(!s)throw new e.ChainDoesNotSupportContract({chain:n,contract:{name:i}});if(r&&s.blockCreated&&s.blockCreated>r)throw new e.ChainDoesNotSupportContract({blockNumber:r,chain:n,contract:{name:i,blockCreated:s.blockCreated}});return s.address}return hw}var pw={},Tk;function ES(){if(Tk)return pw;Tk=1,Object.defineProperty(pw,"__esModule",{value:!0}),pw.getCallError=n;const e=Du(),t=Bc(),r=$1();function n(i,{docsPath:s,...o}){const a=(()=>{const c=(0,r.getNodeError)(i,o);return c instanceof t.UnknownNodeError?i:c})();return new e.CallExecutionError(a,{docsPath:s,...o})}return pw}var gw={},mw={},Ok;function _S(){if(Ok)return mw;Ok=1,Object.defineProperty(mw,"__esModule",{value:!0}),mw.withResolvers=e;function e(){let t=()=>{},r=()=>{};return{promise:new Promise((i,s)=>{t=i,r=s}),resolve:t,reject:r}}return mw}var jk;function CS(){if(jk)return gw;jk=1,Object.defineProperty(gw,"__esModule",{value:!0}),gw.createBatchScheduler=r;const e=_S(),t=new Map;function r({fn:n,id:i,shouldSplitBatch:s,wait:o=0,sort:a}){const c=async()=>{const h=f();u();const g=h.map(({args:p})=>p);g.length!==0&&n(g).then(p=>{a&&Array.isArray(p)&&p.sort(a);for(let b=0;b<h.length;b++){const{resolve:w}=h[b];w?.([p[b],p])}}).catch(p=>{for(let b=0;b<h.length;b++){const{reject:w}=h[b];w?.(p)}})},u=()=>t.delete(i),l=()=>f().map(({args:h})=>h),f=()=>t.get(i)||[],d=h=>t.set(i,[...f(),h]);return{flush:u,async schedule(h){const{promise:g,resolve:p,reject:b}=(0,e.withResolvers)();return s?.([...l(),h])&&c(),f().length>0?(d({args:h,resolve:p,reject:b}),g):(d({args:h,resolve:p,reject:b}),setTimeout(c,o),g)}}}return gw}var t4={},La={},Bk;function Eme(){if(Bk)return La;Bk=1,Object.defineProperty(La,"__esModule",{value:!0}),La.OffchainLookupSenderMismatchError=La.OffchainLookupResponseMalformedError=La.OffchainLookupError=void 0;const e=Dn(),t=Ye(),r=cS();class n extends t.BaseError{constructor({callbackSelector:a,cause:c,data:u,extraData:l,sender:f,urls:d}){super(c.shortMessage||"An error occurred while fetching for an offchain result.",{cause:c,metaMessages:[...c.metaMessages||[],c.metaMessages?.length?"":[],"Offchain Gateway Call:",d&&["  Gateway URL(s):",...d.map(h=>`    ${(0,r.getUrl)(h)}`)],`  Sender: ${f}`,`  Data: ${u}`,`  Callback selector: ${a}`,`  Extra data: ${l}`].flat(),name:"OffchainLookupError"})}}La.OffchainLookupError=n;class i extends t.BaseError{constructor({result:a,url:c}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${(0,r.getUrl)(c)}`,`Response: ${(0,e.stringify)(a)}`],name:"OffchainLookupResponseMalformedError"})}}La.OffchainLookupResponseMalformedError=i;class s extends t.BaseError{constructor({sender:a,to:c}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${c}`,`OffchainLookup sender address: ${a}`],name:"OffchainLookupSenderMismatchError"})}}return La.OffchainLookupSenderMismatchError=s,La}var r4={},bw={},Rk;function AS(){if(Rk)return bw;Rk=1,Object.defineProperty(bw,"__esModule",{value:!0}),bw.decodeFunctionData=s;const e=br(),t=Ys(),r=Vd(),n=Nu(),i=Tc();function s(o){const{abi:a,data:c}=o,u=(0,t.slice)(c,0,4),l=a.find(f=>f.type==="function"&&u===(0,r.toFunctionSelector)((0,i.formatAbiItem)(f)));if(!l)throw new e.AbiFunctionSignatureNotFoundError(u,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:l.name,args:"inputs"in l&&l.inputs&&l.inputs.length>0?(0,n.decodeAbiParameters)(l.inputs,(0,t.slice)(c,4)):void 0}}return bw}var yw={},kk;function xS(){if(kk)return yw;kk=1,Object.defineProperty(yw,"__esModule",{value:!0}),yw.encodeErrorResult=a;const e=br(),t=An(),r=Vd(),n=Ro(),i=Tc(),s=jc(),o="/docs/contract/encodeErrorResult";function a(c){const{abi:u,errorName:l,args:f}=c;let d=u[0];if(l){const b=(0,s.getAbiItem)({abi:u,args:f,name:l});if(!b)throw new e.AbiErrorNotFoundError(l,{docsPath:o});d=b}if(d.type!=="error")throw new e.AbiErrorNotFoundError(void 0,{docsPath:o});const h=(0,i.formatAbiItem)(d),g=(0,r.toFunctionSelector)(h);let p="0x";if(f&&f.length>0){if(!d.inputs)throw new e.AbiErrorInputsNotFoundError(d.name,{docsPath:o});p=(0,n.encodeAbiParameters)(d.inputs,f)}return(0,t.concatHex)([g,p])}return yw}var ww={},Nk;function IS(){if(Nk)return ww;Nk=1,Object.defineProperty(ww,"__esModule",{value:!0}),ww.encodeFunctionResult=i;const e=br(),t=Ro(),r=jc(),n="/docs/contract/encodeFunctionResult";function i(s){const{abi:o,functionName:a,result:c}=s;let u=o[0];if(a){const f=(0,r.getAbiItem)({abi:o,name:a});if(!f)throw new e.AbiFunctionNotFoundError(a,{docsPath:n});u=f}if(u.type!=="function")throw new e.AbiFunctionNotFoundError(void 0,{docsPath:n});if(!u.outputs)throw new e.AbiFunctionOutputsNotFoundError(u.name,{docsPath:n});const l=(()=>{if(u.outputs.length===0)return[];if(u.outputs.length===1)return[c];if(Array.isArray(c))return c;throw new e.InvalidArrayError(c)})();return(0,t.encodeAbiParameters)(u.outputs,l)}return ww}var Dk;function TE(){return Dk||(Dk=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.localBatchGatewayUrl=void 0,e.localBatchGatewayRequest=o;const t=zu(),r=sS(),n=AS(),i=xS(),s=IS();e.localBatchGatewayUrl="x-batch-gateway:true";async function o(c){const{data:u,ccipRequest:l}=c,{args:[f]}=(0,n.decodeFunctionData)({abi:t.batchGatewayAbi,data:u}),d=[],h=[];return await Promise.all(f.map(async(g,p)=>{try{h[p]=g.urls.includes(e.localBatchGatewayUrl)?await o({data:g.data,ccipRequest:l}):await l(g),d[p]=!1}catch(b){d[p]=!0,h[p]=a(b)}})),(0,s.encodeFunctionResult)({abi:t.batchGatewayAbi,functionName:"query",result:[d,h]})}function a(c){return c.name==="HttpRequestError"&&c.status?(0,i.encodeErrorResult)({abi:t.batchGatewayAbi,errorName:"HttpError",args:[c.status,c.shortMessage]}):(0,i.encodeErrorResult)({abi:[r.solidityError],errorName:"Error",args:["shortMessage"in c?c.shortMessage:c.message]})}})(r4)),r4}var $k;function PS(){return $k||($k=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.offchainLookupAbiItem=e.offchainLookupSignature=void 0,e.offchainLookup=f,e.ccipRequest=d;const t=G1(),r=Eme(),n=ko(),i=wE(),s=Ro(),o=$o(),a=An(),c=wi(),u=TE(),l=Dn();e.offchainLookupSignature="0x556f1830",e.offchainLookupAbiItem={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function f(h,{blockNumber:g,blockTag:p,data:b,to:w}){const{args:y}=(0,i.decodeErrorResult)({data:b,abi:[e.offchainLookupAbiItem]}),[v,m,C,E,_]=y,{ccipRead:P}=h,x=P&&typeof P?.request=="function"?P.request:d;try{if(!(0,o.isAddressEqual)(w,v))throw new r.OffchainLookupSenderMismatchError({sender:v,to:w});const O=m.includes(u.localBatchGatewayUrl)?await (0,u.localBatchGatewayRequest)({data:C,ccipRequest:x}):await x({data:C,sender:v,urls:m}),{data:D}=await (0,t.call)(h,{blockNumber:g,blockTag:p,data:(0,a.concat)([E,(0,s.encodeAbiParameters)([{type:"bytes"},{type:"bytes"}],[O,_])]),to:w});return D}catch(O){throw new r.OffchainLookupError({callbackSelector:E,cause:O,data:b,extraData:_,sender:v,urls:m})}}async function d({data:h,sender:g,urls:p}){let b=new Error("An unknown error occurred.");for(let w=0;w<p.length;w++){const y=p[w],v=y.includes("{data}")?"GET":"POST",m=v==="POST"?{data:h,sender:g}:void 0,C=v==="POST"?{"Content-Type":"application/json"}:{};try{const E=await fetch(y.replace("{sender}",g.toLowerCase()).replace("{data}",h),{body:JSON.stringify(m),headers:C,method:v});let _;if(E.headers.get("Content-Type")?.startsWith("application/json")?_=(await E.json()).data:_=await E.text(),!E.ok){b=new n.HttpRequestError({body:m,details:_?.error?(0,l.stringify)(_.error):E.statusText,headers:E.headers,status:E.status,url:y});continue}if(!(0,c.isHex)(_)){b=new r.OffchainLookupResponseMalformedError({result:_,url:y});continue}return _}catch(E){b=new n.HttpRequestError({body:m,details:E.message,url:y})}}throw b}})(t4)),t4}var Mk;function G1(){if(Mk)return H0;Mk=1,Object.defineProperty(H0,"__esModule",{value:!0}),H0.call=m,H0.getRevertErrorData=x;const e=Ru(),t=dY(),r=yr(),n=zu(),i=vme(),s=H1(),o=Ye(),a=W1(),c=Du(),u=kc(),l=V1(),f=Ki(),d=Fu(),h=Oe(),g=ES(),p=Uu(),b=No(),w=CS(),y=lS(),v=Do();async function m(O,D){const{account:R=O.account,authorizationList:k,batch:T=!!O.batch?.multicall,blockNumber:S,blockTag:I=O.experimental_blockTag??"latest",accessList:A,blobs:j,blockOverrides:N,code:B,data:$,factory:M,factoryData:L,gas:q,gasPrice:U,maxFeePerBlobGas:F,maxFeePerGas:H,maxPriorityFeePerGas:V,nonce:W,to:Z,value:X,stateOverride:ue,...Y}=D,Q=R?(0,r.parseAccount)(R):void 0;if(B&&(M||L))throw new o.BaseError("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(B&&Z)throw new o.BaseError("Cannot provide both `code` & `to` as parameters.");const ae=B&&$,he=M&&L&&Z&&$,pe=ae||he,be=ae?_({code:B,data:$}):he?P({data:$,factory:M,factoryData:L,to:Z}):$;try{(0,v.assertRequest)(D);const fe=(typeof S=="bigint"?(0,h.numberToHex)(S):void 0)||I,ce=N?t.toRpc(N):void 0,Qe=(0,y.serializeStateOverride)(ue),Ke=O.chain?.formatters?.transactionRequest?.format,At=(Ke||b.formatTransactionRequest)({...(0,p.extract)(Y,{format:Ke}),accessList:A,account:Q,authorizationList:k,blobs:j,data:be,gas:q,gasPrice:U,maxFeePerBlobGas:F,maxFeePerGas:H,maxPriorityFeePerGas:V,nonce:W,to:pe?void 0:Z,value:X},"call");if(T&&C({request:At})&&!Qe&&!ce)try{return await E(O,{...At,blockNumber:S,blockTag:I})}catch(et){if(!(et instanceof a.ClientChainNotConfiguredError)&&!(et instanceof a.ChainDoesNotSupportContract))throw et}const xr=(()=>{const et=[At,fe];return Qe&&ce?[...et,Qe,ce]:Qe?[...et,Qe]:ce?[...et,{},ce]:et})(),Ht=await O.request({method:"eth_call",params:xr});return Ht==="0x"?{data:void 0}:{data:Ht}}catch(Pe){const fe=x(Pe),{offchainLookup:ce,offchainLookupSignature:Qe}=await Promise.resolve().then(()=>PS());if(O.ccipRead!==!1&&fe?.slice(0,10)===Qe&&Z)return{data:await ce(O,{data:fe,to:Z})};throw pe&&fe?.slice(0,10)==="0x101bb98d"?new c.CounterfactualDeploymentFailedError({factory:M}):(0,g.getCallError)(Pe,{...D,account:Q,chain:O.chain})}}function C({request:O}){const{data:D,to:R,...k}=O;return!(!D||D.startsWith(i.aggregate3Signature)||!R||Object.values(k).filter(T=>typeof T<"u").length>0)}async function E(O,D){const{batchSize:R=1024,deployless:k=!1,wait:T=0}=typeof O.batch?.multicall=="object"?O.batch.multicall:{},{blockNumber:S,blockTag:I=O.experimental_blockTag??"latest",data:A,to:j}=D,N=(()=>{if(k)return null;if(D.multicallAddress)return D.multicallAddress;if(O.chain)return(0,d.getChainContractAddress)({blockNumber:S,chain:O.chain,contract:"multicall3"});throw new a.ClientChainNotConfiguredError})(),$=(typeof S=="bigint"?(0,h.numberToHex)(S):void 0)||I,{schedule:M}=(0,w.createBatchScheduler)({id:`${O.uid}.${$}`,wait:T,shouldSplitBatch(U){return U.reduce((H,{data:V})=>H+(V.length-2),0)>R*2},fn:async U=>{const F=U.map(W=>({allowFailure:!0,callData:W.data,target:W.to})),H=(0,f.encodeFunctionData)({abi:n.multicall3Abi,args:[F],functionName:"aggregate3"}),V=await O.request({method:"eth_call",params:[{...N===null?{data:_({code:s.multicall3Bytecode,data:H})}:{to:N,data:H}},$]});return(0,u.decodeFunctionResult)({abi:n.multicall3Abi,args:[F],functionName:"aggregate3",data:V||"0x"})}}),[{returnData:L,success:q}]=await M({data:A,to:j});if(!q)throw new c.RawContractError({data:L});return L==="0x"?{data:void 0}:{data:L}}function _(O){const{code:D,data:R}=O;return(0,l.encodeDeployData)({abi:(0,e.parseAbi)(["constructor(bytes, bytes)"]),bytecode:s.deploylessCallViaBytecodeBytecode,args:[D,R]})}function P(O){const{data:D,factory:R,factoryData:k,to:T}=O;return(0,l.encodeDeployData)({abi:(0,e.parseAbi)(["constructor(address, bytes, address, bytes)"]),bytecode:s.deploylessCallViaFactoryBytecode,args:[T,D,R,k]})}function x(O){if(!(O instanceof o.BaseError))return;const D=O.walk();return typeof D?.data=="object"?D.data?.data:D.data}return H0}var Lk;function Ea(){if(Lk)return lw;Lk=1,Object.defineProperty(lw,"__esModule",{value:!0}),lw.readContract=s;const e=kc(),t=Ki(),r=Mu(),n=mt(),i=G1();async function s(o,a){const{abi:c,address:u,args:l,functionName:f,...d}=a,h=(0,t.encodeFunctionData)({abi:c,args:l,functionName:f});try{const{data:g}=await (0,n.getAction)(o,i.call,"call")({...d,data:h,to:u});return(0,e.decodeFunctionResult)({abi:c,args:l,functionName:f,data:g||"0x"})}catch(g){throw(0,r.getContractError)(g,{abi:c,address:u,args:l,docsPath:"/docs/contract/readContract",functionName:f})}}return lw}var vw={},Uk;function fY(){if(Uk)return vw;Uk=1,Object.defineProperty(vw,"__esModule",{value:!0}),vw.simulateContract=o;const e=yr(),t=kc(),r=Ki(),n=Mu(),i=mt(),s=G1();async function o(a,c){const{abi:u,address:l,args:f,dataSuffix:d,functionName:h,...g}=c,p=g.account?(0,e.parseAccount)(g.account):a.account,b=(0,r.encodeFunctionData)({abi:u,args:f,functionName:h});try{const{data:w}=await (0,i.getAction)(a,s.call,"call")({batch:!1,data:`${b}${d?d.replace("0x",""):""}`,to:l,...g,account:p}),y=(0,t.decodeFunctionResult)({abi:u,args:f,functionName:h,data:w||"0x"}),v=u.filter(m=>"name"in m&&m.name===c.functionName);return{result:y,request:{abi:v,address:l,args:f,dataSuffix:d,functionName:h,...g,account:p}}}catch(w){throw(0,n.getContractError)(w,{abi:u,address:l,args:f,docsPath:"/docs/contract/simulateContract",functionName:h,sender:p?.address})}}return vw}var Ew={},n4={},qk;function Qd(){return qk||(qk=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.cleanupCache=e.listenersCache=void 0,e.observe=r,e.listenersCache=new Map,e.cleanupCache=new Map;let t=0;function r(n,i,s){const o=++t,a=()=>e.listenersCache.get(n)||[],c=()=>{const h=a();e.listenersCache.set(n,h.filter(g=>g.id!==o))},u=()=>{const h=a();if(!h.some(p=>p.id===o))return;const g=e.cleanupCache.get(n);if(h.length===1&&g){const p=g();p instanceof Promise&&p.catch(()=>{})}c()},l=a();if(e.listenersCache.set(n,[...l,{id:o,fns:i}]),l&&l.length>0)return u;const f={};for(const h in i)f[h]=((...g)=>{const p=a();if(p.length!==0)for(const b of p)b.fns[h]?.(...g)});const d=s(f);return typeof d=="function"&&e.cleanupCache.set(n,d),u}})(n4)),n4}var _w={},Cw={},zk;function SS(){if(zk)return Cw;zk=1,Object.defineProperty(Cw,"__esModule",{value:!0}),Cw.wait=e;async function e(t){return new Promise(r=>setTimeout(r,t))}return Cw}var Fk;function zp(){if(Fk)return _w;Fk=1,Object.defineProperty(_w,"__esModule",{value:!0}),_w.poll=t;const e=SS();function t(r,{emitOnBegin:n,initialWaitTime:i,interval:s}){let o=!0;const a=()=>o=!1;return(async()=>{let u;n&&(u=await r({unpoll:a}));const l=await i?.(u)??s;await (0,e.wait)(l);const f=async()=>{o&&(await r({unpoll:a}),await (0,e.wait)(s),f())};f()})(),a}return _w}var Q0={},i4={},Hk;function hY(){return Hk||(Hk=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.responseCache=e.promiseCache=void 0,e.getCache=t,e.withCache=r,e.promiseCache=new Map,e.responseCache=new Map;function t(n){const i=(a,c)=>({clear:()=>c.delete(a),get:()=>c.get(a),set:u=>c.set(a,u)}),s=i(n,e.promiseCache),o=i(n,e.responseCache);return{clear:()=>{s.clear(),o.clear()},promise:s,response:o}}async function r(n,{cacheKey:i,cacheTime:s=Number.POSITIVE_INFINITY}){const o=t(i),a=o.response.get();if(a&&s>0&&Date.now()-a.created.getTime()<s)return a.data;let c=o.promise.get();c||(c=n(),o.promise.set(c));try{const u=await c;return o.response.set({created:new Date,data:u}),u}finally{o.promise.clear()}}})(i4)),i4}var Wk;function K1(){if(Wk)return Q0;Wk=1,Object.defineProperty(Q0,"__esModule",{value:!0}),Q0.getBlockNumberCache=r,Q0.getBlockNumber=n;const e=hY(),t=i=>`blockNumber.${i}`;function r(i){return(0,e.getCache)(t(i))}async function n(i,{cacheTime:s=i.cacheTime}={}){const o=await (0,e.withCache)(()=>i.request({method:"eth_blockNumber"}),{cacheKey:t(i.uid),cacheTime:s});return BigInt(o)}return Q0}var Aw={},Vk;function OE(){if(Vk)return Aw;Vk=1,Object.defineProperty(Aw,"__esModule",{value:!0}),Aw.getFilterChanges=r;const e=F1(),t=Rc();async function r(n,{filter:i}){const s="strict"in i&&i.strict,o=await i.request({method:"eth_getFilterChanges",params:[i.id]});if(typeof o[0]=="string")return o;const a=o.map(c=>(0,t.formatLog)(c));return!("abi"in i)||!i.abi?a:(0,e.parseEventLogs)({abi:i.abi,logs:a,strict:s})}return Aw}var xw={},Gk;function jE(){if(Gk)return xw;Gk=1,Object.defineProperty(xw,"__esModule",{value:!0}),xw.uninstallFilter=e;async function e(t,{filter:r}){return r.request({method:"eth_uninstallFilter",params:[r.id]})}return xw}var Kk;function pY(){if(Kk)return Ew;Kk=1,Object.defineProperty(Ew,"__esModule",{value:!0}),Ew.watchContractEvent=g;const e=br(),t=$u(),r=z1(),n=Gd(),i=Rc(),s=mt(),o=Qd(),a=zp(),c=Dn(),u=iS(),l=K1(),f=vS(),d=OE(),h=jE();function g(p,b){const{abi:w,address:y,args:v,batch:m=!0,eventName:C,fromBlock:E,onError:_,onLogs:P,poll:x,pollingInterval:O=p.pollingInterval,strict:D}=b;return(typeof x<"u"?x:typeof E=="bigint"?!0:!(p.transport.type==="webSocket"||p.transport.type==="ipc"||p.transport.type==="fallback"&&(p.transport.transports[0].config.type==="webSocket"||p.transport.transports[0].config.type==="ipc")))?(()=>{const S=D??!1,I=(0,c.stringify)(["watchContractEvent",y,v,m,p.uid,C,O,S,E]);return(0,o.observe)(I,{onLogs:P,onError:_},A=>{let j;E!==void 0&&(j=E-1n);let N,B=!1;const $=(0,a.poll)(async()=>{if(!B){try{N=await (0,s.getAction)(p,u.createContractEventFilter,"createContractEventFilter")({abi:w,address:y,args:v,eventName:C,strict:S,fromBlock:E})}catch{}B=!0;return}try{let M;if(N)M=await (0,s.getAction)(p,d.getFilterChanges,"getFilterChanges")({filter:N});else{const L=await (0,s.getAction)(p,l.getBlockNumber,"getBlockNumber")({});j&&j<L?M=await (0,s.getAction)(p,f.getContractEvents,"getContractEvents")({abi:w,address:y,args:v,eventName:C,fromBlock:j+1n,toBlock:L,strict:S}):M=[],j=L}if(M.length===0)return;if(m)A.onLogs(M);else for(const L of M)A.onLogs([L])}catch(M){N&&M instanceof t.InvalidInputRpcError&&(B=!1),A.onError?.(M)}},{emitOnBegin:!0,interval:O});return async()=>{N&&await (0,s.getAction)(p,h.uninstallFilter,"uninstallFilter")({filter:N}),$()}})})():(()=>{const S=D??!1,I=(0,c.stringify)(["watchContractEvent",y,v,m,p.uid,C,O,S]);let A=!0,j=()=>A=!1;return(0,o.observe)(I,{onLogs:P,onError:_},N=>((async()=>{try{const B=(()=>{if(p.transport.type==="fallback"){const L=p.transport.transports.find(q=>q.config.type==="webSocket"||q.config.type==="ipc");return L?L.value:p.transport}return p.transport})(),$=C?(0,n.encodeEventTopics)({abi:w,eventName:C,args:v}):[],{unsubscribe:M}=await B.subscribe({params:["logs",{address:y,topics:$}],onData(L){if(!A)return;const q=L.result;try{const{eventName:U,args:F}=(0,r.decodeEventLog)({abi:w,data:q.data,topics:q.topics,strict:D}),H=(0,i.formatLog)(q,{args:F,eventName:U});N.onLogs([H])}catch(U){let F,H;if(U instanceof e.DecodeLogDataMismatch||U instanceof e.DecodeLogTopicsMismatch){if(D)return;F=U.abiItem.name,H=U.abiItem.inputs?.some(W=>!("name"in W&&W.name))}const V=(0,i.formatLog)(q,{args:H?[]:{},eventName:F});N.onLogs([V])}},onError(L){N.onError?.(L)}});j=M,A||j()}catch(B){_?.(B)}})(),()=>j()))})()}return Ew}var J0={},cl={},Zk;function Hu(){if(Zk)return cl;Zk=1,Object.defineProperty(cl,"__esModule",{value:!0}),cl.AccountTypeNotSupportedError=cl.AccountNotFoundError=void 0;const e=Ye();class t extends e.BaseError{constructor({docsPath:i}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:i,docsSlug:"account",name:"AccountNotFoundError"})}}cl.AccountNotFoundError=t;class r extends e.BaseError{constructor({docsPath:i,metaMessages:s,type:o}){super(`Account type "${o}" is not supported.`,{docsPath:i,metaMessages:s,name:"AccountTypeNotSupportedError"})}}return cl.AccountTypeNotSupportedError=r,cl}var Iw={},Pw={},Yk;function Z1(){if(Yk)return Pw;Yk=1,Object.defineProperty(Pw,"__esModule",{value:!0}),Pw.assertCurrentChain=t;const e=W1();function t({chain:r,currentChainId:n}){if(!r)throw new e.ChainNotFoundError;if(n!==r.id)throw new e.ChainMismatchError({chain:r,currentChainId:n})}return Pw}var Sw={},Qk;function TS(){if(Qk)return Sw;Qk=1,Object.defineProperty(Sw,"__esModule",{value:!0}),Sw.sendRawTransaction=e;async function e(t,{serializedTransaction:r}){return t.request({method:"eth_sendRawTransaction",params:[r]},{retryCount:0})}return Sw}var Jk;function BE(){if(Jk)return Iw;Jk=1,Object.defineProperty(Iw,"__esModule",{value:!0}),Iw.sendTransaction=p;const e=yr(),t=Hu(),r=Ye(),n=D1(),i=Z1(),s=U1(),o=Uu(),a=No(),c=mt(),u=Wd(),l=Do(),f=qu(),d=q1(),h=TS(),g=new u.LruMap(128);async function p(b,w){const{account:y=b.account,assertChainId:v=!0,chain:m=b.chain,accessList:C,authorizationList:E,blobs:_,data:P,gas:x,gasPrice:O,maxFeePerBlobGas:D,maxFeePerGas:R,maxPriorityFeePerGas:k,nonce:T,type:S,value:I,...A}=w;if(typeof y>"u")throw new t.AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransaction"});const j=y?(0,e.parseAccount)(y):null;try{(0,l.assertRequest)(w);const N=await (async()=>{if(w.to)return w.to;if(w.to!==null&&E&&E.length>0)return await (0,n.recoverAuthorizationAddress)({authorization:E[0]}).catch(()=>{throw new r.BaseError("`to` is required. Could not infer from `authorizationList`.")})})();if(j?.type==="json-rpc"||j===null){let B;m!==null&&(B=await (0,c.getAction)(b,f.getChainId,"getChainId")({}),v&&(0,i.assertCurrentChain)({currentChainId:B,chain:m}));const $=b.chain?.formatters?.transactionRequest?.format,L=($||a.formatTransactionRequest)({...(0,o.extract)(A,{format:$}),accessList:C,account:j,authorizationList:E,blobs:_,chainId:B,data:P,gas:x,gasPrice:O,maxFeePerBlobGas:D,maxFeePerGas:R,maxPriorityFeePerGas:k,nonce:T,to:N,type:S,value:I},"sendTransaction"),q=g.get(b.uid),U=q?"wallet_sendTransaction":"eth_sendTransaction";try{return await b.request({method:U,params:[L]},{retryCount:0})}catch(F){if(q===!1)throw F;const H=F;if(H.name==="InvalidInputRpcError"||H.name==="InvalidParamsRpcError"||H.name==="MethodNotFoundRpcError"||H.name==="MethodNotSupportedRpcError")return await b.request({method:"wallet_sendTransaction",params:[L]},{retryCount:0}).then(V=>(g.set(b.uid,!0),V)).catch(V=>{const W=V;throw W.name==="MethodNotFoundRpcError"||W.name==="MethodNotSupportedRpcError"?(g.set(b.uid,!1),H):W});throw H}}if(j?.type==="local"){const B=await (0,c.getAction)(b,d.prepareTransactionRequest,"prepareTransactionRequest")({account:j,accessList:C,authorizationList:E,blobs:_,chain:m,data:P,gas:x,gasPrice:O,maxFeePerBlobGas:D,maxFeePerGas:R,maxPriorityFeePerGas:k,nonce:T,nonceManager:j.nonceManager,parameters:[...d.defaultParameters,"sidecars"],type:S,value:I,...A,to:N}),$=m?.serializers?.transaction,M=await j.signTransaction(B,{serializer:$});return await (0,c.getAction)(b,h.sendRawTransaction,"sendRawTransaction")({serializedTransaction:M})}throw j?.type==="smart"?new t.AccountTypeNotSupportedError({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new t.AccountTypeNotSupportedError({docsPath:"/docs/actions/wallet/sendTransaction",type:j?.type})}catch(N){throw N instanceof t.AccountTypeNotSupportedError?N:(0,s.getTransactionError)(N,{...w,account:j,chain:w.chain||void 0})}}return Iw}var Xk;function OS(){if(Xk)return J0;Xk=1,Object.defineProperty(J0,"__esModule",{value:!0}),J0.writeContract=o;const e=yr(),t=Hu(),r=Ki(),n=Mu(),i=mt(),s=BE();async function o(a,c){return o.internal(a,s.sendTransaction,"sendTransaction",c)}return(function(a){async function c(u,l,f,d){const{abi:h,account:g=u.account,address:p,args:b,dataSuffix:w,functionName:y,...v}=d;if(typeof g>"u")throw new t.AccountNotFoundError({docsPath:"/docs/contract/writeContract"});const m=g?(0,e.parseAccount)(g):null,C=(0,r.encodeFunctionData)({abi:h,args:b,functionName:y});try{return await (0,i.getAction)(u,l,f)({data:`${C}${w?w.replace("0x",""):""}`,to:p,account:m,...v})}catch(E){throw(0,n.getContractError)(E,{abi:h,address:p,args:b,docsPath:"/docs/contract/writeContract",functionName:y,sender:m?.address})}}a.internal=c})(o||(J0.writeContract=o={})),J0}var eN;function _me(){if(eN)return mf;eN=1,Object.defineProperty(mf,"__esModule",{value:!0}),mf.getContract=c,mf.getFunctionParameters=u,mf.getEventParameters=l;const e=mt(),t=iS(),r=cY(),n=vS(),i=Ea(),s=fY(),o=pY(),a=OS();function c({abi:f,address:d,client:h}){const g=h,[p,b]=g?"public"in g&&"wallet"in g?[g.public,g.wallet]:"public"in g?[g.public,void 0]:"wallet"in g?[void 0,g.wallet]:[g,g]:[void 0,void 0],w=p!=null,y=b!=null,v={};let m=!1,C=!1,E=!1;for(const _ of f)if(_.type==="function"?_.stateMutability==="view"||_.stateMutability==="pure"?m=!0:C=!0:_.type==="event"&&(E=!0),m&&C&&E)break;return w&&(m&&(v.read=new Proxy({},{get(_,P){return(...x)=>{const{args:O,options:D}=u(x);return(0,e.getAction)(p,i.readContract,"readContract")({abi:f,address:d,functionName:P,args:O,...D})}}})),C&&(v.simulate=new Proxy({},{get(_,P){return(...x)=>{const{args:O,options:D}=u(x);return(0,e.getAction)(p,s.simulateContract,"simulateContract")({abi:f,address:d,functionName:P,args:O,...D})}}})),E&&(v.createEventFilter=new Proxy({},{get(_,P){return(...x)=>{const O=f.find(k=>k.type==="event"&&k.name===P),{args:D,options:R}=l(x,O);return(0,e.getAction)(p,t.createContractEventFilter,"createContractEventFilter")({abi:f,address:d,eventName:P,args:D,...R})}}}),v.getEvents=new Proxy({},{get(_,P){return(...x)=>{const O=f.find(k=>k.type==="event"&&k.name===P),{args:D,options:R}=l(x,O);return(0,e.getAction)(p,n.getContractEvents,"getContractEvents")({abi:f,address:d,eventName:P,args:D,...R})}}}),v.watchEvent=new Proxy({},{get(_,P){return(...x)=>{const O=f.find(k=>k.type==="event"&&k.name===P),{args:D,options:R}=l(x,O);return(0,e.getAction)(p,o.watchContractEvent,"watchContractEvent")({abi:f,address:d,eventName:P,args:D,...R})}}}))),y&&C&&(v.write=new Proxy({},{get(_,P){return(...x)=>{const{args:O,options:D}=u(x);return(0,e.getAction)(b,a.writeContract,"writeContract")({abi:f,address:d,functionName:P,args:O,...D})}}})),(w||y)&&C&&(v.estimateGas=new Proxy({},{get(_,P){return(...x)=>{const{args:O,options:D}=u(x),R=p??b;return(0,e.getAction)(R,r.estimateContractGas,"estimateContractGas")({abi:f,address:d,functionName:P,args:O,...D,account:D.account??b.account})}}})),v.address=d,v.abi=f,v}function u(f){const d=f.length&&Array.isArray(f[0]),h=d?f[0]:[],g=(d?f[1]:f[0])??{};return{args:h,options:g}}function l(f,d){let h=!1;Array.isArray(f[0])?h=!0:f.length===1?h=d.inputs.some(b=>b.indexed):f.length===2&&(h=!0);const g=h?f[0]:void 0,p=(h?f[1]:f[0])??{};return{args:g,options:p}}return mf}var If={},X0={},tN;function gY(){if(tN)return X0;tN=1,Object.defineProperty(X0,"__esModule",{value:!0}),X0.BundleFailedError=void 0;const e=Ye();class t extends e.BaseError{constructor(n){super(`Call bundle failed with status: ${n.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=n}}return X0.BundleFailedError=t,X0}var Tw={},rN;function RE(){if(rN)return Tw;rN=1,Object.defineProperty(Tw,"__esModule",{value:!0}),Tw.withRetry=t;const e=SS();function t(r,{delay:n=100,retryCount:i=2,shouldRetry:s=()=>!0}={}){return new Promise((o,a)=>{const c=async({count:u=0}={})=>{const l=async({error:f})=>{const d=typeof n=="function"?n({count:u,error:f}):n;d&&await (0,e.wait)(d),c({count:u+1})};try{const f=await r();o(f)}catch(f){if(u<i&&await s({count:u,error:f}))return l({error:f});a(f)}};c()})}return Tw}var Ow={},s4={},nN;function Y1(){return nN||(nN=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defineTransactionReceipt=e.receiptStatuses=void 0,e.formatTransactionReceipt=s;const t=Cr(),r=M1(),n=Rc(),i=qp();e.receiptStatuses={"0x0":"reverted","0x1":"success"};function s(o,a){const c={...o,blockNumber:o.blockNumber?BigInt(o.blockNumber):null,contractAddress:o.contractAddress?o.contractAddress:null,cumulativeGasUsed:o.cumulativeGasUsed?BigInt(o.cumulativeGasUsed):null,effectiveGasPrice:o.effectiveGasPrice?BigInt(o.effectiveGasPrice):null,gasUsed:o.gasUsed?BigInt(o.gasUsed):null,logs:o.logs?o.logs.map(u=>(0,n.formatLog)(u)):null,to:o.to?o.to:null,transactionIndex:o.transactionIndex?(0,t.hexToNumber)(o.transactionIndex):null,status:o.status?e.receiptStatuses[o.status]:null,type:o.type?i.transactionType[o.type]||o.type:null};return o.blobGasPrice&&(c.blobGasPrice=BigInt(o.blobGasPrice)),o.blobGasUsed&&(c.blobGasUsed=BigInt(o.blobGasUsed)),c}e.defineTransactionReceipt=(0,r.defineFormatter)("transactionReceipt",s)})(s4)),s4}var o4={},iN;function jS(){return iN||(iN=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fallbackTransactionErrorMagicIdentifier=e.fallbackMagicIdentifier=void 0,e.sendCalls=l;const t=yr(),r=Ye(),n=$u(),i=Ki(),s=An(),o=Cr(),a=Oe(),c=U1(),u=BE();e.fallbackMagicIdentifier="0x5792579257925792579257925792579257925792579257925792579257925792",e.fallbackTransactionErrorMagicIdentifier=(0,a.numberToHex)(0,{size:32});async function l(f,d){const{account:h=f.account,capabilities:g,chain:p=f.chain,experimental_fallback:b,experimental_fallbackDelay:w=32,forceAtomic:y=!1,id:v,version:m="2.0.0"}=d,C=h?(0,t.parseAccount)(h):null,E=d.calls.map(_=>{const P=_,x=P.abi?(0,i.encodeFunctionData)({abi:P.abi,functionName:P.functionName,args:P.args}):P.data;return{data:P.dataSuffix&&x?(0,s.concat)([x,P.dataSuffix]):x,to:P.to,value:P.value?(0,a.numberToHex)(P.value):void 0}});try{const _=await f.request({method:"wallet_sendCalls",params:[{atomicRequired:y,calls:E,capabilities:g,chainId:(0,a.numberToHex)(p.id),from:C?.address,id:v,version:m}]},{retryCount:0});return typeof _=="string"?{id:_}:_}catch(_){const P=_;if(b&&(P.name==="MethodNotFoundRpcError"||P.name==="MethodNotSupportedRpcError"||P.name==="UnknownRpcError"||P.details.toLowerCase().includes("does not exist / is not available")||P.details.toLowerCase().includes("missing or invalid. request()")||P.details.toLowerCase().includes("did not match any variant of untagged enum")||P.details.toLowerCase().includes("account upgraded to unsupported contract")||P.details.toLowerCase().includes("eip-7702 not supported")||P.details.toLowerCase().includes("unsupported wc_ method")||P.details.toLowerCase().includes("feature toggled misconfigured")||P.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(g&&Object.values(g).some(k=>!k.optional)){const k="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new n.UnsupportedNonOptionalCapabilityError(new r.BaseError(k,{details:k}))}if(y&&E.length>1){const R="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new n.AtomicityNotSupportedError(new r.BaseError(R,{details:R}))}const x=[];for(const R of E){const k=(0,u.sendTransaction)(f,{account:C,chain:p,data:R.data,to:R.to,value:R.value?(0,o.hexToBigInt)(R.value):void 0});x.push(k),w>0&&await new Promise(T=>setTimeout(T,w))}const O=await Promise.allSettled(x);if(O.every(R=>R.status==="rejected"))throw O[0].reason;const D=O.map(R=>R.status==="fulfilled"?R.value:e.fallbackTransactionErrorMagicIdentifier);return{id:(0,s.concat)([...D,(0,a.numberToHex)(p.id,{size:32}),e.fallbackMagicIdentifier])}}throw(0,c.getTransactionError)(_,{...d,account:C,chain:d.chain})}}})(o4)),o4}var sN;function mY(){if(sN)return Ow;sN=1,Object.defineProperty(Ow,"__esModule",{value:!0}),Ow.getCallsStatus=s;const e=Ys(),t=Oc(),r=Cr(),n=Y1(),i=jS();async function s(o,a){async function c(b){if(b.endsWith(i.fallbackMagicIdentifier.slice(2))){const y=(0,t.trim)((0,e.sliceHex)(b,-64,-32)),v=(0,e.sliceHex)(b,0,-64).slice(2).match(/.{1,64}/g),m=await Promise.all(v.map(E=>i.fallbackTransactionErrorMagicIdentifier.slice(2)!==E?o.request({method:"eth_getTransactionReceipt",params:[`0x${E}`]},{dedupe:!0}):void 0)),C=m.some(E=>E===null)?100:m.every(E=>E?.status==="0x1")?200:m.every(E=>E?.status==="0x0")?500:600;return{atomic:!1,chainId:(0,r.hexToNumber)(y),receipts:m.filter(Boolean),status:C,version:"2.0.0"}}return o.request({method:"wallet_getCallsStatus",params:[b]})}const{atomic:u=!1,chainId:l,receipts:f,version:d="2.0.0",...h}=await c(a.id),[g,p]=(()=>{const b=h.status;return b>=100&&b<200?["pending",b]:b>=200&&b<300?["success",b]:b>=300&&b<700?["failure",b]:b==="CONFIRMED"?["success",200]:b==="PENDING"?["pending",100]:[void 0,b]})();return{...h,atomic:u,chainId:l?(0,r.hexToNumber)(l):void 0,receipts:f?.map(b=>({...b,blockNumber:(0,r.hexToBigInt)(b.blockNumber),gasUsed:(0,r.hexToBigInt)(b.gasUsed),status:n.receiptStatuses[b.status]}))??[],statusCode:p,status:g,version:d}}return Ow}var oN;function BS(){if(oN)return If;oN=1,Object.defineProperty(If,"__esModule",{value:!0}),If.WaitForCallsStatusTimeoutError=void 0,If.waitForCallsStatus=u;const e=Ye(),t=gY(),r=mt(),n=Qd(),i=zp(),s=_S(),o=RE(),a=Dn(),c=mY();async function u(f,d){const{id:h,pollingInterval:g=f.pollingInterval,status:p=({statusCode:O})=>O===200||O>=300,retryCount:b=4,retryDelay:w=({count:O})=>~~(1<<O)*200,timeout:y=6e4,throwOnFailure:v=!1}=d,m=(0,a.stringify)(["waitForCallsStatus",f.uid,h]),{promise:C,resolve:E,reject:_}=(0,s.withResolvers)();let P;const x=(0,n.observe)(m,{resolve:E,reject:_},O=>{const D=(0,i.poll)(async()=>{const R=k=>{clearTimeout(P),D(),k(),x()};try{const k=await (0,o.withRetry)(async()=>{const T=await (0,r.getAction)(f,c.getCallsStatus,"getCallsStatus")({id:h});if(v&&T.status==="failure")throw new t.BundleFailedError(T);return T},{retryCount:b,delay:w});if(!p(k))return;R(()=>O.resolve(k))}catch(k){R(()=>O.reject(k))}},{interval:g,emitOnBegin:!0});return D});return P=y?setTimeout(()=>{x(),clearTimeout(P),_(new l({id:h}))},y):void 0,await C}class l extends e.BaseError{constructor({id:d}){super(`Timed out while waiting for call bundle with id "${d}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}return If.WaitForCallsStatusTimeoutError=l,If}var eg={},jw={},aN;function bY(){if(aN)return jw;aN=1,Object.defineProperty(jw,"__esModule",{value:!0}),jw.uid=n;const e=256;let t=e,r;function n(i=11){if(!r||t+i>e*2){r="",t=0;for(let s=0;s<e;s++)r+=(256+Math.random()*256|0).toString(16).substring(1)}return r.substring(t,t+++i)}return jw}var cN;function kE(){if(cN)return eg;cN=1,Object.defineProperty(eg,"__esModule",{value:!0}),eg.createClient=r,eg.rpcSchema=n;const e=yr(),t=bY();function r(i){const{batch:s,chain:o,ccipRead:a,key:c="base",name:u="Base Client",type:l="base"}=i,f=i.experimental_blockTag??(typeof o?.experimental_preconfirmationTime=="number"?"pending":void 0),d=o?.blockTime??12e3,h=Math.min(Math.max(Math.floor(d/2),500),4e3),g=i.pollingInterval??h,p=i.cacheTime??g,b=i.account?(0,e.parseAccount)(i.account):void 0,{config:w,request:y,value:v}=i.transport({account:b,chain:o,pollingInterval:g}),m={...w,...v},C={account:b,batch:s,cacheTime:p,ccipRead:a,chain:o,key:c,name:u,pollingInterval:g,request:y,transport:m,type:l,uid:(0,t.uid)(),...f?{experimental_blockTag:f}:{}};function E(_){return P=>{const x=P(_);for(const D in C)delete x[D];const O={..._,...x};return Object.assign(O,{extend:E(O)})}}return Object.assign(C,{extend:E(C)})}function n(){return null}return eg}var Bw={},Rw={},kw={},Nw={},uN;function RS(){if(uN)return Nw;uN=1,Object.defineProperty(Nw,"__esModule",{value:!0}),Nw.isNullUniversalResolverError=r;const e=Ye(),t=Du();function r(n){if(!(n instanceof e.BaseError))return!1;const i=n.walk(s=>s instanceof t.ContractFunctionRevertedError);return i instanceof t.ContractFunctionRevertedError?i.data?.errorName==="HttpError"||i.data?.errorName==="ResolverError"||i.data?.errorName==="ResolverNotContract"||i.data?.errorName==="ResolverNotFound"||i.data?.errorName==="ReverseAddressMismatch"||i.data?.errorName==="UnsupportedResolverProfile":!1}return Nw}var Dw={},$w={},lN;function yY(){if(lN)return $w;lN=1,Object.defineProperty($w,"__esModule",{value:!0}),$w.encodedLabelToLabelhash=t;const e=wi();function t(r){if(r.length!==66||r.indexOf("[")!==0||r.indexOf("]")!==65)return null;const n=`0x${r.slice(1,65)}`;return(0,e.isHex)(n)?n:null}return $w}var dN;function kS(){if(dN)return Dw;dN=1,Object.defineProperty(Dw,"__esModule",{value:!0}),Dw.namehash=s;const e=An(),t=Qt(),r=Oe(),n=Vi(),i=yY();function s(o){let a=new Uint8Array(32).fill(0);if(!o)return(0,r.bytesToHex)(a);const c=o.split(".");for(let u=c.length-1;u>=0;u-=1){const l=(0,i.encodedLabelToLabelhash)(c[u]),f=l?(0,t.toBytes)(l):(0,n.keccak256)((0,t.stringToBytes)(c[u]),"bytes");a=(0,n.keccak256)((0,e.concat)([a,f]),"bytes")}return(0,r.bytesToHex)(a)}return Dw}var Mw={},Lw={},fN;function Cme(){if(fN)return Lw;fN=1,Object.defineProperty(Lw,"__esModule",{value:!0}),Lw.encodeLabelhash=e;function e(t){return`[${t.slice(2)}]`}return Lw}var Uw={},hN;function wY(){if(hN)return Uw;hN=1,Object.defineProperty(Uw,"__esModule",{value:!0}),Uw.labelhash=i;const e=Qt(),t=Oe(),r=Vi(),n=yY();function i(s){const o=new Uint8Array(32).fill(0);return s?(0,n.encodedLabelToLabelhash)(s)||(0,r.keccak256)((0,e.stringToBytes)(s)):(0,t.bytesToHex)(o)}return Uw}var pN;function NS(){if(pN)return Mw;pN=1,Object.defineProperty(Mw,"__esModule",{value:!0}),Mw.packetToBytes=n;const e=Qt(),t=Cme(),r=wY();function n(i){const s=i.replace(/^\.|\.$/gm,"");if(s.length===0)return new Uint8Array(1);const o=new Uint8Array((0,e.stringToBytes)(s).byteLength+2);let a=0;const c=s.split(".");for(let u=0;u<c.length;u++){let l=(0,e.stringToBytes)(c[u]);l.byteLength>255&&(l=(0,e.stringToBytes)((0,t.encodeLabelhash)((0,r.labelhash)(c[u])))),o[a]=l.length,o.set(l,a+1),a+=l.length+1}return o.byteLength!==a+1?o.slice(0,a+1):o}return Mw}var gN;function Ame(){if(gN)return kw;gN=1,Object.defineProperty(kw,"__esModule",{value:!0}),kw.getEnsAddress=d;const e=zu(),t=kc(),r=Ki(),n=Fu(),i=Oc(),s=Oe(),o=RS(),a=TE(),c=kS(),u=NS(),l=mt(),f=Ea();async function d(h,g){const{blockNumber:p,blockTag:b,coinType:w,name:y,gatewayUrls:v,strict:m}=g,{chain:C}=h,E=(()=>{if(g.universalResolverAddress)return g.universalResolverAddress;if(!C)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,n.getChainContractAddress)({blockNumber:p,chain:C,contract:"ensUniversalResolver"})})(),_=C?.ensTlds;if(_&&!_.some(x=>y.endsWith(x)))return null;const P=w!=null?[(0,c.namehash)(y),BigInt(w)]:[(0,c.namehash)(y)];try{const x=(0,r.encodeFunctionData)({abi:e.addressResolverAbi,functionName:"addr",args:P}),O={address:E,abi:e.universalResolverResolveAbi,functionName:"resolveWithGateways",args:[(0,s.toHex)((0,u.packetToBytes)(y)),x,v??[a.localBatchGatewayUrl]],blockNumber:p,blockTag:b},R=await (0,l.getAction)(h,f.readContract,"readContract")(O);if(R[0]==="0x")return null;const k=(0,t.decodeFunctionResult)({abi:e.addressResolverAbi,args:P,functionName:"addr",data:R[0]});return k==="0x"||(0,i.trim)(k)==="0x00"?null:k}catch(x){if(m)throw x;if((0,o.isNullUniversalResolverError)(x))return null;throw x}}return kw}var qw={},zw={},no={},ts={},mN;function DS(){if(mN)return ts;mN=1,Object.defineProperty(ts,"__esModule",{value:!0}),ts.EnsInvalidChainIdError=ts.EnsAvatarUnsupportedNamespaceError=ts.EnsAvatarUriResolutionError=ts.EnsAvatarInvalidNftUriError=ts.EnsAvatarInvalidMetadataError=void 0;const e=Ye();class t extends e.BaseError{constructor({data:a}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(a)}`],name:"EnsAvatarInvalidMetadataError"})}}ts.EnsAvatarInvalidMetadataError=t;class r extends e.BaseError{constructor({reason:a}){super(`ENS NFT avatar URI is invalid. ${a}`,{name:"EnsAvatarInvalidNftUriError"})}}ts.EnsAvatarInvalidNftUriError=r;class n extends e.BaseError{constructor({uri:a}){super(`Unable to resolve ENS avatar URI "${a}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}ts.EnsAvatarUriResolutionError=n;class i extends e.BaseError{constructor({namespace:a}){super(`ENS NFT avatar namespace "${a}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}ts.EnsAvatarUnsupportedNamespaceError=i;class s extends e.BaseError{constructor({chainId:a}){super(`Invalid ENSIP-11 chainId: ${a}. Must be between 0 and 0x7fffffff, or 1.`,{name:"EnsInvalidChainIdError"})}}return ts.EnsInvalidChainIdError=s,ts}var bN;function xme(){if(bN)return no;bN=1,Object.defineProperty(no,"__esModule",{value:!0}),no.isImageUri=o,no.getGateway=a,no.resolveAvatarUri=c,no.getJsonImage=u,no.getMetadataAvatarUri=l,no.parseAvatarUri=f,no.parseNftUri=d,no.getNftTokenUri=h;const e=Ea(),t=DS(),r=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,n=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,i=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,s=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function o(g){try{const p=await fetch(g,{method:"HEAD"});return p.status===200?p.headers.get("content-type")?.startsWith("image/"):!1}catch(p){return typeof p=="object"&&typeof p.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(b=>{const w=new Image;w.onload=()=>{b(!0)},w.onerror=()=>{b(!1)},w.src=g})}}function a(g,p){return g?g.endsWith("/")?g.slice(0,-1):g:p}function c({uri:g,gatewayUrls:p}){const b=i.test(g);if(b)return{uri:g,isOnChain:!0,isEncoded:b};const w=a(p?.ipfs,"https://ipfs.io"),y=a(p?.arweave,"https://arweave.net"),v=g.match(r),{protocol:m,subpath:C,target:E,subtarget:_=""}=v?.groups||{},P=m==="ipns:/"||C==="ipns/",x=m==="ipfs:/"||C==="ipfs/"||n.test(g);if(g.startsWith("http")&&!P&&!x){let D=g;return p?.arweave&&(D=g.replace(/https:\/\/arweave.net/g,p?.arweave)),{uri:D,isOnChain:!1,isEncoded:!1}}if((P||x)&&E)return{uri:`${w}/${P?"ipns":"ipfs"}/${E}${_}`,isOnChain:!1,isEncoded:!1};if(m==="ar:/"&&E)return{uri:`${y}/${E}${_||""}`,isOnChain:!1,isEncoded:!1};let O=g.replace(s,"");if(O.startsWith("<svg")&&(O=`data:image/svg+xml;base64,${btoa(O)}`),O.startsWith("data:")||O.startsWith("{"))return{uri:O,isOnChain:!0,isEncoded:!1};throw new t.EnsAvatarUriResolutionError({uri:g})}function u(g){if(typeof g!="object"||!("image"in g)&&!("image_url"in g)&&!("image_data"in g))throw new t.EnsAvatarInvalidMetadataError({data:g});return g.image||g.image_url||g.image_data}async function l({gatewayUrls:g,uri:p}){try{const b=await fetch(p).then(y=>y.json());return await f({gatewayUrls:g,uri:u(b)})}catch{throw new t.EnsAvatarUriResolutionError({uri:p})}}async function f({gatewayUrls:g,uri:p}){const{uri:b,isOnChain:w}=c({uri:p,gatewayUrls:g});if(w||await o(b))return b;throw new t.EnsAvatarUriResolutionError({uri:p})}function d(g){let p=g;p.startsWith("did:nft:")&&(p=p.replace("did:nft:","").replace(/_/g,"/"));const[b,w,y]=p.split("/"),[v,m]=b.split(":"),[C,E]=w.split(":");if(!v||v.toLowerCase()!=="eip155")throw new t.EnsAvatarInvalidNftUriError({reason:"Only EIP-155 supported"});if(!m)throw new t.EnsAvatarInvalidNftUriError({reason:"Chain ID not found"});if(!E)throw new t.EnsAvatarInvalidNftUriError({reason:"Contract address not found"});if(!y)throw new t.EnsAvatarInvalidNftUriError({reason:"Token ID not found"});if(!C)throw new t.EnsAvatarInvalidNftUriError({reason:"ERC namespace not found"});return{chainID:Number.parseInt(m,10),namespace:C.toLowerCase(),contractAddress:E,tokenID:y}}async function h(g,{nft:p}){if(p.namespace==="erc721")return(0,e.readContract)(g,{address:p.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(p.tokenID)]});if(p.namespace==="erc1155")return(0,e.readContract)(g,{address:p.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(p.tokenID)]});throw new t.EnsAvatarUnsupportedNamespaceError({namespace:p.namespace})}return no}var yN;function Ime(){if(yN)return zw;yN=1,Object.defineProperty(zw,"__esModule",{value:!0}),zw.parseAvatarRecord=t;const e=xme();async function t(n,{gatewayUrls:i,record:s}){return/eip155:/i.test(s)?r(n,{gatewayUrls:i,record:s}):(0,e.parseAvatarUri)({uri:s,gatewayUrls:i})}async function r(n,{gatewayUrls:i,record:s}){const o=(0,e.parseNftUri)(s),a=await (0,e.getNftTokenUri)(n,{nft:o}),{uri:c,isOnChain:u,isEncoded:l}=(0,e.resolveAvatarUri)({uri:a,gatewayUrls:i});if(u&&(c.includes("data:application/json;base64,")||c.startsWith("{"))){const d=l?atob(c.replace("data:application/json;base64,","")):c,h=JSON.parse(d);return(0,e.parseAvatarUri)({uri:(0,e.getJsonImage)(h),gatewayUrls:i})}let f=o.tokenID;return o.namespace==="erc1155"&&(f=f.replace("0x","").padStart(64,"0")),(0,e.getMetadataAvatarUri)({gatewayUrls:i,uri:c.replace(/(?:0x)?{id}/,f)})}return zw}var Fw={},wN;function vY(){if(wN)return Fw;wN=1,Object.defineProperty(Fw,"__esModule",{value:!0}),Fw.getEnsText=f;const e=zu(),t=kc(),r=Ki(),n=Fu(),i=Oe(),s=RS(),o=TE(),a=kS(),c=NS(),u=mt(),l=Ea();async function f(d,h){const{blockNumber:g,blockTag:p,key:b,name:w,gatewayUrls:y,strict:v}=h,{chain:m}=d,C=(()=>{if(h.universalResolverAddress)return h.universalResolverAddress;if(!m)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,n.getChainContractAddress)({blockNumber:g,chain:m,contract:"ensUniversalResolver"})})(),E=m?.ensTlds;if(E&&!E.some(_=>w.endsWith(_)))return null;try{const _={address:C,abi:e.universalResolverResolveAbi,args:[(0,i.toHex)((0,c.packetToBytes)(w)),(0,r.encodeFunctionData)({abi:e.textResolverAbi,functionName:"text",args:[(0,a.namehash)(w),b]}),y??[o.localBatchGatewayUrl]],functionName:"resolveWithGateways",blockNumber:g,blockTag:p},x=await (0,u.getAction)(d,l.readContract,"readContract")(_);if(x[0]==="0x")return null;const O=(0,t.decodeFunctionResult)({abi:e.textResolverAbi,functionName:"text",data:x[0]});return O===""?null:O}catch(_){if(v)throw _;if((0,s.isNullUniversalResolverError)(_))return null;throw _}}return Fw}var vN;function Pme(){if(vN)return qw;vN=1,Object.defineProperty(qw,"__esModule",{value:!0}),qw.getEnsAvatar=n;const e=Ime(),t=mt(),r=vY();async function n(i,{blockNumber:s,blockTag:o,assetGatewayUrls:a,name:c,gatewayUrls:u,strict:l,universalResolverAddress:f}){const d=await (0,t.getAction)(i,r.getEnsText,"getEnsText")({blockNumber:s,blockTag:o,key:"avatar",name:c,universalResolverAddress:f,gatewayUrls:u,strict:l});if(!d)return null;try{return await (0,e.parseAvatarRecord)(i,{record:d,gatewayUrls:a})}catch{return null}}return qw}var Hw={},EN;function Sme(){if(EN)return Hw;EN=1,Object.defineProperty(Hw,"__esModule",{value:!0}),Hw.getEnsName=o;const e=zu(),t=Fu(),r=RS(),n=TE(),i=mt(),s=Ea();async function o(a,c){const{address:u,blockNumber:l,blockTag:f,coinType:d=60n,gatewayUrls:h,strict:g}=c,{chain:p}=a,b=(()=>{if(c.universalResolverAddress)return c.universalResolverAddress;if(!p)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,t.getChainContractAddress)({blockNumber:l,chain:p,contract:"ensUniversalResolver"})})();try{const w={address:b,abi:e.universalResolverReverseAbi,args:[u,d,h??[n.localBatchGatewayUrl]],functionName:"reverseWithGateways",blockNumber:l,blockTag:f},y=(0,i.getAction)(a,s.readContract,"readContract"),[v]=await y(w);return v||null}catch(w){if(g)throw w;if((0,r.isNullUniversalResolverError)(w))return null;throw w}}return Hw}var Ww={},_N;function Tme(){if(_N)return Ww;_N=1,Object.defineProperty(Ww,"__esModule",{value:!0}),Ww.getEnsResolver=s;const e=Fu(),t=Oe(),r=NS(),n=mt(),i=Ea();async function s(o,a){const{blockNumber:c,blockTag:u,name:l}=a,{chain:f}=o,d=(()=>{if(a.universalResolverAddress)return a.universalResolverAddress;if(!f)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,e.getChainContractAddress)({blockNumber:c,chain:f,contract:"ensUniversalResolver"})})(),h=f?.ensTlds;if(h&&!h.some(p=>l.endsWith(p)))throw new Error(`${l} is not a valid ENS TLD (${h?.join(", ")}) for chain "${f.name}" (id: ${f.id}).`);const[g]=await (0,n.getAction)(o,i.readContract,"readContract")({address:d,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,t.toHex)((0,r.packetToBytes)(l))],blockNumber:c,blockTag:u});return g}return Ww}var Vw={},CN;function EY(){if(CN)return Vw;CN=1,Object.defineProperty(Vw,"__esModule",{value:!0}),Vw.createAccessList=o;const e=yr(),t=Oe(),r=ES(),n=Uu(),i=No(),s=Do();async function o(a,c){const{account:u=a.account,blockNumber:l,blockTag:f="latest",blobs:d,data:h,gas:g,gasPrice:p,maxFeePerBlobGas:b,maxFeePerGas:w,maxPriorityFeePerGas:y,to:v,value:m,...C}=c,E=u?(0,e.parseAccount)(u):void 0;try{(0,s.assertRequest)(c);const P=(typeof l=="bigint"?(0,t.numberToHex)(l):void 0)||f,x=a.chain?.formatters?.transactionRequest?.format,D=(x||i.formatTransactionRequest)({...(0,n.extract)(C,{format:x}),account:E,blobs:d,data:h,gas:g,gasPrice:p,maxFeePerBlobGas:b,maxFeePerGas:w,maxPriorityFeePerGas:y,to:v,value:m},"createAccessList"),R=await a.request({method:"eth_createAccessList",params:[D,P]});return{accessList:R.accessList,gasUsed:BigInt(R.gasUsed)}}catch(_){throw(0,r.getCallError)(_,{...c,account:E,chain:a.chain})}}return Vw}var Gw={},AN;function Ome(){if(AN)return Gw;AN=1,Object.defineProperty(Gw,"__esModule",{value:!0}),Gw.createBlockFilter=t;const e=yE();async function t(r){const n=(0,e.createFilterRequestScope)(r,{method:"eth_newBlockFilter"}),i=await r.request({method:"eth_newBlockFilter"});return{id:i,request:n(i),type:"block"}}return Gw}var Kw={},xN;function _Y(){if(xN)return Kw;xN=1,Object.defineProperty(Kw,"__esModule",{value:!0}),Kw.createEventFilter=n;const e=Gd(),t=Oe(),r=yE();async function n(i,{address:s,args:o,event:a,events:c,fromBlock:u,strict:l,toBlock:f}={}){const d=c??(a?[a]:void 0),h=(0,r.createFilterRequestScope)(i,{method:"eth_newFilter"});let g=[];d&&(g=[d.flatMap(w=>(0,e.encodeEventTopics)({abi:[w],eventName:w.name,args:o}))],a&&(g=g[0]));const p=await i.request({method:"eth_newFilter",params:[{address:s,fromBlock:typeof u=="bigint"?(0,t.numberToHex)(u):u,toBlock:typeof f=="bigint"?(0,t.numberToHex)(f):f,...g.length?{topics:g}:{}}]});return{abi:d,args:o,eventName:a?a.name:void 0,fromBlock:u,id:p,request:h(p),strict:!!l,toBlock:f,type:"event"}}return Kw}var Zw={},IN;function CY(){if(IN)return Zw;IN=1,Object.defineProperty(Zw,"__esModule",{value:!0}),Zw.createPendingTransactionFilter=t;const e=yE();async function t(r){const n=(0,e.createFilterRequestScope)(r,{method:"eth_newPendingTransactionFilter"}),i=await r.request({method:"eth_newPendingTransactionFilter"});return{id:i,request:n(i),type:"transaction"}}return Zw}var Yw={},PN;function jme(){if(PN)return Yw;PN=1,Object.defineProperty(Yw,"__esModule",{value:!0}),Yw.getBalance=t;const e=Oe();async function t(r,{address:n,blockNumber:i,blockTag:s=r.experimental_blockTag??"latest"}){const o=typeof i=="bigint"?(0,e.numberToHex)(i):void 0,a=await r.request({method:"eth_getBalance",params:[n,o||s]});return BigInt(a)}return Yw}var Qw={},SN;function Bme(){if(SN)return Qw;SN=1,Object.defineProperty(Qw,"__esModule",{value:!0}),Qw.getBlobBaseFee=e;async function e(t){const r=await t.request({method:"eth_blobBaseFee"});return BigInt(r)}return Qw}var Jw={},TN;function Rme(){if(TN)return Jw;TN=1,Object.defineProperty(Jw,"__esModule",{value:!0}),Jw.getBlockTransactionCount=r;const e=Cr(),t=Oe();async function r(n,{blockHash:i,blockNumber:s,blockTag:o="latest"}={}){const a=s!==void 0?(0,t.numberToHex)(s):void 0;let c;return i?c=await n.request({method:"eth_getBlockTransactionCountByHash",params:[i]},{dedupe:!0}):c=await n.request({method:"eth_getBlockTransactionCountByNumber",params:[a||o]},{dedupe:!!a}),(0,e.hexToNumber)(c)}return Jw}var Xw={},ON;function AY(){if(ON)return Xw;ON=1,Object.defineProperty(Xw,"__esModule",{value:!0}),Xw.getCode=t;const e=Oe();async function t(r,{address:n,blockNumber:i,blockTag:s="latest"}){const o=i!==void 0?(0,e.numberToHex)(i):void 0,a=await r.request({method:"eth_getCode",params:[n,o||s]},{dedupe:!!o});if(a!=="0x")return a}return Xw}var ev={},tg={},jN;function kme(){if(jN)return tg;jN=1,Object.defineProperty(tg,"__esModule",{value:!0}),tg.Eip712DomainNotFoundError=void 0;const e=Ye();class t extends e.BaseError{constructor({address:n}){super(`No EIP-712 domain found on contract "${n}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${n}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}return tg.Eip712DomainNotFoundError=t,tg}var BN;function Nme(){if(BN)return ev;BN=1,Object.defineProperty(ev,"__esModule",{value:!0}),ev.getEip712Domain=n;const e=kme(),t=mt(),r=Ea();async function n(s,o){const{address:a,factory:c,factoryData:u}=o;try{const[l,f,d,h,g,p,b]=await (0,t.getAction)(s,r.readContract,"readContract")({abi:i,address:a,functionName:"eip712Domain",factory:c,factoryData:u});return{domain:{name:f,version:d,chainId:Number(h),verifyingContract:g,salt:p},extensions:b,fields:l}}catch(l){const f=l;throw f.name==="ContractFunctionExecutionError"&&f.cause.name==="ContractFunctionZeroDataError"?new e.Eip712DomainNotFoundError({address:a}):f}}const i=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];return ev}var tv={},rv={},RN;function Dme(){if(RN)return rv;RN=1,Object.defineProperty(rv,"__esModule",{value:!0}),rv.formatFeeHistory=e;function e(t){return{baseFeePerGas:t.baseFeePerGas.map(r=>BigInt(r)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(r=>r.map(n=>BigInt(n)))}}return rv}var kN;function $me(){if(kN)return tv;kN=1,Object.defineProperty(tv,"__esModule",{value:!0}),tv.getFeeHistory=r;const e=Oe(),t=Dme();async function r(n,{blockCount:i,blockNumber:s,blockTag:o="latest",rewardPercentiles:a}){const c=typeof s=="bigint"?(0,e.numberToHex)(s):void 0,u=await n.request({method:"eth_feeHistory",params:[(0,e.numberToHex)(i),c||o,a]},{dedupe:!!c});return(0,t.formatFeeHistory)(u)}return tv}var nv={},NN;function Mme(){if(NN)return nv;NN=1,Object.defineProperty(nv,"__esModule",{value:!0}),nv.getFilterLogs=r;const e=F1(),t=Rc();async function r(n,{filter:i}){const s=i.strict??!1,a=(await i.request({method:"eth_getFilterLogs",params:[i.id]})).map(c=>(0,t.formatLog)(c));return i.abi?(0,e.parseEventLogs)({abi:i.abi,logs:a,strict:s}):a}return nv}var iv={},sv={},a4={},ov={},DN;function xY(){if(DN)return ov;DN=1,Object.defineProperty(ov,"__esModule",{value:!0}),ov.encodePacked=a;const e=br(),t=Bo(),r=Gi(),n=An(),i=ku(),s=Oe(),o=bE();function a(u,l){if(u.length!==l.length)throw new e.AbiEncodingLengthMismatchError({expectedLength:u.length,givenLength:l.length});const f=[];for(let d=0;d<u.length;d++){const h=u[d],g=l[d];f.push(c(h,g))}return(0,n.concatHex)(f)}function c(u,l,f=!1){if(u==="address"){const p=l;if(!(0,r.isAddress)(p))throw new t.InvalidAddressError({address:p});return(0,i.pad)(p.toLowerCase(),{size:f?32:null})}if(u==="string")return(0,s.stringToHex)(l);if(u==="bytes")return l;if(u==="bool")return(0,i.pad)((0,s.boolToHex)(l),{size:f?32:1});const d=u.match(o.integerRegex);if(d){const[p,b,w="256"]=d,y=Number.parseInt(w,10)/8;return(0,s.numberToHex)(l,{size:f?32:y,signed:b==="int"})}const h=u.match(o.bytesRegex);if(h){const[p,b]=h;if(Number.parseInt(b,10)!==(l.length-2)/2)throw new e.BytesSizeMismatchError({expectedSize:Number.parseInt(b,10),givenSize:(l.length-2)/2});return(0,i.pad)(l,{dir:"right",size:f?32:null})}const g=u.match(o.arrayRegex);if(g&&Array.isArray(l)){const[p,b]=g,w=[];for(let y=0;y<l.length;y++)w.push(c(b,l[y],!0));return w.length===0?"0x":(0,n.concatHex)(w)}throw new e.UnsupportedPackedAbiType(u)}return ov}var Pf={},av={},$N;function $S(){if($N)return av;$N=1,Object.defineProperty(av,"__esModule",{value:!0}),av.isBytes=e;function e(t){return!t||typeof t!="object"||!("BYTES_PER_ELEMENT"in t)?!1:t.BYTES_PER_ELEMENT===1&&t.constructor.name==="Uint8Array"}return av}var MN;function IY(){if(MN)return Pf;MN=1,Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.getContractAddress=c,Pf.getCreateAddress=u,Pf.getCreate2Address=l;const e=An(),t=$S(),r=ku(),n=Ys(),i=Qt(),s=N1(),o=Vi(),a=Is();function c(f){return f.opcode==="CREATE2"?l(f):u(f)}function u(f){const d=(0,i.toBytes)((0,a.getAddress)(f.from));let h=(0,i.toBytes)(f.nonce);return h[0]===0&&(h=new Uint8Array([])),(0,a.getAddress)(`0x${(0,o.keccak256)((0,s.toRlp)([d,h],"bytes")).slice(26)}`)}function l(f){const d=(0,i.toBytes)((0,a.getAddress)(f.from)),h=(0,r.pad)((0,t.isBytes)(f.salt)?f.salt:(0,i.toBytes)(f.salt),{size:32}),g="bytecodeHash"in f?(0,t.isBytes)(f.bytecodeHash)?f.bytecodeHash:(0,i.toBytes)(f.bytecodeHash):(0,o.keccak256)(f.bytecode,"bytes");return(0,a.getAddress)((0,n.slice)((0,o.keccak256)((0,e.concat)([(0,i.toBytes)("0xff"),d,h,g])),12))}return Pf}var cv={},rg={},Wc={},LN;function NE(){if(LN)return Wc;LN=1,Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.assertTransactionEIP7702=f,Wc.assertTransactionEIP4844=d,Wc.assertTransactionEIP1559=h,Wc.assertTransactionEIP2930=g,Wc.assertTransactionLegacy=p;const e=sY(),t=dS(),r=Bo(),n=Ye(),i=oY(),s=W1(),o=Bc(),a=Gi(),c=Wi(),u=Ys(),l=Cr();function f(b){const{authorizationList:w}=b;if(w)for(const y of w){const{chainId:v}=y,m=y.address;if(!(0,a.isAddress)(m))throw new r.InvalidAddressError({address:m});if(v<0)throw new s.InvalidChainIdError({chainId:v})}h(b)}function d(b){const{blobVersionedHashes:w}=b;if(w){if(w.length===0)throw new i.EmptyBlobError;for(const y of w){const v=(0,c.size)(y),m=(0,l.hexToNumber)((0,u.slice)(y,0,1));if(v!==32)throw new i.InvalidVersionedHashSizeError({hash:y,size:v});if(m!==e.versionedHashVersionKzg)throw new i.InvalidVersionedHashVersionError({hash:y,version:m})}}h(b)}function h(b){const{chainId:w,maxPriorityFeePerGas:y,maxFeePerGas:v,to:m}=b;if(w<=0)throw new s.InvalidChainIdError({chainId:w});if(m&&!(0,a.isAddress)(m))throw new r.InvalidAddressError({address:m});if(v&&v>t.maxUint256)throw new o.FeeCapTooHighError({maxFeePerGas:v});if(y&&v&&y>v)throw new o.TipAboveFeeCapError({maxFeePerGas:v,maxPriorityFeePerGas:y})}function g(b){const{chainId:w,maxPriorityFeePerGas:y,gasPrice:v,maxFeePerGas:m,to:C}=b;if(w<=0)throw new s.InvalidChainIdError({chainId:w});if(C&&!(0,a.isAddress)(C))throw new r.InvalidAddressError({address:C});if(y||m)throw new n.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(v&&v>t.maxUint256)throw new o.FeeCapTooHighError({maxFeePerGas:v})}function p(b){const{chainId:w,maxPriorityFeePerGas:y,gasPrice:v,maxFeePerGas:m,to:C}=b;if(C&&!(0,a.isAddress)(C))throw new r.InvalidAddressError({address:C});if(typeof w<"u"&&w<=0)throw new s.InvalidChainIdError({chainId:w});if(y||m)throw new n.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(v&&v>t.maxUint256)throw new o.FeeCapTooHighError({maxFeePerGas:v})}return Wc}var uv={},UN;function MS(){if(UN)return uv;UN=1,Object.defineProperty(uv,"__esModule",{value:!0}),uv.serializeAccessList=n;const e=Bo(),t=Zi(),r=Gi();function n(i){if(!i||i.length===0)return[];const s=[];for(let o=0;o<i.length;o++){const{address:a,storageKeys:c}=i[o];for(let u=0;u<c.length;u++)if(c[u].length-2!==64)throw new t.InvalidStorageKeySizeError({storageKey:c[u]});if(!(0,r.isAddress)(a,{strict:!1}))throw new e.InvalidAddressError({address:a});s.push([a,c])}return s}return uv}var qN;function DE(){if(qN)return rg;qN=1,Object.defineProperty(rg,"__esModule",{value:!0}),rg.serializeTransaction=h,rg.toYParitySignatureArray=v;const e=Zi(),t=PY(),r=AE(),n=xE(),i=mS(),s=IE(),o=An(),a=Oc(),c=Oe(),u=N1(),l=NE(),f=PE(),d=MS();function h(m,C){const E=(0,f.getTransactionType)(m);return E==="eip1559"?b(m,C):E==="eip2930"?w(m,C):E==="eip4844"?p(m,C):E==="eip7702"?g(m,C):y(m,C)}function g(m,C){const{authorizationList:E,chainId:_,gas:P,nonce:x,to:O,value:D,maxFeePerGas:R,maxPriorityFeePerGas:k,accessList:T,data:S}=m;(0,l.assertTransactionEIP7702)(m);const I=(0,d.serializeAccessList)(T),A=(0,t.serializeAuthorizationList)(E);return(0,o.concatHex)(["0x04",(0,u.toRlp)([(0,c.numberToHex)(_),x?(0,c.numberToHex)(x):"0x",k?(0,c.numberToHex)(k):"0x",R?(0,c.numberToHex)(R):"0x",P?(0,c.numberToHex)(P):"0x",O??"0x",D?(0,c.numberToHex)(D):"0x",S??"0x",I,A,...v(m,C)])])}function p(m,C){const{chainId:E,gas:_,nonce:P,to:x,value:O,maxFeePerBlobGas:D,maxFeePerGas:R,maxPriorityFeePerGas:k,accessList:T,data:S}=m;(0,l.assertTransactionEIP4844)(m);let I=m.blobVersionedHashes,A=m.sidecars;if(m.blobs&&(typeof I>"u"||typeof A>"u")){const L=typeof m.blobs[0]=="string"?m.blobs:m.blobs.map(F=>(0,c.bytesToHex)(F)),q=m.kzg,U=(0,r.blobsToCommitments)({blobs:L,kzg:q});if(typeof I>"u"&&(I=(0,i.commitmentsToVersionedHashes)({commitments:U})),typeof A>"u"){const F=(0,n.blobsToProofs)({blobs:L,commitments:U,kzg:q});A=(0,s.toBlobSidecars)({blobs:L,commitments:U,proofs:F})}}const j=(0,d.serializeAccessList)(T),N=[(0,c.numberToHex)(E),P?(0,c.numberToHex)(P):"0x",k?(0,c.numberToHex)(k):"0x",R?(0,c.numberToHex)(R):"0x",_?(0,c.numberToHex)(_):"0x",x??"0x",O?(0,c.numberToHex)(O):"0x",S??"0x",j,D?(0,c.numberToHex)(D):"0x",I??[],...v(m,C)],B=[],$=[],M=[];if(A)for(let L=0;L<A.length;L++){const{blob:q,commitment:U,proof:F}=A[L];B.push(q),$.push(U),M.push(F)}return(0,o.concatHex)(["0x03",A?(0,u.toRlp)([N,B,$,M]):(0,u.toRlp)(N)])}function b(m,C){const{chainId:E,gas:_,nonce:P,to:x,value:O,maxFeePerGas:D,maxPriorityFeePerGas:R,accessList:k,data:T}=m;(0,l.assertTransactionEIP1559)(m);const S=(0,d.serializeAccessList)(k),I=[(0,c.numberToHex)(E),P?(0,c.numberToHex)(P):"0x",R?(0,c.numberToHex)(R):"0x",D?(0,c.numberToHex)(D):"0x",_?(0,c.numberToHex)(_):"0x",x??"0x",O?(0,c.numberToHex)(O):"0x",T??"0x",S,...v(m,C)];return(0,o.concatHex)(["0x02",(0,u.toRlp)(I)])}function w(m,C){const{chainId:E,gas:_,data:P,nonce:x,to:O,value:D,accessList:R,gasPrice:k}=m;(0,l.assertTransactionEIP2930)(m);const T=(0,d.serializeAccessList)(R),S=[(0,c.numberToHex)(E),x?(0,c.numberToHex)(x):"0x",k?(0,c.numberToHex)(k):"0x",_?(0,c.numberToHex)(_):"0x",O??"0x",D?(0,c.numberToHex)(D):"0x",P??"0x",T,...v(m,C)];return(0,o.concatHex)(["0x01",(0,u.toRlp)(S)])}function y(m,C){const{chainId:E=0,gas:_,data:P,nonce:x,to:O,value:D,gasPrice:R}=m;(0,l.assertTransactionLegacy)(m);let k=[x?(0,c.numberToHex)(x):"0x",R?(0,c.numberToHex)(R):"0x",_?(0,c.numberToHex)(_):"0x",O??"0x",D?(0,c.numberToHex)(D):"0x",P??"0x"];if(C){const T=(()=>{if(C.v>=35n)return(C.v-35n)/2n>0?C.v:27n+(C.v===35n?0n:1n);if(E>0)return BigInt(E*2)+BigInt(35n+C.v-27n);const A=27n+(C.v===27n?0n:1n);if(C.v!==A)throw new e.InvalidLegacyVError({v:C.v});return A})(),S=(0,a.trim)(C.r),I=(0,a.trim)(C.s);k=[...k,(0,c.numberToHex)(T),S==="0x00"?"0x":S,I==="0x00"?"0x":I]}else E>0&&(k=[...k,(0,c.numberToHex)(E),"0x","0x"]);return(0,u.toRlp)(k)}function v(m,C){const E=C??m,{v:_,yParity:P}=E;if(typeof E.r>"u")return[];if(typeof E.s>"u")return[];if(typeof _>"u"&&typeof P>"u")return[];const x=(0,a.trim)(E.r),O=(0,a.trim)(E.s);return[typeof P=="number"?P?(0,c.numberToHex)(1):"0x":_===0n?"0x":_===1n?(0,c.numberToHex)(1):_===27n?"0x":(0,c.numberToHex)(1),x==="0x00"?"0x":x,O==="0x00"?"0x":O]}return rg}var zN;function PY(){if(zN)return cv;zN=1,Object.defineProperty(cv,"__esModule",{value:!0}),cv.serializeAuthorizationList=r;const e=Oe(),t=DE();function r(n){if(!n||n.length===0)return[];const i=[];for(const s of n){const{chainId:o,nonce:a,...c}=s,u=s.address;i.push([o?(0,e.toHex)(o):"0x",u,a?(0,e.toHex)(a):"0x",...(0,t.toYParitySignatureArray)({},c)])}return i}return cv}var lv={},FN;function SY(){if(FN)return lv;FN=1,Object.defineProperty(lv,"__esModule",{value:!0}),lv.verifyAuthorization=n;const e=Is(),t=$o(),r=D1();async function n({address:i,authorization:s,signature:o}){return(0,t.isAddressEqual)((0,e.getAddress)(i),await (0,r.recoverAuthorizationAddress)({authorization:s,signature:o}))}return lv}var ng={},c4={},HN;function Lme(){return HN||(HN=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.promiseCache=void 0,e.withDedupe=r;const t=Wd();e.promiseCache=new t.LruMap(8192);function r(n,{enabled:i=!0,id:s}){if(!i||!s)return n();if(e.promiseCache.get(s))return e.promiseCache.get(s);const o=n().finally(()=>e.promiseCache.delete(s));return e.promiseCache.set(s,o),o}})(c4)),c4}var WN;function TY(){if(WN)return ng;WN=1,Object.defineProperty(ng,"__esModule",{value:!0}),ng.buildRequest=a,ng.shouldRetry=c;const e=Ye(),t=ko(),r=$u(),n=Oe(),i=Lme(),s=RE(),o=Dn();function a(u,l={}){return async(f,d={})=>{const{dedupe:h=!1,methods:g,retryDelay:p=150,retryCount:b=3,uid:w}={...l,...d},{method:y}=f;if(g?.exclude?.includes(y))throw new r.MethodNotSupportedRpcError(new Error("method not supported"),{method:y});if(g?.include&&!g.include.includes(y))throw new r.MethodNotSupportedRpcError(new Error("method not supported"),{method:y});const v=h?(0,n.stringToHex)(`${w}.${(0,o.stringify)(f)}`):void 0;return(0,i.withDedupe)(()=>(0,s.withRetry)(async()=>{try{return await u(f)}catch(m){const C=m;switch(C.code){case r.ParseRpcError.code:throw new r.ParseRpcError(C);case r.InvalidRequestRpcError.code:throw new r.InvalidRequestRpcError(C);case r.MethodNotFoundRpcError.code:throw new r.MethodNotFoundRpcError(C,{method:f.method});case r.InvalidParamsRpcError.code:throw new r.InvalidParamsRpcError(C);case r.InternalRpcError.code:throw new r.InternalRpcError(C);case r.InvalidInputRpcError.code:throw new r.InvalidInputRpcError(C);case r.ResourceNotFoundRpcError.code:throw new r.ResourceNotFoundRpcError(C);case r.ResourceUnavailableRpcError.code:throw new r.ResourceUnavailableRpcError(C);case r.TransactionRejectedRpcError.code:throw new r.TransactionRejectedRpcError(C);case r.MethodNotSupportedRpcError.code:throw new r.MethodNotSupportedRpcError(C,{method:f.method});case r.LimitExceededRpcError.code:throw new r.LimitExceededRpcError(C);case r.JsonRpcVersionUnsupportedError.code:throw new r.JsonRpcVersionUnsupportedError(C);case r.UserRejectedRequestError.code:throw new r.UserRejectedRequestError(C);case r.UnauthorizedProviderError.code:throw new r.UnauthorizedProviderError(C);case r.UnsupportedProviderMethodError.code:throw new r.UnsupportedProviderMethodError(C);case r.ProviderDisconnectedError.code:throw new r.ProviderDisconnectedError(C);case r.ChainDisconnectedError.code:throw new r.ChainDisconnectedError(C);case r.SwitchChainError.code:throw new r.SwitchChainError(C);case r.UnsupportedNonOptionalCapabilityError.code:throw new r.UnsupportedNonOptionalCapabilityError(C);case r.UnsupportedChainIdError.code:throw new r.UnsupportedChainIdError(C);case r.DuplicateIdError.code:throw new r.DuplicateIdError(C);case r.UnknownBundleIdError.code:throw new r.UnknownBundleIdError(C);case r.BundleTooLargeError.code:throw new r.BundleTooLargeError(C);case r.AtomicReadyWalletRejectedUpgradeError.code:throw new r.AtomicReadyWalletRejectedUpgradeError(C);case r.AtomicityNotSupportedError.code:throw new r.AtomicityNotSupportedError(C);case 5e3:throw new r.UserRejectedRequestError(C);default:throw m instanceof e.BaseError?m:new r.UnknownRpcError(C)}}},{delay:({count:m,error:C})=>{if(C&&C instanceof t.HttpRequestError){const E=C?.headers?.get("Retry-After");if(E?.match(/\d/))return Number.parseInt(E,10)*1e3}return~~(1<<m)*p},retryCount:b,shouldRetry:({error:m})=>c(m)}),{enabled:h,id:v})}}function c(u){return"code"in u&&typeof u.code=="number"?u.code===-1||u.code===r.LimitExceededRpcError.code||u.code===r.InternalRpcError.code:u instanceof t.HttpRequestError&&u.status?u.status===403||u.status===408||u.status===413||u.status===429||u.status===500||u.status===502||u.status===503||u.status===504:!0}return ng}var ig={},VN;function OY(){if(VN)return ig;VN=1,Object.defineProperty(ig,"__esModule",{value:!0}),ig.defineChain=e,ig.extendSchema=t;function e(r){const n={formatters:void 0,fees:void 0,serializers:void 0,...r};function i(s){return o=>{const a=typeof o=="function"?o(s):o,c={...s,...a};return Object.assign(c,{extend:i(c)})}}return Object.assign(n,{extend:i(n)})}function t(){return{}}return ig}var dv={},GN;function jY(){if(GN)return dv;GN=1,Object.defineProperty(dv,"__esModule",{value:!0}),dv.extractChain=e;function e({chains:t,id:r}){return t.find(n=>n.id===r)}return dv}var fv={},KN;function LS(){if(KN)return fv;KN=1,Object.defineProperty(fv,"__esModule",{value:!0}),fv.fromRlp=s;const e=Ye(),t=Lp(),r=O1(),n=Qt(),i=Oe();function s(u,l="hex"){const f=(()=>{if(typeof u=="string"){if(u.length>3&&u.length%2!==0)throw new t.InvalidHexValueError(u);return(0,n.hexToBytes)(u)}return u})(),d=(0,r.createCursor)(f,{recursiveReadLimit:Number.POSITIVE_INFINITY});return o(d,l)}function o(u,l="hex"){if(u.bytes.length===0)return l==="hex"?(0,i.bytesToHex)(u.bytes):u.bytes;const f=u.readByte();if(f<128&&u.decrementPosition(1),f<192){const h=a(u,f,128),g=u.readBytes(h);return l==="hex"?(0,i.bytesToHex)(g):g}const d=a(u,f,192);return c(u,d,l)}function a(u,l,f){if(f===128&&l<128)return 1;if(l<=f+55)return l-f;if(l===f+55+1)return u.readUint8();if(l===f+55+2)return u.readUint16();if(l===f+55+3)return u.readUint24();if(l===f+55+4)return u.readUint32();throw new e.BaseError("Invalid RLP prefix")}function c(u,l,f){const d=u.position,h=[];for(;u.position-d<l;)h.push(o(u,f));return h}return fv}var hv={},ZN;function US(){if(ZN)return hv;ZN=1,Object.defineProperty(hv,"__esModule",{value:!0}),hv.isHash=r;const e=wi(),t=Wi();function r(n){return(0,e.isHex)(n)&&(0,t.size)(n)===32}return hv}var pv={},ul={},ni={},YN;function Ume(){if(YN)return ni;YN=1,Object.defineProperty(ni,"__esModule",{value:!0}),ni.ripemd160=ni.RIPEMD160=ni.md5=ni.MD5=ni.sha1=ni.SHA1=void 0;const e=Ene(),t=ju(),r=Uint32Array.from([0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0]),n=new Uint32Array(80);class i extends e.HashMD{constructor(){super(64,20,8,!1),this.A=r[0]|0,this.B=r[1]|0,this.C=r[2]|0,this.D=r[3]|0,this.E=r[4]|0}get(){const{A:x,B:O,C:D,D:R,E:k}=this;return[x,O,D,R,k]}set(x,O,D,R,k){this.A=x|0,this.B=O|0,this.C=D|0,this.D=R|0,this.E=k|0}process(x,O){for(let I=0;I<16;I++,O+=4)n[I]=x.getUint32(O,!1);for(let I=16;I<80;I++)n[I]=(0,t.rotl)(n[I-3]^n[I-8]^n[I-14]^n[I-16],1);let{A:D,B:R,C:k,D:T,E:S}=this;for(let I=0;I<80;I++){let A,j;I<20?(A=(0,e.Chi)(R,k,T),j=0x5a827999):I<40?(A=R^k^T,j=0x6ed9eba1):I<60?(A=(0,e.Maj)(R,k,T),j=0x8f1bbcdc):(A=R^k^T,j=0xca62c1d6);const N=(0,t.rotl)(D,5)+A+S+j+n[I]|0;S=T,T=k,k=(0,t.rotl)(R,30),R=D,D=N}D=D+this.A|0,R=R+this.B|0,k=k+this.C|0,T=T+this.D|0,S=S+this.E|0,this.set(D,R,k,T,S)}roundClean(){(0,t.clean)(n)}destroy(){this.set(0,0,0,0,0),(0,t.clean)(this.buffer)}}ni.SHA1=i,ni.sha1=(0,t.createHasher)(()=>new i);const s=Math.pow(2,32),o=Array.from({length:64},(P,x)=>Math.floor(s*Math.abs(Math.sin(x+1)))),a=r.slice(0,4),c=new Uint32Array(16);class u extends e.HashMD{constructor(){super(64,16,8,!0),this.A=a[0]|0,this.B=a[1]|0,this.C=a[2]|0,this.D=a[3]|0}get(){const{A:x,B:O,C:D,D:R}=this;return[x,O,D,R]}set(x,O,D,R){this.A=x|0,this.B=O|0,this.C=D|0,this.D=R|0}process(x,O){for(let S=0;S<16;S++,O+=4)c[S]=x.getUint32(O,!0);let{A:D,B:R,C:k,D:T}=this;for(let S=0;S<64;S++){let I,A,j;S<16?(I=(0,e.Chi)(R,k,T),A=S,j=[7,12,17,22]):S<32?(I=(0,e.Chi)(T,R,k),A=(5*S+1)%16,j=[5,9,14,20]):S<48?(I=R^k^T,A=(3*S+5)%16,j=[4,11,16,23]):(I=k^(R|~T),A=7*S%16,j=[6,10,15,21]),I=I+D+o[S]+c[A],D=T,T=k,k=R,R=R+(0,t.rotl)(I,j[S%4])}D=D+this.A|0,R=R+this.B|0,k=k+this.C|0,T=T+this.D|0,this.set(D,R,k,T)}roundClean(){(0,t.clean)(c)}destroy(){this.set(0,0,0,0),(0,t.clean)(this.buffer)}}ni.MD5=u,ni.md5=(0,t.createHasher)(()=>new u);const l=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),f=Uint8Array.from(new Array(16).fill(0).map((P,x)=>x)),d=f.map(P=>(9*P+5)%16),h=(()=>{const O=[[f],[d]];for(let D=0;D<4;D++)for(let R of O)R.push(R[D].map(k=>l[k]));return O})(),g=h[0],p=h[1],b=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(P=>Uint8Array.from(P)),w=g.map((P,x)=>P.map(O=>b[x][O])),y=p.map((P,x)=>P.map(O=>b[x][O])),v=Uint32Array.from([0,0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xa953fd4e]),m=Uint32Array.from([0x50a28be6,0x5c4dd124,0x6d703ef3,0x7a6d76e9,0]);function C(P,x,O,D){return P===0?x^O^D:P===1?x&O|~x&D:P===2?(x|~O)^D:P===3?x&D|O&~D:x^(O|~D)}const E=new Uint32Array(16);class _ extends e.HashMD{constructor(){super(64,20,8,!0),this.h0=0x67452301,this.h1=-0x10325477,this.h2=-0x67452302,this.h3=0x10325476,this.h4=-0x3c2d1e10}get(){const{h0:x,h1:O,h2:D,h3:R,h4:k}=this;return[x,O,D,R,k]}set(x,O,D,R,k){this.h0=x|0,this.h1=O|0,this.h2=D|0,this.h3=R|0,this.h4=k|0}process(x,O){for(let $=0;$<16;$++,O+=4)E[$]=x.getUint32(O,!0);let D=this.h0|0,R=D,k=this.h1|0,T=k,S=this.h2|0,I=S,A=this.h3|0,j=A,N=this.h4|0,B=N;for(let $=0;$<5;$++){const M=4-$,L=v[$],q=m[$],U=g[$],F=p[$],H=w[$],V=y[$];for(let W=0;W<16;W++){const Z=(0,t.rotl)(D+C($,k,S,A)+E[U[W]]+L,H[W])+N|0;D=N,N=A,A=(0,t.rotl)(S,10)|0,S=k,k=Z}for(let W=0;W<16;W++){const Z=(0,t.rotl)(R+C(M,T,I,j)+E[F[W]]+q,V[W])+B|0;R=B,B=j,j=(0,t.rotl)(I,10)|0,I=T,T=Z}}this.set(this.h1+S+j|0,this.h2+A+B|0,this.h3+N+R|0,this.h4+D+T|0,this.h0+k+I|0)}roundClean(){(0,t.clean)(E)}destroy(){this.destroyed=!0,(0,t.clean)(this.buffer),this.set(0,0,0,0,0)}}return ni.RIPEMD160=_,ni.ripemd160=(0,t.createHasher)(()=>new _),ni}var QN;function BY(){if(QN)return ul;QN=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.ripemd160=ul.RIPEMD160=void 0;const e=Ume();return ul.RIPEMD160=e.RIPEMD160,ul.ripemd160=e.ripemd160,ul}var JN;function RY(){if(JN)return pv;JN=1,Object.defineProperty(pv,"__esModule",{value:!0}),pv.ripemd160=i;const e=BY(),t=wi(),r=Qt(),n=Oe();function i(s,o){const a=o||"hex",c=(0,e.ripemd160)((0,t.isHex)(s,{strict:!1})?(0,r.toBytes)(s):s);return a==="bytes"?c:(0,n.toHex)(c)}return pv}var u4={},XN;function kY(){return XN||(XN=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toEventHash=void 0;var t=mE();Object.defineProperty(e,"toEventHash",{enumerable:!0,get:function(){return t.toSignatureHash}})})(u4)),u4}var l4={},eD;function NY(){return eD||(eD=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toEventSignature=void 0;var t=nS();Object.defineProperty(e,"toEventSignature",{enumerable:!0,get:function(){return t.toSignature}})})(l4)),l4}var d4={},tD;function DY(){return tD||(tD=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toFunctionHash=void 0;var t=mE();Object.defineProperty(e,"toFunctionHash",{enumerable:!0,get:function(){return t.toSignatureHash}})})(d4)),d4}var f4={},rD;function $Y(){return rD||(rD=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toFunctionSignature=void 0;var t=nS();Object.defineProperty(e,"toFunctionSignature",{enumerable:!0,get:function(){return t.toSignature}})})(f4)),f4}var ll={},nD;function MY(){if(nD)return ll;nD=1,Object.defineProperty(ll,"__esModule",{value:!0}),ll.nonceManager=void 0,ll.createNonceManager=r,ll.jsonRpc=n;const e=CE(),t=Wd();function r(i){const{source:s}=i,o=new Map,a=new t.LruMap(8192),c=new Map,u=({address:l,chainId:f})=>`${l}.${f}`;return{async consume({address:l,chainId:f,client:d}){const h=u({address:l,chainId:f}),g=this.get({address:l,chainId:f,client:d});this.increment({address:l,chainId:f});const p=await g;return await s.set({address:l,chainId:f},p),a.set(h,p),p},async increment({address:l,chainId:f}){const d=u({address:l,chainId:f}),h=o.get(d)??0;o.set(d,h+1)},async get({address:l,chainId:f,client:d}){const h=u({address:l,chainId:f});let g=c.get(h);return g||(g=(async()=>{try{const b=await s.get({address:l,chainId:f,client:d}),w=a.get(h)??0;return w>0&&b<=w?w+1:(a.delete(h),b)}finally{this.reset({address:l,chainId:f})}})(),c.set(h,g)),(o.get(h)??0)+await g},reset({address:l,chainId:f}){const d=u({address:l,chainId:f});o.delete(d),c.delete(d)}}}function n(){return{async get(i){const{address:s,client:o}=i;return(0,e.getTransactionCount)(o,{address:s,blockTag:"pending"})},set(){}}}return ll.nonceManager=r({source:n()}),ll}var Sf={},sg={},gv={},iD;function qS(){if(iD)return gv;iD=1,Object.defineProperty(gv,"__esModule",{value:!0}),gv.withTimeout=e;function e(t,{errorInstance:r=new Error("timed out"),timeout:n,signal:i}){return new Promise((s,o)=>{(async()=>{let a;try{const c=new AbortController;n>0&&(a=setTimeout(()=>{i?c.abort():o(r)},n)),s(await t({signal:c?.signal||null}))}catch(c){c?.name==="AbortError"&&o(r),o(c)}finally{clearTimeout(a)}})()})}return gv}var og={},sD;function LY(){if(sD)return og;sD=1,Object.defineProperty(og,"__esModule",{value:!0}),og.idCache=void 0;function e(){return{current:0,take(){return this.current++},reset(){this.current=0}}}return og.idCache=e(),og}var oD;function zS(){if(oD)return sg;oD=1,Object.defineProperty(sg,"__esModule",{value:!0}),sg.getHttpRpcClient=i,sg.parseUrl=s;const e=ko(),t=qS(),r=Dn(),n=LY();function i(o,a={}){const{url:c,headers:u}=s(o);return{async request(l){const{body:f,fetchFn:d=a.fetchFn??fetch,onRequest:h=a.onRequest,onResponse:g=a.onResponse,timeout:p=a.timeout??1e4}=l,b={...a.fetchOptions??{},...l.fetchOptions??{}},{headers:w,method:y,signal:v}=b;try{const m=await (0,t.withTimeout)(async({signal:E})=>{const _={...b,body:Array.isArray(f)?(0,r.stringify)(f.map(D=>({jsonrpc:"2.0",id:D.id??n.idCache.take(),...D}))):(0,r.stringify)({jsonrpc:"2.0",id:f.id??n.idCache.take(),...f}),headers:{...u,"Content-Type":"application/json",...w},method:y||"POST",signal:v||(p>0?E:null)},P=new Request(c,_),x=await h?.(P,_)??{..._,url:c};return await d(x.url??c,x)},{errorInstance:new e.TimeoutError({body:f,url:c}),timeout:p,signal:!0});g&&await g(m);let C;if(m.headers.get("Content-Type")?.startsWith("application/json"))C=await m.json();else{C=await m.text();try{C=JSON.parse(C||"{}")}catch(E){if(m.ok)throw E;C={error:C}}}if(!m.ok)throw new e.HttpRequestError({body:f,details:(0,r.stringify)(C.error)||m.statusText,headers:m.headers,status:m.status,url:c});return C}catch(m){throw m instanceof e.HttpRequestError||m instanceof e.TimeoutError?m:new e.HttpRequestError({body:f,cause:m,url:c})}}}}function s(o){try{const a=new URL(o),c=(()=>{if(a.username){const u=`${decodeURIComponent(a.username)}:${decodeURIComponent(a.password)}`;return a.username="",a.password="",{url:a.toString(),headers:{Authorization:`Basic ${btoa(u)}`}}}})();return{url:a.toString(),...c}}catch{return{url:o}}}return sg}var mv={},h4={},aD;function UY(){return aD||(aD=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.socketClientCache=void 0,e.getSocketRpcClient=s;const t=ko(),r=CS(),n=qS(),i=LY();e.socketClientCache=new Map;async function s(o){const{getSocket:a,keepAlive:c=!0,key:u="socket",reconnect:l=!0,url:f}=o,{interval:d=3e4}=typeof c=="object"?c:{},{attempts:h=5,delay:g=2e3}=typeof l=="object"?l:{},p=JSON.stringify({keepAlive:c,key:u,url:f,reconnect:l});let b=e.socketClientCache.get(p);if(b)return b;let w=0;const{schedule:y}=(0,r.createBatchScheduler)({id:p,fn:async()=>{const C=new Map,E=new Map;let _,P,x,O=!1;function D(){if(l&&w<h){if(O)return;O=!0,w++,P?.close(),setTimeout(async()=>{await R().catch(console.error),O=!1},g)}else C.clear(),E.clear()}async function R(){const k=await a({onClose(){for(const T of C.values())T.onError?.(new t.SocketClosedError({url:f}));for(const T of E.values())T.onError?.(new t.SocketClosedError({url:f}));D()},onError(T){_=T;for(const S of C.values())S.onError?.(_);for(const S of E.values())S.onError?.(_);D()},onOpen(){_=void 0,w=0},onResponse(T){const S=T.method==="eth_subscription",I=S?T.params.subscription:T.id,A=S?E:C,j=A.get(I);j&&j.onResponse(T),S||A.delete(I)}});if(P=k,c&&(x&&clearInterval(x),x=setInterval(()=>P.ping?.(),d)),l&&E.size>0){const T=E.entries();for(const[S,{onResponse:I,body:A,onError:j}]of T)A&&(E.delete(S),b?.request({body:A,onResponse:I,onError:j}))}return k}return await R(),_=void 0,b={close(){x&&clearInterval(x),P.close(),e.socketClientCache.delete(p)},get socket(){return P},request({body:k,onError:T,onResponse:S}){_&&T&&T(_);const I=k.id??i.idCache.take(),A=j=>{typeof j.id=="number"&&I!==j.id||(k.method==="eth_subscribe"&&typeof j.result=="string"&&E.set(j.result,{onResponse:A,onError:T,body:k}),S(j))};k.method==="eth_unsubscribe"&&E.delete(k.params?.[0]),C.set(I,{onResponse:A,onError:T});try{P.request({body:{jsonrpc:"2.0",id:I,...k}})}catch(j){T?.(j)}},requestAsync({body:k,timeout:T=1e4}){return(0,n.withTimeout)(()=>new Promise((S,I)=>this.request({body:k,onError:I,onResponse:S})),{errorInstance:new t.TimeoutError({body:k,url:f}),timeout:T})},requests:C,subscriptions:E,url:f},e.socketClientCache.set(p,b),[b]}}),[v,[m]]=await y();return m}})(h4)),h4}const qme=OP(Rge);var cD;function FS(){if(cD)return mv;cD=1,Object.defineProperty(mv,"__esModule",{value:!0}),mv.getWebSocketRpcClient=r;const e=ko(),t=UY();async function r(n,i={}){const{keepAlive:s,reconnect:o}=i;return(0,t.getSocketRpcClient)({async getSocket({onClose:a,onError:c,onOpen:u,onResponse:l}){const f=await Promise.resolve().then(()=>qme).then(b=>b.WebSocket),d=new f(n);function h(){d.removeEventListener("close",h),d.removeEventListener("message",g),d.removeEventListener("error",c),d.removeEventListener("open",u),a()}function g({data:b}){if(!(typeof b=="string"&&b.trim().length===0))try{const w=JSON.parse(b);l(w)}catch(w){c(w)}}d.addEventListener("close",h),d.addEventListener("message",g),d.addEventListener("error",c),d.addEventListener("open",u),d.readyState===f.CONNECTING&&await new Promise((b,w)=>{d&&(d.onopen=b,d.onerror=w)});const{close:p}=d;return Object.assign(d,{close(){p.bind(d)(),h()},ping(){try{if(d.readyState===d.CLOSED||d.readyState===d.CLOSING)throw new e.WebSocketRequestError({url:d.url,cause:new e.SocketClosedError({url:d.url})});const b={jsonrpc:"2.0",id:null,method:"net_version",params:[]};d.send(JSON.stringify(b))}catch(b){c(b)}},request({body:b}){if(d.readyState===d.CLOSED||d.readyState===d.CLOSING)throw new e.WebSocketRequestError({body:b,url:d.url,cause:new e.SocketClosedError({url:d.url})});return d.send(JSON.stringify(b))}})},keepAlive:s,reconnect:o,url:n})}return mv}var uD;function qY(){if(uD)return Sf;uD=1,Object.defineProperty(Sf,"__esModule",{value:!0}),Sf.rpc=void 0,Sf.getSocket=i;const e=zS(),t=FS();function r(s,{body:o,onError:a,onResponse:c}){return s.request({body:o,onError:a,onResponse:c}),s}async function n(s,{body:o,timeout:a=1e4}){return s.requestAsync({body:o,timeout:a})}async function i(s){const o=await (0,t.getWebSocketRpcClient)(s);return Object.assign(o.socket,{requests:o.requests,subscriptions:o.subscriptions})}return Sf.rpc={http(s,o){return(0,e.getHttpRpcClient)(s).request(o)},webSocket:r,webSocketAsync:n},Sf}var bv={},yv={},ag={},lD;function zY(){return lD||(lD=1,Object.defineProperty(ag,"__esModule",{value:!0}),ag.presignMessagePrefix=void 0,ag.presignMessagePrefix=`Ethereum Signed Message:
`),ag}var dD;function FY(){if(dD)return yv;dD=1,Object.defineProperty(yv,"__esModule",{value:!0}),yv.toPrefixedMessage=i;const e=zY(),t=An(),r=Wi(),n=Oe();function i(s){const o=typeof s=="string"?(0,n.stringToHex)(s):typeof s.raw=="string"?s.raw:(0,n.bytesToHex)(s.raw),a=(0,n.stringToHex)(`${e.presignMessagePrefix}${(0,r.size)(o)}`);return(0,t.concat)([a,o])}return yv}var fD;function Q1(){if(fD)return bv;fD=1,Object.defineProperty(bv,"__esModule",{value:!0}),bv.hashMessage=r;const e=Vi(),t=FY();function r(n,i){return(0,e.keccak256)((0,t.toPrefixedMessage)(n),i)}return bv}var dl={},fl={},Ua={},hD;function HY(){if(hD)return Ua;hD=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.InvalidStructTypeError=Ua.InvalidPrimaryTypeError=Ua.InvalidDomainError=void 0;const e=Dn(),t=Ye();class r extends t.BaseError{constructor({domain:o}){super(`Invalid domain "${(0,e.stringify)(o)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}Ua.InvalidDomainError=r;class n extends t.BaseError{constructor({primaryType:o,types:a}){super(`Invalid primary type \`${o}\` must be one of \`${JSON.stringify(Object.keys(a))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}Ua.InvalidPrimaryTypeError=n;class i extends t.BaseError{constructor({type:o}){super(`Struct type "${o}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}return Ua.InvalidStructTypeError=i,Ua}var pD;function $E(){if(pD)return fl;pD=1,Object.defineProperty(fl,"__esModule",{value:!0}),fl.serializeTypedData=u,fl.validateTypedData=l,fl.getTypesForEIP712Domain=f,fl.domainSeparator=d;const e=br(),t=Bo(),r=HY(),n=Gi(),i=Wi(),s=Oe(),o=bE(),a=J1(),c=Dn();function u(g){const{domain:p,message:b,primaryType:w,types:y}=g,v=(E,_)=>{const P={..._};for(const x of E){const{name:O,type:D}=x;D==="address"&&(P[O]=P[O].toLowerCase())}return P},m=y.EIP712Domain?p?v(y.EIP712Domain,p):{}:{},C=(()=>{if(w!=="EIP712Domain")return v(y[w],b)})();return(0,c.stringify)({domain:m,message:C,primaryType:w,types:y})}function l(g){const{domain:p,message:b,primaryType:w,types:y}=g,v=(m,C)=>{for(const E of m){const{name:_,type:P}=E,x=C[_],O=P.match(o.integerRegex);if(O&&(typeof x=="number"||typeof x=="bigint")){const[k,T,S]=O;(0,s.numberToHex)(x,{signed:T==="int",size:Number.parseInt(S,10)/8})}if(P==="address"&&typeof x=="string"&&!(0,n.isAddress)(x))throw new t.InvalidAddressError({address:x});const D=P.match(o.bytesRegex);if(D){const[k,T]=D;if(T&&(0,i.size)(x)!==Number.parseInt(T,10))throw new e.BytesSizeMismatchError({expectedSize:Number.parseInt(T,10),givenSize:(0,i.size)(x)})}const R=y[P];R&&(h(P),v(R,x))}};if(y.EIP712Domain&&p){if(typeof p!="object")throw new r.InvalidDomainError({domain:p});v(y.EIP712Domain,p)}if(w!=="EIP712Domain")if(y[w])v(y[w],b);else throw new r.InvalidPrimaryTypeError({primaryType:w,types:y})}function f({domain:g}){return[typeof g?.name=="string"&&{name:"name",type:"string"},g?.version&&{name:"version",type:"string"},(typeof g?.chainId=="number"||typeof g?.chainId=="bigint")&&{name:"chainId",type:"uint256"},g?.verifyingContract&&{name:"verifyingContract",type:"address"},g?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function d({domain:g}){return(0,a.hashDomain)({domain:g,types:{EIP712Domain:f({domain:g})}})}function h(g){if(g==="address"||g==="bool"||g==="string"||g.startsWith("bytes")||g.startsWith("uint")||g.startsWith("int"))throw new r.InvalidStructTypeError({type:g})}return fl}var gD;function J1(){if(gD)return dl;gD=1,Object.defineProperty(dl,"__esModule",{value:!0}),dl.hashTypedData=s,dl.hashDomain=o,dl.hashStruct=a,dl.encodeType=l;const e=Ro(),t=An(),r=Oe(),n=Vi(),i=$E();function s(h){const{domain:g={},message:p,primaryType:b}=h,w={EIP712Domain:(0,i.getTypesForEIP712Domain)({domain:g}),...h.types};(0,i.validateTypedData)({domain:g,message:p,primaryType:b,types:w});const y=["0x1901"];return g&&y.push(o({domain:g,types:w})),b!=="EIP712Domain"&&y.push(a({data:p,primaryType:b,types:w})),(0,n.keccak256)((0,t.concat)(y))}function o({domain:h,types:g}){return a({data:h,primaryType:"EIP712Domain",types:g})}function a({data:h,primaryType:g,types:p}){const b=c({data:h,primaryType:g,types:p});return(0,n.keccak256)(b)}function c({data:h,primaryType:g,types:p}){const b=[{type:"bytes32"}],w=[u({primaryType:g,types:p})];for(const y of p[g]){const[v,m]=d({types:p,name:y.name,type:y.type,value:h[y.name]});b.push(v),w.push(m)}return(0,e.encodeAbiParameters)(b,w)}function u({primaryType:h,types:g}){const p=(0,r.toHex)(l({primaryType:h,types:g}));return(0,n.keccak256)(p)}function l({primaryType:h,types:g}){let p="";const b=f({primaryType:h,types:g});b.delete(h);const w=[h,...Array.from(b).sort()];for(const y of w)p+=`${y}(${g[y].map(({name:v,type:m})=>`${m} ${v}`).join(",")})`;return p}function f({primaryType:h,types:g},p=new Set){const w=h.match(/^\w*/u)?.[0];if(p.has(w)||g[w]===void 0)return p;p.add(w);for(const y of g[w])f({primaryType:y.type,types:g},p);return p}function d({types:h,name:g,type:p,value:b}){if(h[p]!==void 0)return[{type:"bytes32"},(0,n.keccak256)(c({data:b,primaryType:p,types:h}))];if(p==="bytes")return[{type:"bytes32"},(0,n.keccak256)(b)];if(p==="string")return[{type:"bytes32"},(0,n.keccak256)((0,r.toHex)(b))];if(p.lastIndexOf("]")===p.length-1){const w=p.slice(0,p.lastIndexOf("[")),y=b.map(v=>d({name:g,type:w,types:h,value:v}));return[{type:"bytes32"},(0,n.keccak256)((0,e.encodeAbiParameters)(y.map(([v])=>v),y.map(([,v])=>v)))]}return[{type:p},b]}return dl}var wv={},hl={},mD;function HS(){return mD||(mD=1,Object.defineProperty(hl,"__esModule",{value:!0}),hl.zeroHash=hl.erc6492MagicBytes=void 0,hl.erc6492MagicBytes="0x6492649264926492649264926492649264926492649264926492649264926492",hl.zeroHash="0x0000000000000000000000000000000000000000000000000000000000000000"),hl}var bD;function WS(){if(bD)return wv;bD=1,Object.defineProperty(wv,"__esModule",{value:!0}),wv.isErc6492Signature=r;const e=HS(),t=Ys();function r(n){return(0,t.sliceHex)(n,-32)===e.erc6492MagicBytes}return wv}var vv={},cg={},p4={},pr={},ii={},Tf={},ug={},yD;function zme(){if(yD)return ug;yD=1,Object.defineProperty(ug,"__esModule",{value:!0}),ug.LruMap=void 0;class e extends Map{constructor(r){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=r}get(r){const n=super.get(r);return super.has(r)&&n!==void 0&&(this.delete(r),super.set(r,n)),n}set(r,n){if(super.set(r,n),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}}return ug.LruMap=e,ug}var wD;function Fme(){if(wD)return Tf;wD=1,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.checksum=void 0,Tf.clear=r;const e=zme(),t={checksum:new e.LruMap(8192)};Tf.checksum=t.checksum;function r(){for(const n of Object.values(t))n.clear()}return Tf}var pl={},vD;function VS(){if(vD)return pl;vD=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.keccak256=s,pl.ripemd160=o,pl.sha256=a,pl.validate=c;const e=BY(),t=aW(),r=uW(),n=va(),i=$n();function s(u,l={}){const{as:f=typeof u=="string"?"Hex":"Bytes"}=l,d=(0,t.keccak_256)(n.from(u));return f==="Bytes"?d:i.fromBytes(d)}function o(u,l={}){const{as:f=typeof u=="string"?"Hex":"Bytes"}=l,d=(0,e.ripemd160)(n.from(u));return f==="Bytes"?d:i.fromBytes(d)}function a(u,l={}){const{as:f=typeof u=="string"?"Hex":"Bytes"}=l,d=(0,r.sha256)(n.from(u));return f==="Bytes"?d:i.fromBytes(d)}function c(u){return i.validate(u)&&i.size(u)===32}return pl}var Pr={},ED;function WY(){if(ED)return Pr;ED=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.InvalidSerializedSizeError=Pr.InvalidUncompressedPrefixError=Pr.InvalidCompressedPrefixError=Pr.InvalidPrefixError=Pr.InvalidError=void 0,Pr.assert=i,Pr.compress=s,Pr.from=o,Pr.fromBytes=a,Pr.fromHex=c,Pr.toBytes=u,Pr.toHex=l,Pr.validate=f;const e=va(),t=Ps(),r=$n(),n=SE();function i(w,y={}){const{compressed:v}=y,{prefix:m,x:C,y:E}=w;if(v===!1||typeof C=="bigint"&&typeof E=="bigint"){if(m!==4)throw new h({prefix:m,cause:new p});return}if(v===!0||typeof C=="bigint"&&typeof E>"u"){if(m!==3&&m!==2)throw new h({prefix:m,cause:new g});return}throw new d({publicKey:w})}function s(w){const{x:y,y:v}=w;return{prefix:v%2n===0n?2:3,x:y}}function o(w){const y=(()=>{if(r.validate(w))return c(w);if(e.validate(w))return a(w);const{prefix:v,x:m,y:C}=w;return typeof m=="bigint"&&typeof C=="bigint"?{prefix:v??4,x:m,y:C}:{prefix:v,x:m}})();return i(y),y}function a(w){return c(r.fromBytes(w))}function c(w){if(w.length!==132&&w.length!==130&&w.length!==68)throw new b({publicKey:w});if(w.length===130){const m=BigInt(r.slice(w,0,32)),C=BigInt(r.slice(w,32,64));return{prefix:4,x:m,y:C}}if(w.length===132){const m=Number(r.slice(w,0,1)),C=BigInt(r.slice(w,1,33)),E=BigInt(r.slice(w,33,65));return{prefix:m,x:C,y:E}}const y=Number(r.slice(w,0,1)),v=BigInt(r.slice(w,1,33));return{prefix:y,x:v}}function u(w,y={}){return e.fromHex(l(w,y))}function l(w,y={}){i(w);const{prefix:v,x:m,y:C}=w,{includePrefix:E=!0}=y;return r.concat(E?r.fromNumber(v,{size:1}):"0x",r.fromNumber(m,{size:32}),typeof C=="bigint"?r.fromNumber(C,{size:32}):"0x")}function f(w,y={}){try{return i(w,y),!0}catch{return!1}}class d extends t.BaseError{constructor({publicKey:y}){super(`Value \`${n.stringify(y)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}Pr.InvalidError=d;class h extends t.BaseError{constructor({prefix:y,cause:v}){super(`Prefix "${y}" is invalid.`,{cause:v}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}Pr.InvalidPrefixError=h;class g extends t.BaseError{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}Pr.InvalidCompressedPrefixError=g;class p extends t.BaseError{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}Pr.InvalidUncompressedPrefixError=p;class b extends t.BaseError{constructor({publicKey:y}){super(`Value \`${y}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${r.size(r.from(y))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}return Pr.InvalidSerializedSizeError=b,Pr}var _D;function ME(){if(_D)return ii;_D=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.InvalidChecksumError=ii.InvalidInputError=ii.InvalidAddressError=void 0,ii.assert=o,ii.checksum=a,ii.from=c,ii.fromPublicKey=u,ii.isEqual=l,ii.validate=f;const e=va(),t=Fme(),r=Ps(),n=VS(),i=WY(),s=/^0x[a-fA-F0-9]{40}$/;function o(p,b={}){const{strict:w=!0}=b;if(!s.test(p))throw new d({address:p,cause:new h});if(w){if(p.toLowerCase()===p)return;if(a(p)!==p)throw new d({address:p,cause:new g})}}function a(p){if(t.checksum.has(p))return t.checksum.get(p);o(p,{strict:!1});const b=p.substring(2).toLowerCase(),w=n.keccak256(e.fromString(b),{as:"Bytes"}),y=b.split("");for(let m=0;m<40;m+=2)w[m>>1]>>4>=8&&y[m]&&(y[m]=y[m].toUpperCase()),(w[m>>1]&15)>=8&&y[m+1]&&(y[m+1]=y[m+1].toUpperCase());const v=`0x${y.join("")}`;return t.checksum.set(p,v),v}function c(p,b={}){const{checksum:w=!1}=b;return o(p),w?a(p):p}function u(p,b={}){const w=n.keccak256(`0x${i.toHex(p).slice(4)}`).substring(26);return c(`0x${w}`,b)}function l(p,b){return o(p,{strict:!1}),o(b,{strict:!1}),p.toLowerCase()===b.toLowerCase()}function f(p,b={}){const{strict:w=!0}=b??{};try{return o(p,{strict:w}),!0}catch{return!1}}class d extends r.BaseError{constructor({address:b,cause:w}){super(`Address "${b}" is invalid.`,{cause:w}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}ii.InvalidAddressError=d;class h extends r.BaseError{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}ii.InvalidInputError=h;class g extends r.BaseError{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}return ii.InvalidChecksumError=g,ii}var gr={},ee={},CD;function GS(){return CD||(CD=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.minInt120=ee.minInt112=ee.minInt104=ee.minInt96=ee.minInt88=ee.minInt80=ee.minInt72=ee.minInt64=ee.minInt56=ee.minInt48=ee.minInt40=ee.minInt32=ee.minInt24=ee.minInt16=ee.minInt8=ee.maxInt256=ee.maxInt248=ee.maxInt240=ee.maxInt232=ee.maxInt224=ee.maxInt216=ee.maxInt208=ee.maxInt200=ee.maxInt192=ee.maxInt184=ee.maxInt176=ee.maxInt168=ee.maxInt160=ee.maxInt152=ee.maxInt144=ee.maxInt136=ee.maxInt128=ee.maxInt120=ee.maxInt112=ee.maxInt104=ee.maxInt96=ee.maxInt88=ee.maxInt80=ee.maxInt72=ee.maxInt64=ee.maxInt56=ee.maxInt48=ee.maxInt40=ee.maxInt32=ee.maxInt24=ee.maxInt16=ee.maxInt8=ee.integerRegex=ee.bytesRegex=ee.arrayRegex=void 0,ee.maxUint256=ee.maxUint248=ee.maxUint240=ee.maxUint232=ee.maxUint224=ee.maxUint216=ee.maxUint208=ee.maxUint200=ee.maxUint192=ee.maxUint184=ee.maxUint176=ee.maxUint168=ee.maxUint160=ee.maxUint152=ee.maxUint144=ee.maxUint136=ee.maxUint128=ee.maxUint120=ee.maxUint112=ee.maxUint104=ee.maxUint96=ee.maxUint88=ee.maxUint80=ee.maxUint72=ee.maxUint64=ee.maxUint56=ee.maxUint48=ee.maxUint40=ee.maxUint32=ee.maxUint24=ee.maxUint16=ee.maxUint8=ee.minInt256=ee.minInt248=ee.minInt240=ee.minInt232=ee.minInt224=ee.minInt216=ee.minInt208=ee.minInt200=ee.minInt192=ee.minInt184=ee.minInt176=ee.minInt168=ee.minInt160=ee.minInt152=ee.minInt144=ee.minInt136=ee.minInt128=void 0,ee.arrayRegex=/^(.*)\[([0-9]*)\]$/,ee.bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ee.integerRegex=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ee.maxInt8=2n**(8n-1n)-1n,ee.maxInt16=2n**(16n-1n)-1n,ee.maxInt24=2n**(24n-1n)-1n,ee.maxInt32=2n**(32n-1n)-1n,ee.maxInt40=2n**(40n-1n)-1n,ee.maxInt48=2n**(48n-1n)-1n,ee.maxInt56=2n**(56n-1n)-1n,ee.maxInt64=2n**(64n-1n)-1n,ee.maxInt72=2n**(72n-1n)-1n,ee.maxInt80=2n**(80n-1n)-1n,ee.maxInt88=2n**(88n-1n)-1n,ee.maxInt96=2n**(96n-1n)-1n,ee.maxInt104=2n**(104n-1n)-1n,ee.maxInt112=2n**(112n-1n)-1n,ee.maxInt120=2n**(120n-1n)-1n,ee.maxInt128=2n**(128n-1n)-1n,ee.maxInt136=2n**(136n-1n)-1n,ee.maxInt144=2n**(144n-1n)-1n,ee.maxInt152=2n**(152n-1n)-1n,ee.maxInt160=2n**(160n-1n)-1n,ee.maxInt168=2n**(168n-1n)-1n,ee.maxInt176=2n**(176n-1n)-1n,ee.maxInt184=2n**(184n-1n)-1n,ee.maxInt192=2n**(192n-1n)-1n,ee.maxInt200=2n**(200n-1n)-1n,ee.maxInt208=2n**(208n-1n)-1n,ee.maxInt216=2n**(216n-1n)-1n,ee.maxInt224=2n**(224n-1n)-1n,ee.maxInt232=2n**(232n-1n)-1n,ee.maxInt240=2n**(240n-1n)-1n,ee.maxInt248=2n**(248n-1n)-1n,ee.maxInt256=2n**(256n-1n)-1n,ee.minInt8=-(2n**(8n-1n)),ee.minInt16=-(2n**(16n-1n)),ee.minInt24=-(2n**(24n-1n)),ee.minInt32=-(2n**(32n-1n)),ee.minInt40=-(2n**(40n-1n)),ee.minInt48=-(2n**(48n-1n)),ee.minInt56=-(2n**(56n-1n)),ee.minInt64=-(2n**(64n-1n)),ee.minInt72=-(2n**(72n-1n)),ee.minInt80=-(2n**(80n-1n)),ee.minInt88=-(2n**(88n-1n)),ee.minInt96=-(2n**(96n-1n)),ee.minInt104=-(2n**(104n-1n)),ee.minInt112=-(2n**(112n-1n)),ee.minInt120=-(2n**(120n-1n)),ee.minInt128=-(2n**(128n-1n)),ee.minInt136=-(2n**(136n-1n)),ee.minInt144=-(2n**(144n-1n)),ee.minInt152=-(2n**(152n-1n)),ee.minInt160=-(2n**(160n-1n)),ee.minInt168=-(2n**(168n-1n)),ee.minInt176=-(2n**(176n-1n)),ee.minInt184=-(2n**(184n-1n)),ee.minInt192=-(2n**(192n-1n)),ee.minInt200=-(2n**(200n-1n)),ee.minInt208=-(2n**(208n-1n)),ee.minInt216=-(2n**(216n-1n)),ee.minInt224=-(2n**(224n-1n)),ee.minInt232=-(2n**(232n-1n)),ee.minInt240=-(2n**(240n-1n)),ee.minInt248=-(2n**(248n-1n)),ee.minInt256=-(2n**(256n-1n)),ee.maxUint8=2n**8n-1n,ee.maxUint16=2n**16n-1n,ee.maxUint24=2n**24n-1n,ee.maxUint32=2n**32n-1n,ee.maxUint40=2n**40n-1n,ee.maxUint48=2n**48n-1n,ee.maxUint56=2n**56n-1n,ee.maxUint64=2n**64n-1n,ee.maxUint72=2n**72n-1n,ee.maxUint80=2n**80n-1n,ee.maxUint88=2n**88n-1n,ee.maxUint96=2n**96n-1n,ee.maxUint104=2n**104n-1n,ee.maxUint112=2n**112n-1n,ee.maxUint120=2n**120n-1n,ee.maxUint128=2n**128n-1n,ee.maxUint136=2n**136n-1n,ee.maxUint144=2n**144n-1n,ee.maxUint152=2n**152n-1n,ee.maxUint160=2n**160n-1n,ee.maxUint168=2n**168n-1n,ee.maxUint176=2n**176n-1n,ee.maxUint184=2n**184n-1n,ee.maxUint192=2n**192n-1n,ee.maxUint200=2n**200n-1n,ee.maxUint208=2n**208n-1n,ee.maxUint216=2n**216n-1n,ee.maxUint224=2n**224n-1n,ee.maxUint232=2n**232n-1n,ee.maxUint240=2n**240n-1n,ee.maxUint248=2n**248n-1n,ee.maxUint256=2n**256n-1n),ee}var AD;function Hme(){if(AD)return gr;AD=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.decodeParameter=o,gr.decodeAddress=u,gr.decodeArray=l,gr.decodeBool=f,gr.decodeBytes=d,gr.decodeNumber=h,gr.decodeTuple=g,gr.decodeString=p,gr.prepareParameters=b,gr.prepareParameter=w,gr.encode=y,gr.encodeAddress=v,gr.encodeArray=m,gr.encodeBytes=C,gr.encodeBoolean=E,gr.encodeNumber=_,gr.encodeString=P,gr.encodeTuple=x,gr.getArrayComponents=O,gr.hasDynamicChild=D;const e=X1(),t=ME(),r=va(),n=Ps(),i=$n(),s=GS();function o(R,k,T){const{checksumAddress:S,staticPosition:I}=T,A=O(k.type);if(A){const[j,N]=A;return l(R,{...k,type:N},{checksumAddress:S,length:j,staticPosition:I})}if(k.type==="tuple")return g(R,k,{checksumAddress:S,staticPosition:I});if(k.type==="address")return u(R,{checksum:S});if(k.type==="bool")return f(R);if(k.type.startsWith("bytes"))return d(R,k,{staticPosition:I});if(k.type.startsWith("uint")||k.type.startsWith("int"))return h(R,k);if(k.type==="string")return p(R,{staticPosition:I});throw new e.InvalidTypeError(k.type)}const a=32,c=32;function u(R,k={}){const{checksum:T=!1}=k,S=R.readBytes(32);return[(A=>T?t.checksum(A):A)(i.fromBytes(r.slice(S,-20))),32]}function l(R,k,T){const{checksumAddress:S,length:I,staticPosition:A}=T;if(!I){const B=r.toNumber(R.readBytes(c)),$=A+B,M=$+a;R.setPosition($);const L=r.toNumber(R.readBytes(a)),q=D(k);let U=0;const F=[];for(let H=0;H<L;++H){R.setPosition(M+(q?H*32:U));const[V,W]=o(R,k,{checksumAddress:S,staticPosition:M});U+=W,F.push(V)}return R.setPosition(A+32),[F,32]}if(D(k)){const B=r.toNumber(R.readBytes(c)),$=A+B,M=[];for(let L=0;L<I;++L){R.setPosition($+L*32);const[q]=o(R,k,{checksumAddress:S,staticPosition:$});M.push(q)}return R.setPosition(A+32),[M,32]}let j=0;const N=[];for(let B=0;B<I;++B){const[$,M]=o(R,k,{checksumAddress:S,staticPosition:A+j});j+=M,N.push($)}return[N,j]}function f(R){return[r.toBoolean(R.readBytes(32),{size:32}),32]}function d(R,k,{staticPosition:T}){const[S,I]=k.type.split("bytes");if(!I){const j=r.toNumber(R.readBytes(32));R.setPosition(T+j);const N=r.toNumber(R.readBytes(32));if(N===0)return R.setPosition(T+32),["0x",32];const B=R.readBytes(N);return R.setPosition(T+32),[i.fromBytes(B),32]}return[i.fromBytes(R.readBytes(Number.parseInt(I,10),32)),32]}function h(R,k){const T=k.type.startsWith("int"),S=Number.parseInt(k.type.split("int")[1]||"256",10),I=R.readBytes(32);return[S>48?r.toBigInt(I,{signed:T}):r.toNumber(I,{signed:T}),32]}function g(R,k,T){const{checksumAddress:S,staticPosition:I}=T,A=k.components.length===0||k.components.some(({name:B})=>!B),j=A?[]:{};let N=0;if(D(k)){const B=r.toNumber(R.readBytes(c)),$=I+B;for(let M=0;M<k.components.length;++M){const L=k.components[M];R.setPosition($+N);const[q,U]=o(R,L,{checksumAddress:S,staticPosition:$});N+=U,j[A?M:L?.name]=q}return R.setPosition(I+32),[j,32]}for(let B=0;B<k.components.length;++B){const $=k.components[B],[M,L]=o(R,$,{checksumAddress:S,staticPosition:I});j[A?B:$?.name]=M,N+=L}return[j,N]}function p(R,{staticPosition:k}){const T=r.toNumber(R.readBytes(32)),S=k+T;R.setPosition(S);const I=r.toNumber(R.readBytes(32));if(I===0)return R.setPosition(k+32),["",32];const A=R.readBytes(I,32),j=r.toString(r.trimLeft(A));return R.setPosition(k+32),[j,32]}function b({checksumAddress:R,parameters:k,values:T}){const S=[];for(let I=0;I<k.length;I++)S.push(w({checksumAddress:R,parameter:k[I],value:T[I]}));return S}function w({checksumAddress:R=!1,parameter:k,value:T}){const S=k,I=O(S.type);if(I){const[A,j]=I;return m(T,{checksumAddress:R,length:A,parameter:{...S,type:j}})}if(S.type==="tuple")return x(T,{checksumAddress:R,parameter:S});if(S.type==="address")return v(T,{checksum:R});if(S.type==="bool")return E(T);if(S.type.startsWith("uint")||S.type.startsWith("int")){const A=S.type.startsWith("int"),[,,j="256"]=s.integerRegex.exec(S.type)??[];return _(T,{signed:A,size:Number(j)})}if(S.type.startsWith("bytes"))return C(T,{type:S.type});if(S.type==="string")return P(T);throw new e.InvalidTypeError(S.type)}function y(R){let k=0;for(let A=0;A<R.length;A++){const{dynamic:j,encoded:N}=R[A];j?k+=32:k+=i.size(N)}const T=[],S=[];let I=0;for(let A=0;A<R.length;A++){const{dynamic:j,encoded:N}=R[A];j?(T.push(i.fromNumber(k+I,{size:32})),S.push(N),I+=i.size(N)):T.push(N)}return i.concat(...T,...S)}function v(R,k){const{checksum:T=!1}=k;return t.assert(R,{strict:T}),{dynamic:!1,encoded:i.padLeft(R.toLowerCase())}}function m(R,k){const{checksumAddress:T,length:S,parameter:I}=k,A=S===null;if(!Array.isArray(R))throw new e.InvalidArrayError(R);if(!A&&R.length!==S)throw new e.ArrayLengthMismatchError({expectedLength:S,givenLength:R.length,type:`${I.type}[${S}]`});let j=!1;const N=[];for(let B=0;B<R.length;B++){const $=w({checksumAddress:T,parameter:I,value:R[B]});$.dynamic&&(j=!0),N.push($)}if(A||j){const B=y(N);if(A){const $=i.fromNumber(N.length,{size:32});return{dynamic:!0,encoded:N.length>0?i.concat($,B):$}}if(j)return{dynamic:!0,encoded:B}}return{dynamic:!1,encoded:i.concat(...N.map(({encoded:B})=>B))}}function C(R,{type:k}){const[,T]=k.split("bytes"),S=i.size(R);if(!T){let I=R;return S%32!==0&&(I=i.padRight(I,Math.ceil((R.length-2)/2/32)*32)),{dynamic:!0,encoded:i.concat(i.padLeft(i.fromNumber(S,{size:32})),I)}}if(S!==Number.parseInt(T,10))throw new e.BytesSizeMismatchError({expectedSize:Number.parseInt(T,10),value:R});return{dynamic:!1,encoded:i.padRight(R)}}function E(R){if(typeof R!="boolean")throw new n.BaseError(`Invalid boolean value: "${R}" (type: ${typeof R}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:i.padLeft(i.fromBoolean(R))}}function _(R,{signed:k,size:T}){if(typeof T=="number"){const S=2n**(BigInt(T)-(k?1n:0n))-1n,I=k?-S-1n:0n;if(R>S||R<I)throw new i.IntegerOutOfRangeError({max:S.toString(),min:I.toString(),signed:k,size:T/8,value:R.toString()})}return{dynamic:!1,encoded:i.fromNumber(R,{size:32,signed:k})}}function P(R){const k=i.fromString(R),T=Math.ceil(i.size(k)/32),S=[];for(let I=0;I<T;I++)S.push(i.padRight(i.slice(k,I*32,(I+1)*32)));return{dynamic:!0,encoded:i.concat(i.padRight(i.fromNumber(i.size(k),{size:32})),...S)}}function x(R,k){const{checksumAddress:T,parameter:S}=k;let I=!1;const A=[];for(let j=0;j<S.components.length;j++){const N=S.components[j],B=Array.isArray(R)?j:N.name,$=w({checksumAddress:T,parameter:N,value:R[B]});A.push($),$.dynamic&&(I=!0)}return{dynamic:I,encoded:I?y(A):i.concat(...A.map(({encoded:j})=>j))}}function O(R){const k=R.match(/^(.*)\[(\d+)?\]$/);return k?[k[2]?Number(k[2]):null,k[1]]:void 0}function D(R){const{type:k}=R;if(k==="string"||k==="bytes"||k.endsWith("[]"))return!0;if(k==="tuple")return R.components?.some(D);const T=O(R.type);return!!(T&&D({...R,type:T[1]}))}return gr}var qo={},xD;function VY(){if(xD)return qo;xD=1,Object.defineProperty(qo,"__esModule",{value:!0}),qo.RecursiveReadLimitExceededError=qo.PositionOutOfBoundsError=qo.NegativeOffsetError=void 0,qo.create=r;const e=Ps(),t={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new s({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(o){if(o<0||o>this.bytes.length-1)throw new i({length:this.bytes.length,position:o})},decrementPosition(o){if(o<0)throw new n({offset:o});const a=this.position-o;this.assertPosition(a),this.position=a},getReadCount(o){return this.positionReadCount.get(o||this.position)||0},incrementPosition(o){if(o<0)throw new n({offset:o});const a=this.position+o;this.assertPosition(a),this.position=a},inspectByte(o){const a=o??this.position;return this.assertPosition(a),this.bytes[a]},inspectBytes(o,a){const c=a??this.position;return this.assertPosition(c+o-1),this.bytes.subarray(c,c+o)},inspectUint8(o){const a=o??this.position;return this.assertPosition(a),this.bytes[a]},inspectUint16(o){const a=o??this.position;return this.assertPosition(a+1),this.dataView.getUint16(a)},inspectUint24(o){const a=o??this.position;return this.assertPosition(a+2),(this.dataView.getUint16(a)<<8)+this.dataView.getUint8(a+2)},inspectUint32(o){const a=o??this.position;return this.assertPosition(a+3),this.dataView.getUint32(a)},pushByte(o){this.assertPosition(this.position),this.bytes[this.position]=o,this.position++},pushBytes(o){this.assertPosition(this.position+o.length-1),this.bytes.set(o,this.position),this.position+=o.length},pushUint8(o){this.assertPosition(this.position),this.bytes[this.position]=o,this.position++},pushUint16(o){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,o),this.position+=2},pushUint24(o){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,o>>8),this.dataView.setUint8(this.position+2,o&255),this.position+=3},pushUint32(o){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,o),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const o=this.inspectByte();return this.position++,o},readBytes(o,a){this.assertReadLimit(),this._touch();const c=this.inspectBytes(o);return this.position+=a??o,c},readUint8(){this.assertReadLimit(),this._touch();const o=this.inspectUint8();return this.position+=1,o},readUint16(){this.assertReadLimit(),this._touch();const o=this.inspectUint16();return this.position+=2,o},readUint24(){this.assertReadLimit(),this._touch();const o=this.inspectUint24();return this.position+=3,o},readUint32(){this.assertReadLimit(),this._touch();const o=this.inspectUint32();return this.position+=4,o},get remaining(){return this.bytes.length-this.position},setPosition(o){const a=this.position;return this.assertPosition(o),this.position=o,()=>this.position=a},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const o=this.getReadCount();this.positionReadCount.set(this.position,o+1),o>0&&this.recursiveReadCount++}};function r(o,{recursiveReadLimit:a=8192}={}){const c=Object.create(t);return c.bytes=o,c.dataView=new DataView(o.buffer,o.byteOffset,o.byteLength),c.positionReadCount=new Map,c.recursiveReadLimit=a,c}class n extends e.BaseError{constructor({offset:a}){super(`Offset \`${a}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}qo.NegativeOffsetError=n;class i extends e.BaseError{constructor({length:a,position:c}){super(`Position \`${c}\` is out of bounds (\`0 < position < ${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}qo.PositionOutOfBoundsError=i;class s extends e.BaseError{constructor({count:a,limit:c}){super(`Recursive read limit of \`${c}\` exceeded (recursive read count: \`${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}return qo.RecursiveReadLimitExceededError=s,qo}var ID;function X1(){if(ID)return pr;ID=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.InvalidTypeError=pr.InvalidArrayError=pr.LengthMismatchError=pr.BytesSizeMismatchError=pr.ArrayLengthMismatchError=pr.ZeroDataError=pr.DataSizeTooSmallError=void 0,pr.decode=c,pr.encode=u,pr.encodePacked=l,pr.format=f,pr.from=d;const e=Ru(),t=ME(),r=va(),n=Ps(),i=$n(),s=Hme(),o=VY(),a=GS();function c(m,C,E={}){const{as:_="Array",checksumAddress:P=!1}=E,x=typeof C=="string"?r.fromHex(C):C,O=o.create(x);if(r.size(x)===0&&m.length>0)throw new g;if(r.size(x)&&r.size(x)<32)throw new h({data:typeof C=="string"?C:i.fromBytes(C),parameters:m,size:r.size(x)});let D=0;const R=_==="Array"?[]:{};for(let k=0;k<m.length;++k){const T=m[k];O.setPosition(D);const[S,I]=s.decodeParameter(O,T,{checksumAddress:P,staticPosition:0});D+=I,_==="Array"?R.push(S):R[T.name??k]=S}return R}function u(m,C,E){const{checksumAddress:_=!1}=E??{};if(m.length!==C.length)throw new w({expectedLength:m.length,givenLength:C.length});const P=s.prepareParameters({checksumAddress:_,parameters:m,values:C}),x=s.encode(P);return x.length===0?"0x":x}function l(m,C){if(m.length!==C.length)throw new w({expectedLength:m.length,givenLength:C.length});const E=[];for(let _=0;_<m.length;_++){const P=m[_],x=C[_];E.push(l.encode(P,x))}return i.concat(...E)}(function(m){function C(E,_,P=!1){if(E==="address"){const R=_;return t.assert(R),i.padLeft(R.toLowerCase(),P?32:0)}if(E==="string")return i.fromString(_);if(E==="bytes")return _;if(E==="bool")return i.padLeft(i.fromBoolean(_),P?32:1);const x=E.match(a.integerRegex);if(x){const[R,k,T="256"]=x,S=Number.parseInt(T,10)/8;return i.fromNumber(_,{size:P?32:S,signed:k==="int"})}const O=E.match(a.bytesRegex);if(O){const[R,k]=O;if(Number.parseInt(k,10)!==(_.length-2)/2)throw new b({expectedSize:Number.parseInt(k,10),value:_});return i.padRight(_,P?32:0)}const D=E.match(a.arrayRegex);if(D&&Array.isArray(_)){const[R,k]=D,T=[];for(let S=0;S<_.length;S++)T.push(C(k,_[S],!0));return T.length===0?"0x":i.concat(...T)}throw new v(E)}m.encode=C})(l||(pr.encodePacked=l={}));function f(m){return e.formatAbiParameters(m)}function d(m){return Array.isArray(m)&&typeof m[0]=="string"||typeof m=="string"?e.parseAbiParameters(m):m}class h extends n.BaseError{constructor({data:C,parameters:E,size:_}){super(`Data size of ${_} bytes is too small for given parameters.`,{metaMessages:[`Params: (${e.formatAbiParameters(E)})`,`Data:   ${C} (${_} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}pr.DataSizeTooSmallError=h;class g extends n.BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}pr.ZeroDataError=g;class p extends n.BaseError{constructor({expectedLength:C,givenLength:E,type:_}){super(`Array length mismatch for type \`${_}\`. Expected: \`${C}\`. Given: \`${E}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}pr.ArrayLengthMismatchError=p;class b extends n.BaseError{constructor({expectedSize:C,value:E}){super(`Size of bytes "${E}" (bytes${i.size(E)}) does not match expected size (bytes${C}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}pr.BytesSizeMismatchError=b;class w extends n.BaseError{constructor({expectedLength:C,givenLength:E}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${C}`,`Given length (values): ${E}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}pr.LengthMismatchError=w;class y extends n.BaseError{constructor(C){super(`Value \`${C}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}pr.InvalidArrayError=y;class v extends n.BaseError{constructor(C){super(`Type \`${C}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}return pr.InvalidTypeError=v,pr}var Ei={},Bs={},PD;function Wme(){if(PD)return Bs;PD=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.toBytes=i,Bs.toHex=s,Bs.to=o,Bs.decodeRlpCursor=a,Bs.readLength=c,Bs.readList=u,Bs.from=l,Bs.fromBytes=f,Bs.fromHex=d;const e=va(),t=Ps(),r=$n(),n=VY();function i(w){return o(w,"Bytes")}function s(w){return o(w,"Hex")}function o(w,y){const v=y??(typeof w=="string"?"Hex":"Bytes"),m=(()=>{if(typeof w=="string"){if(w.length>3&&w.length%2!==0)throw new r.InvalidLengthError(w);return e.fromHex(w)}return w})(),C=n.create(m,{recursiveReadLimit:Number.POSITIVE_INFINITY});return a(C,v)}function a(w,y="Hex"){if(w.bytes.length===0)return y==="Hex"?r.fromBytes(w.bytes):w.bytes;const v=w.readByte();if(v<128&&w.decrementPosition(1),v<192){const C=c(w,v,128),E=w.readBytes(C);return y==="Hex"?r.fromBytes(E):E}const m=c(w,v,192);return u(w,m,y)}function c(w,y,v){if(v===128&&y<128)return 1;if(y<=v+55)return y-v;if(y===v+55+1)return w.readUint8();if(y===v+55+2)return w.readUint16();if(y===v+55+3)return w.readUint24();if(y===v+55+4)return w.readUint32();throw new t.BaseError("Invalid RLP prefix")}function u(w,y,v){const m=w.position,C=[];for(;w.position-m<y;)C.push(a(w,v));return C}function l(w,y){const{as:v}=y,m=h(w),C=n.create(new Uint8Array(m.length));return m.encode(C),v==="Hex"?r.fromBytes(C.bytes):C.bytes}function f(w,y={}){const{as:v="Bytes"}=y;return l(w,{as:v})}function d(w,y={}){const{as:v="Hex"}=y;return l(w,{as:v})}function h(w){return Array.isArray(w)?g(w.map(y=>h(y))):p(w)}function g(w){const y=w.reduce((C,E)=>C+E.length,0),v=b(y);return{length:y<=55?1+y:1+v+y,encode(C){y<=55?C.pushByte(192+y):(C.pushByte(247+v),v===1?C.pushUint8(y):v===2?C.pushUint16(y):v===3?C.pushUint24(y):C.pushUint32(y));for(const{encode:E}of w)E(C)}}}function p(w){const y=typeof w=="string"?e.fromHex(w):w,v=b(y.length);return{length:y.length===1&&y[0]<128?1:y.length<=55?1+y.length:1+v+y.length,encode(C){y.length===1&&y[0]<128?C.pushBytes(y):y.length<=55?(C.pushByte(128+y.length),C.pushBytes(y)):(C.pushByte(183+v),v===1?C.pushUint8(y.length):v===2?C.pushUint16(y.length):v===3?C.pushUint24(y.length):C.pushUint32(y.length),C.pushBytes(y))}}}function b(w){if(w<=255)return 1;if(w<=65535)return 2;if(w<=0xffffff)return 3;if(w<=0xffffffff)return 4;throw new t.BaseError("Length is too large.")}return Bs}var ut={},g4={},lg={},m4={},gl={},sr={},SD;function LE(){if(SD)return sr;SD=1,Object.defineProperty(sr,"__esModule",{value:!0}),sr.isNegativeLE=void 0,sr.mod=u,sr.pow=l,sr.pow2=f,sr.invert=d,sr.tonelliShanks=p,sr.FpSqrt=b,sr.validateField=v,sr.FpPow=m,sr.FpInvertBatch=C,sr.FpDiv=E,sr.FpLegendre=_,sr.FpIsSquare=P,sr.nLength=x,sr.Field=O,sr.FpSqrtOdd=D,sr.FpSqrtEven=R,sr.hashToPrivateScalar=k,sr.getFieldBytesLength=T,sr.getMinHashLength=S,sr.mapHashToField=I;const e=ju(),t=Yd(),r=BigInt(0),n=BigInt(1),i=BigInt(2),s=BigInt(3),o=BigInt(4),a=BigInt(5),c=BigInt(8);function u(A,j){const N=A%j;return N>=r?N:j+N}function l(A,j,N){return m(O(N),A,j)}function f(A,j,N){let B=A;for(;j-- >r;)B*=B,B%=N;return B}function d(A,j){if(A===r)throw new Error("invert: expected non-zero number");if(j<=r)throw new Error("invert: expected positive modulus, got "+j);let N=u(A,j),B=j,$=r,M=n;for(;N!==r;){const q=B/N,U=B%N,F=$-M*q;B=N,N=U,$=M,M=F}if(B!==n)throw new Error("invert: does not exist");return u($,j)}function h(A,j){const N=(A.ORDER+n)/o,B=A.pow(j,N);if(!A.eql(A.sqr(B),j))throw new Error("Cannot find square root");return B}function g(A,j){const N=(A.ORDER-a)/c,B=A.mul(j,i),$=A.pow(B,N),M=A.mul(j,$),L=A.mul(A.mul(M,i),$),q=A.mul(M,A.sub(L,A.ONE));if(!A.eql(A.sqr(q),j))throw new Error("Cannot find square root");return q}function p(A){if(A<BigInt(3))throw new Error("sqrt is not defined for small field");let j=A-n,N=0;for(;j%i===r;)j/=i,N++;let B=i;const $=O(A);for(;_($,B)===1;)if(B++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(N===1)return h;let M=$.pow(B,j);const L=(j+n)/i;return function(U,F){if(U.is0(F))return F;if(_(U,F)!==1)throw new Error("Cannot find square root");let H=N,V=U.mul(U.ONE,M),W=U.pow(F,j),Z=U.pow(F,L);for(;!U.eql(W,U.ONE);){if(U.is0(W))return U.ZERO;let X=1,ue=U.sqr(W);for(;!U.eql(ue,U.ONE);)if(X++,ue=U.sqr(ue),X===H)throw new Error("Cannot find square root");const Y=n<<BigInt(H-X-1),Q=U.pow(V,Y);H=X,V=U.sqr(Q),W=U.mul(W,V),Z=U.mul(Z,Q)}return Z}}function b(A){return A%o===s?h:A%c===a?g:p(A)}const w=(A,j)=>(u(A,j)&n)===n;sr.isNegativeLE=w;const y=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function v(A){const j={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},N=y.reduce((B,$)=>(B[$]="function",B),j);return(0,t.validateObject)(A,N)}function m(A,j,N){if(N<r)throw new Error("invalid exponent, negatives unsupported");if(N===r)return A.ONE;if(N===n)return j;let B=A.ONE,$=j;for(;N>r;)N&n&&(B=A.mul(B,$)),$=A.sqr($),N>>=n;return B}function C(A,j,N=!1){const B=new Array(j.length).fill(N?A.ZERO:void 0),$=j.reduce((L,q,U)=>A.is0(q)?L:(B[U]=L,A.mul(L,q)),A.ONE),M=A.inv($);return j.reduceRight((L,q,U)=>A.is0(q)?L:(B[U]=A.mul(L,B[U]),A.mul(L,q)),M),B}function E(A,j,N){return A.mul(j,typeof N=="bigint"?d(N,A.ORDER):A.inv(N))}function _(A,j){const N=(A.ORDER-n)/i,B=A.pow(j,N),$=A.eql(B,A.ONE),M=A.eql(B,A.ZERO),L=A.eql(B,A.neg(A.ONE));if(!$&&!M&&!L)throw new Error("invalid Legendre symbol result");return $?1:M?0:-1}function P(A,j){return _(A,j)===1}function x(A,j){j!==void 0&&(0,e.anumber)(j);const N=j!==void 0?j:A.toString(2).length,B=Math.ceil(N/8);return{nBitLength:N,nByteLength:B}}function O(A,j,N=!1,B={}){if(A<=r)throw new Error("invalid field: expected ORDER > 0, got "+A);const{nBitLength:$,nByteLength:M}=x(A,j);if(M>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let L;const q=Object.freeze({ORDER:A,isLE:N,BITS:$,BYTES:M,MASK:(0,t.bitMask)($),ZERO:r,ONE:n,create:U=>u(U,A),isValid:U=>{if(typeof U!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof U);return r<=U&&U<A},is0:U=>U===r,isOdd:U=>(U&n)===n,neg:U=>u(-U,A),eql:(U,F)=>U===F,sqr:U=>u(U*U,A),add:(U,F)=>u(U+F,A),sub:(U,F)=>u(U-F,A),mul:(U,F)=>u(U*F,A),pow:(U,F)=>m(q,U,F),div:(U,F)=>u(U*d(F,A),A),sqrN:U=>U*U,addN:(U,F)=>U+F,subN:(U,F)=>U-F,mulN:(U,F)=>U*F,inv:U=>d(U,A),sqrt:B.sqrt||(U=>(L||(L=b(A)),L(q,U))),toBytes:U=>N?(0,t.numberToBytesLE)(U,M):(0,t.numberToBytesBE)(U,M),fromBytes:U=>{if(U.length!==M)throw new Error("Field.fromBytes: expected "+M+" bytes, got "+U.length);return N?(0,t.bytesToNumberLE)(U):(0,t.bytesToNumberBE)(U)},invertBatch:U=>C(q,U),cmov:(U,F,H)=>H?F:U});return Object.freeze(q)}function D(A,j){if(!A.isOdd)throw new Error("Field doesn't have isOdd");const N=A.sqrt(j);return A.isOdd(N)?N:A.neg(N)}function R(A,j){if(!A.isOdd)throw new Error("Field doesn't have isOdd");const N=A.sqrt(j);return A.isOdd(N)?A.neg(N):N}function k(A,j,N=!1){A=(0,t.ensureBytes)("privateHash",A);const B=A.length,$=x(j).nByteLength+8;if($<24||B<$||B>1024)throw new Error("hashToPrivateScalar: expected "+$+"-1024 bytes of input, got "+B);const M=N?(0,t.bytesToNumberLE)(A):(0,t.bytesToNumberBE)(A);return u(M,j-n)+n}function T(A){if(typeof A!="bigint")throw new Error("field order must be bigint");const j=A.toString(2).length;return Math.ceil(j/8)}function S(A){const j=T(A);return j+Math.ceil(j/2)}function I(A,j,N=!1){const B=A.length,$=T(j),M=S(j);if(B<16||B<M||B>1024)throw new Error("expected "+M+"-1024 bytes of input, got "+B);const L=N?(0,t.bytesToNumberLE)(A):(0,t.bytesToNumberBE)(A),q=u(L,j-n)+n;return N?(0,t.numberToBytesLE)(q,$):(0,t.numberToBytesBE)(q,$)}return sr}var TD;function Vme(){if(TD)return gl;TD=1,Object.defineProperty(gl,"__esModule",{value:!0}),gl.wNAF=h,gl.pippenger=g,gl.precomputeMSMUnsafe=p,gl.validateBasic=b;const e=LE(),t=Yd(),r=BigInt(0),n=BigInt(1);function i(w,y){const v=y.negate();return w?v:y}function s(w,y){if(!Number.isSafeInteger(w)||w<=0||w>y)throw new Error("invalid window size, expected [1.."+y+"], got W="+w)}function o(w,y){s(w,y);const v=Math.ceil(y/w)+1,m=2**(w-1),C=2**w,E=(0,t.bitMask)(w),_=BigInt(w);return{windows:v,windowSize:m,mask:E,maxNumber:C,shiftBy:_}}function a(w,y,v){const{windowSize:m,mask:C,maxNumber:E,shiftBy:_}=v;let P=Number(w&C),x=w>>_;P>m&&(P-=E,x+=n);const O=y*m,D=O+Math.abs(P)-1,R=P===0,k=P<0,T=y%2!==0;return{nextN:x,offset:D,isZero:R,isNeg:k,isNegF:T,offsetF:O}}function c(w,y){if(!Array.isArray(w))throw new Error("array expected");w.forEach((v,m)=>{if(!(v instanceof y))throw new Error("invalid point at index "+m)})}function u(w,y){if(!Array.isArray(w))throw new Error("array of scalars expected");w.forEach((v,m)=>{if(!y.isValid(v))throw new Error("invalid scalar at index "+m)})}const l=new WeakMap,f=new WeakMap;function d(w){return f.get(w)||1}function h(w,y){return{constTimeNegate:i,hasPrecomputes(v){return d(v)!==1},unsafeLadder(v,m,C=w.ZERO){let E=v;for(;m>r;)m&n&&(C=C.add(E)),E=E.double(),m>>=n;return C},precomputeWindow(v,m){const{windows:C,windowSize:E}=o(m,y),_=[];let P=v,x=P;for(let O=0;O<C;O++){x=P,_.push(x);for(let D=1;D<E;D++)x=x.add(P),_.push(x);P=x.double()}return _},wNAF(v,m,C){let E=w.ZERO,_=w.BASE;const P=o(v,y);for(let x=0;x<P.windows;x++){const{nextN:O,offset:D,isZero:R,isNeg:k,isNegF:T,offsetF:S}=a(C,x,P);C=O,R?_=_.add(i(T,m[S])):E=E.add(i(k,m[D]))}return{p:E,f:_}},wNAFUnsafe(v,m,C,E=w.ZERO){const _=o(v,y);for(let P=0;P<_.windows&&C!==r;P++){const{nextN:x,offset:O,isZero:D,isNeg:R}=a(C,P,_);if(C=x,!D){const k=m[O];E=E.add(R?k.negate():k)}}return E},getPrecomputes(v,m,C){let E=l.get(m);return E||(E=this.precomputeWindow(m,v),v!==1&&l.set(m,C(E))),E},wNAFCached(v,m,C){const E=d(v);return this.wNAF(E,this.getPrecomputes(E,v,C),m)},wNAFCachedUnsafe(v,m,C,E){const _=d(v);return _===1?this.unsafeLadder(v,m,E):this.wNAFUnsafe(_,this.getPrecomputes(_,v,C),m,E)},setWindowSize(v,m){s(m,y),f.set(v,m),l.delete(v)}}}function g(w,y,v,m){c(v,w),u(m,y);const C=v.length,E=m.length;if(C!==E)throw new Error("arrays of points and scalars must have equal length");const _=w.ZERO,P=(0,t.bitLen)(BigInt(C));let x=1;P>12?x=P-3:P>4?x=P-2:P>0&&(x=2);const O=(0,t.bitMask)(x),D=new Array(Number(O)+1).fill(_),R=Math.floor((y.BITS-1)/x)*x;let k=_;for(let T=R;T>=0;T-=x){D.fill(_);for(let I=0;I<E;I++){const A=m[I],j=Number(A>>BigInt(T)&O);D[j]=D[j].add(v[I])}let S=_;for(let I=D.length-1,A=_;I>0;I--)A=A.add(D[I]),S=S.add(A);if(k=k.add(S),T!==0)for(let I=0;I<x;I++)k=k.double()}return k}function p(w,y,v,m){s(m,y.BITS),c(v,w);const C=w.ZERO,E=2**m-1,_=Math.ceil(y.BITS/m),P=(0,t.bitMask)(m),x=v.map(O=>{const D=[];for(let R=0,k=O;R<E;R++)D.push(k),k=k.add(O);return D});return O=>{if(u(O,y),O.length>v.length)throw new Error("array of scalars must be smaller than array of points");let D=C;for(let R=0;R<_;R++){if(D!==C)for(let T=0;T<m;T++)D=D.double();const k=BigInt(_*m-(R+1)*m);for(let T=0;T<O.length;T++){const S=O[T],I=Number(S>>k&P);I&&(D=D.add(x[T][I-1]))}}return D}}function b(w){return(0,e.validateField)(w.Fp),(0,t.validateObject)(w,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,e.nLength)(w.n,w.nBitLength),...w,p:w.Fp.ORDER})}return gl}var OD;function GY(){return OD||(OD=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DER=e.DERErr=void 0,e.weierstrassPoints=h,e.weierstrass=p,e.SWUFpSqrtRatio=b,e.mapToCurveSimpleSWU=w;const t=Vme(),r=LE(),n=Yd();function i(y){y.lowS!==void 0&&(0,n.abool)("lowS",y.lowS),y.prehash!==void 0&&(0,n.abool)("prehash",y.prehash)}function s(y){const v=(0,t.validateBasic)(y);(0,n.validateObject)(v,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:m,Fp:C,a:E}=v;if(m){if(!C.eql(E,C.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof m!="object"||typeof m.beta!="bigint"||typeof m.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...v})}class o extends Error{constructor(v=""){super(v)}}e.DERErr=o,e.DER={Err:o,_tlv:{encode:(y,v)=>{const{Err:m}=e.DER;if(y<0||y>256)throw new m("tlv.encode: wrong tag");if(v.length&1)throw new m("tlv.encode: unpadded data");const C=v.length/2,E=(0,n.numberToHexUnpadded)(C);if(E.length/2&128)throw new m("tlv.encode: long form length too big");const _=C>127?(0,n.numberToHexUnpadded)(E.length/2|128):"";return(0,n.numberToHexUnpadded)(y)+_+E+v},decode(y,v){const{Err:m}=e.DER;let C=0;if(y<0||y>256)throw new m("tlv.encode: wrong tag");if(v.length<2||v[C++]!==y)throw new m("tlv.decode: wrong tlv");const E=v[C++],_=!!(E&128);let P=0;if(!_)P=E;else{const O=E&127;if(!O)throw new m("tlv.decode(long): indefinite length not supported");if(O>4)throw new m("tlv.decode(long): byte length is too big");const D=v.subarray(C,C+O);if(D.length!==O)throw new m("tlv.decode: length bytes not complete");if(D[0]===0)throw new m("tlv.decode(long): zero leftmost byte");for(const R of D)P=P<<8|R;if(C+=O,P<128)throw new m("tlv.decode(long): not minimal encoding")}const x=v.subarray(C,C+P);if(x.length!==P)throw new m("tlv.decode: wrong value length");return{v:x,l:v.subarray(C+P)}}},_int:{encode(y){const{Err:v}=e.DER;if(y<c)throw new v("integer: negative integers are not allowed");let m=(0,n.numberToHexUnpadded)(y);if(Number.parseInt(m[0],16)&8&&(m="00"+m),m.length&1)throw new v("unexpected DER parsing assertion: unpadded hex");return m},decode(y){const{Err:v}=e.DER;if(y[0]&128)throw new v("invalid signature integer: negative");if(y[0]===0&&!(y[1]&128))throw new v("invalid signature integer: unnecessary leading zero");return(0,n.bytesToNumberBE)(y)}},toSig(y){const{Err:v,_int:m,_tlv:C}=e.DER,E=(0,n.ensureBytes)("signature",y),{v:_,l:P}=C.decode(48,E);if(P.length)throw new v("invalid signature: left bytes after parsing");const{v:x,l:O}=C.decode(2,_),{v:D,l:R}=C.decode(2,O);if(R.length)throw new v("invalid signature: left bytes after parsing");return{r:m.decode(x),s:m.decode(D)}},hexFromSig(y){const{_tlv:v,_int:m}=e.DER,C=v.encode(2,m.encode(y.r)),E=v.encode(2,m.encode(y.s)),_=C+E;return v.encode(48,_)}};function a(y,v){return(0,n.bytesToHex)((0,n.numberToBytesBE)(y,v))}const c=BigInt(0),u=BigInt(1),l=BigInt(2),f=BigInt(3),d=BigInt(4);function h(y){const v=s(y),{Fp:m}=v,C=(0,r.Field)(v.n,v.nBitLength),E=v.toBytes||(($,M,L)=>{const q=M.toAffine();return(0,n.concatBytes)(Uint8Array.from([4]),m.toBytes(q.x),m.toBytes(q.y))}),_=v.fromBytes||($=>{const M=$.subarray(1),L=m.fromBytes(M.subarray(0,m.BYTES)),q=m.fromBytes(M.subarray(m.BYTES,2*m.BYTES));return{x:L,y:q}});function P($){const{a:M,b:L}=v,q=m.sqr($),U=m.mul(q,$);return m.add(m.add(U,m.mul($,M)),L)}function x($,M){const L=m.sqr(M),q=P($);return m.eql(L,q)}if(!x(v.Gx,v.Gy))throw new Error("bad curve params: generator point");const O=m.mul(m.pow(v.a,f),d),D=m.mul(m.sqr(v.b),BigInt(27));if(m.is0(m.add(O,D)))throw new Error("bad curve params: a or b");function R($){return(0,n.inRange)($,u,v.n)}function k($){const{allowedPrivateKeyLengths:M,nByteLength:L,wrapPrivateKey:q,n:U}=v;if(M&&typeof $!="bigint"){if((0,n.isBytes)($)&&($=(0,n.bytesToHex)($)),typeof $!="string"||!M.includes($.length))throw new Error("invalid private key");$=$.padStart(L*2,"0")}let F;try{F=typeof $=="bigint"?$:(0,n.bytesToNumberBE)((0,n.ensureBytes)("private key",$,L))}catch{throw new Error("invalid private key, expected hex or "+L+" bytes, got "+typeof $)}return q&&(F=(0,r.mod)(F,U)),(0,n.aInRange)("private key",F,u,U),F}function T($){if(!($ instanceof A))throw new Error("ProjectivePoint expected")}const S=(0,n.memoized)(($,M)=>{const{px:L,py:q,pz:U}=$;if(m.eql(U,m.ONE))return{x:L,y:q};const F=$.is0();M==null&&(M=F?m.ONE:m.inv(U));const H=m.mul(L,M),V=m.mul(q,M),W=m.mul(U,M);if(F)return{x:m.ZERO,y:m.ZERO};if(!m.eql(W,m.ONE))throw new Error("invZ was invalid");return{x:H,y:V}}),I=(0,n.memoized)($=>{if($.is0()){if(v.allowInfinityPoint&&!m.is0($.py))return;throw new Error("bad point: ZERO")}const{x:M,y:L}=$.toAffine();if(!m.isValid(M)||!m.isValid(L))throw new Error("bad point: x or y not FE");if(!x(M,L))throw new Error("bad point: equation left != right");if(!$.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class A{constructor(M,L,q){if(M==null||!m.isValid(M))throw new Error("x required");if(L==null||!m.isValid(L)||m.is0(L))throw new Error("y required");if(q==null||!m.isValid(q))throw new Error("z required");this.px=M,this.py=L,this.pz=q,Object.freeze(this)}static fromAffine(M){const{x:L,y:q}=M||{};if(!M||!m.isValid(L)||!m.isValid(q))throw new Error("invalid affine point");if(M instanceof A)throw new Error("projective point not allowed");const U=F=>m.eql(F,m.ZERO);return U(L)&&U(q)?A.ZERO:new A(L,q,m.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(M){const L=(0,r.FpInvertBatch)(m,M.map(q=>q.pz));return M.map((q,U)=>q.toAffine(L[U])).map(A.fromAffine)}static fromHex(M){const L=A.fromAffine(_((0,n.ensureBytes)("pointHex",M)));return L.assertValidity(),L}static fromPrivateKey(M){return A.BASE.multiply(k(M))}static msm(M,L){return(0,t.pippenger)(A,C,M,L)}_setWindowSize(M){B.setWindowSize(this,M)}assertValidity(){I(this)}hasEvenY(){const{y:M}=this.toAffine();if(m.isOdd)return!m.isOdd(M);throw new Error("Field doesn't support isOdd")}equals(M){T(M);const{px:L,py:q,pz:U}=this,{px:F,py:H,pz:V}=M,W=m.eql(m.mul(L,V),m.mul(F,U)),Z=m.eql(m.mul(q,V),m.mul(H,U));return W&&Z}negate(){return new A(this.px,m.neg(this.py),this.pz)}double(){const{a:M,b:L}=v,q=m.mul(L,f),{px:U,py:F,pz:H}=this;let V=m.ZERO,W=m.ZERO,Z=m.ZERO,X=m.mul(U,U),ue=m.mul(F,F),Y=m.mul(H,H),Q=m.mul(U,F);return Q=m.add(Q,Q),Z=m.mul(U,H),Z=m.add(Z,Z),V=m.mul(M,Z),W=m.mul(q,Y),W=m.add(V,W),V=m.sub(ue,W),W=m.add(ue,W),W=m.mul(V,W),V=m.mul(Q,V),Z=m.mul(q,Z),Y=m.mul(M,Y),Q=m.sub(X,Y),Q=m.mul(M,Q),Q=m.add(Q,Z),Z=m.add(X,X),X=m.add(Z,X),X=m.add(X,Y),X=m.mul(X,Q),W=m.add(W,X),Y=m.mul(F,H),Y=m.add(Y,Y),X=m.mul(Y,Q),V=m.sub(V,X),Z=m.mul(Y,ue),Z=m.add(Z,Z),Z=m.add(Z,Z),new A(V,W,Z)}add(M){T(M);const{px:L,py:q,pz:U}=this,{px:F,py:H,pz:V}=M;let W=m.ZERO,Z=m.ZERO,X=m.ZERO;const ue=v.a,Y=m.mul(v.b,f);let Q=m.mul(L,F),ae=m.mul(q,H),he=m.mul(U,V),pe=m.add(L,q),be=m.add(F,H);pe=m.mul(pe,be),be=m.add(Q,ae),pe=m.sub(pe,be),be=m.add(L,U);let Pe=m.add(F,V);return be=m.mul(be,Pe),Pe=m.add(Q,he),be=m.sub(be,Pe),Pe=m.add(q,U),W=m.add(H,V),Pe=m.mul(Pe,W),W=m.add(ae,he),Pe=m.sub(Pe,W),X=m.mul(ue,be),W=m.mul(Y,he),X=m.add(W,X),W=m.sub(ae,X),X=m.add(ae,X),Z=m.mul(W,X),ae=m.add(Q,Q),ae=m.add(ae,Q),he=m.mul(ue,he),be=m.mul(Y,be),ae=m.add(ae,he),he=m.sub(Q,he),he=m.mul(ue,he),be=m.add(be,he),Q=m.mul(ae,be),Z=m.add(Z,Q),Q=m.mul(Pe,be),W=m.mul(pe,W),W=m.sub(W,Q),Q=m.mul(pe,ae),X=m.mul(Pe,X),X=m.add(X,Q),new A(W,Z,X)}subtract(M){return this.add(M.negate())}is0(){return this.equals(A.ZERO)}wNAF(M){return B.wNAFCached(this,M,A.normalizeZ)}multiplyUnsafe(M){const{endo:L,n:q}=v;(0,n.aInRange)("scalar",M,c,q);const U=A.ZERO;if(M===c)return U;if(this.is0()||M===u)return this;if(!L||B.hasPrecomputes(this))return B.wNAFCachedUnsafe(this,M,A.normalizeZ);let{k1neg:F,k1:H,k2neg:V,k2:W}=L.splitScalar(M),Z=U,X=U,ue=this;for(;H>c||W>c;)H&u&&(Z=Z.add(ue)),W&u&&(X=X.add(ue)),ue=ue.double(),H>>=u,W>>=u;return F&&(Z=Z.negate()),V&&(X=X.negate()),X=new A(m.mul(X.px,L.beta),X.py,X.pz),Z.add(X)}multiply(M){const{endo:L,n:q}=v;(0,n.aInRange)("scalar",M,u,q);let U,F;if(L){const{k1neg:H,k1:V,k2neg:W,k2:Z}=L.splitScalar(M);let{p:X,f:ue}=this.wNAF(V),{p:Y,f:Q}=this.wNAF(Z);X=B.constTimeNegate(H,X),Y=B.constTimeNegate(W,Y),Y=new A(m.mul(Y.px,L.beta),Y.py,Y.pz),U=X.add(Y),F=ue.add(Q)}else{const{p:H,f:V}=this.wNAF(M);U=H,F=V}return A.normalizeZ([U,F])[0]}multiplyAndAddUnsafe(M,L,q){const U=A.BASE,F=(V,W)=>W===c||W===u||!V.equals(U)?V.multiplyUnsafe(W):V.multiply(W),H=F(this,L).add(F(M,q));return H.is0()?void 0:H}toAffine(M){return S(this,M)}isTorsionFree(){const{h:M,isTorsionFree:L}=v;if(M===u)return!0;if(L)return L(A,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:M,clearCofactor:L}=v;return M===u?this:L?L(A,this):this.multiplyUnsafe(v.h)}toRawBytes(M=!0){return(0,n.abool)("isCompressed",M),this.assertValidity(),E(A,this,M)}toHex(M=!0){return(0,n.abool)("isCompressed",M),(0,n.bytesToHex)(this.toRawBytes(M))}}A.BASE=new A(v.Gx,v.Gy,m.ONE),A.ZERO=new A(m.ZERO,m.ONE,m.ZERO);const{endo:j,nBitLength:N}=v,B=(0,t.wNAF)(A,j?Math.ceil(N/2):N);return{CURVE:v,ProjectivePoint:A,normPrivateKeyToScalar:k,weierstrassEquation:P,isWithinCurveOrder:R}}function g(y){const v=(0,t.validateBasic)(y);return(0,n.validateObject)(v,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...v})}function p(y){const v=g(y),{Fp:m,n:C,nByteLength:E,nBitLength:_}=v,P=m.BYTES+1,x=2*m.BYTES+1;function O(Y){return(0,r.mod)(Y,C)}function D(Y){return(0,r.invert)(Y,C)}const{ProjectivePoint:R,normPrivateKeyToScalar:k,weierstrassEquation:T,isWithinCurveOrder:S}=h({...v,toBytes(Y,Q,ae){const he=Q.toAffine(),pe=m.toBytes(he.x),be=n.concatBytes;return(0,n.abool)("isCompressed",ae),ae?be(Uint8Array.from([Q.hasEvenY()?2:3]),pe):be(Uint8Array.from([4]),pe,m.toBytes(he.y))},fromBytes(Y){const Q=Y.length,ae=Y[0],he=Y.subarray(1);if(Q===P&&(ae===2||ae===3)){const pe=(0,n.bytesToNumberBE)(he);if(!(0,n.inRange)(pe,u,m.ORDER))throw new Error("Point is not on curve");const be=T(pe);let Pe;try{Pe=m.sqrt(be)}catch(Qe){const Ke=Qe instanceof Error?": "+Qe.message:"";throw new Error("Point is not on curve"+Ke)}const fe=(Pe&u)===u;return(ae&1)===1!==fe&&(Pe=m.neg(Pe)),{x:pe,y:Pe}}else if(Q===x&&ae===4){const pe=m.fromBytes(he.subarray(0,m.BYTES)),be=m.fromBytes(he.subarray(m.BYTES,2*m.BYTES));return{x:pe,y:be}}else{const pe=P,be=x;throw new Error("invalid Point, expected length of "+pe+", or uncompressed "+be+", got "+Q)}}});function I(Y){const Q=C>>u;return Y>Q}function A(Y){return I(Y)?O(-Y):Y}const j=(Y,Q,ae)=>(0,n.bytesToNumberBE)(Y.slice(Q,ae));class N{constructor(Q,ae,he){(0,n.aInRange)("r",Q,u,C),(0,n.aInRange)("s",ae,u,C),this.r=Q,this.s=ae,he!=null&&(this.recovery=he),Object.freeze(this)}static fromCompact(Q){const ae=E;return Q=(0,n.ensureBytes)("compactSignature",Q,ae*2),new N(j(Q,0,ae),j(Q,ae,2*ae))}static fromDER(Q){const{r:ae,s:he}=e.DER.toSig((0,n.ensureBytes)("DER",Q));return new N(ae,he)}assertValidity(){}addRecoveryBit(Q){return new N(this.r,this.s,Q)}recoverPublicKey(Q){const{r:ae,s:he,recovery:pe}=this,be=U((0,n.ensureBytes)("msgHash",Q));if(pe==null||![0,1,2,3].includes(pe))throw new Error("recovery id invalid");const Pe=pe===2||pe===3?ae+v.n:ae;if(Pe>=m.ORDER)throw new Error("recovery id 2 or 3 invalid");const fe=(pe&1)===0?"02":"03",ce=R.fromHex(fe+a(Pe,m.BYTES)),Qe=D(Pe),Ke=O(-be*Qe),Ft=O(he*Qe),At=R.BASE.multiplyAndAddUnsafe(ce,Ke,Ft);if(!At)throw new Error("point at infinify");return At.assertValidity(),At}hasHighS(){return I(this.s)}normalizeS(){return this.hasHighS()?new N(this.r,O(-this.s),this.recovery):this}toDERRawBytes(){return(0,n.hexToBytes)(this.toDERHex())}toDERHex(){return e.DER.hexFromSig(this)}toCompactRawBytes(){return(0,n.hexToBytes)(this.toCompactHex())}toCompactHex(){const Q=E;return a(this.r,Q)+a(this.s,Q)}}const B={isValidPrivateKey(Y){try{return k(Y),!0}catch{return!1}},normPrivateKeyToScalar:k,randomPrivateKey:()=>{const Y=(0,r.getMinHashLength)(v.n);return(0,r.mapHashToField)(v.randomBytes(Y),v.n)},precompute(Y=8,Q=R.BASE){return Q._setWindowSize(Y),Q.multiply(BigInt(3)),Q}};function $(Y,Q=!0){return R.fromPrivateKey(Y).toRawBytes(Q)}function M(Y){if(typeof Y=="bigint")return!1;if(Y instanceof R)return!0;const ae=(0,n.ensureBytes)("key",Y).length,he=m.BYTES,pe=he+1,be=2*he+1;if(!(v.allowedPrivateKeyLengths||E===pe))return ae===pe||ae===be}function L(Y,Q,ae=!0){if(M(Y)===!0)throw new Error("first arg must be private key");if(M(Q)===!1)throw new Error("second arg must be public key");return R.fromHex(Q).multiply(k(Y)).toRawBytes(ae)}const q=v.bits2int||function(Y){if(Y.length>8192)throw new Error("input is too large");const Q=(0,n.bytesToNumberBE)(Y),ae=Y.length*8-_;return ae>0?Q>>BigInt(ae):Q},U=v.bits2int_modN||function(Y){return O(q(Y))},F=(0,n.bitMask)(_);function H(Y){return(0,n.aInRange)("num < 2^"+_,Y,c,F),(0,n.numberToBytesBE)(Y,E)}function V(Y,Q,ae=W){if(["recovered","canonical"].some(Ht=>Ht in ae))throw new Error("sign() legacy options not supported");const{hash:he,randomBytes:pe}=v;let{lowS:be,prehash:Pe,extraEntropy:fe}=ae;be==null&&(be=!0),Y=(0,n.ensureBytes)("msgHash",Y),i(ae),Pe&&(Y=(0,n.ensureBytes)("prehashed msgHash",he(Y)));const ce=U(Y),Qe=k(Q),Ke=[H(Qe),H(ce)];if(fe!=null&&fe!==!1){const Ht=fe===!0?pe(m.BYTES):fe;Ke.push((0,n.ensureBytes)("extraEntropy",Ht))}const Ft=(0,n.concatBytes)(...Ke),At=ce;function xr(Ht){const et=q(Ht);if(!S(et))return;const Ir=D(et),hr=R.BASE.multiply(et).toAffine(),Ue=O(hr.x);if(Ue===c)return;const Ge=O(Ir*O(At+Ue*Qe));if(Ge===c)return;let ke=(hr.x===Ue?0:2)|Number(hr.y&u),st=Ge;return be&&I(Ge)&&(st=A(Ge),ke^=1),new N(Ue,st,ke)}return{seed:Ft,k2sig:xr}}const W={lowS:v.lowS,prehash:!1},Z={lowS:v.lowS,prehash:!1};function X(Y,Q,ae=W){const{seed:he,k2sig:pe}=V(Y,Q,ae),be=v;return(0,n.createHmacDrbg)(be.hash.outputLen,be.nByteLength,be.hmac)(he,pe)}R.BASE._setWindowSize(8);function ue(Y,Q,ae,he=Z){const pe=Y;Q=(0,n.ensureBytes)("msgHash",Q),ae=(0,n.ensureBytes)("publicKey",ae);const{lowS:be,prehash:Pe,format:fe}=he;if(i(he),"strict"in he)throw new Error("options.strict was renamed to lowS");if(fe!==void 0&&fe!=="compact"&&fe!=="der")throw new Error("format must be compact or der");const ce=typeof pe=="string"||(0,n.isBytes)(pe),Qe=!ce&&!fe&&typeof pe=="object"&&pe!==null&&typeof pe.r=="bigint"&&typeof pe.s=="bigint";if(!ce&&!Qe)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Ke,Ft;try{if(Qe&&(Ke=new N(pe.r,pe.s)),ce){try{fe!=="compact"&&(Ke=N.fromDER(pe))}catch(ke){if(!(ke instanceof e.DER.Err))throw ke}!Ke&&fe!=="der"&&(Ke=N.fromCompact(pe))}Ft=R.fromHex(ae)}catch{return!1}if(!Ke||be&&Ke.hasHighS())return!1;Pe&&(Q=v.hash(Q));const{r:At,s:xr}=Ke,Ht=U(Q),et=D(xr),Ir=O(Ht*et),hr=O(At*et),Ue=R.BASE.multiplyAndAddUnsafe(Ft,Ir,hr)?.toAffine();return Ue?O(Ue.x)===At:!1}return{CURVE:v,getPublicKey:$,getSharedSecret:L,sign:X,verify:ue,ProjectivePoint:R,Signature:N,utils:B}}function b(y,v){const m=y.ORDER;let C=c;for(let I=m-u;I%l===c;I/=l)C+=u;const E=C,_=l<<E-u-u,P=_*l,x=(m-u)/P,O=(x-u)/l,D=P-u,R=_,k=y.pow(v,x),T=y.pow(v,(x+u)/l);let S=(I,A)=>{let j=k,N=y.pow(A,D),B=y.sqr(N);B=y.mul(B,A);let $=y.mul(I,B);$=y.pow($,O),$=y.mul($,N),N=y.mul($,A),B=y.mul($,I);let M=y.mul(B,N);$=y.pow(M,R);let L=y.eql($,y.ONE);N=y.mul(B,T),$=y.mul(M,j),B=y.cmov(N,B,L),M=y.cmov($,M,L);for(let q=E;q>u;q--){let U=q-l;U=l<<U-u;let F=y.pow(M,U);const H=y.eql(F,y.ONE);N=y.mul(B,j),j=y.mul(j,j),F=y.mul(M,j),B=y.cmov(N,B,H),M=y.cmov(F,M,H)}return{isValid:L,value:B}};if(y.ORDER%d===f){const I=(y.ORDER-f)/d,A=y.sqrt(y.neg(v));S=(j,N)=>{let B=y.sqr(N);const $=y.mul(j,N);B=y.mul(B,$);let M=y.pow(B,I);M=y.mul(M,$);const L=y.mul(M,A),q=y.mul(y.sqr(M),N),U=y.eql(q,j);let F=y.cmov(L,M,U);return{isValid:U,value:F}}}return S}function w(y,v){if((0,r.validateField)(y),!y.isValid(v.A)||!y.isValid(v.B)||!y.isValid(v.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const m=b(y,v.Z);if(!y.isOdd)throw new Error("Fp.isOdd is not implemented!");return C=>{let E,_,P,x,O,D,R,k;E=y.sqr(C),E=y.mul(E,v.Z),_=y.sqr(E),_=y.add(_,E),P=y.add(_,y.ONE),P=y.mul(P,v.B),x=y.cmov(v.Z,y.neg(_),!y.eql(_,y.ZERO)),x=y.mul(x,v.A),_=y.sqr(P),D=y.sqr(x),O=y.mul(D,v.A),_=y.add(_,O),_=y.mul(_,P),D=y.mul(D,x),O=y.mul(D,v.B),_=y.add(_,O),R=y.mul(E,P);const{isValid:T,value:S}=m(_,D);k=y.mul(E,C),k=y.mul(k,S),R=y.cmov(R,P,T),k=y.cmov(k,S,T);const I=y.isOdd(C)===y.isOdd(k);k=y.cmov(y.neg(k),k,I);const A=(0,r.FpInvertBatch)(y,[x],!0)[0];return R=y.mul(R,A),{x:R,y:k}}}})(m4)),m4}var jD;function Gme(){if(jD)return lg;jD=1,Object.defineProperty(lg,"__esModule",{value:!0}),lg.getHash=n,lg.createCurve=i;const e=$Z(),t=ju(),r=GY();function n(s){return{hash:s,hmac:(o,...a)=>(0,e.hmac)(s,o,(0,t.concatBytes)(...a)),randomBytes:t.randomBytes}}function i(s,o){const a=c=>(0,r.weierstrass)({...s,...n(c)});return{...a(o),create:a}}return lg}var Vc={},BD;function Kme(){if(BD)return Vc;BD=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.expand_message_xmd=o,Vc.expand_message_xof=a,Vc.hash_to_field=c,Vc.isogenyMap=u,Vc.createHasher=l;const e=LE(),t=Yd(),r=t.bytesToNumberBE;function n(f,d){if(s(f),s(d),f<0||f>=1<<8*d)throw new Error("invalid I2OSP input: "+f);const h=Array.from({length:d}).fill(0);for(let g=d-1;g>=0;g--)h[g]=f&255,f>>>=8;return new Uint8Array(h)}function i(f,d){const h=new Uint8Array(f.length);for(let g=0;g<f.length;g++)h[g]=f[g]^d[g];return h}function s(f){if(!Number.isSafeInteger(f))throw new Error("number expected")}function o(f,d,h,g){(0,t.abytes)(f),(0,t.abytes)(d),s(h),d.length>255&&(d=g((0,t.concatBytes)((0,t.utf8ToBytes)("H2C-OVERSIZE-DST-"),d)));const{outputLen:p,blockLen:b}=g,w=Math.ceil(h/p);if(h>65535||w>255)throw new Error("expand_message_xmd: invalid lenInBytes");const y=(0,t.concatBytes)(d,n(d.length,1)),v=n(0,b),m=n(h,2),C=new Array(w),E=g((0,t.concatBytes)(v,f,m,n(0,1),y));C[0]=g((0,t.concatBytes)(E,n(1,1),y));for(let P=1;P<=w;P++){const x=[i(E,C[P-1]),n(P+1,1),y];C[P]=g((0,t.concatBytes)(...x))}return(0,t.concatBytes)(...C).slice(0,h)}function a(f,d,h,g,p){if((0,t.abytes)(f),(0,t.abytes)(d),s(h),d.length>255){const b=Math.ceil(2*g/8);d=p.create({dkLen:b}).update((0,t.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(d).digest()}if(h>65535||d.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return p.create({dkLen:h}).update(f).update(n(h,2)).update(d).update(n(d.length,1)).digest()}function c(f,d,h){(0,t.validateObject)(h,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:g,k:p,m:b,hash:w,expand:y,DST:v}=h;(0,t.abytes)(f),s(d);const m=typeof v=="string"?(0,t.utf8ToBytes)(v):v,C=g.toString(2).length,E=Math.ceil((C+p)/8),_=d*b*E;let P;if(y==="xmd")P=o(f,m,_,w);else if(y==="xof")P=a(f,m,_,p,w);else if(y==="_internal_pass")P=f;else throw new Error('expand must be "xmd" or "xof"');const x=new Array(d);for(let O=0;O<d;O++){const D=new Array(b);for(let R=0;R<b;R++){const k=E*(R+O*b),T=P.subarray(k,k+E);D[R]=(0,e.mod)(r(T),g)}x[O]=D}return x}function u(f,d){const h=d.map(g=>Array.from(g).reverse());return(g,p)=>{const[b,w,y,v]=h.map(E=>E.reduce((_,P)=>f.add(f.mul(_,g),P))),[m,C]=(0,e.FpInvertBatch)(f,[w,v],!0);return g=f.mul(b,m),p=f.mul(p,f.mul(y,C)),{x:g,y:p}}}function l(f,d,h){if(typeof d!="function")throw new Error("mapToCurve() must be defined");function g(b){return f.fromAffine(d(b))}function p(b){const w=b.clearCofactor();return w.equals(f.ZERO)?f.ZERO:(w.assertValidity(),w)}return{defaults:h,hashToCurve(b,w){const y=c(b,2,{...h,DST:h.DST,...w}),v=g(y[0]),m=g(y[1]);return p(v.add(m))},encodeToCurve(b,w){const y=c(b,1,{...h,DST:h.encodeDST,...w});return p(g(y[0]))},mapToCurve(b){if(!Array.isArray(b))throw new Error("expected array of bigints");for(const w of b)if(typeof w!="bigint")throw new Error("expected array of bigints");return p(g(b))}}}return Vc}var RD;function KY(){return RD||(RD=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.encodeToCurve=e.hashToCurve=e.secp256k1_hasher=e.schnorr=e.secp256k1=void 0;const t=cW(),r=ju(),n=Gme(),i=Kme(),s=LE(),o=Yd(),a=GY(),c=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),u=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),l=BigInt(0),f=BigInt(1),d=BigInt(2),h=(A,j)=>(A+j/d)/j;function g(A){const j=c,N=BigInt(3),B=BigInt(6),$=BigInt(11),M=BigInt(22),L=BigInt(23),q=BigInt(44),U=BigInt(88),F=A*A*A%j,H=F*F*A%j,V=(0,s.pow2)(H,N,j)*H%j,W=(0,s.pow2)(V,N,j)*H%j,Z=(0,s.pow2)(W,d,j)*F%j,X=(0,s.pow2)(Z,$,j)*Z%j,ue=(0,s.pow2)(X,M,j)*X%j,Y=(0,s.pow2)(ue,q,j)*ue%j,Q=(0,s.pow2)(Y,U,j)*Y%j,ae=(0,s.pow2)(Q,q,j)*ue%j,he=(0,s.pow2)(ae,N,j)*H%j,pe=(0,s.pow2)(he,L,j)*X%j,be=(0,s.pow2)(pe,B,j)*F%j,Pe=(0,s.pow2)(be,d,j);if(!p.eql(p.sqr(Pe),A))throw new Error("Cannot find square root");return Pe}const p=(0,s.Field)(c,void 0,void 0,{sqrt:g});e.secp256k1=(0,n.createCurve)({a:l,b:BigInt(7),Fp:p,n:u,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:A=>{const j=u,N=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),B=-f*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),$=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),M=N,L=BigInt("0x100000000000000000000000000000000"),q=h(M*A,j),U=h(-B*A,j);let F=(0,s.mod)(A-q*N-U*$,j),H=(0,s.mod)(-q*B-U*M,j);const V=F>L,W=H>L;if(V&&(F=j-F),W&&(H=j-H),F>L||H>L)throw new Error("splitScalar: Endomorphism failed, k="+A);return{k1neg:V,k1:F,k2neg:W,k2:H}}}},t.sha256);const b={};function w(A,...j){let N=b[A];if(N===void 0){const B=(0,t.sha256)(Uint8Array.from(A,$=>$.charCodeAt(0)));N=(0,o.concatBytes)(B,B),b[A]=N}return(0,t.sha256)((0,o.concatBytes)(N,...j))}const y=A=>A.toRawBytes(!0).slice(1),v=A=>(0,o.numberToBytesBE)(A,32),m=A=>(0,s.mod)(A,c),C=A=>(0,s.mod)(A,u),E=e.secp256k1.ProjectivePoint,_=(A,j,N)=>E.BASE.multiplyAndAddUnsafe(A,j,N);function P(A){let j=e.secp256k1.utils.normPrivateKeyToScalar(A),N=E.fromPrivateKey(j);return{scalar:N.hasEvenY()?j:C(-j),bytes:y(N)}}function x(A){(0,o.aInRange)("x",A,f,c);const j=m(A*A),N=m(j*A+BigInt(7));let B=g(N);B%d!==l&&(B=m(-B));const $=new E(A,B,f);return $.assertValidity(),$}const O=o.bytesToNumberBE;function D(...A){return C(O(w("BIP0340/challenge",...A)))}function R(A){return P(A).bytes}function k(A,j,N=(0,r.randomBytes)(32)){const B=(0,o.ensureBytes)("message",A),{bytes:$,scalar:M}=P(j),L=(0,o.ensureBytes)("auxRand",N,32),q=v(M^O(w("BIP0340/aux",L))),U=w("BIP0340/nonce",q,$,B),F=C(O(U));if(F===l)throw new Error("sign failed: k is zero");const{bytes:H,scalar:V}=P(F),W=D(H,$,B),Z=new Uint8Array(64);if(Z.set(H,0),Z.set(v(C(V+W*M)),32),!T(Z,B,$))throw new Error("sign: Invalid signature produced");return Z}function T(A,j,N){const B=(0,o.ensureBytes)("signature",A,64),$=(0,o.ensureBytes)("message",j),M=(0,o.ensureBytes)("publicKey",N,32);try{const L=x(O(M)),q=O(B.subarray(0,32));if(!(0,o.inRange)(q,f,c))return!1;const U=O(B.subarray(32,64));if(!(0,o.inRange)(U,f,u))return!1;const F=D(v(q),y(L),$),H=_(L,U,C(-F));return!(!H||!H.hasEvenY()||H.toAffine().x!==q)}catch{return!1}}e.schnorr={getPublicKey:R,sign:k,verify:T,utils:{randomPrivateKey:e.secp256k1.utils.randomPrivateKey,lift_x:x,pointToBytes:y,numberToBytesBE:o.numberToBytesBE,bytesToNumberBE:o.bytesToNumberBE,taggedHash:w,mod:s.mod}};const S=(0,i.isogenyMap)(p,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(A=>A.map(j=>BigInt(j)))),I=(0,a.mapToCurveSimpleSWU)(p,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:p.create(BigInt("-11"))});e.secp256k1_hasher=(0,i.createHasher)(e.secp256k1.ProjectivePoint,A=>{const{x:j,y:N}=I(p.create(A[0]));return S(j,N)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:p.ORDER,m:1,k:128,expand:"xmd",hash:t.sha256}),e.hashToCurve=e.secp256k1_hasher.hashToCurve,e.encodeToCurve=e.secp256k1_hasher.encodeToCurve})(g4)),g4}var kD;function ZY(){if(kD)return ut;kD=1,Object.defineProperty(ut,"__esModule",{value:!0}),ut.InvalidVError=ut.InvalidYParityError=ut.InvalidSError=ut.InvalidRError=ut.MissingPropertiesError=ut.InvalidSerializedSizeError=void 0,ut.assert=o,ut.fromBytes=a,ut.fromHex=c,ut.extract=u,ut.from=l,ut.fromDerBytes=f,ut.fromDerHex=d,ut.fromLegacy=h,ut.fromRpc=g,ut.fromTuple=p,ut.toBytes=b,ut.toHex=w,ut.toDerBytes=y,ut.toDerHex=v,ut.toLegacy=m,ut.toRpc=C,ut.toTuple=E,ut.validate=_,ut.vToYParity=P,ut.yParityToV=x;const e=KY(),t=va(),r=Ps(),n=$n(),i=SE(),s=GS();function o(I,A={}){const{recovered:j}=A;if(typeof I.r>"u")throw new D({signature:I});if(typeof I.s>"u")throw new D({signature:I});if(j&&typeof I.yParity>"u")throw new D({signature:I});if(I.r<0n||I.r>s.maxUint256)throw new R({value:I.r});if(I.s<0n||I.s>s.maxUint256)throw new k({value:I.s});if(typeof I.yParity=="number"&&I.yParity!==0&&I.yParity!==1)throw new T({value:I.yParity})}function a(I){return c(n.fromBytes(I))}function c(I){if(I.length!==130&&I.length!==132)throw new O({signature:I});const A=BigInt(n.slice(I,0,32)),j=BigInt(n.slice(I,32,64)),N=(()=>{const B=+`0x${I.slice(130)}`;if(!Number.isNaN(B))try{return P(B)}catch{throw new T({value:B})}})();return typeof N>"u"?{r:A,s:j}:{r:A,s:j,yParity:N}}function u(I){if(!(typeof I.r>"u")&&!(typeof I.s>"u"))return l(I)}function l(I){const A=typeof I=="string"?c(I):I instanceof Uint8Array?a(I):typeof I.r=="string"?g(I):I.v?h(I):{r:I.r,s:I.s,...typeof I.yParity<"u"?{yParity:I.yParity}:{}};return o(A),A}function f(I){return d(n.fromBytes(I))}function d(I){const{r:A,s:j}=e.secp256k1.Signature.fromDER(n.from(I).slice(2));return{r:A,s:j}}function h(I){return{r:I.r,s:I.s,yParity:P(I.v)}}function g(I){const A=(()=>{const j=I.v?Number(I.v):void 0;let N=I.yParity?Number(I.yParity):void 0;if(typeof j=="number"&&typeof N!="number"&&(N=P(j)),typeof N!="number")throw new T({value:I.yParity});return N})();return{r:BigInt(I.r),s:BigInt(I.s),yParity:A}}function p(I){const[A,j,N]=I;return l({r:j==="0x"?0n:BigInt(j),s:N==="0x"?0n:BigInt(N),yParity:A==="0x"?0:Number(A)})}function b(I){return t.fromHex(w(I))}function w(I){o(I);const A=I.r,j=I.s;return n.concat(n.fromNumber(A,{size:32}),n.fromNumber(j,{size:32}),typeof I.yParity=="number"?n.fromNumber(x(I.yParity),{size:1}):"0x")}function y(I){return new e.secp256k1.Signature(I.r,I.s).toDERRawBytes()}function v(I){return`0x${new e.secp256k1.Signature(I.r,I.s).toDERHex()}`}function m(I){return{r:I.r,s:I.s,v:x(I.yParity)}}function C(I){const{r:A,s:j,yParity:N}=I;return{r:n.fromNumber(A,{size:32}),s:n.fromNumber(j,{size:32}),yParity:N===0?"0x0":"0x1"}}function E(I){const{r:A,s:j,yParity:N}=I;return[N?"0x01":"0x",A===0n?"0x":n.trimLeft(n.fromNumber(A)),j===0n?"0x":n.trimLeft(n.fromNumber(j))]}function _(I,A={}){try{return o(I,A),!0}catch{return!1}}function P(I){if(I===0||I===27)return 0;if(I===1||I===28)return 1;if(I>=35)return I%2===0?1:0;throw new S({value:I})}function x(I){if(I===0)return 27;if(I===1)return 28;throw new T({value:I})}class O extends r.BaseError{constructor({signature:A}){super(`Value \`${A}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${n.size(n.from(A))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}ut.InvalidSerializedSizeError=O;class D extends r.BaseError{constructor({signature:A}){super(`Signature \`${i.stringify(A)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}ut.MissingPropertiesError=D;class R extends r.BaseError{constructor({value:A}){super(`Value \`${A}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}ut.InvalidRError=R;class k extends r.BaseError{constructor({value:A}){super(`Value \`${A}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}ut.InvalidSError=k;class T extends r.BaseError{constructor({value:A}){super(`Value \`${A}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}ut.InvalidYParityError=T;class S extends r.BaseError{constructor({value:A}){super(`Value \`${A}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}return ut.InvalidVError=S,ut}var ND;function Zme(){if(ND)return Ei;ND=1,Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.from=i,Ei.fromRpc=s,Ei.fromRpcList=o,Ei.fromTuple=a,Ei.fromTupleList=c,Ei.getSignPayload=u,Ei.hash=l,Ei.toRpc=f,Ei.toRpcList=d,Ei.toTuple=h,Ei.toTupleList=g;const e=VS(),t=$n(),r=Wme(),n=ZY();function i(p,b={}){return typeof p.chainId=="string"?s(p):{...p,...b.signature}}function s(p){const{address:b,chainId:w,nonce:y}=p,v=n.extract(p);return{address:b,chainId:Number(w),nonce:BigInt(y),...v}}function o(p){return p.map(s)}function a(p){const[b,w,y,v,m,C]=p;let E={address:w,chainId:b==="0x"?0:Number(b),nonce:y==="0x"?0n:BigInt(y)};return v&&m&&C&&(E={...E,...n.fromTuple([v,m,C])}),i(E)}function c(p){const b=[];for(const w of p)b.push(a(w));return b}function u(p){return l(p,{presign:!0})}function l(p,b={}){const{presign:w}=b;return e.keccak256(t.concat("0x05",r.fromHex(h(w?{address:p.address,chainId:p.chainId,nonce:p.nonce}:p))))}function f(p){const{address:b,chainId:w,nonce:y,...v}=p;return{address:b,chainId:t.fromNumber(w),nonce:t.fromNumber(y),...n.toRpc(v)}}function d(p){return p.map(f)}function h(p){const{address:b,chainId:w,nonce:y}=p,v=n.extract(p);return[w?t.fromNumber(w):"0x",b,y?t.fromNumber(y):"0x",...v?n.toTuple(v):[]]}function g(p){if(!p||p.length===0)return[];const b=[];for(const w of p)b.push(h(w));return b}return Ei}var rs={},ml={},DD;function Yme(){if(DD)return ml;DD=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.extraEntropy=void 0,ml.setExtraEntropy=e,ml.extraEntropy=!1;function e(t){ml.extraEntropy=t}return ml}var $D;function Qme(){if($D)return rs;$D=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.noble=void 0,rs.createKeyPair=o,rs.getPublicKey=a,rs.getSharedSecret=c,rs.randomPrivateKey=u,rs.recoverAddress=l,rs.recoverPublicKey=f,rs.sign=d,rs.verify=h;const e=KY(),t=ME(),r=va(),n=$n(),i=Yme(),s=WY();rs.noble=e.secp256k1;function o(g={}){const{as:p="Hex"}=g,b=u({as:p}),w=a({privateKey:b});return{privateKey:b,publicKey:w}}function a(g){const{privateKey:p}=g,b=e.secp256k1.ProjectivePoint.fromPrivateKey(n.from(p).slice(2));return s.from(b)}function c(g){const{as:p="Hex",privateKey:b,publicKey:w}=g,m=e.secp256k1.ProjectivePoint.fromHex(s.toHex(w).slice(2)).multiply(e.secp256k1.utils.normPrivateKeyToScalar(n.from(b).slice(2))).toRawBytes(!0);return p==="Hex"?n.fromBytes(m):m}function u(g={}){const{as:p="Hex"}=g,b=e.secp256k1.utils.randomPrivateKey();return p==="Hex"?n.fromBytes(b):b}function l(g){return t.fromPublicKey(f(g))}function f(g){const{payload:p,signature:b}=g,{r:w,s:y,yParity:v}=b,C=new e.secp256k1.Signature(BigInt(w),BigInt(y)).addRecoveryBit(v).recoverPublicKey(n.from(p).substring(2));return s.from(C)}function d(g){const{extraEntropy:p=i.extraEntropy,hash:b,payload:w,privateKey:y}=g,{r:v,s:m,recovery:C}=e.secp256k1.sign(r.from(w),r.from(y),{extraEntropy:typeof p=="boolean"?p:n.from(p).slice(2),lowS:!0,...b?{prehash:!0}:{}});return{r:v,s:m,yParity:C}}function h(g){const{address:p,hash:b,payload:w,publicKey:y,signature:v}=g;return p?t.isEqual(p,l({payload:w,signature:v})):e.secp256k1.verify(v,r.from(w),s.toBytes(y),...b?[{prehash:!0,lowS:!0}]:[])}return rs}var MD;function Jme(){return MD||(MD=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidWrappedSignatureError=e.suffixParameters=e.magicBytes=void 0,e.assert=a,e.from=c,e.unwrap=u,e.wrap=l,e.validate=f;const t=X1(),r=Zme(),n=Ps(),i=$n(),s=Qme(),o=ZY();e.magicBytes="0x8010801080108010801080108010801080108010801080108010801080108010",e.suffixParameters=t.from("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function a(h){if(typeof h=="string"){if(i.slice(h,-32)!==e.magicBytes)throw new d(h)}else o.assert(h.authorization)}function c(h){return typeof h=="string"?u(h):h}function u(h){a(h);const g=i.toNumber(i.slice(h,-64,-32)),p=i.slice(h,-g-64,-64),b=i.slice(h,0,-g-64),[w,y,v]=t.decode(e.suffixParameters,p);return{authorization:r.from({address:w.delegation,chainId:Number(w.chainId),nonce:w.nonce,yParity:w.yParity,r:w.r,s:w.s}),signature:b,...v&&v!=="0x"?{data:v,to:y}:{}}}function l(h){const{data:g,signature:p}=h;a(h);const b=s.recoverAddress({payload:r.getSignPayload(h.authorization),signature:o.from(h.authorization)}),w=t.encode(e.suffixParameters,[{...h.authorization,delegation:h.authorization.address,chainId:BigInt(h.authorization.chainId)},h.to??b,g??"0x"]),y=i.fromNumber(i.size(w),{size:32});return i.concat(p,w,y,e.magicBytes)}function f(h){try{return a(h),!0}catch{return!1}}class d extends n.BaseError{constructor(g){super(`Value \`${g}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}e.InvalidWrappedSignatureError=d})(p4)),p4}var LD;function UE(){return LD||(LD=1,Object.defineProperty(cg,"__esModule",{value:!0}),cg.SignatureErc8010=void 0,cg.SignatureErc8010=Jme()),cg}var UD;function KS(){if(UD)return vv;UD=1,Object.defineProperty(vv,"__esModule",{value:!0}),vv.isErc8010Signature=t;const e=UE();function t(r){return e.SignatureErc8010.validate(r)}return vv}var Ev={},qD;function YY(){if(qD)return Ev;qD=1,Object.defineProperty(Ev,"__esModule",{value:!0}),Ev.parseErc6492Signature=r;const e=Nu(),t=WS();function r(n){if(!(0,t.isErc6492Signature)(n))return{signature:n};const[i,s,o]=(0,e.decodeAbiParameters)([{type:"address"},{type:"bytes"},{type:"bytes"}],n);return{address:i,data:s,signature:o}}return Ev}var _v={},zD;function QY(){if(zD)return _v;zD=1,Object.defineProperty(_v,"__esModule",{value:!0}),_v.parseErc8010Signature=n;const e=UE(),t=Oe(),r=KS();function n(i){if(!(0,r.isErc8010Signature)(i))return{signature:i};const{authorization:s,to:o,...a}=e.SignatureErc8010.unwrap(i);return{authorization:{address:s.address,chainId:s.chainId,nonce:Number(s.nonce),r:(0,t.numberToHex)(s.r,{size:32}),s:(0,t.numberToHex)(s.s,{size:32}),yParity:s.yParity},...o?{address:o}:{},...a}}return _v}var Cv={},FD;function ZS(){if(FD)return Cv;FD=1,Object.defineProperty(Cv,"__esModule",{value:!0}),Cv.recoverMessageAddress=r;const e=Q1(),t=Lu();async function r({message:n,signature:i}){return(0,t.recoverAddress)({hash:(0,e.hashMessage)(n),signature:i})}return Cv}var Av={},HD;function YS(){if(HD)return Av;HD=1,Object.defineProperty(Av,"__esModule",{value:!0}),Av.recoverTypedDataAddress=r;const e=J1(),t=Lu();async function r(n){const{domain:i,message:s,primaryType:o,signature:a,types:c}=n;return(0,t.recoverAddress)({hash:(0,e.hashTypedData)({domain:i,message:s,primaryType:o,types:c}),signature:a})}return Av}var xv={},WD;function JY(){if(WD)return xv;WD=1,Object.defineProperty(xv,"__esModule",{value:!0}),xv.serializeErc6492Signature=i;const e=HS(),t=Ro(),r=An(),n=Qt();function i(s){const{address:o,data:a,signature:c,to:u="hex"}=s,l=(0,r.concatHex)([(0,t.encodeAbiParameters)([{type:"address"},{type:"bytes"},{type:"bytes"}],[o,a,c]),e.erc6492MagicBytes]);return u==="hex"?l:(0,n.hexToBytes)(l)}return xv}var Iv={},VD;function XY(){if(VD)return Iv;VD=1,Object.defineProperty(Iv,"__esModule",{value:!0}),Iv.serializeErc8010Signature=r;const e=UE(),t=Qt();function r(n){const{address:i,data:s,signature:o,to:a="hex"}=n,c=e.SignatureErc8010.wrap({authorization:{address:n.authorization.address,chainId:n.authorization.chainId,nonce:BigInt(n.authorization.nonce),r:BigInt(n.authorization.r),s:BigInt(n.authorization.s),yParity:n.authorization.yParity},data:s,signature:o,to:i});return a==="hex"?c:(0,t.hexToBytes)(c)}return Iv}var Pv={},GD;function eQ(){if(GD)return Pv;GD=1,Object.defineProperty(Pv,"__esModule",{value:!0}),Pv.verifyHash=n;const e=Is(),t=$o(),r=Lu();async function n({address:i,hash:s,signature:o}){return(0,t.isAddressEqual)((0,e.getAddress)(i),await (0,r.recoverAddress)({hash:s,signature:o}))}return Pv}var Sv={},KD;function tQ(){if(KD)return Sv;KD=1,Object.defineProperty(Sv,"__esModule",{value:!0}),Sv.verifyMessage=n;const e=Is(),t=$o(),r=ZS();async function n({address:i,message:s,signature:o}){return(0,t.isAddressEqual)((0,e.getAddress)(i),await (0,r.recoverMessageAddress)({message:s,signature:o}))}return Sv}var Tv={},ZD;function rQ(){if(ZD)return Tv;ZD=1,Object.defineProperty(Tv,"__esModule",{value:!0}),Tv.verifyTypedData=n;const e=Is(),t=$o(),r=YS();async function n(i){const{address:s,domain:o,message:a,primaryType:c,signature:u,types:l}=i;return(0,t.isAddressEqual)((0,e.getAddress)(s),await (0,r.recoverTypedDataAddress)({domain:o,message:a,primaryType:c,signature:u,types:l}))}return Tv}var Ov={},YD;function QS(){if(YD)return Ov;YD=1,Object.defineProperty(Ov,"__esModule",{value:!0}),Ov.getSerializedTransactionType=n;const e=Zi(),t=Ys(),r=Cr();function n(i){const s=(0,t.sliceHex)(i,0,1);if(s==="0x04")return"eip7702";if(s==="0x03")return"eip4844";if(s==="0x02")return"eip1559";if(s==="0x01")return"eip2930";if(s!=="0x"&&(0,r.hexToNumber)(s)>=192)return"legacy";throw new e.InvalidSerializedTransactionTypeError({serializedType:s})}return Ov}var Of={},QD;function JS(){if(QD)return Of;QD=1,Object.defineProperty(Of,"__esModule",{value:!0}),Of.parseTransaction=d,Of.toTransactionArray=y,Of.parseAccessList=v;const e=Bo(),t=Zi(),r=Gi(),n=IE(),i=wi(),s=ku(),o=Oc(),a=Cr(),c=LS(),u=US(),l=NE(),f=QS();function d(E){const _=(0,f.getSerializedTransactionType)(E);return _==="eip1559"?p(E):_==="eip2930"?b(E):_==="eip4844"?g(E):_==="eip7702"?h(E):w(E)}function h(E){const _=y(E),[P,x,O,D,R,k,T,S,I,A,j,N,B]=_;if(_.length!==10&&_.length!==13)throw new t.InvalidSerializedTransactionError({attributes:{chainId:P,nonce:x,maxPriorityFeePerGas:O,maxFeePerGas:D,gas:R,to:k,value:T,data:S,accessList:I,authorizationList:A,..._.length>9?{v:j,r:N,s:B}:{}},serializedTransaction:E,type:"eip7702"});const $={chainId:(0,a.hexToNumber)(P),type:"eip7702"};return(0,i.isHex)(k)&&k!=="0x"&&($.to=k),(0,i.isHex)(R)&&R!=="0x"&&($.gas=(0,a.hexToBigInt)(R)),(0,i.isHex)(S)&&S!=="0x"&&($.data=S),(0,i.isHex)(x)&&($.nonce=x==="0x"?0:(0,a.hexToNumber)(x)),(0,i.isHex)(T)&&T!=="0x"&&($.value=(0,a.hexToBigInt)(T)),(0,i.isHex)(D)&&D!=="0x"&&($.maxFeePerGas=(0,a.hexToBigInt)(D)),(0,i.isHex)(O)&&O!=="0x"&&($.maxPriorityFeePerGas=(0,a.hexToBigInt)(O)),I.length!==0&&I!=="0x"&&($.accessList=v(I)),A.length!==0&&A!=="0x"&&($.authorizationList=m(A)),(0,l.assertTransactionEIP7702)($),{..._.length===13?C(_):void 0,...$}}function g(E){const _=y(E),P=_.length===4,x=P?_[0]:_,O=P?_.slice(1):[],[D,R,k,T,S,I,A,j,N,B,$,M,L,q]=x,[U,F,H]=O;if(!(x.length===11||x.length===14))throw new t.InvalidSerializedTransactionError({attributes:{chainId:D,nonce:R,maxPriorityFeePerGas:k,maxFeePerGas:T,gas:S,to:I,value:A,data:j,accessList:N,...x.length>9?{v:M,r:L,s:q}:{}},serializedTransaction:E,type:"eip4844"});const V={blobVersionedHashes:$,chainId:(0,a.hexToNumber)(D),to:I,type:"eip4844"};return(0,i.isHex)(S)&&S!=="0x"&&(V.gas=(0,a.hexToBigInt)(S)),(0,i.isHex)(j)&&j!=="0x"&&(V.data=j),(0,i.isHex)(R)&&(V.nonce=R==="0x"?0:(0,a.hexToNumber)(R)),(0,i.isHex)(A)&&A!=="0x"&&(V.value=(0,a.hexToBigInt)(A)),(0,i.isHex)(B)&&B!=="0x"&&(V.maxFeePerBlobGas=(0,a.hexToBigInt)(B)),(0,i.isHex)(T)&&T!=="0x"&&(V.maxFeePerGas=(0,a.hexToBigInt)(T)),(0,i.isHex)(k)&&k!=="0x"&&(V.maxPriorityFeePerGas=(0,a.hexToBigInt)(k)),N.length!==0&&N!=="0x"&&(V.accessList=v(N)),U&&F&&H&&(V.sidecars=(0,n.toBlobSidecars)({blobs:U,commitments:F,proofs:H})),(0,l.assertTransactionEIP4844)(V),{...x.length===14?C(x):void 0,...V}}function p(E){const _=y(E),[P,x,O,D,R,k,T,S,I,A,j,N]=_;if(!(_.length===9||_.length===12))throw new t.InvalidSerializedTransactionError({attributes:{chainId:P,nonce:x,maxPriorityFeePerGas:O,maxFeePerGas:D,gas:R,to:k,value:T,data:S,accessList:I,..._.length>9?{v:A,r:j,s:N}:{}},serializedTransaction:E,type:"eip1559"});const B={chainId:(0,a.hexToNumber)(P),type:"eip1559"};return(0,i.isHex)(k)&&k!=="0x"&&(B.to=k),(0,i.isHex)(R)&&R!=="0x"&&(B.gas=(0,a.hexToBigInt)(R)),(0,i.isHex)(S)&&S!=="0x"&&(B.data=S),(0,i.isHex)(x)&&(B.nonce=x==="0x"?0:(0,a.hexToNumber)(x)),(0,i.isHex)(T)&&T!=="0x"&&(B.value=(0,a.hexToBigInt)(T)),(0,i.isHex)(D)&&D!=="0x"&&(B.maxFeePerGas=(0,a.hexToBigInt)(D)),(0,i.isHex)(O)&&O!=="0x"&&(B.maxPriorityFeePerGas=(0,a.hexToBigInt)(O)),I.length!==0&&I!=="0x"&&(B.accessList=v(I)),(0,l.assertTransactionEIP1559)(B),{..._.length===12?C(_):void 0,...B}}function b(E){const _=y(E),[P,x,O,D,R,k,T,S,I,A,j]=_;if(!(_.length===8||_.length===11))throw new t.InvalidSerializedTransactionError({attributes:{chainId:P,nonce:x,gasPrice:O,gas:D,to:R,value:k,data:T,accessList:S,..._.length>8?{v:I,r:A,s:j}:{}},serializedTransaction:E,type:"eip2930"});const N={chainId:(0,a.hexToNumber)(P),type:"eip2930"};return(0,i.isHex)(R)&&R!=="0x"&&(N.to=R),(0,i.isHex)(D)&&D!=="0x"&&(N.gas=(0,a.hexToBigInt)(D)),(0,i.isHex)(T)&&T!=="0x"&&(N.data=T),(0,i.isHex)(x)&&(N.nonce=x==="0x"?0:(0,a.hexToNumber)(x)),(0,i.isHex)(k)&&k!=="0x"&&(N.value=(0,a.hexToBigInt)(k)),(0,i.isHex)(O)&&O!=="0x"&&(N.gasPrice=(0,a.hexToBigInt)(O)),S.length!==0&&S!=="0x"&&(N.accessList=v(S)),(0,l.assertTransactionEIP2930)(N),{..._.length===11?C(_):void 0,...N}}function w(E){const _=(0,c.fromRlp)(E,"hex"),[P,x,O,D,R,k,T,S,I]=_;if(!(_.length===6||_.length===9))throw new t.InvalidSerializedTransactionError({attributes:{nonce:P,gasPrice:x,gas:O,to:D,value:R,data:k,..._.length>6?{v:T,r:S,s:I}:{}},serializedTransaction:E,type:"legacy"});const A={type:"legacy"};if((0,i.isHex)(D)&&D!=="0x"&&(A.to=D),(0,i.isHex)(O)&&O!=="0x"&&(A.gas=(0,a.hexToBigInt)(O)),(0,i.isHex)(k)&&k!=="0x"&&(A.data=k),(0,i.isHex)(P)&&(A.nonce=P==="0x"?0:(0,a.hexToNumber)(P)),(0,i.isHex)(R)&&R!=="0x"&&(A.value=(0,a.hexToBigInt)(R)),(0,i.isHex)(x)&&x!=="0x"&&(A.gasPrice=(0,a.hexToBigInt)(x)),(0,l.assertTransactionLegacy)(A),_.length===6)return A;const j=(0,i.isHex)(T)&&T!=="0x"?(0,a.hexToBigInt)(T):0n;if(I==="0x"&&S==="0x")return j>0&&(A.chainId=Number(j)),A;const N=j,B=Number((N-35n)/2n);if(B>0)A.chainId=B;else if(N!==27n&&N!==28n)throw new t.InvalidLegacyVError({v:N});return A.v=N,A.s=I,A.r=S,A.yParity=N%2n===0n?1:0,A}function y(E){return(0,c.fromRlp)(`0x${E.slice(4)}`,"hex")}function v(E){const _=[];for(let P=0;P<E.length;P++){const[x,O]=E[P];if(!(0,r.isAddress)(x,{strict:!1}))throw new e.InvalidAddressError({address:x});_.push({address:x,storageKeys:O.map(D=>(0,u.isHash)(D)?D:(0,o.trim)(D))})}return _}function m(E){const _=[];for(let P=0;P<E.length;P++){const[x,O,D,R,k,T]=E[P];_.push({address:O,chainId:x==="0x"?0:(0,a.hexToNumber)(x),nonce:D==="0x"?0:(0,a.hexToNumber)(D),...C([R,k,T])})}return _}function C(E){const _=E.slice(-3),P=_[0]==="0x"||(0,a.hexToBigInt)(_[0])===0n?27n:28n;return{r:(0,s.padHex)(_[1],{size:32}),s:(0,s.padHex)(_[2],{size:32}),v:P,yParity:P===27n?0:1}}return Of}var jv={},Bv={},dg={},JD;function nQ(){if(JD)return dg;JD=1,Object.defineProperty(dg,"__esModule",{value:!0}),dg.InvalidDecimalNumberError=void 0;const e=Ye();class t extends e.BaseError{constructor({value:n}){super(`Number \`${n}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}return dg.InvalidDecimalNumberError=t,dg}var XD;function qE(){if(XD)return Bv;XD=1,Object.defineProperty(Bv,"__esModule",{value:!0}),Bv.parseUnits=t;const e=nQ();function t(r,n){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(r))throw new e.InvalidDecimalNumberError({value:r});let[i,s="0"]=r.split(".");const o=i.startsWith("-");if(o&&(i=i.slice(1)),s=s.replace(/(0+)$/,""),n===0)Math.round(+`.${s}`)===1&&(i=`${BigInt(i)+1n}`),s="";else if(s.length>n){const[a,c,u]=[s.slice(0,n-1),s.slice(n-1,n),s.slice(n)],l=Math.round(+`${c}.${u}`);l>9?s=`${BigInt(a)+BigInt(1)}0`.padStart(a.length+1,"0"):s=`${a}${l}`,s.length>n&&(s=s.slice(1),i=`${BigInt(i)+1n}`),s=s.slice(0,n)}else s=s.padEnd(n,"0");return BigInt(`${o?"-":""}${i}${s}`)}return Bv}var e$;function iQ(){if(e$)return jv;e$=1,Object.defineProperty(jv,"__esModule",{value:!0}),jv.parseEther=r;const e=j1(),t=qE();function r(n,i="wei"){return(0,t.parseUnits)(n,e.etherUnits[i])}return jv}var Rv={},t$;function sQ(){if(t$)return Rv;t$=1,Object.defineProperty(Rv,"__esModule",{value:!0}),Rv.parseGwei=r;const e=j1(),t=qE();function r(n,i="wei"){return(0,t.parseUnits)(n,e.gweiUnits[i])}return Rv}var r$;function XS(){return r$||(r$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.padBytes=e.pad=e.isHex=e.isBytes=e.concatHex=e.concatBytes=e.concat=e.getChainContractAddress=e.extractChain=e.defineChain=e.assertCurrentChain=e.offchainLookupSignature=e.offchainLookupAbiItem=e.offchainLookup=e.ccipFetch=e.ccipRequest=e.buildRequest=e.verifyAuthorization=e.serializeAuthorizationList=e.recoverAuthorizationAddress=e.hashAuthorization=e.isAddressEqual=e.isAddress=e.getCreateAddress=e.getCreate2Address=e.getContractAddress=e.getAddress=e.parseEventLogs=e.getAbiItem=e.formatAbiItemWithArgs=e.formatAbiParams=e.formatAbiItem=e.encodePacked=e.encodeFunctionResult=e.encodeFunctionData=e.encodeEventTopics=e.encodeErrorResult=e.encodeDeployData=e.encodeAbiParameters=e.decodeFunctionResult=e.decodeFunctionData=e.decodeEventLog=e.decodeErrorResult=e.decodeAbiParameters=e.publicKeyToAddress=e.parseAccount=e.parseAbiParameters=e.parseAbiParameter=e.parseAbiItem=e.parseAbi=void 0,e.ripemd160=e.keccak256=e.isHash=e.getAction=e.formatTransactionRequest=e.defineTransactionRequest=e.defineTransactionReceipt=e.transactionType=e.formatTransaction=e.defineTransaction=e.formatLog=e.defineFormatter=e.extract=e.formatBlock=e.defineBlock=e.getTransactionError=e.getNodeError=e.containsNodeError=e.getEstimateGasError=e.getContractError=e.getCallError=e.toRlp=e.toHex=e.stringToHex=e.numberToHex=e.bytesToHex=e.boolToHex=e.toBytes=e.stringToBytes=e.numberToBytes=e.hexToBytes=e.boolToBytes=e.fromRlp=e.hexToString=e.hexToNumber=e.hexToBool=e.hexToBigInt=e.fromHex=e.fromBytes=e.bytesToString=e.bytesToNumber=e.bytesToBool=e.bytesToBigint=e.bytesToBigInt=e.trim=e.sliceHex=e.sliceBytes=e.slice=e.size=e.padHex=void 0,e.validateTypedData=e.serializeTypedData=e.serializeTransaction=e.serializeAccessList=e.parseTransaction=e.getTransactionType=e.getSerializedTransactionType=e.assertTransactionLegacy=e.assertTransactionEIP2930=e.assertTransactionEIP1559=e.assertRequest=e.stringify=e.verifyTypedData=e.verifyMessage=e.verifyHash=e.serializeErc8010Signature=e.serializeErc6492Signature=e.recoverTypedDataAddress=e.recoverPublicKey=e.recoverMessageAddress=e.recoverAddress=e.parseErc8010Signature=e.parseErc6492Signature=e.isErc8010Signature=e.isErc6492Signature=e.hashTypedData=e.hashStruct=e.hashMessage=e.getWebSocketRpcClient=e.socketClientCache=e.getSocketRpcClient=e.getHttpRpcClient=e.rpc=e.getSocket=e.integerRegex=e.bytesRegex=e.arrayRegex=e.nonceManager=e.createNonceManager=e.getFunctionSignature=e.toFunctionSignature=e.getFunctionSelector=e.toFunctionSelector=e.toFunctionHash=e.getEventSignature=e.toEventSignature=e.getEventSelector=e.toEventSelector=e.toEventHash=e.sha256=void 0,e.parseUnits=e.parseGwei=e.parseEther=e.formatUnits=e.formatGwei=e.formatEther=void 0;var t=Ru();Object.defineProperty(e,"parseAbi",{enumerable:!0,get:function(){return t.parseAbi}}),Object.defineProperty(e,"parseAbiItem",{enumerable:!0,get:function(){return t.parseAbiItem}}),Object.defineProperty(e,"parseAbiParameter",{enumerable:!0,get:function(){return t.parseAbiParameter}}),Object.defineProperty(e,"parseAbiParameters",{enumerable:!0,get:function(){return t.parseAbiParameters}});var r=yr();Object.defineProperty(e,"parseAccount",{enumerable:!0,get:function(){return r.parseAccount}});var n=JZ();Object.defineProperty(e,"publicKeyToAddress",{enumerable:!0,get:function(){return n.publicKeyToAddress}});var i=Nu();Object.defineProperty(e,"decodeAbiParameters",{enumerable:!0,get:function(){return i.decodeAbiParameters}});var s=wE();Object.defineProperty(e,"decodeErrorResult",{enumerable:!0,get:function(){return s.decodeErrorResult}});var o=z1();Object.defineProperty(e,"decodeEventLog",{enumerable:!0,get:function(){return o.decodeEventLog}});var a=AS();Object.defineProperty(e,"decodeFunctionData",{enumerable:!0,get:function(){return a.decodeFunctionData}});var c=kc();Object.defineProperty(e,"decodeFunctionResult",{enumerable:!0,get:function(){return c.decodeFunctionResult}});var u=Ro();Object.defineProperty(e,"encodeAbiParameters",{enumerable:!0,get:function(){return u.encodeAbiParameters}});var l=V1();Object.defineProperty(e,"encodeDeployData",{enumerable:!0,get:function(){return l.encodeDeployData}});var f=xS();Object.defineProperty(e,"encodeErrorResult",{enumerable:!0,get:function(){return f.encodeErrorResult}});var d=Gd();Object.defineProperty(e,"encodeEventTopics",{enumerable:!0,get:function(){return d.encodeEventTopics}});var h=Ki();Object.defineProperty(e,"encodeFunctionData",{enumerable:!0,get:function(){return h.encodeFunctionData}});var g=IS();Object.defineProperty(e,"encodeFunctionResult",{enumerable:!0,get:function(){return g.encodeFunctionResult}});var p=xY();Object.defineProperty(e,"encodePacked",{enumerable:!0,get:function(){return p.encodePacked}});var b=Tc();Object.defineProperty(e,"formatAbiItem",{enumerable:!0,get:function(){return b.formatAbiItem}}),Object.defineProperty(e,"formatAbiParams",{enumerable:!0,get:function(){return b.formatAbiParams}});var w=QZ();Object.defineProperty(e,"formatAbiItemWithArgs",{enumerable:!0,get:function(){return w.formatAbiItemWithArgs}});var y=jc();Object.defineProperty(e,"getAbiItem",{enumerable:!0,get:function(){return y.getAbiItem}});var v=F1();Object.defineProperty(e,"parseEventLogs",{enumerable:!0,get:function(){return v.parseEventLogs}});var m=Is();Object.defineProperty(e,"getAddress",{enumerable:!0,get:function(){return m.getAddress}});var C=IY();Object.defineProperty(e,"getContractAddress",{enumerable:!0,get:function(){return C.getContractAddress}}),Object.defineProperty(e,"getCreate2Address",{enumerable:!0,get:function(){return C.getCreate2Address}}),Object.defineProperty(e,"getCreateAddress",{enumerable:!0,get:function(){return C.getCreateAddress}});var E=Gi();Object.defineProperty(e,"isAddress",{enumerable:!0,get:function(){return E.isAddress}});var _=$o();Object.defineProperty(e,"isAddressEqual",{enumerable:!0,get:function(){return _.isAddressEqual}});var P=eY();Object.defineProperty(e,"hashAuthorization",{enumerable:!0,get:function(){return P.hashAuthorization}});var x=D1();Object.defineProperty(e,"recoverAuthorizationAddress",{enumerable:!0,get:function(){return x.recoverAuthorizationAddress}});var O=PY();Object.defineProperty(e,"serializeAuthorizationList",{enumerable:!0,get:function(){return O.serializeAuthorizationList}});var D=SY();Object.defineProperty(e,"verifyAuthorization",{enumerable:!0,get:function(){return D.verifyAuthorization}});var R=TY();Object.defineProperty(e,"buildRequest",{enumerable:!0,get:function(){return R.buildRequest}});var k=PS();Object.defineProperty(e,"ccipRequest",{enumerable:!0,get:function(){return k.ccipRequest}}),Object.defineProperty(e,"ccipFetch",{enumerable:!0,get:function(){return k.ccipRequest}}),Object.defineProperty(e,"offchainLookup",{enumerable:!0,get:function(){return k.offchainLookup}}),Object.defineProperty(e,"offchainLookupAbiItem",{enumerable:!0,get:function(){return k.offchainLookupAbiItem}}),Object.defineProperty(e,"offchainLookupSignature",{enumerable:!0,get:function(){return k.offchainLookupSignature}});var T=Z1();Object.defineProperty(e,"assertCurrentChain",{enumerable:!0,get:function(){return T.assertCurrentChain}});var S=OY();Object.defineProperty(e,"defineChain",{enumerable:!0,get:function(){return S.defineChain}});var I=jY();Object.defineProperty(e,"extractChain",{enumerable:!0,get:function(){return I.extractChain}});var A=Fu();Object.defineProperty(e,"getChainContractAddress",{enumerable:!0,get:function(){return A.getChainContractAddress}});var j=An();Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return j.concat}}),Object.defineProperty(e,"concatBytes",{enumerable:!0,get:function(){return j.concatBytes}}),Object.defineProperty(e,"concatHex",{enumerable:!0,get:function(){return j.concatHex}});var N=$S();Object.defineProperty(e,"isBytes",{enumerable:!0,get:function(){return N.isBytes}});var B=wi();Object.defineProperty(e,"isHex",{enumerable:!0,get:function(){return B.isHex}});var $=ku();Object.defineProperty(e,"pad",{enumerable:!0,get:function(){return $.pad}}),Object.defineProperty(e,"padBytes",{enumerable:!0,get:function(){return $.padBytes}}),Object.defineProperty(e,"padHex",{enumerable:!0,get:function(){return $.padHex}});var M=Wi();Object.defineProperty(e,"size",{enumerable:!0,get:function(){return M.size}});var L=Ys();Object.defineProperty(e,"slice",{enumerable:!0,get:function(){return L.slice}}),Object.defineProperty(e,"sliceBytes",{enumerable:!0,get:function(){return L.sliceBytes}}),Object.defineProperty(e,"sliceHex",{enumerable:!0,get:function(){return L.sliceHex}});var q=Oc();Object.defineProperty(e,"trim",{enumerable:!0,get:function(){return q.trim}});var U=oS();Object.defineProperty(e,"bytesToBigInt",{enumerable:!0,get:function(){return U.bytesToBigInt}}),Object.defineProperty(e,"bytesToBigint",{enumerable:!0,get:function(){return U.bytesToBigInt}}),Object.defineProperty(e,"bytesToBool",{enumerable:!0,get:function(){return U.bytesToBool}}),Object.defineProperty(e,"bytesToNumber",{enumerable:!0,get:function(){return U.bytesToNumber}}),Object.defineProperty(e,"bytesToString",{enumerable:!0,get:function(){return U.bytesToString}}),Object.defineProperty(e,"fromBytes",{enumerable:!0,get:function(){return U.fromBytes}});var F=Cr();Object.defineProperty(e,"fromHex",{enumerable:!0,get:function(){return F.fromHex}}),Object.defineProperty(e,"hexToBigInt",{enumerable:!0,get:function(){return F.hexToBigInt}}),Object.defineProperty(e,"hexToBool",{enumerable:!0,get:function(){return F.hexToBool}}),Object.defineProperty(e,"hexToNumber",{enumerable:!0,get:function(){return F.hexToNumber}}),Object.defineProperty(e,"hexToString",{enumerable:!0,get:function(){return F.hexToString}});var H=LS();Object.defineProperty(e,"fromRlp",{enumerable:!0,get:function(){return H.fromRlp}});var V=Qt();Object.defineProperty(e,"boolToBytes",{enumerable:!0,get:function(){return V.boolToBytes}}),Object.defineProperty(e,"hexToBytes",{enumerable:!0,get:function(){return V.hexToBytes}}),Object.defineProperty(e,"numberToBytes",{enumerable:!0,get:function(){return V.numberToBytes}}),Object.defineProperty(e,"stringToBytes",{enumerable:!0,get:function(){return V.stringToBytes}}),Object.defineProperty(e,"toBytes",{enumerable:!0,get:function(){return V.toBytes}});var W=Oe();Object.defineProperty(e,"boolToHex",{enumerable:!0,get:function(){return W.boolToHex}}),Object.defineProperty(e,"bytesToHex",{enumerable:!0,get:function(){return W.bytesToHex}}),Object.defineProperty(e,"numberToHex",{enumerable:!0,get:function(){return W.numberToHex}}),Object.defineProperty(e,"stringToHex",{enumerable:!0,get:function(){return W.stringToHex}}),Object.defineProperty(e,"toHex",{enumerable:!0,get:function(){return W.toHex}});var Z=N1();Object.defineProperty(e,"toRlp",{enumerable:!0,get:function(){return Z.toRlp}});var X=ES();Object.defineProperty(e,"getCallError",{enumerable:!0,get:function(){return X.getCallError}});var ue=Mu();Object.defineProperty(e,"getContractError",{enumerable:!0,get:function(){return ue.getContractError}});var Y=rY();Object.defineProperty(e,"getEstimateGasError",{enumerable:!0,get:function(){return Y.getEstimateGasError}});var Q=$1();Object.defineProperty(e,"containsNodeError",{enumerable:!0,get:function(){return Q.containsNodeError}}),Object.defineProperty(e,"getNodeError",{enumerable:!0,get:function(){return Q.getNodeError}});var ae=U1();Object.defineProperty(e,"getTransactionError",{enumerable:!0,get:function(){return ae.getTransactionError}});var he=_E();Object.defineProperty(e,"defineBlock",{enumerable:!0,get:function(){return he.defineBlock}}),Object.defineProperty(e,"formatBlock",{enumerable:!0,get:function(){return he.formatBlock}});var pe=Uu();Object.defineProperty(e,"extract",{enumerable:!0,get:function(){return pe.extract}});var be=M1();Object.defineProperty(e,"defineFormatter",{enumerable:!0,get:function(){return be.defineFormatter}});var Pe=Rc();Object.defineProperty(e,"formatLog",{enumerable:!0,get:function(){return Pe.formatLog}});var fe=qp();Object.defineProperty(e,"defineTransaction",{enumerable:!0,get:function(){return fe.defineTransaction}}),Object.defineProperty(e,"formatTransaction",{enumerable:!0,get:function(){return fe.formatTransaction}}),Object.defineProperty(e,"transactionType",{enumerable:!0,get:function(){return fe.transactionType}});var ce=Y1();Object.defineProperty(e,"defineTransactionReceipt",{enumerable:!0,get:function(){return ce.defineTransactionReceipt}});var Qe=No();Object.defineProperty(e,"defineTransactionRequest",{enumerable:!0,get:function(){return Qe.defineTransactionRequest}}),Object.defineProperty(e,"formatTransactionRequest",{enumerable:!0,get:function(){return Qe.formatTransactionRequest}});var Ke=mt();Object.defineProperty(e,"getAction",{enumerable:!0,get:function(){return Ke.getAction}});var Ft=US();Object.defineProperty(e,"isHash",{enumerable:!0,get:function(){return Ft.isHash}});var At=Vi();Object.defineProperty(e,"keccak256",{enumerable:!0,get:function(){return At.keccak256}});var xr=RY();Object.defineProperty(e,"ripemd160",{enumerable:!0,get:function(){return xr.ripemd160}});var Ht=pS();Object.defineProperty(e,"sha256",{enumerable:!0,get:function(){return Ht.sha256}});var et=kY();Object.defineProperty(e,"toEventHash",{enumerable:!0,get:function(){return et.toEventHash}});var Ir=Up();Object.defineProperty(e,"toEventSelector",{enumerable:!0,get:function(){return Ir.toEventSelector}}),Object.defineProperty(e,"getEventSelector",{enumerable:!0,get:function(){return Ir.toEventSelector}});var hr=NY();Object.defineProperty(e,"toEventSignature",{enumerable:!0,get:function(){return hr.toEventSignature}}),Object.defineProperty(e,"getEventSignature",{enumerable:!0,get:function(){return hr.toEventSignature}});var Ue=DY();Object.defineProperty(e,"toFunctionHash",{enumerable:!0,get:function(){return Ue.toFunctionHash}});var Ge=Vd();Object.defineProperty(e,"toFunctionSelector",{enumerable:!0,get:function(){return Ge.toFunctionSelector}}),Object.defineProperty(e,"getFunctionSelector",{enumerable:!0,get:function(){return Ge.toFunctionSelector}});var ke=$Y();Object.defineProperty(e,"toFunctionSignature",{enumerable:!0,get:function(){return ke.toFunctionSignature}}),Object.defineProperty(e,"getFunctionSignature",{enumerable:!0,get:function(){return ke.toFunctionSignature}});var st=MY();Object.defineProperty(e,"createNonceManager",{enumerable:!0,get:function(){return st.createNonceManager}}),Object.defineProperty(e,"nonceManager",{enumerable:!0,get:function(){return st.nonceManager}});var Xn=bE();Object.defineProperty(e,"arrayRegex",{enumerable:!0,get:function(){return Xn.arrayRegex}}),Object.defineProperty(e,"bytesRegex",{enumerable:!0,get:function(){return Xn.bytesRegex}}),Object.defineProperty(e,"integerRegex",{enumerable:!0,get:function(){return Xn.integerRegex}});var ei=qY();Object.defineProperty(e,"getSocket",{enumerable:!0,get:function(){return ei.getSocket}}),Object.defineProperty(e,"rpc",{enumerable:!0,get:function(){return ei.rpc}});var nt=zS();Object.defineProperty(e,"getHttpRpcClient",{enumerable:!0,get:function(){return nt.getHttpRpcClient}});var We=UY();Object.defineProperty(e,"getSocketRpcClient",{enumerable:!0,get:function(){return We.getSocketRpcClient}}),Object.defineProperty(e,"socketClientCache",{enumerable:!0,get:function(){return We.socketClientCache}});var ti=FS();Object.defineProperty(e,"getWebSocketRpcClient",{enumerable:!0,get:function(){return ti.getWebSocketRpcClient}});var Qu=Q1();Object.defineProperty(e,"hashMessage",{enumerable:!0,get:function(){return Qu.hashMessage}});var Ju=J1();Object.defineProperty(e,"hashStruct",{enumerable:!0,get:function(){return Ju.hashStruct}}),Object.defineProperty(e,"hashTypedData",{enumerable:!0,get:function(){return Ju.hashTypedData}});var c0=WS();Object.defineProperty(e,"isErc6492Signature",{enumerable:!0,get:function(){return c0.isErc6492Signature}});var S8=KS();Object.defineProperty(e,"isErc8010Signature",{enumerable:!0,get:function(){return S8.isErc8010Signature}});var T8=YY();Object.defineProperty(e,"parseErc6492Signature",{enumerable:!0,get:function(){return T8.parseErc6492Signature}});var u0=QY();Object.defineProperty(e,"parseErc8010Signature",{enumerable:!0,get:function(){return u0.parseErc8010Signature}});var O8=Lu();Object.defineProperty(e,"recoverAddress",{enumerable:!0,get:function(){return O8.recoverAddress}});var l0=ZS();Object.defineProperty(e,"recoverMessageAddress",{enumerable:!0,get:function(){return l0.recoverMessageAddress}});var j8=uS();Object.defineProperty(e,"recoverPublicKey",{enumerable:!0,get:function(){return j8.recoverPublicKey}});var Xu=YS();Object.defineProperty(e,"recoverTypedDataAddress",{enumerable:!0,get:function(){return Xu.recoverTypedDataAddress}});var el=JY();Object.defineProperty(e,"serializeErc6492Signature",{enumerable:!0,get:function(){return el.serializeErc6492Signature}});var B8=XY();Object.defineProperty(e,"serializeErc8010Signature",{enumerable:!0,get:function(){return B8.serializeErc8010Signature}});var tl=eQ();Object.defineProperty(e,"verifyHash",{enumerable:!0,get:function(){return tl.verifyHash}});var rl=tQ();Object.defineProperty(e,"verifyMessage",{enumerable:!0,get:function(){return rl.verifyMessage}});var d0=rQ();Object.defineProperty(e,"verifyTypedData",{enumerable:!0,get:function(){return d0.verifyTypedData}});var R8=Dn();Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return R8.stringify}});var k8=Do();Object.defineProperty(e,"assertRequest",{enumerable:!0,get:function(){return k8.assertRequest}});var f0=NE();Object.defineProperty(e,"assertTransactionEIP1559",{enumerable:!0,get:function(){return f0.assertTransactionEIP1559}}),Object.defineProperty(e,"assertTransactionEIP2930",{enumerable:!0,get:function(){return f0.assertTransactionEIP2930}}),Object.defineProperty(e,"assertTransactionLegacy",{enumerable:!0,get:function(){return f0.assertTransactionLegacy}});var N8=QS();Object.defineProperty(e,"getSerializedTransactionType",{enumerable:!0,get:function(){return N8.getSerializedTransactionType}});var $b=PE();Object.defineProperty(e,"getTransactionType",{enumerable:!0,get:function(){return $b.getTransactionType}});var D8=JS();Object.defineProperty(e,"parseTransaction",{enumerable:!0,get:function(){return D8.parseTransaction}});var h0=MS();Object.defineProperty(e,"serializeAccessList",{enumerable:!0,get:function(){return h0.serializeAccessList}});var Mb=DE();Object.defineProperty(e,"serializeTransaction",{enumerable:!0,get:function(){return Mb.serializeTransaction}});var ff=$E();Object.defineProperty(e,"serializeTypedData",{enumerable:!0,get:function(){return ff.serializeTypedData}}),Object.defineProperty(e,"validateTypedData",{enumerable:!0,get:function(){return ff.validateTypedData}});var $8=B1();Object.defineProperty(e,"formatEther",{enumerable:!0,get:function(){return $8.formatEther}});var M8=Kd();Object.defineProperty(e,"formatGwei",{enumerable:!0,get:function(){return M8.formatGwei}});var L8=vE();Object.defineProperty(e,"formatUnits",{enumerable:!0,get:function(){return L8.formatUnits}});var U8=iQ();Object.defineProperty(e,"parseEther",{enumerable:!0,get:function(){return U8.parseEther}});var q8=sQ();Object.defineProperty(e,"parseGwei",{enumerable:!0,get:function(){return q8.parseGwei}});var Lb=qE();Object.defineProperty(e,"parseUnits",{enumerable:!0,get:function(){return Lb.parseUnits}})})(a4)),a4}var n$;function Xme(){if(n$)return sv;n$=1,Object.defineProperty(sv,"__esModule",{value:!0}),sv.formatProof=r;const e=XS();function t(n){return n.map(i=>({...i,value:BigInt(i.value)}))}function r(n){return{...n,balance:n.balance?BigInt(n.balance):void 0,nonce:n.nonce?(0,e.hexToNumber)(n.nonce):void 0,storageProof:n.storageProof?t(n.storageProof):void 0}}return sv}var i$;function e1e(){if(i$)return iv;i$=1,Object.defineProperty(iv,"__esModule",{value:!0}),iv.getProof=r;const e=Oe(),t=Xme();async function r(n,{address:i,blockNumber:s,blockTag:o,storageKeys:a}){const c=o??"latest",u=s!==void 0?(0,e.numberToHex)(s):void 0,l=await n.request({method:"eth_getProof",params:[i,a,u||c]});return(0,t.formatProof)(l)}return iv}var kv={},s$;function t1e(){if(s$)return kv;s$=1,Object.defineProperty(kv,"__esModule",{value:!0}),kv.getStorageAt=t;const e=Oe();async function t(r,{address:n,blockNumber:i,blockTag:s="latest",slot:o}){const a=i!==void 0?(0,e.numberToHex)(i):void 0;return await r.request({method:"eth_getStorageAt",params:[n,o,a||s]})}return kv}var Nv={},o$;function e7(){if(o$)return Nv;o$=1,Object.defineProperty(Nv,"__esModule",{value:!0}),Nv.getTransaction=n;const e=Zi(),t=Oe(),r=qp();async function n(i,{blockHash:s,blockNumber:o,blockTag:a,hash:c,index:u,sender:l,nonce:f}){const d=a||"latest",h=o!==void 0?(0,t.numberToHex)(o):void 0;let g=null;if(c?g=await i.request({method:"eth_getTransactionByHash",params:[c]},{dedupe:!0}):s?g=await i.request({method:"eth_getTransactionByBlockHashAndIndex",params:[s,(0,t.numberToHex)(u)]},{dedupe:!0}):typeof u=="number"?g=await i.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[h||d,(0,t.numberToHex)(u)]},{dedupe:!!h}):l&&typeof f=="number"&&(g=await i.request({method:"eth_getTransactionBySenderAndNonce",params:[l,(0,t.numberToHex)(f)]},{dedupe:!0})),!g)throw new e.TransactionNotFoundError({blockHash:s,blockNumber:o,blockTag:d,hash:c,index:u});return(i.chain?.formatters?.transaction?.format||r.formatTransaction)(g,"getTransaction")}return Nv}var Dv={},a$;function r1e(){if(a$)return Dv;a$=1,Object.defineProperty(Dv,"__esModule",{value:!0}),Dv.getTransactionConfirmations=n;const e=mt(),t=K1(),r=e7();async function n(i,{hash:s,transactionReceipt:o}){const[a,c]=await Promise.all([(0,e.getAction)(i,t.getBlockNumber,"getBlockNumber")({}),s?(0,e.getAction)(i,r.getTransaction,"getTransaction")({hash:s}):void 0]),u=o?.blockNumber||c?.blockNumber;return u?a-u+1n:0n}return Dv}var $v={},c$;function oQ(){if(c$)return $v;c$=1,Object.defineProperty($v,"__esModule",{value:!0}),$v.getTransactionReceipt=r;const e=Zi(),t=Y1();async function r(n,{hash:i}){const s=await n.request({method:"eth_getTransactionReceipt",params:[i]},{dedupe:!0});if(!s)throw new e.TransactionReceiptNotFoundError({hash:i});return(n.chain?.formatters?.transactionReceipt?.format||t.formatTransactionReceipt)(s,"getTransactionReceipt")}return $v}var Mv={},u$;function n1e(){if(u$)return Mv;u$=1,Object.defineProperty(Mv,"__esModule",{value:!0}),Mv.multicall=f;const e=zu(),t=H1(),r=br(),n=Ye(),i=Du(),s=kc(),o=Ki(),a=Fu(),c=Mu(),u=mt(),l=Ea();async function f(d,h){const{account:g,authorizationList:p,allowFailure:b=!0,blockNumber:w,blockOverrides:y,blockTag:v,stateOverride:m}=h,C=h.contracts,{batchSize:E=h.batchSize??1024,deployless:_=h.deployless??!1}=typeof d.batch?.multicall=="object"?d.batch.multicall:{},P=(()=>{if(h.multicallAddress)return h.multicallAddress;if(_)return null;if(d.chain)return(0,a.getChainContractAddress)({blockNumber:w,chain:d.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),x=[[]];let O=0,D=0;for(let T=0;T<C.length;T++){const{abi:S,address:I,args:A,functionName:j}=C[T];try{const N=(0,o.encodeFunctionData)({abi:S,args:A,functionName:j});D+=(N.length-2)/2,E>0&&D>E&&x[O].length>0&&(O++,D=(N.length-2)/2,x[O]=[]),x[O]=[...x[O],{allowFailure:!0,callData:N,target:I}]}catch(N){const B=(0,c.getContractError)(N,{abi:S,address:I,args:A,docsPath:"/docs/contract/multicall",functionName:j,sender:g});if(!b)throw B;x[O]=[...x[O],{allowFailure:!0,callData:"0x",target:I}]}}const R=await Promise.allSettled(x.map(T=>(0,u.getAction)(d,l.readContract,"readContract")({...P===null?{code:t.multicall3Bytecode}:{address:P},abi:e.multicall3Abi,account:g,args:[T],authorizationList:p,blockNumber:w,blockOverrides:y,blockTag:v,functionName:"aggregate3",stateOverride:m}))),k=[];for(let T=0;T<R.length;T++){const S=R[T];if(S.status==="rejected"){if(!b)throw S.reason;for(let A=0;A<x[T].length;A++)k.push({status:"failure",error:S.reason,result:void 0});continue}const I=S.value;for(let A=0;A<I.length;A++){const{returnData:j,success:N}=I[A],{callData:B}=x[T][A],{abi:$,address:M,functionName:L,args:q}=C[k.length];try{if(B==="0x")throw new r.AbiDecodingZeroDataError;if(!N)throw new i.RawContractError({data:j});const U=(0,s.decodeFunctionResult)({abi:$,args:q,data:j,functionName:L});k.push(b?{result:U,status:"success"}:U)}catch(U){const F=(0,c.getContractError)(U,{abi:$,address:M,args:q,docsPath:"/docs/contract/multicall",functionName:L});if(!b)throw F;k.push({error:F,result:void 0,status:"failure"})}}}if(k.length!==C.length)throw new n.BaseError("multicall results mismatch");return k}return Mv}var Lv={},l$;function aQ(){if(l$)return Lv;l$=1,Object.defineProperty(Lv,"__esModule",{value:!0}),Lv.simulateBlocks=b;const e=dY(),t=yr(),r=br(),n=Du(),i=Bc(),s=kc(),o=Ki(),a=An(),c=Oe(),u=Mu(),l=$1(),f=_E(),d=Rc(),h=No(),g=lS(),p=Do();async function b(w,y){const{blockNumber:v,blockTag:m=w.experimental_blockTag??"latest",blocks:C,returnFullTransactions:E,traceTransfers:_,validation:P}=y;try{const x=[];for(const k of C){const T=k.blockOverrides?e.toRpc(k.blockOverrides):void 0,S=k.calls.map(A=>{const j=A,N=j.account?(0,t.parseAccount)(j.account):void 0,B=j.abi?(0,o.encodeFunctionData)(j):j.data,$={...j,account:N,data:j.dataSuffix?(0,a.concat)([B||"0x",j.dataSuffix]):B,from:j.from??N?.address};return(0,p.assertRequest)($),(0,h.formatTransactionRequest)($)}),I=k.stateOverrides?(0,g.serializeStateOverride)(k.stateOverrides):void 0;x.push({blockOverrides:T,calls:S,stateOverrides:I})}const D=(typeof v=="bigint"?(0,c.numberToHex)(v):void 0)||m;return(await w.request({method:"eth_simulateV1",params:[{blockStateCalls:x,returnFullTransactions:E,traceTransfers:_,validation:P},D]})).map((k,T)=>({...(0,f.formatBlock)(k),calls:k.calls.map((S,I)=>{const{abi:A,args:j,functionName:N,to:B}=C[T].calls[I],$=S.error?.data??S.returnData,M=BigInt(S.gasUsed),L=S.logs?.map(H=>(0,d.formatLog)(H)),q=S.status==="0x1"?"success":"failure",U=A&&q==="success"&&$!=="0x"?(0,s.decodeFunctionResult)({abi:A,data:$,functionName:N}):null,F=(()=>{if(q==="success")return;let H;if(S.error?.data==="0x"?H=new r.AbiDecodingZeroDataError:S.error&&(H=new n.RawContractError(S.error)),!!H)return(0,u.getContractError)(H,{abi:A??[],address:B??"0x",args:j,functionName:N??"<unknown>"})})();return{data:$,gasUsed:M,logs:L,status:q,...q==="success"?{result:U}:{error:F}}})}))}catch(x){const O=x,D=(0,l.getNodeError)(O,{});throw D instanceof i.UnknownNodeError?O:D}}return Lv}var Uv={},Gc={},si={},jf={},d$;function i1e(){if(d$)return jf;d$=1,Object.defineProperty(jf,"__esModule",{value:!0}),jf.normalizeSignature=r,jf.isArgOfType=n,jf.getAmbiguousTypes=i;const e=ME(),t=Ps();function r(s){let o=!0,a="",c=0,u="",l=!1;for(let f=0;f<s.length;f++){const d=s[f];if(["(",")",","].includes(d)&&(o=!0),d==="("&&c++,d===")"&&c--,!!o){if(c===0){if(d===" "&&["event","function","error",""].includes(u))u="";else if(u+=d,d===")"){l=!0;break}continue}if(d===" "){s[f-1]!==","&&a!==","&&a!==",("&&(a="",o=!1);continue}u+=d,a+=d}}if(!l)throw new t.BaseError("Unable to normalize signature.");return u}function n(s,o){const a=typeof s,c=o.type;switch(c){case"address":return e.validate(s,{strict:!1});case"bool":return a==="boolean";case"function":return a==="string";case"string":return a==="string";default:return c==="tuple"&&"components"in o?Object.values(o.components).every((u,l)=>n(Object.values(s)[l],u)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(c)?a==="number"||a==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(c)?a==="string"||s instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(c)?Array.isArray(s)&&s.every(u=>n(u,{...o,type:c.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function i(s,o,a){for(const c in s){const u=s[c],l=o[c];if(u.type==="tuple"&&l.type==="tuple"&&"components"in u&&"components"in l)return i(u.components,l.components,a[c]);const f=[u.type,l.type];if(f.includes("address")&&f.includes("bytes20")?!0:f.includes("address")&&f.includes("string")?e.validate(a[c],{strict:!1}):f.includes("address")&&f.includes("bytes")?e.validate(a[c],{strict:!1}):!1)return f}}return jf}var f$;function cQ(){if(f$)return si;f$=1,Object.defineProperty(si,"__esModule",{value:!0}),si.InvalidSelectorSizeError=si.NotFoundError=si.AmbiguityError=void 0,si.format=s,si.from=o,si.fromAbi=a,si.getSelector=c,si.getSignature=u,si.getSignatureHash=l;const e=Ru(),t=Ps(),r=VS(),n=$n(),i=i1e();function s(g){return e.formatAbiItem(g)}function o(g,p={}){const{prepare:b=!0}=p,w=Array.isArray(g)||typeof g=="string"?e.parseAbiItem(g):g;return{...w,...b?{hash:l(w)}:{}}}function a(g,p,b){const{args:w=[],prepare:y=!0}=b??{},v=n.validate(p,{strict:!1}),m=g.filter(_=>v?_.type==="function"||_.type==="error"?c(_)===n.slice(p,0,4):_.type==="event"?l(_)===p:!1:"name"in _&&_.name===p);if(m.length===0)throw new d({name:p});if(m.length===1)return{...m[0],...y?{hash:l(m[0])}:{}};let C;for(const _ of m){if(!("inputs"in _))continue;if(!w||w.length===0){if(!_.inputs||_.inputs.length===0)return{..._,...y?{hash:l(_)}:{}};continue}if(!_.inputs||_.inputs.length===0||_.inputs.length!==w.length)continue;if(w.every((x,O)=>{const D="inputs"in _&&_.inputs[O];return D?i.isArgOfType(x,D):!1})){if(C&&"inputs"in C&&C.inputs){const x=i.getAmbiguousTypes(_.inputs,C.inputs,w);if(x)throw new f({abiItem:_,type:x[0]},{abiItem:C,type:x[1]})}C=_}}const E=(()=>{if(C)return C;const[_,...P]=m;return{..._,overloads:P}})();if(!E)throw new d({name:p});return{...E,...y?{hash:l(E)}:{}}}function c(...g){const p=(()=>{if(Array.isArray(g[0])){const[b,w]=g;return a(b,w)}return g[0]})();return n.slice(l(p),0,4)}function u(...g){const p=(()=>{if(Array.isArray(g[0])){const[w,y]=g;return a(w,y)}return g[0]})(),b=typeof p=="string"?p:e.formatAbiItem(p);return i.normalizeSignature(b)}function l(...g){const p=(()=>{if(Array.isArray(g[0])){const[b,w]=g;return a(b,w)}return g[0]})();return typeof p!="string"&&"hash"in p&&p.hash?p.hash:r.keccak256(n.fromString(u(p)))}class f extends t.BaseError{constructor(p,b){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${p.type}\` in \`${i.normalizeSignature(e.formatAbiItem(p.abiItem))}\`, and`,`\`${b.type}\` in \`${i.normalizeSignature(e.formatAbiItem(b.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}si.AmbiguityError=f;class d extends t.BaseError{constructor({name:p,data:b,type:w="item"}){const y=p?` with name "${p}"`:b?` with data "${b}"`:"";super(`ABI ${w}${y} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}si.NotFoundError=d;class h extends t.BaseError{constructor({data:p}){super(`Selector size is invalid. Expected 4 bytes. Received ${n.size(p)} bytes ("${p}").`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.InvalidSelectorSizeError"})}}return si.InvalidSelectorSizeError=h,si}var h$;function s1e(){if(h$)return Gc;h$=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.decode=i,Gc.encode=s,Gc.format=o,Gc.from=a,Gc.fromAbi=c;const e=Ru(),t=cQ(),r=X1(),n=$n();function i(...u){const[l,f]=(()=>{if(Array.isArray(u[0])){const[g,p]=u;return[c(g),p]}return u})(),{bytecode:d}=f;if(l.inputs?.length===0)return;const h=f.data.replace(d,"0x");return r.decode(l.inputs,h)}function s(...u){const[l,f]=(()=>{if(Array.isArray(u[0])){const[g,p]=u;return[c(g),p]}return u})(),{bytecode:d,args:h}=f;return n.concat(d,l.inputs?.length&&h?.length?r.encode(l.inputs,h):"0x")}function o(u){return e.formatAbiItem(u)}function a(u){return t.from(u)}function c(u){const l=u.find(f=>f.type==="constructor");if(!l)throw new t.NotFoundError({name:"constructor"});return l}return Gc}var io={},p$;function o1e(){if(p$)return io;p$=1,Object.defineProperty(io,"__esModule",{value:!0}),io.decodeData=i,io.decodeResult=s,io.encodeData=o,io.encodeResult=a,io.format=c,io.from=u,io.fromAbi=l,io.getSelector=f;const e=Ru(),t=cQ(),r=X1(),n=$n();function i(...d){const[h,g]=(()=>{if(Array.isArray(d[0])){const[w,y,v]=d;return[l(w,y),v]}return d})(),{overloads:p}=h;if(n.size(g)<4)throw new t.InvalidSelectorSizeError({data:g});if(h.inputs?.length===0)return;const b=p?l([h,...p],g):h;if(!(n.size(g)<=4))return r.decode(b.inputs,n.slice(g,4))}function s(...d){const[h,g,p={}]=(()=>{if(Array.isArray(d[0])){const[w,y,v,m]=d;return[l(w,y),v,m]}return d})(),b=r.decode(h.outputs,g,p);if(!(b&&Object.keys(b).length===0))return b&&Object.keys(b).length===1?Array.isArray(b)?b[0]:Object.values(b)[0]:b}function o(...d){const[h,g=[]]=(()=>{if(Array.isArray(d[0])){const[C,E,_]=d;return[l(C,E,{args:_}),_]}const[v,m]=d;return[v,m]})(),{overloads:p}=h,b=p?l([h,...p],h.name,{args:g}):h,w=f(b),y=g.length>0?r.encode(b.inputs,g):void 0;return y?n.concat(w,y):w}function a(...d){const[h,g,p={}]=(()=>{if(Array.isArray(d[0])){const[y,v,m,C]=d;return[l(y,v),m,C]}return d})(),{as:b="Array"}=p,w=h.outputs.length===1?[g]:Array.isArray(g)?g:b==="Object"?Object.values(g):[g];return r.encode(h.outputs,w)}function c(d){return e.formatAbiItem(d)}function u(d,h={}){return t.from(d,h)}function l(d,h,g){const p=t.fromAbi(d,h,g);if(p.type!=="function")throw new t.NotFoundError({name:h,type:"function"});return p}function f(d){return t.getSelector(d)}return io}var bl={},g$;function uQ(){return g$||(g$=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.zeroAddress=bl.ethAddress=void 0,bl.ethAddress="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",bl.zeroAddress="0x0000000000000000000000000000000000000000"),bl}var m$;function a1e(){if(m$)return Uv;m$=1,Object.defineProperty(Uv,"__esModule",{value:!0}),Uv.simulateCalls=f;const e=s1e(),t=o1e(),r=yr(),n=uQ(),i=H1(),s=Ye(),o=Ki(),a=XS(),c=EY(),u=aQ(),l="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function f(d,h){const{blockNumber:g,blockTag:p,calls:b,stateOverrides:w,traceAssetChanges:y,traceTransfers:v,validation:m}=h,C=h.account?(0,r.parseAccount)(h.account):void 0;if(y&&!C)throw new s.BaseError("`account` is required when `traceAssetChanges` is true");const E=C?e.encode(e.from("constructor(bytes, bytes)"),{bytecode:i.deploylessCallViaBytecodeBytecode,args:[l,t.encodeData(t.from("function getBalance(address)"),[C.address])]}):void 0,_=y?await Promise.all(h.calls.map(async Z=>{if(!Z.data&&!Z.abi)return;const{accessList:X}=await (0,c.createAccessList)(d,{account:C.address,...Z,data:Z.abi?(0,o.encodeFunctionData)(Z):Z.data});return X.map(({address:ue,storageKeys:Y})=>Y.length>0?ue:null)})).then(Z=>Z.flat().filter(Boolean)):[],P=await (0,u.simulateBlocks)(d,{blockNumber:g,blockTag:p,blocks:[...y?[{calls:[{data:E}],stateOverrides:w},{calls:_.map((Z,X)=>({abi:[t.from("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[C.address],to:Z,from:n.zeroAddress,nonce:X})),stateOverrides:[{address:n.zeroAddress,nonce:0}]}]:[],{calls:[...b,{}].map(Z=>({...Z,from:C?.address})),stateOverrides:w},...y?[{calls:[{data:E}]},{calls:_.map((Z,X)=>({abi:[t.from("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[C.address],to:Z,from:n.zeroAddress,nonce:X})),stateOverrides:[{address:n.zeroAddress,nonce:0}]},{calls:_.map((Z,X)=>({to:Z,abi:[t.from("function decimals() returns (uint256)")],functionName:"decimals",from:n.zeroAddress,nonce:X})),stateOverrides:[{address:n.zeroAddress,nonce:0}]},{calls:_.map((Z,X)=>({to:Z,abi:[t.from("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:n.zeroAddress,nonce:X})),stateOverrides:[{address:n.zeroAddress,nonce:0}]},{calls:_.map((Z,X)=>({to:Z,abi:[t.from("function symbol() returns (string)")],functionName:"symbol",from:n.zeroAddress,nonce:X})),stateOverrides:[{address:n.zeroAddress,nonce:0}]}]:[]],traceTransfers:v,validation:m}),x=y?P[2]:P[0],[O,D,,R,k,T,S,I]=y?P:[],{calls:A,...j}=x,N=A.slice(0,-1)??[],B=O?.calls??[],$=D?.calls??[],M=[...B,...$].map(Z=>Z.status==="success"?(0,a.hexToBigInt)(Z.data):null),L=R?.calls??[],q=k?.calls??[],U=[...L,...q].map(Z=>Z.status==="success"?(0,a.hexToBigInt)(Z.data):null),F=(T?.calls??[]).map(Z=>Z.status==="success"?Z.result:null),H=(I?.calls??[]).map(Z=>Z.status==="success"?Z.result:null),V=(S?.calls??[]).map(Z=>Z.status==="success"?Z.result:null),W=[];for(const[Z,X]of U.entries()){const ue=M[Z];if(typeof X!="bigint"||typeof ue!="bigint")continue;const Y=F[Z-1],Q=H[Z-1],ae=V[Z-1],he=Z===0?{address:n.ethAddress,decimals:18,symbol:"ETH"}:{address:_[Z-1],decimals:ae||Y?Number(Y??1):void 0,symbol:Q??void 0};W.some(pe=>pe.token.address===he.address)||W.push({token:he,value:{pre:ue,post:X,diff:X-ue}})}return{assetChanges:W,block:j,results:N}}return Uv}var Bf={},fg={},b4={},b$;function c1e(){return b$||(b$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidWrappedSignatureError=e.universalSignatureValidatorAbi=e.universalSignatureValidatorBytecode=e.magicBytes=void 0,e.assert=i,e.from=s,e.unwrap=o,e.wrap=a,e.validate=c;const t=X1(),r=Ps(),n=$n();e.magicBytes="0x6492649264926492649264926492649264926492649264926492649264926492",e.universalSignatureValidatorBytecode="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",e.universalSignatureValidatorAbi=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function i(l){if(n.slice(l,-32)!==e.magicBytes)throw new u(l)}function s(l){return typeof l=="string"?o(l):l}function o(l){i(l);const[f,d,h]=t.decode(t.from("address, bytes, bytes"),l);return{data:d,signature:h,to:f}}function a(l){const{data:f,signature:d,to:h}=l;return n.concat(t.encode(t.from("address, bytes, bytes"),[h,f,d]),e.magicBytes)}function c(l){try{return i(l),!0}catch{return!1}}class u extends r.BaseError{constructor(f){super(`Value \`${f}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}e.InvalidWrappedSignatureError=u})(b4)),b4}var y$;function u1e(){return y$||(y$=1,Object.defineProperty(fg,"__esModule",{value:!0}),fg.SignatureErc6492=void 0,fg.SignatureErc6492=c1e()),fg}var qv={},w$;function lQ(){if(w$)return qv;w$=1,Object.defineProperty(qv,"__esModule",{value:!0}),qv.serializeSignature=n;const e=k1(),t=Cr(),r=Qt();function n({r:i,s,to:o="hex",v:a,yParity:c}){const u=(()=>{if(c===0||c===1)return c;if(a&&(a===27n||a===28n||a>=35n))return a%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),l=`0x${new e.secp256k1.Signature((0,t.hexToBigInt)(i),(0,t.hexToBigInt)(s)).toCompactHex()}${u===0?"1b":"1c"}`;return o==="hex"?l:(0,r.hexToBytes)(l)}return qv}var v$;function zE(){if(v$)return Bf;v$=1,Object.defineProperty(Bf,"__esModule",{value:!0}),Bf.verifyHash=m,Bf.verifyErc8010=C,Bf.verifyErc1271=_;const e=u1e(),t=UE(),r=zu(),n=H1(),i=Du(),s=V1(),o=Ki(),a=Is(),c=$o(),u=SY(),l=An(),f=wi(),d=Cr(),h=Oe(),g=mt(),p=Lu(),b=lQ(),w=G1(),y=AY(),v=Ea();async function m(x,O){const{address:D,chain:R=x.chain,hash:k,erc6492VerifierAddress:T=O.universalSignatureVerifierAddress??R?.contracts?.erc6492Verifier?.address,multicallAddress:S=O.multicallAddress??R?.contracts?.multicall3?.address}=O;if(R?.verifyHash)return await R.verifyHash(x,O);const I=(()=>{const A=O.signature;return(0,f.isHex)(A)?A:typeof A=="object"&&"r"in A&&"s"in A?(0,b.serializeSignature)(A):(0,h.bytesToHex)(A)})();try{return t.SignatureErc8010.validate(I)?await C(x,{...O,multicallAddress:S,signature:I}):await E(x,{...O,verifierAddress:T,signature:I})}catch(A){try{if((0,c.isAddressEqual)((0,a.getAddress)(D),await (0,p.recoverAddress)({hash:k,signature:I})))return!0}catch{}if(A instanceof P)return!1;throw A}}async function C(x,O){const{address:D,blockNumber:R,blockTag:k,hash:T,multicallAddress:S}=O,{authorization:I,data:A,signature:j,to:N}=t.SignatureErc8010.unwrap(O.signature);if(await (0,y.getCode)(x,{address:D,blockNumber:R,blockTag:k})===(0,l.concatHex)(["0xef0100",I.address]))return await _(x,{address:D,blockNumber:R,blockTag:k,hash:T,signature:j});const $={address:I.address,chainId:Number(I.chainId),nonce:Number(I.nonce),r:(0,h.numberToHex)(I.r,{size:32}),s:(0,h.numberToHex)(I.s,{size:32}),yParity:I.yParity};if(!await (0,u.verifyAuthorization)({address:D,authorization:$}))throw new P;const L=await (0,g.getAction)(x,v.readContract,"readContract")({...S?{address:S}:{code:n.multicall3Bytecode},authorizationList:[$],abi:r.multicall3Abi,blockNumber:R,blockTag:"pending",functionName:"aggregate3",args:[[...A?[{allowFailure:!0,target:N??D,callData:A}]:[],{allowFailure:!0,target:D,callData:(0,o.encodeFunctionData)({abi:r.erc1271Abi,functionName:"isValidSignature",args:[T,j]})}]]});if(L[L.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new P}async function E(x,O){const{address:D,factory:R,factoryData:k,hash:T,signature:S,verifierAddress:I,...A}=O,j=await (async()=>!R&&!k||e.SignatureErc6492.validate(S)?S:e.SignatureErc6492.wrap({data:k,signature:S,to:R}))(),N=I?{to:I,data:(0,o.encodeFunctionData)({abi:r.erc6492SignatureValidatorAbi,functionName:"isValidSig",args:[D,T,j]}),...A}:{data:(0,s.encodeDeployData)({abi:r.erc6492SignatureValidatorAbi,args:[D,T,j],bytecode:n.erc6492SignatureValidatorByteCode}),...A},{data:B}=await (0,g.getAction)(x,w.call,"call")(N).catch($=>{throw $ instanceof i.CallExecutionError?new P:$});if((0,d.hexToBool)(B??"0x0"))return!0;throw new P}async function _(x,O){const{address:D,blockNumber:R,blockTag:k,hash:T,signature:S}=O;if((await (0,g.getAction)(x,v.readContract,"readContract")({address:D,abi:r.erc1271Abi,args:[T,S],blockNumber:R,blockTag:k,functionName:"isValidSignature"}).catch(A=>{throw A instanceof i.ContractFunctionExecutionError?new P:A})).startsWith("0x1626ba7e"))return!0;throw new P}class P extends Error{}return Bf}var zv={},E$;function l1e(){if(E$)return zv;E$=1,Object.defineProperty(zv,"__esModule",{value:!0}),zv.verifyMessage=n;const e=mt(),t=Q1(),r=zE();async function n(i,{address:s,message:o,factory:a,factoryData:c,signature:u,...l}){const f=(0,t.hashMessage)(o);return(0,e.getAction)(i,r.verifyHash,"verifyHash")({address:s,factory:a,factoryData:c,hash:f,signature:u,...l})}return zv}var Fv={},_$;function d1e(){if(_$)return Fv;_$=1,Object.defineProperty(Fv,"__esModule",{value:!0}),Fv.verifyTypedData=n;const e=mt(),t=J1(),r=zE();async function n(i,s){const{address:o,factory:a,factoryData:c,signature:u,message:l,primaryType:f,types:d,domain:h,...g}=s,p=(0,t.hashTypedData)({message:l,primaryType:f,types:d,domain:h});return(0,e.getAction)(i,r.verifyHash,"verifyHash")({address:o,factory:a,factoryData:c,hash:p,signature:u,...g})}return Fv}var Hv={},Wv={},C$;function dQ(){if(C$)return Wv;C$=1,Object.defineProperty(Wv,"__esModule",{value:!0}),Wv.watchBlockNumber=o;const e=Cr(),t=mt(),r=Qd(),n=zp(),i=Dn(),s=K1();function o(a,{emitOnBegin:c=!1,emitMissed:u=!1,onBlockNumber:l,onError:f,poll:d,pollingInterval:h=a.pollingInterval}){const g=typeof d<"u"?d:!(a.transport.type==="webSocket"||a.transport.type==="ipc"||a.transport.type==="fallback"&&(a.transport.transports[0].config.type==="webSocket"||a.transport.transports[0].config.type==="ipc"));let p;return g?(()=>{const y=(0,i.stringify)(["watchBlockNumber",a.uid,c,u,h]);return(0,r.observe)(y,{onBlockNumber:l,onError:f},v=>(0,n.poll)(async()=>{try{const m=await (0,t.getAction)(a,s.getBlockNumber,"getBlockNumber")({cacheTime:0});if(p!==void 0){if(m===p)return;if(m-p>1&&u)for(let C=p+1n;C<m;C++)v.onBlockNumber(C,p),p=C}(p===void 0||m>p)&&(v.onBlockNumber(m,p),p=m)}catch(m){v.onError?.(m)}},{emitOnBegin:c,interval:h}))})():(()=>{const y=(0,i.stringify)(["watchBlockNumber",a.uid,c,u]);return(0,r.observe)(y,{onBlockNumber:l,onError:f},v=>{let m=!0,C=()=>m=!1;return(async()=>{try{const E=(()=>{if(a.transport.type==="fallback"){const P=a.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return P?P.value:a.transport}return a.transport})(),{unsubscribe:_}=await E.subscribe({params:["newHeads"],onData(P){if(!m)return;const x=(0,e.hexToBigInt)(P.result?.number);v.onBlockNumber(x,p),p=x},onError(P){v.onError?.(P)}});C=_,m||C()}catch(E){f?.(E)}})(),()=>C()})})()}return Wv}var A$;function fQ(){if(A$)return Hv;A$=1,Object.defineProperty(Hv,"__esModule",{value:!0}),Hv.waitForTransactionReceipt=f;const e=fS(),t=Zi(),r=mt(),n=Qd(),i=_S(),s=RE(),o=Dn(),a=Zd(),c=e7(),u=oQ(),l=dQ();async function f(d,h){const{checkReplacement:g=!0,confirmations:p=1,hash:b,onReplaced:w,retryCount:y=6,retryDelay:v=({count:A})=>~~(1<<A)*200,timeout:m=18e4}=h,C=(0,o.stringify)(["waitForTransactionReceipt",d.uid,b]),E=h.pollingInterval?h.pollingInterval:d.chain?.experimental_preconfirmationTime?d.chain.experimental_preconfirmationTime:d.pollingInterval;let _,P,x,O=!1,D,R;const{promise:k,resolve:T,reject:S}=(0,i.withResolvers)(),I=m?setTimeout(()=>{R?.(),D?.(),S(new t.WaitForTransactionReceiptTimeoutError({hash:b}))},m):void 0;return D=(0,n.observe)(C,{onReplaced:w,resolve:T,reject:S},async A=>{if(x=await (0,r.getAction)(d,u.getTransactionReceipt,"getTransactionReceipt")({hash:b}).catch(()=>{}),x&&p<=1){clearTimeout(I),A.resolve(x),D?.();return}R=(0,r.getAction)(d,l.watchBlockNumber,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:E,async onBlockNumber(j){const N=$=>{clearTimeout(I),R?.(),$(),D?.()};let B=j;if(!O)try{if(x){if(p>1&&(!x.blockNumber||B-x.blockNumber+1n<p))return;N(()=>A.resolve(x));return}if(g&&!_&&(O=!0,await (0,s.withRetry)(async()=>{_=await (0,r.getAction)(d,c.getTransaction,"getTransaction")({hash:b}),_.blockNumber&&(B=_.blockNumber)},{delay:v,retryCount:y}),O=!1),x=await (0,r.getAction)(d,u.getTransactionReceipt,"getTransactionReceipt")({hash:b}),p>1&&(!x.blockNumber||B-x.blockNumber+1n<p))return;N(()=>A.resolve(x))}catch($){if($ instanceof t.TransactionNotFoundError||$ instanceof t.TransactionReceiptNotFoundError){if(!_){O=!1;return}try{P=_,O=!0;const M=await (0,s.withRetry)(()=>(0,r.getAction)(d,a.getBlock,"getBlock")({blockNumber:B,includeTransactions:!0}),{delay:v,retryCount:y,shouldRetry:({error:U})=>U instanceof e.BlockNotFoundError});O=!1;const L=M.transactions.find(({from:U,nonce:F})=>U===P.from&&F===P.nonce);if(!L||(x=await (0,r.getAction)(d,u.getTransactionReceipt,"getTransactionReceipt")({hash:L.hash}),p>1&&(!x.blockNumber||B-x.blockNumber+1n<p)))return;let q="replaced";L.to===P.to&&L.value===P.value&&L.input===P.input?q="repriced":L.from===L.to&&L.value===0n&&(q="cancelled"),N(()=>{A.onReplaced?.({reason:q,replacedTransaction:P,transaction:L,transactionReceipt:x}),A.resolve(x)})}catch(M){N(()=>A.reject(M))}}else N(()=>A.reject($))}}})}),k}return Hv}var Vv={},x$;function f1e(){if(x$)return Vv;x$=1,Object.defineProperty(Vv,"__esModule",{value:!0}),Vv.watchBlocks=s;const e=mt(),t=Qd(),r=zp(),n=Dn(),i=Zd();function s(o,{blockTag:a=o.experimental_blockTag??"latest",emitMissed:c=!1,emitOnBegin:u=!1,onBlock:l,onError:f,includeTransactions:d,poll:h,pollingInterval:g=o.pollingInterval}){const p=typeof h<"u"?h:!(o.transport.type==="webSocket"||o.transport.type==="ipc"||o.transport.type==="fallback"&&(o.transport.transports[0].config.type==="webSocket"||o.transport.transports[0].config.type==="ipc")),b=d??!1;let w;return p?(()=>{const m=(0,n.stringify)(["watchBlocks",o.uid,a,c,u,b,g]);return(0,t.observe)(m,{onBlock:l,onError:f},C=>(0,r.poll)(async()=>{try{const E=await (0,e.getAction)(o,i.getBlock,"getBlock")({blockTag:a,includeTransactions:b});if(E.number!==null&&w?.number!=null){if(E.number===w.number)return;if(E.number-w.number>1&&c)for(let _=w?.number+1n;_<E.number;_++){const P=await (0,e.getAction)(o,i.getBlock,"getBlock")({blockNumber:_,includeTransactions:b});C.onBlock(P,w),w=P}}(w?.number==null||a==="pending"&&E?.number==null||E.number!==null&&E.number>w.number)&&(C.onBlock(E,w),w=E)}catch(E){C.onError?.(E)}},{emitOnBegin:u,interval:g}))})():(()=>{let m=!0,C=!0,E=()=>m=!1;return(async()=>{try{u&&(0,e.getAction)(o,i.getBlock,"getBlock")({blockTag:a,includeTransactions:b}).then(x=>{m&&C&&(l(x,void 0),C=!1)}).catch(f);const _=(()=>{if(o.transport.type==="fallback"){const x=o.transport.transports.find(O=>O.config.type==="webSocket"||O.config.type==="ipc");return x?x.value:o.transport}return o.transport})(),{unsubscribe:P}=await _.subscribe({params:["newHeads"],async onData(x){if(!m)return;const O=await (0,e.getAction)(o,i.getBlock,"getBlock")({blockNumber:x.result?.number,includeTransactions:b}).catch(()=>{});m&&(l(O,w),C=!1,w=O)},onError(x){f?.(x)}});E=P,m||E()}catch(_){f?.(_)}})(),()=>E()})()}return Vv}var Gv={},I$;function h1e(){if(I$)return Gv;I$=1,Object.defineProperty(Gv,"__esModule",{value:!0}),Gv.watchEvent=g;const e=br(),t=$u(),r=z1(),n=Gd(),i=Rc(),s=mt(),o=Qd(),a=zp(),c=Dn(),u=_Y(),l=K1(),f=OE(),d=wS(),h=jE();function g(p,{address:b,args:w,batch:y=!0,event:v,events:m,fromBlock:C,onError:E,onLogs:_,poll:P,pollingInterval:x=p.pollingInterval,strict:O}){const D=typeof P<"u"?P:typeof C=="bigint"?!0:!(p.transport.type==="webSocket"||p.transport.type==="ipc"||p.transport.type==="fallback"&&(p.transport.transports[0].config.type==="webSocket"||p.transport.transports[0].config.type==="ipc")),R=O??!1;return D?(()=>{const S=(0,c.stringify)(["watchEvent",b,w,y,p.uid,v,x,C]);return(0,o.observe)(S,{onLogs:_,onError:E},I=>{let A;C!==void 0&&(A=C-1n);let j,N=!1;const B=(0,a.poll)(async()=>{if(!N){try{j=await (0,s.getAction)(p,u.createEventFilter,"createEventFilter")({address:b,args:w,event:v,events:m,strict:R,fromBlock:C})}catch{}N=!0;return}try{let $;if(j)$=await (0,s.getAction)(p,f.getFilterChanges,"getFilterChanges")({filter:j});else{const M=await (0,s.getAction)(p,l.getBlockNumber,"getBlockNumber")({});A&&A!==M?$=await (0,s.getAction)(p,d.getLogs,"getLogs")({address:b,args:w,event:v,events:m,fromBlock:A+1n,toBlock:M}):$=[],A=M}if($.length===0)return;if(y)I.onLogs($);else for(const M of $)I.onLogs([M])}catch($){j&&$ instanceof t.InvalidInputRpcError&&(N=!1),I.onError?.($)}},{emitOnBegin:!0,interval:x});return async()=>{j&&await (0,s.getAction)(p,h.uninstallFilter,"uninstallFilter")({filter:j}),B()}})})():(()=>{let S=!0,I=()=>S=!1;return(async()=>{try{const A=(()=>{if(p.transport.type==="fallback"){const $=p.transport.transports.find(M=>M.config.type==="webSocket"||M.config.type==="ipc");return $?$.value:p.transport}return p.transport})(),j=m??(v?[v]:void 0);let N=[];j&&(N=[j.flatMap(M=>(0,n.encodeEventTopics)({abi:[M],eventName:M.name,args:w}))],v&&(N=N[0]));const{unsubscribe:B}=await A.subscribe({params:["logs",{address:b,topics:N}],onData($){if(!S)return;const M=$.result;try{const{eventName:L,args:q}=(0,r.decodeEventLog)({abi:j??[],data:M.data,topics:M.topics,strict:R}),U=(0,i.formatLog)(M,{args:q,eventName:L});_([U])}catch(L){let q,U;if(L instanceof e.DecodeLogDataMismatch||L instanceof e.DecodeLogTopicsMismatch){if(O)return;q=L.abiItem.name,U=L.abiItem.inputs?.some(H=>!("name"in H&&H.name))}const F=(0,i.formatLog)(M,{args:U?[]:{},eventName:q});_([F])}},onError($){E?.($)}});I=B,S||I()}catch(A){E?.(A)}})(),()=>I()})()}return Gv}var Kv={},P$;function p1e(){if(P$)return Kv;P$=1,Object.defineProperty(Kv,"__esModule",{value:!0}),Kv.watchPendingTransactions=a;const e=mt(),t=Qd(),r=zp(),n=Dn(),i=CY(),s=OE(),o=jE();function a(c,{batch:u=!0,onError:l,onTransactions:f,poll:d,pollingInterval:h=c.pollingInterval}){return(typeof d<"u"?d:c.transport.type!=="webSocket"&&c.transport.type!=="ipc")?(()=>{const w=(0,n.stringify)(["watchPendingTransactions",c.uid,u,h]);return(0,t.observe)(w,{onTransactions:f,onError:l},y=>{let v;const m=(0,r.poll)(async()=>{try{if(!v)try{v=await (0,e.getAction)(c,i.createPendingTransactionFilter,"createPendingTransactionFilter")({});return}catch(E){throw m(),E}const C=await (0,e.getAction)(c,s.getFilterChanges,"getFilterChanges")({filter:v});if(C.length===0)return;if(u)y.onTransactions(C);else for(const E of C)y.onTransactions([E])}catch(C){y.onError?.(C)}},{emitOnBegin:!0,interval:h});return async()=>{v&&await (0,e.getAction)(c,o.uninstallFilter,"uninstallFilter")({filter:v}),m()}})})():(()=>{let w=!0,y=()=>w=!1;return(async()=>{try{const{unsubscribe:v}=await c.transport.subscribe({params:["newPendingTransactions"],onData(m){if(!w)return;const C=m.result;f([C])},onError(m){l?.(m)}});y=v,w||y()}catch(v){l?.(v)}})(),()=>y()})()}return Kv}var Zv={},Yv={},S$;function g1e(){if(S$)return Yv;S$=1,Object.defineProperty(Yv,"__esModule",{value:!0}),Yv.parseSiweMessage=e;function e(n){const{scheme:i,statement:s,...o}=n.match(t)?.groups??{},{chainId:a,expirationTime:c,issuedAt:u,notBefore:l,requestId:f,...d}=n.match(r)?.groups??{},h=n.split("Resources:")[1]?.split(`
- `).slice(1);return{...o,...d,...a?{chainId:Number(a)}:{},...c?{expirationTime:new Date(c)}:{},...u?{issuedAt:new Date(u)}:{},...l?{notBefore:new Date(l)}:{},...f?{requestId:f}:{},...h?{resources:h}:{},...i?{scheme:i}:{},...s?{statement:s}:{}}}const t=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,r=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;return Yv}var Qv={},T$;function m1e(){if(T$)return Qv;T$=1,Object.defineProperty(Qv,"__esModule",{value:!0}),Qv.validateSiweMessage=r;const e=Gi(),t=$o();function r(n){const{address:i,domain:s,message:o,nonce:a,scheme:c,time:u=new Date}=n;if(s&&o.domain!==s||a&&o.nonce!==a||c&&o.scheme!==c||o.expirationTime&&u>=o.expirationTime||o.notBefore&&u<o.notBefore)return!1;try{if(!o.address||!(0,e.isAddress)(o.address,{strict:!1})||i&&!(0,t.isAddressEqual)(o.address,i))return!1}catch{return!1}return!0}return Qv}var O$;function b1e(){if(O$)return Zv;O$=1,Object.defineProperty(Zv,"__esModule",{value:!0}),Zv.verifySiweMessage=i;const e=Q1(),t=g1e(),r=m1e(),n=zE();async function i(s,o){const{address:a,domain:c,message:u,nonce:l,scheme:f,signature:d,time:h=new Date,...g}=o,p=(0,t.parseSiweMessage)(u);if(!p.address||!(0,r.validateSiweMessage)({address:a,domain:c,message:p,nonce:l,scheme:f,time:h}))return!1;const w=(0,e.hashMessage)(u);return(0,n.verifyHash)(s,{address:p.address,hash:w,signature:d,...g})}return Zv}var Jv={},j$;function t7(){if(j$)return Jv;j$=1,Object.defineProperty(Jv,"__esModule",{value:!0}),Jv.sendRawTransactionSync=n;const e=Zi(),t=Y1(),r=XS();async function n(i,{serializedTransaction:s,throwOnReceiptRevert:o,timeout:a}){const c=await i.request({method:"eth_sendRawTransactionSync",params:a?[s,(0,r.numberToHex)(a)]:[s]},{retryCount:0}),l=(i.chain?.formatters?.transactionReceipt?.format||t.formatTransactionReceipt)(c);if(l.status==="reverted"&&o)throw new e.TransactionReceiptRevertedError({receipt:l});return l}return Jv}var B$;function hQ(){if(B$)return Rw;B$=1,Object.defineProperty(Rw,"__esModule",{value:!0}),Rw.publicActions=Pe;const e=Ame(),t=Pme(),r=Sme(),n=Tme(),i=vY(),s=G1(),o=EY(),a=Ome(),c=iS(),u=_Y(),l=CY(),f=cY(),d=iY(),h=yS(),g=nY(),p=bS(),b=jme(),w=Bme(),y=Zd(),v=K1(),m=Rme(),C=qu(),E=AY(),_=vS(),P=Nme(),x=$me(),O=OE(),D=Mme(),R=hS(),k=wS(),T=e1e(),S=t1e(),I=e7(),A=r1e(),j=CE(),N=oQ(),B=n1e(),$=Ea(),M=aQ(),L=a1e(),q=fY(),U=jE(),F=zE(),H=l1e(),V=d1e(),W=fQ(),Z=dQ(),X=f1e(),ue=pY(),Y=h1e(),Q=p1e(),ae=b1e(),he=q1(),pe=TS(),be=t7();function Pe(fe){return{call:ce=>(0,s.call)(fe,ce),createAccessList:ce=>(0,o.createAccessList)(fe,ce),createBlockFilter:()=>(0,a.createBlockFilter)(fe),createContractEventFilter:ce=>(0,c.createContractEventFilter)(fe,ce),createEventFilter:ce=>(0,u.createEventFilter)(fe,ce),createPendingTransactionFilter:()=>(0,l.createPendingTransactionFilter)(fe),estimateContractGas:ce=>(0,f.estimateContractGas)(fe,ce),estimateGas:ce=>(0,h.estimateGas)(fe,ce),getBalance:ce=>(0,b.getBalance)(fe,ce),getBlobBaseFee:()=>(0,w.getBlobBaseFee)(fe),getBlock:ce=>(0,y.getBlock)(fe,ce),getBlockNumber:ce=>(0,v.getBlockNumber)(fe,ce),getBlockTransactionCount:ce=>(0,m.getBlockTransactionCount)(fe,ce),getBytecode:ce=>(0,E.getCode)(fe,ce),getChainId:()=>(0,C.getChainId)(fe),getCode:ce=>(0,E.getCode)(fe,ce),getContractEvents:ce=>(0,_.getContractEvents)(fe,ce),getEip712Domain:ce=>(0,P.getEip712Domain)(fe,ce),getEnsAddress:ce=>(0,e.getEnsAddress)(fe,ce),getEnsAvatar:ce=>(0,t.getEnsAvatar)(fe,ce),getEnsName:ce=>(0,r.getEnsName)(fe,ce),getEnsResolver:ce=>(0,n.getEnsResolver)(fe,ce),getEnsText:ce=>(0,i.getEnsText)(fe,ce),getFeeHistory:ce=>(0,x.getFeeHistory)(fe,ce),estimateFeesPerGas:ce=>(0,d.estimateFeesPerGas)(fe,ce),getFilterChanges:ce=>(0,O.getFilterChanges)(fe,ce),getFilterLogs:ce=>(0,D.getFilterLogs)(fe,ce),getGasPrice:()=>(0,R.getGasPrice)(fe),getLogs:ce=>(0,k.getLogs)(fe,ce),getProof:ce=>(0,T.getProof)(fe,ce),estimateMaxPriorityFeePerGas:ce=>(0,g.estimateMaxPriorityFeePerGas)(fe,ce),fillTransaction:ce=>(0,p.fillTransaction)(fe,ce),getStorageAt:ce=>(0,S.getStorageAt)(fe,ce),getTransaction:ce=>(0,I.getTransaction)(fe,ce),getTransactionConfirmations:ce=>(0,A.getTransactionConfirmations)(fe,ce),getTransactionCount:ce=>(0,j.getTransactionCount)(fe,ce),getTransactionReceipt:ce=>(0,N.getTransactionReceipt)(fe,ce),multicall:ce=>(0,B.multicall)(fe,ce),prepareTransactionRequest:ce=>(0,he.prepareTransactionRequest)(fe,ce),readContract:ce=>(0,$.readContract)(fe,ce),sendRawTransaction:ce=>(0,pe.sendRawTransaction)(fe,ce),sendRawTransactionSync:ce=>(0,be.sendRawTransactionSync)(fe,ce),simulate:ce=>(0,M.simulateBlocks)(fe,ce),simulateBlocks:ce=>(0,M.simulateBlocks)(fe,ce),simulateCalls:ce=>(0,L.simulateCalls)(fe,ce),simulateContract:ce=>(0,q.simulateContract)(fe,ce),verifyHash:ce=>(0,F.verifyHash)(fe,ce),verifyMessage:ce=>(0,H.verifyMessage)(fe,ce),verifySiweMessage:ce=>(0,ae.verifySiweMessage)(fe,ce),verifyTypedData:ce=>(0,V.verifyTypedData)(fe,ce),uninstallFilter:ce=>(0,U.uninstallFilter)(fe,ce),waitForTransactionReceipt:ce=>(0,W.waitForTransactionReceipt)(fe,ce),watchBlocks:ce=>(0,X.watchBlocks)(fe,ce),watchBlockNumber:ce=>(0,Z.watchBlockNumber)(fe,ce),watchContractEvent:ce=>(0,ue.watchContractEvent)(fe,ce),watchEvent:ce=>(0,Y.watchEvent)(fe,ce),watchPendingTransactions:ce=>(0,Q.watchPendingTransactions)(fe,ce)}}return Rw}var R$;function y1e(){if(R$)return Bw;R$=1,Object.defineProperty(Bw,"__esModule",{value:!0}),Bw.createPublicClient=r;const e=kE(),t=hQ();function r(n){const{key:i="public",name:s="Public Client"}=n;return(0,e.createClient)({...n,key:i,name:s,type:"publicClient"}).extend(t.publicActions)}return Bw}var Xv={},e2={},t2={},k$;function w1e(){if(k$)return t2;k$=1,Object.defineProperty(t2,"__esModule",{value:!0}),t2.dropTransaction=e;async function e(t,{hash:r}){await t.request({method:`${t.mode}_dropTransaction`,params:[r]})}return t2}var r2={},N$;function v1e(){if(N$)return r2;N$=1,Object.defineProperty(r2,"__esModule",{value:!0}),r2.dumpState=e;async function e(t){return t.request({method:`${t.mode}_dumpState`})}return r2}var n2={},D$;function E1e(){if(D$)return n2;D$=1,Object.defineProperty(n2,"__esModule",{value:!0}),n2.getAutomine=e;async function e(t){return t.mode==="ganache"?await t.request({method:"eth_mining"}):await t.request({method:`${t.mode}_getAutomine`})}return n2}var i2={},$$;function _1e(){if($$)return i2;$$=1,Object.defineProperty(i2,"__esModule",{value:!0}),i2.getTxpoolContent=e;async function e(t){return await t.request({method:"txpool_content"})}return i2}var s2={},M$;function C1e(){if(M$)return s2;M$=1,Object.defineProperty(s2,"__esModule",{value:!0}),s2.getTxpoolStatus=t;const e=Cr();async function t(r){const{pending:n,queued:i}=await r.request({method:"txpool_status"});return{pending:(0,e.hexToNumber)(n),queued:(0,e.hexToNumber)(i)}}return s2}var o2={},L$;function A1e(){if(L$)return o2;L$=1,Object.defineProperty(o2,"__esModule",{value:!0}),o2.impersonateAccount=e;async function e(t,{address:r}){await t.request({method:`${t.mode}_impersonateAccount`,params:[r]})}return o2}var a2={},U$;function x1e(){if(U$)return a2;U$=1,Object.defineProperty(a2,"__esModule",{value:!0}),a2.increaseTime=t;const e=Oe();async function t(r,{seconds:n}){return await r.request({method:"evm_increaseTime",params:[(0,e.numberToHex)(n)]})}return a2}var c2={},q$;function I1e(){if(q$)return c2;q$=1,Object.defineProperty(c2,"__esModule",{value:!0}),c2.inspectTxpool=e;async function e(t){return await t.request({method:"txpool_inspect"})}return c2}var u2={},z$;function P1e(){if(z$)return u2;z$=1,Object.defineProperty(u2,"__esModule",{value:!0}),u2.loadState=e;async function e(t,{state:r}){await t.request({method:`${t.mode}_loadState`,params:[r]})}return u2}var l2={},F$;function S1e(){if(F$)return l2;F$=1,Object.defineProperty(l2,"__esModule",{value:!0}),l2.mine=t;const e=Oe();async function t(r,{blocks:n,interval:i}){r.mode==="ganache"?await r.request({method:"evm_mine",params:[{blocks:(0,e.numberToHex)(n)}]}):await r.request({method:`${r.mode}_mine`,params:[(0,e.numberToHex)(n),(0,e.numberToHex)(i||0)]})}return l2}var d2={},H$;function T1e(){if(H$)return d2;H$=1,Object.defineProperty(d2,"__esModule",{value:!0}),d2.removeBlockTimestampInterval=e;async function e(t){await t.request({method:`${t.mode}_removeBlockTimestampInterval`})}return d2}var f2={},W$;function O1e(){if(W$)return f2;W$=1,Object.defineProperty(f2,"__esModule",{value:!0}),f2.reset=e;async function e(t,{blockNumber:r,jsonRpcUrl:n}={}){await t.request({method:`${t.mode}_reset`,params:[{forking:{blockNumber:Number(r),jsonRpcUrl:n}}]})}return f2}var h2={},V$;function j1e(){if(V$)return h2;V$=1,Object.defineProperty(h2,"__esModule",{value:!0}),h2.revert=e;async function e(t,{id:r}){await t.request({method:"evm_revert",params:[r]})}return h2}var p2={},G$;function B1e(){if(G$)return p2;G$=1,Object.defineProperty(p2,"__esModule",{value:!0}),p2.sendUnsignedTransaction=r;const e=Uu(),t=No();async function r(n,i){const{accessList:s,data:o,from:a,gas:c,gasPrice:u,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:d,to:h,value:g,...p}=i,b=n.chain?.formatters?.transactionRequest?.format,y=(b||t.formatTransactionRequest)({...(0,e.extract)(p,{format:b}),accessList:s,data:o,from:a,gas:c,gasPrice:u,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:d,to:h,value:g},"sendUnsignedTransaction");return await n.request({method:"eth_sendUnsignedTransaction",params:[y]})}return p2}var g2={},K$;function R1e(){if(K$)return g2;K$=1,Object.defineProperty(g2,"__esModule",{value:!0}),g2.setAutomine=e;async function e(t,r){t.mode==="ganache"?r?await t.request({method:"miner_start"}):await t.request({method:"miner_stop"}):await t.request({method:"evm_setAutomine",params:[r]})}return g2}var m2={},Z$;function k1e(){if(Z$)return m2;Z$=1,Object.defineProperty(m2,"__esModule",{value:!0}),m2.setBalance=t;const e=Oe();async function t(r,{address:n,value:i}){r.mode==="ganache"?await r.request({method:"evm_setAccountBalance",params:[n,(0,e.numberToHex)(i)]}):await r.request({method:`${r.mode}_setBalance`,params:[n,(0,e.numberToHex)(i)]})}return m2}var b2={},Y$;function N1e(){if(Y$)return b2;Y$=1,Object.defineProperty(b2,"__esModule",{value:!0}),b2.setBlockGasLimit=t;const e=Oe();async function t(r,{gasLimit:n}){await r.request({method:"evm_setBlockGasLimit",params:[(0,e.numberToHex)(n)]})}return b2}var y2={},Q$;function D1e(){if(Q$)return y2;Q$=1,Object.defineProperty(y2,"__esModule",{value:!0}),y2.setBlockTimestampInterval=e;async function e(t,{interval:r}){const n=t.mode==="hardhat"?r*1e3:r;await t.request({method:`${t.mode}_setBlockTimestampInterval`,params:[n]})}return y2}var w2={},J$;function $1e(){if(J$)return w2;J$=1,Object.defineProperty(w2,"__esModule",{value:!0}),w2.setCode=e;async function e(t,{address:r,bytecode:n}){t.mode==="ganache"?await t.request({method:"evm_setAccountCode",params:[r,n]}):await t.request({method:`${t.mode}_setCode`,params:[r,n]})}return w2}var v2={},X$;function M1e(){if(X$)return v2;X$=1,Object.defineProperty(v2,"__esModule",{value:!0}),v2.setCoinbase=e;async function e(t,{address:r}){await t.request({method:`${t.mode}_setCoinbase`,params:[r]})}return v2}var E2={},eM;function L1e(){if(eM)return E2;eM=1,Object.defineProperty(E2,"__esModule",{value:!0}),E2.setIntervalMining=e;async function e(t,{interval:r}){const n=t.mode==="hardhat"?r*1e3:r;await t.request({method:"evm_setIntervalMining",params:[n]})}return E2}var _2={},tM;function U1e(){if(tM)return _2;tM=1,Object.defineProperty(_2,"__esModule",{value:!0}),_2.setLoggingEnabled=e;async function e(t,r){await t.request({method:`${t.mode}_setLoggingEnabled`,params:[r]})}return _2}var C2={},rM;function q1e(){if(rM)return C2;rM=1,Object.defineProperty(C2,"__esModule",{value:!0}),C2.setMinGasPrice=t;const e=Oe();async function t(r,{gasPrice:n}){await r.request({method:`${r.mode}_setMinGasPrice`,params:[(0,e.numberToHex)(n)]})}return C2}var A2={},nM;function z1e(){if(nM)return A2;nM=1,Object.defineProperty(A2,"__esModule",{value:!0}),A2.setNextBlockBaseFeePerGas=t;const e=Oe();async function t(r,{baseFeePerGas:n}){await r.request({method:`${r.mode}_setNextBlockBaseFeePerGas`,params:[(0,e.numberToHex)(n)]})}return A2}var x2={},iM;function F1e(){if(iM)return x2;iM=1,Object.defineProperty(x2,"__esModule",{value:!0}),x2.setNextBlockTimestamp=t;const e=Oe();async function t(r,{timestamp:n}){await r.request({method:"evm_setNextBlockTimestamp",params:[(0,e.numberToHex)(n)]})}return x2}var I2={},sM;function H1e(){if(sM)return I2;sM=1,Object.defineProperty(I2,"__esModule",{value:!0}),I2.setNonce=t;const e=Oe();async function t(r,{address:n,nonce:i}){await r.request({method:`${r.mode}_setNonce`,params:[n,(0,e.numberToHex)(i)]})}return I2}var P2={},oM;function W1e(){if(oM)return P2;oM=1,Object.defineProperty(P2,"__esModule",{value:!0}),P2.setRpcUrl=e;async function e(t,r){await t.request({method:`${t.mode}_setRpcUrl`,params:[r]})}return P2}var S2={},aM;function V1e(){if(aM)return S2;aM=1,Object.defineProperty(S2,"__esModule",{value:!0}),S2.setStorageAt=t;const e=Oe();async function t(r,{address:n,index:i,value:s}){await r.request({method:`${r.mode}_setStorageAt`,params:[n,typeof i=="number"?(0,e.numberToHex)(i):i,s]})}return S2}var T2={},cM;function G1e(){if(cM)return T2;cM=1,Object.defineProperty(T2,"__esModule",{value:!0}),T2.snapshot=e;async function e(t){return await t.request({method:"evm_snapshot"})}return T2}var O2={},uM;function K1e(){if(uM)return O2;uM=1,Object.defineProperty(O2,"__esModule",{value:!0}),O2.stopImpersonatingAccount=e;async function e(t,{address:r}){await t.request({method:`${t.mode}_stopImpersonatingAccount`,params:[r]})}return O2}var lM;function pQ(){if(lM)return e2;lM=1,Object.defineProperty(e2,"__esModule",{value:!0}),e2.testActions=T;const e=w1e(),t=v1e(),r=E1e(),n=_1e(),i=C1e(),s=A1e(),o=x1e(),a=I1e(),c=P1e(),u=S1e(),l=T1e(),f=O1e(),d=j1e(),h=B1e(),g=R1e(),p=k1e(),b=N1e(),w=D1e(),y=$1e(),v=M1e(),m=L1e(),C=U1e(),E=q1e(),_=z1e(),P=F1e(),x=H1e(),O=W1e(),D=V1e(),R=G1e(),k=K1e();function T({mode:S}){return I=>{const A=I.extend(()=>({mode:S}));return{dropTransaction:j=>(0,e.dropTransaction)(A,j),dumpState:()=>(0,t.dumpState)(A),getAutomine:()=>(0,r.getAutomine)(A),getTxpoolContent:()=>(0,n.getTxpoolContent)(A),getTxpoolStatus:()=>(0,i.getTxpoolStatus)(A),impersonateAccount:j=>(0,s.impersonateAccount)(A,j),increaseTime:j=>(0,o.increaseTime)(A,j),inspectTxpool:()=>(0,a.inspectTxpool)(A),loadState:j=>(0,c.loadState)(A,j),mine:j=>(0,u.mine)(A,j),removeBlockTimestampInterval:()=>(0,l.removeBlockTimestampInterval)(A),reset:j=>(0,f.reset)(A,j),revert:j=>(0,d.revert)(A,j),sendUnsignedTransaction:j=>(0,h.sendUnsignedTransaction)(A,j),setAutomine:j=>(0,g.setAutomine)(A,j),setBalance:j=>(0,p.setBalance)(A,j),setBlockGasLimit:j=>(0,b.setBlockGasLimit)(A,j),setBlockTimestampInterval:j=>(0,w.setBlockTimestampInterval)(A,j),setCode:j=>(0,y.setCode)(A,j),setCoinbase:j=>(0,v.setCoinbase)(A,j),setIntervalMining:j=>(0,m.setIntervalMining)(A,j),setLoggingEnabled:j=>(0,C.setLoggingEnabled)(A,j),setMinGasPrice:j=>(0,E.setMinGasPrice)(A,j),setNextBlockBaseFeePerGas:j=>(0,_.setNextBlockBaseFeePerGas)(A,j),setNextBlockTimestamp:j=>(0,P.setNextBlockTimestamp)(A,j),setNonce:j=>(0,x.setNonce)(A,j),setRpcUrl:j=>(0,O.setRpcUrl)(A,j),setStorageAt:j=>(0,D.setStorageAt)(A,j),snapshot:()=>(0,R.snapshot)(A),stopImpersonatingAccount:j=>(0,k.stopImpersonatingAccount)(A,j)}}}return e2}var dM;function Z1e(){if(dM)return Xv;dM=1,Object.defineProperty(Xv,"__esModule",{value:!0}),Xv.createTestClient=r;const e=kE(),t=pQ();function r(n){const{key:i="test",name:s="Test Client",mode:o}=n;return(0,e.createClient)({...n,key:i,name:s,type:"testClient"}).extend(c=>({mode:o,...(0,t.testActions)({mode:o})(c)}))}return Xv}var j2={},B2={},R2={},fM;function Y1e(){if(fM)return R2;fM=1,Object.defineProperty(R2,"__esModule",{value:!0}),R2.addChain=t;const e=Oe();async function t(r,{chain:n}){const{id:i,name:s,nativeCurrency:o,rpcUrls:a,blockExplorers:c}=n;await r.request({method:"wallet_addEthereumChain",params:[{chainId:(0,e.numberToHex)(i),chainName:s,nativeCurrency:o,rpcUrls:a.default.http,blockExplorerUrls:c?Object.values(c).map(({url:u})=>u):void 0}]},{dedupe:!0,retryCount:0})}return R2}var k2={},hM;function Q1e(){if(hM)return k2;hM=1,Object.defineProperty(k2,"__esModule",{value:!0}),k2.deployContract=r;const e=V1(),t=BE();function r(n,i){const{abi:s,args:o,bytecode:a,...c}=i,u=(0,e.encodeDeployData)({abi:s,args:o,bytecode:a});return(0,t.sendTransaction)(n,{...c,...c.authorizationList?{to:null}:{},data:u})}return k2}var N2={},pM;function J1e(){if(pM)return N2;pM=1,Object.defineProperty(N2,"__esModule",{value:!0}),N2.getAddresses=t;const e=Is();async function t(r){return r.account?.type==="local"?[r.account.address]:(await r.request({method:"eth_accounts"},{dedupe:!0})).map(i=>(0,e.checksumAddress)(i))}return N2}var D2={},gM;function X1e(){if(gM)return D2;gM=1,Object.defineProperty(D2,"__esModule",{value:!0}),D2.getCapabilities=r;const e=yr(),t=Oe();async function r(n,i={}){const{account:s=n.account,chainId:o}=i,a=s?(0,e.parseAccount)(s):void 0,c=o?[a?.address,[(0,t.numberToHex)(o)]]:[a?.address],u=await n.request({method:"wallet_getCapabilities",params:c}),l={};for(const[f,d]of Object.entries(u)){l[Number(f)]={};for(let[h,g]of Object.entries(d))h==="addSubAccount"&&(h="unstable_addSubAccount"),l[Number(f)][h]=g}return typeof o=="number"?l[o]:l}return D2}var $2={},mM;function ebe(){if(mM)return $2;mM=1,Object.defineProperty($2,"__esModule",{value:!0}),$2.getPermissions=e;async function e(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}return $2}var M2={},bM;function gQ(){if(bM)return M2;bM=1,Object.defineProperty(M2,"__esModule",{value:!0}),M2.prepareAuthorization=o;const e=yr(),t=Hu(),r=$o(),n=mt(),i=qu(),s=CE();async function o(a,c){const{account:u=a.account,chainId:l,nonce:f}=c;if(!u)throw new t.AccountNotFoundError({docsPath:"/docs/eip7702/prepareAuthorization"});const d=(0,e.parseAccount)(u),h=(()=>{if(c.executor)return c.executor==="self"?c.executor:(0,e.parseAccount)(c.executor)})(),g={address:c.contractAddress??c.address,chainId:l,nonce:f};return typeof g.chainId>"u"&&(g.chainId=a.chain?.id??await (0,n.getAction)(a,i.getChainId,"getChainId")({})),typeof g.nonce>"u"&&(g.nonce=await (0,n.getAction)(a,s.getTransactionCount,"getTransactionCount")({address:d.address,blockTag:"pending"}),(h==="self"||h?.address&&(0,r.isAddressEqual)(h.address,d.address))&&(g.nonce+=1)),g}return M2}var L2={},yM;function tbe(){if(yM)return L2;yM=1,Object.defineProperty(L2,"__esModule",{value:!0}),L2.requestAddresses=t;const e=Is();async function t(r){return(await r.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(i=>(0,e.getAddress)(i))}return L2}var U2={},wM;function rbe(){if(wM)return U2;wM=1,Object.defineProperty(U2,"__esModule",{value:!0}),U2.requestPermissions=e;async function e(t,r){return t.request({method:"wallet_requestPermissions",params:[r]},{retryCount:0})}return U2}var q2={},vM;function nbe(){if(vM)return q2;vM=1,Object.defineProperty(q2,"__esModule",{value:!0}),q2.sendCallsSync=r;const e=jS(),t=BS();async function r(n,i){const{chain:s=n.chain}=i,o=i.timeout??Math.max((s?.blockTime??0)*3,5e3),a=await (0,e.sendCalls)(n,i);return await (0,t.waitForCallsStatus)(n,{...i,id:a.id,timeout:o})}return q2}var z2={},EM;function mQ(){if(EM)return z2;EM=1,Object.defineProperty(z2,"__esModule",{value:!0}),z2.sendTransactionSync=w;const e=yr(),t=Hu(),r=Ye(),n=Zi(),i=D1(),s=Z1(),o=U1(),a=Uu(),c=No(),u=mt(),l=Wd(),f=Do(),d=qu(),h=fQ(),g=q1(),p=t7(),b=new l.LruMap(128);async function w(y,v){const{account:m=y.account,assertChainId:C=!0,chain:E=y.chain,accessList:_,authorizationList:P,blobs:x,data:O,gas:D,gasPrice:R,maxFeePerBlobGas:k,maxFeePerGas:T,maxPriorityFeePerGas:S,nonce:I,pollingInterval:A,throwOnReceiptRevert:j,type:N,value:B,...$}=v,M=v.timeout??Math.max((E?.blockTime??0)*3,5e3);if(typeof m>"u")throw new t.AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransactionSync"});const L=m?(0,e.parseAccount)(m):null;try{(0,f.assertRequest)(v);const q=await (async()=>{if(v.to)return v.to;if(v.to!==null&&P&&P.length>0)return await (0,i.recoverAuthorizationAddress)({authorization:P[0]}).catch(()=>{throw new r.BaseError("`to` is required. Could not infer from `authorizationList`.")})})();if(L?.type==="json-rpc"||L===null){let U;E!==null&&(U=await (0,u.getAction)(y,d.getChainId,"getChainId")({}),C&&(0,s.assertCurrentChain)({currentChainId:U,chain:E}));const F=y.chain?.formatters?.transactionRequest?.format,V=(F||c.formatTransactionRequest)({...(0,a.extract)($,{format:F}),accessList:_,account:L,authorizationList:P,blobs:x,chainId:U,data:O,gas:D,gasPrice:R,maxFeePerBlobGas:k,maxFeePerGas:T,maxPriorityFeePerGas:S,nonce:I,to:q,type:N,value:B},"sendTransaction"),W=b.get(y.uid),Z=W?"wallet_sendTransaction":"eth_sendTransaction",X=await (async()=>{try{return await y.request({method:Z,params:[V]},{retryCount:0})}catch(Y){if(W===!1)throw Y;const Q=Y;if(Q.name==="InvalidInputRpcError"||Q.name==="InvalidParamsRpcError"||Q.name==="MethodNotFoundRpcError"||Q.name==="MethodNotSupportedRpcError")return await y.request({method:"wallet_sendTransaction",params:[V]},{retryCount:0}).then(ae=>(b.set(y.uid,!0),ae)).catch(ae=>{const he=ae;throw he.name==="MethodNotFoundRpcError"||he.name==="MethodNotSupportedRpcError"?(b.set(y.uid,!1),Q):he});throw Q}})(),ue=await (0,u.getAction)(y,h.waitForTransactionReceipt,"waitForTransactionReceipt")({checkReplacement:!1,hash:X,pollingInterval:A,timeout:M});if(j&&ue.status==="reverted")throw new n.TransactionReceiptRevertedError({receipt:ue});return ue}if(L?.type==="local"){const U=await (0,u.getAction)(y,g.prepareTransactionRequest,"prepareTransactionRequest")({account:L,accessList:_,authorizationList:P,blobs:x,chain:E,data:O,gas:D,gasPrice:R,maxFeePerBlobGas:k,maxFeePerGas:T,maxPriorityFeePerGas:S,nonce:I,nonceManager:L.nonceManager,parameters:[...g.defaultParameters,"sidecars"],type:N,value:B,...$,to:q}),F=E?.serializers?.transaction,H=await L.signTransaction(U,{serializer:F});return await (0,u.getAction)(y,p.sendRawTransactionSync,"sendRawTransactionSync")({serializedTransaction:H,throwOnReceiptRevert:j,timeout:v.timeout})}throw L?.type==="smart"?new t.AccountTypeNotSupportedError({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new t.AccountTypeNotSupportedError({docsPath:"/docs/actions/wallet/sendTransactionSync",type:L?.type})}catch(q){throw q instanceof t.AccountTypeNotSupportedError?q:(0,o.getTransactionError)(q,{...v,account:L,chain:v.chain||void 0})}}return z2}var F2={},_M;function ibe(){if(_M)return F2;_M=1,Object.defineProperty(F2,"__esModule",{value:!0}),F2.showCallsStatus=e;async function e(t,r){const{id:n}=r;await t.request({method:"wallet_showCallsStatus",params:[n]})}return F2}var H2={},CM;function sbe(){if(CM)return H2;CM=1,Object.defineProperty(H2,"__esModule",{value:!0}),H2.signAuthorization=n;const e=yr(),t=Hu(),r=gQ();async function n(i,s){const{account:o=i.account}=s;if(!o)throw new t.AccountNotFoundError({docsPath:"/docs/eip7702/signAuthorization"});const a=(0,e.parseAccount)(o);if(!a.signAuthorization)throw new t.AccountTypeNotSupportedError({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:a.type});const c=await (0,r.prepareAuthorization)(i,s);return a.signAuthorization(c)}return H2}var W2={},AM;function obe(){if(AM)return W2;AM=1,Object.defineProperty(W2,"__esModule",{value:!0}),W2.signMessage=n;const e=yr(),t=Hu(),r=Oe();async function n(i,{account:s=i.account,message:o}){if(!s)throw new t.AccountNotFoundError({docsPath:"/docs/actions/wallet/signMessage"});const a=(0,e.parseAccount)(s);if(a.signMessage)return a.signMessage({message:o});const c=typeof o=="string"?(0,r.stringToHex)(o):o.raw instanceof Uint8Array?(0,r.toHex)(o.raw):o.raw;return i.request({method:"personal_sign",params:[c,a.address]},{retryCount:0})}return W2}var V2={},xM;function abe(){if(xM)return V2;xM=1,Object.defineProperty(V2,"__esModule",{value:!0}),V2.signTransaction=c;const e=yr(),t=Hu(),r=Z1(),n=Oe(),i=No(),s=mt(),o=Do(),a=qu();async function c(u,l){const{account:f=u.account,chain:d=u.chain,...h}=l;if(!f)throw new t.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTransaction"});const g=(0,e.parseAccount)(f);(0,o.assertRequest)({account:g,...l});const p=await (0,s.getAction)(u,a.getChainId,"getChainId")({});d!==null&&(0,r.assertCurrentChain)({currentChainId:p,chain:d});const w=(d?.formatters||u.chain?.formatters)?.transactionRequest?.format||i.formatTransactionRequest;return g.signTransaction?g.signTransaction({...h,chainId:p},{serializer:u.chain?.serializers?.transaction}):await u.request({method:"eth_signTransaction",params:[{...w({...h,account:g},"signTransaction"),chainId:(0,n.numberToHex)(p),from:g.address}]},{retryCount:0})}return V2}var G2={},IM;function cbe(){if(IM)return G2;IM=1,Object.defineProperty(G2,"__esModule",{value:!0}),G2.signTypedData=n;const e=yr(),t=Hu(),r=$E();async function n(i,s){const{account:o=i.account,domain:a,message:c,primaryType:u}=s;if(!o)throw new t.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTypedData"});const l=(0,e.parseAccount)(o),f={EIP712Domain:(0,r.getTypesForEIP712Domain)({domain:a}),...s.types};if((0,r.validateTypedData)({domain:a,message:c,primaryType:u,types:f}),l.signTypedData)return l.signTypedData({domain:a,message:c,primaryType:u,types:f});const d=(0,r.serializeTypedData)({domain:a,message:c,primaryType:u,types:f});return i.request({method:"eth_signTypedData_v4",params:[l.address,d]},{retryCount:0})}return G2}var K2={},PM;function ube(){if(PM)return K2;PM=1,Object.defineProperty(K2,"__esModule",{value:!0}),K2.switchChain=t;const e=Oe();async function t(r,{id:n}){await r.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,e.numberToHex)(n)}]},{retryCount:0})}return K2}var Z2={},SM;function lbe(){if(SM)return Z2;SM=1,Object.defineProperty(Z2,"__esModule",{value:!0}),Z2.watchAsset=e;async function e(t,r){return await t.request({method:"wallet_watchAsset",params:r},{retryCount:0})}return Z2}var Y2={},TM;function dbe(){if(TM)return Y2;TM=1,Object.defineProperty(Y2,"__esModule",{value:!0}),Y2.writeContractSync=r;const e=mQ(),t=OS();async function r(n,i){return t.writeContract.internal(n,e.sendTransactionSync,"sendTransactionSync",i)}return Y2}var OM;function bQ(){if(OM)return B2;OM=1,Object.defineProperty(B2,"__esModule",{value:!0}),B2.walletActions=R;const e=bS(),t=qu(),r=Y1e(),n=Q1e(),i=J1e(),s=mY(),o=X1e(),a=ebe(),c=gQ(),u=q1(),l=tbe(),f=rbe(),d=jS(),h=nbe(),g=TS(),p=t7(),b=BE(),w=mQ(),y=ibe(),v=sbe(),m=obe(),C=abe(),E=cbe(),_=ube(),P=BS(),x=lbe(),O=OS(),D=dbe();function R(k){return{addChain:T=>(0,r.addChain)(k,T),deployContract:T=>(0,n.deployContract)(k,T),fillTransaction:T=>(0,e.fillTransaction)(k,T),getAddresses:()=>(0,i.getAddresses)(k),getCallsStatus:T=>(0,s.getCallsStatus)(k,T),getCapabilities:T=>(0,o.getCapabilities)(k,T),getChainId:()=>(0,t.getChainId)(k),getPermissions:()=>(0,a.getPermissions)(k),prepareAuthorization:T=>(0,c.prepareAuthorization)(k,T),prepareTransactionRequest:T=>(0,u.prepareTransactionRequest)(k,T),requestAddresses:()=>(0,l.requestAddresses)(k),requestPermissions:T=>(0,f.requestPermissions)(k,T),sendCalls:T=>(0,d.sendCalls)(k,T),sendCallsSync:T=>(0,h.sendCallsSync)(k,T),sendRawTransaction:T=>(0,g.sendRawTransaction)(k,T),sendRawTransactionSync:T=>(0,p.sendRawTransactionSync)(k,T),sendTransaction:T=>(0,b.sendTransaction)(k,T),sendTransactionSync:T=>(0,w.sendTransactionSync)(k,T),showCallsStatus:T=>(0,y.showCallsStatus)(k,T),signAuthorization:T=>(0,v.signAuthorization)(k,T),signMessage:T=>(0,m.signMessage)(k,T),signTransaction:T=>(0,C.signTransaction)(k,T),signTypedData:T=>(0,E.signTypedData)(k,T),switchChain:T=>(0,_.switchChain)(k,T),waitForCallsStatus:T=>(0,P.waitForCallsStatus)(k,T),watchAsset:T=>(0,x.watchAsset)(k,T),writeContract:T=>(0,O.writeContract)(k,T),writeContractSync:T=>(0,D.writeContractSync)(k,T)}}return B2}var jM;function fbe(){if(jM)return j2;jM=1,Object.defineProperty(j2,"__esModule",{value:!0}),j2.createWalletClient=r;const e=kE(),t=bQ();function r(n){const{key:i="wallet",name:s="Wallet Client",transport:o}=n;return(0,e.createClient)({...n,key:i,name:s,transport:o,type:"walletClient"}).extend(t.walletActions)}return j2}var Q2={},BM;function eb(){if(BM)return Q2;BM=1,Object.defineProperty(Q2,"__esModule",{value:!0}),Q2.createTransport=r;const e=TY(),t=bY();function r({key:n,methods:i,name:s,request:o,retryCount:a=3,retryDelay:c=150,timeout:u,type:l},f){const d=(0,t.uid)();return{config:{key:n,methods:i,name:s,request:o,retryCount:a,retryDelay:c,timeout:u,type:l},request:(0,e.buildRequest)(o,{methods:i,retryCount:a,retryDelay:c,uid:d}),value:f}}return Q2}var J2={},RM;function hbe(){if(RM)return J2;RM=1,Object.defineProperty(J2,"__esModule",{value:!0}),J2.custom=t;const e=eb();function t(r,n={}){const{key:i="custom",methods:s,name:o="Custom Provider",retryDelay:a}=n;return({retryCount:c})=>(0,e.createTransport)({key:i,methods:s,name:o,request:r.request.bind(r),retryCount:n.retryCount??c,retryDelay:a,type:"custom"})}return J2}var Rf={},kM;function pbe(){if(kM)return Rf;kM=1,Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.fallback=i,Rf.shouldThrow=s,Rf.rankTransports=o;const e=Bc(),t=$u(),r=SS(),n=eb();function i(a,c={}){const{key:u="fallback",name:l="Fallback",rank:f=!1,shouldThrow:d=s,retryCount:h,retryDelay:g}=c;return(({chain:p,pollingInterval:b=4e3,timeout:w,...y})=>{let v=a,m=()=>{};const C=(0,n.createTransport)({key:u,name:l,async request({method:E,params:_}){let P;const x=async(O=0)=>{const D=v[O]({...y,chain:p,retryCount:0,timeout:w});try{const R=await D.request({method:E,params:_});return m({method:E,params:_,response:R,transport:D,status:"success"}),R}catch(R){if(m({error:R,method:E,params:_,transport:D,status:"error"}),d(R)||O===v.length-1||(P??=v.slice(O+1).some(k=>{const{include:T,exclude:S}=k({chain:p}).config.methods||{};return T?T.includes(E):S?!S.includes(E):!0}),!P))throw R;return x(O+1)}};return x()},retryCount:h,retryDelay:g,type:"fallback"},{onResponse:E=>m=E,transports:v.map(E=>E({chain:p,retryCount:0}))});if(f){const E=typeof f=="object"?f:{};o({chain:p,interval:E.interval??b,onTransports:_=>v=_,ping:E.ping,sampleCount:E.sampleCount,timeout:E.timeout,transports:v,weights:E.weights})}return C})}function s(a){return!!("code"in a&&typeof a.code=="number"&&(a.code===t.TransactionRejectedRpcError.code||a.code===t.UserRejectedRequestError.code||e.ExecutionRevertedError.nodeMessage.test(a.message)||a.code===5e3))}function o({chain:a,interval:c=4e3,onTransports:u,ping:l,sampleCount:f=10,timeout:d=1e3,transports:h,weights:g={}}){const{stability:p=.7,latency:b=.3}=g,w=[],y=async()=>{const v=await Promise.all(h.map(async E=>{const _=E({chain:a,retryCount:0,timeout:d}),P=Date.now();let x,O;try{await (l?l({transport:_}):_.request({method:"net_listening"})),O=1}catch{O=0}finally{x=Date.now()}return{latency:x-P,success:O}}));w.push(v),w.length>f&&w.shift();const m=Math.max(...w.map(E=>Math.max(...E.map(({latency:_})=>_)))),C=h.map((E,_)=>{const P=w.map(k=>k[_].latency),O=1-P.reduce((k,T)=>k+T,0)/P.length/m,D=w.map(k=>k[_].success),R=D.reduce((k,T)=>k+T,0)/D.length;return R===0?[0,_]:[b*O+p*R,_]}).sort((E,_)=>_[0]-E[0]);u(C.map(([,E])=>h[E])),await (0,r.wait)(c),y()};y()}return Rf}var X2={},hg={},NM;function r7(){if(NM)return hg;NM=1,Object.defineProperty(hg,"__esModule",{value:!0}),hg.UrlRequiredError=void 0;const e=Ye();class t extends e.BaseError{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}return hg.UrlRequiredError=t,hg}var DM;function gbe(){if(DM)return X2;DM=1,Object.defineProperty(X2,"__esModule",{value:!0}),X2.http=s;const e=ko(),t=r7(),r=CS(),n=zS(),i=eb();function s(o,a={}){const{batch:c,fetchFn:u,fetchOptions:l,key:f="http",methods:d,name:h="HTTP JSON-RPC",onFetchRequest:g,onFetchResponse:p,retryDelay:b,raw:w}=a;return({chain:y,retryCount:v,timeout:m})=>{const{batchSize:C=1e3,wait:E=0}=typeof c=="object"?c:{},_=a.retryCount??v,P=m??a.timeout??1e4,x=o||y?.rpcUrls.default.http[0];if(!x)throw new t.UrlRequiredError;const O=(0,n.getHttpRpcClient)(x,{fetchFn:u,fetchOptions:l,onRequest:g,onResponse:p,timeout:P});return(0,i.createTransport)({key:f,methods:d,name:h,async request({method:D,params:R}){const k={method:D,params:R},{schedule:T}=(0,r.createBatchScheduler)({id:x,wait:E,shouldSplitBatch(j){return j.length>C},fn:j=>O.request({body:j}),sort:(j,N)=>j.id-N.id}),S=async j=>c?T(j):[await O.request({body:j})],[{error:I,result:A}]=await S(k);if(w)return{error:I,result:A};if(I)throw new e.RpcRequestError({body:k,error:I,url:x});return A},retryCount:_,retryDelay:b,timeout:P,type:"http"},{fetchOptions:l,url:x})}}return X2}var e6={},$M;function mbe(){if($M)return e6;$M=1,Object.defineProperty(e6,"__esModule",{value:!0}),e6.webSocket=s;const e=ko(),t=r7(),r=qY(),n=FS(),i=eb();function s(o,a={}){const{keepAlive:c,key:u="webSocket",methods:l,name:f="WebSocket JSON-RPC",reconnect:d,retryDelay:h}=a;return({chain:g,retryCount:p,timeout:b})=>{const w=a.retryCount??p,y=b??a.timeout??1e4,v=o||g?.rpcUrls.default.webSocket?.[0],m={keepAlive:c,reconnect:d};if(!v)throw new t.UrlRequiredError;return(0,i.createTransport)({key:u,methods:l,name:f,async request({method:C,params:E}){const _={method:C,params:E},P=await (0,n.getWebSocketRpcClient)(v,m),{error:x,result:O}=await P.requestAsync({body:_,timeout:y});if(x)throw new e.RpcRequestError({body:_,error:x,url:v});return O},retryCount:w,retryDelay:h,timeout:y,type:"webSocket"},{getSocket(){return(0,r.getSocket)(v)},getRpcClient(){return(0,n.getWebSocketRpcClient)(v,m)},async subscribe({params:C,onData:E,onError:_}){const P=await (0,n.getWebSocketRpcClient)(v,m),{result:x}=await new Promise((O,D)=>P.request({body:{method:"eth_subscribe",params:C},onError(R){D(R),_?.(R)},onResponse(R){if(R.error){D(R.error),_?.(R.error);return}if(typeof R.id=="number"){O(R);return}R.method==="eth_subscription"&&E(R.params)}}));return{subscriptionId:x,async unsubscribe(){return new Promise(O=>P.request({body:{method:"eth_unsubscribe",params:[x]},onResponse:O}))}}}})}}return e6}var pg={},MM;function bbe(){if(MM)return pg;MM=1,Object.defineProperty(pg,"__esModule",{value:!0}),pg.ProviderRpcError=void 0;class e extends Error{constructor(r,n){super(n),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r,this.details=n}}return pg.ProviderRpcError=e,pg}var t6={},LM;function ybe(){if(LM)return t6;LM=1,Object.defineProperty(t6,"__esModule",{value:!0}),t6.decodeDeployData=n;const e=br(),t=Nu(),r="/docs/contract/decodeDeployData";function n(i){const{abi:s,bytecode:o,data:a}=i;if(a===o)return{bytecode:o};const c=s.find(l=>"type"in l&&l.type==="constructor");if(!c)throw new e.AbiConstructorNotFoundError({docsPath:r});if(!("inputs"in c))throw new e.AbiConstructorParamsNotFoundError({docsPath:r});if(!c.inputs||c.inputs.length===0)throw new e.AbiConstructorParamsNotFoundError({docsPath:r});return{args:(0,t.decodeAbiParameters)(c.inputs,`0x${a.replace(o,"")}`),bytecode:o}}return t6}var r6={},UM;function wbe(){if(UM)return r6;UM=1,Object.defineProperty(r6,"__esModule",{value:!0}),r6.fromBlobs=n;const e=O1(),t=Qt(),r=Oe();function n(i){const s=i.to??(typeof i.blobs[0]=="string"?"hex":"bytes"),o=typeof i.blobs[0]=="string"?i.blobs.map(f=>(0,t.hexToBytes)(f)):i.blobs,a=o.reduce((f,d)=>f+d.length,0),c=(0,e.createCursor)(new Uint8Array(a));let u=!0;for(const f of o){const d=(0,e.createCursor)(f);for(;u&&d.position<f.length;){d.incrementPosition(1);let h=31;f.length-d.position<31&&(h=f.length-d.position);for(const g in Array.from({length:h})){const p=d.readByte();if(p===128&&!d.inspectBytes(d.remaining).includes(128)){u=!1;break}c.pushByte(p)}}}const l=c.bytes.slice(0,c.position);return s==="hex"?(0,r.bytesToHex)(l):l}return r6}var n6={},qM;function vbe(){if(qM)return n6;qM=1,Object.defineProperty(n6,"__esModule",{value:!0}),n6.sidecarsToVersionedHashes=t;const e=gS();function t(r){const{sidecars:n,version:i}=r,s=r.to??(typeof n[0].blob=="string"?"hex":"bytes"),o=[];for(const{commitment:a}of n)o.push((0,e.commitmentToVersionedHash)({commitment:a,to:s,version:i}));return o}return n6}var i6={},zM;function Ebe(){if(zM)return i6;zM=1,Object.defineProperty(i6,"__esModule",{value:!0}),i6.toCoinType=r;const e=DS(),t=0x80000000;function r(n){if(n===1)return 60n;if(n>=t||n<0)throw new e.EnsInvalidChainIdError({chainId:n});return BigInt((0x80000000|n)>>>0)}return i6}var s6={},FM;function yQ(){if(FM)return s6;FM=1,Object.defineProperty(s6,"__esModule",{value:!0}),s6.defineKzg=e;function e({blobToKzgCommitment:t,computeBlobKzgProof:r}){return{blobToKzgCommitment:t,computeBlobKzgProof:r}}return s6}var o6={},HM;function _be(){if(HM)return o6;HM=1,Object.defineProperty(o6,"__esModule",{value:!0}),o6.setupKzg=t;const e=yQ();function t(r,n){try{r.loadTrustedSetup(n)}catch(i){const s=i;if(!s.message.includes("trusted setup is already loaded"))throw s}return(0,e.defineKzg)(r)}return o6}var a6={},WM;function Cbe(){if(WM)return a6;WM=1,Object.defineProperty(a6,"__esModule",{value:!0}),a6.compactSignatureToSignature=r;const e=Qt(),t=Oe();function r({r:n,yParityAndS:i}){const s=(0,e.hexToBytes)(i),o=s[0]&128?1:0,a=s;return o===1&&(a[0]&=127),{r:n,s:(0,t.bytesToHex)(a),yParity:o}}return a6}var c6={},VM;function Abe(){if(VM)return c6;VM=1,Object.defineProperty(c6,"__esModule",{value:!0}),c6.parseCompactSignature=r;const e=k1(),t=Oe();function r(n){const{r:i,s}=e.secp256k1.Signature.fromCompact(n.slice(2,130));return{r:(0,t.numberToHex)(i,{size:32}),yParityAndS:(0,t.numberToHex)(s,{size:32})}}return c6}var u6={},GM;function xbe(){if(GM)return u6;GM=1,Object.defineProperty(u6,"__esModule",{value:!0}),u6.parseSignature=r;const e=k1(),t=Oe();function r(n){const{r:i,s}=e.secp256k1.Signature.fromCompact(n.slice(2,130)),o=+`0x${n.slice(130)}`,[a,c]=(()=>{if(o===0||o===1)return[void 0,o];if(o===27)return[BigInt(o),0];if(o===28)return[BigInt(o),1];throw new Error("Invalid yParityOrV value")})();return typeof a<"u"?{r:(0,t.numberToHex)(i,{size:32}),s:(0,t.numberToHex)(s,{size:32}),v:a,yParity:c}:{r:(0,t.numberToHex)(i,{size:32}),s:(0,t.numberToHex)(s,{size:32}),yParity:c}}return u6}var l6={},KM;function Ibe(){if(KM)return l6;KM=1,Object.defineProperty(l6,"__esModule",{value:!0}),l6.recoverTransactionAddress=i;const e=Vi(),t=JS(),r=DE(),n=Lu();async function i(s){const{serializedTransaction:o,signature:a}=s,c=(0,t.parseTransaction)(o),u=a??{r:c.r,s:c.s,v:c.v,yParity:c.yParity},l=(0,r.serializeTransaction)({...c,r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0});return await (0,n.recoverAddress)({hash:(0,e.keccak256)(l),signature:u})}return l6}var d6={},ZM;function Pbe(){if(ZM)return d6;ZM=1,Object.defineProperty(d6,"__esModule",{value:!0}),d6.serializeCompactSignature=r;const e=k1(),t=Cr();function r({r:n,yParityAndS:i}){return`0x${new e.secp256k1.Signature((0,t.hexToBigInt)(n),(0,t.hexToBigInt)(i)).toCompactHex()}`}return d6}var f6={},YM;function Sbe(){if(YM)return f6;YM=1,Object.defineProperty(f6,"__esModule",{value:!0}),f6.signatureToCompactSignature=r;const e=Qt(),t=Oe();function r(n){const{r:i,s,v:o,yParity:a}=n,c=Number(a??o-27n);let u=s;if(c===1){const l=(0,e.hexToBytes)(s);l[0]|=128,u=(0,t.bytesToHex)(l)}return{r:i,yParityAndS:u}}return f6}var QM;WWe=function(){return QM||(QM=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.maxInt8=e.universalSignatureValidatorByteCode=e.erc6492SignatureValidatorByteCode=e.deploylessCallViaFactoryBytecode=e.deploylessCallViaBytecodeBytecode=e.zeroHash=e.zeroAddress=e.ethAddress=e.multicall3Abi=e.universalSignatureValidatorAbi=e.erc6492SignatureValidatorAbi=e.erc4626Abi=e.erc1155Abi=e.erc721Abi=e.erc20Abi_bytes32=e.erc20Abi=e.webSocket=e.http=e.shouldThrow=e.fallback=e.custom=e.createTransport=e.walletActions=e.testActions=e.publicActions=e.createWalletClient=e.createTestClient=e.createPublicClient=e.rpcSchema=e.createClient=e.WaitForCallsStatusTimeoutError=e.getContract=e.UnknownTypeError=e.UnknownSignatureError=e.SolidityProtectedKeywordError=e.parseAbiParameters=e.parseAbiParameter=e.parseAbiItem=e.parseAbi=e.InvalidStructSignatureError=e.InvalidSignatureError=e.InvalidParenthesisError=e.InvalidParameterError=e.InvalidModifierError=e.InvalidFunctionModifierError=e.InvalidAbiTypeParameterError=e.InvalidAbiParametersError=e.InvalidAbiParameterError=e.InvalidAbiItemError=e.CircularReferenceError=void 0,e.maxUint152=e.maxUint144=e.maxUint136=e.maxUint128=e.maxUint120=e.maxUint112=e.maxUint104=e.maxUint96=e.maxUint88=e.maxUint80=e.maxUint72=e.maxUint64=e.maxUint56=e.maxUint48=e.maxUint40=e.maxUint32=e.maxUint24=e.maxUint16=e.maxUint8=e.maxInt256=e.maxInt248=e.maxInt240=e.maxInt232=e.maxInt224=e.maxInt216=e.maxInt208=e.maxInt200=e.maxInt192=e.maxInt184=e.maxInt176=e.maxInt168=e.maxInt160=e.maxInt152=e.maxInt144=e.maxInt136=e.maxInt128=e.maxInt120=e.maxInt112=e.maxInt104=e.maxInt96=e.maxInt88=e.maxInt80=e.maxInt72=e.maxInt64=e.maxInt56=e.maxInt48=e.maxInt40=e.maxInt32=e.maxInt24=e.maxInt16=void 0,e.AbiConstructorNotFoundError=e.weiUnits=e.gweiUnits=e.etherUnits=e.presignMessagePrefix=e.minInt256=e.minInt248=e.minInt240=e.minInt232=e.minInt224=e.minInt216=e.minInt208=e.minInt200=e.minInt192=e.minInt184=e.minInt176=e.minInt168=e.minInt160=e.minInt152=e.minInt144=e.minInt136=e.minInt128=e.minInt120=e.minInt112=e.minInt104=e.minInt96=e.minInt88=e.minInt80=e.minInt72=e.minInt64=e.minInt56=e.minInt48=e.minInt40=e.minInt32=e.minInt24=e.minInt16=e.minInt8=e.maxUint256=e.maxUint248=e.maxUint240=e.maxUint232=e.maxUint224=e.maxUint216=e.maxUint208=e.maxUint200=e.maxUint192=e.maxUint184=e.maxUint176=e.maxUint168=e.maxUint160=void 0,e.EnsAvatarUriResolutionError=e.EnsAvatarUnsupportedNamespaceError=e.EnsAvatarInvalidNftUriError=e.SizeOverflowError=e.InvalidHexValueError=e.InvalidHexBooleanError=e.InvalidBytesBooleanError=e.IntegerOutOfRangeError=e.SliceOffsetOutOfBoundsError=e.SizeExceedsPaddingSizeError=e.RawContractError=e.CounterfactualDeploymentFailedError=e.ContractFunctionZeroDataError=e.ContractFunctionRevertedError=e.ContractFunctionExecutionError=e.CallExecutionError=e.InvalidChainIdError=e.ClientChainNotConfiguredError=e.ChainNotFoundError=e.ChainMismatchError=e.ChainDoesNotSupportContract=e.BundleFailedError=e.BlockNotFoundError=e.setErrorConfig=e.BaseError=e.InvalidAddressError=e.UnsupportedPackedAbiType=e.InvalidDefinitionTypeError=e.InvalidArrayError=e.InvalidAbiEncodingTypeError=e.InvalidAbiDecodingTypeError=e.DecodeLogTopicsMismatch=e.DecodeLogDataMismatch=e.BytesSizeMismatchError=e.AbiFunctionSignatureNotFoundError=e.AbiFunctionOutputsNotFoundError=e.AbiFunctionNotFoundError=e.AbiEventSignatureNotFoundError=e.AbiEventSignatureEmptyTopicsError=e.AbiEventNotFoundError=e.AbiErrorSignatureNotFoundError=e.AbiErrorNotFoundError=e.AbiErrorInputsNotFoundError=e.AbiEncodingLengthMismatchError=e.AbiEncodingBytesSizeMismatchError=e.AbiEncodingArrayLengthMismatchError=e.AbiDecodingZeroDataError=e.AbiDecodingDataSizeTooSmallError=e.AbiDecodingDataSizeInvalidError=e.AbiConstructorParamsNotFoundError=void 0,e.UnsupportedProviderMethodError=e.UnsupportedNonOptionalCapabilityError=e.UnsupportedChainIdError=e.UnknownRpcError=e.UnknownBundleIdError=e.UnauthorizedProviderError=e.TransactionRejectedRpcError=e.SwitchChainError=e.RpcError=e.ResourceUnavailableRpcError=e.ResourceNotFoundRpcError=e.ProviderRpcError=e.ProviderDisconnectedError=e.ParseRpcError=e.MethodNotSupportedRpcError=e.MethodNotFoundRpcError=e.LimitExceededRpcError=e.JsonRpcVersionUnsupportedError=e.InvalidRequestRpcError=e.InvalidParamsRpcError=e.InvalidInputRpcError=e.InternalRpcError=e.DuplicateIdError=e.ChainDisconnectedError=e.BundleTooLargeError=e.AtomicReadyWalletRejectedUpgradeError=e.AtomicityNotSupportedError=e.WebSocketRequestError=e.TimeoutError=e.SocketClosedError=e.RpcRequestError=e.HttpRequestError=e.UnknownNodeError=e.TransactionTypeNotSupportedError=e.TipAboveFeeCapError=e.NonceTooLowError=e.NonceTooHighError=e.NonceMaxValueError=e.IntrinsicGasTooLowError=e.IntrinsicGasTooHighError=e.InsufficientFundsError=e.FeeCapTooLowError=e.FeeCapTooHighError=e.ExecutionRevertedError=e.FilterTypeNotSupportedError=e.MaxFeePerGasTooLowError=e.Eip1559FeesNotSupportedError=e.BaseFeeScalarError=e.EstimateGasExecutionError=e.EnsInvalidChainIdError=void 0,e.toBlobs=e.toBlobSidecars=e.sidecarsToVersionedHashes=e.fromBlobs=e.commitmentToVersionedHash=e.commitmentsToVersionedHashes=e.blobsToProofs=e.blobsToCommitments=e.isAddressEqual=e.isAddress=e.getCreateAddress=e.getCreate2Address=e.getContractAddress=e.getAddress=e.checksumAddress=e.prepareEncodeFunctionData=e.parseEventLogs=e.getAbiItem=e.encodePacked=e.encodeFunctionResult=e.encodeFunctionData=e.encodeEventTopics=e.encodeErrorResult=e.encodeDeployData=e.encodeAbiParameters=e.decodeFunctionResult=e.decodeFunctionData=e.decodeEventLog=e.decodeErrorResult=e.decodeDeployData=e.decodeAbiParameters=e.EIP1193ProviderRpcError=e.InvalidDecimalNumberError=e.InvalidStructTypeError=e.InvalidPrimaryTypeError=e.InvalidDomainError=e.UrlRequiredError=e.WaitForTransactionReceiptTimeoutError=e.TransactionReceiptNotFoundError=e.TransactionNotFoundError=e.TransactionExecutionError=e.InvalidStorageKeySizeError=e.InvalidSerializedTransactionTypeError=e.InvalidSerializedTransactionError=e.InvalidSerializableTransactionError=e.InvalidLegacyVError=e.FeeConflictError=e.StateAssignmentConflictError=e.AccountStateConflictError=e.UserRejectedRequestError=void 0,e.toCoinType=e.namehash=e.labelhash=e.toRlp=e.hexToRlp=e.bytesToRlp=e.toHex=e.stringToHex=e.numberToHex=e.bytesToHex=e.boolToHex=e.toBytes=e.stringToBytes=e.numberToBytes=e.hexToBytes=e.boolToBytes=e.fromRlp=e.hexToString=e.hexToNumber=e.hexToBool=e.hexToBigInt=e.fromHex=e.fromBytes=e.bytesToString=e.bytesToNumber=e.bytesToBool=e.bytesToBigInt=e.trim=e.sliceHex=e.sliceBytes=e.slice=e.size=e.padHex=e.padBytes=e.pad=e.isHex=e.isBytes=e.concatHex=e.concatBytes=e.concat=e.getChainContractAddress=e.extractChain=e.extendSchema=e.defineChain=e.assertCurrentChain=e.offchainLookupSignature=e.offchainLookupAbiItem=e.offchainLookup=e.ccipFetch=e.ccipRequest=void 0,e.recoverTransactionAddress=e.recoverPublicKey=e.recoverMessageAddress=e.recoverAddress=e.parseSignature=e.hexToSignature=e.parseErc8010Signature=e.parseErc6492Signature=e.parseCompactSignature=e.hexToCompactSignature=e.isErc8010Signature=e.isErc6492Signature=e.hashTypedData=e.hashStruct=e.hashDomain=e.hashMessage=e.compactSignatureToSignature=e.withTimeout=e.withRetry=e.withCache=e.nonceManager=e.createNonceManager=e.setupKzg=e.defineKzg=e.getFunctionSignature=e.toFunctionSignature=e.getFunctionSelector=e.toFunctionSelector=e.toFunctionHash=e.getEventSignature=e.toEventSignature=e.getEventSelector=e.toEventSelector=e.toEventHash=e.sha256=e.ripemd160=e.keccak256=e.isHash=e.rpcTransactionType=e.formatTransactionRequest=e.defineTransactionRequest=e.formatTransactionReceipt=e.defineTransactionReceipt=e.transactionType=e.formatTransaction=e.defineTransaction=e.formatLog=e.formatBlock=e.defineBlock=e.getContractError=void 0,e.parseUnits=e.parseGwei=e.parseEther=e.formatUnits=e.formatGwei=e.formatEther=e.validateTypedData=e.serializeTypedData=e.getTypesForEIP712Domain=e.domainSeparator=e.serializeTransaction=e.serializeAccessList=e.parseTransaction=e.getTransactionType=e.getSerializedTransactionType=e.assertTransactionLegacy=e.assertTransactionEIP2930=e.assertTransactionEIP1559=e.assertRequest=e.stringify=e.verifyTypedData=e.verifyMessage=e.verifyHash=e.toPrefixedMessage=e.signatureToCompactSignature=e.serializeSignature=e.signatureToHex=e.serializeErc8010Signature=e.serializeErc6492Signature=e.serializeCompactSignature=e.compactSignatureToHex=e.recoverTypedDataAddress=void 0;var t=Ru();Object.defineProperty(e,"CircularReferenceError",{enumerable:!0,get:function(){return t.CircularReferenceError}}),Object.defineProperty(e,"InvalidAbiItemError",{enumerable:!0,get:function(){return t.InvalidAbiItemError}}),Object.defineProperty(e,"InvalidAbiParameterError",{enumerable:!0,get:function(){return t.InvalidAbiParameterError}}),Object.defineProperty(e,"InvalidAbiParametersError",{enumerable:!0,get:function(){return t.InvalidAbiParametersError}}),Object.defineProperty(e,"InvalidAbiTypeParameterError",{enumerable:!0,get:function(){return t.InvalidAbiTypeParameterError}}),Object.defineProperty(e,"InvalidFunctionModifierError",{enumerable:!0,get:function(){return t.InvalidFunctionModifierError}}),Object.defineProperty(e,"InvalidModifierError",{enumerable:!0,get:function(){return t.InvalidModifierError}}),Object.defineProperty(e,"InvalidParameterError",{enumerable:!0,get:function(){return t.InvalidParameterError}}),Object.defineProperty(e,"InvalidParenthesisError",{enumerable:!0,get:function(){return t.InvalidParenthesisError}}),Object.defineProperty(e,"InvalidSignatureError",{enumerable:!0,get:function(){return t.InvalidSignatureError}}),Object.defineProperty(e,"InvalidStructSignatureError",{enumerable:!0,get:function(){return t.InvalidStructSignatureError}}),Object.defineProperty(e,"parseAbi",{enumerable:!0,get:function(){return t.parseAbi}}),Object.defineProperty(e,"parseAbiItem",{enumerable:!0,get:function(){return t.parseAbiItem}}),Object.defineProperty(e,"parseAbiParameter",{enumerable:!0,get:function(){return t.parseAbiParameter}}),Object.defineProperty(e,"parseAbiParameters",{enumerable:!0,get:function(){return t.parseAbiParameters}}),Object.defineProperty(e,"SolidityProtectedKeywordError",{enumerable:!0,get:function(){return t.SolidityProtectedKeywordError}}),Object.defineProperty(e,"UnknownSignatureError",{enumerable:!0,get:function(){return t.UnknownSignatureError}}),Object.defineProperty(e,"UnknownTypeError",{enumerable:!0,get:function(){return t.UnknownTypeError}});var r=_me();Object.defineProperty(e,"getContract",{enumerable:!0,get:function(){return r.getContract}});var n=BS();Object.defineProperty(e,"WaitForCallsStatusTimeoutError",{enumerable:!0,get:function(){return n.WaitForCallsStatusTimeoutError}});var i=kE();Object.defineProperty(e,"createClient",{enumerable:!0,get:function(){return i.createClient}}),Object.defineProperty(e,"rpcSchema",{enumerable:!0,get:function(){return i.rpcSchema}});var s=y1e();Object.defineProperty(e,"createPublicClient",{enumerable:!0,get:function(){return s.createPublicClient}});var o=Z1e();Object.defineProperty(e,"createTestClient",{enumerable:!0,get:function(){return o.createTestClient}});var a=fbe();Object.defineProperty(e,"createWalletClient",{enumerable:!0,get:function(){return a.createWalletClient}});var c=hQ();Object.defineProperty(e,"publicActions",{enumerable:!0,get:function(){return c.publicActions}});var u=pQ();Object.defineProperty(e,"testActions",{enumerable:!0,get:function(){return u.testActions}});var l=bQ();Object.defineProperty(e,"walletActions",{enumerable:!0,get:function(){return l.walletActions}});var f=eb();Object.defineProperty(e,"createTransport",{enumerable:!0,get:function(){return f.createTransport}});var d=hbe();Object.defineProperty(e,"custom",{enumerable:!0,get:function(){return d.custom}});var h=pbe();Object.defineProperty(e,"fallback",{enumerable:!0,get:function(){return h.fallback}}),Object.defineProperty(e,"shouldThrow",{enumerable:!0,get:function(){return h.shouldThrow}});var g=gbe();Object.defineProperty(e,"http",{enumerable:!0,get:function(){return g.http}});var p=mbe();Object.defineProperty(e,"webSocket",{enumerable:!0,get:function(){return p.webSocket}});var b=zu();Object.defineProperty(e,"erc20Abi",{enumerable:!0,get:function(){return b.erc20Abi}}),Object.defineProperty(e,"erc20Abi_bytes32",{enumerable:!0,get:function(){return b.erc20Abi_bytes32}}),Object.defineProperty(e,"erc721Abi",{enumerable:!0,get:function(){return b.erc721Abi}}),Object.defineProperty(e,"erc1155Abi",{enumerable:!0,get:function(){return b.erc1155Abi}}),Object.defineProperty(e,"erc4626Abi",{enumerable:!0,get:function(){return b.erc4626Abi}}),Object.defineProperty(e,"erc6492SignatureValidatorAbi",{enumerable:!0,get:function(){return b.erc6492SignatureValidatorAbi}}),Object.defineProperty(e,"universalSignatureValidatorAbi",{enumerable:!0,get:function(){return b.erc6492SignatureValidatorAbi}}),Object.defineProperty(e,"multicall3Abi",{enumerable:!0,get:function(){return b.multicall3Abi}});var w=uQ();Object.defineProperty(e,"ethAddress",{enumerable:!0,get:function(){return w.ethAddress}}),Object.defineProperty(e,"zeroAddress",{enumerable:!0,get:function(){return w.zeroAddress}});var y=HS();Object.defineProperty(e,"zeroHash",{enumerable:!0,get:function(){return y.zeroHash}});var v=H1();Object.defineProperty(e,"deploylessCallViaBytecodeBytecode",{enumerable:!0,get:function(){return v.deploylessCallViaBytecodeBytecode}}),Object.defineProperty(e,"deploylessCallViaFactoryBytecode",{enumerable:!0,get:function(){return v.deploylessCallViaFactoryBytecode}}),Object.defineProperty(e,"erc6492SignatureValidatorByteCode",{enumerable:!0,get:function(){return v.erc6492SignatureValidatorByteCode}}),Object.defineProperty(e,"universalSignatureValidatorByteCode",{enumerable:!0,get:function(){return v.erc6492SignatureValidatorByteCode}});var m=dS();Object.defineProperty(e,"maxInt8",{enumerable:!0,get:function(){return m.maxInt8}}),Object.defineProperty(e,"maxInt16",{enumerable:!0,get:function(){return m.maxInt16}}),Object.defineProperty(e,"maxInt24",{enumerable:!0,get:function(){return m.maxInt24}}),Object.defineProperty(e,"maxInt32",{enumerable:!0,get:function(){return m.maxInt32}}),Object.defineProperty(e,"maxInt40",{enumerable:!0,get:function(){return m.maxInt40}}),Object.defineProperty(e,"maxInt48",{enumerable:!0,get:function(){return m.maxInt48}}),Object.defineProperty(e,"maxInt56",{enumerable:!0,get:function(){return m.maxInt56}}),Object.defineProperty(e,"maxInt64",{enumerable:!0,get:function(){return m.maxInt64}}),Object.defineProperty(e,"maxInt72",{enumerable:!0,get:function(){return m.maxInt72}}),Object.defineProperty(e,"maxInt80",{enumerable:!0,get:function(){return m.maxInt80}}),Object.defineProperty(e,"maxInt88",{enumerable:!0,get:function(){return m.maxInt88}}),Object.defineProperty(e,"maxInt96",{enumerable:!0,get:function(){return m.maxInt96}}),Object.defineProperty(e,"maxInt104",{enumerable:!0,get:function(){return m.maxInt104}}),Object.defineProperty(e,"maxInt112",{enumerable:!0,get:function(){return m.maxInt112}}),Object.defineProperty(e,"maxInt120",{enumerable:!0,get:function(){return m.maxInt120}}),Object.defineProperty(e,"maxInt128",{enumerable:!0,get:function(){return m.maxInt128}}),Object.defineProperty(e,"maxInt136",{enumerable:!0,get:function(){return m.maxInt136}}),Object.defineProperty(e,"maxInt144",{enumerable:!0,get:function(){return m.maxInt144}}),Object.defineProperty(e,"maxInt152",{enumerable:!0,get:function(){return m.maxInt152}}),Object.defineProperty(e,"maxInt160",{enumerable:!0,get:function(){return m.maxInt160}}),Object.defineProperty(e,"maxInt168",{enumerable:!0,get:function(){return m.maxInt168}}),Object.defineProperty(e,"maxInt176",{enumerable:!0,get:function(){return m.maxInt176}}),Object.defineProperty(e,"maxInt184",{enumerable:!0,get:function(){return m.maxInt184}}),Object.defineProperty(e,"maxInt192",{enumerable:!0,get:function(){return m.maxInt192}}),Object.defineProperty(e,"maxInt200",{enumerable:!0,get:function(){return m.maxInt200}}),Object.defineProperty(e,"maxInt208",{enumerable:!0,get:function(){return m.maxInt208}}),Object.defineProperty(e,"maxInt216",{enumerable:!0,get:function(){return m.maxInt216}}),Object.defineProperty(e,"maxInt224",{enumerable:!0,get:function(){return m.maxInt224}}),Object.defineProperty(e,"maxInt232",{enumerable:!0,get:function(){return m.maxInt232}}),Object.defineProperty(e,"maxInt240",{enumerable:!0,get:function(){return m.maxInt240}}),Object.defineProperty(e,"maxInt248",{enumerable:!0,get:function(){return m.maxInt248}}),Object.defineProperty(e,"maxInt256",{enumerable:!0,get:function(){return m.maxInt256}}),Object.defineProperty(e,"maxUint8",{enumerable:!0,get:function(){return m.maxUint8}}),Object.defineProperty(e,"maxUint16",{enumerable:!0,get:function(){return m.maxUint16}}),Object.defineProperty(e,"maxUint24",{enumerable:!0,get:function(){return m.maxUint24}}),Object.defineProperty(e,"maxUint32",{enumerable:!0,get:function(){return m.maxUint32}}),Object.defineProperty(e,"maxUint40",{enumerable:!0,get:function(){return m.maxUint40}}),Object.defineProperty(e,"maxUint48",{enumerable:!0,get:function(){return m.maxUint48}}),Object.defineProperty(e,"maxUint56",{enumerable:!0,get:function(){return m.maxUint56}}),Object.defineProperty(e,"maxUint64",{enumerable:!0,get:function(){return m.maxUint64}}),Object.defineProperty(e,"maxUint72",{enumerable:!0,get:function(){return m.maxUint72}}),Object.defineProperty(e,"maxUint80",{enumerable:!0,get:function(){return m.maxUint80}}),Object.defineProperty(e,"maxUint88",{enumerable:!0,get:function(){return m.maxUint88}}),Object.defineProperty(e,"maxUint96",{enumerable:!0,get:function(){return m.maxUint96}}),Object.defineProperty(e,"maxUint104",{enumerable:!0,get:function(){return m.maxUint104}}),Object.defineProperty(e,"maxUint112",{enumerable:!0,get:function(){return m.maxUint112}}),Object.defineProperty(e,"maxUint120",{enumerable:!0,get:function(){return m.maxUint120}}),Object.defineProperty(e,"maxUint128",{enumerable:!0,get:function(){return m.maxUint128}}),Object.defineProperty(e,"maxUint136",{enumerable:!0,get:function(){return m.maxUint136}}),Object.defineProperty(e,"maxUint144",{enumerable:!0,get:function(){return m.maxUint144}}),Object.defineProperty(e,"maxUint152",{enumerable:!0,get:function(){return m.maxUint152}}),Object.defineProperty(e,"maxUint160",{enumerable:!0,get:function(){return m.maxUint160}}),Object.defineProperty(e,"maxUint168",{enumerable:!0,get:function(){return m.maxUint168}}),Object.defineProperty(e,"maxUint176",{enumerable:!0,get:function(){return m.maxUint176}}),Object.defineProperty(e,"maxUint184",{enumerable:!0,get:function(){return m.maxUint184}}),Object.defineProperty(e,"maxUint192",{enumerable:!0,get:function(){return m.maxUint192}}),Object.defineProperty(e,"maxUint200",{enumerable:!0,get:function(){return m.maxUint200}}),Object.defineProperty(e,"maxUint208",{enumerable:!0,get:function(){return m.maxUint208}}),Object.defineProperty(e,"maxUint216",{enumerable:!0,get:function(){return m.maxUint216}}),Object.defineProperty(e,"maxUint224",{enumerable:!0,get:function(){return m.maxUint224}}),Object.defineProperty(e,"maxUint232",{enumerable:!0,get:function(){return m.maxUint232}}),Object.defineProperty(e,"maxUint240",{enumerable:!0,get:function(){return m.maxUint240}}),Object.defineProperty(e,"maxUint248",{enumerable:!0,get:function(){return m.maxUint248}}),Object.defineProperty(e,"maxUint256",{enumerable:!0,get:function(){return m.maxUint256}}),Object.defineProperty(e,"minInt8",{enumerable:!0,get:function(){return m.minInt8}}),Object.defineProperty(e,"minInt16",{enumerable:!0,get:function(){return m.minInt16}}),Object.defineProperty(e,"minInt24",{enumerable:!0,get:function(){return m.minInt24}}),Object.defineProperty(e,"minInt32",{enumerable:!0,get:function(){return m.minInt32}}),Object.defineProperty(e,"minInt40",{enumerable:!0,get:function(){return m.minInt40}}),Object.defineProperty(e,"minInt48",{enumerable:!0,get:function(){return m.minInt48}}),Object.defineProperty(e,"minInt56",{enumerable:!0,get:function(){return m.minInt56}}),Object.defineProperty(e,"minInt64",{enumerable:!0,get:function(){return m.minInt64}}),Object.defineProperty(e,"minInt72",{enumerable:!0,get:function(){return m.minInt72}}),Object.defineProperty(e,"minInt80",{enumerable:!0,get:function(){return m.minInt80}}),Object.defineProperty(e,"minInt88",{enumerable:!0,get:function(){return m.minInt88}}),Object.defineProperty(e,"minInt96",{enumerable:!0,get:function(){return m.minInt96}}),Object.defineProperty(e,"minInt104",{enumerable:!0,get:function(){return m.minInt104}}),Object.defineProperty(e,"minInt112",{enumerable:!0,get:function(){return m.minInt112}}),Object.defineProperty(e,"minInt120",{enumerable:!0,get:function(){return m.minInt120}}),Object.defineProperty(e,"minInt128",{enumerable:!0,get:function(){return m.minInt128}}),Object.defineProperty(e,"minInt136",{enumerable:!0,get:function(){return m.minInt136}}),Object.defineProperty(e,"minInt144",{enumerable:!0,get:function(){return m.minInt144}}),Object.defineProperty(e,"minInt152",{enumerable:!0,get:function(){return m.minInt152}}),Object.defineProperty(e,"minInt160",{enumerable:!0,get:function(){return m.minInt160}}),Object.defineProperty(e,"minInt168",{enumerable:!0,get:function(){return m.minInt168}}),Object.defineProperty(e,"minInt176",{enumerable:!0,get:function(){return m.minInt176}}),Object.defineProperty(e,"minInt184",{enumerable:!0,get:function(){return m.minInt184}}),Object.defineProperty(e,"minInt192",{enumerable:!0,get:function(){return m.minInt192}}),Object.defineProperty(e,"minInt200",{enumerable:!0,get:function(){return m.minInt200}}),Object.defineProperty(e,"minInt208",{enumerable:!0,get:function(){return m.minInt208}}),Object.defineProperty(e,"minInt216",{enumerable:!0,get:function(){return m.minInt216}}),Object.defineProperty(e,"minInt224",{enumerable:!0,get:function(){return m.minInt224}}),Object.defineProperty(e,"minInt232",{enumerable:!0,get:function(){return m.minInt232}}),Object.defineProperty(e,"minInt240",{enumerable:!0,get:function(){return m.minInt240}}),Object.defineProperty(e,"minInt248",{enumerable:!0,get:function(){return m.minInt248}}),Object.defineProperty(e,"minInt256",{enumerable:!0,get:function(){return m.minInt256}});var C=zY();Object.defineProperty(e,"presignMessagePrefix",{enumerable:!0,get:function(){return C.presignMessagePrefix}});var E=j1();Object.defineProperty(e,"etherUnits",{enumerable:!0,get:function(){return E.etherUnits}}),Object.defineProperty(e,"gweiUnits",{enumerable:!0,get:function(){return E.gweiUnits}}),Object.defineProperty(e,"weiUnits",{enumerable:!0,get:function(){return E.weiUnits}});var _=br();Object.defineProperty(e,"AbiConstructorNotFoundError",{enumerable:!0,get:function(){return _.AbiConstructorNotFoundError}}),Object.defineProperty(e,"AbiConstructorParamsNotFoundError",{enumerable:!0,get:function(){return _.AbiConstructorParamsNotFoundError}}),Object.defineProperty(e,"AbiDecodingDataSizeInvalidError",{enumerable:!0,get:function(){return _.AbiDecodingDataSizeInvalidError}}),Object.defineProperty(e,"AbiDecodingDataSizeTooSmallError",{enumerable:!0,get:function(){return _.AbiDecodingDataSizeTooSmallError}}),Object.defineProperty(e,"AbiDecodingZeroDataError",{enumerable:!0,get:function(){return _.AbiDecodingZeroDataError}}),Object.defineProperty(e,"AbiEncodingArrayLengthMismatchError",{enumerable:!0,get:function(){return _.AbiEncodingArrayLengthMismatchError}}),Object.defineProperty(e,"AbiEncodingBytesSizeMismatchError",{enumerable:!0,get:function(){return _.AbiEncodingBytesSizeMismatchError}}),Object.defineProperty(e,"AbiEncodingLengthMismatchError",{enumerable:!0,get:function(){return _.AbiEncodingLengthMismatchError}}),Object.defineProperty(e,"AbiErrorInputsNotFoundError",{enumerable:!0,get:function(){return _.AbiErrorInputsNotFoundError}}),Object.defineProperty(e,"AbiErrorNotFoundError",{enumerable:!0,get:function(){return _.AbiErrorNotFoundError}}),Object.defineProperty(e,"AbiErrorSignatureNotFoundError",{enumerable:!0,get:function(){return _.AbiErrorSignatureNotFoundError}}),Object.defineProperty(e,"AbiEventNotFoundError",{enumerable:!0,get:function(){return _.AbiEventNotFoundError}}),Object.defineProperty(e,"AbiEventSignatureEmptyTopicsError",{enumerable:!0,get:function(){return _.AbiEventSignatureEmptyTopicsError}}),Object.defineProperty(e,"AbiEventSignatureNotFoundError",{enumerable:!0,get:function(){return _.AbiEventSignatureNotFoundError}}),Object.defineProperty(e,"AbiFunctionNotFoundError",{enumerable:!0,get:function(){return _.AbiFunctionNotFoundError}}),Object.defineProperty(e,"AbiFunctionOutputsNotFoundError",{enumerable:!0,get:function(){return _.AbiFunctionOutputsNotFoundError}}),Object.defineProperty(e,"AbiFunctionSignatureNotFoundError",{enumerable:!0,get:function(){return _.AbiFunctionSignatureNotFoundError}}),Object.defineProperty(e,"BytesSizeMismatchError",{enumerable:!0,get:function(){return _.BytesSizeMismatchError}}),Object.defineProperty(e,"DecodeLogDataMismatch",{enumerable:!0,get:function(){return _.DecodeLogDataMismatch}}),Object.defineProperty(e,"DecodeLogTopicsMismatch",{enumerable:!0,get:function(){return _.DecodeLogTopicsMismatch}}),Object.defineProperty(e,"InvalidAbiDecodingTypeError",{enumerable:!0,get:function(){return _.InvalidAbiDecodingTypeError}}),Object.defineProperty(e,"InvalidAbiEncodingTypeError",{enumerable:!0,get:function(){return _.InvalidAbiEncodingTypeError}}),Object.defineProperty(e,"InvalidArrayError",{enumerable:!0,get:function(){return _.InvalidArrayError}}),Object.defineProperty(e,"InvalidDefinitionTypeError",{enumerable:!0,get:function(){return _.InvalidDefinitionTypeError}}),Object.defineProperty(e,"UnsupportedPackedAbiType",{enumerable:!0,get:function(){return _.UnsupportedPackedAbiType}});var P=Bo();Object.defineProperty(e,"InvalidAddressError",{enumerable:!0,get:function(){return P.InvalidAddressError}});var x=Ye();Object.defineProperty(e,"BaseError",{enumerable:!0,get:function(){return x.BaseError}}),Object.defineProperty(e,"setErrorConfig",{enumerable:!0,get:function(){return x.setErrorConfig}});var O=fS();Object.defineProperty(e,"BlockNotFoundError",{enumerable:!0,get:function(){return O.BlockNotFoundError}});var D=gY();Object.defineProperty(e,"BundleFailedError",{enumerable:!0,get:function(){return D.BundleFailedError}});var R=W1();Object.defineProperty(e,"ChainDoesNotSupportContract",{enumerable:!0,get:function(){return R.ChainDoesNotSupportContract}}),Object.defineProperty(e,"ChainMismatchError",{enumerable:!0,get:function(){return R.ChainMismatchError}}),Object.defineProperty(e,"ChainNotFoundError",{enumerable:!0,get:function(){return R.ChainNotFoundError}}),Object.defineProperty(e,"ClientChainNotConfiguredError",{enumerable:!0,get:function(){return R.ClientChainNotConfiguredError}}),Object.defineProperty(e,"InvalidChainIdError",{enumerable:!0,get:function(){return R.InvalidChainIdError}});var k=Du();Object.defineProperty(e,"CallExecutionError",{enumerable:!0,get:function(){return k.CallExecutionError}}),Object.defineProperty(e,"ContractFunctionExecutionError",{enumerable:!0,get:function(){return k.ContractFunctionExecutionError}}),Object.defineProperty(e,"ContractFunctionRevertedError",{enumerable:!0,get:function(){return k.ContractFunctionRevertedError}}),Object.defineProperty(e,"ContractFunctionZeroDataError",{enumerable:!0,get:function(){return k.ContractFunctionZeroDataError}}),Object.defineProperty(e,"CounterfactualDeploymentFailedError",{enumerable:!0,get:function(){return k.CounterfactualDeploymentFailedError}}),Object.defineProperty(e,"RawContractError",{enumerable:!0,get:function(){return k.RawContractError}});var T=gE();Object.defineProperty(e,"SizeExceedsPaddingSizeError",{enumerable:!0,get:function(){return T.SizeExceedsPaddingSizeError}}),Object.defineProperty(e,"SliceOffsetOutOfBoundsError",{enumerable:!0,get:function(){return T.SliceOffsetOutOfBoundsError}});var S=Lp();Object.defineProperty(e,"IntegerOutOfRangeError",{enumerable:!0,get:function(){return S.IntegerOutOfRangeError}}),Object.defineProperty(e,"InvalidBytesBooleanError",{enumerable:!0,get:function(){return S.InvalidBytesBooleanError}}),Object.defineProperty(e,"InvalidHexBooleanError",{enumerable:!0,get:function(){return S.InvalidHexBooleanError}}),Object.defineProperty(e,"InvalidHexValueError",{enumerable:!0,get:function(){return S.InvalidHexValueError}}),Object.defineProperty(e,"SizeOverflowError",{enumerable:!0,get:function(){return S.SizeOverflowError}});var I=DS();Object.defineProperty(e,"EnsAvatarInvalidNftUriError",{enumerable:!0,get:function(){return I.EnsAvatarInvalidNftUriError}}),Object.defineProperty(e,"EnsAvatarUnsupportedNamespaceError",{enumerable:!0,get:function(){return I.EnsAvatarUnsupportedNamespaceError}}),Object.defineProperty(e,"EnsAvatarUriResolutionError",{enumerable:!0,get:function(){return I.EnsAvatarUriResolutionError}}),Object.defineProperty(e,"EnsInvalidChainIdError",{enumerable:!0,get:function(){return I.EnsInvalidChainIdError}});var A=tY();Object.defineProperty(e,"EstimateGasExecutionError",{enumerable:!0,get:function(){return A.EstimateGasExecutionError}});var j=L1();Object.defineProperty(e,"BaseFeeScalarError",{enumerable:!0,get:function(){return j.BaseFeeScalarError}}),Object.defineProperty(e,"Eip1559FeesNotSupportedError",{enumerable:!0,get:function(){return j.Eip1559FeesNotSupportedError}}),Object.defineProperty(e,"MaxFeePerGasTooLowError",{enumerable:!0,get:function(){return j.MaxFeePerGasTooLowError}});var N=KZ();Object.defineProperty(e,"FilterTypeNotSupportedError",{enumerable:!0,get:function(){return N.FilterTypeNotSupportedError}});var B=Bc();Object.defineProperty(e,"ExecutionRevertedError",{enumerable:!0,get:function(){return B.ExecutionRevertedError}}),Object.defineProperty(e,"FeeCapTooHighError",{enumerable:!0,get:function(){return B.FeeCapTooHighError}}),Object.defineProperty(e,"FeeCapTooLowError",{enumerable:!0,get:function(){return B.FeeCapTooLowError}}),Object.defineProperty(e,"InsufficientFundsError",{enumerable:!0,get:function(){return B.InsufficientFundsError}}),Object.defineProperty(e,"IntrinsicGasTooHighError",{enumerable:!0,get:function(){return B.IntrinsicGasTooHighError}}),Object.defineProperty(e,"IntrinsicGasTooLowError",{enumerable:!0,get:function(){return B.IntrinsicGasTooLowError}}),Object.defineProperty(e,"NonceMaxValueError",{enumerable:!0,get:function(){return B.NonceMaxValueError}}),Object.defineProperty(e,"NonceTooHighError",{enumerable:!0,get:function(){return B.NonceTooHighError}}),Object.defineProperty(e,"NonceTooLowError",{enumerable:!0,get:function(){return B.NonceTooLowError}}),Object.defineProperty(e,"TipAboveFeeCapError",{enumerable:!0,get:function(){return B.TipAboveFeeCapError}}),Object.defineProperty(e,"TransactionTypeNotSupportedError",{enumerable:!0,get:function(){return B.TransactionTypeNotSupportedError}}),Object.defineProperty(e,"UnknownNodeError",{enumerable:!0,get:function(){return B.UnknownNodeError}});var $=ko();Object.defineProperty(e,"HttpRequestError",{enumerable:!0,get:function(){return $.HttpRequestError}}),Object.defineProperty(e,"RpcRequestError",{enumerable:!0,get:function(){return $.RpcRequestError}}),Object.defineProperty(e,"SocketClosedError",{enumerable:!0,get:function(){return $.SocketClosedError}}),Object.defineProperty(e,"TimeoutError",{enumerable:!0,get:function(){return $.TimeoutError}}),Object.defineProperty(e,"WebSocketRequestError",{enumerable:!0,get:function(){return $.WebSocketRequestError}});var M=$u();Object.defineProperty(e,"AtomicityNotSupportedError",{enumerable:!0,get:function(){return M.AtomicityNotSupportedError}}),Object.defineProperty(e,"AtomicReadyWalletRejectedUpgradeError",{enumerable:!0,get:function(){return M.AtomicReadyWalletRejectedUpgradeError}}),Object.defineProperty(e,"BundleTooLargeError",{enumerable:!0,get:function(){return M.BundleTooLargeError}}),Object.defineProperty(e,"ChainDisconnectedError",{enumerable:!0,get:function(){return M.ChainDisconnectedError}}),Object.defineProperty(e,"DuplicateIdError",{enumerable:!0,get:function(){return M.DuplicateIdError}}),Object.defineProperty(e,"InternalRpcError",{enumerable:!0,get:function(){return M.InternalRpcError}}),Object.defineProperty(e,"InvalidInputRpcError",{enumerable:!0,get:function(){return M.InvalidInputRpcError}}),Object.defineProperty(e,"InvalidParamsRpcError",{enumerable:!0,get:function(){return M.InvalidParamsRpcError}}),Object.defineProperty(e,"InvalidRequestRpcError",{enumerable:!0,get:function(){return M.InvalidRequestRpcError}}),Object.defineProperty(e,"JsonRpcVersionUnsupportedError",{enumerable:!0,get:function(){return M.JsonRpcVersionUnsupportedError}}),Object.defineProperty(e,"LimitExceededRpcError",{enumerable:!0,get:function(){return M.LimitExceededRpcError}}),Object.defineProperty(e,"MethodNotFoundRpcError",{enumerable:!0,get:function(){return M.MethodNotFoundRpcError}}),Object.defineProperty(e,"MethodNotSupportedRpcError",{enumerable:!0,get:function(){return M.MethodNotSupportedRpcError}}),Object.defineProperty(e,"ParseRpcError",{enumerable:!0,get:function(){return M.ParseRpcError}}),Object.defineProperty(e,"ProviderDisconnectedError",{enumerable:!0,get:function(){return M.ProviderDisconnectedError}}),Object.defineProperty(e,"ProviderRpcError",{enumerable:!0,get:function(){return M.ProviderRpcError}}),Object.defineProperty(e,"ResourceNotFoundRpcError",{enumerable:!0,get:function(){return M.ResourceNotFoundRpcError}}),Object.defineProperty(e,"ResourceUnavailableRpcError",{enumerable:!0,get:function(){return M.ResourceUnavailableRpcError}}),Object.defineProperty(e,"RpcError",{enumerable:!0,get:function(){return M.RpcError}}),Object.defineProperty(e,"SwitchChainError",{enumerable:!0,get:function(){return M.SwitchChainError}}),Object.defineProperty(e,"TransactionRejectedRpcError",{enumerable:!0,get:function(){return M.TransactionRejectedRpcError}}),Object.defineProperty(e,"UnauthorizedProviderError",{enumerable:!0,get:function(){return M.UnauthorizedProviderError}}),Object.defineProperty(e,"UnknownBundleIdError",{enumerable:!0,get:function(){return M.UnknownBundleIdError}}),Object.defineProperty(e,"UnknownRpcError",{enumerable:!0,get:function(){return M.UnknownRpcError}}),Object.defineProperty(e,"UnsupportedChainIdError",{enumerable:!0,get:function(){return M.UnsupportedChainIdError}}),Object.defineProperty(e,"UnsupportedNonOptionalCapabilityError",{enumerable:!0,get:function(){return M.UnsupportedNonOptionalCapabilityError}}),Object.defineProperty(e,"UnsupportedProviderMethodError",{enumerable:!0,get:function(){return M.UnsupportedProviderMethodError}}),Object.defineProperty(e,"UserRejectedRequestError",{enumerable:!0,get:function(){return M.UserRejectedRequestError}});var L=aS();Object.defineProperty(e,"AccountStateConflictError",{enumerable:!0,get:function(){return L.AccountStateConflictError}}),Object.defineProperty(e,"StateAssignmentConflictError",{enumerable:!0,get:function(){return L.StateAssignmentConflictError}});var q=Zi();Object.defineProperty(e,"FeeConflictError",{enumerable:!0,get:function(){return q.FeeConflictError}}),Object.defineProperty(e,"InvalidLegacyVError",{enumerable:!0,get:function(){return q.InvalidLegacyVError}}),Object.defineProperty(e,"InvalidSerializableTransactionError",{enumerable:!0,get:function(){return q.InvalidSerializableTransactionError}}),Object.defineProperty(e,"InvalidSerializedTransactionError",{enumerable:!0,get:function(){return q.InvalidSerializedTransactionError}}),Object.defineProperty(e,"InvalidSerializedTransactionTypeError",{enumerable:!0,get:function(){return q.InvalidSerializedTransactionTypeError}}),Object.defineProperty(e,"InvalidStorageKeySizeError",{enumerable:!0,get:function(){return q.InvalidStorageKeySizeError}}),Object.defineProperty(e,"TransactionExecutionError",{enumerable:!0,get:function(){return q.TransactionExecutionError}}),Object.defineProperty(e,"TransactionNotFoundError",{enumerable:!0,get:function(){return q.TransactionNotFoundError}}),Object.defineProperty(e,"TransactionReceiptNotFoundError",{enumerable:!0,get:function(){return q.TransactionReceiptNotFoundError}}),Object.defineProperty(e,"WaitForTransactionReceiptTimeoutError",{enumerable:!0,get:function(){return q.WaitForTransactionReceiptTimeoutError}});var U=r7();Object.defineProperty(e,"UrlRequiredError",{enumerable:!0,get:function(){return U.UrlRequiredError}});var F=HY();Object.defineProperty(e,"InvalidDomainError",{enumerable:!0,get:function(){return F.InvalidDomainError}}),Object.defineProperty(e,"InvalidPrimaryTypeError",{enumerable:!0,get:function(){return F.InvalidPrimaryTypeError}}),Object.defineProperty(e,"InvalidStructTypeError",{enumerable:!0,get:function(){return F.InvalidStructTypeError}});var H=nQ();Object.defineProperty(e,"InvalidDecimalNumberError",{enumerable:!0,get:function(){return H.InvalidDecimalNumberError}});var V=bbe();Object.defineProperty(e,"EIP1193ProviderRpcError",{enumerable:!0,get:function(){return V.ProviderRpcError}});var W=Nu();Object.defineProperty(e,"decodeAbiParameters",{enumerable:!0,get:function(){return W.decodeAbiParameters}});var Z=ybe();Object.defineProperty(e,"decodeDeployData",{enumerable:!0,get:function(){return Z.decodeDeployData}});var X=wE();Object.defineProperty(e,"decodeErrorResult",{enumerable:!0,get:function(){return X.decodeErrorResult}});var ue=z1();Object.defineProperty(e,"decodeEventLog",{enumerable:!0,get:function(){return ue.decodeEventLog}});var Y=AS();Object.defineProperty(e,"decodeFunctionData",{enumerable:!0,get:function(){return Y.decodeFunctionData}});var Q=kc();Object.defineProperty(e,"decodeFunctionResult",{enumerable:!0,get:function(){return Q.decodeFunctionResult}});var ae=Ro();Object.defineProperty(e,"encodeAbiParameters",{enumerable:!0,get:function(){return ae.encodeAbiParameters}});var he=V1();Object.defineProperty(e,"encodeDeployData",{enumerable:!0,get:function(){return he.encodeDeployData}});var pe=xS();Object.defineProperty(e,"encodeErrorResult",{enumerable:!0,get:function(){return pe.encodeErrorResult}});var be=Gd();Object.defineProperty(e,"encodeEventTopics",{enumerable:!0,get:function(){return be.encodeEventTopics}});var Pe=Ki();Object.defineProperty(e,"encodeFunctionData",{enumerable:!0,get:function(){return Pe.encodeFunctionData}});var fe=IS();Object.defineProperty(e,"encodeFunctionResult",{enumerable:!0,get:function(){return fe.encodeFunctionResult}});var ce=xY();Object.defineProperty(e,"encodePacked",{enumerable:!0,get:function(){return ce.encodePacked}});var Qe=jc();Object.defineProperty(e,"getAbiItem",{enumerable:!0,get:function(){return Qe.getAbiItem}});var Ke=F1();Object.defineProperty(e,"parseEventLogs",{enumerable:!0,get:function(){return Ke.parseEventLogs}});var Ft=ZZ();Object.defineProperty(e,"prepareEncodeFunctionData",{enumerable:!0,get:function(){return Ft.prepareEncodeFunctionData}});var At=Is();Object.defineProperty(e,"checksumAddress",{enumerable:!0,get:function(){return At.checksumAddress}}),Object.defineProperty(e,"getAddress",{enumerable:!0,get:function(){return At.getAddress}});var xr=IY();Object.defineProperty(e,"getContractAddress",{enumerable:!0,get:function(){return xr.getContractAddress}}),Object.defineProperty(e,"getCreate2Address",{enumerable:!0,get:function(){return xr.getCreate2Address}}),Object.defineProperty(e,"getCreateAddress",{enumerable:!0,get:function(){return xr.getCreateAddress}});var Ht=Gi();Object.defineProperty(e,"isAddress",{enumerable:!0,get:function(){return Ht.isAddress}});var et=$o();Object.defineProperty(e,"isAddressEqual",{enumerable:!0,get:function(){return et.isAddressEqual}});var Ir=AE();Object.defineProperty(e,"blobsToCommitments",{enumerable:!0,get:function(){return Ir.blobsToCommitments}});var hr=xE();Object.defineProperty(e,"blobsToProofs",{enumerable:!0,get:function(){return hr.blobsToProofs}});var Ue=mS();Object.defineProperty(e,"commitmentsToVersionedHashes",{enumerable:!0,get:function(){return Ue.commitmentsToVersionedHashes}});var Ge=gS();Object.defineProperty(e,"commitmentToVersionedHash",{enumerable:!0,get:function(){return Ge.commitmentToVersionedHash}});var ke=wbe();Object.defineProperty(e,"fromBlobs",{enumerable:!0,get:function(){return ke.fromBlobs}});var st=vbe();Object.defineProperty(e,"sidecarsToVersionedHashes",{enumerable:!0,get:function(){return st.sidecarsToVersionedHashes}});var Xn=IE();Object.defineProperty(e,"toBlobSidecars",{enumerable:!0,get:function(){return Xn.toBlobSidecars}});var ei=aY();Object.defineProperty(e,"toBlobs",{enumerable:!0,get:function(){return ei.toBlobs}});var nt=PS();Object.defineProperty(e,"ccipRequest",{enumerable:!0,get:function(){return nt.ccipRequest}}),Object.defineProperty(e,"ccipFetch",{enumerable:!0,get:function(){return nt.ccipRequest}}),Object.defineProperty(e,"offchainLookup",{enumerable:!0,get:function(){return nt.offchainLookup}}),Object.defineProperty(e,"offchainLookupAbiItem",{enumerable:!0,get:function(){return nt.offchainLookupAbiItem}}),Object.defineProperty(e,"offchainLookupSignature",{enumerable:!0,get:function(){return nt.offchainLookupSignature}});var We=Z1();Object.defineProperty(e,"assertCurrentChain",{enumerable:!0,get:function(){return We.assertCurrentChain}});var ti=OY();Object.defineProperty(e,"defineChain",{enumerable:!0,get:function(){return ti.defineChain}}),Object.defineProperty(e,"extendSchema",{enumerable:!0,get:function(){return ti.extendSchema}});var Qu=jY();Object.defineProperty(e,"extractChain",{enumerable:!0,get:function(){return Qu.extractChain}});var Ju=Fu();Object.defineProperty(e,"getChainContractAddress",{enumerable:!0,get:function(){return Ju.getChainContractAddress}});var c0=An();Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return c0.concat}}),Object.defineProperty(e,"concatBytes",{enumerable:!0,get:function(){return c0.concatBytes}}),Object.defineProperty(e,"concatHex",{enumerable:!0,get:function(){return c0.concatHex}});var S8=$S();Object.defineProperty(e,"isBytes",{enumerable:!0,get:function(){return S8.isBytes}});var T8=wi();Object.defineProperty(e,"isHex",{enumerable:!0,get:function(){return T8.isHex}});var u0=ku();Object.defineProperty(e,"pad",{enumerable:!0,get:function(){return u0.pad}}),Object.defineProperty(e,"padBytes",{enumerable:!0,get:function(){return u0.padBytes}}),Object.defineProperty(e,"padHex",{enumerable:!0,get:function(){return u0.padHex}});var O8=Wi();Object.defineProperty(e,"size",{enumerable:!0,get:function(){return O8.size}});var l0=Ys();Object.defineProperty(e,"slice",{enumerable:!0,get:function(){return l0.slice}}),Object.defineProperty(e,"sliceBytes",{enumerable:!0,get:function(){return l0.sliceBytes}}),Object.defineProperty(e,"sliceHex",{enumerable:!0,get:function(){return l0.sliceHex}});var j8=Oc();Object.defineProperty(e,"trim",{enumerable:!0,get:function(){return j8.trim}});var Xu=oS();Object.defineProperty(e,"bytesToBigInt",{enumerable:!0,get:function(){return Xu.bytesToBigInt}}),Object.defineProperty(e,"bytesToBool",{enumerable:!0,get:function(){return Xu.bytesToBool}}),Object.defineProperty(e,"bytesToNumber",{enumerable:!0,get:function(){return Xu.bytesToNumber}}),Object.defineProperty(e,"bytesToString",{enumerable:!0,get:function(){return Xu.bytesToString}}),Object.defineProperty(e,"fromBytes",{enumerable:!0,get:function(){return Xu.fromBytes}});var el=Cr();Object.defineProperty(e,"fromHex",{enumerable:!0,get:function(){return el.fromHex}}),Object.defineProperty(e,"hexToBigInt",{enumerable:!0,get:function(){return el.hexToBigInt}}),Object.defineProperty(e,"hexToBool",{enumerable:!0,get:function(){return el.hexToBool}}),Object.defineProperty(e,"hexToNumber",{enumerable:!0,get:function(){return el.hexToNumber}}),Object.defineProperty(e,"hexToString",{enumerable:!0,get:function(){return el.hexToString}});var B8=LS();Object.defineProperty(e,"fromRlp",{enumerable:!0,get:function(){return B8.fromRlp}});var tl=Qt();Object.defineProperty(e,"boolToBytes",{enumerable:!0,get:function(){return tl.boolToBytes}}),Object.defineProperty(e,"hexToBytes",{enumerable:!0,get:function(){return tl.hexToBytes}}),Object.defineProperty(e,"numberToBytes",{enumerable:!0,get:function(){return tl.numberToBytes}}),Object.defineProperty(e,"stringToBytes",{enumerable:!0,get:function(){return tl.stringToBytes}}),Object.defineProperty(e,"toBytes",{enumerable:!0,get:function(){return tl.toBytes}});var rl=Oe();Object.defineProperty(e,"boolToHex",{enumerable:!0,get:function(){return rl.boolToHex}}),Object.defineProperty(e,"bytesToHex",{enumerable:!0,get:function(){return rl.bytesToHex}}),Object.defineProperty(e,"numberToHex",{enumerable:!0,get:function(){return rl.numberToHex}}),Object.defineProperty(e,"stringToHex",{enumerable:!0,get:function(){return rl.stringToHex}}),Object.defineProperty(e,"toHex",{enumerable:!0,get:function(){return rl.toHex}});var d0=N1();Object.defineProperty(e,"bytesToRlp",{enumerable:!0,get:function(){return d0.bytesToRlp}}),Object.defineProperty(e,"hexToRlp",{enumerable:!0,get:function(){return d0.hexToRlp}}),Object.defineProperty(e,"toRlp",{enumerable:!0,get:function(){return d0.toRlp}});var R8=wY();Object.defineProperty(e,"labelhash",{enumerable:!0,get:function(){return R8.labelhash}});var k8=kS();Object.defineProperty(e,"namehash",{enumerable:!0,get:function(){return k8.namehash}});var f0=Ebe();Object.defineProperty(e,"toCoinType",{enumerable:!0,get:function(){return f0.toCoinType}});var N8=Mu();Object.defineProperty(e,"getContractError",{enumerable:!0,get:function(){return N8.getContractError}});var $b=_E();Object.defineProperty(e,"defineBlock",{enumerable:!0,get:function(){return $b.defineBlock}}),Object.defineProperty(e,"formatBlock",{enumerable:!0,get:function(){return $b.formatBlock}});var D8=Rc();Object.defineProperty(e,"formatLog",{enumerable:!0,get:function(){return D8.formatLog}});var h0=qp();Object.defineProperty(e,"defineTransaction",{enumerable:!0,get:function(){return h0.defineTransaction}}),Object.defineProperty(e,"formatTransaction",{enumerable:!0,get:function(){return h0.formatTransaction}}),Object.defineProperty(e,"transactionType",{enumerable:!0,get:function(){return h0.transactionType}});var Mb=Y1();Object.defineProperty(e,"defineTransactionReceipt",{enumerable:!0,get:function(){return Mb.defineTransactionReceipt}}),Object.defineProperty(e,"formatTransactionReceipt",{enumerable:!0,get:function(){return Mb.formatTransactionReceipt}});var ff=No();Object.defineProperty(e,"defineTransactionRequest",{enumerable:!0,get:function(){return ff.defineTransactionRequest}}),Object.defineProperty(e,"formatTransactionRequest",{enumerable:!0,get:function(){return ff.formatTransactionRequest}}),Object.defineProperty(e,"rpcTransactionType",{enumerable:!0,get:function(){return ff.rpcTransactionType}});var $8=US();Object.defineProperty(e,"isHash",{enumerable:!0,get:function(){return $8.isHash}});var M8=Vi();Object.defineProperty(e,"keccak256",{enumerable:!0,get:function(){return M8.keccak256}});var L8=RY();Object.defineProperty(e,"ripemd160",{enumerable:!0,get:function(){return L8.ripemd160}});var U8=pS();Object.defineProperty(e,"sha256",{enumerable:!0,get:function(){return U8.sha256}});var q8=kY();Object.defineProperty(e,"toEventHash",{enumerable:!0,get:function(){return q8.toEventHash}});var Lb=Up();Object.defineProperty(e,"toEventSelector",{enumerable:!0,get:function(){return Lb.toEventSelector}}),Object.defineProperty(e,"getEventSelector",{enumerable:!0,get:function(){return Lb.toEventSelector}});var uT=NY();Object.defineProperty(e,"toEventSignature",{enumerable:!0,get:function(){return uT.toEventSignature}}),Object.defineProperty(e,"getEventSignature",{enumerable:!0,get:function(){return uT.toEventSignature}});var Tre=DY();Object.defineProperty(e,"toFunctionHash",{enumerable:!0,get:function(){return Tre.toFunctionHash}});var lT=Vd();Object.defineProperty(e,"toFunctionSelector",{enumerable:!0,get:function(){return lT.toFunctionSelector}}),Object.defineProperty(e,"getFunctionSelector",{enumerable:!0,get:function(){return lT.toFunctionSelector}});var dT=$Y();Object.defineProperty(e,"toFunctionSignature",{enumerable:!0,get:function(){return dT.toFunctionSignature}}),Object.defineProperty(e,"getFunctionSignature",{enumerable:!0,get:function(){return dT.toFunctionSignature}});var Ore=yQ();Object.defineProperty(e,"defineKzg",{enumerable:!0,get:function(){return Ore.defineKzg}});var jre=_be();Object.defineProperty(e,"setupKzg",{enumerable:!0,get:function(){return jre.setupKzg}});var fT=MY();Object.defineProperty(e,"createNonceManager",{enumerable:!0,get:function(){return fT.createNonceManager}}),Object.defineProperty(e,"nonceManager",{enumerable:!0,get:function(){return fT.nonceManager}});var Bre=hY();Object.defineProperty(e,"withCache",{enumerable:!0,get:function(){return Bre.withCache}});var Rre=RE();Object.defineProperty(e,"withRetry",{enumerable:!0,get:function(){return Rre.withRetry}});var kre=qS();Object.defineProperty(e,"withTimeout",{enumerable:!0,get:function(){return kre.withTimeout}});var Nre=Cbe();Object.defineProperty(e,"compactSignatureToSignature",{enumerable:!0,get:function(){return Nre.compactSignatureToSignature}});var Dre=Q1();Object.defineProperty(e,"hashMessage",{enumerable:!0,get:function(){return Dre.hashMessage}});var z8=J1();Object.defineProperty(e,"hashDomain",{enumerable:!0,get:function(){return z8.hashDomain}}),Object.defineProperty(e,"hashStruct",{enumerable:!0,get:function(){return z8.hashStruct}}),Object.defineProperty(e,"hashTypedData",{enumerable:!0,get:function(){return z8.hashTypedData}});var $re=WS();Object.defineProperty(e,"isErc6492Signature",{enumerable:!0,get:function(){return $re.isErc6492Signature}});var Mre=KS();Object.defineProperty(e,"isErc8010Signature",{enumerable:!0,get:function(){return Mre.isErc8010Signature}});var hT=Abe();Object.defineProperty(e,"hexToCompactSignature",{enumerable:!0,get:function(){return hT.parseCompactSignature}}),Object.defineProperty(e,"parseCompactSignature",{enumerable:!0,get:function(){return hT.parseCompactSignature}});var Lre=YY();Object.defineProperty(e,"parseErc6492Signature",{enumerable:!0,get:function(){return Lre.parseErc6492Signature}});var Ure=QY();Object.defineProperty(e,"parseErc8010Signature",{enumerable:!0,get:function(){return Ure.parseErc8010Signature}});var pT=xbe();Object.defineProperty(e,"hexToSignature",{enumerable:!0,get:function(){return pT.parseSignature}}),Object.defineProperty(e,"parseSignature",{enumerable:!0,get:function(){return pT.parseSignature}});var qre=Lu();Object.defineProperty(e,"recoverAddress",{enumerable:!0,get:function(){return qre.recoverAddress}});var zre=ZS();Object.defineProperty(e,"recoverMessageAddress",{enumerable:!0,get:function(){return zre.recoverMessageAddress}});var Fre=uS();Object.defineProperty(e,"recoverPublicKey",{enumerable:!0,get:function(){return Fre.recoverPublicKey}});var Hre=Ibe();Object.defineProperty(e,"recoverTransactionAddress",{enumerable:!0,get:function(){return Hre.recoverTransactionAddress}});var Wre=YS();Object.defineProperty(e,"recoverTypedDataAddress",{enumerable:!0,get:function(){return Wre.recoverTypedDataAddress}});var gT=Pbe();Object.defineProperty(e,"compactSignatureToHex",{enumerable:!0,get:function(){return gT.serializeCompactSignature}}),Object.defineProperty(e,"serializeCompactSignature",{enumerable:!0,get:function(){return gT.serializeCompactSignature}});var Vre=JY();Object.defineProperty(e,"serializeErc6492Signature",{enumerable:!0,get:function(){return Vre.serializeErc6492Signature}});var Gre=XY();Object.defineProperty(e,"serializeErc8010Signature",{enumerable:!0,get:function(){return Gre.serializeErc8010Signature}});var mT=lQ();Object.defineProperty(e,"signatureToHex",{enumerable:!0,get:function(){return mT.serializeSignature}}),Object.defineProperty(e,"serializeSignature",{enumerable:!0,get:function(){return mT.serializeSignature}});var Kre=Sbe();Object.defineProperty(e,"signatureToCompactSignature",{enumerable:!0,get:function(){return Kre.signatureToCompactSignature}});var Zre=FY();Object.defineProperty(e,"toPrefixedMessage",{enumerable:!0,get:function(){return Zre.toPrefixedMessage}});var Yre=eQ();Object.defineProperty(e,"verifyHash",{enumerable:!0,get:function(){return Yre.verifyHash}});var Qre=tQ();Object.defineProperty(e,"verifyMessage",{enumerable:!0,get:function(){return Qre.verifyMessage}});var Jre=rQ();Object.defineProperty(e,"verifyTypedData",{enumerable:!0,get:function(){return Jre.verifyTypedData}});var Xre=Dn();Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return Xre.stringify}});var ene=Do();Object.defineProperty(e,"assertRequest",{enumerable:!0,get:function(){return ene.assertRequest}});var F8=NE();Object.defineProperty(e,"assertTransactionEIP1559",{enumerable:!0,get:function(){return F8.assertTransactionEIP1559}}),Object.defineProperty(e,"assertTransactionEIP2930",{enumerable:!0,get:function(){return F8.assertTransactionEIP2930}}),Object.defineProperty(e,"assertTransactionLegacy",{enumerable:!0,get:function(){return F8.assertTransactionLegacy}});var tne=QS();Object.defineProperty(e,"getSerializedTransactionType",{enumerable:!0,get:function(){return tne.getSerializedTransactionType}});var rne=PE();Object.defineProperty(e,"getTransactionType",{enumerable:!0,get:function(){return rne.getTransactionType}});var nne=JS();Object.defineProperty(e,"parseTransaction",{enumerable:!0,get:function(){return nne.parseTransaction}});var ine=MS();Object.defineProperty(e,"serializeAccessList",{enumerable:!0,get:function(){return ine.serializeAccessList}});var sne=DE();Object.defineProperty(e,"serializeTransaction",{enumerable:!0,get:function(){return sne.serializeTransaction}});var Ub=$E();Object.defineProperty(e,"domainSeparator",{enumerable:!0,get:function(){return Ub.domainSeparator}}),Object.defineProperty(e,"getTypesForEIP712Domain",{enumerable:!0,get:function(){return Ub.getTypesForEIP712Domain}}),Object.defineProperty(e,"serializeTypedData",{enumerable:!0,get:function(){return Ub.serializeTypedData}}),Object.defineProperty(e,"validateTypedData",{enumerable:!0,get:function(){return Ub.validateTypedData}});var one=B1();Object.defineProperty(e,"formatEther",{enumerable:!0,get:function(){return one.formatEther}});var ane=Kd();Object.defineProperty(e,"formatGwei",{enumerable:!0,get:function(){return ane.formatGwei}});var cne=vE();Object.defineProperty(e,"formatUnits",{enumerable:!0,get:function(){return cne.formatUnits}});var une=iQ();Object.defineProperty(e,"parseEther",{enumerable:!0,get:function(){return une.parseEther}});var lne=sQ();Object.defineProperty(e,"parseGwei",{enumerable:!0,get:function(){return lne.parseGwei}});var dne=qE();Object.defineProperty(e,"parseUnits",{enumerable:!0,get:function(){return dne.parseUnits}})})(W_)),W_};var Wr=_ne();const Fp=P3(Wr);var JM=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},Tbe=(function(){function e(t,r,n){this.name=t,this.version=r,this.os=n,this.type="browser"}return e})(),Obe=(function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=Ur.platform}return e})(),jbe=(function(){function e(t,r,n,i){this.name=t,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return e})(),Bbe=(function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e})(),Rbe=(function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e})(),kbe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Nbe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,XM=3,Dbe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",kbe]],eL=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function wQ(e){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Rbe:typeof navigator<"u"?Mbe(navigator.userAgent):Ube()}function $be(e){return e!==""&&Dbe.reduce(function(t,r){var n=r[0],i=r[1];if(t)return t;var s=i.exec(e);return!!s&&[n,s]},!1)}function Mbe(e){var t=$be(e);if(!t)return null;var r=t[0],n=t[1];if(r==="searchbot")return new Bbe;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<XM&&(i=JM(JM([],i,!0),qbe(XM-i.length),!0)):i=[];var s=i.join("."),o=Lbe(e),a=Nbe.exec(e);return a&&a[1]?new jbe(r,s,o,a[1]):new Tbe(r,s,o)}function Lbe(e){for(var t=0,r=eL.length;t<r;t++){var n=eL[t],i=n[0],s=n[1],o=s.exec(e);if(o)return i}return null}function Ube(){var e=typeof Ur<"u"&&Ur.version;return e?new Obe(Ur.version.slice(1)):null}function qbe(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}var y4={};var qx=function(e,t){return qx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},qx(e,t)};function zbe(e,t){qx(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var zx=function(){return zx=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},zx.apply(this,arguments)};function Fbe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Hbe(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Wbe(e,t){return function(r,n){t(r,n,e)}}function Vbe(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Gbe(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})}function Kbe(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Zbe(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Ybe(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Fx(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vQ(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Qbe(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(vQ(arguments[t]));return e}function Jbe(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Nm(e){return this instanceof Nm?(this.v=e,this):new Nm(e)}function Xbe(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(h){return new Promise(function(g,p){s.push([d,h,g,p])>1||a(d,h)})})}function a(d,h){try{c(n[d](h))}catch(g){f(s[0][3],g)}}function c(d){d.value instanceof Nm?Promise.resolve(d.value.v).then(u,l):f(s[0][2],d)}function u(d){a("next",d)}function l(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function eye(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Nm(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function tye(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Fx=="function"?Fx(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,c){o=e[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function rye(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function nye(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function iye(e){return e&&e.__esModule?e:{default:e}}function sye(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function oye(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const aye=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return zx},__asyncDelegator:eye,__asyncGenerator:Xbe,__asyncValues:tye,__await:Nm,__awaiter:Gbe,__classPrivateFieldGet:sye,__classPrivateFieldSet:oye,__createBinding:Zbe,__decorate:Hbe,__exportStar:Ybe,__extends:zbe,__generator:Kbe,__importDefault:iye,__importStar:nye,__makeTemplateObject:rye,__metadata:Vbe,__param:Wbe,__read:vQ,__rest:Fbe,__spread:Qbe,__spreadArrays:Jbe,__values:Fx},Symbol.toStringTag,{value:"Module"})),FE=OP(aye);var w4={},gg={},tL;function cye(){if(tL)return gg;tL=1,Object.defineProperty(gg,"__esModule",{value:!0}),gg.delay=void 0;function e(t){return new Promise(r=>{setTimeout(()=>{r(!0)},t)})}return gg.delay=e,gg}var yl={},v4={},wl={},rL;function uye(){return rL||(rL=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.ONE_THOUSAND=wl.ONE_HUNDRED=void 0,wl.ONE_HUNDRED=100,wl.ONE_THOUSAND=1e3),wl}var E4={},nL;function lye(){return nL||(nL=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365})(E4)),E4}var iL;function EQ(){return iL||(iL=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=FE;t.__exportStar(uye(),e),t.__exportStar(lye(),e)})(v4)),v4}var sL;function dye(){if(sL)return yl;sL=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.fromMiliseconds=yl.toMiliseconds=void 0;const e=EQ();function t(n){return n*e.ONE_THOUSAND}yl.toMiliseconds=t;function r(n){return Math.floor(n/e.ONE_THOUSAND)}return yl.fromMiliseconds=r,yl}var oL;function fye(){return oL||(oL=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=FE;t.__exportStar(cye(),e),t.__exportStar(dye(),e)})(w4)),w4}var kf={},aL;function hye(){if(aL)return kf;aL=1,Object.defineProperty(kf,"__esModule",{value:!0}),kf.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return kf.Watch=e,kf.default=e,kf}var _4={},mg={},cL;function pye(){if(cL)return mg;cL=1,Object.defineProperty(mg,"__esModule",{value:!0}),mg.IWatch=void 0;class e{}return mg.IWatch=e,mg}var uL;function gye(){return uL||(uL=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),FE.__exportStar(pye(),e)})(_4)),_4}var lL;function mye(){return lL||(lL=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=FE;t.__exportStar(fye(),e),t.__exportStar(hye(),e),t.__exportStar(gye(),e),t.__exportStar(EQ(),e)})(y4)),y4}var ie=mye(),Vt={},dL;function _Q(){if(dL)return Vt;dL=1,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.getLocalStorage=Vt.getLocalStorageOrThrow=Vt.getCrypto=Vt.getCryptoOrThrow=Vt.getLocation=Vt.getLocationOrThrow=Vt.getNavigator=Vt.getNavigatorOrThrow=Vt.getDocument=Vt.getDocumentOrThrow=Vt.getFromWindowOrThrow=Vt.getFromWindow=void 0;function e(d){let h;return typeof window<"u"&&typeof window[d]<"u"&&(h=window[d]),h}Vt.getFromWindow=e;function t(d){const h=e(d);if(!h)throw new Error(`${d} is not defined in Window`);return h}Vt.getFromWindowOrThrow=t;function r(){return t("document")}Vt.getDocumentOrThrow=r;function n(){return e("document")}Vt.getDocument=n;function i(){return t("navigator")}Vt.getNavigatorOrThrow=i;function s(){return e("navigator")}Vt.getNavigator=s;function o(){return t("location")}Vt.getLocationOrThrow=o;function a(){return e("location")}Vt.getLocation=a;function c(){return t("crypto")}Vt.getCryptoOrThrow=c;function u(){return e("crypto")}Vt.getCrypto=u;function l(){return t("localStorage")}Vt.getLocalStorageOrThrow=l;function f(){return e("localStorage")}return Vt.getLocalStorage=f,Vt}var Cn=_Q(),bg={},fL;function bye(){if(fL)return bg;fL=1,Object.defineProperty(bg,"__esModule",{value:!0}),bg.getWindowMetadata=void 0;const e=_Q();function t(){let r,n;try{r=e.getDocumentOrThrow(),n=e.getLocationOrThrow()}catch{return null}function i(){const h=r.getElementsByTagName("link"),g=[];for(let p=0;p<h.length;p++){const b=h[p],w=b.getAttribute("rel");if(w&&w.toLowerCase().indexOf("icon")>-1){const y=b.getAttribute("href");if(y)if(y.toLowerCase().indexOf("https:")===-1&&y.toLowerCase().indexOf("http:")===-1&&y.indexOf("//")!==0){let v=n.protocol+"//"+n.host;if(y.indexOf("/")===0)v+=y;else{const m=n.pathname.split("/");m.pop();const C=m.join("/");v+=C+"/"+y}g.push(v)}else if(y.indexOf("//")===0){const v=n.protocol+y;g.push(v)}else g.push(y)}}return g}function s(...h){const g=r.getElementsByTagName("meta");for(let p=0;p<g.length;p++){const b=g[p],w=["itemprop","property","name"].map(y=>b.getAttribute(y)).filter(y=>y?h.includes(y):!1);if(w.length&&w){const y=b.getAttribute("content");if(y)return y}}return""}function o(){let h=s("name","og:site_name","og:title","twitter:title");return h||(h=r.title),h}function a(){return s("description","og:description","twitter:description","keywords")}const c=o(),u=a(),l=n.origin,f=i();return{description:u,url:l,icons:f,name:c}}return bg.getWindowMetadata=t,bg}var CQ=bye();function Dm(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function hL(e){return Dm(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const AQ="2.23.2";let C4={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${AQ}`},HE=class Hx extends Error{constructor(t,r={}){const n=r.cause instanceof Hx?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof Hx&&r.cause.docsPath||r.docsPath,s=C4.getDocsUrl?.({...r,docsPath:i}),o=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...C4.version?[`Version: ${C4.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=t,this.version=AQ}walk(t){return xQ(this,t)}};function xQ(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?xQ(e.cause,t):t?null:e}let IQ=class extends HE{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${t}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};function Hp(e,{dir:t,size:r=32}={}){return typeof e=="string"?yye(e,{dir:t,size:r}):wye(e,{dir:t,size:r})}function yye(e,{dir:t,size:r=32}={}){if(r===null)return e;const n=e.replace("0x","");if(n.length>r*2)throw new IQ({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[t==="right"?"padEnd":"padStart"](r*2,"0")}`}function wye(e,{dir:t,size:r=32}={}){if(r===null)return e;if(e.length>r)throw new IQ({size:e.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=t==="right";n[s?i:r-i-1]=e[s?i:e.length-i-1]}return n}let vye=class extends HE{constructor({max:t,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${t?`(${r} to ${t})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},Eye=class extends HE{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function Wp(e,{size:t}){if(hL(e)>t)throw new Eye({givenSize:hL(e),maxSize:t})}function Wx(e,t={}){const{signed:r}=t;t.size&&Wp(e,{size:t.size});const n=BigInt(e);if(!r)return n;const i=(e.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function _ye(e,t={}){return Number(Wx(e,t))}const Cye=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Vx(e,t={}){return typeof e=="number"||typeof e=="bigint"?SQ(e,t):typeof e=="string"?Iye(e,t):typeof e=="boolean"?Aye(e,t):PQ(e,t)}function Aye(e,t={}){const r=`0x${Number(e)}`;return typeof t.size=="number"?(Wp(r,{size:t.size}),Hp(r,{size:t.size})):r}function PQ(e,t={}){let r="";for(let i=0;i<e.length;i++)r+=Cye[e[i]];const n=`0x${r}`;return typeof t.size=="number"?(Wp(n,{size:t.size}),Hp(n,{dir:"right",size:t.size})):n}function SQ(e,t={}){const{signed:r,size:n}=t,i=BigInt(e);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof e=="bigint"?"n":"";throw new vye({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${e}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?Hp(a,{size:n}):a}const xye=new TextEncoder;function Iye(e,t={}){const r=xye.encode(e);return PQ(r,t)}const Pye=new TextEncoder;function Sye(e,t={}){return typeof e=="number"||typeof e=="bigint"?Oye(e,t):typeof e=="boolean"?Tye(e,t):Dm(e)?TQ(e,t):OQ(e,t)}function Tye(e,t={}){const r=new Uint8Array(1);return r[0]=Number(e),typeof t.size=="number"?(Wp(r,{size:t.size}),Hp(r,{size:t.size})):r}const qa={zero:48,nine:57,A:65,F:70,a:97,f:102};function pL(e){if(e>=qa.zero&&e<=qa.nine)return e-qa.zero;if(e>=qa.A&&e<=qa.F)return e-(qa.A-10);if(e>=qa.a&&e<=qa.f)return e-(qa.a-10)}function TQ(e,t={}){let r=e;t.size&&(Wp(r,{size:t.size}),r=Hp(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=pL(n.charCodeAt(a++)),u=pL(n.charCodeAt(a++));if(c===void 0||u===void 0)throw new HE(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=c*16+u}return s}function Oye(e,t){const r=SQ(e,t);return TQ(r)}function OQ(e,t={}){const r=Pye.encode(e);return typeof t.size=="number"?(Wp(r,{size:t.size}),Hp(r,{dir:"right",size:t.size})):r}function q5(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function jye(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function tb(e,...t){if(!jye(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Bye(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");q5(e.outputLen),q5(e.blockLen)}function Xh(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function jQ(e,t){tb(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const h6=BigInt(2**32-1),gL=BigInt(32);function Rye(e,t=!1){return t?{h:Number(e&h6),l:Number(e>>gL&h6)}:{h:Number(e>>gL&h6)|0,l:Number(e&h6)|0}}function kye(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=Rye(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}const Nye=(e,t,r)=>e<<r|t>>>32-r,Dye=(e,t,r)=>t<<r|e>>>32-r,$ye=(e,t,r)=>t<<r-32|e>>>64-r,Mye=(e,t,r)=>e<<r-32|t>>>64-r,Nf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Lye(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function A4(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function zo(e,t){return e<<32-t|e>>>t}const mL=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68;function Uye(e){return e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255}function bL(e){for(let t=0;t<e.length;t++)e[t]=Uye(e[t])}function qye(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function WE(e){return typeof e=="string"&&(e=qye(e)),tb(e),e}function zye(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];tb(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}let n7=class{clone(){return this._cloneInto()}};function BQ(e){const t=n=>e().update(WE(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Fye(e=32){if(Nf&&typeof Nf.getRandomValues=="function")return Nf.getRandomValues(new Uint8Array(e));if(Nf&&typeof Nf.randomBytes=="function")return Nf.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const RQ=[],kQ=[],NQ=[],Hye=BigInt(0),yg=BigInt(1),Wye=BigInt(2),Vye=BigInt(7),Gye=BigInt(256),Kye=BigInt(113);for(let e=0,t=yg,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],RQ.push(2*(5*n+r)),kQ.push((e+1)*(e+2)/2%64);let i=Hye;for(let s=0;s<7;s++)t=(t<<yg^(t>>Vye)*Kye)%Gye,t&Wye&&(i^=yg<<(yg<<BigInt(s))-yg);NQ.push(i)}const[Zye,Yye]=kye(NQ,!0),yL=(e,t,r)=>r>32?$ye(e,t,r):Nye(e,t,r),wL=(e,t,r)=>r>32?Mye(e,t,r):Dye(e,t,r);function Qye(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let o=0;o<10;o++)r[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],f=yL(u,l,1)^r[a],d=wL(u,l,1)^r[a+1];for(let h=0;h<50;h+=10)e[o+h]^=f,e[o+h+1]^=d}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=kQ[o],c=yL(i,s,a),u=wL(i,s,a),l=RQ[o];i=e[l],s=e[l+1],e[l]=c,e[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=Zye[n],e[1]^=Yye[n]}r.fill(0)}let Jye=class DQ extends n7{constructor(t,r,n,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,q5(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Lye(this.state)}keccak(){mL||bL(this.state32),Qye(this.state32,this.rounds),mL||bL(this.state32),this.posOut=0,this.pos=0}update(t){Xh(this);const{blockLen:r,state:n}=this;t=WE(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=t[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){Xh(this,!1),tb(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=t.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);t.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return q5(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(jQ(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new DQ(r,n,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}};const Xye=(e,t,r)=>BQ(()=>new Jye(t,e,r)),ewe=Xye(1,136,256/8);function $Q(e,t){const r=t||"hex",n=ewe(Dm(e,{strict:!1})?Sye(e):e);return r==="bytes"?n:Vx(n)}let twe=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const r=super.get(t);return super.has(t)&&r!==void 0&&(this.delete(t),super.set(t,r)),r}set(t,r){if(super.set(t,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const x4=new twe(8192);function rwe(e,t){if(x4.has(`${e}.${t}`))return x4.get(`${e}.${t}`);const r=e.substring(2).toLowerCase(),n=$Q(OQ(r),"bytes"),i=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return x4.set(`${e}.${t}`,s),s}function nwe(e){const t=$Q(`0x${e.substring(4)}`).substring(26);return rwe(`0x${t}`)}async function iwe({hash:e,signature:t}){const r=Dm(e)?e:Vx(e),{secp256k1:n}=await re(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>Gwe);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:l,v:f,yParity:d}=t,h=Number(d??f),g=vL(h);return new n.Signature(Wx(u),Wx(l)).addRecoveryBit(g)}const o=Dm(t)?t:Vx(t),a=_ye(`0x${o.slice(130)}`),c=vL(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function vL(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function swe({hash:e,signature:t}){return nwe(await iwe({hash:e,signature:t}))}function owe(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(0xffffffff),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}function awe(e,t,r){return e&t^~e&r}function cwe(e,t,r){return e&t^e&r^t&r}let uwe=class extends n7{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=A4(this.buffer)}update(t){Xh(this);const{view:r,buffer:n,blockLen:i}=this;t=WE(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=A4(t);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Xh(this),jQ(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;owe(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=A4(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%r&&t.buffer.set(n),t}};const lwe=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),Kc=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),Zc=new Uint32Array(64);let dwe=class extends uwe{constructor(){super(64,32,8,!1),this.A=Kc[0]|0,this.B=Kc[1]|0,this.C=Kc[2]|0,this.D=Kc[3]|0,this.E=Kc[4]|0,this.F=Kc[5]|0,this.G=Kc[6]|0,this.H=Kc[7]|0}get(){const{A:t,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[t,r,n,i,s,o,a,c]}set(t,r,n,i,s,o,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,r){for(let f=0;f<16;f++,r+=4)Zc[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){const d=Zc[f-15],h=Zc[f-2],g=zo(d,7)^zo(d,18)^d>>>3,p=zo(h,17)^zo(h,19)^h>>>10;Zc[f]=p+Zc[f-7]+g+Zc[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let f=0;f<64;f++){const d=zo(a,6)^zo(a,11)^zo(a,25),h=l+d+awe(a,c,u)+lwe[f]+Zc[f]|0,p=(zo(n,2)^zo(n,13)^zo(n,22))+cwe(n,i,s)|0;l=u,u=c,c=a,a=o+h|0,o=s,s=i,i=n,n=h+p|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,s,o,a,c,u,l)}roundClean(){Zc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const fwe=BQ(()=>new dwe);const VE=BigInt(0),GE=BigInt(1),hwe=BigInt(2);function bd(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function rb(e){if(!bd(e))throw new Error("Uint8Array expected")}function ep(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const pwe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function tp(e){rb(e);let t="";for(let r=0;r<e.length;r++)t+=pwe[e[r]];return t}function Ih(e){const t=e.toString(16);return t.length&1?"0"+t:t}function i7(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?VE:BigInt("0x"+e)}const za={_0:48,_9:57,A:65,F:70,a:97,f:102};function EL(e){if(e>=za._0&&e<=za._9)return e-za._0;if(e>=za.A&&e<=za.F)return e-(za.A-10);if(e>=za.a&&e<=za.f)return e-(za.a-10)}function rp(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=EL(e.charCodeAt(s)),a=EL(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function Xl(e){return i7(tp(e))}function s7(e){return rb(e),i7(tp(Uint8Array.from(e).reverse()))}function np(e,t){return rp(e.toString(16).padStart(t*2,"0"))}function o7(e,t){return np(e,t).reverse()}function gwe(e){return rp(Ih(e))}function bo(e,t,r){let n;if(typeof t=="string")try{n=rp(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(bd(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}function $m(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];rb(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}function mwe(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function bwe(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const I4=e=>typeof e=="bigint"&&VE<=e;function KE(e,t,r){return I4(e)&&I4(t)&&I4(r)&&t<=e&&e<r}function ed(e,t,r,n){if(!KE(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function MQ(e){let t;for(t=0;e>VE;e>>=GE,t+=1);return t}function ywe(e,t){return e>>BigInt(t)&GE}function wwe(e,t,r){return e|(r?GE:VE)<<BigInt(t)}const a7=e=>(hwe<<BigInt(e-1))-GE,P4=e=>new Uint8Array(e),_L=e=>Uint8Array.from(e);function LQ(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=P4(e),i=P4(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...f)=>r(i,n,...f),c=(f=P4())=>{i=a(_L([0]),f),n=a(),f.length!==0&&(i=a(_L([1]),f),n=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const d=[];for(;f<t;){n=a();const h=n.slice();d.push(h),f+=n.length}return $m(...d)};return(f,d)=>{o(),c(f);let h;for(;!(h=d(u()));)c();return o(),h}}const vwe={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||bd(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function nb(e,t,r={}){const n=(i,s,o)=>{const a=vwe[s];if(typeof a!="function")throw new Error("invalid validator function");const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(t))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return e}const Ewe=()=>{throw new Error("not implemented")};function Gx(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(i!==void 0)return i;const s=e(r,...n);return t.set(r,s),s}}const _we=Object.freeze(Object.defineProperty({__proto__:null,aInRange:ed,abool:ep,abytes:rb,bitGet:ywe,bitLen:MQ,bitMask:a7,bitSet:wwe,bytesToHex:tp,bytesToNumberBE:Xl,bytesToNumberLE:s7,concatBytes:$m,createHmacDrbg:LQ,ensureBytes:bo,equalBytes:mwe,hexToBytes:rp,hexToNumber:i7,inRange:KE,isBytes:bd,memoized:Gx,notImplemented:Ewe,numberToBytesBE:np,numberToBytesLE:o7,numberToHexUnpadded:Ih,numberToVarBytesBE:gwe,utf8ToBytes:bwe,validateObject:nb},Symbol.toStringTag,{value:"Module"}));let UQ=class extends n7{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,Bye(t);const n=WE(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?t.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return Xh(this),this.iHash.update(t),this}digestInto(t){Xh(this),tb(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const qQ=(e,t,r)=>new UQ(e,t).update(r).digest();qQ.create=(e,t)=>new UQ(e,t);const bn=BigInt(0),Sr=BigInt(1),Ol=BigInt(2),Cwe=BigInt(3),Kx=BigInt(4),CL=BigInt(5),AL=BigInt(8);function ki(e,t){const r=e%t;return r>=bn?r:t+r}function Awe(e,t,r){if(t<bn)throw new Error("invalid exponent, negatives unsupported");if(r<=bn)throw new Error("invalid modulus");if(r===Sr)return bn;let n=Sr;for(;t>bn;)t&Sr&&(n=n*e%r),e=e*e%r,t>>=Sr;return n}function Rs(e,t,r){let n=e;for(;t-- >bn;)n*=n,n%=r;return n}function Zx(e,t){if(e===bn)throw new Error("invert: expected non-zero number");if(t<=bn)throw new Error("invert: expected positive modulus, got "+t);let r=ki(e,t),n=t,i=bn,s=Sr;for(;r!==bn;){const a=n/r,c=n%r,u=i-s*a;n=r,r=c,i=s,s=u}if(n!==Sr)throw new Error("invert: does not exist");return ki(i,t)}function xwe(e){const t=(e-Sr)/Ol;let r,n,i;for(r=e-Sr,n=0;r%Ol===bn;r/=Ol,n++);for(i=Ol;i<e&&Awe(i,t,e)!==e-Sr;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(e+Sr)/Kx;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const s=(r+Sr)/Ol;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=n,l=a.pow(a.mul(a.ONE,i),r),f=a.pow(c,s),d=a.pow(c,r);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let h=1;for(let p=a.sqr(d);h<u&&!a.eql(p,a.ONE);h++)p=a.sqr(p);const g=a.pow(l,Sr<<BigInt(u-h-1));l=a.sqr(g),f=a.mul(f,g),d=a.mul(d,l),u=h}return f}}function Iwe(e){if(e%Kx===Cwe){const t=(e+Sr)/Kx;return function(n,i){const s=n.pow(i,t);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%AL===CL){const t=(e-CL)/AL;return function(n,i){const s=n.mul(i,Ol),o=n.pow(s,t),a=n.mul(i,o),c=n.mul(n.mul(a,Ol),o),u=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),i))throw new Error("Cannot find square root");return u}}return xwe(e)}const Pwe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Swe(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Pwe.reduce((n,i)=>(n[i]="function",n),t);return nb(e,r)}function Twe(e,t,r){if(r<bn)throw new Error("invalid exponent, negatives unsupported");if(r===bn)return e.ONE;if(r===Sr)return t;let n=e.ONE,i=t;for(;r>bn;)r&Sr&&(n=e.mul(n,i)),i=e.sqr(i),r>>=Sr;return n}function Owe(e,t){const r=new Array(t.length),n=t.reduce((s,o,a)=>e.is0(o)?s:(r[a]=s,e.mul(s,o)),e.ONE),i=e.inv(n);return t.reduceRight((s,o,a)=>e.is0(o)?s:(r[a]=e.mul(s,r[a]),e.mul(s,o)),i),r}function zQ(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function FQ(e,t,r=!1,n={}){if(e<=bn)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=zQ(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:r,BITS:i,BYTES:s,MASK:a7(i),ZERO:bn,ONE:Sr,create:c=>ki(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return bn<=c&&c<e},is0:c=>c===bn,isOdd:c=>(c&Sr)===Sr,neg:c=>ki(-c,e),eql:(c,u)=>c===u,sqr:c=>ki(c*c,e),add:(c,u)=>ki(c+u,e),sub:(c,u)=>ki(c-u,e),mul:(c,u)=>ki(c*u,e),pow:(c,u)=>Twe(a,c,u),div:(c,u)=>ki(c*Zx(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Zx(c,e),sqrt:n.sqrt||(c=>(o||(o=Iwe(e)),o(a,c))),invertBatch:c=>Owe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>r?o7(c,s):np(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?s7(c):Xl(c)}});return Object.freeze(a)}function HQ(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function WQ(e){const t=HQ(e);return t+Math.ceil(t/2)}function jwe(e,t,r=!1){const n=e.length,i=HQ(t),s=WQ(t);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?s7(e):Xl(e),a=ki(o,t-Sr)+Sr;return r?o7(a,i):np(a,i)}const xL=BigInt(0),p6=BigInt(1);function S4(e,t){const r=t.negate();return e?r:t}function VQ(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function T4(e,t){VQ(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1);return{windows:r,windowSize:n}}function Bwe(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function Rwe(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const O4=new WeakMap,GQ=new WeakMap;function j4(e){return GQ.get(e)||1}function kwe(e,t){return{constTimeNegate:S4,hasPrecomputes(r){return j4(r)!==1},unsafeLadder(r,n,i=e.ZERO){let s=r;for(;n>xL;)n&p6&&(i=i.add(s)),s=s.double(),n>>=p6;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=T4(n,t),o=[];let a=r,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let l=1;l<s;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=T4(r,t);let a=e.ZERO,c=e.BASE;const u=BigInt(2**r-1),l=2**r,f=BigInt(r);for(let d=0;d<s;d++){const h=d*o;let g=Number(i&u);i>>=f,g>o&&(g-=l,i+=p6);const p=h,b=h+Math.abs(g)-1,w=d%2!==0,y=g<0;g===0?c=c.add(S4(w,n[p])):a=a.add(S4(y,n[b]))}return{p:a,f:c}},wNAFUnsafe(r,n,i,s=e.ZERO){const{windows:o,windowSize:a}=T4(r,t),c=BigInt(2**r-1),u=2**r,l=BigInt(r);for(let f=0;f<o;f++){const d=f*a;if(i===xL)break;let h=Number(i&c);if(i>>=l,h>a&&(h-=u,i+=p6),h===0)continue;let g=n[d+Math.abs(h)-1];h<0&&(g=g.negate()),s=s.add(g)}return s},getPrecomputes(r,n,i){let s=O4.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&O4.set(n,i(s))),s},wNAFCached(r,n,i){const s=j4(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=j4(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){VQ(n,t),GQ.set(r,n),O4.delete(r)}}}function Nwe(e,t,r,n){if(Bwe(r,e),Rwe(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,s=MQ(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),u=Math.floor((t.BITS-1)/o)*o;let l=i;for(let f=u;f>=0;f-=o){c.fill(i);for(let h=0;h<n.length;h++){const g=n[h],p=Number(g>>BigInt(f)&BigInt(a));c[p]=c[p].add(r[h])}let d=i;for(let h=c.length-1,g=i;h>0;h--)g=g.add(c[h]),d=d.add(g);if(l=l.add(d),f!==0)for(let h=0;h<o;h++)l=l.double()}return l}function KQ(e){return Swe(e.Fp),nb(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...zQ(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function IL(e){e.lowS!==void 0&&ep("lowS",e.lowS),e.prehash!==void 0&&ep("prehash",e.prehash)}function Dwe(e){const t=KQ(e);nb(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:$we,hexToBytes:Mwe}=_we;let Lwe=class extends Error{constructor(t=""){super(t)}};const sc={Err:Lwe,_tlv:{encode:(e,t)=>{const{Err:r}=sc;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");const n=t.length/2,i=Ih(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?Ih(i.length/2|128):"";return Ih(e)+s+i+t},decode(e,t){const{Err:r}=sc;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const u=t.subarray(n,n+c);if(u.length!==c)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const l of u)o=o<<8|l;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=t.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+o)}}},_int:{encode(e){const{Err:t}=sc;if(e<dc)throw new t("integer: negative integers are not allowed");let r=Ih(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=sc;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return $we(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=sc,i=typeof e=="string"?Mwe(e):e;rb(i);const{v:s,l:o}=n.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:u,l}=n.decode(2,c);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(e){const{_tlv:t,_int:r}=sc,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s)),s=n+i;return t.encode(48,s)}},dc=BigInt(0),cn=BigInt(1);BigInt(2);const PL=BigInt(3);BigInt(4);function Uwe(e){const t=Dwe(e),{Fp:r}=t,n=FQ(t.n,t.nBitLength),i=t.toBytes||((p,b,w)=>{const y=b.toAffine();return $m(Uint8Array.from([4]),r.toBytes(y.x),r.toBytes(y.y))}),s=t.fromBytes||(p=>{const b=p.subarray(1),w=r.fromBytes(b.subarray(0,r.BYTES)),y=r.fromBytes(b.subarray(r.BYTES,2*r.BYTES));return{x:w,y}});function o(p){const{a:b,b:w}=t,y=r.sqr(p),v=r.mul(y,p);return r.add(r.add(v,r.mul(p,b)),w)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(p){return KE(p,cn,t.n)}function c(p){const{allowedPrivateKeyLengths:b,nByteLength:w,wrapPrivateKey:y,n:v}=t;if(b&&typeof p!="bigint"){if(bd(p)&&(p=tp(p)),typeof p!="string"||!b.includes(p.length))throw new Error("invalid private key");p=p.padStart(w*2,"0")}let m;try{m=typeof p=="bigint"?p:Xl(bo("private key",p,w))}catch{throw new Error("invalid private key, expected hex or "+w+" bytes, got "+typeof p)}return y&&(m=ki(m,v)),ed("private key",m,cn,v),m}function u(p){if(!(p instanceof d))throw new Error("ProjectivePoint expected")}const l=Gx((p,b)=>{const{px:w,py:y,pz:v}=p;if(r.eql(v,r.ONE))return{x:w,y};const m=p.is0();b==null&&(b=m?r.ONE:r.inv(v));const C=r.mul(w,b),E=r.mul(y,b),_=r.mul(v,b);if(m)return{x:r.ZERO,y:r.ZERO};if(!r.eql(_,r.ONE))throw new Error("invZ was invalid");return{x:C,y:E}}),f=Gx(p=>{if(p.is0()){if(t.allowInfinityPoint&&!r.is0(p.py))return;throw new Error("bad point: ZERO")}const{x:b,y:w}=p.toAffine();if(!r.isValid(b)||!r.isValid(w))throw new Error("bad point: x or y not FE");const y=r.sqr(w),v=o(b);if(!r.eql(y,v))throw new Error("bad point: equation left != right");if(!p.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(b,w,y){if(this.px=b,this.py=w,this.pz=y,b==null||!r.isValid(b))throw new Error("x required");if(w==null||!r.isValid(w))throw new Error("y required");if(y==null||!r.isValid(y))throw new Error("z required");Object.freeze(this)}static fromAffine(b){const{x:w,y}=b||{};if(!b||!r.isValid(w)||!r.isValid(y))throw new Error("invalid affine point");if(b instanceof d)throw new Error("projective point not allowed");const v=m=>r.eql(m,r.ZERO);return v(w)&&v(y)?d.ZERO:new d(w,y,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const w=r.invertBatch(b.map(y=>y.pz));return b.map((y,v)=>y.toAffine(w[v])).map(d.fromAffine)}static fromHex(b){const w=d.fromAffine(s(bo("pointHex",b)));return w.assertValidity(),w}static fromPrivateKey(b){return d.BASE.multiply(c(b))}static msm(b,w){return Nwe(d,n,b,w)}_setWindowSize(b){g.setWindowSize(this,b)}assertValidity(){f(this)}hasEvenY(){const{y:b}=this.toAffine();if(r.isOdd)return!r.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){u(b);const{px:w,py:y,pz:v}=this,{px:m,py:C,pz:E}=b,_=r.eql(r.mul(w,E),r.mul(m,v)),P=r.eql(r.mul(y,E),r.mul(C,v));return _&&P}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){const{a:b,b:w}=t,y=r.mul(w,PL),{px:v,py:m,pz:C}=this;let E=r.ZERO,_=r.ZERO,P=r.ZERO,x=r.mul(v,v),O=r.mul(m,m),D=r.mul(C,C),R=r.mul(v,m);return R=r.add(R,R),P=r.mul(v,C),P=r.add(P,P),E=r.mul(b,P),_=r.mul(y,D),_=r.add(E,_),E=r.sub(O,_),_=r.add(O,_),_=r.mul(E,_),E=r.mul(R,E),P=r.mul(y,P),D=r.mul(b,D),R=r.sub(x,D),R=r.mul(b,R),R=r.add(R,P),P=r.add(x,x),x=r.add(P,x),x=r.add(x,D),x=r.mul(x,R),_=r.add(_,x),D=r.mul(m,C),D=r.add(D,D),x=r.mul(D,R),E=r.sub(E,x),P=r.mul(D,O),P=r.add(P,P),P=r.add(P,P),new d(E,_,P)}add(b){u(b);const{px:w,py:y,pz:v}=this,{px:m,py:C,pz:E}=b;let _=r.ZERO,P=r.ZERO,x=r.ZERO;const O=t.a,D=r.mul(t.b,PL);let R=r.mul(w,m),k=r.mul(y,C),T=r.mul(v,E),S=r.add(w,y),I=r.add(m,C);S=r.mul(S,I),I=r.add(R,k),S=r.sub(S,I),I=r.add(w,v);let A=r.add(m,E);return I=r.mul(I,A),A=r.add(R,T),I=r.sub(I,A),A=r.add(y,v),_=r.add(C,E),A=r.mul(A,_),_=r.add(k,T),A=r.sub(A,_),x=r.mul(O,I),_=r.mul(D,T),x=r.add(_,x),_=r.sub(k,x),x=r.add(k,x),P=r.mul(_,x),k=r.add(R,R),k=r.add(k,R),T=r.mul(O,T),I=r.mul(D,I),k=r.add(k,T),T=r.sub(R,T),T=r.mul(O,T),I=r.add(I,T),R=r.mul(k,I),P=r.add(P,R),R=r.mul(A,I),_=r.mul(S,_),_=r.sub(_,R),R=r.mul(S,k),x=r.mul(A,x),x=r.add(x,R),new d(_,P,x)}subtract(b){return this.add(b.negate())}is0(){return this.equals(d.ZERO)}wNAF(b){return g.wNAFCached(this,b,d.normalizeZ)}multiplyUnsafe(b){const{endo:w,n:y}=t;ed("scalar",b,dc,y);const v=d.ZERO;if(b===dc)return v;if(this.is0()||b===cn)return this;if(!w||g.hasPrecomputes(this))return g.wNAFCachedUnsafe(this,b,d.normalizeZ);let{k1neg:m,k1:C,k2neg:E,k2:_}=w.splitScalar(b),P=v,x=v,O=this;for(;C>dc||_>dc;)C&cn&&(P=P.add(O)),_&cn&&(x=x.add(O)),O=O.double(),C>>=cn,_>>=cn;return m&&(P=P.negate()),E&&(x=x.negate()),x=new d(r.mul(x.px,w.beta),x.py,x.pz),P.add(x)}multiply(b){const{endo:w,n:y}=t;ed("scalar",b,cn,y);let v,m;if(w){const{k1neg:C,k1:E,k2neg:_,k2:P}=w.splitScalar(b);let{p:x,f:O}=this.wNAF(E),{p:D,f:R}=this.wNAF(P);x=g.constTimeNegate(C,x),D=g.constTimeNegate(_,D),D=new d(r.mul(D.px,w.beta),D.py,D.pz),v=x.add(D),m=O.add(R)}else{const{p:C,f:E}=this.wNAF(b);v=C,m=E}return d.normalizeZ([v,m])[0]}multiplyAndAddUnsafe(b,w,y){const v=d.BASE,m=(E,_)=>_===dc||_===cn||!E.equals(v)?E.multiplyUnsafe(_):E.multiply(_),C=m(this,w).add(m(b,y));return C.is0()?void 0:C}toAffine(b){return l(this,b)}isTorsionFree(){const{h:b,isTorsionFree:w}=t;if(b===cn)return!0;if(w)return w(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:w}=t;return b===cn?this:w?w(d,this):this.multiplyUnsafe(t.h)}toRawBytes(b=!0){return ep("isCompressed",b),this.assertValidity(),i(d,this,b)}toHex(b=!0){return ep("isCompressed",b),tp(this.toRawBytes(b))}}d.BASE=new d(t.Gx,t.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);const h=t.nBitLength,g=kwe(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function qwe(e){const t=KQ(e);return nb(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function zwe(e){const t=qwe(e),{Fp:r,n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function o(T){return ki(T,n)}function a(T){return Zx(T,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:f}=Uwe({...t,toBytes(T,S,I){const A=S.toAffine(),j=r.toBytes(A.x),N=$m;return ep("isCompressed",I),I?N(Uint8Array.from([S.hasEvenY()?2:3]),j):N(Uint8Array.from([4]),j,r.toBytes(A.y))},fromBytes(T){const S=T.length,I=T[0],A=T.subarray(1);if(S===i&&(I===2||I===3)){const j=Xl(A);if(!KE(j,cn,r.ORDER))throw new Error("Point is not on curve");const N=l(j);let B;try{B=r.sqrt(N)}catch(L){const q=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+q)}const $=(B&cn)===cn;return(I&1)===1!==$&&(B=r.neg(B)),{x:j,y:B}}else if(S===s&&I===4){const j=r.fromBytes(A.subarray(0,r.BYTES)),N=r.fromBytes(A.subarray(r.BYTES,2*r.BYTES));return{x:j,y:N}}else{const j=i,N=s;throw new Error("invalid Point, expected length of "+j+", or uncompressed "+N+", got "+S)}}}),d=T=>tp(np(T,t.nByteLength));function h(T){const S=n>>cn;return T>S}function g(T){return h(T)?o(-T):T}const p=(T,S,I)=>Xl(T.slice(S,I));class b{constructor(S,I,A){this.r=S,this.s=I,this.recovery=A,this.assertValidity()}static fromCompact(S){const I=t.nByteLength;return S=bo("compactSignature",S,I*2),new b(p(S,0,I),p(S,I,2*I))}static fromDER(S){const{r:I,s:A}=sc.toSig(bo("DER",S));return new b(I,A)}assertValidity(){ed("r",this.r,cn,n),ed("s",this.s,cn,n)}addRecoveryBit(S){return new b(this.r,this.s,S)}recoverPublicKey(S){const{r:I,s:A,recovery:j}=this,N=E(bo("msgHash",S));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const B=j===2||j===3?I+t.n:I;if(B>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const $=(j&1)===0?"02":"03",M=c.fromHex($+d(B)),L=a(B),q=o(-N*L),U=o(A*L),F=c.BASE.multiplyAndAddUnsafe(M,q,U);if(!F)throw new Error("point at infinify");return F.assertValidity(),F}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return rp(this.toDERHex())}toDERHex(){return sc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return rp(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const w={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=WQ(t.n);return jwe(t.randomBytes(T),t.n)},precompute(T=8,S=c.BASE){return S._setWindowSize(T),S.multiply(BigInt(3)),S}};function y(T,S=!0){return c.fromPrivateKey(T).toRawBytes(S)}function v(T){const S=bd(T),I=typeof T=="string",A=(S||I)&&T.length;return S?A===i||A===s:I?A===2*i||A===2*s:T instanceof c}function m(T,S,I=!0){if(v(T))throw new Error("first arg must be private key");if(!v(S))throw new Error("second arg must be public key");return c.fromHex(S).multiply(u(T)).toRawBytes(I)}const C=t.bits2int||function(T){if(T.length>8192)throw new Error("input is too large");const S=Xl(T),I=T.length*8-t.nBitLength;return I>0?S>>BigInt(I):S},E=t.bits2int_modN||function(T){return o(C(T))},_=a7(t.nBitLength);function P(T){return ed("num < 2^"+t.nBitLength,T,dc,_),np(T,t.nByteLength)}function x(T,S,I=O){if(["recovered","canonical"].some(V=>V in I))throw new Error("sign() legacy options not supported");const{hash:A,randomBytes:j}=t;let{lowS:N,prehash:B,extraEntropy:$}=I;N==null&&(N=!0),T=bo("msgHash",T),IL(I),B&&(T=bo("prehashed msgHash",A(T)));const M=E(T),L=u(S),q=[P(L),P(M)];if($!=null&&$!==!1){const V=$===!0?j(r.BYTES):$;q.push(bo("extraEntropy",V))}const U=$m(...q),F=M;function H(V){const W=C(V);if(!f(W))return;const Z=a(W),X=c.BASE.multiply(W).toAffine(),ue=o(X.x);if(ue===dc)return;const Y=o(Z*o(F+ue*L));if(Y===dc)return;let Q=(X.x===ue?0:2)|Number(X.y&cn),ae=Y;return N&&h(Y)&&(ae=g(Y),Q^=1),new b(ue,ae,Q)}return{seed:U,k2sig:H}}const O={lowS:t.lowS,prehash:!1},D={lowS:t.lowS,prehash:!1};function R(T,S,I=O){const{seed:A,k2sig:j}=x(T,S,I),N=t;return LQ(N.hash.outputLen,N.nByteLength,N.hmac)(A,j)}c.BASE._setWindowSize(8);function k(T,S,I,A=D){const j=T;S=bo("msgHash",S),I=bo("publicKey",I);const{lowS:N,prehash:B,format:$}=A;if(IL(A),"strict"in A)throw new Error("options.strict was renamed to lowS");if($!==void 0&&$!=="compact"&&$!=="der")throw new Error("format must be compact or der");const M=typeof j=="string"||bd(j),L=!M&&!$&&typeof j=="object"&&j!==null&&typeof j.r=="bigint"&&typeof j.s=="bigint";if(!M&&!L)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let q,U;try{if(L&&(q=new b(j.r,j.s)),M){try{$!=="compact"&&(q=b.fromDER(j))}catch(Q){if(!(Q instanceof sc.Err))throw Q}!q&&$!=="der"&&(q=b.fromCompact(j))}U=c.fromHex(I)}catch{return!1}if(!q||N&&q.hasHighS())return!1;B&&(S=t.hash(S));const{r:F,s:H}=q,V=E(S),W=a(H),Z=o(V*W),X=o(F*W),ue=c.BASE.multiplyAndAddUnsafe(U,Z,X)?.toAffine();return ue?o(ue.x)===F:!1}return{CURVE:t,getPublicKey:y,getSharedSecret:m,sign:R,verify:k,ProjectivePoint:c,Signature:b,utils:w}}function Fwe(e){return{hash:e,hmac:(t,...r)=>qQ(e,t,zye(...r)),randomBytes:Fye}}function Hwe(e,t){const r=n=>zwe({...e,...Fwe(n)});return{...r(t),create:r}}const ZQ=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),SL=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Wwe=BigInt(1),Yx=BigInt(2),TL=(e,t)=>(e+t/Yx)/t;function Vwe(e){const t=ZQ,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,f=Rs(l,r,t)*l%t,d=Rs(f,r,t)*l%t,h=Rs(d,Yx,t)*u%t,g=Rs(h,i,t)*h%t,p=Rs(g,s,t)*g%t,b=Rs(p,a,t)*p%t,w=Rs(b,c,t)*b%t,y=Rs(w,a,t)*p%t,v=Rs(y,r,t)*l%t,m=Rs(v,o,t)*g%t,C=Rs(m,n,t)*u%t,E=Rs(C,Yx,t);if(!Qx.eql(Qx.sqr(E),e))throw new Error("Cannot find square root");return E}const Qx=FQ(ZQ,void 0,void 0,{sqrt:Vwe}),YQ=Hwe({a:BigInt(0),b:BigInt(7),Fp:Qx,n:SL,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=SL,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Wwe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=TL(s*e,t),c=TL(-n*e,t);let u=ki(e-a*r-c*i,t),l=ki(-a*n-c*s,t);const f=u>o,d=l>o;if(f&&(u=t-u),d&&(l=t-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:d,k2:l}}}},fwe);BigInt(0);YQ.ProjectivePoint;const Gwe=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:YQ},Symbol.toStringTag,{value:"Module"})),Kwe=e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString()+"n":r),Zwe=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=e.replace(t,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Cc(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return Zwe(e)}catch{return e}}function ga(e){return typeof e=="string"?e:Kwe(e)||""}function Ywe(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function QQ(e,...t){if(!Ywe(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function OL(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Qwe(e,t){QQ(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const Df=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const B4=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function Jwe(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function JQ(e){return typeof e=="string"&&(e=Jwe(e)),QQ(e),e}let Xwe=class{clone(){return this._cloneInto()}};function eve(e){const t=n=>e().update(JQ(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function XQ(e=32){if(Df&&typeof Df.getRandomValues=="function")return Df.getRandomValues(new Uint8Array(e));if(Df&&typeof Df.randomBytes=="function")return Df.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function tve(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(0xffffffff),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}let rve=class extends Xwe{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=B4(this.buffer)}update(t){OL(this);const{view:r,buffer:n,blockLen:i}=this;t=JQ(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=B4(t);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){OL(this),Qwe(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;tve(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=B4(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%r&&t.buffer.set(n),t}};const g6=BigInt(2**32-1),Jx=BigInt(32);function eJ(e,t=!1){return t?{h:Number(e&g6),l:Number(e>>Jx&g6)}:{h:Number(e>>Jx&g6)|0,l:Number(e&g6)|0}}function nve(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=eJ(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}const ive=(e,t)=>BigInt(e>>>0)<<Jx|BigInt(t>>>0),sve=(e,t,r)=>e>>>r,ove=(e,t,r)=>e<<32-r|t>>>r,ave=(e,t,r)=>e>>>r|t<<32-r,cve=(e,t,r)=>e<<32-r|t>>>r,uve=(e,t,r)=>e<<64-r|t>>>r-32,lve=(e,t,r)=>e>>>r-32|t<<64-r,dve=(e,t)=>t,fve=(e,t)=>e,hve=(e,t,r)=>e<<r|t>>>32-r,pve=(e,t,r)=>t<<r|e>>>32-r,gve=(e,t,r)=>t<<r-32|e>>>64-r,mve=(e,t,r)=>e<<r-32|t>>>64-r;function bve(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}const yve=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),wve=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,vve=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),Eve=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,_ve=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Cve=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,rt={fromBig:eJ,split:nve,toBig:ive,shrSH:sve,shrSL:ove,rotrSH:ave,rotrSL:cve,rotrBH:uve,rotrBL:lve,rotr32H:dve,rotr32L:fve,rotlSH:hve,rotlSL:pve,rotlBH:gve,rotlBL:mve,add:bve,add3L:yve,add3H:wve,add4L:vve,add4H:Eve,add5H:Cve,add5L:_ve},[Ave,xve]=rt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Yc=new Uint32Array(80),Qc=new Uint32Array(80);let Ive=class extends rve{constructor(){super(128,64,16,!1),this.Ah=0x6a09e667,this.Al=-0xc4336f8,this.Bh=-0x4498517b,this.Bl=-0x7b3558c5,this.Ch=0x3c6ef372,this.Cl=-0x16b07d5,this.Dh=-0x5ab00ac6,this.Dl=0x5f1d36f1,this.Eh=0x510e527f,this.El=-0x52197d2f,this.Fh=-0x64fa9774,this.Fl=0x2b3e6c1f,this.Gh=0x1f83d9ab,this.Gl=-0x4be4295,this.Hh=0x5be0cd19,this.Hl=0x137e2179}get(){const{Ah:t,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:f,Fl:d,Gh:h,Gl:g,Hh:p,Hl:b}=this;return[t,r,n,i,s,o,a,c,u,l,f,d,h,g,p,b]}set(t,r,n,i,s,o,a,c,u,l,f,d,h,g,p,b){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=f|0,this.Fl=d|0,this.Gh=h|0,this.Gl=g|0,this.Hh=p|0,this.Hl=b|0}process(t,r){for(let v=0;v<16;v++,r+=4)Yc[v]=t.getUint32(r),Qc[v]=t.getUint32(r+=4);for(let v=16;v<80;v++){const m=Yc[v-15]|0,C=Qc[v-15]|0,E=rt.rotrSH(m,C,1)^rt.rotrSH(m,C,8)^rt.shrSH(m,C,7),_=rt.rotrSL(m,C,1)^rt.rotrSL(m,C,8)^rt.shrSL(m,C,7),P=Yc[v-2]|0,x=Qc[v-2]|0,O=rt.rotrSH(P,x,19)^rt.rotrBH(P,x,61)^rt.shrSH(P,x,6),D=rt.rotrSL(P,x,19)^rt.rotrBL(P,x,61)^rt.shrSL(P,x,6),R=rt.add4L(_,D,Qc[v-7],Qc[v-16]),k=rt.add4H(R,E,O,Yc[v-7],Yc[v-16]);Yc[v]=k|0,Qc[v]=R|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:f,El:d,Fh:h,Fl:g,Gh:p,Gl:b,Hh:w,Hl:y}=this;for(let v=0;v<80;v++){const m=rt.rotrSH(f,d,14)^rt.rotrSH(f,d,18)^rt.rotrBH(f,d,41),C=rt.rotrSL(f,d,14)^rt.rotrSL(f,d,18)^rt.rotrBL(f,d,41),E=f&h^~f&p,_=d&g^~d&b,P=rt.add5L(y,C,_,xve[v],Qc[v]),x=rt.add5H(P,w,m,E,Ave[v],Yc[v]),O=P|0,D=rt.rotrSH(n,i,28)^rt.rotrBH(n,i,34)^rt.rotrBH(n,i,39),R=rt.rotrSL(n,i,28)^rt.rotrBL(n,i,34)^rt.rotrBL(n,i,39),k=n&s^n&a^s&a,T=i&o^i&c^o&c;w=p|0,y=b|0,p=h|0,b=g|0,h=f|0,g=d|0,{h:f,l:d}=rt.add(u|0,l|0,x|0,O|0),u=a|0,l=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const S=rt.add3L(O,R,T);n=rt.add3H(S,x,D,k),i=S|0}({h:n,l:i}=rt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=rt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=rt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=rt.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:f,l:d}=rt.add(this.Eh|0,this.El|0,f|0,d|0),{h,l:g}=rt.add(this.Fh|0,this.Fl|0,h|0,g|0),{h:p,l:b}=rt.add(this.Gh|0,this.Gl|0,p|0,b|0),{h:w,l:y}=rt.add(this.Hh|0,this.Hl|0,w|0,y|0),this.set(n,i,s,o,a,c,u,l,f,d,h,g,p,b,w,y)}roundClean(){Yc.fill(0),Qc.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Pve=eve(()=>new Ive);const c7=BigInt(0),tJ=BigInt(1),Sve=BigInt(2);function u7(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function l7(e){if(!u7(e))throw new Error("Uint8Array expected")}function R4(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const Tve=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function d7(e){l7(e);let t="";for(let r=0;r<e.length;r++)t+=Tve[e[r]];return t}function rJ(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?c7:BigInt("0x"+e)}const Fa={_0:48,_9:57,A:65,F:70,a:97,f:102};function jL(e){if(e>=Fa._0&&e<=Fa._9)return e-Fa._0;if(e>=Fa.A&&e<=Fa.F)return e-(Fa.A-10);if(e>=Fa.a&&e<=Fa.f)return e-(Fa.a-10)}function nJ(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=jL(e.charCodeAt(s)),a=jL(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function Ove(e){return rJ(d7(e))}function J6(e){return l7(e),rJ(d7(Uint8Array.from(e).reverse()))}function iJ(e,t){return nJ(e.toString(16).padStart(t*2,"0"))}function Xx(e,t){return iJ(e,t).reverse()}function Ha(e,t,r){let n;if(typeof t=="string")try{n=nJ(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(u7(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}function BL(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];l7(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}const k4=e=>typeof e=="bigint"&&c7<=e;function jve(e,t,r){return k4(e)&&k4(t)&&k4(r)&&t<=e&&e<r}function wg(e,t,r,n){if(!jve(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function Bve(e){let t;for(t=0;e>c7;e>>=tJ,t+=1);return t}const Rve=e=>(Sve<<BigInt(e-1))-tJ,kve={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||u7(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function f7(e,t,r={}){const n=(i,s,o)=>{const a=kve[s];if(typeof a!="function")throw new Error("invalid validator function");const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(t))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return e}function RL(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(i!==void 0)return i;const s=e(r,...n);return t.set(r,s),s}}const yn=BigInt(0),Tr=BigInt(1),jl=BigInt(2),Nve=BigInt(3),eI=BigInt(4),kL=BigInt(5),NL=BigInt(8);function Zr(e,t){const r=e%t;return r>=yn?r:t+r}function Dve(e,t,r){if(t<yn)throw new Error("invalid exponent, negatives unsupported");if(r<=yn)throw new Error("invalid modulus");if(r===Tr)return yn;let n=Tr;for(;t>yn;)t&Tr&&(n=n*e%r),e=e*e%r,t>>=Tr;return n}function Fo(e,t,r){let n=e;for(;t-- >yn;)n*=n,n%=r;return n}function DL(e,t){if(e===yn)throw new Error("invert: expected non-zero number");if(t<=yn)throw new Error("invert: expected positive modulus, got "+t);let r=Zr(e,t),n=t,i=yn,s=Tr;for(;r!==yn;){const o=n/r,a=n%r,c=i-s*o;n=r,r=a,i=s,s=c}if(n!==Tr)throw new Error("invert: does not exist");return Zr(i,t)}function $ve(e){const t=(e-Tr)/jl;let r,n,i;for(r=e-Tr,n=0;r%jl===yn;r/=jl,n++);for(i=jl;i<e&&Dve(i,t,e)!==e-Tr;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(e+Tr)/eI;return function(a,c){const u=a.pow(c,o);if(!a.eql(a.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(r+Tr)/jl;return function(o,a){if(o.pow(a,t)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,u=o.pow(o.mul(o.ONE,i),r),l=o.pow(a,s),f=o.pow(a,r);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let d=1;for(let g=o.sqr(f);d<c&&!o.eql(g,o.ONE);d++)g=o.sqr(g);const h=o.pow(u,Tr<<BigInt(c-d-1));u=o.sqr(h),l=o.mul(l,h),f=o.mul(f,u),c=d}return l}}function Mve(e){if(e%eI===Nve){const t=(e+Tr)/eI;return function(r,n){const i=r.pow(n,t);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(e%NL===kL){const t=(e-kL)/NL;return function(r,n){const i=r.mul(n,jl),s=r.pow(i,t),o=r.mul(n,s),a=r.mul(r.mul(o,jl),s),c=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return $ve(e)}const Lve=(e,t)=>(Zr(e,t)&Tr)===Tr,Uve=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function qve(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Uve.reduce((n,i)=>(n[i]="function",n),t);return f7(e,r)}function zve(e,t,r){if(r<yn)throw new Error("invalid exponent, negatives unsupported");if(r===yn)return e.ONE;if(r===Tr)return t;let n=e.ONE,i=t;for(;r>yn;)r&Tr&&(n=e.mul(n,i)),i=e.sqr(i),r>>=Tr;return n}function Fve(e,t){const r=new Array(t.length),n=t.reduce((s,o,a)=>e.is0(o)?s:(r[a]=s,e.mul(s,o)),e.ONE),i=e.inv(n);return t.reduceRight((s,o,a)=>e.is0(o)?s:(r[a]=e.mul(s,r[a]),e.mul(s,o)),i),r}function sJ(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function oJ(e,t,r=!1,n={}){if(e<=yn)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=sJ(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:r,BITS:i,BYTES:s,MASK:Rve(i),ZERO:yn,ONE:Tr,create:c=>Zr(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return yn<=c&&c<e},is0:c=>c===yn,isOdd:c=>(c&Tr)===Tr,neg:c=>Zr(-c,e),eql:(c,u)=>c===u,sqr:c=>Zr(c*c,e),add:(c,u)=>Zr(c+u,e),sub:(c,u)=>Zr(c-u,e),mul:(c,u)=>Zr(c*u,e),pow:(c,u)=>zve(a,c,u),div:(c,u)=>Zr(c*DL(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>DL(c,e),sqrt:n.sqrt||(c=>(o||(o=Mve(e)),o(a,c))),invertBatch:c=>Fve(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>r?Xx(c,s):iJ(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?J6(c):Ove(c)}});return Object.freeze(a)}const $L=BigInt(0),m6=BigInt(1);function N4(e,t){const r=t.negate();return e?r:t}function aJ(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function D4(e,t){aJ(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1);return{windows:r,windowSize:n}}function Hve(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function Wve(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const $4=new WeakMap,cJ=new WeakMap;function M4(e){return cJ.get(e)||1}function Vve(e,t){return{constTimeNegate:N4,hasPrecomputes(r){return M4(r)!==1},unsafeLadder(r,n,i=e.ZERO){let s=r;for(;n>$L;)n&m6&&(i=i.add(s)),s=s.double(),n>>=m6;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=D4(n,t),o=[];let a=r,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let l=1;l<s;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=D4(r,t);let a=e.ZERO,c=e.BASE;const u=BigInt(2**r-1),l=2**r,f=BigInt(r);for(let d=0;d<s;d++){const h=d*o;let g=Number(i&u);i>>=f,g>o&&(g-=l,i+=m6);const p=h,b=h+Math.abs(g)-1,w=d%2!==0,y=g<0;g===0?c=c.add(N4(w,n[p])):a=a.add(N4(y,n[b]))}return{p:a,f:c}},wNAFUnsafe(r,n,i,s=e.ZERO){const{windows:o,windowSize:a}=D4(r,t),c=BigInt(2**r-1),u=2**r,l=BigInt(r);for(let f=0;f<o;f++){const d=f*a;if(i===$L)break;let h=Number(i&c);if(i>>=l,h>a&&(h-=u,i+=m6),h===0)continue;let g=n[d+Math.abs(h)-1];h<0&&(g=g.negate()),s=s.add(g)}return s},getPrecomputes(r,n,i){let s=$4.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&$4.set(n,i(s))),s},wNAFCached(r,n,i){const s=M4(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=M4(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){aJ(n,t),cJ.set(r,n),$4.delete(r)}}}function Gve(e,t,r,n){if(Hve(r,e),Wve(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,s=Bve(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),u=Math.floor((t.BITS-1)/o)*o;let l=i;for(let f=u;f>=0;f-=o){c.fill(i);for(let h=0;h<n.length;h++){const g=n[h],p=Number(g>>BigInt(f)&BigInt(a));c[p]=c[p].add(r[h])}let d=i;for(let h=c.length-1,g=i;h>0;h--)g=g.add(c[h]),d=d.add(g);if(l=l.add(d),f!==0)for(let h=0;h<o;h++)l=l.double()}return l}function Kve(e){return qve(e.Fp),f7(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...sJ(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const so=BigInt(0),_i=BigInt(1),b6=BigInt(2),Zve=BigInt(8),Yve={zip215:!0};function Qve(e){const t=Kve(e);return f7(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function Jve(e){const t=Qve(e),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=t,u=b6<<BigInt(a*8)-_i,l=r.create,f=oJ(t.n,t.nBitLength),d=t.uvRatio||((S,I)=>{try{return{isValid:!0,value:r.sqrt(S*r.inv(I))}}catch{return{isValid:!1,value:so}}}),h=t.adjustScalarBytes||(S=>S),g=t.domain||((S,I,A)=>{if(R4("phflag",A),I.length||A)throw new Error("Contexts/pre-hash are not supported");return S});function p(S,I){wg("coordinate "+S,I,so,u)}function b(S){if(!(S instanceof v))throw new Error("ExtendedPoint expected")}const w=RL((S,I)=>{const{ex:A,ey:j,ez:N}=S,B=S.is0();I==null&&(I=B?Zve:r.inv(N));const $=l(A*I),M=l(j*I),L=l(N*I);if(B)return{x:so,y:_i};if(L!==_i)throw new Error("invZ was invalid");return{x:$,y:M}}),y=RL(S=>{const{a:I,d:A}=t;if(S.is0())throw new Error("bad point: ZERO");const{ex:j,ey:N,ez:B,et:$}=S,M=l(j*j),L=l(N*N),q=l(B*B),U=l(q*q),F=l(M*I),H=l(q*l(F+L)),V=l(U+l(A*l(M*L)));if(H!==V)throw new Error("bad point: equation left != right (1)");const W=l(j*N),Z=l(B*$);if(W!==Z)throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(I,A,j,N){this.ex=I,this.ey=A,this.ez=j,this.et=N,p("x",I),p("y",A),p("z",j),p("t",N),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(I){if(I instanceof v)throw new Error("extended point not allowed");const{x:A,y:j}=I||{};return p("x",A),p("y",j),new v(A,j,_i,l(A*j))}static normalizeZ(I){const A=r.invertBatch(I.map(j=>j.ez));return I.map((j,N)=>j.toAffine(A[N])).map(v.fromAffine)}static msm(I,A){return Gve(v,f,I,A)}_setWindowSize(I){E.setWindowSize(this,I)}assertValidity(){y(this)}equals(I){b(I);const{ex:A,ey:j,ez:N}=this,{ex:B,ey:$,ez:M}=I,L=l(A*M),q=l(B*N),U=l(j*M),F=l($*N);return L===q&&U===F}is0(){return this.equals(v.ZERO)}negate(){return new v(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:I}=t,{ex:A,ey:j,ez:N}=this,B=l(A*A),$=l(j*j),M=l(b6*l(N*N)),L=l(I*B),q=A+j,U=l(l(q*q)-B-$),F=L+$,H=F-M,V=L-$,W=l(U*H),Z=l(F*V),X=l(U*V),ue=l(H*F);return new v(W,Z,ue,X)}add(I){b(I);const{a:A,d:j}=t,{ex:N,ey:B,ez:$,et:M}=this,{ex:L,ey:q,ez:U,et:F}=I;if(A===BigInt(-1)){const Pe=l((B-N)*(q+L)),fe=l((B+N)*(q-L)),ce=l(fe-Pe);if(ce===so)return this.double();const Qe=l($*b6*F),Ke=l(M*b6*U),Ft=Ke+Qe,At=fe+Pe,xr=Ke-Qe,Ht=l(Ft*ce),et=l(At*xr),Ir=l(Ft*xr),hr=l(ce*At);return new v(Ht,et,hr,Ir)}const H=l(N*L),V=l(B*q),W=l(M*j*F),Z=l($*U),X=l((N+B)*(L+q)-H-V),ue=Z-W,Y=Z+W,Q=l(V-A*H),ae=l(X*ue),he=l(Y*Q),pe=l(X*Q),be=l(ue*Y);return new v(ae,he,be,pe)}subtract(I){return this.add(I.negate())}wNAF(I){return E.wNAFCached(this,I,v.normalizeZ)}multiply(I){const A=I;wg("scalar",A,_i,n);const{p:j,f:N}=this.wNAF(A);return v.normalizeZ([j,N])[0]}multiplyUnsafe(I,A=v.ZERO){const j=I;return wg("scalar",j,so,n),j===so?C:this.is0()||j===_i?this:E.wNAFCachedUnsafe(this,j,v.normalizeZ,A)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return E.unsafeLadder(this,n).is0()}toAffine(I){return w(this,I)}clearCofactor(){const{h:I}=t;return I===_i?this:this.multiplyUnsafe(I)}static fromHex(I,A=!1){const{d:j,a:N}=t,B=r.BYTES;I=Ha("pointHex",I,B),R4("zip215",A);const $=I.slice(),M=I[B-1];$[B-1]=M&-129;const L=J6($),q=A?u:r.ORDER;wg("pointHex.y",L,so,q);const U=l(L*L),F=l(U-_i),H=l(j*U-N);let{isValid:V,value:W}=d(F,H);if(!V)throw new Error("Point.fromHex: invalid y coordinate");const Z=(W&_i)===_i,X=(M&128)!==0;if(!A&&W===so&&X)throw new Error("Point.fromHex: x=0 and x_0=1");return X!==Z&&(W=l(-W)),v.fromAffine({x:W,y:L})}static fromPrivateKey(I){return x(I).point}toRawBytes(){const{x:I,y:A}=this.toAffine(),j=Xx(A,r.BYTES);return j[j.length-1]|=I&_i?128:0,j}toHex(){return d7(this.toRawBytes())}}v.BASE=new v(t.Gx,t.Gy,_i,l(t.Gx*t.Gy)),v.ZERO=new v(so,_i,_i,so);const{BASE:m,ZERO:C}=v,E=Vve(v,a*8);function _(S){return Zr(S,n)}function P(S){return _(J6(S))}function x(S){const I=r.BYTES;S=Ha("private key",S,I);const A=Ha("hashed private key",s(S),2*I),j=h(A.slice(0,I)),N=A.slice(I,2*I),B=P(j),$=m.multiply(B),M=$.toRawBytes();return{head:j,prefix:N,scalar:B,point:$,pointBytes:M}}function O(S){return x(S).pointBytes}function D(S=new Uint8Array,...I){const A=BL(...I);return P(s(g(A,Ha("context",S),!!i)))}function R(S,I,A={}){S=Ha("message",S),i&&(S=i(S));const{prefix:j,scalar:N,pointBytes:B}=x(I),$=D(A.context,j,S),M=m.multiply($).toRawBytes(),L=D(A.context,M,B,S),q=_($+L*N);wg("signature.s",q,so,n);const U=BL(M,Xx(q,r.BYTES));return Ha("result",U,r.BYTES*2)}const k=Yve;function T(S,I,A,j=k){const{context:N,zip215:B}=j,$=r.BYTES;S=Ha("signature",S,2*$),I=Ha("message",I),A=Ha("publicKey",A,$),B!==void 0&&R4("zip215",B),i&&(I=i(I));const M=J6(S.slice($,2*$));let L,q,U;try{L=v.fromHex(A,B),q=v.fromHex(S.slice(0,$),B),U=m.multiplyUnsafe(M)}catch{return!1}if(!B&&L.isSmallOrder())return!1;const F=D(N,q.toRawBytes(),L.toRawBytes(),I);return q.add(L.multiplyUnsafe(F)).subtract(U).clearCofactor().equals(v.ZERO)}return m._setWindowSize(8),{CURVE:t,getPublicKey:O,sign:R,verify:T,ExtendedPoint:v,utils:{getExtendedPublicKey:x,randomPrivateKey:()=>o(r.BYTES),precompute(S=8,I=v.BASE){return I._setWindowSize(S),I.multiply(BigInt(3)),I}}}}BigInt(0),BigInt(1);const h7=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ML=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Xve=BigInt(1),LL=BigInt(2);BigInt(3);const e2e=BigInt(5),t2e=BigInt(8);function r2e(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=h7,o=e*e%s*e%s,a=Fo(o,LL,s)*o%s,c=Fo(a,Xve,s)*e%s,u=Fo(c,e2e,s)*c%s,l=Fo(u,t,s)*u%s,f=Fo(l,r,s)*l%s,d=Fo(f,n,s)*f%s,h=Fo(d,i,s)*d%s,g=Fo(h,i,s)*d%s,p=Fo(g,t,s)*u%s;return{pow_p_5_8:Fo(p,LL,s)*e%s,b2:o}}function n2e(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function i2e(e,t){const r=h7,n=Zr(t*t*t,r),i=Zr(n*n*t,r),s=r2e(e*i).pow_p_5_8;let o=Zr(e*n*s,r);const a=Zr(t*o*o,r),c=o,u=Zr(o*ML,r),l=a===e,f=a===Zr(-e,r),d=a===Zr(-e*ML,r);return l&&(o=c),(f||d)&&(o=u),Lve(o,r)&&(o=Zr(-o,r)),{isValid:l||f,value:o}}const s2e=oJ(h7,void 0,!0),o2e={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:s2e,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:t2e,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Pve,randomBytes:XQ,adjustScalarBytes:n2e,uvRatio:i2e},uJ=Jve(o2e),a2e="EdDSA",c2e="JWT",z5=".",ZE="base64url",lJ="utf8",dJ="utf8",u2e=":",l2e="did",d2e="key",UL="base58btc",f2e="z",h2e="K36",p2e=32;function p7(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function fJ(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?p7(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function hJ(e,t){t||(t=e.reduce((i,s)=>i+s.length,0));const r=fJ(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return p7(r)}function g2e(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var p=0,b=0,w=0,y=g.length;w!==y&&g[w]===0;)w++,p++;for(var v=(y-w)*l+1>>>0,m=new Uint8Array(v);w!==y;){for(var C=g[w],E=0,_=v-1;(C!==0||E<b)&&_!==-1;_--,E++)C+=256*m[_]>>>0,m[_]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");b=E,w++}for(var P=v-b;P!==v&&m[P]===0;)P++;for(var x=c.repeat(p);P<v;++P)x+=e.charAt(m[P]);return x}function d(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var p=0;if(g[p]!==" "){for(var b=0,w=0;g[p]===c;)b++,p++;for(var y=(g.length-p)*u+1>>>0,v=new Uint8Array(y);g[p];){var m=r[g.charCodeAt(p)];if(m===255)return;for(var C=0,E=y-1;(m!==0||C<w)&&E!==-1;E--,C++)m+=a*v[E]>>>0,v[E]=m%256>>>0,m=m/256>>>0;if(m!==0)throw new Error("Non-zero carry");w=C,p++}if(g[p]!==" "){for(var _=y-w;_!==y&&v[_]===0;)_++;for(var P=new Uint8Array(b+(y-_)),x=b;_!==y;)P[x++]=v[_++];return P}}}function h(g){var p=d(g);if(p)return p;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var m2e=g2e,b2e=m2e;const pJ=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},y2e=e=>new TextEncoder().encode(e),w2e=e=>new TextDecoder().decode(e);let v2e=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},E2e=class{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return gJ(this,t)}},_2e=class{constructor(t){this.decoders=t}or(t){return gJ(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const gJ=(e,t)=>new _2e({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});let C2e=class{constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new v2e(t,r,n),this.decoder=new E2e(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const YE=({name:e,prefix:t,encode:r,decode:n})=>new C2e(e,t,r,n),ib=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=b2e(r,t);return YE({prefix:e,name:t,encode:n,decode:s=>pJ(i(s))})},A2e=(e,t,r,n)=>{const i={};for(let l=0;l<t.length;++l)i[t[l]]=l;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,u=0;for(let l=0;l<s;++l){const f=i[e[l]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},x2e=(e,t,r)=>{const n=t[t.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Mn=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>YE({prefix:t,name:e,encode(i){return x2e(i,n,r)},decode(i){return A2e(i,n,r,e)}}),I2e=YE({prefix:"\0",name:"identity",encode:e=>w2e(e),decode:e=>y2e(e)});var P2e=Object.freeze({__proto__:null,identity:I2e});const S2e=Mn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var T2e=Object.freeze({__proto__:null,base2:S2e});const O2e=Mn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var j2e=Object.freeze({__proto__:null,base8:O2e});const B2e=ib({prefix:"9",name:"base10",alphabet:"0123456789"});var R2e=Object.freeze({__proto__:null,base10:B2e});const k2e=Mn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),N2e=Mn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var D2e=Object.freeze({__proto__:null,base16:k2e,base16upper:N2e});const $2e=Mn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),M2e=Mn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),L2e=Mn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),U2e=Mn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),q2e=Mn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),z2e=Mn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),F2e=Mn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),H2e=Mn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),W2e=Mn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var V2e=Object.freeze({__proto__:null,base32:$2e,base32upper:M2e,base32pad:L2e,base32padupper:U2e,base32hex:q2e,base32hexupper:z2e,base32hexpad:F2e,base32hexpadupper:H2e,base32z:W2e});const G2e=ib({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),K2e=ib({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Z2e=Object.freeze({__proto__:null,base36:G2e,base36upper:K2e});const Y2e=ib({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Q2e=ib({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var J2e=Object.freeze({__proto__:null,base58btc:Y2e,base58flickr:Q2e});const X2e=Mn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),e6e=Mn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),t6e=Mn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),r6e=Mn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var n6e=Object.freeze({__proto__:null,base64:X2e,base64pad:e6e,base64url:t6e,base64urlpad:r6e});const mJ=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),i6e=mJ.reduce((e,t,r)=>(e[r]=t,e),[]),s6e=mJ.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function o6e(e){return e.reduce((t,r)=>(t+=i6e[r],t),"")}function a6e(e){const t=[];for(const r of e){const n=s6e[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const c6e=YE({prefix:"\uD83D\uDE80",name:"base256emoji",encode:o6e,decode:a6e});var u6e=Object.freeze({__proto__:null,base256emoji:c6e}),l6e=bJ,qL=128,d6e=-128,f6e=Math.pow(2,31);function bJ(e,t,r){t=t||[],r=r||0;for(var n=r;e>=f6e;)t[r++]=e&255|qL,e/=128;for(;e&d6e;)t[r++]=e&255|qL,e>>>=7;return t[r]=e|0,bJ.bytes=r-n+1,t}var h6e=tI,p6e=128,zL=127;function tI(e,n){var r=0,n=n||0,i=0,s=n,o,a=e.length;do{if(s>=a)throw tI.bytes=0,new RangeError("Could not decode varint");o=e[s++],r+=i<28?(o&zL)<<i:(o&zL)*Math.pow(2,i),i+=7}while(o>=p6e);return tI.bytes=s-n,r}var g6e=Math.pow(2,7),m6e=Math.pow(2,14),b6e=Math.pow(2,21),y6e=Math.pow(2,28),w6e=Math.pow(2,35),v6e=Math.pow(2,42),E6e=Math.pow(2,49),_6e=Math.pow(2,56),C6e=Math.pow(2,63),A6e=function(e){return e<g6e?1:e<m6e?2:e<b6e?3:e<y6e?4:e<w6e?5:e<v6e?6:e<E6e?7:e<_6e?8:e<C6e?9:10},x6e={encode:l6e,decode:h6e,encodingLength:A6e},yJ=x6e;const FL=(e,t,r=0)=>(yJ.encode(e,t,r),t),HL=e=>yJ.encodingLength(e),rI=(e,t)=>{const r=t.byteLength,n=HL(e),i=n+HL(r),s=new Uint8Array(i+r);return FL(e,s,0),FL(r,s,n),s.set(t,i),new I6e(e,r,t,s)};let I6e=class{constructor(t,r,n,i){this.code=t,this.size=r,this.digest=n,this.bytes=i}};const wJ=({name:e,code:t,encode:r})=>new P6e(e,t,r);let P6e=class{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?rI(this.code,r):r.then(n=>rI(this.code,n))}else throw Error("Unknown type, must be binary type")}};const vJ=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),S6e=wJ({name:"sha2-256",code:18,encode:vJ("SHA-256")}),T6e=wJ({name:"sha2-512",code:19,encode:vJ("SHA-512")});var O6e=Object.freeze({__proto__:null,sha256:S6e,sha512:T6e});const EJ=0,j6e="identity",_J=pJ,B6e=e=>rI(EJ,_J(e)),R6e={code:EJ,name:j6e,encode:_J,digest:B6e};var k6e=Object.freeze({__proto__:null,identity:R6e});new TextEncoder,new TextDecoder;const WL={...P2e,...T2e,...j2e,...R2e,...D2e,...V2e,...Z2e,...J2e,...n6e,...u6e};({...O6e,...k6e});function CJ(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const VL=CJ("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),L4=CJ("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=fJ(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),AJ={utf8:VL,"utf-8":VL,hex:WL.base16,latin1:L4,ascii:L4,binary:L4,...WL};function QE(e,t="utf8"){const r=AJ[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function Vp(e,t="utf8"){const r=AJ[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?p7(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function GL(e){return Cc(QE(Vp(e,ZE),lJ))}function F5(e){return QE(Vp(ga(e),lJ),ZE)}function g7(e){const t=Vp(h2e,UL),r=f2e+QE(hJ([t,e]),UL);return[l2e,d2e,r].join(u2e)}function N6e(e){return QE(e,ZE)}function D6e(e){return Vp(e,ZE)}function $6e(e){return Vp([F5(e.header),F5(e.payload)].join(z5),dJ)}function M6e(e){return[F5(e.header),F5(e.payload),N6e(e.signature)].join(z5)}function ip(e){const t=e.split(z5),r=GL(t[0]),n=GL(t[1]),i=D6e(t[2]),s=Vp(t.slice(0,2).join(z5),dJ);return{header:r,payload:n,signature:i,data:s}}function H5(e=XQ(p2e)){const t=uJ.getPublicKey(e);return{secretKey:hJ([e,t]),publicKey:t}}async function xJ(e,t,r,n,i=ie.fromMiliseconds(Date.now())){const s={alg:a2e,typ:c2e},o=g7(n.publicKey),a=i+r,c={iss:o,sub:e,aud:t,iat:i,exp:a},u=$6e({header:s,payload:c}),l=uJ.sign(u,n.secretKey.slice(0,32));return M6e({header:s,payload:c,signature:l})}function IJ(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function aa(e,t){t||(t=e.reduce((i,s)=>i+s.length,0));const r=IJ(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}function L6e(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var p=0,b=0,w=0,y=g.length;w!==y&&g[w]===0;)w++,p++;for(var v=(y-w)*l+1>>>0,m=new Uint8Array(v);w!==y;){for(var C=g[w],E=0,_=v-1;(C!==0||E<b)&&_!==-1;_--,E++)C+=256*m[_]>>>0,m[_]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");b=E,w++}for(var P=v-b;P!==v&&m[P]===0;)P++;for(var x=c.repeat(p);P<v;++P)x+=e.charAt(m[P]);return x}function d(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var p=0;if(g[p]!==" "){for(var b=0,w=0;g[p]===c;)b++,p++;for(var y=(g.length-p)*u+1>>>0,v=new Uint8Array(y);g[p];){var m=r[g.charCodeAt(p)];if(m===255)return;for(var C=0,E=y-1;(m!==0||C<w)&&E!==-1;E--,C++)m+=a*v[E]>>>0,v[E]=m%256>>>0,m=m/256>>>0;if(m!==0)throw new Error("Non-zero carry");w=C,p++}if(g[p]!==" "){for(var _=y-w;_!==y&&v[_]===0;)_++;for(var P=new Uint8Array(b+(y-_)),x=b;_!==y;)P[x++]=v[_++];return P}}}function h(g){var p=d(g);if(p)return p;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var U6e=L6e,q6e=U6e;const z6e=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},F6e=e=>new TextEncoder().encode(e),H6e=e=>new TextDecoder().decode(e);class W6e{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class V6e{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return PJ(this,t)}}class G6e{constructor(t){this.decoders=t}or(t){return PJ(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const PJ=(e,t)=>new G6e({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class K6e{constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new W6e(t,r,n),this.decoder=new V6e(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const JE=({name:e,prefix:t,encode:r,decode:n})=>new K6e(e,t,r,n),sb=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=q6e(r,t);return JE({prefix:e,name:t,encode:n,decode:s=>z6e(i(s))})},Z6e=(e,t,r,n)=>{const i={};for(let l=0;l<t.length;++l)i[t[l]]=l;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,u=0;for(let l=0;l<s;++l){const f=i[e[l]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Y6e=(e,t,r)=>{const n=t[t.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Ln=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>JE({prefix:t,name:e,encode(i){return Y6e(i,n,r)},decode(i){return Z6e(i,n,r,e)}}),Q6e=JE({prefix:"\0",name:"identity",encode:e=>H6e(e),decode:e=>F6e(e)}),J6e=Object.freeze(Object.defineProperty({__proto__:null,identity:Q6e},Symbol.toStringTag,{value:"Module"})),X6e=Ln({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),e5e=Object.freeze(Object.defineProperty({__proto__:null,base2:X6e},Symbol.toStringTag,{value:"Module"})),t5e=Ln({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),r5e=Object.freeze(Object.defineProperty({__proto__:null,base8:t5e},Symbol.toStringTag,{value:"Module"})),n5e=sb({prefix:"9",name:"base10",alphabet:"0123456789"}),i5e=Object.freeze(Object.defineProperty({__proto__:null,base10:n5e},Symbol.toStringTag,{value:"Module"})),s5e=Ln({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),o5e=Ln({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),a5e=Object.freeze(Object.defineProperty({__proto__:null,base16:s5e,base16upper:o5e},Symbol.toStringTag,{value:"Module"})),c5e=Ln({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),u5e=Ln({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),l5e=Ln({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),d5e=Ln({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),f5e=Ln({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),h5e=Ln({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),p5e=Ln({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),g5e=Ln({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),m5e=Ln({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),b5e=Object.freeze(Object.defineProperty({__proto__:null,base32:c5e,base32hex:f5e,base32hexpad:p5e,base32hexpadupper:g5e,base32hexupper:h5e,base32pad:l5e,base32padupper:d5e,base32upper:u5e,base32z:m5e},Symbol.toStringTag,{value:"Module"})),y5e=sb({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),w5e=sb({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),v5e=Object.freeze(Object.defineProperty({__proto__:null,base36:y5e,base36upper:w5e},Symbol.toStringTag,{value:"Module"})),E5e=sb({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),_5e=sb({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),C5e=Object.freeze(Object.defineProperty({__proto__:null,base58btc:E5e,base58flickr:_5e},Symbol.toStringTag,{value:"Module"})),A5e=Ln({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),x5e=Ln({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),I5e=Ln({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),P5e=Ln({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),S5e=Object.freeze(Object.defineProperty({__proto__:null,base64:A5e,base64pad:x5e,base64url:I5e,base64urlpad:P5e},Symbol.toStringTag,{value:"Module"})),SJ=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),T5e=SJ.reduce((e,t,r)=>(e[r]=t,e),[]),O5e=SJ.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function j5e(e){return e.reduce((t,r)=>(t+=T5e[r],t),"")}function B5e(e){const t=[];for(const r of e){const n=O5e[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const R5e=JE({prefix:"\uD83D\uDE80",name:"base256emoji",encode:j5e,decode:B5e}),k5e=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:R5e},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const KL={...J6e,...e5e,...r5e,...i5e,...a5e,...b5e,...v5e,...C5e,...S5e,...k5e};function TJ(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const ZL=TJ("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),U4=TJ("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=IJ(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),OJ={utf8:ZL,"utf-8":ZL,hex:KL.base16,latin1:U4,ascii:U4,binary:U4,...KL};function dr(e,t="utf8"){const r=OJ[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}function qt(e,t="utf8"){const r=OJ[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}const jJ={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var N5e={};const D5e=":";function Uh(e){const[t,r]=e.split(D5e);return{namespace:t,reference:r}}function YL(e,t=[]){const r=[];return Object.keys(e).forEach(n=>{if(t.length&&!t.includes(n))return;const i=e[n];r.push(...i.accounts)}),r}function BJ(e,t){return e.includes(":")?[e]:t.chains||[]}var $5e=Object.defineProperty,M5e=Object.defineProperties,L5e=Object.getOwnPropertyDescriptors,QL=Object.getOwnPropertySymbols,U5e=Object.prototype.hasOwnProperty,q5e=Object.prototype.propertyIsEnumerable,JL=(e,t,r)=>t in e?$5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,XL=(e,t)=>{for(var r in t||(t={}))U5e.call(t,r)&&JL(e,r,t[r]);if(QL)for(var r of QL(t))q5e.call(t,r)&&JL(e,r,t[r]);return e},z5e=(e,t)=>M5e(e,L5e(t));const F5e="ReactNative",gs={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},H5e="js";function W5(){return typeof Ur<"u"&&typeof Ur.versions<"u"&&typeof Ur.versions.node<"u"}function Wu(){return!Cn.getDocument()&&!!Cn.getNavigator()&&navigator.product===F5e}function W5e(){return Wu()&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"&&globalThis?.Platform.OS==="android"}function V5e(){return Wu()&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"&&globalThis?.Platform.OS==="ios"}function Gp(){return!W5()&&!!Cn.getNavigator()&&!!Cn.getDocument()}function ob(){return Wu()?gs.reactNative:W5()?gs.node:Gp()?gs.browser:gs.unknown}function eU(){var e;try{return Wu()&&typeof globalThis<"u"&&typeof globalThis?.Application<"u"?(e=globalThis.Application)==null?void 0:e.applicationId:void 0}catch{return}}function G5e(e,t){const r=new URLSearchParams(e);for(const n of Object.keys(t).sort())if(t.hasOwnProperty(n)){const i=t[n];i!==void 0&&r.set(n,i)}return r.toString()}function K5e(e){var t,r;const n=RJ();try{return e!=null&&e.url&&n.url&&new URL(e.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),e.url=n.url),(t=e?.icons)!=null&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(i=>i!=="")),z5e(XL(XL({},n),e),{url:e?.url||n.url,name:e?.name||n.name,description:e?.description||n.description,icons:(r=e?.icons)!=null&&r.length&&e.icons.length>0?e.icons:n.icons})}catch(i){return console.warn("Error populating app metadata",i),e||n}}function RJ(){return CQ.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function Z5e(){if(ob()===gs.reactNative&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"){const{OS:r,Version:n}=globalThis.Platform;return[r,n].join("-")}const e=wQ();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function Y5e(){var e;const t=ob();return t===gs.browser?[t,((e=Cn.getLocation())==null?void 0:e.host)||"unknown"].join(":"):t}function kJ(e,t,r){const n=Z5e(),i=Y5e();return[[e,t].join("-"),[H5e,r].join("-"),n,i].join("/")}function Q5e({protocol:e,version:t,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const u=r.split("?"),l=kJ(e,t,n),f={auth:i,ua:l,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},d=G5e(u[1]||"",f);return u[0]+"?"+d}function Gl(e,t){return e.filter(r=>t.includes(r)).length===e.length}function nI(e){return Object.fromEntries(e.entries())}function iI(e){return new Map(Object.entries(e))}function Il(e=ie.FIVE_MINUTES,t){const r=ie.toMiliseconds(e||ie.FIVE_MINUTES);let n,i,s,o;return{resolve:a=>{s&&n&&(clearTimeout(s),n(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const u=new Error(t);o=Promise.reject(u),c(u)},r),n=a,i=c})}}function pu(e,t,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),t);try{const o=await e;n(o)}catch(o){i(o)}clearTimeout(s)})}function NJ(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function J5e(e){return NJ("topic",e)}function X5e(e){return NJ("id",e)}function DJ(e){const[t,r]=e.split(":"),n={id:void 0,topic:void 0};if(t==="topic"&&typeof r=="string")n.topic=r;else if(t==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return n}function Gr(e,t){return ie.fromMiliseconds(Date.now()+ie.toMiliseconds(e))}function uu(e){return Date.now()>=ie.toMiliseconds(e)}function Ot(e,t){return`${e}${t?`:${t}`:""}`}function ca(e=[],t=[]){return[...new Set([...e,...t])]}async function e3e({id:e,topic:t,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i?.href;if(typeof s!="string")return;const o=t3e(s,e,t),a=ob();if(a===gs.browser){if(!((n=Cn.getDocument())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}r3e(o)}else a===gs.reactNative&&typeof globalThis?.Linking<"u"&&await globalThis.Linking.openURL(o)}catch(i){console.error(i)}}function t3e(e,t,r){const n=`requestId=${t}&sessionTopic=${r}`;e.endsWith("/")&&(e=e.slice(0,-1));let i=`${e}`;if(e.startsWith("https://t.me")){const s=e.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${o3e(n,!0)}`}else i=`${i}/wc?${n}`;return i}function r3e(e){let t="_self";s3e()?t="_top":(i3e()||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"),window.open(e,t,"noreferrer noopener")}async function n3e(e,t){let r="";try{if(Gp()&&(r=localStorage.getItem(t),r))return r;r=await e.getItem(t)}catch(n){console.error(n)}return r}function tU(e,t){if(!e.includes(t))return null;const r=e.split(/([&,?,=])/),n=r.indexOf(t);return r[n+2]}function rU(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function m7(){return typeof Ur<"u"&&N5e.IS_VITEST==="true"}function i3e(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function s3e(){try{return window.self!==window.top}catch{return!1}}function o3e(e,t=!1){const r=pt.from(e).toString("base64");return t?r.replace(/[=]/g,""):r}function $J(e){return pt.from(e,"base64").toString("utf-8")}function a3e(e){return new Promise(t=>setTimeout(t,e))}function Mm(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function c3e(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ab(e,...t){if(!c3e(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function b7(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Mm(e.outputLen),Mm(e.blockLen)}function sp(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function MJ(e,t){ab(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const y6=BigInt(2**32-1),nU=BigInt(32);function u3e(e,t=!1){return t?{h:Number(e&y6),l:Number(e>>nU&y6)}:{h:Number(e>>nU&y6)|0,l:Number(e&y6)|0}}function l3e(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=u3e(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}const d3e=(e,t,r)=>e<<r|t>>>32-r,f3e=(e,t,r)=>t<<r|e>>>32-r,h3e=(e,t,r)=>t<<r-32|e>>>64-r,p3e=(e,t,r)=>e<<r-32|t>>>64-r,$f=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function g3e(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function q4(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ho(e,t){return e<<32-t|e>>>t}const iU=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68;function m3e(e){return e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255}function sU(e){for(let t=0;t<e.length;t++)e[t]=m3e(e[t])}function b3e(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function op(e){return typeof e=="string"&&(e=b3e(e)),ab(e),e}function y3e(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];ab(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}let y7=class{clone(){return this._cloneInto()}};function LJ(e){const t=n=>e().update(op(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Kp(e=32){if($f&&typeof $f.getRandomValues=="function")return $f.getRandomValues(new Uint8Array(e));if($f&&typeof $f.randomBytes=="function")return $f.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const UJ=[],qJ=[],zJ=[],w3e=BigInt(0),vg=BigInt(1),v3e=BigInt(2),E3e=BigInt(7),_3e=BigInt(256),C3e=BigInt(113);for(let e=0,t=vg,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],UJ.push(2*(5*n+r)),qJ.push((e+1)*(e+2)/2%64);let i=w3e;for(let s=0;s<7;s++)t=(t<<vg^(t>>E3e)*C3e)%_3e,t&v3e&&(i^=vg<<(vg<<BigInt(s))-vg);zJ.push(i)}const[A3e,x3e]=l3e(zJ,!0),oU=(e,t,r)=>r>32?h3e(e,t,r):d3e(e,t,r),aU=(e,t,r)=>r>32?p3e(e,t,r):f3e(e,t,r);function I3e(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let o=0;o<10;o++)r[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],f=oU(u,l,1)^r[a],d=aU(u,l,1)^r[a+1];for(let h=0;h<50;h+=10)e[o+h]^=f,e[o+h+1]^=d}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=qJ[o],c=oU(i,s,a),u=aU(i,s,a),l=UJ[o];i=e[l],s=e[l+1],e[l]=c,e[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=A3e[n],e[1]^=x3e[n]}r.fill(0)}let P3e=class FJ extends y7{constructor(t,r,n,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Mm(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=g3e(this.state)}keccak(){iU||sU(this.state32),I3e(this.state32,this.rounds),iU||sU(this.state32),this.posOut=0,this.pos=0}update(t){sp(this);const{blockLen:r,state:n}=this;t=op(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=t[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){sp(this,!1),ab(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=t.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);t.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Mm(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(MJ(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new FJ(r,n,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}};const S3e=(e,t,r)=>LJ(()=>new P3e(t,e,r)),T3e=S3e(1,136,256/8),O3e="https://rpc.walletconnect.org/v1";function HJ(e){const t=`Ethereum Signed Message:
${e.length}`,r=new TextEncoder().encode(t+e);return"0x"+pt.from(T3e(r)).toString("hex")}async function j3e(e,t,r,n,i,s){switch(r.t){case"eip191":return await B3e(e,t,r.s);case"eip1271":return await R3e(e,t,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function B3e(e,t,r){return(await swe({hash:HJ(t),signature:r})).toLowerCase()===e.toLowerCase()}async function R3e(e,t,r,n,i,s){const o=Uh(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",u="0000000000000000000000000000000000000000000000000000000000000041",l=r.substring(2),f=HJ(t).substring(2),d=a+f+c+u+l,h=await fetch(`${s||O3e}/?chainId=${n}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:k3e(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:d},"latest"]})}),{result:g}=await h.json();return g?g.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function k3e(){return Date.now()+Math.floor(Math.random()*1e3)}function N3e(e){const t=atob(e),r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const i=1+n*64;if(r.length<i)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const s=pt.from(e,"base64").slice(1,65);return eS.encode(s)}var D3e=Object.defineProperty,$3e=Object.defineProperties,M3e=Object.getOwnPropertyDescriptors,cU=Object.getOwnPropertySymbols,L3e=Object.prototype.hasOwnProperty,U3e=Object.prototype.propertyIsEnumerable,uU=(e,t,r)=>t in e?D3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,q3e=(e,t)=>{for(var r in t||(t={}))L3e.call(t,r)&&uU(e,r,t[r]);if(cU)for(var r of cU(t))U3e.call(t,r)&&uU(e,r,t[r]);return e},z3e=(e,t)=>$3e(e,M3e(t));const F3e="did:pkh:",w7=e=>e?.split(":"),H3e=e=>{const t=e&&w7(e);if(t)return e.includes(F3e)?t[3]:t[1]},sI=e=>{const t=e&&w7(e);if(t)return t[2]+":"+t[3]},V5=e=>{const t=e&&w7(e);if(t)return t.pop()};async function lU(e){const{cacao:t,projectId:r}=e,{s:n,p:i}=t,s=WJ(i,i.iss),o=V5(i.iss);return await j3e(o,s,n,sI(i.iss),r)}const WJ=(e,t)=>{const r=`${e.domain} wants you to sign in with your Ethereum account:`,n=V5(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=e.statement||void 0;const s=`URI: ${e.aud||e.uri}`,o=`Version: ${e.version}`,a=`Chain ID: ${H3e(t)}`,c=`Nonce: ${e.nonce}`,u=`Issued At: ${e.iat}`,l=e.exp?`Expiration Time: ${e.exp}`:void 0,f=e.nbf?`Not Before: ${e.nbf}`:void 0,d=e.requestId?`Request ID: ${e.requestId}`:void 0,h=e.resources?`Resources:${e.resources.map(p=>`
- ${p}`).join("")}`:void 0,g=X6(e.resources);if(g){const p=Lm(g);i=X3e(i,p)}return[r,n,"",i,"",s,o,a,c,u,l,f,d,h].filter(p=>p!=null).join(`
`)};function W3e(e){return pt.from(JSON.stringify(e)).toString("base64")}function V3e(e){return JSON.parse(pt.from(e,"base64").toString("utf-8"))}function yd(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(r=>{const n=e.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function G3e(e,t,r,n={}){return r?.sort((i,s)=>i.localeCompare(s)),{att:{[e]:K3e(t,r,n)}}}function K3e(e,t,r={}){t=t?.sort((i,s)=>i.localeCompare(s));const n=t.map(i=>({[`${e}/${i}`]:[r]}));return Object.assign({},...n)}function VJ(e){return yd(e),`urn:recap:${W3e(e).replace(/=/g,"")}`}function Lm(e){const t=V3e(e.replace("urn:recap:",""));return yd(t),t}function Z3e(e,t,r){const n=G3e(e,t,r);return VJ(n)}function Y3e(e){return e&&e.includes("urn:recap:")}function Q3e(e,t){const r=Lm(e),n=Lm(t),i=J3e(r,n);return VJ(i)}function J3e(e,t){yd(e),yd(t);const r=Object.keys(e.att).concat(Object.keys(t.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=e.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=t.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,u;n.att[i]=z3e(q3e({},n.att[i]),{[a]:((c=e.att[i])==null?void 0:c[a])||((u=t.att[i])==null?void 0:u[a])})})}),n}function X3e(e="",t){yd(t);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;const n=[];let i=0;Object.keys(t.att).forEach(a=>{const c=Object.keys(t.att[a]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));c.sort((f,d)=>f.action.localeCompare(d.action));const u={};c.forEach(f=>{u[f.ability]||(u[f.ability]=[]),u[f.ability].push(f.action)});const l=Object.keys(u).map(f=>(i++,`(${i}) '${f}': '${u[f].join("', '")}' for '${a}'.`));n.push(l.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${e?e+" ":""}${o}`}function dU(e){var t;const r=Lm(e);yd(r);const n=(t=r.att)==null?void 0:t.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function fU(e){const t=Lm(e);yd(t);const r=[];return Object.values(t.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function X6(e){if(!e)return;const t=e?.[e.length-1];return Y3e(t)?t:void 0}function z4(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function GJ(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ds(e,...t){if(!GJ(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function hU(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function eEe(e,t){ds(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function pU(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}const wu=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),tEe=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),rEe=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68;if(!rEe)throw new Error("Non little-endian hardware is not supported");function nEe(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function oI(e){if(typeof e=="string")e=nEe(e);else if(GJ(e))e=aI(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function iEe(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function sEe(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}const oEe=(e,t)=>{function r(n,...i){if(ds(n),e.nonceLength!==void 0){const u=i[0];if(!u)throw new Error("nonce / iv required");e.varSizeNonce?ds(u):ds(u,e.nonceLength)}const s=e.tagLength;s&&i[1]!==void 0&&ds(i[1]);const o=t(n,...i),a=(u,l)=>{if(l!==void 0){if(u!==2)throw new Error("cipher output not supported");ds(l)}};let c=!1;return{encrypt(u,l){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,ds(u),a(o.encrypt.length,l),o.encrypt(u,l)},decrypt(u,l){if(ds(u),s&&u.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,l),o.decrypt(u,l)}}}return Object.assign(r,e),r};function gU(e,t,r=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(r&&!aEe(t))throw new Error("invalid output, must be aligned");return t}function mU(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(0xffffffff),o=Number(r>>i&s),a=Number(r&s);e.setUint32(t+4,o,n),e.setUint32(t+0,a,n)}function aEe(e){return e.byteOffset%4===0}function aI(e){return Uint8Array.from(e)}function ap(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}const KJ=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),cEe=KJ("expand 16-byte k"),uEe=KJ("expand 32-byte k"),lEe=wu(cEe),dEe=wu(uEe);function bt(e,t){return e<<t|e>>>32-t}function cI(e){return e.byteOffset%4===0}const w6=64,fEe=16,ZJ=2**32-1,bU=new Uint32Array;function hEe(e,t,r,n,i,s,o,a){const c=i.length,u=new Uint8Array(w6),l=wu(u),f=cI(i)&&cI(s),d=f?wu(i):bU,h=f?wu(s):bU;for(let g=0;g<c;o++){if(e(t,r,n,l,o,a),o>=ZJ)throw new Error("arx: counter overflow");const p=Math.min(w6,c-g);if(f&&p===w6){const b=g/4;if(g%4!==0)throw new Error("arx: invalid block position");for(let w=0,y;w<fEe;w++)y=b+w,h[y]=d[y]^l[w];g+=w6;continue}for(let b=0,w;b<p;b++)w=g+b,s[w]=i[w]^u[b];g+=p}}function pEe(e,t){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=iEe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return z4(i),z4(o),pU(s),pU(r),(a,c,u,l,f=0)=>{ds(a),ds(c),ds(u);const d=u.length;if(l===void 0&&(l=new Uint8Array(d)),ds(l),z4(f),f<0||f>=ZJ)throw new Error("arx: counter overflow");if(l.length<d)throw new Error(`arx: output (${l.length}) is shorter than data (${d})`);const h=[];let g=a.length,p,b;if(g===32)h.push(p=aI(a)),b=dEe;else if(g===16&&r)p=new Uint8Array(32),p.set(a),p.set(a,16),b=lEe,h.push(p);else throw new Error(`arx: invalid 32-byte key, got length=${g}`);cI(c)||h.push(c=aI(c));const w=wu(p);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(b,w,wu(c.subarray(0,16)),w),c=c.subarray(16)}const y=16-i;if(y!==c.length)throw new Error(`arx: nonce must be ${y} or 16 bytes`);if(y!==12){const m=new Uint8Array(12);m.set(c,s?0:12-c.length),c=m,h.push(c)}const v=wu(c);return hEe(e,b,w,v,u,l,f,o),ap(...h),l}}const In=(e,t)=>e[t++]&255|(e[t++]&255)<<8;let gEe=class{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=oI(t),ds(t,32);const r=In(t,0),n=In(t,2),i=In(t,4),s=In(t,6),o=In(t,8),a=In(t,10),c=In(t,12),u=In(t,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let l=0;l<8;l++)this.pad[l]=In(t,16+2*l)}process(t,r,n=!1){const i=n?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],u=o[2],l=o[3],f=o[4],d=o[5],h=o[6],g=o[7],p=o[8],b=o[9],w=In(t,r+0),y=In(t,r+2),v=In(t,r+4),m=In(t,r+6),C=In(t,r+8),E=In(t,r+10),_=In(t,r+12),P=In(t,r+14);let x=s[0]+(w&8191),O=s[1]+((w>>>13|y<<3)&8191),D=s[2]+((y>>>10|v<<6)&8191),R=s[3]+((v>>>7|m<<9)&8191),k=s[4]+((m>>>4|C<<12)&8191),T=s[5]+(C>>>1&8191),S=s[6]+((C>>>14|E<<2)&8191),I=s[7]+((E>>>11|_<<5)&8191),A=s[8]+((_>>>8|P<<8)&8191),j=s[9]+(P>>>5|i),N=0,B=N+x*a+O*(5*b)+D*(5*p)+R*(5*g)+k*(5*h);N=B>>>13,B&=8191,B+=T*(5*d)+S*(5*f)+I*(5*l)+A*(5*u)+j*(5*c),N+=B>>>13,B&=8191;let $=N+x*c+O*a+D*(5*b)+R*(5*p)+k*(5*g);N=$>>>13,$&=8191,$+=T*(5*h)+S*(5*d)+I*(5*f)+A*(5*l)+j*(5*u),N+=$>>>13,$&=8191;let M=N+x*u+O*c+D*a+R*(5*b)+k*(5*p);N=M>>>13,M&=8191,M+=T*(5*g)+S*(5*h)+I*(5*d)+A*(5*f)+j*(5*l),N+=M>>>13,M&=8191;let L=N+x*l+O*u+D*c+R*a+k*(5*b);N=L>>>13,L&=8191,L+=T*(5*p)+S*(5*g)+I*(5*h)+A*(5*d)+j*(5*f),N+=L>>>13,L&=8191;let q=N+x*f+O*l+D*u+R*c+k*a;N=q>>>13,q&=8191,q+=T*(5*b)+S*(5*p)+I*(5*g)+A*(5*h)+j*(5*d),N+=q>>>13,q&=8191;let U=N+x*d+O*f+D*l+R*u+k*c;N=U>>>13,U&=8191,U+=T*a+S*(5*b)+I*(5*p)+A*(5*g)+j*(5*h),N+=U>>>13,U&=8191;let F=N+x*h+O*d+D*f+R*l+k*u;N=F>>>13,F&=8191,F+=T*c+S*a+I*(5*b)+A*(5*p)+j*(5*g),N+=F>>>13,F&=8191;let H=N+x*g+O*h+D*d+R*f+k*l;N=H>>>13,H&=8191,H+=T*u+S*c+I*a+A*(5*b)+j*(5*p),N+=H>>>13,H&=8191;let V=N+x*p+O*g+D*h+R*d+k*f;N=V>>>13,V&=8191,V+=T*l+S*u+I*c+A*a+j*(5*b),N+=V>>>13,V&=8191;let W=N+x*b+O*p+D*g+R*h+k*d;N=W>>>13,W&=8191,W+=T*f+S*l+I*u+A*c+j*a,N+=W>>>13,W&=8191,N=(N<<2)+N|0,N=N+B|0,B=N&8191,N=N>>>13,$+=N,s[0]=B,s[1]=$,s[2]=M,s[3]=L,s[4]=q,s[5]=U,s[6]=F,s[7]=H,s[8]=V,s[9]=W}finalize(){const{h:t,pad:r}=this,n=new Uint16Array(10);let i=t[1]>>>13;t[1]&=8191;for(let a=2;a<10;a++)t[a]+=i,i=t[a]>>>13,t[a]&=8191;t[0]+=i*5,i=t[0]>>>13,t[0]&=8191,t[1]+=i,i=t[1]>>>13,t[1]&=8191,t[2]+=i,n[0]=t[0]+5,i=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=t[a]+i,i=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)t[a]=t[a]&s|n[a];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let o=t[0]+r[0];t[0]=o&65535;for(let a=1;a<8;a++)o=(t[a]+r[a]|0)+(o>>>16)|0,t[a]=o&65535;ap(n)}update(t){hU(this);const{buffer:r,blockLen:n}=this;t=oI(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(t,s);continue}r.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){ap(this.h,this.r,this.buffer,this.pad)}digestInto(t){hU(this),eEe(t,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)t[s++]=n[o]>>>0,t[s++]=n[o]>>>8;return t}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}};function mEe(e){const t=(n,i)=>e(i).update(oI(n)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}const bEe=mEe(e=>new gEe(e));function yEe(e,t,r,n,i,s=20){let o=e[0],a=e[1],c=e[2],u=e[3],l=t[0],f=t[1],d=t[2],h=t[3],g=t[4],p=t[5],b=t[6],w=t[7],y=i,v=r[0],m=r[1],C=r[2],E=o,_=a,P=c,x=u,O=l,D=f,R=d,k=h,T=g,S=p,I=b,A=w,j=y,N=v,B=m,$=C;for(let L=0;L<s;L+=2)E=E+O|0,j=bt(j^E,16),T=T+j|0,O=bt(O^T,12),E=E+O|0,j=bt(j^E,8),T=T+j|0,O=bt(O^T,7),_=_+D|0,N=bt(N^_,16),S=S+N|0,D=bt(D^S,12),_=_+D|0,N=bt(N^_,8),S=S+N|0,D=bt(D^S,7),P=P+R|0,B=bt(B^P,16),I=I+B|0,R=bt(R^I,12),P=P+R|0,B=bt(B^P,8),I=I+B|0,R=bt(R^I,7),x=x+k|0,$=bt($^x,16),A=A+$|0,k=bt(k^A,12),x=x+k|0,$=bt($^x,8),A=A+$|0,k=bt(k^A,7),E=E+D|0,$=bt($^E,16),I=I+$|0,D=bt(D^I,12),E=E+D|0,$=bt($^E,8),I=I+$|0,D=bt(D^I,7),_=_+R|0,j=bt(j^_,16),A=A+j|0,R=bt(R^A,12),_=_+R|0,j=bt(j^_,8),A=A+j|0,R=bt(R^A,7),P=P+k|0,N=bt(N^P,16),T=T+N|0,k=bt(k^T,12),P=P+k|0,N=bt(N^P,8),T=T+N|0,k=bt(k^T,7),x=x+O|0,B=bt(B^x,16),S=S+B|0,O=bt(O^S,12),x=x+O|0,B=bt(B^x,8),S=S+B|0,O=bt(O^S,7);let M=0;n[M++]=o+E|0,n[M++]=a+_|0,n[M++]=c+P|0,n[M++]=u+x|0,n[M++]=l+O|0,n[M++]=f+D|0,n[M++]=d+R|0,n[M++]=h+k|0,n[M++]=g+T|0,n[M++]=p+S|0,n[M++]=b+I|0,n[M++]=w+A|0,n[M++]=y+j|0,n[M++]=v+N|0,n[M++]=m+B|0,n[M++]=C+$|0}const wEe=pEe(yEe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),vEe=new Uint8Array(16),yU=(e,t)=>{e.update(t);const r=t.length%16;r&&e.update(vEe.subarray(r))},EEe=new Uint8Array(32);function wU(e,t,r,n,i){const s=e(t,r,EEe),o=bEe.create(s);i&&yU(o,i),yU(o,n);const a=new Uint8Array(16),c=tEe(a);mU(c,0,BigInt(i?i.length:0),!0),mU(c,8,BigInt(n.length),!0),o.update(a);const u=o.digest();return ap(s,a),u}const _Ee=e=>(t,r,n)=>({encrypt(i,s){const o=i.length;s=gU(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);e(t,r,a,a,1);const c=wU(e,t,r,a,n);return s.set(c,o),ap(c),s},decrypt(i,s){s=gU(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=wU(e,t,r,o,n);if(!sEe(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),e(t,r,s,s,1),ap(c),s}}),YJ=oEe({blockSize:64,nonceLength:12,tagLength:16},_Ee(wEe));let QJ=class extends y7{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,b7(t);const n=op(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?t.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return sp(this),this.iHash.update(t),this}digestInto(t){sp(this),ab(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const XE=(e,t,r)=>new QJ(e,t).update(r).digest();XE.create=(e,t)=>new QJ(e,t);function CEe(e,t,r){return b7(e),r===void 0&&(r=new Uint8Array(e.outputLen)),XE(e,op(r),op(t))}const F4=new Uint8Array([0]),vU=new Uint8Array;function AEe(e,t,r,n=32){if(b7(e),Mm(n),n>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(n/e.outputLen);r===void 0&&(r=vU);const s=new Uint8Array(i*e.outputLen),o=XE.create(e,t),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let u=0;u<i;u++)F4[0]=u+1,a.update(u===0?vU:c).update(r).update(F4).digestInto(c),s.set(c,e.outputLen*u),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),F4.fill(0),s.slice(0,n)}const xEe=(e,t,r,n,i)=>AEe(e,CEe(e,t,r),n,i);function IEe(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(0xffffffff),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}function PEe(e,t,r){return e&t^~e&r}function SEe(e,t,r){return e&t^e&r^t&r}let TEe=class extends y7{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=q4(this.buffer)}update(t){sp(this);const{view:r,buffer:n,blockLen:i}=this;t=op(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=q4(t);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){sp(this),MJ(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;IEe(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=q4(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%r&&t.buffer.set(n),t}};const OEe=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),Jc=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),Xc=new Uint32Array(64);let jEe=class extends TEe{constructor(){super(64,32,8,!1),this.A=Jc[0]|0,this.B=Jc[1]|0,this.C=Jc[2]|0,this.D=Jc[3]|0,this.E=Jc[4]|0,this.F=Jc[5]|0,this.G=Jc[6]|0,this.H=Jc[7]|0}get(){const{A:t,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[t,r,n,i,s,o,a,c]}set(t,r,n,i,s,o,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,r){for(let f=0;f<16;f++,r+=4)Xc[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){const d=Xc[f-15],h=Xc[f-2],g=Ho(d,7)^Ho(d,18)^d>>>3,p=Ho(h,17)^Ho(h,19)^h>>>10;Xc[f]=p+Xc[f-7]+g+Xc[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let f=0;f<64;f++){const d=Ho(a,6)^Ho(a,11)^Ho(a,25),h=l+d+PEe(a,c,u)+OEe[f]+Xc[f]|0,g=(Ho(n,2)^Ho(n,13)^Ho(n,22))+SEe(n,i,s)|0;l=u,u=c,c=a,a=o+h|0,o=s,s=i,i=n,n=h+g|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,s,o,a,c,u,l)}roundClean(){Xc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const cb=LJ(()=>new jEe);const e8=BigInt(0),t8=BigInt(1),BEe=BigInt(2);function wd(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ub(e){if(!wd(e))throw new Error("Uint8Array expected")}function cp(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const REe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function up(e){ub(e);let t="";for(let r=0;r<e.length;r++)t+=REe[e[r]];return t}function Ph(e){const t=e.toString(16);return t.length&1?"0"+t:t}function v7(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?e8:BigInt("0x"+e)}const Wa={_0:48,_9:57,A:65,F:70,a:97,f:102};function EU(e){if(e>=Wa._0&&e<=Wa._9)return e-Wa._0;if(e>=Wa.A&&e<=Wa.F)return e-(Wa.A-10);if(e>=Wa.a&&e<=Wa.f)return e-(Wa.a-10)}function lp(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=EU(e.charCodeAt(s)),a=EU(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function td(e){return v7(up(e))}function Um(e){return ub(e),v7(up(Uint8Array.from(e).reverse()))}function dp(e,t){return lp(e.toString(16).padStart(t*2,"0"))}function r8(e,t){return dp(e,t).reverse()}function kEe(e){return lp(Ph(e))}function us(e,t,r){let n;if(typeof t=="string")try{n=lp(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(wd(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}function qm(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];ub(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}function NEe(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function DEe(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const H4=e=>typeof e=="bigint"&&e8<=e;function n8(e,t,r){return H4(e)&&H4(t)&&H4(r)&&t<=e&&e<r}function yc(e,t,r,n){if(!n8(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function JJ(e){let t;for(t=0;e>e8;e>>=t8,t+=1);return t}function $Ee(e,t){return e>>BigInt(t)&t8}function MEe(e,t,r){return e|(r?t8:e8)<<BigInt(t)}const E7=e=>(BEe<<BigInt(e-1))-t8,W4=e=>new Uint8Array(e),_U=e=>Uint8Array.from(e);function XJ(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=W4(e),i=W4(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...l)=>r(i,n,...l),c=(l=W4())=>{i=a(_U([0]),l),n=a(),l.length!==0&&(i=a(_U([1]),l),n=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const f=[];for(;l<t;){n=a();const d=n.slice();f.push(d),l+=n.length}return qm(...f)};return(l,f)=>{o(),c(l);let d;for(;!(d=f(u()));)c();return o(),d}}const LEe={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||wd(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Zp(e,t,r={}){const n=(i,s,o)=>{const a=LEe[s];if(typeof a!="function")throw new Error("invalid validator function");const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(t))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return e}const UEe=()=>{throw new Error("not implemented")};function uI(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(i!==void 0)return i;const s=e(r,...n);return t.set(r,s),s}}var qEe=Object.freeze({__proto__:null,isBytes:wd,abytes:ub,abool:cp,bytesToHex:up,numberToHexUnpadded:Ph,hexToNumber:v7,hexToBytes:lp,bytesToNumberBE:td,bytesToNumberLE:Um,numberToBytesBE:dp,numberToBytesLE:r8,numberToVarBytesBE:kEe,ensureBytes:us,concatBytes:qm,equalBytes:NEe,utf8ToBytes:DEe,inRange:n8,aInRange:yc,bitLen:JJ,bitGet:$Ee,bitSet:MEe,bitMask:E7,createHmacDrbg:XJ,validateObject:Zp,notImplemented:UEe,memoized:uI});const wn=BigInt(0),Or=BigInt(1),Bl=BigInt(2),zEe=BigInt(3),lI=BigInt(4),CU=BigInt(5),AU=BigInt(8);function Ni(e,t){const r=e%t;return r>=wn?r:t+r}function eX(e,t,r){if(t<wn)throw new Error("invalid exponent, negatives unsupported");if(r<=wn)throw new Error("invalid modulus");if(r===Or)return wn;let n=Or;for(;t>wn;)t&Or&&(n=n*e%r),e=e*e%r,t>>=Or;return n}function po(e,t,r){let n=e;for(;t-- >wn;)n*=n,n%=r;return n}function dI(e,t){if(e===wn)throw new Error("invert: expected non-zero number");if(t<=wn)throw new Error("invert: expected positive modulus, got "+t);let r=Ni(e,t),n=t,i=wn,s=Or;for(;r!==wn;){const o=n/r,a=n%r,c=i-s*o;n=r,r=a,i=s,s=c}if(n!==Or)throw new Error("invert: does not exist");return Ni(i,t)}function FEe(e){const t=(e-Or)/Bl;let r,n,i;for(r=e-Or,n=0;r%Bl===wn;r/=Bl,n++);for(i=Bl;i<e&&eX(i,t,e)!==e-Or;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(e+Or)/lI;return function(a,c){const u=a.pow(c,o);if(!a.eql(a.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(r+Or)/Bl;return function(o,a){if(o.pow(a,t)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,u=o.pow(o.mul(o.ONE,i),r),l=o.pow(a,s),f=o.pow(a,r);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let d=1;for(let g=o.sqr(f);d<c&&!o.eql(g,o.ONE);d++)g=o.sqr(g);const h=o.pow(u,Or<<BigInt(c-d-1));u=o.sqr(h),l=o.mul(l,h),f=o.mul(f,u),c=d}return l}}function HEe(e){if(e%lI===zEe){const t=(e+Or)/lI;return function(r,n){const i=r.pow(n,t);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(e%AU===CU){const t=(e-CU)/AU;return function(r,n){const i=r.mul(n,Bl),s=r.pow(i,t),o=r.mul(n,s),a=r.mul(r.mul(o,Bl),s),c=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return FEe(e)}const WEe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function VEe(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=WEe.reduce((n,i)=>(n[i]="function",n),t);return Zp(e,r)}function GEe(e,t,r){if(r<wn)throw new Error("invalid exponent, negatives unsupported");if(r===wn)return e.ONE;if(r===Or)return t;let n=e.ONE,i=t;for(;r>wn;)r&Or&&(n=e.mul(n,i)),i=e.sqr(i),r>>=Or;return n}function KEe(e,t){const r=new Array(t.length),n=t.reduce((s,o,a)=>e.is0(o)?s:(r[a]=s,e.mul(s,o)),e.ONE),i=e.inv(n);return t.reduceRight((s,o,a)=>e.is0(o)?s:(r[a]=e.mul(s,r[a]),e.mul(s,o)),i),r}function tX(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function rX(e,t,r=!1,n={}){if(e<=wn)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=tX(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:r,BITS:i,BYTES:s,MASK:E7(i),ZERO:wn,ONE:Or,create:c=>Ni(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return wn<=c&&c<e},is0:c=>c===wn,isOdd:c=>(c&Or)===Or,neg:c=>Ni(-c,e),eql:(c,u)=>c===u,sqr:c=>Ni(c*c,e),add:(c,u)=>Ni(c+u,e),sub:(c,u)=>Ni(c-u,e),mul:(c,u)=>Ni(c*u,e),pow:(c,u)=>GEe(a,c,u),div:(c,u)=>Ni(c*dI(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>dI(c,e),sqrt:n.sqrt||(c=>(o||(o=HEe(e)),o(a,c))),invertBatch:c=>KEe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>r?r8(c,s):dp(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?Um(c):td(c)}});return Object.freeze(a)}function nX(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function iX(e){const t=nX(e);return t+Math.ceil(t/2)}function ZEe(e,t,r=!1){const n=e.length,i=nX(t),s=iX(t);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?Um(e):td(e),a=Ni(o,t-Or)+Or;return r?r8(a,i):dp(a,i)}const xU=BigInt(0),v6=BigInt(1);function V4(e,t){const r=t.negate();return e?r:t}function sX(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function G4(e,t){sX(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1);return{windows:r,windowSize:n}}function YEe(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function QEe(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const K4=new WeakMap,oX=new WeakMap;function Z4(e){return oX.get(e)||1}function JEe(e,t){return{constTimeNegate:V4,hasPrecomputes(r){return Z4(r)!==1},unsafeLadder(r,n,i=e.ZERO){let s=r;for(;n>xU;)n&v6&&(i=i.add(s)),s=s.double(),n>>=v6;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=G4(n,t),o=[];let a=r,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let l=1;l<s;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=G4(r,t);let a=e.ZERO,c=e.BASE;const u=BigInt(2**r-1),l=2**r,f=BigInt(r);for(let d=0;d<s;d++){const h=d*o;let g=Number(i&u);i>>=f,g>o&&(g-=l,i+=v6);const p=h,b=h+Math.abs(g)-1,w=d%2!==0,y=g<0;g===0?c=c.add(V4(w,n[p])):a=a.add(V4(y,n[b]))}return{p:a,f:c}},wNAFUnsafe(r,n,i,s=e.ZERO){const{windows:o,windowSize:a}=G4(r,t),c=BigInt(2**r-1),u=2**r,l=BigInt(r);for(let f=0;f<o;f++){const d=f*a;if(i===xU)break;let h=Number(i&c);if(i>>=l,h>a&&(h-=u,i+=v6),h===0)continue;let g=n[d+Math.abs(h)-1];h<0&&(g=g.negate()),s=s.add(g)}return s},getPrecomputes(r,n,i){let s=K4.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&K4.set(n,i(s))),s},wNAFCached(r,n,i){const s=Z4(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=Z4(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){sX(n,t),oX.set(r,n),K4.delete(r)}}}function XEe(e,t,r,n){if(YEe(r,e),QEe(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,s=JJ(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),u=Math.floor((t.BITS-1)/o)*o;let l=i;for(let f=u;f>=0;f-=o){c.fill(i);for(let h=0;h<n.length;h++){const g=n[h],p=Number(g>>BigInt(f)&BigInt(a));c[p]=c[p].add(r[h])}let d=i;for(let h=c.length-1,g=i;h>0;h--)g=g.add(c[h]),d=d.add(g);if(l=l.add(d),f!==0)for(let h=0;h<o;h++)l=l.double()}return l}function aX(e){return VEe(e.Fp),Zp(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...tX(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Mf=BigInt(0),Y4=BigInt(1);function e8e(e){return Zp(e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...e})}function t8e(e){const t=e8e(e),{P:r}=t,n=y=>Ni(y,r),i=t.montgomeryBits,s=Math.ceil(i/8),o=t.nByteLength,a=t.adjustScalarBytes||(y=>y),c=t.powPminus2||(y=>eX(y,r-BigInt(2),r));function u(y,v,m){const C=n(y*(v-m));return v=n(v-C),m=n(m+C),[v,m]}const l=(t.a-BigInt(2))/BigInt(4);function f(y,v){yc("u",y,Mf,r),yc("scalar",v,Mf,r);const m=v,C=y;let E=Y4,_=Mf,P=y,x=Y4,O=Mf,D;for(let k=BigInt(i-1);k>=Mf;k--){const T=m>>k&Y4;O^=T,D=u(O,E,P),E=D[0],P=D[1],D=u(O,_,x),_=D[0],x=D[1],O=T;const S=E+_,I=n(S*S),A=E-_,j=n(A*A),N=I-j,B=P+x,$=P-x,M=n($*S),L=n(B*A),q=M+L,U=M-L;P=n(q*q),x=n(C*n(U*U)),E=n(I*j),_=n(N*(I+n(l*N)))}D=u(O,E,P),E=D[0],P=D[1],D=u(O,_,x),_=D[0],x=D[1];const R=c(_);return n(E*R)}function d(y){return r8(n(y),s)}function h(y){const v=us("u coordinate",y,s);return o===32&&(v[31]&=127),Um(v)}function g(y){const v=us("scalar",y),m=v.length;if(m!==s&&m!==o){let C=""+s+" or "+o;throw new Error("invalid scalar, expected "+C+" bytes, got "+m)}return Um(a(v))}function p(y,v){const m=h(v),C=g(y),E=f(m,C);if(E===Mf)throw new Error("invalid private or public key received");return d(E)}const b=d(t.Gu);function w(y){return p(y,b)}return{scalarMult:p,scalarMultBase:w,getSharedSecret:(y,v)=>p(y,v),getPublicKey:y=>w(y),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:b}}const fI=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const r8e=BigInt(1),IU=BigInt(2),n8e=BigInt(3),i8e=BigInt(5);BigInt(8);function s8e(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=fI,o=e*e%s*e%s,a=po(o,IU,s)*o%s,c=po(a,r8e,s)*e%s,u=po(c,i8e,s)*c%s,l=po(u,t,s)*u%s,f=po(l,r,s)*l%s,d=po(f,n,s)*f%s,h=po(d,i,s)*d%s,g=po(h,i,s)*d%s,p=po(g,t,s)*u%s;return{pow_p_5_8:po(p,IU,s)*e%s,b2:o}}function o8e(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const hI=t8e({P:fI,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=fI,{pow_p_5_8:r,b2:n}=s8e(e);return Ni(po(r,n8e,t)*n,t)},adjustScalarBytes:o8e,randomBytes:Kp});function PU(e){e.lowS!==void 0&&cp("lowS",e.lowS),e.prehash!==void 0&&cp("prehash",e.prehash)}function a8e(e){const t=aX(e);Zp(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:c8e,hexToBytes:u8e}=qEe;let l8e=class extends Error{constructor(t=""){super(t)}};const oc={Err:l8e,_tlv:{encode:(e,t)=>{const{Err:r}=oc;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");const n=t.length/2,i=Ph(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?Ph(i.length/2|128):"";return Ph(e)+s+i+t},decode(e,t){const{Err:r}=oc;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const u=t.subarray(n,n+c);if(u.length!==c)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const l of u)o=o<<8|l;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=t.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+o)}}},_int:{encode(e){const{Err:t}=oc;if(e<fc)throw new t("integer: negative integers are not allowed");let r=Ph(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=oc;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return c8e(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=oc,i=typeof e=="string"?u8e(e):e;ub(i);const{v:s,l:o}=n.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:u,l}=n.decode(2,c);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(e){const{_tlv:t,_int:r}=oc,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s)),s=n+i;return t.encode(48,s)}},fc=BigInt(0),un=BigInt(1);BigInt(2);const SU=BigInt(3);BigInt(4);function d8e(e){const t=a8e(e),{Fp:r}=t,n=rX(t.n,t.nBitLength),i=t.toBytes||((p,b,w)=>{const y=b.toAffine();return qm(Uint8Array.from([4]),r.toBytes(y.x),r.toBytes(y.y))}),s=t.fromBytes||(p=>{const b=p.subarray(1),w=r.fromBytes(b.subarray(0,r.BYTES)),y=r.fromBytes(b.subarray(r.BYTES,2*r.BYTES));return{x:w,y}});function o(p){const{a:b,b:w}=t,y=r.sqr(p),v=r.mul(y,p);return r.add(r.add(v,r.mul(p,b)),w)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(p){return n8(p,un,t.n)}function c(p){const{allowedPrivateKeyLengths:b,nByteLength:w,wrapPrivateKey:y,n:v}=t;if(b&&typeof p!="bigint"){if(wd(p)&&(p=up(p)),typeof p!="string"||!b.includes(p.length))throw new Error("invalid private key");p=p.padStart(w*2,"0")}let m;try{m=typeof p=="bigint"?p:td(us("private key",p,w))}catch{throw new Error("invalid private key, expected hex or "+w+" bytes, got "+typeof p)}return y&&(m=Ni(m,v)),yc("private key",m,un,v),m}function u(p){if(!(p instanceof d))throw new Error("ProjectivePoint expected")}const l=uI((p,b)=>{const{px:w,py:y,pz:v}=p;if(r.eql(v,r.ONE))return{x:w,y};const m=p.is0();b==null&&(b=m?r.ONE:r.inv(v));const C=r.mul(w,b),E=r.mul(y,b),_=r.mul(v,b);if(m)return{x:r.ZERO,y:r.ZERO};if(!r.eql(_,r.ONE))throw new Error("invZ was invalid");return{x:C,y:E}}),f=uI(p=>{if(p.is0()){if(t.allowInfinityPoint&&!r.is0(p.py))return;throw new Error("bad point: ZERO")}const{x:b,y:w}=p.toAffine();if(!r.isValid(b)||!r.isValid(w))throw new Error("bad point: x or y not FE");const y=r.sqr(w),v=o(b);if(!r.eql(y,v))throw new Error("bad point: equation left != right");if(!p.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(b,w,y){if(this.px=b,this.py=w,this.pz=y,b==null||!r.isValid(b))throw new Error("x required");if(w==null||!r.isValid(w))throw new Error("y required");if(y==null||!r.isValid(y))throw new Error("z required");Object.freeze(this)}static fromAffine(b){const{x:w,y}=b||{};if(!b||!r.isValid(w)||!r.isValid(y))throw new Error("invalid affine point");if(b instanceof d)throw new Error("projective point not allowed");const v=m=>r.eql(m,r.ZERO);return v(w)&&v(y)?d.ZERO:new d(w,y,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const w=r.invertBatch(b.map(y=>y.pz));return b.map((y,v)=>y.toAffine(w[v])).map(d.fromAffine)}static fromHex(b){const w=d.fromAffine(s(us("pointHex",b)));return w.assertValidity(),w}static fromPrivateKey(b){return d.BASE.multiply(c(b))}static msm(b,w){return XEe(d,n,b,w)}_setWindowSize(b){g.setWindowSize(this,b)}assertValidity(){f(this)}hasEvenY(){const{y:b}=this.toAffine();if(r.isOdd)return!r.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){u(b);const{px:w,py:y,pz:v}=this,{px:m,py:C,pz:E}=b,_=r.eql(r.mul(w,E),r.mul(m,v)),P=r.eql(r.mul(y,E),r.mul(C,v));return _&&P}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){const{a:b,b:w}=t,y=r.mul(w,SU),{px:v,py:m,pz:C}=this;let E=r.ZERO,_=r.ZERO,P=r.ZERO,x=r.mul(v,v),O=r.mul(m,m),D=r.mul(C,C),R=r.mul(v,m);return R=r.add(R,R),P=r.mul(v,C),P=r.add(P,P),E=r.mul(b,P),_=r.mul(y,D),_=r.add(E,_),E=r.sub(O,_),_=r.add(O,_),_=r.mul(E,_),E=r.mul(R,E),P=r.mul(y,P),D=r.mul(b,D),R=r.sub(x,D),R=r.mul(b,R),R=r.add(R,P),P=r.add(x,x),x=r.add(P,x),x=r.add(x,D),x=r.mul(x,R),_=r.add(_,x),D=r.mul(m,C),D=r.add(D,D),x=r.mul(D,R),E=r.sub(E,x),P=r.mul(D,O),P=r.add(P,P),P=r.add(P,P),new d(E,_,P)}add(b){u(b);const{px:w,py:y,pz:v}=this,{px:m,py:C,pz:E}=b;let _=r.ZERO,P=r.ZERO,x=r.ZERO;const O=t.a,D=r.mul(t.b,SU);let R=r.mul(w,m),k=r.mul(y,C),T=r.mul(v,E),S=r.add(w,y),I=r.add(m,C);S=r.mul(S,I),I=r.add(R,k),S=r.sub(S,I),I=r.add(w,v);let A=r.add(m,E);return I=r.mul(I,A),A=r.add(R,T),I=r.sub(I,A),A=r.add(y,v),_=r.add(C,E),A=r.mul(A,_),_=r.add(k,T),A=r.sub(A,_),x=r.mul(O,I),_=r.mul(D,T),x=r.add(_,x),_=r.sub(k,x),x=r.add(k,x),P=r.mul(_,x),k=r.add(R,R),k=r.add(k,R),T=r.mul(O,T),I=r.mul(D,I),k=r.add(k,T),T=r.sub(R,T),T=r.mul(O,T),I=r.add(I,T),R=r.mul(k,I),P=r.add(P,R),R=r.mul(A,I),_=r.mul(S,_),_=r.sub(_,R),R=r.mul(S,k),x=r.mul(A,x),x=r.add(x,R),new d(_,P,x)}subtract(b){return this.add(b.negate())}is0(){return this.equals(d.ZERO)}wNAF(b){return g.wNAFCached(this,b,d.normalizeZ)}multiplyUnsafe(b){const{endo:w,n:y}=t;yc("scalar",b,fc,y);const v=d.ZERO;if(b===fc)return v;if(this.is0()||b===un)return this;if(!w||g.hasPrecomputes(this))return g.wNAFCachedUnsafe(this,b,d.normalizeZ);let{k1neg:m,k1:C,k2neg:E,k2:_}=w.splitScalar(b),P=v,x=v,O=this;for(;C>fc||_>fc;)C&un&&(P=P.add(O)),_&un&&(x=x.add(O)),O=O.double(),C>>=un,_>>=un;return m&&(P=P.negate()),E&&(x=x.negate()),x=new d(r.mul(x.px,w.beta),x.py,x.pz),P.add(x)}multiply(b){const{endo:w,n:y}=t;yc("scalar",b,un,y);let v,m;if(w){const{k1neg:C,k1:E,k2neg:_,k2:P}=w.splitScalar(b);let{p:x,f:O}=this.wNAF(E),{p:D,f:R}=this.wNAF(P);x=g.constTimeNegate(C,x),D=g.constTimeNegate(_,D),D=new d(r.mul(D.px,w.beta),D.py,D.pz),v=x.add(D),m=O.add(R)}else{const{p:C,f:E}=this.wNAF(b);v=C,m=E}return d.normalizeZ([v,m])[0]}multiplyAndAddUnsafe(b,w,y){const v=d.BASE,m=(E,_)=>_===fc||_===un||!E.equals(v)?E.multiplyUnsafe(_):E.multiply(_),C=m(this,w).add(m(b,y));return C.is0()?void 0:C}toAffine(b){return l(this,b)}isTorsionFree(){const{h:b,isTorsionFree:w}=t;if(b===un)return!0;if(w)return w(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:w}=t;return b===un?this:w?w(d,this):this.multiplyUnsafe(t.h)}toRawBytes(b=!0){return cp("isCompressed",b),this.assertValidity(),i(d,this,b)}toHex(b=!0){return cp("isCompressed",b),up(this.toRawBytes(b))}}d.BASE=new d(t.Gx,t.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);const h=t.nBitLength,g=JEe(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function f8e(e){const t=aX(e);return Zp(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function h8e(e){const t=f8e(e),{Fp:r,n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function o(T){return Ni(T,n)}function a(T){return dI(T,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:f}=d8e({...t,toBytes(T,S,I){const A=S.toAffine(),j=r.toBytes(A.x),N=qm;return cp("isCompressed",I),I?N(Uint8Array.from([S.hasEvenY()?2:3]),j):N(Uint8Array.from([4]),j,r.toBytes(A.y))},fromBytes(T){const S=T.length,I=T[0],A=T.subarray(1);if(S===i&&(I===2||I===3)){const j=td(A);if(!n8(j,un,r.ORDER))throw new Error("Point is not on curve");const N=l(j);let B;try{B=r.sqrt(N)}catch(M){const L=M instanceof Error?": "+M.message:"";throw new Error("Point is not on curve"+L)}const $=(B&un)===un;return(I&1)===1!==$&&(B=r.neg(B)),{x:j,y:B}}else if(S===s&&I===4){const j=r.fromBytes(A.subarray(0,r.BYTES)),N=r.fromBytes(A.subarray(r.BYTES,2*r.BYTES));return{x:j,y:N}}else{const j=i,N=s;throw new Error("invalid Point, expected length of "+j+", or uncompressed "+N+", got "+S)}}}),d=T=>up(dp(T,t.nByteLength));function h(T){const S=n>>un;return T>S}function g(T){return h(T)?o(-T):T}const p=(T,S,I)=>td(T.slice(S,I));class b{constructor(S,I,A){this.r=S,this.s=I,this.recovery=A,this.assertValidity()}static fromCompact(S){const I=t.nByteLength;return S=us("compactSignature",S,I*2),new b(p(S,0,I),p(S,I,2*I))}static fromDER(S){const{r:I,s:A}=oc.toSig(us("DER",S));return new b(I,A)}assertValidity(){yc("r",this.r,un,n),yc("s",this.s,un,n)}addRecoveryBit(S){return new b(this.r,this.s,S)}recoverPublicKey(S){const{r:I,s:A,recovery:j}=this,N=E(us("msgHash",S));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const B=j===2||j===3?I+t.n:I;if(B>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const $=(j&1)===0?"02":"03",M=c.fromHex($+d(B)),L=a(B),q=o(-N*L),U=o(A*L),F=c.BASE.multiplyAndAddUnsafe(M,q,U);if(!F)throw new Error("point at infinify");return F.assertValidity(),F}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return lp(this.toDERHex())}toDERHex(){return oc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return lp(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const w={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=iX(t.n);return ZEe(t.randomBytes(T),t.n)},precompute(T=8,S=c.BASE){return S._setWindowSize(T),S.multiply(BigInt(3)),S}};function y(T,S=!0){return c.fromPrivateKey(T).toRawBytes(S)}function v(T){const S=wd(T),I=typeof T=="string",A=(S||I)&&T.length;return S?A===i||A===s:I?A===2*i||A===2*s:T instanceof c}function m(T,S,I=!0){if(v(T))throw new Error("first arg must be private key");if(!v(S))throw new Error("second arg must be public key");return c.fromHex(S).multiply(u(T)).toRawBytes(I)}const C=t.bits2int||function(T){if(T.length>8192)throw new Error("input is too large");const S=td(T),I=T.length*8-t.nBitLength;return I>0?S>>BigInt(I):S},E=t.bits2int_modN||function(T){return o(C(T))},_=E7(t.nBitLength);function P(T){return yc("num < 2^"+t.nBitLength,T,fc,_),dp(T,t.nByteLength)}function x(T,S,I=O){if(["recovered","canonical"].some(V=>V in I))throw new Error("sign() legacy options not supported");const{hash:A,randomBytes:j}=t;let{lowS:N,prehash:B,extraEntropy:$}=I;N==null&&(N=!0),T=us("msgHash",T),PU(I),B&&(T=us("prehashed msgHash",A(T)));const M=E(T),L=u(S),q=[P(L),P(M)];if($!=null&&$!==!1){const V=$===!0?j(r.BYTES):$;q.push(us("extraEntropy",V))}const U=qm(...q),F=M;function H(V){const W=C(V);if(!f(W))return;const Z=a(W),X=c.BASE.multiply(W).toAffine(),ue=o(X.x);if(ue===fc)return;const Y=o(Z*o(F+ue*L));if(Y===fc)return;let Q=(X.x===ue?0:2)|Number(X.y&un),ae=Y;return N&&h(Y)&&(ae=g(Y),Q^=1),new b(ue,ae,Q)}return{seed:U,k2sig:H}}const O={lowS:t.lowS,prehash:!1},D={lowS:t.lowS,prehash:!1};function R(T,S,I=O){const{seed:A,k2sig:j}=x(T,S,I),N=t;return XJ(N.hash.outputLen,N.nByteLength,N.hmac)(A,j)}c.BASE._setWindowSize(8);function k(T,S,I,A=D){const j=T;S=us("msgHash",S),I=us("publicKey",I);const{lowS:N,prehash:B,format:$}=A;if(PU(A),"strict"in A)throw new Error("options.strict was renamed to lowS");if($!==void 0&&$!=="compact"&&$!=="der")throw new Error("format must be compact or der");const M=typeof j=="string"||wd(j),L=!M&&!$&&typeof j=="object"&&j!==null&&typeof j.r=="bigint"&&typeof j.s=="bigint";if(!M&&!L)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let q,U;try{if(L&&(q=new b(j.r,j.s)),M){try{$!=="compact"&&(q=b.fromDER(j))}catch(Y){if(!(Y instanceof oc.Err))throw Y}!q&&$!=="der"&&(q=b.fromCompact(j))}U=c.fromHex(I)}catch{return!1}if(!q||N&&q.hasHighS())return!1;B&&(S=t.hash(S));const{r:F,s:H}=q,V=E(S),W=a(H),Z=o(V*W),X=o(F*W),ue=c.BASE.multiplyAndAddUnsafe(U,Z,X)?.toAffine();return ue?o(ue.x)===F:!1}return{CURVE:t,getPublicKey:y,getSharedSecret:m,sign:R,verify:k,ProjectivePoint:c,Signature:b,utils:w}}function p8e(e){return{hash:e,hmac:(t,...r)=>XE(e,t,y3e(...r)),randomBytes:Kp}}function g8e(e,t){const r=n=>h8e({...e,...p8e(n)});return{...r(t),create:r}}const cX=rX(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),m8e=cX.create(BigInt("-3")),b8e=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),y8e=g8e({a:m8e,b:b8e,Fp:cX,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},cb),uX="base10",gi="base16",Eo="base64pad",fu="base64url",lb="utf8",lX=0,wc=1,db=2,w8e=0,TU=1,Zg=12,_7=32;function v8e(){const e=hI.utils.randomPrivateKey(),t=hI.getPublicKey(e);return{privateKey:qt(e,gi),publicKey:qt(t,gi)}}function pI(){const e=Kp(_7);return qt(e,gi)}function E8e(e,t){const r=hI.getSharedSecret(dr(e,gi),dr(t,gi)),n=xEe(cb,r,void 0,void 0,_7);return qt(n,gi)}function e5(e){const t=cb(dr(e,gi));return qt(t,gi)}function ta(e){const t=cb(dr(e,lb));return qt(t,gi)}function dX(e){return dr(`${e}`,uX)}function vd(e){return Number(qt(e,uX))}function fX(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function hX(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-t.length%4)%4;return t+"=".repeat(r)}function _8e(e){const t=dX(typeof e.type<"u"?e.type:lX);if(vd(t)===wc&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof e.senderPublicKey<"u"?dr(e.senderPublicKey,gi):void 0,n=typeof e.iv<"u"?dr(e.iv,gi):Kp(Zg),i=dr(e.symKey,gi),s=YJ(i,n).encrypt(dr(e.message,lb)),o=pX({type:t,sealed:s,iv:n,senderPublicKey:r});return e.encoding===fu?fX(o):o}function C8e(e){const t=dr(e.symKey,gi),{sealed:r,iv:n}=zm({encoded:e.encoded,encoding:e.encoding}),i=YJ(t,n).decrypt(r);if(i===null)throw new Error("Failed to decrypt");return qt(i,lb)}function A8e(e,t){const r=dX(db),n=Kp(Zg),i=dr(e,lb),s=pX({type:r,sealed:i,iv:n});return t===fu?fX(s):s}function x8e(e,t){const{sealed:r}=zm({encoded:e,encoding:t});return qt(r,lb)}function pX(e){if(vd(e.type)===db)return qt(aa([e.type,e.sealed]),Eo);if(vd(e.type)===wc){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return qt(aa([e.type,e.senderPublicKey,e.iv,e.sealed]),Eo)}return qt(aa([e.type,e.iv,e.sealed]),Eo)}function zm(e){const t=(e.encoding||Eo)===fu?hX(e.encoded):e.encoded,r=dr(t,Eo),n=r.slice(w8e,TU),i=TU;if(vd(n)===wc){const c=i+_7,u=c+Zg,l=r.slice(i,c),f=r.slice(c,u),d=r.slice(u);return{type:n,sealed:d,iv:f,senderPublicKey:l}}if(vd(n)===db){const c=r.slice(i),u=Kp(Zg);return{type:n,sealed:c,iv:u}}const s=i+Zg,o=r.slice(i,s),a=r.slice(s);return{type:n,sealed:a,iv:o}}function I8e(e,t){const r=zm({encoded:e,encoding:t?.encoding});return gX({type:vd(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?qt(r.senderPublicKey,gi):void 0,receiverPublicKey:t?.receiverPublicKey})}function gX(e){const t=e?.type||lX;if(t===wc){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function OU(e){return e.type===wc&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}function jU(e){return e.type===db}function P8e(e){const t=pt.from(e.x,"base64"),r=pt.from(e.y,"base64");return aa([new Uint8Array([4]),t,r])}function S8e(e,t){const[r,n,i]=e.split("."),s=pt.from(hX(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${r}.${n}`,u=cb(c),l=P8e(t);if(!y8e.verify(aa([o,a]),u,l))throw new Error("Invalid signature");return ip(e).payload}const T8e="irn";function G5(e){return e?.relay||{protocol:T8e}}function Ug(e){const t=jJ[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}function O8e(e,t="-"){const r={},n="relay"+t;return Object.keys(e).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=e[i];r[s]=o}}),r}function BU(e){if(!e.includes("wc:")){const u=$J(e);u!=null&&u.includes("wc:")&&(e=u)}e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),r=e.indexOf("?")!==-1?e.indexOf("?"):void 0,n=e.substring(0,t),i=e.substring(t+1,r).split("@"),s=typeof r<"u"?e.substring(r):"",o=new URLSearchParams(s),a={};o.forEach((u,l)=>{a[l]=u});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:j8e(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:O8e(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function j8e(e){return e.startsWith("//")?e.substring(2):e}function B8e(e,t="-"){const r="relay",n={};return Object.keys(e).forEach(i=>{const s=i,o=r+t+s;e[s]&&(n[o]=e[s])}),n}function RU(e){const t=new URLSearchParams,r=B8e(e.relay);Object.keys(r).sort().forEach(i=>{t.set(i,r[i])}),t.set("symKey",e.symKey),e.expiryTimestamp&&t.set("expiryTimestamp",e.expiryTimestamp.toString()),e.methods&&t.set("methods",e.methods.join(","));const n=t.toString();return`${e.protocol}:${e.topic}@${e.version}?${n}`}function E6(e,t,r){return`${e}?wc_ev=${r}&topic=${t}`}var R8e=Object.defineProperty,k8e=Object.defineProperties,N8e=Object.getOwnPropertyDescriptors,kU=Object.getOwnPropertySymbols,D8e=Object.prototype.hasOwnProperty,$8e=Object.prototype.propertyIsEnumerable,NU=(e,t,r)=>t in e?R8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,M8e=(e,t)=>{for(var r in t||(t={}))D8e.call(t,r)&&NU(e,r,t[r]);if(kU)for(var r of kU(t))$8e.call(t,r)&&NU(e,r,t[r]);return e},L8e=(e,t)=>k8e(e,N8e(t));function Yp(e){const t=[];return e.forEach(r=>{const[n,i]=r.split(":");t.push(`${n}:${i}`)}),t}function U8e(e){const t=[];return Object.values(e).forEach(r=>{t.push(...Yp(r.accounts))}),t}function q8e(e,t){const r=[];return Object.values(e).forEach(n=>{Yp(n.accounts).includes(t)&&r.push(...n.methods)}),r}function z8e(e,t){const r=[];return Object.values(e).forEach(n=>{Yp(n.accounts).includes(t)&&r.push(...n.events)}),r}function i8(e){return e.includes(":")}function Sh(e){return i8(e)?e.split(":")[0]:e}function DU(e){var t,r,n;const i={};if(!vu(e))return i;for(const[s,o]of Object.entries(e)){const a=i8(s)?[s]:o.chains,c=o.methods||[],u=o.events||[],l=Sh(s);i[l]=L8e(M8e({},i[l]),{chains:ca(a,(t=i[l])==null?void 0:t.chains),methods:ca(c,(r=i[l])==null?void 0:r.methods),events:ca(u,(n=i[l])==null?void 0:n.events)})}return i}function F8e(e){const t={};return e?.forEach(r=>{var n;const[i,s]=r.split(":");t[i]||(t[i]={accounts:[],chains:[],events:[],methods:[]}),t[i].accounts.push(r),(n=t[i].chains)==null||n.push(`${i}:${s}`)}),t}function $U(e,t){t=t.map(n=>n.replace("did:pkh:",""));const r=F8e(t);for(const[n,i]of Object.entries(r))i.methods?i.methods=ca(i.methods,e):i.methods=e,i.events=["chainChanged","accountsChanged"];return r}function H8e(e,t){var r,n,i,s,o,a;const c=DU(e),u=DU(t),l={},f=Object.keys(c).concat(Object.keys(u));for(const d of f)l[d]={chains:ca((r=c[d])==null?void 0:r.chains,(n=u[d])==null?void 0:n.chains),methods:ca((i=c[d])==null?void 0:i.methods,(s=u[d])==null?void 0:s.methods),events:ca((o=c[d])==null?void 0:o.events,(a=u[d])==null?void 0:a.events)};return l}const W8e={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},V8e={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function _e(e,t){const{message:r,code:n}=V8e[e];return{message:t?`${r} ${t}`:r,code:n}}function Dt(e,t){const{message:r,code:n}=W8e[e];return{message:t?`${r} ${t}`:r,code:n}}function Co(e,t){return!!Array.isArray(e)}function vu(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function Rn(e){return typeof e>"u"}function Mr(e,t){return t&&Rn(e)?!0:typeof e=="string"&&!!e.trim().length}function C7(e,t){return t&&Rn(e)?!0:typeof e=="number"&&!isNaN(e)}function G8e(e,t){const{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),i=Object.keys(r);let s=!0;return Gl(i,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:u}=e.namespaces[o],l=Yp(a),f=r[o];(!Gl(BJ(o,f),l)||!Gl(f.methods,c)||!Gl(f.events,u))&&(s=!1)}),s):!1}function K5(e){return Mr(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function K8e(e){if(Mr(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const r=t[0]+":"+t[1];return!!t[2]&&K5(r)}}return!1}function Z8e(e){function t(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(Mr(e,!1)){if(t(e))return!0;const r=$J(e);return t(r)}}catch{}return!1}function Y8e(e){var t;return(t=e?.proposer)==null?void 0:t.publicKey}function Q8e(e){return e?.topic}function J8e(e,t){let r=null;return Mr(e?.publicKey,!1)||(r=_e("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}function MU(e){let t=!0;return Co(e)?e.length&&(t=e.every(r=>Mr(r,!1))):t=!1,t}function X8e(e,t,r){let n=null;return Co(t)&&t.length?t.forEach(i=>{n||K5(i)||(n=Dt("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):K5(e)||(n=Dt("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function e_e(e,t,r){let n=null;return Object.entries(e).forEach(([i,s])=>{if(n)return;const o=X8e(i,BJ(i,s),`${t} ${r}`);o&&(n=o)}),n}function t_e(e,t){let r=null;return Co(e)?e.forEach(n=>{r||K8e(n)||(r=Dt("UNSUPPORTED_ACCOUNTS",`${t}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Dt("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function r_e(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;const i=t_e(n?.accounts,`${t} namespace`);i&&(r=i)}),r}function n_e(e,t){let r=null;return MU(e?.methods)?MU(e?.events)||(r=Dt("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=Dt("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}function mX(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;const i=n_e(n,`${t}, namespace`);i&&(r=i)}),r}function i_e(e,t,r){let n=null;if(e&&vu(e)){const i=mX(e,t);i&&(n=i);const s=e_e(e,t,r);s&&(n=s)}else n=_e("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}function Q4(e,t){let r=null;if(e&&vu(e)){const n=mX(e,t);n&&(r=n);const i=r_e(e,t);i&&(r=i)}else r=_e("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function bX(e){return Mr(e.protocol,!0)}function s_e(e,t){let r=!1;return e?e&&Co(e)&&e.length&&e.forEach(n=>{r=bX(n)}):r=!0,r}function o_e(e){return typeof e=="number"}function Oi(e){return typeof e<"u"&&typeof e!==null}function a_e(e){return!(!e||typeof e!="object"||!e.code||!C7(e.code,!1)||!e.message||!Mr(e.message,!1))}function c_e(e){return!(Rn(e)||!Mr(e.method,!1))}function u_e(e){return!(Rn(e)||Rn(e.result)&&Rn(e.error)||!C7(e.id,!1)||!Mr(e.jsonrpc,!1))}function l_e(e){return!(Rn(e)||!Mr(e.name,!1))}function LU(e,t){return!(!K5(t)||!U8e(e).includes(t))}function d_e(e,t,r){return Mr(r,!1)?q8e(e,t).includes(r):!1}function f_e(e,t,r){return Mr(r,!1)?z8e(e,t).includes(r):!1}function UU(e,t,r){let n=null;const i=h_e(e),s=p_e(t),o=Object.keys(i),a=Object.keys(s),c=qU(Object.keys(e)),u=qU(Object.keys(t)),l=c.filter(f=>!u.includes(f));return l.length&&(n=_e("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${l.toString()}
      Received: ${Object.keys(t).toString()}`)),Gl(o,a)||(n=_e("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(t).forEach(f=>{if(!f.includes(":")||n)return;const d=Yp(t[f].accounts);d.includes(f)||(n=_e("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${d.toString()}`))}),o.forEach(f=>{n||(Gl(i[f].methods,s[f].methods)?Gl(i[f].events,s[f].events)||(n=_e("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${f}`)):n=_e("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${f}`))}),n}function h_e(e){const t={};return Object.keys(e).forEach(r=>{var n;r.includes(":")?t[r]=e[r]:(n=e[r].chains)==null||n.forEach(i=>{t[i]={methods:e[r].methods,events:e[r].events}})}),t}function qU(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function p_e(e){const t={};return Object.keys(e).forEach(r=>{r.includes(":")?t[r]=e[r]:Yp(e[r].accounts)?.forEach(i=>{t[i]={accounts:e[r].accounts.filter(s=>s.includes(`${i}:`)),methods:e[r].methods,events:e[r].events}})}),t}function g_e(e,t){return C7(e,!1)&&e<=t.max&&e>=t.min}function zU(){const e=ob();return new Promise(t=>{switch(e){case gs.browser:t(m_e());break;case gs.reactNative:t(b_e());break;case gs.node:t(y_e());break;default:t(!0)}})}function m_e(){return Gp()&&navigator?.onLine}async function b_e(){return Wu()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo?(await globalThis?.NetInfo.fetch())?.isConnected:!0}function y_e(){return!0}function w_e(e){switch(ob()){case gs.browser:v_e(e);break;case gs.reactNative:E_e(e);break}}function v_e(e){!Wu()&&Gp()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function E_e(e){Wu()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo&&globalThis?.NetInfo.addEventListener(t=>e(t?.isConnected))}function __e(){var e;return Gp()&&Cn.getDocument()?((e=Cn.getDocument())==null?void 0:e.visibilityState)==="visible":!0}const J4={};let Eg=class{static get(t){return J4[t]}static set(t,r){J4[t]=r}static delete(t){delete J4[t]}};class Ss{}let C_e=class extends Ss{constructor(t){super()}};const FU=ie.FIVE_SECONDS,Ts={pulse:"heartbeat_pulse"};let yX=class wX extends C_e{constructor(t){super(t),this.events=new Wr.EventEmitter,this.interval=FU,this.interval=t?.interval||FU}static async init(t){const r=new wX(t);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),ie.toMiliseconds(this.interval))}pulse(){this.events.emit(Ts.pulse)}};const A_e=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,x_e=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,I_e=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function P_e(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){S_e(e);return}return t}function S_e(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function _6(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const r=e.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!I_e.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(A_e.test(e)||x_e.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,P_e)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}function T_e(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function on(e,...t){try{return T_e(e(...t))}catch(r){return Promise.reject(r)}}function O_e(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function j_e(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function t5(e){if(O_e(e))return String(e);if(j_e(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return t5(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const gI="base64:";function B_e(e){return typeof e=="string"?e:gI+N_e(e)}function R_e(e){return typeof e!="string"||!e.startsWith(gI)?e:k_e(e.slice(gI.length))}function k_e(e){return globalThis.Buffer?pt.from(e,"base64"):Uint8Array.from(globalThis.atob(e),t=>t.codePointAt(0))}function N_e(e){return globalThis.Buffer?pt.from(e).toString("base64"):globalThis.btoa(String.fromCodePoint(...e))}function Ti(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function D_e(...e){return Ti(e.join(":"))}function C6(e){return e=Ti(e),e?e+":":""}function $_e(e,t){if(t===void 0)return!0;let r=0,n=e.indexOf(":");for(;n>-1;)r++,n=e.indexOf(":",n+1);return r<=t}function M_e(e,t){return t?e.startsWith(t)&&e[e.length-1]!=="$":e[e.length-1]!=="$"}const L_e="memory",U_e=()=>{const e=new Map;return{name:L_e,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}};function q_e(e={}){const t={mounts:{"":e.driver||U_e()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=u=>{for(const l of t.mountpoints)if(u.startsWith(l))return{base:l,relativeKey:u.slice(l.length),driver:t.mounts[l]};return{base:"",relativeKey:u,driver:t.mounts[""]}},n=(u,l)=>t.mountpoints.filter(f=>f.startsWith(u)||l&&u.startsWith(f)).map(f=>({relativeBase:u.length>f.length?u.slice(f.length):void 0,mountpoint:f,driver:t.mounts[f]})),i=(u,l)=>{if(t.watching){l=Ti(l);for(const f of t.watchListeners)f(u,l)}},s=async()=>{if(!t.watching){t.watching=!0;for(const u in t.mounts)t.unwatch[u]=await HU(t.mounts[u],i,u)}},o=async()=>{if(t.watching){for(const u in t.unwatch)await t.unwatch[u]();t.unwatch={},t.watching=!1}},a=(u,l,f)=>{const d=new Map,h=g=>{let p=d.get(g.base);return p||(p={driver:g.driver,base:g.base,items:[]},d.set(g.base,p)),p};for(const g of u){const p=typeof g=="string",b=Ti(p?g:g.key),w=p?void 0:g.value,y=p||!g.options?l:{...l,...g.options},v=r(b);h(v).items.push({key:b,value:w,relativeKey:v.relativeKey,options:y})}return Promise.all([...d.values()].map(g=>f(g))).then(g=>g.flat())},c={hasItem(u,l={}){u=Ti(u);const{relativeKey:f,driver:d}=r(u);return on(d.hasItem,f,l)},getItem(u,l={}){u=Ti(u);const{relativeKey:f,driver:d}=r(u);return on(d.getItem,f,l).then(h=>_6(h))},getItems(u,l={}){return a(u,l,f=>f.driver.getItems?on(f.driver.getItems,f.items.map(d=>({key:d.relativeKey,options:d.options})),l).then(d=>d.map(h=>({key:D_e(f.base,h.key),value:_6(h.value)}))):Promise.all(f.items.map(d=>on(f.driver.getItem,d.relativeKey,d.options).then(h=>({key:d.key,value:_6(h)})))))},getItemRaw(u,l={}){u=Ti(u);const{relativeKey:f,driver:d}=r(u);return d.getItemRaw?on(d.getItemRaw,f,l):on(d.getItem,f,l).then(h=>R_e(h))},async setItem(u,l,f={}){if(l===void 0)return c.removeItem(u);u=Ti(u);const{relativeKey:d,driver:h}=r(u);h.setItem&&(await on(h.setItem,d,t5(l),f),h.watch||i("update",u))},async setItems(u,l){await a(u,l,async f=>{if(f.driver.setItems)return on(f.driver.setItems,f.items.map(d=>({key:d.relativeKey,value:t5(d.value),options:d.options})),l);f.driver.setItem&&await Promise.all(f.items.map(d=>on(f.driver.setItem,d.relativeKey,t5(d.value),d.options)))})},async setItemRaw(u,l,f={}){if(l===void 0)return c.removeItem(u,f);u=Ti(u);const{relativeKey:d,driver:h}=r(u);if(h.setItemRaw)await on(h.setItemRaw,d,l,f);else if(h.setItem)await on(h.setItem,d,B_e(l),f);else return;h.watch||i("update",u)},async removeItem(u,l={}){typeof l=="boolean"&&(l={removeMeta:l}),u=Ti(u);const{relativeKey:f,driver:d}=r(u);d.removeItem&&(await on(d.removeItem,f,l),(l.removeMeta||l.removeMata)&&await on(d.removeItem,f+"$",l),d.watch||i("remove",u))},async getMeta(u,l={}){typeof l=="boolean"&&(l={nativeOnly:l}),u=Ti(u);const{relativeKey:f,driver:d}=r(u),h=Object.create(null);if(d.getMeta&&Object.assign(h,await on(d.getMeta,f,l)),!l.nativeOnly){const g=await on(d.getItem,f+"$",l).then(p=>_6(p));g&&typeof g=="object"&&(typeof g.atime=="string"&&(g.atime=new Date(g.atime)),typeof g.mtime=="string"&&(g.mtime=new Date(g.mtime)),Object.assign(h,g))}return h},setMeta(u,l,f={}){return this.setItem(u+"$",l,f)},removeMeta(u,l={}){return this.removeItem(u+"$",l)},async getKeys(u,l={}){u=C6(u);const f=n(u,!0);let d=[];const h=[];let g=!0;for(const b of f){b.driver.flags?.maxDepth||(g=!1);const w=await on(b.driver.getKeys,b.relativeBase,l);for(const y of w){const v=b.mountpoint+Ti(y);d.some(m=>v.startsWith(m))||h.push(v)}d=[b.mountpoint,...d.filter(y=>!y.startsWith(b.mountpoint))]}const p=l.maxDepth!==void 0&&!g;return h.filter(b=>(!p||$_e(b,l.maxDepth))&&M_e(b,u))},async clear(u,l={}){u=C6(u),await Promise.all(n(u,!1).map(async f=>{if(f.driver.clear)return on(f.driver.clear,f.relativeBase,l);if(f.driver.removeItem){const d=await f.driver.getKeys(f.relativeBase||"",l);return Promise.all(d.map(h=>f.driver.removeItem(h,l)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(u=>WU(u)))},async watch(u){return await s(),t.watchListeners.push(u),async()=>{t.watchListeners=t.watchListeners.filter(l=>l!==u),t.watchListeners.length===0&&await o()}},async unwatch(){t.watchListeners=[],await o()},mount(u,l){if(u=C6(u),u&&t.mounts[u])throw new Error(`already mounted at ${u}`);return u&&(t.mountpoints.push(u),t.mountpoints.sort((f,d)=>d.length-f.length)),t.mounts[u]=l,t.watching&&Promise.resolve(HU(l,i,u)).then(f=>{t.unwatch[u]=f}).catch(console.error),c},async unmount(u,l=!0){u=C6(u),!(!u||!t.mounts[u])&&(t.watching&&u in t.unwatch&&(t.unwatch[u]?.(),delete t.unwatch[u]),l&&await WU(t.mounts[u]),t.mountpoints=t.mountpoints.filter(f=>f!==u),delete t.mounts[u])},getMount(u=""){u=Ti(u)+":";const l=r(u);return{driver:l.driver,base:l.base}},getMounts(u="",l={}){return u=Ti(u),n(u,l.parents).map(d=>({driver:d.driver,base:d.mountpoint}))},keys:(u,l={})=>c.getKeys(u,l),get:(u,l={})=>c.getItem(u,l),set:(u,l,f={})=>c.setItem(u,l,f),has:(u,l={})=>c.hasItem(u,l),del:(u,l={})=>c.removeItem(u,l),remove:(u,l={})=>c.removeItem(u,l)};return c}function HU(e,t,r){return e.watch?e.watch((n,i)=>t(n,r+i)):()=>{}}async function WU(e){typeof e.dispose=="function"&&await on(e.dispose)}const z_e="idb-keyval";var F_e=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",r=i=>t+i;let n;return e.dbName&&e.storeName&&(n=DK(e.dbName,e.storeName)),{name:z_e,options:e,async hasItem(i){return!(typeof await tj(r(i),n)>"u")},async getItem(i){return await tj(r(i),n)??null},setItem(i,s){return ahe(r(i),s,n)},removeItem(i){return che(r(i),n)},getKeys(){return dhe(n)},clear(){return uhe(n)}}};const H_e="WALLET_CONNECT_V2_INDEXED_DB",W_e="keyvaluestorage";let V_e=class{constructor(){this.indexedDb=q_e({driver:F_e({dbName:H_e,storeName:W_e})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const r=await this.indexedDb.getItem(t);if(r!==null)return r}async setItem(t,r){await this.indexedDb.setItem(t,ga(r))}async removeItem(t){await this.indexedDb.removeItem(t)}};var X4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},r5={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},e.prototype.setItem=function(r,n){this[r]=String(n)},e.prototype.removeItem=function(r){delete this[r]},e.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},e.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof X4<"u"&&X4.localStorage?r5.exports=X4.localStorage:typeof window<"u"&&window.localStorage?r5.exports=window.localStorage:r5.exports=new t})();function G_e(e){var t;return[e[0],Cc((t=e[1])!=null?t:"")]}let K_e=class{constructor(){this.localStorage=r5.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(G_e)}async getItem(t){const r=this.localStorage.getItem(t);if(r!==null)return Cc(r)}async setItem(t,r){this.localStorage.setItem(t,ga(r))}async removeItem(t){this.localStorage.removeItem(t)}};const Z_e="wc_storage_version",VU=1,Y_e=async(e,t,r)=>{const n=Z_e,i=await t.getItem(n);if(i&&i>=VU){r(t);return}const s=await e.getKeys();if(!s.length){r(t);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const u=await e.getItem(a);await t.setItem(a,u),o.push(a)}}await t.setItem(n,VU),r(t),Q_e(e,o)},Q_e=async(e,t)=>{t.length&&t.forEach(async r=>{await e.removeItem(r)})};let vX=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const t=new K_e;this.storage=t;try{const r=new V_e;Y_e(t,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,r){return await this.initialize(),this.storage.setItem(t,r)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),t())},20)})}};var eC,GU;function J_e(){if(GU)return eC;GU=1;function e(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}eC=t;function t(r,n,i){var s=i&&i.stringify||e,o=1;if(typeof r=="object"&&r!==null){var a=n.length+o;if(a===1)return r;var c=new Array(a);c[0]=s(r);for(var u=1;u<a;u++)c[u]=s(n[u]);return c.join(" ")}if(typeof r!="string")return r;var l=n.length;if(l===0)return r;for(var f="",d=1-o,h=-1,g=r&&r.length||0,p=0;p<g;){if(r.charCodeAt(p)===37&&p+1<g){switch(h=h>-1?h:0,r.charCodeAt(p+1)){case 100:case 102:if(d>=l||n[d]==null)break;h<p&&(f+=r.slice(h,p)),f+=Number(n[d]),h=p+2,p++;break;case 105:if(d>=l||n[d]==null)break;h<p&&(f+=r.slice(h,p)),f+=Math.floor(Number(n[d])),h=p+2,p++;break;case 79:case 111:case 106:if(d>=l||n[d]===void 0)break;h<p&&(f+=r.slice(h,p));var b=typeof n[d];if(b==="string"){f+="'"+n[d]+"'",h=p+2,p++;break}if(b==="function"){f+=n[d].name||"<anonymous>",h=p+2,p++;break}f+=s(n[d]),h=p+2,p++;break;case 115:if(d>=l)break;h<p&&(f+=r.slice(h,p)),f+=String(n[d]),h=p+2,p++;break;case 37:h<p&&(f+=r.slice(h,p)),f+="%",h=p+2,p++,d--;break}++d}++p}return h===-1?r:(h<g&&(f+=r.slice(h)),f)}return eC}var tC,KU;function X_e(){if(KU)return tC;KU=1;const e=J_e();tC=i;const t=C().console||{},r={mapHttpRequest:g,mapHttpResponse:g,wrapRequestSerializer:p,wrapResponseSerializer:p,wrapErrorSerializer:p,req:g,res:g,err:d};function n(E,_){return Array.isArray(E)?E.filter(function(x){return x!=="!stdSerializers.err"}):E===!0?Object.keys(_):!1}function i(E){E=E||{},E.browser=E.browser||{};const _=E.browser.transmit;if(_&&typeof _.send!="function")throw Error("pino: transmit option must have a send function");const P=E.browser.write||t;E.browser.write&&(E.browser.asObject=!0);const x=E.serializers||{},O=n(E.browser.serialize,x);let D=E.browser.serialize;Array.isArray(E.browser.serialize)&&E.browser.serialize.indexOf("!stdSerializers.err")>-1&&(D=!1);const R=["error","fatal","warn","info","debug","trace"];typeof P=="function"&&(P.error=P.fatal=P.warn=P.info=P.debug=P.trace=P),E.enabled===!1&&(E.level="silent");const k=E.level||"info",T=Object.create(P);T.log||(T.log=b),Object.defineProperty(T,"levelVal",{get:I}),Object.defineProperty(T,"level",{get:A,set:j});const S={transmit:_,serialize:O,asObject:E.browser.asObject,levels:R,timestamp:h(E)};T.levels=i.levels,T.level=k,T.setMaxListeners=T.getMaxListeners=T.emit=T.addListener=T.on=T.prependListener=T.once=T.prependOnceListener=T.removeListener=T.removeAllListeners=T.listeners=T.listenerCount=T.eventNames=T.write=T.flush=b,T.serializers=x,T._serialize=O,T._stdErrSerialize=D,T.child=N,_&&(T._logEvent=f());function I(){return this.level==="silent"?1/0:this.levels.values[this.level]}function A(){return this._level}function j(B){if(B!=="silent"&&!this.levels.values[B])throw Error("unknown level "+B);this._level=B,s(S,T,"error","log"),s(S,T,"fatal","error"),s(S,T,"warn","error"),s(S,T,"info","log"),s(S,T,"debug","log"),s(S,T,"trace","log")}function N(B,$){if(!B)throw new Error("missing bindings for child Pino");$=$||{},O&&B.serializers&&($.serializers=B.serializers);const M=$.serializers;if(O&&M){var L=Object.assign({},x,M),q=E.browser.serialize===!0?Object.keys(L):O;delete B.serializers,c([B],q,L,this._stdErrSerialize)}function U(F){this._childLevel=(F._childLevel|0)+1,this.error=u(F,B,"error"),this.fatal=u(F,B,"fatal"),this.warn=u(F,B,"warn"),this.info=u(F,B,"info"),this.debug=u(F,B,"debug"),this.trace=u(F,B,"trace"),L&&(this.serializers=L,this._serialize=q),_&&(this._logEvent=f([].concat(F._logEvent.bindings,B)))}return U.prototype=this,new U(this)}return T}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=r,i.stdTimeFunctions=Object.assign({},{nullTime:w,epochTime:y,unixTime:v,isoTime:m});function s(E,_,P,x){const O=Object.getPrototypeOf(_);_[P]=_.levelVal>_.levels.values[P]?b:O[P]?O[P]:t[P]||t[x]||b,o(E,_,P)}function o(E,_,P){!E.transmit&&_[P]===b||(_[P]=(function(x){return function(){const D=E.timestamp(),R=new Array(arguments.length),k=Object.getPrototypeOf&&Object.getPrototypeOf(this)===t?t:this;for(var T=0;T<R.length;T++)R[T]=arguments[T];if(E.serialize&&!E.asObject&&c(R,this._serialize,this.serializers,this._stdErrSerialize),E.asObject?x.call(k,a(this,P,R,D)):x.apply(k,R),E.transmit){const S=E.transmit.level||_.level,I=i.levels.values[S],A=i.levels.values[P];if(A<I)return;l(this,{ts:D,methodLevel:P,methodValue:A,transmitValue:i.levels.values[E.transmit.level||_.level],send:E.transmit.send,val:_.levelVal},R)}}})(_[P]))}function a(E,_,P,x){E._serialize&&c(P,E._serialize,E.serializers,E._stdErrSerialize);const O=P.slice();let D=O[0];const R={};x&&(R.time=x),R.level=i.levels.values[_];let k=(E._childLevel|0)+1;if(k<1&&(k=1),D!==null&&typeof D=="object"){for(;k--&&typeof O[0]=="object";)Object.assign(R,O.shift());D=O.length?e(O.shift(),O):void 0}else typeof D=="string"&&(D=e(O.shift(),O));return D!==void 0&&(R.msg=D),R}function c(E,_,P,x){for(const O in E)if(x&&E[O]instanceof Error)E[O]=i.stdSerializers.err(E[O]);else if(typeof E[O]=="object"&&!Array.isArray(E[O]))for(const D in E[O])_&&_.indexOf(D)>-1&&D in P&&(E[O][D]=P[D](E[O][D]))}function u(E,_,P){return function(){const x=new Array(1+arguments.length);x[0]=_;for(var O=1;O<x.length;O++)x[O]=arguments[O-1];return E[P].apply(this,x)}}function l(E,_,P){const x=_.send,O=_.ts,D=_.methodLevel,R=_.methodValue,k=_.val,T=E._logEvent.bindings;c(P,E._serialize||Object.keys(E.serializers),E.serializers,E._stdErrSerialize===void 0?!0:E._stdErrSerialize),E._logEvent.ts=O,E._logEvent.messages=P.filter(function(S){return T.indexOf(S)===-1}),E._logEvent.level.label=D,E._logEvent.level.value=R,x(D,E._logEvent,k),E._logEvent=f(T)}function f(E){return{ts:0,messages:[],bindings:E||[],level:{label:"",value:0}}}function d(E){const _={type:E.constructor.name,msg:E.message,stack:E.stack};for(const P in E)_[P]===void 0&&(_[P]=E[P]);return _}function h(E){return typeof E.timestamp=="function"?E.timestamp:E.timestamp===!1?w:y}function g(){return{}}function p(E){return E}function b(){}function w(){return!1}function y(){return Date.now()}function v(){return Math.round(Date.now()/1e3)}function m(){return new Date(Date.now()).toISOString()}function C(){function E(_){return typeof _<"u"&&_}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return E(self)||E(window)||E(this)||{}}}return tC}var yh=X_e();const Vu=P3(yh),e4e={level:"info"},fb="custom_context",A7=1e3*1024;let t4e=class{constructor(t){this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},ZU=class{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const r=new t4e(t);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let r=this.head;for(;r!==null;)t.push(r.value),r=r.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const r=t.value;return t=t.next,{done:!1,value:r}}}}},EX=class{constructor(t,r=A7){this.level=t??"error",this.levelValue=yh.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new ZU(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,r){r===yh.levels.values.error?console.error(t):r===yh.levels.values.warn?console.warn(t):r===yh.levels.values.debug?console.debug(t):r===yh.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(ga({timestamp:new Date().toISOString(),log:t}));const r=typeof t=="string"?JSON.parse(t).level:t.level;r>=this.levelValue&&this.forwardToConsole(t,r)}getLogs(){return this.logs}clearLogs(){this.logs=new ZU(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const r=this.getLogArray();return r.push(ga({extraMetadata:t})),new Blob(r,{type:"application/json"})}},r4e=class{constructor(t,r=A7){this.baseChunkLogger=new EX(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const r=URL.createObjectURL(this.logsToBlob(t)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},n4e=class{constructor(t,r=A7){this.baseChunkLogger=new EX(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}};var i4e=Object.defineProperty,s4e=Object.defineProperties,o4e=Object.getOwnPropertyDescriptors,YU=Object.getOwnPropertySymbols,a4e=Object.prototype.hasOwnProperty,c4e=Object.prototype.propertyIsEnumerable,QU=(e,t,r)=>t in e?i4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Z5=(e,t)=>{for(var r in t||(t={}))a4e.call(t,r)&&QU(e,r,t[r]);if(YU)for(var r of YU(t))c4e.call(t,r)&&QU(e,r,t[r]);return e},Y5=(e,t)=>s4e(e,o4e(t));function Nc(e){return Y5(Z5({},e),{level:e?.level||e4e.level})}function u4e(e,t=fb){return e[t]||""}function l4e(e,t,r=fb){return e[r]=t,e}function Jt(e,t=fb){let r="";return typeof e.bindings>"u"?r=u4e(e,t):r=e.bindings().context||"",r}function d4e(e,t,r=fb){const n=Jt(e,r);return n.trim()?`${n}/${t}`:t}function Rt(e,t,r=fb){const n=d4e(e,t,r),i=e.child({context:n});return l4e(i,n,r)}function f4e(e){var t,r;const n=new r4e((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Vu(Y5(Z5({},e.opts),{level:"trace",browser:Y5(Z5({},(r=e.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function h4e(e){var t;const r=new n4e((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Vu(Y5(Z5({},e.opts),{level:"trace"}),r),chunkLoggerController:r}}function x7(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?f4e(e):h4e(e)}var p4e=Object.defineProperty,g4e=(e,t,r)=>t in e?p4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,JU=(e,t,r)=>g4e(e,typeof t!="symbol"?t+"":t,r);let m4e=class extends Ss{constructor(t){super(),this.opts=t,JU(this,"protocol","wc"),JU(this,"version",2)}};var b4e=Object.defineProperty,y4e=(e,t,r)=>t in e?b4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,w4e=(e,t,r)=>y4e(e,t+"",r);let v4e=class extends Ss{constructor(t,r){super(),this.core=t,this.logger=r,w4e(this,"records",new Map)}},E4e=class{constructor(t,r){this.logger=t,this.core=r}},_4e=class extends Ss{constructor(t,r){super(),this.relayer=t,this.logger=r}},C4e=class extends Ss{constructor(t){super()}},A4e=class{constructor(t,r,n,i){this.core=t,this.logger=r,this.name=n}},x4e=class extends Ss{constructor(t,r){super(),this.relayer=t,this.logger=r}},I4e=class extends Ss{constructor(t,r){super(),this.core=t,this.logger=r}},P4e=class{constructor(t,r,n){this.core=t,this.logger=r,this.store=n}},S4e=class{constructor(t,r){this.projectId=t,this.logger=r}},T4e=class{constructor(t,r,n){this.core=t,this.logger=r,this.telemetryEnabled=n}};var O4e=Object.defineProperty,j4e=(e,t,r)=>t in e?O4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,XU=(e,t,r)=>j4e(e,typeof t!="symbol"?t+"":t,r);let B4e=class{constructor(t){this.opts=t,XU(this,"protocol","wc"),XU(this,"version",2)}},R4e=class{constructor(t){this.client=t}};const k4e="PARSE_ERROR",N4e="INVALID_REQUEST",D4e="METHOD_NOT_FOUND",$4e="INVALID_PARAMS",_X="INTERNAL_ERROR",I7="SERVER_ERROR",M4e=[-32700,-32600,-32601,-32602,-32603],Yg={[k4e]:{code:-32700,message:"Parse error"},[N4e]:{code:-32600,message:"Invalid Request"},[D4e]:{code:-32601,message:"Method not found"},[$4e]:{code:-32602,message:"Invalid params"},[_X]:{code:-32603,message:"Internal error"},[I7]:{code:-32e3,message:"Server error"}},CX=I7;function L4e(e){return M4e.includes(e)}function eq(e){return Object.keys(Yg).includes(e)?Yg[e]:Yg[CX]}function U4e(e){const t=Object.values(Yg).find(r=>r.code===e);return t||Yg[CX]}function AX(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${t}`):e}var rC={};var mI=function(e,t){return mI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},mI(e,t)};function q4e(e,t){mI(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var bI=function(){return bI=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},bI.apply(this,arguments)};function z4e(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function F4e(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function H4e(e,t){return function(r,n){t(r,n,e)}}function W4e(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function V4e(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})}function G4e(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function K4e(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Z4e(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function yI(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xX(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Y4e(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(xX(arguments[t]));return e}function Q4e(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Fm(e){return this instanceof Fm?(this.v=e,this):new Fm(e)}function J4e(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(h){return new Promise(function(g,p){s.push([d,h,g,p])>1||a(d,h)})})}function a(d,h){try{c(n[d](h))}catch(g){f(s[0][3],g)}}function c(d){d.value instanceof Fm?Promise.resolve(d.value.v).then(u,l):f(s[0][2],d)}function u(d){a("next",d)}function l(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function X4e(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Fm(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function eCe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof yI=="function"?yI(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,c){o=e[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function tCe(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function rCe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function nCe(e){return e&&e.__esModule?e:{default:e}}function iCe(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function sCe(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const oCe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return bI},__asyncDelegator:X4e,__asyncGenerator:J4e,__asyncValues:eCe,__await:Fm,__awaiter:V4e,__classPrivateFieldGet:iCe,__classPrivateFieldSet:sCe,__createBinding:K4e,__decorate:F4e,__exportStar:Z4e,__extends:q4e,__generator:G4e,__importDefault:nCe,__importStar:rCe,__makeTemplateObject:tCe,__metadata:W4e,__param:H4e,__read:xX,__rest:z4e,__spread:Y4e,__spreadArrays:Q4e,__values:yI},Symbol.toStringTag,{value:"Module"})),aCe=OP(oCe);var Va={},tq;function cCe(){if(tq)return Va;tq=1,Object.defineProperty(Va,"__esModule",{value:!0}),Va.isBrowserCryptoAvailable=Va.getSubtleCrypto=Va.getBrowerCrypto=void 0;function e(){return globalThis?.crypto||globalThis?.msCrypto||{}}Va.getBrowerCrypto=e;function t(){const n=e();return n.subtle||n.webkitSubtle}Va.getSubtleCrypto=t;function r(){return!!e()&&!!t()}return Va.isBrowserCryptoAvailable=r,Va}var Ga={},rq;function uCe(){if(rq)return Ga;rq=1,Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.isBrowser=Ga.isNode=Ga.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Ga.isReactNative=e;function t(){return typeof Ur<"u"&&typeof Ur.versions<"u"&&typeof Ur.versions.node<"u"}Ga.isNode=t;function r(){return!e()&&!t()}return Ga.isBrowser=r,Ga}var nq;function lCe(){return nq||(nq=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=aCe;t.__exportStar(cCe(),e),t.__exportStar(uCe(),e)})(rC)),rC}var dCe=lCe();function fn(e=3){const t=Date.now()*Math.pow(10,e),r=Math.floor(Math.random()*Math.pow(10,e));return t+r}function ms(e=6){return BigInt(fn(e))}function di(e,t,r){return{id:r||fn(),jsonrpc:"2.0",method:e,params:t}}function Gu(e,t){return{id:e,jsonrpc:"2.0",result:t}}function Qp(e,t,r){return{id:e,jsonrpc:"2.0",error:fCe(t)}}function fCe(e,t){return typeof e>"u"?eq(_X):(typeof e=="string"&&(e=Object.assign(Object.assign({},eq(I7)),{message:e})),L4e(e.code)&&(e=U4e(e.code)),e)}let hCe=class{},pCe=class extends hCe{constructor(){super()}},gCe=class extends pCe{constructor(t){super()}};const mCe="^https?:",bCe="^wss?:";function yCe(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function IX(e,t){const r=yCe(e);return typeof r>"u"?!1:new RegExp(t).test(r)}function iq(e){return IX(e,mCe)}function sq(e){return IX(e,bCe)}function wCe(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function PX(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function Jp(e){return PX(e)&&"method"in e}function Jd(e){return PX(e)&&(Yr(e)||vr(e))}function Yr(e){return"result"in e}function vr(e){return"error"in e}let fr=class extends gCe{constructor(t){super(t),this.events=new Wr.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async request(t,r){return this.requestStrict(di(t.method,t.params||[],t.id||ms().toString()),r)}async requestStrict(t,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${t.id}`,s=>{vr(s)?i(s.error):n(s.result)});try{await this.connection.send(t,r)}catch(s){i(s)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),Jd(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const vCe=()=>typeof WebSocket<"u"?WebSocket:typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"?globalThis.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),ECe=()=>typeof WebSocket<"u"||typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",oq=e=>e.split("?")[0],aq=10,_Ce=vCe();let SX=class{constructor(t){if(this.url=t,this.events=new Wr.EventEmitter,this.registering=!1,!sq(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(ga(t))}catch(r){this.onError(t.id,r)}}register(t=this.url){if(!sq(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=t,this.registering=!0,new Promise((r,n)=>{const i=dCe.isReactNative()?void 0:{rejectUnauthorized:!wCe(t)},s=new _Ce(t,[],i);ECe()?s.onerror=o=>{const a=o;n(this.emitError(a.error))}:s.on("error",o=>{n(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(t){t.onmessage=r=>this.onPayload(r),t.onclose=r=>this.onClose(r),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const r=typeof t.data=="string"?Cc(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const n=this.parseError(r),i=n.message||n.toString(),s=Qp(t,i);this.events.emit("payload",s)}parseError(t,r=this.url){return AX(t,oq(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>aq&&this.events.setMaxListeners(aq)}emitError(t){const r=this.parseError(new Error(t?.message||`WebSocket connection failed for host: ${oq(this.url)}`));return this.events.emit("register_error",r),r}};var CCe={};const TX="wc",OX=2,wI="core",ma=`${TX}@2:${wI}:`,ACe={logger:"error"},xCe={database:":memory:"},ICe="crypto",cq="client_ed25519_seed",PCe=ie.ONE_DAY,SCe="keychain",TCe="0.3",OCe="messages",jCe="0.3",uq=ie.SIX_HOURS,BCe="publisher",jX="irn",RCe="error",BX="wss://relay.walletconnect.org",kCe="relayer",pn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},NCe="_subscription",ks={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},DCe=.1,vI="2.21.1",ar={link_mode:"link_mode",relay:"relay"},n5={inbound:"inbound",outbound:"outbound"},$Ce="0.3",MCe="WALLETCONNECT_CLIENT_ID",lq="WALLETCONNECT_LINK_MODE_APPS",as={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},LCe="subscription",UCe="0.3",qCe="pairing",zCe="0.3",_g={wc_pairingDelete:{req:{ttl:ie.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ie.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ie.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ie.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ie.ONE_DAY,prompt:!1,tag:0},res:{ttl:ie.ONE_DAY,prompt:!1,tag:0}}},Rl={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},oo={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},FCe="history",HCe="0.3",WCe="expirer",qs={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},VCe="0.3",GCe="verify-api",KCe="https://verify.walletconnect.com",RX="https://verify.walletconnect.org",Qg=RX,ZCe=`${Qg}/v3`,YCe=[KCe,RX],QCe="echo",JCe="https://echo.walletconnect.com",Jo={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},tc={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},ao={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},vl={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},El={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Cg={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},XCe=.1,eAe="event-client",tAe=86400,rAe="https://pulse.walletconnect.org/batch";function nAe(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var p=0,b=0,w=0,y=g.length;w!==y&&g[w]===0;)w++,p++;for(var v=(y-w)*l+1>>>0,m=new Uint8Array(v);w!==y;){for(var C=g[w],E=0,_=v-1;(C!==0||E<b)&&_!==-1;_--,E++)C+=256*m[_]>>>0,m[_]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");b=E,w++}for(var P=v-b;P!==v&&m[P]===0;)P++;for(var x=c.repeat(p);P<v;++P)x+=e.charAt(m[P]);return x}function d(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var p=0;if(g[p]!==" "){for(var b=0,w=0;g[p]===c;)b++,p++;for(var y=(g.length-p)*u+1>>>0,v=new Uint8Array(y);g[p];){var m=r[g.charCodeAt(p)];if(m===255)return;for(var C=0,E=y-1;(m!==0||C<w)&&E!==-1;E--,C++)m+=a*v[E]>>>0,v[E]=m%256>>>0,m=m/256>>>0;if(m!==0)throw new Error("Non-zero carry");w=C,p++}if(g[p]!==" "){for(var _=y-w;_!==y&&v[_]===0;)_++;for(var P=new Uint8Array(b+(y-_)),x=b;_!==y;)P[x++]=v[_++];return P}}}function h(g){var p=d(g);if(p)return p;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var iAe=nAe,sAe=iAe;const kX=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},oAe=e=>new TextEncoder().encode(e),aAe=e=>new TextDecoder().decode(e);let cAe=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},uAe=class{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return NX(this,t)}},lAe=class{constructor(t){this.decoders=t}or(t){return NX(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const NX=(e,t)=>new lAe({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});let dAe=class{constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new cAe(t,r,n),this.decoder=new uAe(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const s8=({name:e,prefix:t,encode:r,decode:n})=>new dAe(e,t,r,n),hb=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=sAe(r,t);return s8({prefix:e,name:t,encode:n,decode:s=>kX(i(s))})},fAe=(e,t,r,n)=>{const i={};for(let l=0;l<t.length;++l)i[t[l]]=l;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,u=0;for(let l=0;l<s;++l){const f=i[e[l]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},hAe=(e,t,r)=>{const n=t[t.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Un=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>s8({prefix:t,name:e,encode(i){return hAe(i,n,r)},decode(i){return fAe(i,n,r,e)}}),pAe=s8({prefix:"\0",name:"identity",encode:e=>aAe(e),decode:e=>oAe(e)});var gAe=Object.freeze({__proto__:null,identity:pAe});const mAe=Un({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var bAe=Object.freeze({__proto__:null,base2:mAe});const yAe=Un({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var wAe=Object.freeze({__proto__:null,base8:yAe});const vAe=hb({prefix:"9",name:"base10",alphabet:"0123456789"});var EAe=Object.freeze({__proto__:null,base10:vAe});const _Ae=Un({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),CAe=Un({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var AAe=Object.freeze({__proto__:null,base16:_Ae,base16upper:CAe});const xAe=Un({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),IAe=Un({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),PAe=Un({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),SAe=Un({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),TAe=Un({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),OAe=Un({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),jAe=Un({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),BAe=Un({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),RAe=Un({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var kAe=Object.freeze({__proto__:null,base32:xAe,base32upper:IAe,base32pad:PAe,base32padupper:SAe,base32hex:TAe,base32hexupper:OAe,base32hexpad:jAe,base32hexpadupper:BAe,base32z:RAe});const NAe=hb({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),DAe=hb({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var $Ae=Object.freeze({__proto__:null,base36:NAe,base36upper:DAe});const MAe=hb({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),LAe=hb({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var UAe=Object.freeze({__proto__:null,base58btc:MAe,base58flickr:LAe});const qAe=Un({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),zAe=Un({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),FAe=Un({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),HAe=Un({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var WAe=Object.freeze({__proto__:null,base64:qAe,base64pad:zAe,base64url:FAe,base64urlpad:HAe});const DX=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),VAe=DX.reduce((e,t,r)=>(e[r]=t,e),[]),GAe=DX.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function KAe(e){return e.reduce((t,r)=>(t+=VAe[r],t),"")}function ZAe(e){const t=[];for(const r of e){const n=GAe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const YAe=s8({prefix:"\uD83D\uDE80",name:"base256emoji",encode:KAe,decode:ZAe});var QAe=Object.freeze({__proto__:null,base256emoji:YAe}),JAe=$X,dq=128,XAe=-128,exe=Math.pow(2,31);function $X(e,t,r){t=t||[],r=r||0;for(var n=r;e>=exe;)t[r++]=e&255|dq,e/=128;for(;e&XAe;)t[r++]=e&255|dq,e>>>=7;return t[r]=e|0,$X.bytes=r-n+1,t}var txe=EI,rxe=128,fq=127;function EI(e,n){var r=0,n=n||0,i=0,s=n,o,a=e.length;do{if(s>=a)throw EI.bytes=0,new RangeError("Could not decode varint");o=e[s++],r+=i<28?(o&fq)<<i:(o&fq)*Math.pow(2,i),i+=7}while(o>=rxe);return EI.bytes=s-n,r}var nxe=Math.pow(2,7),ixe=Math.pow(2,14),sxe=Math.pow(2,21),oxe=Math.pow(2,28),axe=Math.pow(2,35),cxe=Math.pow(2,42),uxe=Math.pow(2,49),lxe=Math.pow(2,56),dxe=Math.pow(2,63),fxe=function(e){return e<nxe?1:e<ixe?2:e<sxe?3:e<oxe?4:e<axe?5:e<cxe?6:e<uxe?7:e<lxe?8:e<dxe?9:10},hxe={encode:JAe,decode:txe,encodingLength:fxe},MX=hxe;const hq=(e,t,r=0)=>(MX.encode(e,t,r),t),pq=e=>MX.encodingLength(e),_I=(e,t)=>{const r=t.byteLength,n=pq(e),i=n+pq(r),s=new Uint8Array(i+r);return hq(e,s,0),hq(r,s,n),s.set(t,i),new pxe(e,r,t,s)};let pxe=class{constructor(t,r,n,i){this.code=t,this.size=r,this.digest=n,this.bytes=i}};const LX=({name:e,code:t,encode:r})=>new gxe(e,t,r);let gxe=class{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?_I(this.code,r):r.then(n=>_I(this.code,n))}else throw Error("Unknown type, must be binary type")}};const UX=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),mxe=LX({name:"sha2-256",code:18,encode:UX("SHA-256")}),bxe=LX({name:"sha2-512",code:19,encode:UX("SHA-512")});var yxe=Object.freeze({__proto__:null,sha256:mxe,sha512:bxe});const qX=0,wxe="identity",zX=kX,vxe=e=>_I(qX,zX(e)),Exe={code:qX,name:wxe,encode:zX,digest:vxe};var _xe=Object.freeze({__proto__:null,identity:Exe});new TextEncoder,new TextDecoder;const gq={...gAe,...bAe,...wAe,...EAe,...AAe,...kAe,...$Ae,...UAe,...WAe,...QAe};({...yxe,..._xe});function Cxe(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function FX(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const mq=FX("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),nC=FX("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=Cxe(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),Axe={utf8:mq,"utf-8":mq,hex:gq.base16,latin1:nC,ascii:nC,binary:nC,...gq};function xxe(e,t="utf8"){const r=Axe[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}var Ixe=Object.defineProperty,Pxe=(e,t,r)=>t in e?Ixe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wo=(e,t,r)=>Pxe(e,typeof t!="symbol"?t+"":t,r);let Sxe=class{constructor(t,r){this.core=t,this.logger=r,Wo(this,"keychain",new Map),Wo(this,"name",SCe),Wo(this,"version",TCe),Wo(this,"initialized",!1),Wo(this,"storagePrefix",ma),Wo(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),Wo(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),Wo(this,"set",async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()}),Wo(this,"get",n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=_e("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i}),Wo(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=t,this.logger=Rt(r,this.name)}get context(){return Jt(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,nI(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?iI(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=_e("NOT_INITIALIZED",this.name);throw new Error(t)}}};var Txe=Object.defineProperty,Oxe=(e,t,r)=>t in e?Txe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pn=(e,t,r)=>Oxe(e,typeof t!="symbol"?t+"":t,r);let jxe=class{constructor(t,r,n){this.core=t,this.logger=r,Pn(this,"name",ICe),Pn(this,"keychain"),Pn(this,"randomSessionIdentifier",pI()),Pn(this,"initialized",!1),Pn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Pn(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Pn(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=H5(i);return g7(s.publicKey)}),Pn(this,"generateKeyPair",()=>{this.isInitialized();const i=v8e();return this.setPrivateKey(i.publicKey,i.privateKey)}),Pn(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=H5(s),a=this.randomSessionIdentifier;return await xJ(a,i,PCe,o)}),Pn(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=E8e(a,s);return this.setSymKey(c,o)}),Pn(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||e5(i);return await this.keychain.set(o,i),o}),Pn(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Pn(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Pn(this,"encode",async(i,s,o)=>{this.isInitialized();const a=gX(o),c=ga(s);if(jU(a))return A8e(c,o?.encoding);if(OU(a)){const d=a.senderPublicKey,h=a.receiverPublicKey;i=await this.generateSharedKey(d,h)}const u=this.getSymKey(i),{type:l,senderPublicKey:f}=a;return _8e({type:l,symKey:u,message:c,senderPublicKey:f,encoding:o?.encoding})}),Pn(this,"decode",async(i,s,o)=>{this.isInitialized();const a=I8e(s,o);if(jU(a)){const c=x8e(s,o?.encoding);return Cc(c)}if(OU(a)){const c=a.receiverPublicKey,u=a.senderPublicKey;i=await this.generateSharedKey(c,u)}try{const c=this.getSymKey(i),u=C8e({symKey:c,encoded:s,encoding:o?.encoding});return Cc(u)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Pn(this,"getPayloadType",(i,s=Eo)=>{const o=zm({encoded:i,encoding:s});return vd(o.type)}),Pn(this,"getPayloadSenderPublicKey",(i,s=Eo)=>{const o=zm({encoded:i,encoding:s});return o.senderPublicKey?qt(o.senderPublicKey,gi):void 0}),this.core=t,this.logger=Rt(r,this.name),this.keychain=n||new Sxe(this.core,this.logger)}get context(){return Jt(this.logger)}async setPrivateKey(t,r){return await this.keychain.set(t,r),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(cq)}catch{t=pI(),await this.keychain.set(cq,t)}return xxe(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=_e("NOT_INITIALIZED",this.name);throw new Error(t)}}};var Bxe=Object.defineProperty,Rxe=Object.defineProperties,kxe=Object.getOwnPropertyDescriptors,bq=Object.getOwnPropertySymbols,Nxe=Object.prototype.hasOwnProperty,Dxe=Object.prototype.propertyIsEnumerable,CI=(e,t,r)=>t in e?Bxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$xe=(e,t)=>{for(var r in t||(t={}))Nxe.call(t,r)&&CI(e,r,t[r]);if(bq)for(var r of bq(t))Dxe.call(t,r)&&CI(e,r,t[r]);return e},Mxe=(e,t)=>Rxe(e,kxe(t)),ns=(e,t,r)=>CI(e,typeof t!="symbol"?t+"":t,r);let Lxe=class extends E4e{constructor(t,r){super(t,r),this.logger=t,this.core=r,ns(this,"messages",new Map),ns(this,"messagesWithoutClientAck",new Map),ns(this,"name",OCe),ns(this,"version",jCe),ns(this,"initialized",!1),ns(this,"storagePrefix",ma),ns(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),ns(this,"set",async(n,i,s)=>{this.isInitialized();const o=ta(i);let a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(n,a),s===n5.inbound){const c=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,Mxe($xe({},c),{[o]:i}))}return await this.persist(),o}),ns(this,"get",n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i}),ns(this,"getWithoutAck",n=>{this.isInitialized();const i={};for(const s of n){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),ns(this,"has",(n,i)=>{this.isInitialized();const s=this.get(n),o=ta(i);return typeof s[o]<"u"}),ns(this,"ack",async(n,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(n);if(typeof s>"u")return;const o=ta(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,s),await this.persist()}),ns(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=Rt(t,this.name),this.core=r}get context(){return Jt(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,nI(t))}async setRelayerMessagesWithoutClientAck(t){await this.core.storage.setItem(this.storageKeyWithoutClientAck,nI(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?iI(t):void 0}async getRelayerMessagesWithoutClientAck(){const t=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof t<"u"?iI(t):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:t}=_e("NOT_INITIALIZED",this.name);throw new Error(t)}}};var Uxe=Object.defineProperty,qxe=Object.defineProperties,zxe=Object.getOwnPropertyDescriptors,yq=Object.getOwnPropertySymbols,Fxe=Object.prototype.hasOwnProperty,Hxe=Object.prototype.propertyIsEnumerable,AI=(e,t,r)=>t in e?Uxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,A6=(e,t)=>{for(var r in t||(t={}))Fxe.call(t,r)&&AI(e,r,t[r]);if(yq)for(var r of yq(t))Hxe.call(t,r)&&AI(e,r,t[r]);return e},iC=(e,t)=>qxe(e,zxe(t)),co=(e,t,r)=>AI(e,typeof t!="symbol"?t+"":t,r);let Wxe=class extends _4e{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,co(this,"events",new Wr.EventEmitter),co(this,"name",BCe),co(this,"queue",new Map),co(this,"publishTimeout",ie.toMiliseconds(ie.ONE_MINUTE)),co(this,"initialPublishTimeout",ie.toMiliseconds(ie.ONE_SECOND*15)),co(this,"needsTransportRestart",!1),co(this,"publish",async(n,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const a=s?.ttl||uq,c=G5(s),u=s?.prompt||!1,l=s?.tag||0,f=s?.id||ms().toString(),d={topic:n,message:i,opts:{ttl:a,relay:c,prompt:u,tag:l,id:f,attestation:s?.attestation,tvf:s?.tvf}},h=`Failed to publish payload, please try again. id:${f} tag:${l}`;try{const g=new Promise(async p=>{const b=({id:y})=>{d.opts.id===y&&(this.removeRequestFromQueue(y),this.relayer.events.removeListener(pn.publish,b),p(d))};this.relayer.events.on(pn.publish,b);const w=pu(new Promise((y,v)=>{this.rpcPublish({topic:n,message:i,ttl:a,prompt:u,tag:l,id:f,attestation:s?.attestation,tvf:s?.tvf}).then(y).catch(m=>{this.logger.warn(m,m?.message),v(m)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${f} tag:${l}`);try{await w,this.events.removeListener(pn.publish,b)}catch(y){this.queue.set(f,iC(A6({},d),{attempt:1})),this.logger.warn(y,y?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:f,topic:n,message:i,opts:s}}),await pu(g,this.publishTimeout,h)}catch(g){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(g),(o=s?.internal)!=null&&o.throwOnFailedPublish)throw g}finally{this.queue.delete(f)}}),co(this,"on",(n,i)=>{this.events.on(n,i)}),co(this,"once",(n,i)=>{this.events.once(n,i)}),co(this,"off",(n,i)=>{this.events.off(n,i)}),co(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.relayer=t,this.logger=Rt(r,this.name),this.registerEventListeners()}get context(){return Jt(this.logger)}async rpcPublish(t){var r,n,i,s;const{topic:o,message:a,ttl:c=uq,prompt:u,tag:l,id:f,attestation:d,tvf:h}=t,g={method:Ug(G5().protocol).publish,params:A6({topic:o,message:a,ttl:c,prompt:u,tag:l,attestation:d},h),id:f};Rn((r=g.params)==null?void 0:r.prompt)&&((n=g.params)==null||delete n.prompt),Rn((i=g.params)==null?void 0:i.tag)&&((s=g.params)==null||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:g});const p=await this.relayer.request(g);return this.relayer.events.emit(pn.publish,t),this.logger.debug("Successfully Published Payload"),p}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async(t,r)=>{const n=t.attempt+1;this.queue.set(r,iC(A6({},t),{attempt:n}));const{topic:i,message:s,opts:o,attestation:a}=t;this.logger.warn({},`Publisher: queue->publishing: ${t.opts.id}, tag: ${t.opts.tag}, attempt: ${n}`),await this.rpcPublish(iC(A6({},t),{topic:i,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${t.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Ts.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(pn.connection_stalled);return}this.checkQueue()}),this.relayer.on(pn.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}};var Vxe=Object.defineProperty,Gxe=(e,t,r)=>t in e?Vxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Lf=(e,t,r)=>Gxe(e,typeof t!="symbol"?t+"":t,r);let Kxe=class{constructor(){Lf(this,"map",new Map),Lf(this,"set",(t,r)=>{const n=this.get(t);this.exists(t,r)||this.map.set(t,[...n,r])}),Lf(this,"get",t=>this.map.get(t)||[]),Lf(this,"exists",(t,r)=>this.get(t).includes(r)),Lf(this,"delete",(t,r)=>{if(typeof r>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const n=this.get(t);if(!this.exists(t,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(t);return}this.map.set(t,i)}),Lf(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}};var Zxe=Object.defineProperty,Yxe=Object.defineProperties,Qxe=Object.getOwnPropertyDescriptors,wq=Object.getOwnPropertySymbols,Jxe=Object.prototype.hasOwnProperty,Xxe=Object.prototype.propertyIsEnumerable,xI=(e,t,r)=>t in e?Zxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ag=(e,t)=>{for(var r in t||(t={}))Jxe.call(t,r)&&xI(e,r,t[r]);if(wq)for(var r of wq(t))Xxe.call(t,r)&&xI(e,r,t[r]);return e},sC=(e,t)=>Yxe(e,Qxe(t)),Gt=(e,t,r)=>xI(e,typeof t!="symbol"?t+"":t,r);let eIe=class extends x4e{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,Gt(this,"subscriptions",new Map),Gt(this,"topicMap",new Kxe),Gt(this,"events",new Wr.EventEmitter),Gt(this,"name",LCe),Gt(this,"version",UCe),Gt(this,"pending",new Map),Gt(this,"cached",[]),Gt(this,"initialized",!1),Gt(this,"storagePrefix",ma),Gt(this,"subscribeTimeout",ie.toMiliseconds(ie.ONE_MINUTE)),Gt(this,"initialSubscribeTimeout",ie.toMiliseconds(ie.ONE_SECOND*15)),Gt(this,"clientId"),Gt(this,"batchSubscribeTopicsLimit",500),Gt(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Gt(this,"subscribe",async(n,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const s=G5(i),o={topic:n,relay:s,transportType:i?.transportType};this.pending.set(n,o);const a=await this.rpcSubscribe(n,s,i);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),Gt(this,"unsubscribe",async(n,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)}),Gt(this,"isSubscribed",n=>new Promise(i=>{i(this.topicMap.topics.includes(n))})),Gt(this,"isKnownTopic",n=>new Promise(i=>{i(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(s=>s.topic===n))})),Gt(this,"on",(n,i)=>{this.events.on(n,i)}),Gt(this,"once",(n,i)=>{this.events.once(n,i)}),Gt(this,"off",(n,i)=>{this.events.off(n,i)}),Gt(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),Gt(this,"start",async()=>{await this.onConnect()}),Gt(this,"stop",async()=>{await this.onDisconnect()}),Gt(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Gt(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(i=>{n.push(i)}),await this.batchSubscribe(n)}),Gt(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Ts.pulse,async()=>{await this.checkPending()}),this.events.on(as.created,async n=>{const i=as.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()}),this.events.on(as.deleted,async n=>{const i=as.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()})}),this.relayer=t,this.logger=Rt(r,this.name),this.clientId=""}get context(){return Jt(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(t,r){let n=!1;try{n=this.getSubscription(t).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,r){const n=this.topicMap.get(t);await Promise.all(n.map(async i=>await this.unsubscribeById(t,i,r)))}async unsubscribeById(t,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}});try{const i=G5(n);await this.restartToComplete({topic:t,id:r,relay:i}),await this.rpcUnsubscribe(t,r,i);const s=Dt("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(t,r,n){var i;(!n||n?.transportType===ar.relay)&&await this.restartToComplete({topic:t,id:t,relay:r});const s={method:Ug(r.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(i=n?.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(t);if(n?.transportType===ar.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(l=>this.logger.warn(l))},ie.toMiliseconds(ie.ONE_SECOND)),a;const c=new Promise(async l=>{const f=d=>{d.topic===t&&(this.events.removeListener(as.created,f),l(d.id))};this.events.on(as.created,f);try{const d=await pu(new Promise((h,g)=>{this.relayer.request(s).catch(p=>{this.logger.warn(p,p?.message),g(p)}).then(h)}),this.initialSubscribeTimeout,`Subscribing to ${t} failed, please try again`);this.events.removeListener(as.created,f),l(d)}catch{}}),u=await pu(c,this.subscribeTimeout,`Subscribing to ${t} failed, please try again`);if(!u&&o)throw new Error(`Subscribing to ${t} failed, please try again`);return u?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(pn.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(t){if(!t.length)return;const r=t[0].relay,n={method:Ug(r.protocol).batchSubscribe,params:{topics:t.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await pu(new Promise(i=>{this.relayer.request(n).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(pn.connection_stalled)}}async rpcBatchFetchMessages(t){if(!t.length)return;const r=t[0].relay,n={method:Ug(r.protocol).batchFetchMessages,params:{topics:t.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await pu(new Promise((s,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(pn.connection_stalled)}return i}rpcUnsubscribe(t,r,n){const i={method:Ug(n.protocol).unsubscribe,params:{topic:t,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(t,r){this.setSubscription(t,sC(Ag({},r),{id:t})),this.pending.delete(r.topic)}onBatchSubscribe(t){t.length&&t.forEach(r=>{this.setSubscription(r.id,Ag({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(t,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,t)&&this.deleteSubscription(r,n),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:r}),this.addSubscription(t,r)}addSubscription(t,r){this.subscriptions.set(t,Ag({},r)),this.topicMap.set(r.topic,t),this.events.emit(as.created,r)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const r=this.subscriptions.get(t);if(!r){const{message:n}=_e("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(n)}return r}deleteSubscription(t,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:r});const n=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(n.topic,t),this.events.emit(as.deleted,sC(Ag({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(as.sync)}async onRestart(){if(this.cached.length){const t=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const i=t.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(as.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:r}=_e("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){t.length&&(await this.rpcBatchSubscribe(t),this.onBatchSubscribe(await Promise.all(t.map(async r=>sC(Ag({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);const r=await this.rpcBatchFetchMessages(t);r&&r.messages&&(await a3e(ie.toMiliseconds(ie.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:t}=_e("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(t){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(t),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(t){return ta(t+await this.getClientId())}};var tIe=Object.defineProperty,vq=Object.getOwnPropertySymbols,rIe=Object.prototype.hasOwnProperty,nIe=Object.prototype.propertyIsEnumerable,II=(e,t,r)=>t in e?tIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Eq=(e,t)=>{for(var r in t||(t={}))rIe.call(t,r)&&II(e,r,t[r]);if(vq)for(var r of vq(t))nIe.call(t,r)&&II(e,r,t[r]);return e},yt=(e,t,r)=>II(e,typeof t!="symbol"?t+"":t,r);let iIe=class extends C4e{constructor(t){super(t),yt(this,"protocol","wc"),yt(this,"version",2),yt(this,"core"),yt(this,"logger"),yt(this,"events",new Wr.EventEmitter),yt(this,"provider"),yt(this,"messages"),yt(this,"subscriber"),yt(this,"publisher"),yt(this,"name",kCe),yt(this,"transportExplicitlyClosed",!1),yt(this,"initialized",!1),yt(this,"connectionAttemptInProgress",!1),yt(this,"relayUrl"),yt(this,"projectId"),yt(this,"packageName"),yt(this,"bundleId"),yt(this,"hasExperiencedNetworkDisruption",!1),yt(this,"pingTimeout"),yt(this,"heartBeatTimeout",ie.toMiliseconds(ie.THIRTY_SECONDS+ie.FIVE_SECONDS)),yt(this,"reconnectTimeout"),yt(this,"connectPromise"),yt(this,"reconnectInProgress",!1),yt(this,"requestsInFlight",[]),yt(this,"connectTimeout",ie.toMiliseconds(ie.ONE_SECOND*15)),yt(this,"request",async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||ms().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - publishing...");const o=`${s}:${((i=r.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),yt(this,"resetPingTimeout",()=>{W5()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),yt(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),yt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \uD83D\uDEDC"),this.startPingTimeout(),this.events.emit(pn.connect)}),yt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \uD83D\uDED1"),this.requestsInFlight=[],this.onProviderDisconnect()}),yt(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(pn.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),yt(this,"registerProviderListeners",()=>{this.provider.on(ks.payload,this.onPayloadHandler),this.provider.on(ks.connect,this.onConnectHandler),this.provider.on(ks.disconnect,this.onDisconnectHandler),this.provider.on(ks.error,this.onProviderErrorHandler)}),this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?Rt(t.logger,this.name):Vu(Nc({level:t.logger||RCe})),this.messages=new Lxe(this.logger,t.core),this.subscriber=new eIe(this,this.logger),this.publisher=new Wxe(this,this.logger),this.relayUrl=t?.relayUrl||BX,this.projectId=t.projectId,W5e()?this.packageName=eU():V5e()&&(this.bundleId=eU()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(t){this.logger.warn(t,t?.message)}}get context(){return Jt(this.logger)}get connected(){var t,r,n;return((n=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var t,r,n;return((n=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(t,r,n){this.isInitialized(),await this.publisher.publish(t,r,n),await this.recordMessageEvent({topic:t,message:r,publishedAt:Date.now(),transportType:ar.relay},n5.outbound)}async subscribe(t,r){var n,i,s;this.isInitialized(),(!(r!=null&&r.transportType)||r?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((n=r?.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=r?.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(t))==null?void 0:s[0])||"",c;const u=l=>{l.topic===t&&(this.subscriber.off(as.created,u),c())};return await Promise.all([new Promise(l=>{c=l,this.subscriber.on(as.created,u)}),new Promise(async(l,f)=>{a=await this.subscriber.subscribe(t,Eq({internal:{throwOnFailedPublish:o}},r)).catch(d=>{o&&f(d)})||a,l()})]),a}async unsubscribe(t,r){this.isInitialized(),await this.subscriber.unsubscribe(t,r)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await pu(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(t).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(t){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await zU())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if(t?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=t.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(t,r){const{topic:n}=t;if(!r.sessionExists){const i=Gr(ie.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(pn.message,t),await this.recordMessageEvent(t,n5.inbound)}async connect(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(ks.disconnect,s),await pu(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(ks.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(ks.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(ks.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const i=n;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,ie.toMiliseconds(r*1))),r++}}startPingTimeout(){var t,r,n,i,s;if(W5())try{(r=(t=this.provider)==null?void 0:t.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new fr(new SX(Q5e({sdkVersion:vI,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(t,r){const{topic:n,message:i}=t;await this.messages.set(n,i,r)}async shouldIgnoreMessageEvent(t){const{topic:r,message:n}=t;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.warn(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),Jp(t)){if(!t.method.endsWith(NCe))return;const r=t.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:ar.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Eq({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(t),await this.onMessageEvent(a)}else Jd(t)&&this.events.emit(pn.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(await this.recordMessageEvent(t,n5.inbound),this.events.emit(pn.message,t))}async acknowledgePayload(t){const r=Gu(t.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(ks.payload,this.onPayloadHandler),this.provider.off(ks.connect,this.onConnectHandler),this.provider.off(ks.disconnect,this.onDisconnectHandler),this.provider.off(ks.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await zU();w_e(async r=>{t!==r&&(t=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Ts.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&__e())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(pn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t,t?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},ie.toMiliseconds(DCe)))))}isInitialized(){if(!this.initialized){const{message:t}=_e("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function sIe(){}function _q(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(e)==="[object Object]":!1}function Cq(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function Aq(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const oIe="[object RegExp]",aIe="[object String]",cIe="[object Number]",uIe="[object Boolean]",xq="[object Arguments]",lIe="[object Symbol]",dIe="[object Date]",fIe="[object Map]",hIe="[object Set]",pIe="[object Array]",gIe="[object Function]",mIe="[object ArrayBuffer]",oC="[object Object]",bIe="[object Error]",yIe="[object DataView]",wIe="[object Uint8Array]",vIe="[object Uint8ClampedArray]",EIe="[object Uint16Array]",_Ie="[object Uint32Array]",CIe="[object BigUint64Array]",AIe="[object Int8Array]",xIe="[object Int16Array]",IIe="[object Int32Array]",PIe="[object BigInt64Array]",SIe="[object Float32Array]",TIe="[object Float64Array]";function OIe(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function jIe(e,t,r){return qg(e,t,void 0,void 0,void 0,void 0,r)}function qg(e,t,r,n,i,s,o){const a=o(e,t,r,n,i,s);if(a!==void 0)return a;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return e===t;case"number":return e===t||Object.is(e,t);case"function":return e===t;case"object":return Jg(e,t,s,o)}return Jg(e,t,s,o)}function Jg(e,t,r,n){if(Object.is(e,t))return!0;let i=Aq(e),s=Aq(t);if(i===xq&&(i=oC),s===xq&&(s=oC),i!==s)return!1;switch(i){case aIe:return e.toString()===t.toString();case cIe:{const c=e.valueOf(),u=t.valueOf();return OIe(c,u)}case uIe:case dIe:case lIe:return Object.is(e.valueOf(),t.valueOf());case oIe:return e.source===t.source&&e.flags===t.flags;case gIe:return e===t}r=r??new Map;const o=r.get(e),a=r.get(t);if(o!=null&&a!=null)return o===t;r.set(e,t),r.set(t,e);try{switch(i){case fIe:{if(e.size!==t.size)return!1;for(const[c,u]of e.entries())if(!t.has(c)||!qg(u,t.get(c),c,e,t,r,n))return!1;return!0}case hIe:{if(e.size!==t.size)return!1;const c=Array.from(e.values()),u=Array.from(t.values());for(let l=0;l<c.length;l++){const f=c[l],d=u.findIndex(h=>qg(f,h,void 0,e,t,r,n));if(d===-1)return!1;u.splice(d,1)}return!0}case pIe:case wIe:case vIe:case EIe:case _Ie:case CIe:case AIe:case xIe:case IIe:case PIe:case SIe:case TIe:{if(typeof pt<"u"&&pt.isBuffer(e)!==pt.isBuffer(t)||e.length!==t.length)return!1;for(let c=0;c<e.length;c++)if(!qg(e[c],t[c],c,e,t,r,n))return!1;return!0}case mIe:return e.byteLength!==t.byteLength?!1:Jg(new Uint8Array(e),new Uint8Array(t),r,n);case yIe:return e.byteLength!==t.byteLength||e.byteOffset!==t.byteOffset?!1:Jg(new Uint8Array(e),new Uint8Array(t),r,n);case bIe:return e.name===t.name&&e.message===t.message;case oC:{if(!(Jg(e.constructor,t.constructor,r,n)||_q(e)&&_q(t)))return!1;const c=[...Object.keys(e),...Cq(e)],u=[...Object.keys(t),...Cq(t)];if(c.length!==u.length)return!1;for(let l=0;l<c.length;l++){const f=c[l],d=e[f];if(!Object.hasOwn(t,f))return!1;const h=t[f];if(!qg(d,h,f,e,t,r,n))return!1}return!0}default:return!1}}finally{r.delete(e),r.delete(t)}}function BIe(e,t){return jIe(e,t,sIe)}var RIe=Object.defineProperty,Iq=Object.getOwnPropertySymbols,kIe=Object.prototype.hasOwnProperty,NIe=Object.prototype.propertyIsEnumerable,PI=(e,t,r)=>t in e?RIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pq=(e,t)=>{for(var r in t||(t={}))kIe.call(t,r)&&PI(e,r,t[r]);if(Iq)for(var r of Iq(t))NIe.call(t,r)&&PI(e,r,t[r]);return e},Ci=(e,t,r)=>PI(e,typeof t!="symbol"?t+"":t,r);let Xd=class extends A4e{constructor(t,r,n,i=ma,s=void 0){super(t,r,n,i),this.core=t,this.logger=r,this.name=n,Ci(this,"map",new Map),Ci(this,"version",$Ce),Ci(this,"cached",[]),Ci(this,"initialized",!1),Ci(this,"getKey"),Ci(this,"storagePrefix",ma),Ci(this,"recentlyDeleted",[]),Ci(this,"recentlyDeletedLimit",200),Ci(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Rn(o)?this.map.set(this.getKey(o),o):Y8e(o)?this.map.set(o.id,o):Q8e(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Ci(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Ci(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Ci(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>BIe(a[c],o[c]))):this.values)),Ci(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=Pq(Pq({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Ci(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Rt(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Jt(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const r=this.map.get(t);if(!r){if(this.recentlyDeleted.includes(t)){const{message:i}=_e("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(i),new Error(i)}const{message:n}=_e("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:r}=_e("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=_e("NOT_INITIALIZED",this.name);throw new Error(t)}}};var DIe=Object.defineProperty,$Ie=(e,t,r)=>t in e?DIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lt=(e,t,r)=>$Ie(e,typeof t!="symbol"?t+"":t,r);let MIe=class{constructor(t,r){this.core=t,this.logger=r,lt(this,"name",qCe),lt(this,"version",zCe),lt(this,"events",new Fp),lt(this,"pairings"),lt(this,"initialized",!1),lt(this,"storagePrefix",ma),lt(this,"ignoredPayloadTypes",[wc]),lt(this,"registeredMethods",[]),lt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),lt(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),lt(this,"create",async n=>{this.isInitialized();const i=pI(),s=await this.core.crypto.setSymKey(i),o=Gr(ie.FIVE_MINUTES),a={protocol:jX},c={topic:s,expiry:o,relay:a,active:!1,methods:n?.methods},u=RU({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n?.methods});return this.events.emit(Rl.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:n?.transportType}),{topic:s,uri:u}}),lt(this,"pair",async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n?.uri,trace:[Jo.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:u}=BU(n.uri);i.props.properties.topic=s,i.addTrace(Jo.pairing_uri_validation_success),i.addTrace(Jo.pairing_uri_not_expired);let l;if(this.pairings.keys.includes(s)){if(l=this.pairings.get(s),i.addTrace(Jo.existing_pairing),l.active)throw i.setError(tc.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Jo.pairing_not_expired)}const f=c||Gr(ie.FIVE_MINUTES),d={topic:s,relay:a,expiry:f,active:!1,methods:u};this.core.expirer.set(s,f),await this.pairings.set(s,d),i.addTrace(Jo.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(Rl.create,d),i.addTrace(Jo.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Jo.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(tc.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(h){throw i.setError(tc.subscribe_pairing_topic_failure),h}return i.addTrace(Jo.subscribe_pairing_topic_success),d}),lt(this,"activate",async({topic:n})=>{this.isInitialized();const i=Gr(ie.FIVE_MINUTES);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})}),lt(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Il();this.events.once(Ot("pairing_ping",s),({error:u})=>{u?c(u):a()}),await o()}}),lt(this,"updateExpiry",async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})}),lt(this,"updateMetadata",async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})}),lt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),lt(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Dt("USER_DISCONNECTED")),await this.deletePairing(i))}),lt(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,c=this.core.crypto.keychain.get(i);return RU({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),lt(this,"sendRequest",async(n,i,s)=>{const o=di(i,s),a=await this.core.crypto.encode(n,o),c=_g[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id}),lt(this,"sendResult",async(n,i,s)=>{const o=Gu(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,u=_g[c].res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(o)}),lt(this,"sendError",async(n,i,s)=>{const o=Qp(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,u=_g[c]?_g[c].res:_g.unregistered_method.res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(o)}),lt(this,"deletePairing",async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Dt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])}),lt(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(i=>uu(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))}),lt(this,"onRelayEventRequest",async n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),lt(this,"onRelayEventResponse",async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;return o==="wc_pairingPing"?this.onPairingPingResponse(i,s):this.onUnknownRpcMethodResponse(o)}),lt(this,"onPairingPingRequest",async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(Rl.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),lt(this,"onPairingPingResponse",(n,i)=>{const{id:s}=i;setTimeout(()=>{Yr(i)?this.events.emit(Ot("pairing_ping",s),{}):vr(i)&&this.events.emit(Ot("pairing_ping",s),{error:i.error})},500)}),lt(this,"onPairingDeleteRequest",async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Rl.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),lt(this,"onUnknownRpcMethodRequest",async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Dt("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}}),lt(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(Dt("WC_METHOD_UNSUPPORTED",n))}),lt(this,"isValidPair",(n,i)=>{var s;if(!Oi(n)){const{message:a}=_e("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(tc.malformed_pairing_uri),new Error(a)}if(!Z8e(n.uri)){const{message:a}=_e("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(tc.malformed_pairing_uri),new Error(a)}const o=BU(n?.uri);if(!((s=o?.relay)!=null&&s.protocol)){const{message:a}=_e("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(tc.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=_e("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(tc.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&ie.toMiliseconds(o?.expiryTimestamp)<Date.now()){i.setError(tc.pairing_expired);const{message:a}=_e("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),lt(this,"isValidPing",async n=>{if(!Oi(n)){const{message:s}=_e("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),lt(this,"isValidDisconnect",async n=>{if(!Oi(n)){const{message:s}=_e("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),lt(this,"isValidPairingTopic",async n=>{if(!Mr(n,!1)){const{message:i}=_e("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=_e("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(uu(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=_e("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}}),this.core=t,this.logger=Rt(r,this.name),this.pairings=new Xd(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Jt(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=_e("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(pn.message,async t=>{const{topic:r,message:n,transportType:i}=t;if(this.pairings.keys.includes(r)&&i!==ar.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const s=await this.core.crypto.decode(r,n);Jp(s)?(this.core.history.set(r,s),await this.onRelayEventRequest({topic:r,payload:s})):Jd(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id)),await this.core.relayer.messages.ack(r,n)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(qs.expired,async t=>{const{topic:r}=DJ(t.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Rl.expire,{topic:r}))})}};var LIe=Object.defineProperty,UIe=(e,t,r)=>t in e?LIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Sn=(e,t,r)=>UIe(e,typeof t!="symbol"?t+"":t,r);let qIe=class extends v4e{constructor(t,r){super(t,r),this.core=t,this.logger=r,Sn(this,"records",new Map),Sn(this,"events",new Wr.EventEmitter),Sn(this,"name",FCe),Sn(this,"version",HCe),Sn(this,"cached",[]),Sn(this,"initialized",!1),Sn(this,"storagePrefix",ma),Sn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Sn(this,"set",(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:Gr(ie.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(oo.created,o)}),Sn(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=vr(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(oo.updated,i))}),Sn(this,"get",async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i))),Sn(this,"delete",(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(oo.deleted,s)}}),this.persist()}),Sn(this,"exists",async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1)),Sn(this,"on",(n,i)=>{this.events.on(n,i)}),Sn(this,"once",(n,i)=>{this.events.once(n,i)}),Sn(this,"off",(n,i)=>{this.events.off(n,i)}),Sn(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=Rt(r,this.name)}get context(){return Jt(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:di(r.request.method,r.request.params,r.id),chainId:r.chainId};return t.push(n)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const r=this.records.get(t);if(!r){const{message:n}=_e("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(oo.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:r}=_e("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(oo.created,t=>{const r=oo.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on(oo.updated,t=>{const r=oo.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on(oo.deleted,t=>{const r=oo.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.core.heartbeat.on(Ts.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(r=>{ie.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(oo.deleted,r,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=_e("NOT_INITIALIZED",this.name);throw new Error(t)}}};var zIe=Object.defineProperty,FIe=(e,t,r)=>t in e?zIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Hn=(e,t,r)=>FIe(e,typeof t!="symbol"?t+"":t,r);let HIe=class extends I4e{constructor(t,r){super(t,r),this.core=t,this.logger=r,Hn(this,"expirations",new Map),Hn(this,"events",new Wr.EventEmitter),Hn(this,"name",WCe),Hn(this,"version",VCe),Hn(this,"cached",[]),Hn(this,"initialized",!1),Hn(this,"storagePrefix",ma),Hn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Hn(this,"has",n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Hn(this,"set",(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(qs.created,{target:s,expiration:o})}),Hn(this,"get",n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)}),Hn(this,"del",n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(qs.deleted,{target:i,expiration:s})}}),Hn(this,"on",(n,i)=>{this.events.on(n,i)}),Hn(this,"once",(n,i)=>{this.events.once(n,i)}),Hn(this,"off",(n,i)=>{this.events.off(n,i)}),Hn(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=Rt(r,this.name)}get context(){return Jt(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return J5e(t);if(typeof t=="number")return X5e(t);const{message:r}=_e("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(r)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(qs.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:r}=_e("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const r=this.expirations.get(t);if(!r){const{message:n}=_e("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(t,r){const{expiry:n}=r;ie.toMiliseconds(n)-Date.now()<=0&&this.expire(t,r)}expire(t,r){this.expirations.delete(t),this.events.emit(qs.expired,{target:t,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,r)=>this.checkExpiry(r,t))}registerEventListeners(){this.core.heartbeat.on(Ts.pulse,()=>this.checkExpirations()),this.events.on(qs.created,t=>{const r=qs.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(qs.expired,t=>{const r=qs.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(qs.deleted,t=>{const r=qs.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=_e("NOT_INITIALIZED",this.name);throw new Error(t)}}};var WIe=Object.defineProperty,VIe=(e,t,r)=>t in e?WIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Nr=(e,t,r)=>VIe(e,typeof t!="symbol"?t+"":t,r);let GIe=class extends P4e{constructor(t,r,n){super(t,r,n),this.core=t,this.logger=r,this.store=n,Nr(this,"name",GCe),Nr(this,"abortController"),Nr(this,"isDevEnv"),Nr(this,"verifyUrlV3",ZCe),Nr(this,"storagePrefix",ma),Nr(this,"version",OX),Nr(this,"publicKey"),Nr(this,"fetchPromise"),Nr(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ie.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Nr(this,"register",async i=>{if(!Gp()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const u=Cn.getDocument(),l=this.startAbortTimer(ie.ONE_SECOND*5),f=await new Promise((d,h)=>{const g=()=>{window.removeEventListener("message",b),u.body.removeChild(p),h("attestation aborted")};this.abortController.signal.addEventListener("abort",g);const p=u.createElement("iframe");p.src=c,p.style.display="none",p.addEventListener("error",g,{signal:this.abortController.signal});const b=w=>{if(w.data&&typeof w.data=="string")try{const y=JSON.parse(w.data);if(y.type==="verify_attestation"){if(ip(y.attestation).payload.id!==o)return;clearInterval(l),u.body.removeChild(p),this.abortController.signal.removeEventListener("abort",g),window.removeEventListener("message",b),d(y.attestation===null?"":y.attestation)}}catch(y){this.logger.warn(y)}};u.body.appendChild(p),window.addEventListener("message",b,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",f),f}catch(u){this.logger.warn(u)}return""}),Nr(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(ip(s).payload.id!==a)return;const u=await this.isValidJwtAttestation(s);if(u){if(!u.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return u}}if(!o)return;const c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(o,c)}),Nr(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(ie.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Nr(this,"getVerifyUrl",i=>{let s=i||Qg;return YCe.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Qg}`),s=Qg),s}),Nr(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(ie.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),Nr(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Nr(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Nr(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Nr(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Nr(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Nr(this,"validateAttestation",(i,s)=>{const o=S8e(i,s.publicKey),a={hasExpired:ie.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Rt(r,this.name),this.abortController=new AbortController,this.isDevEnv=m7(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Jt(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ie.toMiliseconds(t))}};var KIe=Object.defineProperty,ZIe=(e,t,r)=>t in e?KIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Sq=(e,t,r)=>ZIe(e,typeof t!="symbol"?t+"":t,r);let YIe=class extends S4e{constructor(t,r){super(t,r),this.projectId=t,this.logger=r,Sq(this,"context",QCe),Sq(this,"registerDeviceToken",async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,c=`${JCe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=Rt(r,this.context)}};var QIe=Object.defineProperty,Tq=Object.getOwnPropertySymbols,JIe=Object.prototype.hasOwnProperty,XIe=Object.prototype.propertyIsEnumerable,SI=(e,t,r)=>t in e?QIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,xg=(e,t)=>{for(var r in t||(t={}))JIe.call(t,r)&&SI(e,r,t[r]);if(Tq)for(var r of Tq(t))XIe.call(t,r)&&SI(e,r,t[r]);return e},tn=(e,t,r)=>SI(e,typeof t!="symbol"?t+"":t,r);let ePe=class extends T4e{constructor(t,r,n=!0){super(t,r,n),this.core=t,this.logger=r,tn(this,"context",eAe),tn(this,"storagePrefix",ma),tn(this,"storageVersion",XCe),tn(this,"events",new Map),tn(this,"shouldPersist",!1),tn(this,"init",async()=>{if(!m7())try{const i={eventId:rU(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:kJ(this.core.relayer.protocol,this.core.relayer.version,vI)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),tn(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,u=rU(),l=this.core.projectId||"",f=Date.now(),d=xg({eventId:u,timestamp:f,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:l,domain:this.getAppDomain()},this.setMethods(u));return this.telemetryEnabled&&(this.events.set(u,d),this.shouldPersist=!0),d}),tn(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return xg(xg({},a),this.setMethods(a.eventId))}),tn(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),tn(this,"setEventListeners",()=>{this.core.heartbeat.on(Ts.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{ie.fromMiliseconds(Date.now())-ie.fromMiliseconds(i.timestamp)>tAe&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),tn(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),tn(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),tn(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),tn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),tn(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,xg(xg({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),tn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),tn(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${rAe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${vI}${s}`,{method:"POST",body:JSON.stringify(i)})}),tn(this,"getAppDomain",()=>RJ().url),this.logger=Rt(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var tPe=Object.defineProperty,Oq=Object.getOwnPropertySymbols,rPe=Object.prototype.hasOwnProperty,nPe=Object.prototype.propertyIsEnumerable,TI=(e,t,r)=>t in e?tPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,jq=(e,t)=>{for(var r in t||(t={}))rPe.call(t,r)&&TI(e,r,t[r]);if(Oq)for(var r of Oq(t))nPe.call(t,r)&&TI(e,r,t[r]);return e},er=(e,t,r)=>TI(e,typeof t!="symbol"?t+"":t,r);let iPe=class HX extends m4e{constructor(t){var r;super(t),er(this,"protocol",TX),er(this,"version",OX),er(this,"name",wI),er(this,"relayUrl"),er(this,"projectId"),er(this,"customStoragePrefix"),er(this,"events",new Wr.EventEmitter),er(this,"logger"),er(this,"heartbeat"),er(this,"relayer"),er(this,"crypto"),er(this,"storage"),er(this,"history"),er(this,"expirer"),er(this,"pairing"),er(this,"verify"),er(this,"echoClient"),er(this,"linkModeSupportedApps"),er(this,"eventClient"),er(this,"initialized",!1),er(this,"logChunkController"),er(this,"on",(a,c)=>this.events.on(a,c)),er(this,"once",(a,c)=>this.events.once(a,c)),er(this,"off",(a,c)=>this.events.off(a,c)),er(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),er(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:u})=>{if(!a||!c)return;const l={topic:a,message:c,publishedAt:Date.now(),transportType:ar.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:u})});const n=this.getGlobalCore(t?.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(a){console.warn("Failed to copy global core",a)}this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||BX,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const i=Nc({level:typeof t?.logger=="string"&&t.logger?t.logger:ACe.logger,name:wI}),{logger:s,chunkLoggerController:o}=x7({opts:i,maxSizeInBytes:t?.maxLogBlobSizeInBytes,loggerOverride:t?.logger});this.logChunkController=o,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Rt(s,this.name),this.heartbeat=new yX,this.crypto=new jxe(this,this.logger,t?.keychain),this.history=new qIe(this,this.logger),this.expirer=new HIe(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new vX(jq(jq({},xCe),t?.storageOptions)),this.relayer=new iIe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new MIe(this,this.logger),this.verify=new GIe(this,this.logger,this.storage),this.echoClient=new YIe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new ePe(this,this.logger,t?.telemetryEnabled),this.setGlobalCore(this)}static async init(t){const r=new HX(t);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(MCe,n),r}get context(){return Jt(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(t){this.linkModeSupportedApps.includes(t)||(this.linkModeSupportedApps.push(t),await this.storage.setItem(lq,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(lq)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}getGlobalCore(t=""){try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${t}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(t){var r;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${((r=t.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=t}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof Ur<"u"&&CCe.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const sPe=iPe,WX="wc",VX=2,GX="client",P7=`${WX}@${VX}:${GX}:`,aC={name:GX,logger:"error"},Bq="WALLETCONNECT_DEEPLINK_CHOICE",oPe="proposal",Rq="Proposal expired",aPe="session",Uf=ie.SEVEN_DAYS,cPe="engine",rn={wc_sessionPropose:{req:{ttl:ie.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ie.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ie.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ie.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ie.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ie.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ie.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ie.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ie.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ie.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ie.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ie.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ie.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ie.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ie.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ie.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ie.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ie.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ie.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ie.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ie.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ie.FIVE_MINUTES,prompt:!1,tag:1119}}},cC={min:ie.FIVE_MINUTES,max:ie.SEVEN_DAYS},Vo={idle:"IDLE",active:"ACTIVE"},kq={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},uPe="request",lPe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],dPe="wc",fPe="auth",hPe="authKeys",pPe="pairingTopics",gPe="requests",o8=`${dPe}@${1.5}:${fPe}:`,i5=`${o8}:PUB_KEY`;var mPe=Object.defineProperty,bPe=Object.defineProperties,yPe=Object.getOwnPropertyDescriptors,Nq=Object.getOwnPropertySymbols,wPe=Object.prototype.hasOwnProperty,vPe=Object.prototype.propertyIsEnumerable,OI=(e,t,r)=>t in e?mPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Kt=(e,t)=>{for(var r in t||(t={}))wPe.call(t,r)&&OI(e,r,t[r]);if(Nq)for(var r of Nq(t))vPe.call(t,r)&&OI(e,r,t[r]);return e},oi=(e,t)=>bPe(e,yPe(t)),ge=(e,t,r)=>OI(e,typeof t!="symbol"?t+"":t,r);let EPe=class extends R4e{constructor(t){super(t),ge(this,"name",cPe),ge(this,"events",new Fp),ge(this,"initialized",!1),ge(this,"requestQueue",{state:Vo.idle,queue:[]}),ge(this,"sessionRequestQueue",{state:Vo.idle,queue:[]}),ge(this,"requestQueueDelay",ie.ONE_SECOND),ge(this,"expectedPairingMethodMap",new Map),ge(this,"recentlyDeletedMap",new Map),ge(this,"recentlyDeletedLimit",200),ge(this,"relayMessageCache",[]),ge(this,"pendingSessions",new Map),ge(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(rn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ie.toMiliseconds(this.requestQueueDelay)))}),ge(this,"connect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=oi(Kt({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n),n.optionalNamespaces=H8e(n.requiredNamespaces,n.optionalNamespaces),n.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:u}=n;let l=i,f,d=!1;try{if(l){const E=this.client.core.pairing.pairings.get(l);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),d=E.active}}catch(E){throw this.client.logger.error(`connect() -> pairing.get(${l}) failed`),E}if(!l||!d){const{topic:E,uri:_}=await this.client.core.pairing.create();l=E,f=_}if(!l){const{message:E}=_e("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(E)}const h=await this.client.core.crypto.generateKeyPair(),g=rn.wc_sessionPropose.req.ttl||ie.FIVE_MINUTES,p=Gr(g),b=oi(Kt(Kt({requiredNamespaces:s,optionalNamespaces:o,relays:u??[{protocol:jX}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:p,pairingTopic:l},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:fn()}),w=Ot("session_connect",b.id),{reject:y,resolve:v,done:m}=Il(g,Rq),C=({id:E})=>{E===b.id&&(this.client.events.off("proposal_expire",C),this.pendingSessions.delete(b.id),this.events.emit(w,{error:{message:Rq,code:0}}))};return this.client.events.on("proposal_expire",C),this.events.once(w,({error:E,session:_})=>{this.client.events.off("proposal_expire",C),E?y(E):_&&v(_)}),await this.sendRequest({topic:l,method:"wc_sessionPropose",params:b,throwOnFailedPublish:!0,clientRpcId:b.id}),await this.setProposal(b.id,b),{uri:f,approval:m}}),ge(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),ge(this,"approve",async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r?.id)==null?void 0:n.toString(),trace:[ao.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(x){throw o.setError(vl.no_internet_connection),x}try{await this.isValidProposalId(r?.id)}catch(x){throw this.client.logger.error(`approve() -> proposal.get(${r?.id}) failed`),o.setError(vl.proposal_not_found),x}try{await this.isValidApprove(r)}catch(x){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(vl.session_approve_namespace_validation_failure),x}const{id:a,relayProtocol:c,namespaces:u,sessionProperties:l,scopedProperties:f,sessionConfig:d}=r,h=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:g,proposer:p,requiredNamespaces:b,optionalNamespaces:w}=h;let y=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:g});y||(y=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:ao.session_approve_started,properties:{topic:g,trace:[ao.session_approve_started,ao.session_namespaces_validation_success]}}));const v=await this.client.core.crypto.generateKeyPair(),m=p.publicKey,C=await this.client.core.crypto.generateSharedKey(v,m),E=Kt(Kt(Kt({relay:{protocol:c??"irn"},namespaces:u,controller:{publicKey:v,metadata:this.client.metadata},expiry:Gr(Uf)},l&&{sessionProperties:l}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),_=ar.relay;y.addTrace(ao.subscribing_session_topic);try{await this.client.core.relayer.subscribe(C,{transportType:_})}catch(x){throw y.setError(vl.subscribe_session_topic_failure),x}y.addTrace(ao.subscribe_session_topic_success);const P=oi(Kt({},E),{topic:C,requiredNamespaces:b,optionalNamespaces:w,pairingTopic:g,acknowledged:!1,self:E.controller,peer:{publicKey:p.publicKey,metadata:p.metadata},controller:v,transportType:ar.relay});await this.client.session.set(C,P),y.addTrace(ao.store_session);try{y.addTrace(ao.publishing_session_settle),await this.sendRequest({topic:C,method:"wc_sessionSettle",params:E,throwOnFailedPublish:!0}).catch(x=>{throw y?.setError(vl.session_settle_publish_failure),x}),y.addTrace(ao.session_settle_publish_success),y.addTrace(ao.publishing_session_approve),await this.sendResult({id:a,topic:g,result:{relay:{protocol:c??"irn"},responderPublicKey:v},throwOnFailedPublish:!0}).catch(x=>{throw y?.setError(vl.session_approve_publish_failure),x}),y.addTrace(ao.session_approve_publish_success)}catch(x){throw this.client.logger.error(x),this.client.session.delete(C,Dt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(C),x}return this.client.core.eventClient.deleteEvent({eventId:y.eventId}),await this.client.core.pairing.updateMetadata({topic:g,metadata:p.metadata}),await this.client.proposal.delete(a,Dt("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:g}),await this.setExpiry(C,Gr(Uf)),{topic:C,acknowledged:()=>Promise.resolve(this.client.session.get(C))}}),ge(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&(await this.sendError({id:n,topic:s,error:i,rpcOpts:rn.wc_sessionPropose.reject}),await this.client.proposal.delete(n,Dt("USER_DISCONNECTED")))}),ge(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=Il(),c=fn(),u=ms().toString(),l=this.client.session.get(n).namespaces;return this.events.once(Ot("session_update",c),({error:f})=>{f?a(f):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:u}).catch(f=>{this.client.logger.error(f),this.client.session.update(n,{namespaces:l}),a(f)}),{acknowledged:s}}),ge(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:n}=r,i=fn(),{done:s,resolve:o,reject:a}=Il();return this.events.once(Ot("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,Gr(Uf)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),ge(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(w){throw this.client.logger.error("request() -> isValidRequest() failed"),w}const{chainId:n,request:i,topic:s,expiry:o=rn.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);a?.transportType===ar.relay&&await this.confirmOnlineStateOrThrow();const c=fn(),u=ms().toString(),{done:l,resolve:f,reject:d}=Il(o,"Request expired. Please try again.");this.events.once(Ot("session_request",c),({error:w,result:y})=>{w?d(w):f(y)});const h="wc_sessionRequest",g=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(g)return await this.sendRequest({clientRpcId:c,relayRpcId:u,topic:s,method:h,params:{request:oi(Kt({},i),{expiryTimestamp:Gr(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:g}).catch(w=>d(w)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),await l();const p={request:oi(Kt({},i),{expiryTimestamp:Gr(o)}),chainId:n},b=this.shouldSetTVF(h,p);return await Promise.all([new Promise(async w=>{await this.sendRequest(Kt({clientRpcId:c,relayRpcId:u,topic:s,method:h,params:p,expiry:o,throwOnFailedPublish:!0},b&&{tvf:this.getTVFParams(c,p)})).catch(y=>d(y)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),w()}),new Promise(async w=>{var y;if(!((y=a.sessionConfig)!=null&&y.disableDeepLink)){const v=await n3e(this.client.core.storage,Bq);await e3e({id:c,topic:s,wcDeepLink:v})}w()}),l()]).then(w=>w[2])}),ge(this,"respond",async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,o=this.client.session.get(n);o.transportType===ar.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Yr(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:a}):vr(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:a}),this.cleanupAfterResponse(r)}),ge(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=fn(),s=ms().toString(),{done:o,resolve:a,reject:c}=Il();this.events.once(Ot("session_ping",i),({error:u})=>{u?c(u):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),ge(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=ms().toString(),a=fn();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),ge(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Dt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=_e("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}}),ge(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>G8e(n,r)))),ge(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ge(this,"authenticate",async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?ar.link_mode:ar.relay;o===ar.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:u,domain:l,nonce:f,type:d,exp:h,nbf:g,methods:p=[],expiry:b}=r,w=[...r.resources||[]],{topic:y,uri:v}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:y,uri:v}});const m=await this.client.core.crypto.generateKeyPair(),C=e5(m);if(await Promise.all([this.client.auth.authKeys.set(i5,{responseTopic:C,publicKey:m}),this.client.auth.pairingTopics.set(C,{topic:C,pairingTopic:y})]),await this.client.core.relayer.subscribe(C,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${y}`),p.length>0){const{namespace:N}=Uh(a[0]);let B=Z3e(N,"request",p);X6(w)&&(B=Q3e(B,w.pop())),w.push(B)}const E=b&&b>rn.wc_sessionAuthenticate.req.ttl?b:rn.wc_sessionAuthenticate.req.ttl,_={authPayload:{type:d??"caip122",chains:a,statement:c,aud:u,domain:l,version:"1",nonce:f,iat:new Date().toISOString(),exp:h,nbf:g,resources:w},requester:{publicKey:m,metadata:this.client.metadata},expiryTimestamp:Gr(E)},P={eip155:{chains:a,methods:[...new Set(["personal_sign",...p])],events:["chainChanged","accountsChanged"]}},x={requiredNamespaces:{},optionalNamespaces:P,relays:[{protocol:"irn"}],pairingTopic:y,proposer:{publicKey:m,metadata:this.client.metadata},expiryTimestamp:Gr(rn.wc_sessionPropose.req.ttl),id:fn()},{done:O,resolve:D,reject:R}=Il(E,"Request expired"),k=fn(),T=Ot("session_connect",x.id),S=Ot("session_request",k),I=async({error:N,session:B})=>{this.events.off(S,A),N?R(N):B&&D({session:B})},A=async N=>{var B,$,M;if(await this.deletePendingAuthRequest(k,{message:"fulfilled",code:0}),N.error){const W=Dt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return N.error.code===W.code?void 0:(this.events.off(T,I),R(N.error.message))}await this.deleteProposal(x.id),this.events.off(T,I);const{cacaos:L,responder:q}=N.result,U=[],F=[];for(const W of L){await lU({cacao:W,projectId:this.client.core.projectId})||(this.client.logger.error(W,"Signature verification failed"),R(Dt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Z}=W,X=X6(Z.resources),ue=[sI(Z.iss)],Y=V5(Z.iss);if(X){const Q=dU(X),ae=fU(X);U.push(...Q),ue.push(...ae)}for(const Q of ue)F.push(`${Q}:${Y}`)}const H=await this.client.core.crypto.generateSharedKey(m,q.publicKey);let V;U.length>0&&(V={topic:H,acknowledged:!0,self:{publicKey:m,metadata:this.client.metadata},peer:q,controller:q.publicKey,expiry:Gr(Uf),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:y,namespaces:$U([...new Set(U)],[...new Set(F)]),transportType:o},await this.client.core.relayer.subscribe(H,{transportType:o}),await this.client.session.set(H,V),y&&await this.client.core.pairing.updateMetadata({topic:y,metadata:q.metadata}),V=this.client.session.get(H)),(B=this.client.metadata.redirect)!=null&&B.linkMode&&($=q.metadata.redirect)!=null&&$.linkMode&&(M=q.metadata.redirect)!=null&&M.universal&&n&&(this.client.core.addLinkModeSupportedApp(q.metadata.redirect.universal),this.client.session.update(H,{transportType:ar.link_mode})),D({auths:L,session:V})};this.events.once(T,I),this.events.once(S,A);let j;try{if(s){const N=di("wc_sessionAuthenticate",_,k);this.client.core.history.set(y,N);const B=await this.client.core.crypto.encode("",N,{type:db,encoding:fu});j=E6(n,y,B)}else await Promise.all([this.sendRequest({topic:y,method:"wc_sessionAuthenticate",params:_,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:k}),this.sendRequest({topic:y,method:"wc_sessionPropose",params:x,expiry:rn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:x.id})])}catch(N){throw this.events.off(T,I),this.events.off(S,A),N}return await this.setProposal(x.id,x),await this.setAuthRequest(k,{request:oi(Kt({},_),{verifyContext:{}}),pairingTopic:y,transportType:o}),{uri:j??v,response:O}}),ge(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[El.authenticated_session_approve_started]}});try{this.isInitialized()}catch(b){throw s.setError(Cg.no_internet_connection),b}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(Cg.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||ar.relay;a===ar.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),l=e5(c),f={type:wc,receiverPublicKey:c,senderPublicKey:u},d=[],h=[];for(const b of i){if(!await lU({cacao:b,projectId:this.client.core.projectId})){s.setError(Cg.invalid_cacao);const C=Dt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:l,error:C,encodeOpts:f}),new Error(C.message)}s.addTrace(El.cacaos_verified);const{p:w}=b,y=X6(w.resources),v=[sI(w.iss)],m=V5(w.iss);if(y){const C=dU(y),E=fU(y);d.push(...C),v.push(...E)}for(const C of v)h.push(`${C}:${m}`)}const g=await this.client.core.crypto.generateSharedKey(u,c);s.addTrace(El.create_authenticated_session_topic);let p;if(d?.length>0){p={topic:g,acknowledged:!0,self:{publicKey:u,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Gr(Uf),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:$U([...new Set(d)],[...new Set(h)]),transportType:a},s.addTrace(El.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(g,{transportType:a})}catch(b){throw s.setError(Cg.subscribe_authenticated_session_topic_failure),b}s.addTrace(El.subscribe_authenticated_session_topic_success),await this.client.session.set(g,p),s.addTrace(El.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(El.publishing_authenticated_session_approve);try{await this.sendResult({topic:l,id:n,result:{cacaos:i,responder:{publicKey:u,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(b){throw s.setError(Cg.authenticated_session_approve_publish_failure),b}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:p}}),ge(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===ar.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=e5(o),u={type:wc,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:c,error:i,encodeOpts:u,rpcOpts:rn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.client.proposal.delete(n,Dt("USER_DISCONNECTED"))}),ge(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:i}=r;return WJ(n,i)}),ge(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),ge(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),ge(this,"deleteSession",async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Dt("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(Bq).catch(u=>this.client.logger.warn(u)),this.getPendingSessionRequests().forEach(u=>{u.topic===i&&this.deletePendingSessionRequest(u.id,Dt("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=Vo.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),ge(this,"deleteProposal",async(r,n)=>{if(n)try{const i=this.client.proposal.get(r);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(vl.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,Dt("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),ge(this,"deletePendingSessionRequest",async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=Vo.idle,this.client.events.emit("session_request_expire",{id:r}))}),ge(this,"deletePendingAuthRequest",async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])}),ge(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),ge(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,Gr(rn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),ge(this,"setAuthRequest",async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=ar.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),ge(this,"setPendingSessionRequest",async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||Gr(rn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})}),ge(this,"sendRequest",async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:u,appLink:l,tvf:f}=r,d=di(i,s,c);let h;const g=!!l;try{const w=g?fu:Eo;h=await this.client.core.crypto.encode(n,d,{encoding:w})}catch(w){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),w}let p;if(lPe.includes(i)){const w=ta(JSON.stringify(d)),y=ta(h);p=await this.client.core.verify.register({id:y,decryptedId:w})}const b=rn[i].req;if(b.attestation=p,o&&(b.ttl=o),a&&(b.id=a),this.client.core.history.set(n,d),g){const w=E6(l,n,h);await globalThis.Linking.openURL(w,this.client.name)}else{const w=rn[i].req;o&&(w.ttl=o),a&&(w.id=a),w.tvf=oi(Kt({},f),{correlationId:d.id}),u?(w.internal=oi(Kt({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,h,w)):this.client.core.relayer.publish(n,h,w).catch(y=>this.client.logger.error(y))}return d.id}),ge(this,"sendResult",async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=r,u=Gu(n,s);let l;const f=c&&typeof globalThis?.Linking<"u";try{const g=f?fu:Eo;l=await this.client.core.crypto.encode(i,u,oi(Kt({},a||{}),{encoding:g}))}catch(g){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),g}let d,h;try{d=await this.client.core.history.get(i,n);const g=d.request;try{this.shouldSetTVF(g.method,g.params)&&(h=this.getTVFParams(n,g.params,s))}catch(p){this.client.logger.warn("sendResult() -> getTVFParams() failed",p)}}catch(g){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),g}if(f){const g=E6(c,i,l);await globalThis.Linking.openURL(g,this.client.name)}else{const g=d.request.method,p=rn[g].res;p.tvf=oi(Kt({},h),{correlationId:n}),o?(p.internal=oi(Kt({},p.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,l,p)):this.client.core.relayer.publish(i,l,p).catch(b=>this.client.logger.error(b))}await this.client.core.history.resolve(u)}),ge(this,"sendError",async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=r,u=Qp(n,s);let l;const f=c&&typeof globalThis?.Linking<"u";try{const h=f?fu:Eo;l=await this.client.core.crypto.encode(i,u,oi(Kt({},o||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),h}let d;try{d=await this.client.core.history.get(i,n)}catch(h){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),h}if(f){const h=E6(c,i,l);await globalThis.Linking.openURL(h,this.client.name)}else{const h=d.request.method,g=a||rn[h].res;this.client.core.relayer.publish(i,l,g)}await this.client.core.history.resolve(u)}),ge(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;uu(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{uu(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])}),ge(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),ge(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),ge(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Vo.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Vo.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=Vo.idle}),ge(this,"processRequest",async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,c=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),ge(this,"onRelayEventResponse",async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),ge(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:i}=_e("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),ge(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ge(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:c}=i;try{const u=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),u?.setError(tc.proposal_listener_not_found)),this.isValidConnect(Kt({},i.params));const l=a.expiryTimestamp||Gr(rn.wc_sessionPropose.req.ttl),f=Kt({id:c,pairingTopic:n,expiryTimestamp:l},a);await this.setProposal(c,f);const d=await this.getVerifyContext({attestationId:s,hash:ta(JSON.stringify(i)),encryptedId:o,metadata:f.proposer.metadata});u?.addTrace(Jo.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:f,verifyContext:d})}catch(u){await this.sendError({id:c,topic:n,error:u,rpcOpts:rn.wc_sessionPropose.autoReject}),this.client.logger.error(u)}}),ge(this,"onSessionProposeResponse",async(r,n,i)=>{const{id:s}=n;if(Yr(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const u=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u});const l=await this.client.core.crypto.generateSharedKey(c,u);this.pendingSessions.set(s,{sessionTopic:l,pairingTopic:r,proposalId:s,publicKey:c});const f=await this.client.core.relayer.subscribe(l,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:r})}else if(vr(n)){await this.client.proposal.delete(s,Dt("USER_DISCONNECTED"));const o=Ot("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),ge(this,"onSessionSettleRequest",async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:u,sessionProperties:l,scopedProperties:f,sessionConfig:d}=n.params,h=[...this.pendingSessions.values()].find(b=>b.sessionTopic===r);if(!h)return this.client.logger.error(`Pending session not found for topic ${r}`);const g=this.client.proposal.get(h.proposalId),p=oi(Kt(Kt(Kt({topic:r,relay:o,expiry:c,namespaces:u,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:g.requiredNamespaces,optionalNamespaces:g.optionalNamespaces,controller:a.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},l&&{sessionProperties:l}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),{transportType:ar.relay});await this.client.session.set(p.topic,p),await this.setExpiry(p.topic,p.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:p.peer.metadata}),this.client.events.emit("session_connect",{session:p}),this.events.emit(Ot("session_connect",h.proposalId),{session:p}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(p),await this.sendResult({id:n.id,topic:r,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),ge(this,"onSessionSettleResponse",async(r,n)=>{const{id:i}=n;Yr(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Ot("session_approve",i),{})):vr(n)&&(await this.client.session.delete(r,Dt("USER_DISCONNECTED")),this.events.emit(Ot("session_approve",i),{error:n.error}))}),ge(this,"onSessionUpdateRequest",async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=Eg.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:Dt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Kt({topic:r},i));try{Eg.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0})}catch(c){throw Eg.delete(o),c}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),ge(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),ge(this,"onSessionUpdateResponse",(r,n)=>{const{id:i}=n,s=Ot("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Yr(n)?this.events.emit(Ot("session_update",i),{}):vr(n)&&this.events.emit(Ot("session_update",i),{error:n.error})}),ge(this,"onSessionExtendRequest",async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Gr(Uf)),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),ge(this,"onSessionExtendResponse",(r,n)=>{const{id:i}=n,s=Ot("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Yr(n)?this.events.emit(Ot("session_extend",i),{}):vr(n)&&this.events.emit(Ot("session_extend",i),{error:n.error})}),ge(this,"onSessionPingRequest",async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),ge(this,"onSessionPingResponse",(r,n)=>{const{id:i}=n,s=Ot("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);Yr(n)?this.events.emit(Ot("session_ping",i),{}):vr(n)&&this.events.emit(Ot("session_ping",i),{error:n.error})},500)}),ge(this,"onSessionDeleteRequest",async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(pn.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Dt("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),ge(this,"onSessionRequest",async r=>{var n,i,s;const{topic:o,payload:a,attestation:c,encryptedId:u,transportType:l}=r,{id:f,params:d}=a;try{await this.isValidRequest(Kt({topic:o},d));const h=this.client.session.get(o),g=await this.getVerifyContext({attestationId:c,hash:ta(JSON.stringify(di("wc_sessionRequest",d,f))),encryptedId:u,metadata:h.peer.metadata,transportType:l}),p={id:f,topic:o,params:d,verifyContext:g};await this.setPendingSessionRequest(p),l===ar.link_mode&&(n=h.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=h.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(p):(this.addSessionRequestToSessionRequestQueue(p),this.processSessionRequestQueue())}catch(h){await this.sendError({id:f,topic:o,error:h}),this.client.logger.error(h)}}),ge(this,"onSessionRequestResponse",(r,n)=>{const{id:i}=n,s=Ot("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Yr(n)?this.events.emit(Ot("session_request",i),{result:n.result}):vr(n)&&this.events.emit(Ot("session_request",i),{error:n.error})}),ge(this,"onSessionEventRequest",async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=Eg.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Kt({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),Eg.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),ge(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),Yr(n)?this.events.emit(Ot("session_request",i),{result:n.result}):vr(n)&&this.events.emit(Ot("session_request",i),{error:n.error})}),ge(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=r;try{const{requester:u,authPayload:l,expiryTimestamp:f}=s.params,d=await this.getVerifyContext({attestationId:o,hash:ta(JSON.stringify(s)),encryptedId:a,metadata:u.metadata,transportType:c}),h={requester:u,pairingTopic:i,id:s.id,authPayload:l,verifyContext:d,expiryTimestamp:f};await this.setAuthRequest(s.id,{request:h,pairingTopic:i,transportType:c}),c===ar.link_mode&&(n=u.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(u.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:d})}catch(u){this.client.logger.error(u);const l=s.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),d=this.getAppLinkIfEnabled(s.params.requester.metadata,c),h={type:wc,receiverPublicKey:l,senderPublicKey:f};await this.sendError({id:s.id,topic:i,error:u,encodeOpts:h,rpcOpts:rn.wc_sessionAuthenticate.autoReject,appLink:d})}}),ge(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),ge(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Vo.idle,this.processSessionRequestQueue()},ie.toMiliseconds(this.requestQueueDelay))}),ge(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=Ot("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Ot("session_request",s.request.id),{error:n})})}),ge(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Vo.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Vo.active,this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),ge(this,"emitSessionRequest",r=>{this.client.events.emit("session_request",r)}),ge(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:di("wc_sessionPropose",oi(Kt({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id)})}),ge(this,"isValidConnect",async r=>{if(!Oi(r)){const{message:u}=_e("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(u)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=r;if(Rn(n)||await this.isValidPairingTopic(n),!s_e(c)){const{message:u}=_e("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(u)}if(!Rn(i)&&vu(i)!==0){const u="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(u):this.client.logger.warn(u),this.validateNamespaces(i,"requiredNamespaces")}if(!Rn(s)&&vu(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Rn(o)||this.validateSessionProps(o,"sessionProperties"),!Rn(a)){this.validateSessionProps(a,"scopedProperties");const u=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(l=>u.includes(l)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(u)}`)}}),ge(this,"validateNamespaces",(r,n)=>{const i=i_e(r,"connect()",n);if(i)throw new Error(i.message)}),ge(this,"isValidApprove",async r=>{if(!Oi(r))throw new Error(_e("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const c=this.client.proposal.get(n),u=Q4(i,"approve()");if(u)throw new Error(u.message);const l=UU(c.requiredNamespaces,i,"approve()");if(l)throw new Error(l.message);if(!Mr(s,!0)){const{message:f}=_e("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(f)}if(Rn(o)||this.validateSessionProps(o,"sessionProperties"),!Rn(a)){this.validateSessionProps(a,"scopedProperties");const f=new Set(Object.keys(i));if(!Object.keys(a).every(d=>f.has(d)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(f).join(", ")}`)}}),ge(this,"isValidReject",async r=>{if(!Oi(r)){const{message:s}=_e("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!a_e(i)){const{message:s}=_e("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),ge(this,"isValidSessionSettleRequest",r=>{if(!Oi(r)){const{message:u}=_e("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(u)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!bX(n)){const{message:u}=_e("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(u)}const a=J8e(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=Q4(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(uu(o)){const{message:u}=_e("EXPIRED","onSessionSettleRequest()");throw new Error(u)}}),ge(this,"isValidUpdate",async r=>{if(!Oi(r)){const{message:c}=_e("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=Q4(i,"update()");if(o)throw new Error(o.message);const a=UU(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),ge(this,"isValidExtend",async r=>{if(!Oi(r)){const{message:i}=_e("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),ge(this,"isValidRequest",async r=>{if(!Oi(r)){const{message:c}=_e("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!LU(a,s)){const{message:c}=_e("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!c_e(i)){const{message:c}=_e("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!d_e(a,s,i.method)){const{message:c}=_e("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!g_e(o,cC)){const{message:c}=_e("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${cC.min} and ${cC.max}`);throw new Error(c)}}),ge(this,"isValidRespond",async r=>{var n;if(!Oi(r)){const{message:o}=_e("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r?.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!u_e(s)){const{message:o}=_e("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),ge(this,"isValidPing",async r=>{if(!Oi(r)){const{message:i}=_e("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),ge(this,"isValidEmit",async r=>{if(!Oi(r)){const{message:a}=_e("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!LU(o,s)){const{message:a}=_e("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!l_e(i)){const{message:a}=_e("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!f_e(o,s,i.name)){const{message:a}=_e("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),ge(this,"isValidDisconnect",async r=>{if(!Oi(r)){const{message:i}=_e("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),ge(this,"isValidAuthenticate",r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!Mr(i,!1))throw new Error("uri is required parameter");if(!Mr(s,!1))throw new Error("domain is required parameter");if(!Mr(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>Uh(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Uh(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ge(this,"getVerifyContext",async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,c={verified:{verifyUrl:o.verifyUrl||Qg,validation:"UNKNOWN",origin:o.url||""}};try{if(a===ar.link_mode){const l=this.getAppLinkIfEnabled(o,a);return c.verified.validation=l&&new URL(l).origin===new URL(o.url).origin?"VALID":"INVALID",c}const u=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});u&&(c.verified.origin=u.origin,c.verified.isScam=u.isScam,c.verified.validation=u.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(u){this.client.logger.warn(u)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),ge(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((i,s)=>{if(i==null){const{message:o}=_e("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${i} for key ${Object.keys(r)[s]}`);throw new Error(o)}})}),ge(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),ge(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),ge(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=_e("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}}),ge(this,"isLinkModeEnabled",(r,n)=>{var i,s,o,a,c,u,l,f,d;return!r||n!==ar.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((u=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:u.universal)!==""&&((l=r?.redirect)==null?void 0:l.universal)!==void 0&&((f=r?.redirect)==null?void 0:f.universal)!==""&&((d=r?.redirect)==null?void 0:d.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof globalThis?.Linking<"u"}),ge(this,"getAppLinkIfEnabled",(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r?.redirect)==null?void 0:i.universal:void 0}),ge(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=tU(r,"topic")||"",i=decodeURIComponent(tU(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:ar.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})}),ge(this,"registerLinkModeListeners",async()=>{var r;if(m7()||Wu()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=globalThis?.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),ge(this,"shouldSetTVF",(r,n)=>{if(!n||r!=="wc_sessionRequest")return!1;const{request:i}=n;return Object.keys(kq).includes(i.method)}),ge(this,"getTVFParams",(r,n,i)=>{var s,o;try{const a=n.request.method,c=this.extractTxHashesFromResult(a,i);return oi(Kt({correlationId:r,rpcMethods:[a],chainId:n.chainId},this.isValidContractData(n.request.params)&&{contractAddresses:[(o=(s=n.request.params)==null?void 0:s[0])==null?void 0:o.to]}),{txHashes:c})}catch(a){this.client.logger.warn("Error getting TVF params",a)}return{}}),ge(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const i=r?.data||((n=r?.[0])==null?void 0:n.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),ge(this,"extractTxHashesFromResult",(r,n)=>{try{const i=kq[r];if(typeof n=="string")return[n];const s=n[i.key];if(Co(s))return r==="solana_signAllTransactions"?s.map(o=>N3e(o)):s;if(typeof s=="string")return[s]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const t=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(t);for(const[n,i]of Object.entries(r))for(const s of i)try{await this.onProviderMessageEvent({topic:n,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${s}`)}}catch(t){this.client.logger.warn("processPendingMessageEvents failed",t)}}isInitialized(){if(!this.initialized){const{message:t}=_e("NOT_INITIALIZED",this.name);throw new Error(t)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(pn.message,t=>{this.onProviderMessageEvent(t)})}async onRelayMessage(t){const{topic:r,message:n,attestation:i,transportType:s}=t,{publicKey:o}=this.client.auth.authKeys.keys.includes(i5)?this.client.auth.authKeys.get(i5):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===ar.link_mode?fu:Eo});Jp(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:ta(n)})):Jd(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(qs.expired,async t=>{const{topic:r,id:n}=DJ(t.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,_e("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,_e("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(Rl.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on(Rl.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!Mr(t,!1)){const{message:r}=_e("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:r}=_e("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(r)}if(uu(this.client.core.pairing.pairings.get(t).expiry)){const{message:r}=_e("EXPIRED",`pairing topic: ${t}`);throw new Error(r)}}async isValidSessionTopic(t){if(!Mr(t,!1)){const{message:r}=_e("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(r)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:r}=_e("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(r)}if(uu(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:r}=_e("EXPIRED",`session topic: ${t}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(t)){const{message:r}=_e("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(r)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(Mr(t,!1)){const{message:r}=_e("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(r)}else{const{message:r}=_e("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(r)}}async isValidProposalId(t){if(!o_e(t)){const{message:r}=_e("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(r)}if(!this.client.proposal.keys.includes(t)){const{message:r}=_e("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(r)}if(uu(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:r}=_e("EXPIRED",`proposal id: ${t}`);throw new Error(r)}}},_Pe=class extends Xd{constructor(t,r){super(t,r,oPe,P7),this.core=t,this.logger=r}},CPe=class extends Xd{constructor(t,r){super(t,r,aPe,P7),this.core=t,this.logger=r}},APe=class extends Xd{constructor(t,r){super(t,r,uPe,P7,n=>n.id),this.core=t,this.logger=r}},xPe=class extends Xd{constructor(t,r){super(t,r,hPe,o8,()=>i5),this.core=t,this.logger=r}},IPe=class extends Xd{constructor(t,r){super(t,r,pPe,o8),this.core=t,this.logger=r}},PPe=class extends Xd{constructor(t,r){super(t,r,gPe,o8,n=>n.id),this.core=t,this.logger=r}};var SPe=Object.defineProperty,TPe=(e,t,r)=>t in e?SPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,uC=(e,t,r)=>TPe(e,typeof t!="symbol"?t+"":t,r);let OPe=class{constructor(t,r){this.core=t,this.logger=r,uC(this,"authKeys"),uC(this,"pairingTopics"),uC(this,"requests"),this.authKeys=new xPe(this.core,this.logger),this.pairingTopics=new IPe(this.core,this.logger),this.requests=new PPe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var jPe=Object.defineProperty,BPe=(e,t,r)=>t in e?jPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dt=(e,t,r)=>BPe(e,typeof t!="symbol"?t+"":t,r);let RPe=class KX extends B4e{constructor(t){super(t),dt(this,"protocol",WX),dt(this,"version",VX),dt(this,"name",aC.name),dt(this,"metadata"),dt(this,"core"),dt(this,"logger"),dt(this,"events",new Wr.EventEmitter),dt(this,"engine"),dt(this,"session"),dt(this,"proposal"),dt(this,"pendingRequest"),dt(this,"auth"),dt(this,"signConfig"),dt(this,"on",(n,i)=>this.events.on(n,i)),dt(this,"once",(n,i)=>this.events.once(n,i)),dt(this,"off",(n,i)=>this.events.off(n,i)),dt(this,"removeListener",(n,i)=>this.events.removeListener(n,i)),dt(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),dt(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"update",async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"request",async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"find",n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),dt(this,"authenticate",async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}}),dt(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),this.name=t?.name||aC.name,this.metadata=K5e(t?.metadata),this.signConfig=t?.signConfig;const r=typeof t?.logger<"u"&&typeof t?.logger!="string"?t.logger:Vu(Nc({level:t?.logger||aC.logger}));this.core=t?.core||new sPe(t),this.logger=Rt(r,this.name),this.session=new CPe(this.core,this.logger),this.proposal=new _Pe(this.core,this.logger),this.pendingRequest=new APe(this.core,this.logger),this.engine=new EPe(this),this.auth=new OPe(this.core,this.logger)}static async init(t){const r=new KX(t);return await r.initialize(),r}get context(){return Jt(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},ie.toMiliseconds(ie.ONE_SECOND))}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}};var x6={exports:{}},Dq;function kPe(){return Dq||(Dq=1,(function(e,t){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,n=(function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s})();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof s<"u"&&s||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u(S){return S&&DataView.prototype.isPrototypeOf(S)}if(c.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(S){return S&&l.indexOf(Object.prototype.toString.call(S))>-1};function d(S){if(typeof S!="string"&&(S=String(S)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(S)||S==="")throw new TypeError('Invalid character in header field name: "'+S+'"');return S.toLowerCase()}function h(S){return typeof S!="string"&&(S=String(S)),S}function g(S){var I={next:function(){var A=S.shift();return{done:A===void 0,value:A}}};return c.iterable&&(I[Symbol.iterator]=function(){return I}),I}function p(S){this.map={},S instanceof p?S.forEach(function(I,A){this.append(A,I)},this):Array.isArray(S)?S.forEach(function(I){if(I.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+I.length);this.append(I[0],I[1])},this):S&&Object.getOwnPropertyNames(S).forEach(function(I){this.append(I,S[I])},this)}p.prototype.append=function(S,I){S=d(S),I=h(I);var A=this.map[S];this.map[S]=A?A+", "+I:I},p.prototype.delete=function(S){delete this.map[d(S)]},p.prototype.get=function(S){return S=d(S),this.has(S)?this.map[S]:null},p.prototype.has=function(S){return this.map.hasOwnProperty(d(S))},p.prototype.set=function(S,I){this.map[d(S)]=h(I)},p.prototype.forEach=function(S,I){for(var A in this.map)this.map.hasOwnProperty(A)&&S.call(I,this.map[A],A,this)},p.prototype.keys=function(){var S=[];return this.forEach(function(I,A){S.push(A)}),g(S)},p.prototype.values=function(){var S=[];return this.forEach(function(I){S.push(I)}),g(S)},p.prototype.entries=function(){var S=[];return this.forEach(function(I,A){S.push([A,I])}),g(S)},c.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function b(S){if(!S._noBody){if(S.bodyUsed)return Promise.reject(new TypeError("Already read"));S.bodyUsed=!0}}function w(S){return new Promise(function(I,A){S.onload=function(){I(S.result)},S.onerror=function(){A(S.error)}})}function y(S){var I=new FileReader,A=w(I);return I.readAsArrayBuffer(S),A}function v(S){var I=new FileReader,A=w(I),j=/charset=([A-Za-z0-9_-]+)/.exec(S.type),N=j?j[1]:"utf-8";return I.readAsText(S,N),A}function m(S){for(var I=new Uint8Array(S),A=new Array(I.length),j=0;j<I.length;j++)A[j]=String.fromCharCode(I[j]);return A.join("")}function C(S){if(S.slice)return S.slice(0);var I=new Uint8Array(S.byteLength);return I.set(new Uint8Array(S)),I.buffer}function E(){return this.bodyUsed=!1,this._initBody=function(S){this.bodyUsed=this.bodyUsed,this._bodyInit=S,S?typeof S=="string"?this._bodyText=S:c.blob&&Blob.prototype.isPrototypeOf(S)?this._bodyBlob=S:c.formData&&FormData.prototype.isPrototypeOf(S)?this._bodyFormData=S:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(S)?this._bodyText=S.toString():c.arrayBuffer&&c.blob&&u(S)?(this._bodyArrayBuffer=C(S.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(S)||f(S))?this._bodyArrayBuffer=C(S):this._bodyText=S=Object.prototype.toString.call(S):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof S=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(S)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var S=b(this);if(S)return S;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var S=b(this);return S||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var S=b(this);if(S)return S;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(m(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(O)}),this.json=function(){return this.text().then(JSON.parse)},this}var _=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function P(S){var I=S.toUpperCase();return _.indexOf(I)>-1?I:S}function x(S,I){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');I=I||{};var A=I.body;if(S instanceof x){if(S.bodyUsed)throw new TypeError("Already read");this.url=S.url,this.credentials=S.credentials,I.headers||(this.headers=new p(S.headers)),this.method=S.method,this.mode=S.mode,this.signal=S.signal,!A&&S._bodyInit!=null&&(A=S._bodyInit,S.bodyUsed=!0)}else this.url=String(S);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new p(I.headers)),this.method=P(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal||(function(){if("AbortController"in a){var B=new AbortController;return B.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&A)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(A),(this.method==="GET"||this.method==="HEAD")&&(I.cache==="no-store"||I.cache==="no-cache")){var j=/([?&])_=[^&]*/;if(j.test(this.url))this.url=this.url.replace(j,"$1_="+new Date().getTime());else{var N=/\?/;this.url+=(N.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})};function O(S){var I=new FormData;return S.trim().split("&").forEach(function(A){if(A){var j=A.split("="),N=j.shift().replace(/\+/g," "),B=j.join("=").replace(/\+/g," ");I.append(decodeURIComponent(N),decodeURIComponent(B))}}),I}function D(S){var I=new p,A=S.replace(/\r?\n[\t ]+/g," ");return A.split("\r").map(function(j){return j.indexOf(`
`)===0?j.substr(1,j.length):j}).forEach(function(j){var N=j.split(":"),B=N.shift().trim();if(B){var $=N.join(":").trim();try{I.append(B,$)}catch(M){console.warn("Response "+M.message)}}}),I}E.call(x.prototype);function R(S,I){if(!(this instanceof R))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=I.statusText===void 0?"":""+I.statusText,this.headers=new p(I.headers),this.url=I.url||"",this._initBody(S)}E.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},R.error=function(){var S=new R(null,{status:200,statusText:""});return S.ok=!1,S.status=0,S.type="error",S};var k=[301,302,303,307,308];R.redirect=function(S,I){if(k.indexOf(I)===-1)throw new RangeError("Invalid status code");return new R(null,{status:I,headers:{location:S}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(I,A){this.message=I,this.name=A;var j=Error(I);this.stack=j.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function T(S,I){return new Promise(function(A,j){var N=new x(S,I);if(N.signal&&N.signal.aborted)return j(new o.DOMException("Aborted","AbortError"));var B=new XMLHttpRequest;function $(){B.abort()}B.onload=function(){var q={statusText:B.statusText,headers:D(B.getAllResponseHeaders()||"")};N.url.indexOf("file://")===0&&(B.status<200||B.status>599)?q.status=200:q.status=B.status,q.url="responseURL"in B?B.responseURL:q.headers.get("X-Request-URL");var U="response"in B?B.response:B.responseText;setTimeout(function(){A(new R(U,q))},0)},B.onerror=function(){setTimeout(function(){j(new TypeError("Network request failed"))},0)},B.ontimeout=function(){setTimeout(function(){j(new TypeError("Network request timed out"))},0)},B.onabort=function(){setTimeout(function(){j(new o.DOMException("Aborted","AbortError"))},0)};function M(q){try{return q===""&&a.location.href?a.location.href:q}catch{return q}}if(B.open(N.method,M(N.url),!0),N.credentials==="include"?B.withCredentials=!0:N.credentials==="omit"&&(B.withCredentials=!1),"responseType"in B&&(c.blob?B.responseType="blob":c.arrayBuffer&&(B.responseType="arraybuffer")),I&&typeof I.headers=="object"&&!(I.headers instanceof p||a.Headers&&I.headers instanceof a.Headers)){var L=[];Object.getOwnPropertyNames(I.headers).forEach(function(q){L.push(d(q)),B.setRequestHeader(q,h(I.headers[q]))}),N.headers.forEach(function(q,U){L.indexOf(U)===-1&&B.setRequestHeader(U,q)})}else N.headers.forEach(function(q,U){B.setRequestHeader(U,q)});N.signal&&(N.signal.addEventListener("abort",$),B.onreadystatechange=function(){B.readyState===4&&N.signal.removeEventListener("abort",$)}),B.send(typeof N._bodyInit>"u"?null:N._bodyInit)})}return T.polyfill=!0,a.fetch||(a.fetch=T,a.Headers=p,a.Request=x,a.Response=R),o.Headers=p,o.Request=x,o.Response=R,o.fetch=T,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(x6,x6.exports)),x6.exports}var NPe=kPe();const $q=P3(NPe);var DPe=Object.defineProperty,$Pe=Object.defineProperties,MPe=Object.getOwnPropertyDescriptors,Mq=Object.getOwnPropertySymbols,LPe=Object.prototype.hasOwnProperty,UPe=Object.prototype.propertyIsEnumerable,Lq=(e,t,r)=>t in e?DPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Uq=(e,t)=>{for(var r in t||(t={}))LPe.call(t,r)&&Lq(e,r,t[r]);if(Mq)for(var r of Mq(t))UPe.call(t,r)&&Lq(e,r,t[r]);return e},qq=(e,t)=>$Pe(e,MPe(t));const qPe={Accept:"application/json","Content-Type":"application/json"},zPe="POST",zq={headers:qPe,method:zPe},Fq=10;let Ar=class{constructor(t,r=!1){if(this.url=t,this.disableProviderPing=r,this.events=new Wr.EventEmitter,this.isAvailable=!1,this.registering=!1,!iq(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const r=ga(t),n=await (await $q(this.url,qq(Uq({},zq),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(t.id,r)}}async register(t=this.url){if(!iq(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const r=ga({id:1,jsonrpc:"2.0",method:"test",params:[]});await $q(t,qq(Uq({},zq),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const r=typeof t.data=="string"?Cc(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const n=this.parseError(r),i=n.message||n.toString(),s=Qp(t,i);this.events.emit("payload",s)}parseError(t,r=this.url){return AX(t,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Fq&&this.events.setMaxListeners(Fq)}};const Hq="error",FPe="wss://relay.walletconnect.org",HPe="wc",WPe="universal_provider",I6=`${HPe}@2:${WPe}:`,ZX="https://rpc.walletconnect.org/v1/",wh="generic",VPe=`${ZX}bundler`,Qs={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function GPe(){}function S7(e){return e==null||typeof e!="object"&&typeof e!="function"}function T7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function KPe(e){if(S7(e))return e;if(Array.isArray(e)||T7(e)||e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);const t=Object.getPrototypeOf(e),r=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new r(e);if(e instanceof RegExp){const n=new r(e);return n.lastIndex=e.lastIndex,n}if(e instanceof DataView)return new r(e.buffer.slice(0));if(e instanceof Error){const n=new r(e.message);return n.stack=e.stack,n.name=e.name,n.cause=e.cause,n}if(typeof File<"u"&&e instanceof File)return new r([e],e.name,{type:e.type,lastModified:e.lastModified});if(typeof e=="object"){const n=Object.create(t);return Object.assign(n,e)}return e}function Wq(e){return typeof e=="object"&&e!==null}function YX(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function QX(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const ZPe="[object RegExp]",JX="[object String]",XX="[object Number]",eee="[object Boolean]",tee="[object Arguments]",YPe="[object Symbol]",QPe="[object Date]",JPe="[object Map]",XPe="[object Set]",e9e="[object Array]",t9e="[object ArrayBuffer]",r9e="[object Object]",n9e="[object DataView]",i9e="[object Uint8Array]",s9e="[object Uint8ClampedArray]",o9e="[object Uint16Array]",a9e="[object Uint32Array]",c9e="[object Int8Array]",u9e="[object Int16Array]",l9e="[object Int32Array]",d9e="[object Float32Array]",f9e="[object Float64Array]";function h9e(e,t){return Th(e,void 0,e,new Map,t)}function Th(e,t,r,n=new Map,i=void 0){const s=i?.(e,t,r,n);if(s!=null)return s;if(S7(e))return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){const o=new Array(e.length);n.set(e,o);for(let a=0;a<e.length;a++)o[a]=Th(e[a],a,r,n,i);return Object.hasOwn(e,"index")&&(o.index=e.index),Object.hasOwn(e,"input")&&(o.input=e.input),o}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const o=new RegExp(e.source,e.flags);return o.lastIndex=e.lastIndex,o}if(e instanceof Map){const o=new Map;n.set(e,o);for(const[a,c]of e)o.set(a,Th(c,a,r,n,i));return o}if(e instanceof Set){const o=new Set;n.set(e,o);for(const a of e)o.add(Th(a,void 0,r,n,i));return o}if(typeof pt<"u"&&pt.isBuffer(e))return e.subarray();if(T7(e)){const o=new(Object.getPrototypeOf(e)).constructor(e.length);n.set(e,o);for(let a=0;a<e.length;a++)o[a]=Th(e[a],a,r,n,i);return o}if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const o=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return n.set(e,o),kl(o,e,r,n,i),o}if(typeof File<"u"&&e instanceof File){const o=new File([e],e.name,{type:e.type});return n.set(e,o),kl(o,e,r,n,i),o}if(e instanceof Blob){const o=new Blob([e],{type:e.type});return n.set(e,o),kl(o,e,r,n,i),o}if(e instanceof Error){const o=new e.constructor;return n.set(e,o),o.message=e.message,o.name=e.name,o.stack=e.stack,o.cause=e.cause,kl(o,e,r,n,i),o}if(typeof e=="object"&&p9e(e)){const o=Object.create(Object.getPrototypeOf(e));return n.set(e,o),kl(o,e,r,n,i),o}return e}function kl(e,t,r=e,n,i){const s=[...Object.keys(t),...YX(t)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(e,a);(c==null||c.writable)&&(e[a]=Th(t[a],a,r,n,i))}}function p9e(e){switch(QX(e)){case tee:case e9e:case t9e:case n9e:case eee:case QPe:case d9e:case f9e:case c9e:case u9e:case l9e:case JPe:case XX:case r9e:case ZPe:case XPe:case JX:case YPe:case i9e:case s9e:case o9e:case a9e:return!0;default:return!1}}function g9e(e,t){return h9e(e,(r,n,i,s)=>{if(typeof e=="object")switch(Object.prototype.toString.call(e)){case XX:case JX:case eee:{const o=new e.constructor(e?.valueOf());return kl(o,e),o}case tee:{const o={};return kl(o,e),o.length=e.length,o[Symbol.iterator]=e[Symbol.iterator],o}default:return}})}function Vq(e){return g9e(e)}function Gq(e){return e!==null&&typeof e=="object"&&QX(e)==="[object Arguments]"}function m9e(e){return T7(e)}function b9e(e){if(typeof e!="object"||e==null)return!1;if(Object.getPrototypeOf(e)===null)return!0;if(Object.prototype.toString.call(e)!=="[object Object]"){const r=e[Symbol.toStringTag];return r==null||!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable?!1:e.toString()===`[object ${r}]`}let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function y9e(e,...t){const r=t.slice(0,-1),n=t[t.length-1];let i=e;for(let s=0;s<r.length;s++){const o=r[s];i=jI(i,o,n,new Map)}return i}function jI(e,t,r,n){if(S7(e)&&(e=Object(e)),t==null||typeof t!="object")return e;if(n.has(t))return KPe(n.get(t));if(n.set(t,e),Array.isArray(t)){t=t.slice();for(let s=0;s<t.length;s++)t[s]=t[s]??void 0}const i=[...Object.keys(t),...YX(t)];for(let s=0;s<i.length;s++){const o=i[s];let a=t[o],c=e[o];if(Gq(a)&&(a={...a}),Gq(c)&&(c={...c}),typeof pt<"u"&&pt.isBuffer(a)&&(a=Vq(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const l=[],f=Reflect.ownKeys(c);for(let d=0;d<f.length;d++){const h=f[d];l[h]=c[h]}c=l}else c=[];const u=r(c,a,o,e,t,n);u!=null?e[o]=u:Array.isArray(a)||Wq(c)&&Wq(a)?e[o]=jI(c,a,r,n):c==null&&b9e(a)?e[o]=jI({},a,r,n):c==null&&m9e(a)?e[o]=Vq(a):(c===void 0||a!==void 0)&&(e[o]=a)}return e}function w9e(e,...t){return y9e(e,...t,GPe)}var v9e=Object.defineProperty,E9e=Object.defineProperties,_9e=Object.getOwnPropertyDescriptors,Kq=Object.getOwnPropertySymbols,C9e=Object.prototype.hasOwnProperty,A9e=Object.prototype.propertyIsEnumerable,Zq=(e,t,r)=>t in e?v9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,P6=(e,t)=>{for(var r in t||(t={}))C9e.call(t,r)&&Zq(e,r,t[r]);if(Kq)for(var r of Kq(t))A9e.call(t,r)&&Zq(e,r,t[r]);return e},x9e=(e,t)=>E9e(e,_9e(t));function _s(e,t,r){var n;const i=Uh(e);return((n=t.rpcMap)==null?void 0:n[i.reference])||`${ZX}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function ef(e){return e.includes(":")?e.split(":")[1]:e}function ree(e){return e.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function I9e(e,t){const r=Object.keys(t.namespaces).filter(i=>i.includes(e));if(!r.length)return[];const n=[];return r.forEach(i=>{const s=t.namespaces[i].accounts;n.push(...s)}),n}function S6(e={},t={}){const r=Yq(e),n=Yq(t);return w9e(r,n)}function Yq(e){var t,r,n,i,s;const o={};if(!vu(e))return o;for(const[a,c]of Object.entries(e)){const u=i8(a)?[a]:c.chains,l=c.methods||[],f=c.events||[],d=c.rpcMap||{},h=Sh(a);o[h]=x9e(P6(P6({},o[h]),c),{chains:ca(u,(t=o[h])==null?void 0:t.chains),methods:ca(l,(r=o[h])==null?void 0:r.methods),events:ca(f,(n=o[h])==null?void 0:n.events)}),(vu(d)||vu(((i=o[h])==null?void 0:i.rpcMap)||{}))&&(o[h].rpcMap=P6(P6({},d),(s=o[h])==null?void 0:s.rpcMap))}return o}function Qq(e){return e.includes(":")?e.split(":")[2]:e}function Jq(e){const t={};for(const[r,n]of Object.entries(e)){const i=n.methods||[],s=n.events||[],o=n.accounts||[],a=i8(r)?[r]:n.chains?n.chains:ree(n.accounts);t[r]={chains:a,methods:i,events:s,accounts:o}}return t}function lC(e){return typeof e=="number"?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}const nee={},_t=e=>nee[e],dC=(e,t)=>{nee[e]=t};var P9e=Object.defineProperty,S9e=(e,t,r)=>t in e?P9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,qf=(e,t,r)=>S9e(e,typeof t!="symbol"?t+"":t,r);let T9e=class{constructor(t){qf(this,"name","polkadot"),qf(this,"client"),qf(this,"httpProviders"),qf(this,"events"),qf(this,"namespace"),qf(this,"chainId"),this.namespace=t.namespace,this.events=_t("events"),this.client=_t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(Qs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var n;const i=ef(r);t[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||_s(t,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new fr(new Ar(n,_t("disableProviderPing")))}};var O9e=Object.defineProperty,j9e=Object.defineProperties,B9e=Object.getOwnPropertyDescriptors,Xq=Object.getOwnPropertySymbols,R9e=Object.prototype.hasOwnProperty,k9e=Object.prototype.propertyIsEnumerable,BI=(e,t,r)=>t in e?O9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ez=(e,t)=>{for(var r in t||(t={}))R9e.call(t,r)&&BI(e,r,t[r]);if(Xq)for(var r of Xq(t))k9e.call(t,r)&&BI(e,r,t[r]);return e},tz=(e,t)=>j9e(e,B9e(t)),zf=(e,t,r)=>BI(e,typeof t!="symbol"?t+"":t,r);let N9e=class{constructor(t){zf(this,"name","eip155"),zf(this,"client"),zf(this,"chainId"),zf(this,"namespace"),zf(this,"httpProviders"),zf(this,"events"),this.namespace=t.namespace,this.events=_t("events"),this.client=_t("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(t);case"wallet_getCallsStatus":return await this.getCallStatus(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(parseInt(t),r),this.chainId=parseInt(t),this.events.emit(Qs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,r){const n=r||_s(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new fr(new Ar(n,_t("disableProviderPing")))}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var n;const i=parseInt(ef(r));t[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const t=this.chainId,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}async handleSwitchChain(t){var r,n;let i=t.request.params?(r=t.request.params[0])==null?void 0:r.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var r,n,i,s,o;const a=(n=(r=t.request)==null?void 0:r.params)==null?void 0:n[0],c=((s=(i=t.request)==null?void 0:i.params)==null?void 0:s[1])||[],u=`${a}${c.join(",")}`;if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(t.topic),f=((o=l?.sessionProperties)==null?void 0:o.capabilities)||{};if(f!=null&&f[u])return f?.[u];const d=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:tz(ez({},l.sessionProperties||{}),{capabilities:tz(ez({},f||{}),{[u]:d})})})}catch(h){console.warn("Failed to update session with capabilities",h)}return d}async getCallStatus(t){var r,n;const i=this.client.session.get(t.topic),s=(r=i.sessionProperties)==null?void 0:r.bundler_name;if(s){const a=this.getBundlerUrl(t.chainId,s);try{return await this.getUserOperationReceipt(a,t)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(n=i.sessionProperties)==null?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,t)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(t.request.method))return await this.client.request(t);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(t,r){var n;const i=new URL(t),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(di("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(t,r){return`${VPe}?projectId=${this.client.core.projectId}&chainId=${t}&bundler=${r}`}};var D9e=Object.defineProperty,$9e=(e,t,r)=>t in e?D9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ff=(e,t,r)=>$9e(e,typeof t!="symbol"?t+"":t,r);let M9e=class{constructor(t){Ff(this,"name","solana"),Ff(this,"client"),Ff(this,"httpProviders"),Ff(this,"events"),Ff(this,"namespace"),Ff(this,"chainId"),this.namespace=t.namespace,this.events=_t("events"),this.client=_t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(Qs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var n;const i=ef(r);t[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||_s(t,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new fr(new Ar(n,_t("disableProviderPing")))}};var L9e=Object.defineProperty,U9e=(e,t,r)=>t in e?L9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Hf=(e,t,r)=>U9e(e,typeof t!="symbol"?t+"":t,r);let q9e=class{constructor(t){Hf(this,"name","cosmos"),Hf(this,"client"),Hf(this,"httpProviders"),Hf(this,"events"),Hf(this,"namespace"),Hf(this,"chainId"),this.namespace=t.namespace,this.events=_t("events"),this.client=_t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(Qs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var n;const i=ef(r);t[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||_s(t,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new fr(new Ar(n,_t("disableProviderPing")))}};var z9e=Object.defineProperty,F9e=(e,t,r)=>t in e?z9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wf=(e,t,r)=>F9e(e,typeof t!="symbol"?t+"":t,r);let H9e=class{constructor(t){Wf(this,"name","algorand"),Wf(this,"client"),Wf(this,"httpProviders"),Wf(this,"events"),Wf(this,"namespace"),Wf(this,"chainId"),this.namespace=t.namespace,this.events=_t("events"),this.client=_t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(!this.httpProviders[t]){const n=r||_s(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,n)}this.chainId=t,this.events.emit(Qs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var n;t[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||_s(t,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new fr(new Ar(n,_t("disableProviderPing")))}};var W9e=Object.defineProperty,V9e=(e,t,r)=>t in e?W9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Vf=(e,t,r)=>V9e(e,typeof t!="symbol"?t+"":t,r);let G9e=class{constructor(t){Vf(this,"name","cip34"),Vf(this,"client"),Vf(this,"httpProviders"),Vf(this,"events"),Vf(this,"namespace"),Vf(this,"chainId"),this.namespace=t.namespace,this.events=_t("events"),this.client=_t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(Qs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r),i=ef(r);t[i]=this.createHttpProvider(i,n)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}getCardanoRPCUrl(t){const r=this.namespace.rpcMap;if(r)return r[t]}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||this.getCardanoRPCUrl(t);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new fr(new Ar(n,_t("disableProviderPing")))}};var K9e=Object.defineProperty,Z9e=(e,t,r)=>t in e?K9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Gf=(e,t,r)=>Z9e(e,typeof t!="symbol"?t+"":t,r);let Y9e=class{constructor(t){Gf(this,"name","elrond"),Gf(this,"client"),Gf(this,"httpProviders"),Gf(this,"events"),Gf(this,"namespace"),Gf(this,"chainId"),this.namespace=t.namespace,this.events=_t("events"),this.client=_t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(Qs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var n;const i=ef(r);t[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||_s(t,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new fr(new Ar(n,_t("disableProviderPing")))}};var Q9e=Object.defineProperty,J9e=(e,t,r)=>t in e?Q9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Kf=(e,t,r)=>J9e(e,typeof t!="symbol"?t+"":t,r);let X9e=class{constructor(t){Kf(this,"name","multiversx"),Kf(this,"client"),Kf(this,"httpProviders"),Kf(this,"events"),Kf(this,"namespace"),Kf(this,"chainId"),this.namespace=t.namespace,this.events=_t("events"),this.client=_t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(Qs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var n;const i=ef(r);t[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||_s(t,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new fr(new Ar(n,_t("disableProviderPing")))}};var eSe=Object.defineProperty,tSe=(e,t,r)=>t in e?eSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Zf=(e,t,r)=>tSe(e,typeof t!="symbol"?t+"":t,r);let rSe=class{constructor(t){Zf(this,"name","near"),Zf(this,"client"),Zf(this,"httpProviders"),Zf(this,"events"),Zf(this,"namespace"),Zf(this,"chainId"),this.namespace=t.namespace,this.events=_t("events"),this.client=_t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(this.chainId=t,!this.httpProviders[t]){const n=r||_s(`${this.name}:${t}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,n)}this.events.emit(Qs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var n;t[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||_s(t,this.namespace);return typeof n>"u"?void 0:new fr(new Ar(n,_t("disableProviderPing")))}};var nSe=Object.defineProperty,iSe=(e,t,r)=>t in e?nSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Yf=(e,t,r)=>iSe(e,typeof t!="symbol"?t+"":t,r);let sSe=class{constructor(t){Yf(this,"name","tezos"),Yf(this,"client"),Yf(this,"httpProviders"),Yf(this,"events"),Yf(this,"namespace"),Yf(this,"chainId"),this.namespace=t.namespace,this.events=_t("events"),this.client=_t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(this.chainId=t,!this.httpProviders[t]){const n=r||_s(`${this.name}:${t}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,n)}this.events.emit(Qs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{t[r]=this.createHttpProvider(r)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||_s(t,this.namespace);return typeof n>"u"?void 0:new fr(new Ar(n))}};var oSe=Object.defineProperty,aSe=(e,t,r)=>t in e?oSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Qf=(e,t,r)=>aSe(e,typeof t!="symbol"?t+"":t,r);let cSe=class{constructor(t){Qf(this,"name",wh),Qf(this,"client"),Qf(this,"httpProviders"),Qf(this,"events"),Qf(this,"namespace"),Qf(this,"chainId"),this.namespace=t.namespace,this.events=_t("events"),this.client=_t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(Qs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var t,r;const n={};return(r=(t=this.namespace)==null?void 0:t.accounts)==null||r.forEach(i=>{const s=Uh(i);n[`${s.namespace}:${s.reference}`]=this.createHttpProvider(i)}),n}getHttpProvider(t){const r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||_s(t,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new fr(new Ar(n,_t("disableProviderPing")))}};var uSe=Object.defineProperty,lSe=Object.defineProperties,dSe=Object.getOwnPropertyDescriptors,rz=Object.getOwnPropertySymbols,fSe=Object.prototype.hasOwnProperty,hSe=Object.prototype.propertyIsEnumerable,RI=(e,t,r)=>t in e?uSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,T6=(e,t)=>{for(var r in t||(t={}))fSe.call(t,r)&&RI(e,r,t[r]);if(rz)for(var r of rz(t))hSe.call(t,r)&&RI(e,r,t[r]);return e},fC=(e,t)=>lSe(e,dSe(t)),Ns=(e,t,r)=>RI(e,typeof t!="symbol"?t+"":t,r);let pSe=class iee{constructor(t){Ns(this,"client"),Ns(this,"namespaces"),Ns(this,"optionalNamespaces"),Ns(this,"sessionProperties"),Ns(this,"scopedProperties"),Ns(this,"events",new Fp),Ns(this,"rpcProviders",{}),Ns(this,"session"),Ns(this,"providerOpts"),Ns(this,"logger"),Ns(this,"uri"),Ns(this,"disableProviderPing",!1),this.providerOpts=t,this.logger=typeof t?.logger<"u"&&typeof t?.logger!="string"?t.logger:Vu(Nc({level:t?.logger||Hq})),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){const r=new iee(t);return await r.initialize(),r}async request(t,r,n){const[i,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:T6({},t),chainId:`${i}:${s}`,topic:this.session.topic,expiry:n})}sendAsync(t,r,n,i){const s=new Date().getTime();this.request(t,n,i).then(o=>r(null,Gu(s,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:Dt("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:n,response:i}=await this.client.authenticate(t,r);n&&(this.uri=n,this.events.emit("display_uri",n));const s=await i();if(this.session=s.session,this.session){const o=Jq(this.session.namespaces);this.namespaces=S6(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}removeListener(t,r){this.events.removeListener(t,r)}off(t,r){this.events.off(t,r)}get isWalletConnect(){return!0}async pair(t){const{uri:r,approval:n}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});r&&(this.uri=r,this.events.emit("display_uri",r));const i=await n();this.session=i;const s=Jq(i.namespaces);return this.namespaces=S6(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(t,r){try{if(!this.session)return;const[n,i]=this.validateChain(t),s=this.getProvider(n);s.name===wh?s.setDefaultChain(`${n}:${i}`,r):s.setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(Co(r)){for(const n of r)t.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var t,r;if(this.client=this.providerOpts.client||await RPe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||Hq,relayUrl:this.providerOpts.relayUrl||FPe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error("Failed to get session",n),new Error(`The provided session: ${(r=(t=this.providerOpts)==null?void 0:t.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map(r=>Sh(r)))];dC("client",this.client),dC("events",this.events),dC("disableProviderPing",this.disableProviderPing),t.forEach(r=>{if(!this.session)return;const n=I9e(r,this.session),i=ree(n),s=S6(this.namespaces,this.optionalNamespaces),o=fC(T6({},s[r]),{accounts:n,chains:i});switch(r){case"eip155":this.rpcProviders[r]=new N9e({namespace:o});break;case"algorand":this.rpcProviders[r]=new H9e({namespace:o});break;case"solana":this.rpcProviders[r]=new M9e({namespace:o});break;case"cosmos":this.rpcProviders[r]=new q9e({namespace:o});break;case"polkadot":this.rpcProviders[r]=new T9e({namespace:o});break;case"cip34":this.rpcProviders[r]=new G9e({namespace:o});break;case"elrond":this.rpcProviders[r]=new Y9e({namespace:o});break;case"multiversx":this.rpcProviders[r]=new X9e({namespace:o});break;case"near":this.rpcProviders[r]=new rSe({namespace:o});break;case"tezos":this.rpcProviders[r]=new sSe({namespace:o});break;default:this.rpcProviders[wh]?this.rpcProviders[wh].updateNamespace(o):this.rpcProviders[wh]=new cSe({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{var r;const{topic:n}=t;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{var r;const{params:n,topic:i}=t;if(i!==((r=this.session)==null?void 0:r.topic))return;const{event:s}=n;if(s.name==="accountsChanged"){const o=s.data;o&&Co(o)&&this.events.emit("accountsChanged",o.map(Qq))}else if(s.name==="chainChanged"){const o=n.chainId,a=n.event.data,c=Sh(o),u=lC(o)!==lC(a)?`${c}:${lC(a)}`:o;this.onChainChanged(u)}else this.events.emit(s.name,s.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:r})=>{var n,i;if(t!==((n=this.session)==null?void 0:n.topic))return;const{namespaces:s}=r,o=(i=this.client)==null?void 0:i.session.get(t);this.session=fC(T6({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:r})}),this.client.on("session_delete",async t=>{var r;t.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",fC(T6({},Dt("USER_DISCONNECTED")),{data:t.topic})))}),this.on(Qs.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,!0)})}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[wh]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var r;this.getProvider(t).updateNamespace((r=this.session)==null?void 0:r.namespaces[t])})}setNamespaces(t){const{namespaces:r={},optionalNamespaces:n={},sessionProperties:i,scopedProperties:s}=t;this.optionalNamespaces=S6(r,n),this.sessionProperties=i,this.scopedProperties=s}validateChain(t){const[r,n]=t?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>Sh(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const i=Sh(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}async onChainChanged(t,r=!1){if(!this.namespaces)return;const[n,i]=this.validateChain(t);if(!i)return;this.updateNamespaceChain(n,i),this.events.emit("chainChanged",i);const s=this.getProvider(n).getDefaultChain();r||this.getProvider(n).setDefaultChain(i),this.emitAccountsChangedOnChainChange({namespace:n,previousChainId:s,newChainId:t}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:t,previousChainId:r,newChainId:n}){var i,s;try{if(r===n)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[t])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${n}:`)).map(Qq);if(!Co(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(t,r){if(!this.namespaces)return;const n=this.namespaces[t]?t:`${t}:${r}`,i={chains:[],methods:[],events:[],defaultChain:r};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=r):this.namespaces[n]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(t,r){var n;const i=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${I6}/${t}${i}`,r)}async getFromStore(t){var r;const n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${I6}/${t}${n}`)}async deleteFromStore(t){var r;const n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${I6}/${t}${n}`)}async cleanupStorage(){var t;try{if(((t=this.client)==null?void 0:t.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const n of r)n.startsWith(I6)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn("Failed to cleanup storage",r)}}};const gSe=pSe,mSe="wc",bSe="ethereum_provider",ySe=`${mSe}@2:${bSe}:`,wSe="https://rpc.walletconnect.org/v1/",Q5=["eth_sendTransaction","personal_sign"],see=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],J5=["chainChanged","accountsChanged"],oee=["chainChanged","accountsChanged","message","disconnect","connect"],vSe=async()=>{const{createAppKit:e}=await re(()=>Promise.resolve().then(()=>wUe),void 0);return e};var ESe=Object.defineProperty,_Se=Object.defineProperties,CSe=Object.getOwnPropertyDescriptors,nz=Object.getOwnPropertySymbols,ASe=Object.prototype.hasOwnProperty,xSe=Object.prototype.propertyIsEnumerable,kI=(e,t,r)=>t in e?ESe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pl=(e,t)=>{for(var r in t||(t={}))ASe.call(t,r)&&kI(e,r,t[r]);if(nz)for(var r of nz(t))xSe.call(t,r)&&kI(e,r,t[r]);return e},Ig=(e,t)=>_Se(e,CSe(t)),is=(e,t,r)=>kI(e,typeof t!="symbol"?t+"":t,r);function X5(e){return Number(e[0].split(":")[1])}function O6(e){return`0x${e.toString(16)}`}function ISe(e){const{chains:t,optionalChains:r,methods:n,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=e;if(!Co(t))throw new Error("Invalid chains");const c={chains:t,methods:n||Q5,events:s||J5,rpcMap:Pl({},t.length?{[X5(t)]:a[X5(t)]}:{})},u=s?.filter(h=>!J5.includes(h)),l=n?.filter(h=>!Q5.includes(h));if(!r&&!o&&!i&&!(u!=null&&u.length)&&!(l!=null&&l.length))return{required:t.length?c:void 0};const f=u?.length&&l?.length||!r,d={chains:[...new Set(f?c.chains.concat(r||[]):r)],methods:[...new Set(c.methods.concat(i!=null&&i.length?i:see))],events:[...new Set(c.events.concat(o!=null&&o.length?o:oee))],rpcMap:a};return{required:t.length?c:void 0,optional:r.length?d:void 0}}let aee=class cee{constructor(){is(this,"events",new Wr.EventEmitter),is(this,"namespace","eip155"),is(this,"accounts",[]),is(this,"signer"),is(this,"chainId",1),is(this,"modal"),is(this,"rpc"),is(this,"STORAGE_KEY",ySe),is(this,"on",(t,r)=>(this.events.on(t,r),this)),is(this,"once",(t,r)=>(this.events.once(t,r),this)),is(this,"removeListener",(t,r)=>(this.events.removeListener(t,r),this)),is(this,"off",(t,r)=>(this.events.off(t,r),this)),is(this,"parseAccount",t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t),this.signer={},this.rpc={}}static async init(t){const r=new cee;return await r.initialize(t),r}async request(t,r){return await this.signer.request(t,this.formatChainId(this.chainId),r)}sendAsync(t,r,n){this.signer.sendAsync(t,r,this.formatChainId(this.chainId),n)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);const{required:n,optional:i}=ISe(this.rpc);try{const s=await new Promise(async(a,c)=>{var u,l;this.rpc.showQrModal&&((u=this.modal)==null||u.open(),(l=this.modal)==null||l.subscribeState(d=>{!d.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error("Connection request reset. Please try again.")))}));const f=t!=null&&t.scopedProperties?{[this.namespace]:t.scopedProperties}:void 0;await this.signer.connect(Ig(Pl({namespaces:Pl({},n&&{[this.namespace]:n})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:t?.pairingTopic,scopedProperties:f})).then(d=>{a(d)}).catch(d=>{var h;(h=this.modal)==null||h.showErrorMessage("Unable to connect"),c(new Error(d.message))})});if(!s)return;const o=YL(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:O6(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(r=this.modal)==null||r.close()}}async authenticate(t,r){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:t?.chains});try{const i=await new Promise(async(o,a)=>{var c,u;this.rpc.showQrModal&&((c=this.modal)==null||c.open(),(u=this.modal)==null||u.subscribeState(l=>{!l.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(Ig(Pl({},t),{chains:this.rpc.chains}),r).then(l=>{o(l)}).catch(l=>{var f;(f=this.modal)==null||f.showErrorMessage("Unable to connect"),a(new Error(l.message))})}),s=i.session;if(s){const o=YL(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:O6(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(n=this.modal)==null||n.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",t=>{const{params:r}=t,{event:n}=r;n.name==="accountsChanged"?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):n.name==="chainChanged"?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",t)}),this.signer.on("accountsChanged",t=>{this.accounts=this.parseAccounts(t),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",t=>{const r=parseInt(t);this.chainId=r,this.events.emit("chainChanged",O6(this.chainId)),this.persist()}),this.signer.on("session_update",t=>{this.events.emit("session_update",t)}),this.signer.on("session_delete",t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",Ig(Pl({},Dt("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",t=>{this.events.emit("display_uri",t)})}switchEthereumChain(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return typeof t=="string"?t.startsWith(`${this.namespace}:`):!1}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){const r=t.filter(n=>this.isCompatibleChainId(n)).map(n=>this.parseChainId(n));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",O6(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){const r=this.parseChainId(t);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(t){const[r,n,i]=t.split(":");return{chainId:`${r}:${n}`,address:i}}setAccounts(t){this.accounts=t.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var r,n;const i=(r=t?.chains)!=null?r:[],s=(n=t?.optionalChains)!=null?n:[],o=i.concat(s);if(!o.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const a=i.length?t?.methods||Q5:[],c=i.length?t?.events||J5:[],u=t?.optionalMethods||[],l=t?.optionalEvents||[],f=t?.rpcMap||this.buildRpcMap(o,t.projectId),d=t?.qrModalOptions||void 0;return{chains:i?.map(h=>this.formatChainId(h)),optionalChains:s.map(h=>this.formatChainId(h)),methods:a,events:c,optionalMethods:u,optionalEvents:l,rpcMap:f,showQrModal:!!(t!=null&&t.showQrModal),qrModalOptions:d,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,r){const n={};return t.forEach(i=>{n[i]=this.getRpcUrl(i,r)}),n}async initialize(t){if(this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?X5(this.rpc.chains):X5(this.rpc.optionalChains),this.signer=await gSe.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storage:t.storage,storageOptions:t.storageOptions,customStoragePrefix:t.customStoragePrefix,telemetryEnabled:t.telemetryEnabled,logger:t.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const n=await vSe(),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return $Se}),s=i(Ig(Pl({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!s.networks.length)throw new Error("No networks found for WalletConnect\xb7");r=n(Ig(Pl({},s),{universalProvider:this.signer,manualWCControl:!0}))}catch(n){throw console.warn(n),new Error("To use QR modal, please install @reown/appkit package")}if(r)try{this.modal=r}catch(n){throw this.signer.logger.error(n),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;const{chains:r,optionalChains:n,rpcMap:i}=t;r&&Co(r)&&(this.rpc.chains=r.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)})),n&&Co(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n?.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)}))}getRpcUrl(t,r){var n;return((n=this.rpc.rpcMap)==null?void 0:n[t])||`${wSe}?chainId=eip155:${t}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),r=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:r?.accounts),this.setAccounts(r?.accounts)}catch(t){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(t),await this.disconnect().catch(r=>this.signer.logger.warn(r))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return typeof t=="string"||t instanceof String?[this.parseAccount(t)]:t.map(r=>this.parseAccount(r))}};const PSe=aee;var SSe=Object.defineProperty,TSe=Object.defineProperties,OSe=Object.getOwnPropertyDescriptors,iz=Object.getOwnPropertySymbols,jSe=Object.prototype.hasOwnProperty,BSe=Object.prototype.propertyIsEnumerable,sz=(e,t,r)=>t in e?SSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,uee=(e,t)=>{for(var r in t||(t={}))jSe.call(t,r)&&sz(e,r,t[r]);if(iz)for(var r of iz(t))BSe.call(t,r)&&sz(e,r,t[r]);return e},RSe=(e,t)=>TSe(e,OSe(t));function kSe(e){if(e)return{"--w3m-font-family":e["--wcm-font-family"],"--w3m-accent":e["--wcm-accent-color"],"--w3m-color-mix":e["--wcm-background-color"],"--w3m-z-index":e["--wcm-z-index"]?Number(e["--wcm-z-index"]):void 0,"--w3m-qr-color":e["--wcm-accent-color"],"--w3m-font-size-master":e["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":e["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const NSe=e=>{const[t,r]=e.split(":");return lee({id:r,caipNetworkId:e,chainNamespace:t,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function DSe(e){var t,r,n,i,s,o,a;const c=(t=e.chains)==null?void 0:t.map(NSe).filter(Boolean);if(c.length===0)throw new Error("At least one chain must be specified");const u=c.find(f=>{var d;return f.id===((d=e.defaultChain)==null?void 0:d.id)}),l={projectId:e.projectId,networks:c,themeMode:e.themeMode,themeVariables:kSe(e.themeVariables),chainImages:e.chainImages,connectorImages:e.walletImages,defaultNetwork:u,metadata:RSe(uee({},e.metadata),{name:((r=e.metadata)==null?void 0:r.name)||"WalletConnect",description:((n=e.metadata)==null?void 0:n.description)||"Connect to WalletConnect-compatible wallets",url:((i=e.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=e.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:e.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(e.explorerRecommendedWalletIds)?e.explorerRecommendedWalletIds:[],excludeWalletIds:e.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(e.explorerExcludedWalletIds)?e.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((o=e.mobileWallets)!=null&&o.length||(a=e.desktopWallets)!=null&&a.length){const f=[...(e.mobileWallets||[]).map(g=>({id:g.id,name:g.name,links:g.links})),...(e.desktopWallets||[]).map(g=>({id:g.id,name:g.name,links:{native:g.links.native,universal:g.links.universal}}))],d=[...l.featuredWalletIds||[],...l.excludeWalletIds||[]],h=f.filter(g=>!d.includes(g.id));h.length&&(l.customWallets=h)}return l}function lee(e){return uee({formatters:void 0,fees:void 0,serializers:void 0},e)}var $Se=Object.freeze({__proto__:null,convertWCMToAppKitOptions:DSe,defineChain:lee});const MSe=Object.freeze(Object.defineProperty({__proto__:null,EthereumProvider:PSe,OPTIONAL_EVENTS:oee,OPTIONAL_METHODS:see,REQUIRED_EVENTS:J5,REQUIRED_METHODS:Q5,default:aee},Symbol.toStringTag,{value:"Module"}));var oz={};const Le={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof Ur<"u"&&typeof oz<"u"?oz.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},dee={caipNetworkIdToNumber(e){return e?Number(e.split(":")[1]):void 0},parseEvmChainId(e){return typeof e=="string"?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace(e,t){return e?.filter(r=>r.chainNamespace===t)||[]},getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]},getNetworkNameByCaipNetworkId(e,t){if(!t)return;const r=e.find(i=>i.caipNetworkId===t);if(r)return r.name;const[n]=t.split(":");return Le.CHAIN_NAME_MAP?.[n]||void 0}};var LSe=20,USe=1,Ed=1e6,az=1e6,qSe=-7,zSe=21,FSe=!1,pb="[big.js] ",tf=pb+"Invalid ",a8=tf+"decimal places",HSe=tf+"rounding mode",fee=pb+"Division by zero",Mt={},ua=void 0,WSe=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function hee(){function e(t){var r=this;if(!(r instanceof e))return t===ua?hee():new e(t);if(t instanceof e)r.s=t.s,r.e=t.e,r.c=t.c.slice();else{if(typeof t!="string"){if(e.strict===!0&&typeof t!="bigint")throw TypeError(tf+"value");t=t===0&&1/t<0?"-0":String(t)}VSe(r,t)}r.constructor=e}return e.prototype=Mt,e.DP=LSe,e.RM=USe,e.NE=qSe,e.PE=zSe,e.strict=FSe,e.roundDown=0,e.roundHalfUp=1,e.roundHalfEven=2,e.roundUp=3,e}function VSe(e,t){var r,n,i;if(!WSe.test(t))throw Error(tf+"number");for(e.s=t.charAt(0)=="-"?(t=t.slice(1),-1):1,(r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),i=t.length,n=0;n<i&&t.charAt(n)=="0";)++n;if(n==i)e.c=[e.e=0];else{for(;i>0&&t.charAt(--i)=="0";);for(e.e=r-n-1,e.c=[],r=0;n<=i;)e.c[r++]=+t.charAt(n++)}return e}function rf(e,t,r,n){var i=e.c;if(r===ua&&(r=e.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(HSe);if(t<1)n=r===3&&(n||!!i[0])||t===0&&(r===1&&i[0]>=5||r===2&&(i[0]>5||i[0]===5&&(n||i[1]!==ua))),i.length=1,n?(e.e=e.e-t+1,i[0]=1):i[0]=e.e=0;else if(t<i.length){if(n=r===1&&i[t]>=5||r===2&&(i[t]>5||i[t]===5&&(n||i[t+1]!==ua||i[t-1]&1))||r===3&&(n||!!i[0]),i.length=t,n){for(;++i[--t]>9;)if(i[t]=0,t===0){++e.e,i.unshift(1);break}}for(t=i.length;!i[--t];)i.pop()}return e}function nf(e,t,r){var n=e.e,i=e.c.join(""),s=i.length;if(t)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)i="0"+i;i="0."+i}else if(n>0)if(++n>s)for(n-=s;n--;)i+="0";else n<s&&(i=i.slice(0,n)+"."+i.slice(n));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&r?"-"+i:i}Mt.abs=function(){var e=new this.constructor(this);return e.s=1,e};Mt.cmp=function(e){var t,r=this,n=r.c,i=(e=new r.constructor(e)).c,s=r.s,o=e.s,a=r.e,c=e.e;if(!n[0]||!i[0])return n[0]?s:i[0]?-o:0;if(s!=o)return s;if(t=s<0,a!=c)return a>c^t?1:-1;for(o=(a=n.length)<(c=i.length)?a:c,s=-1;++s<o;)if(n[s]!=i[s])return n[s]>i[s]^t?1:-1;return a==c?0:a>c^t?1:-1};Mt.div=function(e){var t=this,r=t.constructor,n=t.c,i=(e=new r(e)).c,s=t.s==e.s?1:-1,o=r.DP;if(o!==~~o||o<0||o>Ed)throw Error(a8);if(!i[0])throw Error(fee);if(!n[0])return e.s=s,e.c=[e.e=0],e;var a,c,u,l,f,d=i.slice(),h=a=i.length,g=n.length,p=n.slice(0,a),b=p.length,w=e,y=w.c=[],v=0,m=o+(w.e=t.e-e.e)+1;for(w.s=s,s=m<0?0:m,d.unshift(0);b++<a;)p.push(0);do{for(u=0;u<10;u++){if(a!=(b=p.length))l=a>b?1:-1;else for(f=-1,l=0;++f<a;)if(i[f]!=p[f]){l=i[f]>p[f]?1:-1;break}if(l<0){for(c=b==a?i:d;b;){if(p[--b]<c[b]){for(f=b;f&&!p[--f];)p[f]=9;--p[f],p[b]+=10}p[b]-=c[b]}for(;!p[0];)p.shift()}else break}y[v++]=l?u:++u,p[0]&&l?p[b]=n[h]||0:p=[n[h]]}while((h++<g||p[0]!==ua)&&s--);return!y[0]&&v!=1&&(y.shift(),w.e--,m--),v>m&&rf(w,m,r.RM,p[0]!==ua),w};Mt.eq=function(e){return this.cmp(e)===0};Mt.gt=function(e){return this.cmp(e)>0};Mt.gte=function(e){return this.cmp(e)>-1};Mt.lt=function(e){return this.cmp(e)<0};Mt.lte=function(e){return this.cmp(e)<1};Mt.minus=Mt.sub=function(e){var t,r,n,i,s=this,o=s.constructor,a=s.s,c=(e=new o(e)).s;if(a!=c)return e.s=-c,s.plus(e);var u=s.c.slice(),l=s.e,f=e.c,d=e.e;if(!u[0]||!f[0])return f[0]?e.s=-c:u[0]?e=new o(s):e.s=1,e;if(a=l-d){for((i=a<0)?(a=-a,n=u):(d=l,n=f),n.reverse(),c=a;c--;)n.push(0);n.reverse()}else for(r=((i=u.length<f.length)?u:f).length,a=c=0;c<r;c++)if(u[c]!=f[c]){i=u[c]<f[c];break}if(i&&(n=u,u=f,f=n,e.s=-e.s),(c=(r=f.length)-(t=u.length))>0)for(;c--;)u[t++]=0;for(c=t;r>a;){if(u[--r]<f[r]){for(t=r;t&&!u[--t];)u[t]=9;--u[t],u[r]+=10}u[r]-=f[r]}for(;u[--c]===0;)u.pop();for(;u[0]===0;)u.shift(),--d;return u[0]||(e.s=1,u=[d=0]),e.c=u,e.e=d,e};Mt.mod=function(e){var t,r=this,n=r.constructor,i=r.s,s=(e=new n(e)).s;if(!e.c[0])throw Error(fee);return r.s=e.s=1,t=e.cmp(r)==1,r.s=i,e.s=s,t?new n(r):(i=n.DP,s=n.RM,n.DP=n.RM=0,r=r.div(e),n.DP=i,n.RM=s,this.minus(r.times(e)))};Mt.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e};Mt.plus=Mt.add=function(e){var t,r,n,i=this,s=i.constructor;if(e=new s(e),i.s!=e.s)return e.s=-e.s,i.minus(e);var o=i.e,a=i.c,c=e.e,u=e.c;if(!a[0]||!u[0])return u[0]||(a[0]?e=new s(i):e.s=i.s),e;if(a=a.slice(),t=o-c){for(t>0?(c=o,n=u):(t=-t,n=a),n.reverse();t--;)n.push(0);n.reverse()}for(a.length-u.length<0&&(n=u,u=a,a=n),t=u.length,r=0;t;a[t]%=10)r=(a[--t]=a[t]+u[t]+r)/10|0;for(r&&(a.unshift(r),++c),t=a.length;a[--t]===0;)a.pop();return e.c=a,e.e=c,e};Mt.pow=function(e){var t=this,r=new t.constructor("1"),n=r,i=e<0;if(e!==~~e||e<-az||e>az)throw Error(tf+"exponent");for(i&&(e=-e);e&1&&(n=n.times(t)),e>>=1,!!e;)t=t.times(t);return i?r.div(n):n};Mt.prec=function(e,t){if(e!==~~e||e<1||e>Ed)throw Error(tf+"precision");return rf(new this.constructor(this),e,t)};Mt.round=function(e,t){if(e===ua)e=0;else if(e!==~~e||e<-Ed||e>Ed)throw Error(a8);return rf(new this.constructor(this),e+this.e+1,t)};Mt.sqrt=function(){var e,t,r,n=this,i=n.constructor,s=n.s,o=n.e,a=new i("0.5");if(!n.c[0])return new i(n);if(s<0)throw Error(pb+"No square root");s=Math.sqrt(+nf(n,!0,!0)),s===0||s===1/0?(t=n.c.join(""),t.length+o&1||(t+="0"),s=Math.sqrt(t),o=((o+1)/2|0)-(o<0||o&1),e=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):e=new i(s+""),o=e.e+(i.DP+=4);do r=e,e=a.times(r.plus(n.div(r)));while(r.c.slice(0,o).join("")!==e.c.slice(0,o).join(""));return rf(e,(i.DP-=4)+e.e+1,i.RM)};Mt.times=Mt.mul=function(e){var t,r=this,n=r.constructor,i=r.c,s=(e=new n(e)).c,o=i.length,a=s.length,c=r.e,u=e.e;if(e.s=r.s==e.s?1:-1,!i[0]||!s[0])return e.c=[e.e=0],e;for(e.e=c+u,o<a&&(t=i,i=s,s=t,u=o,o=a,a=u),t=new Array(u=o+a);u--;)t[u]=0;for(c=a;c--;){for(a=0,u=o+c;u>c;)a=t[u]+s[c]*i[u-c-1]+a,t[u--]=a%10,a=a/10|0;t[u]=a}for(a?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e};Mt.toExponential=function(e,t){var r=this,n=r.c[0];if(e!==ua){if(e!==~~e||e<0||e>Ed)throw Error(a8);for(r=rf(new r.constructor(r),++e,t);r.c.length<e;)r.c.push(0)}return nf(r,!0,!!n)};Mt.toFixed=function(e,t){var r=this,n=r.c[0];if(e!==ua){if(e!==~~e||e<0||e>Ed)throw Error(a8);for(r=rf(new r.constructor(r),e+r.e+1,t),e=e+r.e+1;r.c.length<e;)r.c.push(0)}return nf(r,!1,!!n)};Mt[Symbol.for("nodejs.util.inspect.custom")]=Mt.toJSON=Mt.toString=function(){var e=this,t=e.constructor;return nf(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])};Mt.toNumber=function(){var e=+nf(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(e.toString()))throw Error(pb+"Imprecise conversion");return e};Mt.toPrecision=function(e,t){var r=this,n=r.constructor,i=r.c[0];if(e!==ua){if(e!==~~e||e<1||e>Ed)throw Error(tf+"precision");for(r=rf(new n(r),e,t);r.c.length<e;)r.c.push(0)}return nf(r,e<=r.e||r.e<=n.NE||r.e>=n.PE,!!i)};Mt.valueOf=function(){var e=this,t=e.constructor;if(t.strict===!0)throw Error(pb+"valueOf disallowed");return nf(e,e.e<=t.NE||e.e>=t.PE,!0)};var Pg=hee();const GSe={bigNumber(e){return e?new Pg(e):new Pg(0)},multiply(e,t){if(e===void 0||t===void 0)return new Pg(0);const r=new Pg(e),n=new Pg(t);return r.times(n)},formatNumberToLocalString(e,t=2){return e===void 0?"0.00":typeof e=="number"?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t})},parseLocalStringToNumber(e){return e===void 0?0:parseFloat(e.replace(/,/gu,""))}},KSe=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],ZSe=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],YSe=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],QSe={getERC20Abi:e=>Le.USDT_CONTRACT_ADDRESSES.includes(e)?YSe:KSe,getSwapAbi:()=>ZSe},eu={validateCaipAddress(e){if(e.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return e},parseCaipAddress(e){const t=e.split(":");if(t.length!==3)throw new Error(`Invalid CAIP-10 address: ${e}`);const[r,n,i]=t;if(!r||!n||!i)throw new Error(`Invalid CAIP-10 address: ${e}`);return{chainNamespace:r,chainId:n,address:i}},parseCaipNetworkId(e){const t=e.split(":");if(t.length!==2)throw new Error(`Invalid CAIP-2 network id: ${e}`);const[r,n]=t;if(!r||!n)throw new Error(`Invalid CAIP-2 network id: ${e}`);return{chainNamespace:r,chainId:n}}},Je={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections"};function hC(e){if(!e)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${e}:connected_connector_id`}const Ze={setItem(e,t){zg()&&t!==void 0&&localStorage.setItem(e,t)},getItem(e){if(zg())return localStorage.getItem(e)||void 0},removeItem(e){zg()&&localStorage.removeItem(e)},clear(){zg()&&localStorage.clear()}};function zg(){return typeof window<"u"&&typeof localStorage<"u"}function gu(e,t){return t==="light"?{"--w3m-accent":e?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":e?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}const JSe=Symbol(),cz=Object.getPrototypeOf,NI=new WeakMap,XSe=e=>e&&(NI.has(e)?NI.get(e):cz(e)===Object.prototype||cz(e)===Array.prototype),e7e=e=>XSe(e)&&e[JSe]||null,uz=(e,t=!0)=>{NI.set(e,t)},e3={},pC=e=>typeof e=="object"&&e!==null,lu=new WeakMap,Fg=new WeakSet,t7e=(e=Object.is,t=(u,l)=>new Proxy(u,l),r=u=>pC(u)&&!Fg.has(u)&&(Array.isArray(u)||!(Symbol.iterator in u))&&!(u instanceof WeakMap)&&!(u instanceof WeakSet)&&!(u instanceof Error)&&!(u instanceof Number)&&!(u instanceof Date)&&!(u instanceof String)&&!(u instanceof RegExp)&&!(u instanceof ArrayBuffer),n=u=>{switch(u.status){case"fulfilled":return u.value;case"rejected":throw u.reason;default:throw u}},i=new WeakMap,s=(u,l,f=n)=>{const d=i.get(u);if(d?.[0]===l)return d[1];const h=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u));return uz(h,!0),i.set(u,[l,h]),Reflect.ownKeys(u).forEach(g=>{if(Object.getOwnPropertyDescriptor(h,g))return;const p=Reflect.get(u,g),{enumerable:b}=Reflect.getOwnPropertyDescriptor(u,g),w={value:p,enumerable:b,configurable:!0};if(Fg.has(p))uz(p,!1);else if(p instanceof Promise)delete w.value,w.get=()=>f(p);else if(lu.has(p)){const[y,v]=lu.get(p);w.value=s(y,v(),f)}Object.defineProperty(h,g,w)}),Object.preventExtensions(h)},o=new WeakMap,a=[1,1],c=u=>{if(!pC(u))throw new Error("object required");const l=o.get(u);if(l)return l;let f=a[0];const d=new Set,h=(x,O=++a[0])=>{f!==O&&(f=O,d.forEach(D=>D(x,O)))};let g=a[1];const p=(x=++a[1])=>(g!==x&&!d.size&&(g=x,w.forEach(([O])=>{const D=O[1](x);D>f&&(f=D)})),f),b=x=>(O,D)=>{const R=[...O];R[1]=[x,...R[1]],h(R,D)},w=new Map,y=(x,O)=>{if((e3?"production":void 0)!=="production"&&w.has(x))throw new Error("prop listener already exists");if(d.size){const D=O[3](b(x));w.set(x,[O,D])}else w.set(x,[O])},v=x=>{var O;const D=w.get(x);D&&(w.delete(x),(O=D[1])==null||O.call(D))},m=x=>(d.add(x),d.size===1&&w.forEach(([D,R],k)=>{if((e3?"production":void 0)!=="production"&&R)throw new Error("remove already exists");const T=D[3](b(k));w.set(k,[D,T])}),()=>{d.delete(x),d.size===0&&w.forEach(([D,R],k)=>{R&&(R(),w.set(k,[D]))})}),C=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u)),_=t(C,{deleteProperty(x,O){const D=Reflect.get(x,O);v(O);const R=Reflect.deleteProperty(x,O);return R&&h(["delete",[O],D]),R},set(x,O,D,R){const k=Reflect.has(x,O),T=Reflect.get(x,O,R);if(k&&(e(T,D)||o.has(D)&&e(T,o.get(D))))return!0;v(O),pC(D)&&(D=e7e(D)||D);let S=D;if(D instanceof Promise)D.then(I=>{D.status="fulfilled",D.value=I,h(["resolve",[O],I])}).catch(I=>{D.status="rejected",D.reason=I,h(["reject",[O],I])});else{!lu.has(D)&&r(D)&&(S=c(D));const I=!Fg.has(S)&&lu.get(S);I&&y(O,I)}return Reflect.set(x,O,S,R),h(["set",[O],D,T]),!0}});o.set(u,_);const P=[C,p,s,m];return lu.set(_,P),Reflect.ownKeys(u).forEach(x=>{const O=Object.getOwnPropertyDescriptor(u,x);"value"in O&&(_[x]=u[x],delete O.value,delete O.writable),Object.defineProperty(C,x,O)}),_})=>[c,lu,Fg,e,t,r,n,i,s,o,a],[r7e]=t7e();function nr(e={}){return r7e(e)}function Nn(e,t,r){const n=lu.get(e);(e3?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");let i;const s=[],o=n[3];let a=!1;const u=o(l=>{s.push(l),i||(i=Promise.resolve().then(()=>{i=void 0,a&&t(s.splice(0))}))});return a=!0,()=>{a=!1,u()}}function Hm(e,t){const r=lu.get(e);(e3?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");const[n,i,s]=r;return s(n,i(),t)}function _d(e){return Fg.add(e),e}function qn(e,t,r,n){let i=e[t];return Nn(e,()=>{const s=e[t];Object.is(i,s)||r(i=s)})}function n7e(e){const t=nr({data:Array.from([]),has(r){return this.data.some(n=>n[0]===r)},set(r,n){const i=this.data.find(s=>s[0]===r);return i?i[1]=n:this.data.push([r,n]),this},get(r){var n;return(n=this.data.find(i=>i[0]===r))==null?void 0:n[1]},delete(r){const n=this.data.findIndex(i=>i[0]===r);return n===-1?!1:(this.data.splice(n,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(r){this.data.forEach(n=>{r(n[1],n[0],this)})},keys(){return this.data.map(r=>r[0]).values()},values(){return this.data.map(r=>r[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(t,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(t),t}const pee=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],i7e="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",$t={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,BALANCE_SUPPORTED_CHAINS:["eip155","solana"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["coinbase","meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal"}},Re={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(e,t){return Date.now()-e>t},getActiveNetworkProps(){const e=Re.getActiveNamespace(),t=Re.getActiveCaipNetworkId(),r=t?t.split(":")[1]:void 0,n=r?isNaN(Number(r))?r:Number(r):void 0;return{namespace:e,caipNetworkId:t,chainId:n}},setWalletConnectDeepLink({name:e,href:t}){try{Ze.setItem(Je.DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const e=Ze.getItem(Je.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Ze.removeItem(Je.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{Ze.setItem(Je.ACTIVE_NAMESPACE,e)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{Ze.setItem(Je.ACTIVE_CAIP_NETWORK_ID,e),Re.setActiveNamespace(e.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Ze.getItem(Je.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Ze.removeItem(Je.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{const t=hC(e);Ze.removeItem(t)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{const t=Re.getRecentWallets();t.find(n=>n.id===e.id)||(t.unshift(e),t.length>2&&t.pop(),Ze.setItem(Je.RECENT_WALLETS,JSON.stringify(t)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const e=Ze.getItem(Je.RECENT_WALLETS);return e?JSON.parse(e):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(e,t){try{const r=hC(e);Ze.setItem(r,t)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Ze.getItem(Je.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{const t=hC(e);return Ze.getItem(t)}catch{console.info("Unable to get connected connector id in namespace ",e)}},setConnectedSocialProvider(e){try{Ze.setItem(Je.CONNECTED_SOCIAL,e)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Ze.getItem(Je.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Ze.removeItem(Je.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Ze.getItem(Je.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return Ze.getItem(Je.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(e){try{Ze.setItem(Je.CONNECTION_STATUS,e)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Ze.getItem(Je.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const e=Ze.getItem(Je.CONNECTED_NAMESPACES);return e?.length?e.split(","):[]}catch{return[]}},setConnectedNamespaces(e){try{const t=Array.from(new Set(e));Ze.setItem(Je.CONNECTED_NAMESPACES,t.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{const t=Re.getConnectedNamespaces();t.includes(e)||(t.push(e),Re.setConnectedNamespaces(t))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{const t=Re.getConnectedNamespaces(),r=t.indexOf(e);r>-1&&(t.splice(r,1),Re.setConnectedNamespaces(t))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Ze.getItem(Je.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{Ze.setItem(Je.TELEGRAM_SOCIAL_PROVIDER,e)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Ze.removeItem(Je.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{const t=Ze.getItem(Je.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{const t=Re.getBalanceCache();Ze.setItem(Je.PORTFOLIO_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{const r=Re.getBalanceCache()[e];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.portfolio))return r.balance;Re.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{const t=Re.getBalanceCache();t[e.caipAddress]=e,Ze.setItem(Je.PORTFOLIO_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{const t=Ze.getItem(Je.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{const t=Re.getBalanceCache();Ze.setItem(Je.NATIVE_BALANCE_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{const r=Re.getNativeBalanceCache()[e];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.nativeBalance))return r;console.info("Discarding cache for address",e),Re.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{const t=Re.getNativeBalanceCache();t[e.caipAddress]=e,Ze.setItem(Je.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{const t=Ze.getItem(Je.ENS_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{const r=Re.getEnsCache()[e];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.ens))return r.ens;Re.removeEnsFromCache(e)}catch{console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{const t=Re.getEnsCache();t[e.address]=e,Ze.setItem(Je.ENS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{const t=Re.getEnsCache();Ze.setItem(Je.ENS_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{const t=Ze.getItem(Je.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{const r=Re.getIdentityCache()[e];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.identity))return r.identity;Re.removeIdentityFromCache(e)}catch{console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{const t=Re.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},Ze.setItem(Je.IDENTITY_CACHE,JSON.stringify(t))}catch{console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{const t=Re.getIdentityCache();Ze.setItem(Je.IDENTITY_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove identity from cache",e)}},clearAddressCache(){try{Ze.removeItem(Je.PORTFOLIO_CACHE),Ze.removeItem(Je.NATIVE_BALANCE_CACHE),Ze.removeItem(Je.ENS_CACHE),Ze.removeItem(Je.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(e){try{Ze.setItem(Je.PREFERRED_ACCOUNT_TYPES,JSON.stringify(e))}catch{console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes(){try{const e=Ze.getItem(Je.PREFERRED_ACCOUNT_TYPES);return e?JSON.parse(e):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(e,t){try{const r={...Re.getConnections(),[t]:e};Ze.setItem(Je.CONNECTIONS,JSON.stringify(r))}catch(r){console.error("Unable to sync connections to storage",r)}},getConnections(){try{const e=Ze.getItem(Je.CONNECTIONS);return e?JSON.parse(e):{}}catch(e){return console.error("Unable to get connections from storage",e),{}}}},we={isMobile(){return this.isClient()?!!(typeof window?.matchMedia=="function"&&window?.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(e,t=""){return e?.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const e=window?.navigator.userAgent.toLowerCase();return we.isMobile()&&e.includes("android")},isIos(){if(!this.isMobile())return!1;const e=window?.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(e){return e?e-Date.now()<=$t.TEN_SEC_MS:!0},isAllowedRetry(e,t=$t.ONE_SEC_MS){return Date.now()-e>=t},copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(we.isClient()&&window.self!==window.top)try{const e=window?.location?.ancestorOrigins?.[0],t="https://app.safe.global";if(e){const r=new URL(e),n=new URL(t);return r.hostname===n.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+$t.FOUR_MINUTES_MS},getNetworkId(e){return e?.split(":")[1]},getPlainAddress(e){return e?.split(":")[2]},async wait(e){return new Promise(t=>{setTimeout(t,e)})},debounce(e,t=500){let r;return(...n)=>{function i(){e(...n)}r&&clearTimeout(r),r=setTimeout(i,t)}},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},formatNativeUrl(e,t,r=null){if(we.isHttpUrl(e))return this.formatUniversalUrl(e,t);let n=e,i=r;n.includes("://")||(n=e.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),i&&!i?.endsWith("/")&&(i=`${i}/`),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));const s=encodeURIComponent(t);return{redirect:`${n}wc?uri=${s}`,redirectUniversalLink:i?`${i}wc?uri=${s}`:void 0,href:n}},formatUniversalUrl(e,t){if(!we.isHttpUrl(e))return this.formatNativeUrl(e,t);let r=e;r.endsWith("/")||(r=`${r}/`);const n=encodeURIComponent(t);return{redirect:`${r}wc?uri=${n}`,href:r}},getOpenTargetForPlatform(e){return e==="popupWindow"?e:this.isTelegram()?Re.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,r){window?.open(e,this.getOpenTargetForPlatform(t),r||"noreferrer noopener")},returnOpenHref(e,t,r){return window?.open(e,this.getOpenTargetForPlatform(t),r||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const e=window.matchMedia?.("(display-mode: standalone)")?.matches,t=window?.navigator?.standalone;return!!(e||t)},async preloadImage(e){const t=new Promise((r,n)=>{const i=new Image;i.onload=r,i.onerror=n,i.crossOrigin="anonymous",i.src=e});return Promise.race([t,we.wait(2e3)])},formatBalance(e,t){let r="0.000";if(typeof e=="string"){const n=Number(e);if(n){const i=Math.floor(n*1e3)/1e3;i&&(r=i.toString())}}return`${r}${t?` ${t}`:""}`},formatBalance2(e,t){let r;if(e==="0")r="0";else if(typeof e=="string"){const n=Number(e);n&&(r=n.toString().match(/^-?\d+(?:\.\d{0,3})?/u)?.[0])}return{value:r??"0",rest:r==="0"?"000":"",symbol:t}},getApiUrl(){return Le.W3M_API_URL},getBlockchainApiUrl(){return Le.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return Le.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})},parseError(e){return typeof e=="string"?e:typeof e?.issues?.[0]?.message=="string"?e.issues[0].message:e instanceof Error?e.message:"Unknown error"},sortRequestedNetworks(e,t=[]){const r={};return t&&e&&(e.forEach((n,i)=>{r[n]=i}),t.sort((n,i)=>{const s=r[n.id],o=r[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),t},calculateBalance(e){let t=0;for(const r of e)t+=r.value??0;return t},formatTokenBalance(e){const t=e.toFixed(2),[r,n]=t.split(".");return{dollars:r,pennies:n}},isAddress(e,t="eip155"){switch(t){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)||/^(?:0x)?[0-9A-F]{40}$/iu.test(e))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);default:return!1}},uniqueBy(e,t){const r=new Set;return e.filter(n=>{const i=n[t];return r.has(i)?!1:(r.add(i),!0)})},generateSdkVersion(e,t,r){const i=e.length===0?$t.ADAPTER_TYPES.UNIVERSAL:e.map(s=>s.adapterType).join(",");return`${t}-${i}-${r}`},createAccount(e,t,r,n,i){return{namespace:e,address:t,type:r,publicKey:n,path:i}},isCaipAddress(e){if(typeof e!="string")return!1;const t=e.split(":"),r=t[0];return t.filter(Boolean).length===3&&r in Le.CHAIN_NAME_MAP},isMac(){const e=window?.navigator.userAgent.toLowerCase();return e.includes("macintosh")&&!e.includes("safari")},formatTelegramSocialLoginUrl(e){const t=`--${encodeURIComponent(window?.location.href)}`,r="state=";if(new URL(e).host==="auth.magic.link"){const i="provider_authorization_url=",s=e.substring(e.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),r,t);return e.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(e,r,t)},injectIntoUrl(e,t,r){const n=e.indexOf(t);if(n===-1)throw new Error(`${t} parameter not found in the URL: ${e}`);const i=e.indexOf("&",n),s=t.length,o=i!==-1?i:e.length,a=e.substring(0,n+s),c=e.substring(n+s,o),u=e.substring(i),l=c+r;return a+l+u}};async function Sg(...e){const t=await fetch(...e);if(!t.ok)throw new Error(`HTTP status code: ${t.status}`,{cause:t});return t}class gb{constructor({baseUrl:t,clientId:r}){this.baseUrl=t,this.clientId=r}async get({headers:t,signal:r,cache:n,...i}){const s=this.createUrl(i);return(await Sg(s,{method:"GET",headers:t,signal:r,cache:n})).json()}async getBlob({headers:t,signal:r,...n}){const i=this.createUrl(n);return(await Sg(i,{method:"GET",headers:t,signal:r})).blob()}async post({body:t,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await Sg(s,{method:"POST",headers:r,body:t?JSON.stringify(t):void 0,signal:n})).json()}async put({body:t,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await Sg(s,{method:"PUT",headers:r,body:t?JSON.stringify(t):void 0,signal:n})).json()}async delete({body:t,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await Sg(s,{method:"DELETE",headers:r,body:t?JSON.stringify(t):void 0,signal:n})).json()}createUrl({path:t,params:r}){const n=new URL(t,this.baseUrl);return r&&Object.entries(r).forEach(([i,s])=>{s&&n.searchParams.append(i,s)}),this.clientId&&n.searchParams.append("clientId",this.clientId),n}}const s7e={getFeatureValue(e,t){const r=t?.[e];return r===void 0?$t.DEFAULT_FEATURES[e]:r},filterSocialsByPlatform(e){if(!e||!e.length)return e;if(we.isTelegram()){if(we.isIos())return e.filter(t=>t!=="google");if(we.isMac())return e.filter(t=>t!=="x");if(we.isAndroid())return e.filter(t=>!["facebook","x"].includes(t))}return e}},ze=nr({features:$t.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:$t.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),de={state:ze,subscribeKey(e,t){return qn(ze,e,t)},setOptions(e){Object.assign(ze,e)},setRemoteFeatures(e){if(!e)return;const t={...ze.remoteFeatures,...e};ze.remoteFeatures=t,ze.remoteFeatures?.socials&&(ze.remoteFeatures.socials=s7e.filterSocialsByPlatform(ze.remoteFeatures.socials))},setFeatures(e){if(!e)return;ze.features||(ze.features=$t.DEFAULT_FEATURES);const t={...ze.features,...e};ze.features=t},setProjectId(e){ze.projectId=e},setCustomRpcUrls(e){ze.customRpcUrls=e},setAllWallets(e){ze.allWallets=e},setIncludeWalletIds(e){ze.includeWalletIds=e},setExcludeWalletIds(e){ze.excludeWalletIds=e},setFeaturedWalletIds(e){ze.featuredWalletIds=e},setTokens(e){ze.tokens=e},setTermsConditionsUrl(e){ze.termsConditionsUrl=e},setPrivacyPolicyUrl(e){ze.privacyPolicyUrl=e},setCustomWallets(e){ze.customWallets=e},setIsSiweEnabled(e){ze.isSiweEnabled=e},setIsUniversalProvider(e){ze.isUniversalProvider=e},setSdkVersion(e){ze.sdkVersion=e},setMetadata(e){ze.metadata=e},setDisableAppend(e){ze.disableAppend=e},setEIP6963Enabled(e){ze.enableEIP6963=e},setDebug(e){ze.debug=e},setEnableWalletConnect(e){ze.enableWalletConnect=e},setEnableWalletGuide(e){ze.enableWalletGuide=e},setEnableAuthLogger(e){ze.enableAuthLogger=e},setEnableWallets(e){ze.enableWallets=e},setPreferUniversalLinks(e){ze.experimental_preferUniversalLinks=e},setHasMultipleAddresses(e){ze.hasMultipleAddresses=e},setSIWX(e){ze.siwx=e},setConnectMethodsOrder(e){ze.features={...ze.features,connectMethodsOrder:e}},setWalletFeaturesOrder(e){ze.features={...ze.features,walletFeaturesOrder:e}},setSocialsOrder(e){ze.remoteFeatures={...ze.remoteFeatures,socials:e}},setCollapseWallets(e){ze.features={...ze.features,collapseWallets:e}},setEnableEmbedded(e){ze.enableEmbedded=e},setAllowUnsupportedChain(e){ze.allowUnsupportedChain=e},setManualWCControl(e){ze.manualWCControl=e},setEnableNetworkSwitch(e){ze.enableNetworkSwitch=e},setDefaultAccountTypes(e={}){Object.entries(e).forEach(([t,r])=>{r&&(ze.defaultAccountTypes[t]=r)})},setUniversalProviderConfigOverride(e){ze.universalProviderConfigOverride=e},getUniversalProviderConfigOverride(){return ze.universalProviderConfigOverride},getSnapshot(){return Hm(ze)}},o7e=Object.freeze({enabled:!0,events:[]}),a7e=new gb({baseUrl:we.getAnalyticsUrl(),clientId:null}),c7e=5,u7e=60*1e3,tu=nr({...o7e}),l7e={state:tu,subscribeKey(e,t){return qn(tu,e,t)},async sendError(e,t){if(!tu.enabled)return;const r=Date.now();if(tu.events.filter(s=>{const o=new Date(s.properties.timestamp||"").getTime();return r-o<u7e}).length>=c7e)return;const i={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:new Date().toISOString()}};tu.events.push(i);try{if(typeof window>"u")return;const{projectId:s,sdkType:o,sdkVersion:a}=de.state;await a7e.post({path:"/e",params:{projectId:s,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:we.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch{}},enable(){tu.enabled=!0},disable(){tu.enabled=!1},clearEvents(){tu.events=[]}};class fp extends Error{constructor(t,r,n){super(t),this.name="AppKitError",this.category=r,this.originalError=n,Object.setPrototypeOf(this,fp.prototype);let i=!1;if(n instanceof Error&&typeof n.stack=="string"&&n.stack){const s=n.stack,o=s.indexOf(`
`);if(o>-1){const a=s.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,i=!0}}i||(Error.captureStackTrace?Error.captureStackTrace(this,fp):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function lz(e,t){const r=e instanceof fp?e:new fp(e instanceof Error?e.message:String(e),t,e);throw l7e.sendError(r,r.category),r}function Yi(e,t="INTERNAL_SDK_ERROR"){const r={};return Object.keys(e).forEach(n=>{const i=e[n];if(typeof i=="function"){let s=i;i.constructor.name==="AsyncFunction"?s=async(...o)=>{try{return await i(...o)}catch(a){return lz(a,t)}}:s=(...o)=>{try{return i(...o)}catch(a){return lz(a,t)}},r[n]=s}else r[n]=i}),r}const ra={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},d7e={handleMobileDeeplinkRedirect(e,t){const r=window.location.href,n=encodeURIComponent(r);if(e===ra.PHANTOM.id&&!("phantom"in window)){const i=r.startsWith("https")?"https":"http",s=r.split("/")[2],o=encodeURIComponent(`${i}://${s}`);window.location.href=`${ra.PHANTOM.url}/ul/browse/${n}?ref=${o}`}e===ra.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${ra.SOLFLARE.url}/ul/v1/browse/${n}?ref=${n}`),t===Le.CHAIN.SOLANA&&e===ra.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${ra.COINBASE.url}/dapp?cb_url=${n}`)}},ss=nr({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),f7e={state:ss,subscribeNetworkImages(e){return Nn(ss.networkImages,()=>e(ss.networkImages))},subscribeKey(e,t){return qn(ss,e,t)},subscribe(e){return Nn(ss,()=>e(ss))},setWalletImage(e,t){ss.walletImages[e]=t},setNetworkImage(e,t){ss.networkImages[e]=t},setChainImage(e,t){ss.chainImages[e]=t},setConnectorImage(e,t){ss.connectorImages={...ss.connectorImages,[e]:t}},setTokenImage(e,t){ss.tokenImages[e]=t},setCurrencyImage(e,t){ss.currencyImages[e]=t}},Mi=Yi(f7e),h7e={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},gC=nr({networkImagePromises:{}}),Xr={async fetchWalletImage(e){if(e)return await Ee._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){if(!e)return;const t=this.getNetworkImageById(e);return t||(gC.networkImagePromises[e]||(gC.networkImagePromises[e]=Ee._fetchNetworkImage(e)),await gC.networkImagePromises[e],this.getNetworkImageById(e))},getWalletImageById(e){if(e)return Mi.state.walletImages[e]},getWalletImage(e){if(e?.image_url)return e?.image_url;if(e?.image_id)return Mi.state.walletImages[e.image_id]},getNetworkImage(e){if(e?.assets?.imageUrl)return e?.assets?.imageUrl;if(e?.assets?.imageId)return Mi.state.networkImages[e.assets.imageId]},getNetworkImageById(e){if(e)return Mi.state.networkImages[e]},getConnectorImage(e){if(e?.imageUrl)return e.imageUrl;if(e?.imageId)return Mi.state.connectorImages[e.imageId]},getChainImage(e){return Mi.state.networkImages[h7e[e]]}},ru=nr({message:"",variant:"info",open:!1}),p7e={state:ru,subscribeKey(e,t){return qn(ru,e,t)},open(e,t){const{debug:r}=de.state,{shortMessage:n,longMessage:i}=e;r&&(ru.message=n,ru.variant=t,ru.open=!0),i&&console.error(typeof i=="function"?i():i)},close(){ru.open=!1,ru.message="",ru.variant="info"}},wo=Yi(p7e),g7e=we.getAnalyticsUrl(),m7e=new gb({baseUrl:g7e,clientId:null}),b7e=["MODAL_CREATED"],Ka=nr({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),ot={state:Ka,subscribe(e){return Nn(Ka,()=>e(Ka))},getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:r}=de.state;return{projectId:e,st:t,sv:r||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(e){try{const t=Ne.state.address;if(b7e.includes(e.data.event)||typeof window>"u")return;await m7e.post({path:"/e",params:ot.getSdkProperties(),body:{eventId:we.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:{...e.data,address:t}}}),Ka.reportedErrors.FORBIDDEN=!1}catch(t){t instanceof Error&&t.cause instanceof Response&&t.cause.status===Le.HTTP_STATUS_CODES.FORBIDDEN&&!Ka.reportedErrors.FORBIDDEN&&(wo.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${zg()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),Ka.reportedErrors.FORBIDDEN=!0)}},sendEvent(e){Ka.timestamp=Date.now(),Ka.data=e,de.state.features?.analytics&&ot._sendAnalyticsEvent(Ka)}},y7e=we.getApiUrl(),Ai=new gb({baseUrl:y7e,clientId:null}),w7e=40,dz=4,v7e=20,Xe=nr({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),Ee={state:Xe,subscribeKey(e,t){return qn(Xe,e,t)},_getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:r}=de.state;return{projectId:e,st:t||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions(e){return de.state.isUniversalProvider?e.filter(t=>!!(t.mobile_link||t.desktop_link||t.webapp_link)):e},async _fetchWalletImage(e){const t=`${Ai.baseUrl}/getWalletImage/${e}`,r=await Ai.getBlob({path:t,params:Ee._getSdkProperties()});Mi.setWalletImage(e,URL.createObjectURL(r))},async _fetchNetworkImage(e){const t=`${Ai.baseUrl}/public/getAssetImage/${e}`,r=await Ai.getBlob({path:t,params:Ee._getSdkProperties()});Mi.setNetworkImage(e,URL.createObjectURL(r))},async _fetchConnectorImage(e){const t=`${Ai.baseUrl}/public/getAssetImage/${e}`,r=await Ai.getBlob({path:t,params:Ee._getSdkProperties()});Mi.setConnectorImage(e,URL.createObjectURL(r))},async _fetchCurrencyImage(e){const t=`${Ai.baseUrl}/public/getCurrencyImage/${e}`,r=await Ai.getBlob({path:t,params:Ee._getSdkProperties()});Mi.setCurrencyImage(e,URL.createObjectURL(r))},async _fetchTokenImage(e){const t=`${Ai.baseUrl}/public/getTokenImage/${e}`,r=await Ai.getBlob({path:t,params:Ee._getSdkProperties()});Mi.setTokenImage(e,URL.createObjectURL(r))},_filterWalletsByPlatform(e){return we.isMobile()?e?.filter(r=>r.mobile_link||r.id===ra.COINBASE.id?!0:G.state.activeChain==="solana"&&(r.id===ra.SOLFLARE.id||r.id===ra.PHANTOM.id)):e},async fetchProjectConfig(){return(await Ai.get({path:"/appkit/v1/config",params:Ee._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:e}=await Ai.get({path:"/projects/v1/origins",params:Ee._getSdkProperties()});return e}catch{return[]}},async fetchNetworkImages(){const t=G.getAllRequestedCaipNetworks()?.map(({assets:r})=>r?.imageId).filter(Boolean).filter(r=>!Xr.getNetworkImageById(r));t&&await Promise.allSettled(t.map(r=>Ee._fetchNetworkImage(r)))},async fetchConnectorImages(){const{connectors:e}=ye.state,t=e.map(({imageId:r})=>r).filter(Boolean);await Promise.allSettled(t.map(r=>Ee._fetchConnectorImage(r)))},async fetchCurrencyImages(e=[]){await Promise.allSettled(e.map(t=>Ee._fetchCurrencyImage(t)))},async fetchTokenImages(e=[]){await Promise.allSettled(e.map(t=>Ee._fetchTokenImage(t)))},async fetchWallets(e){const t=e.exclude??[];Ee._getSdkProperties().sv.startsWith("html-core-")&&t.push(...Object.values(ra).map(s=>s.id));const n=await Ai.get({path:"/getWallets",params:{...Ee._getSdkProperties(),...e,page:String(e.page),entries:String(e.entries),include:e.include?.join(","),exclude:t.join(",")}});return{data:Ee._filterWalletsByPlatform(n?.data)||[],count:n?.count}},async fetchFeaturedWallets(){const{featuredWalletIds:e}=de.state;if(e?.length){const t={...Ee._getSdkProperties(),page:1,entries:e?.length??dz,include:e},{data:r}=await Ee.fetchWallets(t),n=[...r].sort((s,o)=>e.indexOf(s.id)-e.indexOf(o.id)),i=n.map(s=>s.image_id).filter(Boolean);await Promise.allSettled(i.map(s=>Ee._fetchWalletImage(s))),Xe.featured=n,Xe.allFeatured=n}},async fetchRecommendedWallets(){try{Xe.isFetchingRecommendedWallets=!0;const{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:r}=de.state,n=[...t??[],...r??[]].filter(Boolean),i=G.getRequestedCaipNetworkIds().join(","),s={page:1,entries:dz,include:e,exclude:n,chains:i},{data:o,count:a}=await Ee.fetchWallets(s),c=Re.getRecentWallets(),u=o.map(f=>f.image_id).filter(Boolean),l=c.map(f=>f.image_id).filter(Boolean);await Promise.allSettled([...u,...l].map(f=>Ee._fetchWalletImage(f))),Xe.recommended=o,Xe.allRecommended=o,Xe.count=a??0}catch{}finally{Xe.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:e}){const{includeWalletIds:t,excludeWalletIds:r,featuredWalletIds:n}=de.state,i=G.getRequestedCaipNetworkIds().join(","),s=[...Xe.recommended.map(({id:l})=>l),...r??[],...n??[]].filter(Boolean),o={page:e,entries:w7e,include:t,exclude:s,chains:i},{data:a,count:c}=await Ee.fetchWallets(o),u=a.slice(0,v7e).map(l=>l.image_id).filter(Boolean);await Promise.allSettled(u.map(l=>Ee._fetchWalletImage(l))),Xe.wallets=we.uniqueBy([...Xe.wallets,...Ee._filterOutExtensions(a)],"id").filter(l=>l.chains?.some(f=>i.includes(f))),Xe.count=c>Xe.count?c:Xe.count,Xe.page=e},async initializeExcludedWallets({ids:e}){const t={page:1,entries:e.length,include:e},{data:r}=await Ee.fetchWallets(t);r&&r.forEach(n=>{Xe.excludedWallets.push({rdns:n.rdns,name:n.name})})},async searchWallet({search:e,badge:t}){const{includeWalletIds:r,excludeWalletIds:n}=de.state,i=G.getRequestedCaipNetworkIds().join(",");Xe.search=[];const s={page:1,entries:100,search:e?.trim(),badge_type:t,include:r,exclude:n,chains:i},{data:o}=await Ee.fetchWallets(s);ot.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:t??"",search:e??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>Ee._fetchWalletImage(c)),we.wait(300)]),Xe.search=Ee._filterOutExtensions(o)},initPromise(e,t){const r=Xe.promises[e];return r||(Xe.promises[e]=t())},prefetch({fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:n=!0}={}){const i=[e&&Ee.initPromise("connectorImages",Ee.fetchConnectorImages),t&&Ee.initPromise("featuredWallets",Ee.fetchFeaturedWallets),r&&Ee.initPromise("recommendedWallets",Ee.fetchRecommendedWallets),n&&Ee.initPromise("networkImages",Ee.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){de.state.features?.analytics&&Ee.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:e}=await Ai.get({path:"/getAnalyticsConfig",params:Ee._getSdkProperties()});de.setFeatures({analytics:e})}catch{de.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!e?.length){Xe.featured=Xe.allFeatured,Xe.recommended=Xe.allRecommended;return}const t=G.getRequestedCaipNetworkIds().join(",");Xe.featured=Xe.allFeatured.filter(r=>r.chains?.some(n=>t.includes(n))),Xe.recommended=Xe.allRecommended.filter(r=>r.chains?.some(n=>t.includes(n))),Xe.filteredWallets=Xe.wallets.filter(r=>r.chains?.some(n=>t.includes(n)))},clearFilterByNamespaces(){Xe.filteredWallets=[]},setFilterByNamespace(e){if(!e){Xe.featured=Xe.allFeatured,Xe.recommended=Xe.allRecommended;return}const t=G.getRequestedCaipNetworkIds().join(",");Xe.featured=Xe.allFeatured.filter(r=>r.chains?.some(n=>t.includes(n))),Xe.recommended=Xe.allRecommended.filter(r=>r.chains?.some(n=>t.includes(n))),Xe.filteredWallets=Xe.wallets.filter(r=>r.chains?.some(n=>t.includes(n)))}},Lt=nr({view:"Connect",history:["Connect"],transactionStack:[]}),E7e={state:Lt,subscribeKey(e,t){return qn(Lt,e,t)},pushTransactionStack(e){Lt.transactionStack.push(e)},popTransactionStack(e){const t=Lt.transactionStack.pop();if(!t)return;const{onSuccess:r,onError:n,onCancel:i}=t;switch(e){case"success":r?.();break;case"error":n?.(),ve.goBack();break;case"cancel":i?.(),ve.goBack();break}},push(e,t){e!==Lt.view&&(Lt.view=e,Lt.history.push(e),Lt.data=t)},reset(e,t){Lt.view=e,Lt.history=[e],Lt.data=t},replace(e,t){Lt.history.at(-1)===e||(Lt.view=e,Lt.history[Lt.history.length-1]=e,Lt.data=t)},goBack(){const e=G.state.activeCaipAddress,t=ve.state.view==="ConnectingFarcaster",r=!e&&t;if(Lt.history.length>1){Lt.history.pop();const[n]=Lt.history.slice(-1);n&&(e&&n==="Connect"?Lt.view="Account":Lt.view=n)}else Bt.close();Lt.data?.wallet&&(Lt.data.wallet=void 0),setTimeout(()=>{if(r){Ne.setFarcasterUrl(void 0,G.state.activeChain);const n=ye.getAuthConnector();n?.provider?.reload();const i=Hm(de.state);n?.provider?.syncDappData?.({metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType})}},100)},goBackToIndex(e){if(Lt.history.length>1){Lt.history=Lt.history.slice(0,e+1);const[t]=Lt.history.slice(-1);t&&(Lt.view=t)}},goBackOrCloseModal(){ve.state.history.length>1?ve.goBack():Bt.close()}},ve=Yi(E7e),Za=nr({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),DI={state:Za,subscribe(e){return Nn(Za,()=>e(Za))},setThemeMode(e){Za.themeMode=e;try{const t=ye.getAuthConnector();if(t){const r=DI.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:r,w3mThemeVariables:gu(r,e)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){Za.themeVariables={...Za.themeVariables,...e};try{const t=ye.getAuthConnector();if(t){const r=DI.getSnapshot().themeVariables;t.provider.syncTheme({themeVariables:r,w3mThemeVariables:gu(Za.themeVariables,Za.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Hm(Za)}},Bn=Yi(DI),gee={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},wt=nr({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...gee},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),_7e={state:wt,subscribe(e){return Nn(wt,()=>{e(wt)})},subscribeKey(e,t){return qn(wt,e,t)},initialize(e){e.forEach(t=>{const r=Re.getConnectedConnectorId(t);r&&ye.setConnectorId(r,t)})},setActiveConnector(e){e&&(wt.activeConnector=_d(e))},setConnectors(e){e.filter(i=>!wt.allConnectors.some(s=>s.id===i.id&&ye.getConnectorName(s.name)===ye.getConnectorName(i.name)&&s.chain===i.chain)).forEach(i=>{i.type!=="MULTI_CHAIN"&&wt.allConnectors.push(_d(i))});const r=ye.getEnabledNamespaces(),n=ye.getEnabledConnectors(r);wt.connectors=ye.mergeMultiChainConnectors(n)},filterByNamespaces(e){Object.keys(wt.filterByNamespaceMap).forEach(t=>{wt.filterByNamespaceMap[t]=!1}),e.forEach(t=>{wt.filterByNamespaceMap[t]=!0}),ye.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){wt.filterByNamespaceMap[e]=t,ye.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const e=ye.getEnabledNamespaces(),t=ye.getEnabledConnectors(e),r=ye.areAllNamespacesEnabled();wt.connectors=ye.mergeMultiChainConnectors(t),r?Ee.clearFilterByNamespaces():Ee.filterByNamespaces(e)},getEnabledNamespaces(){return Object.entries(wt.filterByNamespaceMap).filter(([e,t])=>t).map(([e])=>e)},getEnabledConnectors(e){return wt.allConnectors.filter(t=>e.includes(t.chain))},areAllNamespacesEnabled(){return Object.values(wt.filterByNamespaceMap).every(e=>e)},mergeMultiChainConnectors(e){const t=ye.generateConnectorMapByName(e),r=[];return t.forEach(n=>{const i=n[0],s=i?.id===Le.CONNECTOR_ID.AUTH;n.length>1&&i?r.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...n],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:i?.id||""}):i&&r.push(i)}),r},generateConnectorMapByName(e){const t=new Map;return e.forEach(r=>{const{name:n}=r,i=ye.getConnectorName(n);if(!i)return;const s=t.get(i)||[];s.find(a=>a.chain===r.chain)||s.push(r),t.set(i,s)}),t},getConnectorName(e){return e&&({"Trust Wallet":"Trust"}[e]||e)},getUniqueConnectorsByName(e){const t=[];return e.forEach(r=>{t.find(n=>n.chain===r.chain)||t.push(r)}),t},addConnector(e){if(e.id===Le.CONNECTOR_ID.AUTH){const t=e,r=Hm(de.state),n=Bn.getSnapshot().themeMode,i=Bn.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:r.metadata,sdkVersion:r.sdkVersion,projectId:r.projectId,sdkType:r.sdkType}),t?.provider?.syncTheme({themeMode:n,themeVariables:i,w3mThemeVariables:gu(i,n)}),ye.setConnectors([e])}else ye.setConnectors([e])},getAuthConnector(e){const t=e||G.state.activeChain,r=wt.connectors.find(n=>n.id===Le.CONNECTOR_ID.AUTH);if(r)return r?.connectors?.length?r.connectors.find(i=>i.chain===t):r},getAnnouncedConnectorRdns(){return wt.connectors.filter(e=>e.type==="ANNOUNCED").map(e=>e.info?.rdns)},getConnectorById(e){return wt.allConnectors.find(t=>t.id===e)},getConnector(e,t){return wt.allConnectors.filter(n=>n.chain===G.state.activeChain).find(n=>n.explorerId===e||n.info?.rdns===t)},syncIfAuthConnector(e){if(e.id!=="ID_AUTH")return;const t=e,r=Hm(de.state),n=Bn.getSnapshot().themeMode,i=Bn.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:r.metadata,sdkVersion:r.sdkVersion,sdkType:r.sdkType,projectId:r.projectId}),t.provider.syncTheme({themeMode:n,themeVariables:i,w3mThemeVariables:gu(i,n)})},getConnectorsByNamespace(e){const t=wt.allConnectors.filter(r=>r.chain===e);return ye.mergeMultiChainConnectors(t)},selectWalletConnector(e){const t=ye.getConnector(e.id,e.rdns),r=G.state.activeChain;d7e.handleMobileDeeplinkRedirect(t?.explorerId||e.id,r),t?ve.push("ConnectingExternal",{connector:t}):ve.push("ConnectingWalletConnect",{wallet:e})},getConnectors(e){return e?ye.getConnectorsByNamespace(e):ye.mergeMultiChainConnectors(wt.allConnectors)},setFilterByNamespace(e){wt.filterByNamespace=e,wt.connectors=ye.getConnectors(e),Ee.setFilterByNamespace(e)},setConnectorId(e,t){e&&(wt.activeConnectorIds={...wt.activeConnectorIds,[t]:e},Re.setConnectedConnectorId(t,e))},removeConnectorId(e){wt.activeConnectorIds={...wt.activeConnectorIds,[e]:void 0},Re.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return wt.activeConnectorIds[e]},isConnected(e){return e?!!wt.activeConnectorIds[e]:Object.values(wt.activeConnectorIds).some(t=>!!t)},resetConnectorIds(){wt.activeConnectorIds={...gee}}},ye=Yi(_7e),Xg={ACCOUNT_TYPES:{SMART_ACCOUNT:"smartAccount"}},Sl=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),Vr=nr({...Sl}),C7e={state:Vr,subscribeKey(e,t){return qn(Vr,e,t)},showLoading(e,t={}){this._showMessage({message:e,variant:"loading",...t})},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){const t=we.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){Vr.message=Sl.message,Vr.variant=Sl.variant,Vr.svg=Sl.svg,Vr.open=Sl.open,Vr.autoClose=Sl.autoClose},_showMessage({message:e,svg:t,variant:r="success",autoClose:n=Sl.autoClose}){Vr.open?(Vr.open=!1,setTimeout(()=>{Vr.message=e,Vr.variant=r,Vr.svg=t,Vr.open=!0,Vr.autoClose=n},150)):(Vr.message=e,Vr.variant=r,Vr.svg=t,Vr.open=!0,Vr.autoClose=n)}},Rr=C7e,tr=nr({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),A7e={state:tr,subscribe(e){return Nn(tr,()=>e(tr))},setLastNetworkInView(e){tr.lastNetworkInView=e},async fetchTransactions(e,t){if(!e)throw new Error("Transactions can't be fetched without an accountAddress");tr.loading=!0;try{const r=await Ve.fetchTransactions({account:e,cursor:tr.next,onramp:t,cache:t==="coinbase"?"no-cache":void 0,chainId:G.state.activeCaipNetwork?.caipNetworkId}),n=Hg.filterSpamTransactions(r.data),i=Hg.filterByConnectedChain(n),s=[...tr.transactions,...i];tr.loading=!1,t==="coinbase"?tr.coinbaseTransactions=Hg.groupTransactionsByYearAndMonth(tr.coinbaseTransactions,r.data):(tr.transactions=s,tr.transactionsByYear=Hg.groupTransactionsByYearAndMonth(tr.transactionsByYear,i)),tr.empty=s.length===0,tr.next=r.next?r.next:void 0}catch{const n=G.state.activeChain;ot.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:de.state.projectId,cursor:tr.next,isSmartAccount:Ne.state.preferredAccountTypes?.[n]===Xg.ACCOUNT_TYPES.SMART_ACCOUNT}}),Rr.showError("Failed to fetch transactions"),tr.loading=!1,tr.empty=!0,tr.next=void 0}},groupTransactionsByYearAndMonth(e={},t=[]){const r=e;return t.forEach(n=>{const i=new Date(n.metadata.minedAt).getFullYear(),s=new Date(n.metadata.minedAt).getMonth(),o=r[i]??{},c=(o[s]??[]).filter(u=>u.id!==n.id);r[i]={...o,[s]:[...c,n].sort((u,l)=>new Date(l.metadata.minedAt).getTime()-new Date(u.metadata.minedAt).getTime())}}),r},filterSpamTransactions(e){return e.filter(t=>!t.transfers.every(n=>n.nft_info?.flags.is_spam===!0))},filterByConnectedChain(e){const t=G.state.activeCaipNetwork?.caipNetworkId;return e.filter(n=>n.metadata.chain===t)},clearCursor(){tr.next=void 0},resetTransactions(){tr.transactions=[],tr.transactionsByYear={},tr.lastNetworkInView=void 0,tr.loading=!1,tr.empty=!1,tr.next=void 0}},Hg=Yi(A7e,"API_ERROR"),or=nr({connections:new Map,wcError:!1,buffering:!1,status:"disconnected"});let _l;const x7e={state:or,subscribeKey(e,t){return qn(or,e,t)},_getClient(){return or._client},setClient(e){or._client=_d(e)},async connectWalletConnect(){if(we.isTelegram()||we.isSafari()&&we.isIos()){if(_l){await _l,_l=void 0;return}if(!we.isPairingExpired(or?.wcPairingExpiry)){const e=or.wcUri;or.wcUri=e;return}_l=Ae._getClient()?.connectWalletConnect?.().catch(()=>{}),Ae.state.status="connecting",await _l,_l=void 0,or.wcPairingExpiry=void 0,Ae.state.status="connected"}else await Ae._getClient()?.connectWalletConnect?.()},async connectExternal(e,t,r=!0){await Ae._getClient()?.connectExternal?.(e),r&&G.setActiveNamespace(t)},async reconnectExternal(e){await Ae._getClient()?.reconnectExternal?.(e);const t=e.chain||G.state.activeChain;t&&ye.setConnectorId(e.id,t)},async setPreferredAccountType(e,t){Bt.setLoading(!0,G.state.activeChain);const r=ye.getAuthConnector();r&&(Ne.setPreferredAccountType(e,t),await r.provider.setPreferredAccount(e),Re.setPreferredAccountTypes(Ne.state.preferredAccountTypes??{[t]:e}),await Ae.reconnectExternal(r),Bt.setLoading(!1,G.state.activeChain),ot.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:G.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(e){return Ae._getClient()?.signMessage(e)},parseUnits(e,t){return Ae._getClient()?.parseUnits(e,t)},formatUnits(e,t){return Ae._getClient()?.formatUnits(e,t)},async sendTransaction(e){return Ae._getClient()?.sendTransaction(e)},async getCapabilities(e){return Ae._getClient()?.getCapabilities(e)},async grantPermissions(e){return Ae._getClient()?.grantPermissions(e)},async walletGetAssets(e){return Ae._getClient()?.walletGetAssets(e)??{}},async estimateGas(e){return Ae._getClient()?.estimateGas(e)},async writeContract(e){return Ae._getClient()?.writeContract(e)},async getEnsAddress(e){return Ae._getClient()?.getEnsAddress(e)},async getEnsAvatar(e){return Ae._getClient()?.getEnsAvatar(e)},checkInstalled(e){return Ae._getClient()?.checkInstalled?.(e)||!1},resetWcConnection(){or.wcUri=void 0,or.wcPairingExpiry=void 0,or.wcLinking=void 0,or.recentWallet=void 0,or.status="disconnected",Hg.resetTransactions(),Re.deleteWalletConnectDeepLink()},resetUri(){or.wcUri=void 0,or.wcPairingExpiry=void 0,_l=void 0},finalizeWcConnection(){const{wcLinking:e,recentWallet:t}=Ae.state;e&&Re.setWalletConnectDeepLink(e),t&&Re.setAppKitRecent(t),ot.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:e?"mobile":"qrcode",name:ve.state.data?.wallet?.name||"Unknown"}})},setWcBasic(e){or.wcBasic=e},setUri(e){or.wcUri=e,or.wcPairingExpiry=we.getPairingExpiry()},setWcLinking(e){or.wcLinking=e},setWcError(e){or.wcError=e,or.buffering=!1},setRecentWallet(e){or.recentWallet=e},setBuffering(e){or.buffering=e},setStatus(e){or.status=e},async disconnect(e){try{await Ae._getClient()?.disconnect(e)}catch(t){throw new fp("Failed to disconnect","INTERNAL_SDK_ERROR",t)}},setConnections(e,t){or.connections.set(t,e)},switchAccount({connection:e,address:t,namespace:r}){if(ye.state.activeConnectorIds[r]===e.connectorId){const s=G.state.activeCaipNetwork;if(s){const o=`${r}:${s.id}:${t}`;Ne.setCaipAddress(o,r)}else console.warn(`No current network found for namespace "${r}"`)}else{const s=ye.getConnector(e.connectorId);s?Ae.connectExternal(s,r):console.warn(`No connector found for namespace "${r}"`)}}},Ae=Yi(x7e),Jf=nr({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Eu={state:Jf,subscribe(e){return Nn(Jf,()=>e(Jf))},subscribeOpen(e){return qn(Jf,"open",e)},set(e){Object.assign(Jf,{...Jf,...e})}},mC={createBalance(e,t){const r={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:t,address:e.address==="native"?void 0:this.convertAddressToCAIP10Address(e.address,t),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance({hex:e,decimals:t}){return l1(BigInt(e),t)},convertAddressToCAIP10Address(e,t){return`${t}:${e}`},createCAIP2ChainId(e,t){return`${t}:${parseInt(e,16)}`},getChainIdHexFromCAIP2ChainId(e){const t=e.split(":");if(t.length<2||!t[1])return"0x0";const r=t[1],n=parseInt(r,10);return isNaN(n)?"0x0":`0x${n.toString(16)}`},isWalletGetAssetsResponse(e){return typeof e!="object"||e===null?!1:Object.values(e).every(t=>Array.isArray(t)&&t.every(r=>this.isValidAsset(r)))},isValidAsset(e){return typeof e=="object"&&e!==null&&typeof e.address=="string"&&typeof e.balance=="string"&&(e.type==="ERC20"||e.type==="NATIVE")&&typeof e.metadata=="object"&&e.metadata!==null&&typeof e.metadata.name=="string"&&typeof e.metadata.symbol=="string"&&typeof e.metadata.decimals=="number"&&typeof e.metadata.price=="number"&&typeof e.metadata.iconUrl=="string"}},fz={async getMyTokensWithBalance(e){const t=Ne.state.address,r=G.state.activeCaipNetwork;if(!t||!r)return[];if(r.chainNamespace==="eip155"){const i=await this.getEIP155Balances(t,r);if(i)return this.filterLowQualityTokens(i)}const n=await Ve.getBalance(t,r.caipNetworkId,e);return this.filterLowQualityTokens(n.balances)},async getEIP155Balances(e,t){try{const r=mC.getChainIdHexFromCAIP2ChainId(t.caipNetworkId);if(!(await Ae.getCapabilities(e))?.[r]?.assetDiscovery?.supported)return null;const i=await Ae.walletGetAssets({account:e,chainFilter:[r]});return mC.isWalletGetAssetsResponse(i)?(i[r]||[]).map(o=>mC.createBalance(o,t.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(e){return e.filter(t=>t.quantity.decimals!=="0")},mapBalancesToSwapTokens(e){return e?.map(t=>({...t,address:t?.address?t.address:G.getActiveNetworkTokenAddress(),decimals:parseInt(t.quantity.decimals,10),logoUri:t.iconUrl,eip2612:!1}))||[]}},Nt=nr({tokenBalances:[],loading:!1}),I7e={state:Nt,subscribe(e){return Nn(Nt,()=>e(Nt))},subscribeKey(e,t){return qn(Nt,e,t)},setToken(e){e&&(Nt.token=_d(e))},setTokenAmount(e){Nt.sendTokenAmount=e},setReceiverAddress(e){Nt.receiverAddress=e},setReceiverProfileImageUrl(e){Nt.receiverProfileImageUrl=e},setReceiverProfileName(e){Nt.receiverProfileName=e},setNetworkBalanceInUsd(e){Nt.networkBalanceInUSD=e},setLoading(e){Nt.loading=e},async sendToken(){try{switch(Pt.setLoading(!0),G.state.activeCaipNetwork?.chainNamespace){case"eip155":await Pt.sendEvmToken();return;case"solana":await Pt.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{Pt.setLoading(!1)}},async sendEvmToken(){const e=G.state.activeChain,t=Ne.state.preferredAccountTypes?.[e];if(!Pt.state.sendTokenAmount||!Pt.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!Pt.state.token)throw new Error("A token is required");Pt.state.token?.address?(ot.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===Xg.ACCOUNT_TYPES.SMART_ACCOUNT,token:Pt.state.token.address,amount:Pt.state.sendTokenAmount,network:G.state.activeCaipNetwork?.caipNetworkId||""}}),await Pt.sendERC20Token({receiverAddress:Pt.state.receiverAddress,tokenAddress:Pt.state.token.address,sendTokenAmount:Pt.state.sendTokenAmount,decimals:Pt.state.token.quantity.decimals})):(ot.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===Xg.ACCOUNT_TYPES.SMART_ACCOUNT,token:Pt.state.token.symbol||"",amount:Pt.state.sendTokenAmount,network:G.state.activeCaipNetwork?.caipNetworkId||""}}),await Pt.sendNativeToken({receiverAddress:Pt.state.receiverAddress,sendTokenAmount:Pt.state.sendTokenAmount,decimals:Pt.state.token.quantity.decimals}))},async fetchTokenBalance(e){Nt.loading=!0;const t=G.state.activeCaipNetwork?.caipNetworkId,r=G.state.activeCaipNetwork?.chainNamespace,n=G.state.activeCaipAddress,i=n?we.getPlainAddress(n):void 0;if(Nt.lastRetry&&!we.isAllowedRetry(Nt.lastRetry,30*$t.ONE_SEC_MS))return Nt.loading=!1,[];try{if(i&&t&&r){const s=await fz.getMyTokensWithBalance();return Nt.tokenBalances=s,Nt.lastRetry=void 0,s}}catch(s){Nt.lastRetry=Date.now(),e?.(s),Rr.showError("Token Balance Unavailable")}finally{Nt.loading=!1}return[]},fetchNetworkBalance(){if(Nt.tokenBalances.length===0)return;const e=fz.mapBalancesToSwapTokens(Nt.tokenBalances);if(!e)return;const t=e.find(r=>r.address===G.getActiveNetworkTokenAddress());t&&(Nt.networkBalanceInUSD=t?GSe.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){ve.pushTransactionStack({});const t=e.receiverAddress,r=Ne.state.address,n=Ae.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals));await Ae.sendTransaction({chainNamespace:"eip155",to:t,address:r,data:"0x",value:n??BigInt(0)}),ot.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Ne.state.preferredAccountTypes?.eip155===Xg.ACCOUNT_TYPES.SMART_ACCOUNT,token:Pt.state.token?.symbol||"",amount:e.sendTokenAmount,network:G.state.activeCaipNetwork?.caipNetworkId||""}}),Ae._getClient()?.updateBalance("eip155"),Pt.resetSend()},async sendERC20Token(e){ve.pushTransactionStack({onSuccess(){ve.replace("Account")}});const t=Ae.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals));if(Ne.state.address&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){const r=we.getPlainAddress(e.tokenAddress);await Ae.writeContract({fromAddress:Ne.state.address,tokenAddress:r,args:[e.receiverAddress,t??BigInt(0)],method:"transfer",abi:QSe.getERC20Abi(r),chainNamespace:"eip155"}),Pt.resetSend()}},async sendSolanaToken(){if(!Pt.state.sendTokenAmount||!Pt.state.receiverAddress)throw new Error("An amount and receiver address are required");ve.pushTransactionStack({onSuccess(){ve.replace("Account")}}),await Ae.sendTransaction({chainNamespace:"solana",to:Pt.state.receiverAddress,value:Pt.state.sendTokenAmount}),Ae._getClient()?.updateBalance("solana"),Pt.resetSend()},resetSend(){Nt.token=void 0,Nt.sendTokenAmount=void 0,Nt.receiverAddress=void 0,Nt.receiverProfileImageUrl=void 0,Nt.receiverProfileName=void 0,Nt.loading=!1,Nt.tokenBalances=[]}},Pt=Yi(I7e),bC={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},j6={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Se=nr({chains:n7e(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),P7e={state:Se,subscribe(e){return Nn(Se,()=>{e(Se)})},subscribeKey(e,t){return qn(Se,e,t)},subscribeChainProp(e,t,r){let n;return Nn(Se.chains,()=>{const i=r||Se.activeChain;if(i){const s=Se.chains.get(i)?.[e];n!==s&&(n=s,t(s))}})},initialize(e,t,r){const{chainId:n,namespace:i}=Re.getActiveNetworkProps(),s=t?.find(l=>l.id.toString()===n?.toString()),a=e.find(l=>l?.namespace===i)||e?.[0],c=e.map(l=>l.namespace).filter(l=>l!==void 0),u=de.state.enableEmbedded?new Set([...c]):new Set([...t?.map(l=>l.chainNamespace)??[]]);(e?.length===0||!a)&&(Se.noAdapters=!0),Se.noAdapters||(Se.activeChain=a?.namespace,Se.activeCaipNetwork=s,G.setChainNetworkData(a?.namespace,{caipNetwork:s}),Se.activeChain&&Eu.set({activeChain:a?.namespace})),u.forEach(l=>{const f=t?.filter(d=>d.chainNamespace===l);G.state.chains.set(l,{namespace:l,networkState:nr({...j6,caipNetwork:f?.[0]}),accountState:nr(bC),caipNetworks:f??[],...r}),G.setRequestedCaipNetworks(f??[],l)})},removeAdapter(e){if(Se.activeChain===e){const t=Array.from(Se.chains.entries()).find(([r])=>r!==e);if(t){const r=t[1]?.caipNetworks?.[0];r&&G.setActiveCaipNetwork(r)}}Se.chains.delete(e)},addAdapter(e,{networkControllerClient:t,connectionControllerClient:r},n){Se.chains.set(e.namespace,{namespace:e.namespace,networkState:{...j6,caipNetwork:n[0]},accountState:bC,caipNetworks:n,connectionControllerClient:r,networkControllerClient:t}),G.setRequestedCaipNetworks(n?.filter(i=>i.chainNamespace===e.namespace)??[],e.namespace)},addNetwork(e){const t=Se.chains.get(e.chainNamespace);if(t){const r=[...t.caipNetworks||[]];t.caipNetworks?.find(n=>n.id===e.id)||r.push(e),Se.chains.set(e.chainNamespace,{...t,caipNetworks:r}),G.setRequestedCaipNetworks(r,e.chainNamespace),ye.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){const r=Se.chains.get(e);if(r){const n=Se.activeCaipNetwork?.id===t,i=[...r.caipNetworks?.filter(s=>s.id!==t)||[]];n&&r?.caipNetworks?.[0]&&G.setActiveCaipNetwork(r.caipNetworks[0]),Se.chains.set(e,{...r,caipNetworks:i}),G.setRequestedCaipNetworks(i||[],e),i.length===0&&ye.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){const r=Se.chains.get(e);r&&(r.networkState={...r.networkState||j6,...t},Se.chains.set(e,r))},setChainAccountData(e,t,r=!0){if(!e)throw new Error("Chain is required to update chain account data");const n=Se.chains.get(e);if(n){const i={...n.accountState||bC,...t};Se.chains.set(e,{...n,accountState:i}),(Se.chains.size===1||Se.activeChain===e)&&(t.caipAddress&&(Se.activeCaipAddress=t.caipAddress),Ne.replaceState(i))}},setChainNetworkData(e,t){if(!e)return;const r=Se.chains.get(e);if(r){const n={...r.networkState||j6,...t};Se.chains.set(e,{...r,networkState:n})}},setAccountProp(e,t,r,n=!0){G.setChainAccountData(r,{[e]:t},n),e==="status"&&t==="disconnected"&&r&&ye.removeConnectorId(r)},setActiveNamespace(e){Se.activeChain=e;const t=e?Se.chains.get(e):void 0,r=t?.networkState?.caipNetwork;r?.id&&e&&(Se.activeCaipAddress=t?.accountState?.caipAddress,Se.activeCaipNetwork=r,G.setChainNetworkData(e,{caipNetwork:r}),Re.setActiveCaipNetworkId(r?.caipNetworkId),Eu.set({activeChain:e,selectedNetworkId:r?.caipNetworkId}))},setActiveCaipNetwork(e){if(!e)return;Se.activeChain!==e.chainNamespace&&G.setIsSwitchingNamespace(!0);const t=Se.chains.get(e.chainNamespace);Se.activeChain=e.chainNamespace,Se.activeCaipNetwork=e,G.setChainNetworkData(e.chainNamespace,{caipNetwork:e}),t?.accountState?.address?Se.activeCaipAddress=`${e.chainNamespace}:${e.id}:${t?.accountState?.address}`:Se.activeCaipAddress=void 0,G.setAccountProp("caipAddress",Se.activeCaipAddress,e.chainNamespace),t&&Ne.replaceState(t.accountState),Pt.resetSend(),Eu.set({activeChain:Se.activeChain,selectedNetworkId:Se.activeCaipNetwork?.caipNetworkId}),Re.setActiveCaipNetworkId(e.caipNetworkId),!G.checkIfSupportedNetwork(e.chainNamespace)&&de.state.enableNetworkSwitch&&!de.state.allowUnsupportedChain&&!Ae.state.wcBasic&&G.showUnsupportedChainUI()},addCaipNetwork(e){if(!e)return;const t=Se.chains.get(e.chainNamespace);t&&t?.caipNetworks?.push(e)},async switchActiveNamespace(e){if(!e)return;const t=e!==G.state.activeChain,r=G.getNetworkData(e)?.caipNetwork,n=G.getCaipNetworkByNamespace(e,r?.id);t&&n&&await G.switchActiveNetwork(n)},async switchActiveNetwork(e){const r=!G.state.chains.get(G.state.activeChain)?.caipNetworks?.some(i=>i.id===Se.activeCaipNetwork?.id),n=G.getNetworkControllerClient(e.chainNamespace);if(n){try{await n.switchCaipNetwork(e),r&&Bt.close()}catch{ve.goBack()}ot.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})}},getNetworkControllerClient(e){const t=e||Se.activeChain,r=Se.chains.get(t);if(!r)throw new Error("Chain adapter not found");if(!r.networkControllerClient)throw new Error("NetworkController client not set");return r.networkControllerClient},getConnectionControllerClient(e){const t=e||Se.activeChain;if(!t)throw new Error("Chain is required to get connection controller client");const r=Se.chains.get(t);if(!r?.connectionControllerClient)throw new Error("ConnectionController client not set");return r.connectionControllerClient},getAccountProp(e,t){let r=Se.activeChain;if(t&&(r=t),!r)return;const n=Se.chains.get(r)?.accountState;if(n)return n[e]},getNetworkProp(e,t){const r=Se.chains.get(t)?.networkState;if(r)return r[e]},getRequestedCaipNetworks(e){const t=Se.chains.get(e),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:n=[]}=t?.networkState||{};return we.sortRequestedNetworks(r,n)},getAllRequestedCaipNetworks(){const e=[];return Se.chains.forEach(t=>{const r=G.getRequestedCaipNetworks(t.namespace);e.push(...r)}),e},setRequestedCaipNetworks(e,t){G.setAdapterNetworkState(t,{requestedCaipNetworks:e});const n=G.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),i=Array.from(new Set(n));ye.filterByNamespaces(i)},getAllApprovedCaipNetworkIds(){const e=[];return Se.chains.forEach(t=>{const r=G.getApprovedCaipNetworkIds(t.namespace);e.push(...r)}),e},getActiveCaipNetwork(){return Se.activeCaipNetwork},getActiveCaipAddress(){return Se.activeCaipAddress},getApprovedCaipNetworkIds(e){return Se.chains.get(e)?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(e){const r=await G.getNetworkControllerClient()?.getApprovedCaipNetworksData();G.setAdapterNetworkState(e,{approvedCaipNetworkIds:r?.approvedCaipNetworkIds,supportsAllNetworks:r?.supportsAllNetworks})},checkIfSupportedNetwork(e,t){const r=t||Se.activeCaipNetwork,n=G.getRequestedCaipNetworks(e);return n.length?n?.some(i=>i.id===r?.id):!0},checkIfSupportedChainId(e){return Se.activeChain?G.getRequestedCaipNetworks(Se.activeChain)?.some(r=>r.id===e):!0},setSmartAccountEnabledNetworks(e,t){G.setAdapterNetworkState(t,{smartAccountEnabledNetworks:e})},checkIfSmartAccountEnabled(){const e=dee.caipNetworkIdToNumber(Se.activeCaipNetwork?.caipNetworkId),t=Se.activeChain;return!t||!e?!1:!!G.getNetworkProp("smartAccountEnabledNetworks",t)?.includes(Number(e))},getActiveNetworkTokenAddress(){const e=Se.activeCaipNetwork?.chainNamespace||"eip155",t=Se.activeCaipNetwork?.id||1,r=$t.NATIVE_TOKEN_ADDRESS[e];return`${e}:${t}:${r}`},showUnsupportedChainUI(){Bt.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const e=Se.activeCaipNetwork;return!!(e?.chainNamespace&&$t.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){G.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(e){const t=e;if(!t)throw new Error("Chain is required to set account prop");Se.activeCaipAddress=void 0,G.setChainAccountData(t,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),ye.removeConnectorId(t)},setIsSwitchingNamespace(e){Se.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){const e=[];let t;if(Se.chains.forEach(r=>{Le.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(n=>n===r.namespace)&&r.namespace&&e.push(r.namespace)}),e.length>0){const r=e[0];return t=r?Se.chains.get(r)?.caipNetworks?.[0]:void 0,t}},getAccountData(e){return e?G.state.chains.get(e)?.accountState:Ne.state},getNetworkData(e){const t=e||Se.activeChain;if(t)return G.state.chains.get(t)?.networkState},getCaipNetworkByNamespace(e,t){if(!e)return;const r=G.state.chains.get(e),n=r?.caipNetworks?.find(i=>i.id===t);return n||r?.networkState?.caipNetwork||r?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const e=ye.state.filterByNamespace;return(e?[Se.chains.get(e)]:Array.from(Se.chains.values())).flatMap(r=>r?.caipNetworks||[]).map(r=>r.caipNetworkId)},getCaipNetworks(e){return e?G.getRequestedCaipNetworks(e):G.getAllRequestedCaipNetworks()}},G=Yi(P7e),S7e={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},mee=we.getBlockchainApiUrl(),xi=nr({clientId:null,api:new gb({baseUrl:mee,clientId:null}),supportedChains:{http:[],ws:[]}}),Ve={state:xi,async get(e){const{st:t,sv:r}=Ve.getSdkProperties(),n=de.state.projectId,i={...e.params||{},st:t,sv:r,projectId:n};return xi.api.get({...e,params:i})},getSdkProperties(){const{sdkType:e,sdkVersion:t}=de.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{xi.supportedChains.http.length||await Ve.getSupportedNetworks()}catch{return!1}return xi.supportedChains.http.includes(e)},async getSupportedNetworks(){try{const e=await Ve.get({path:"v1/supported-chains"});return xi.supportedChains=e,e}catch{return xi.supportedChains}},async fetchIdentity({address:e,caipNetworkId:t}){if(!await Ve.isNetworkSupported(t))return{avatar:"",name:""};const n=Re.getIdentityFromCacheForAddress(e);if(n)return n;const i=await Ve.get({path:`/v1/identity/${e}`,params:{sender:G.state.activeCaipAddress?we.getPlainAddress(G.state.activeCaipAddress):void 0}});return Re.updateIdentityCache({address:e,identity:i,timestamp:Date.now()}),i},async fetchTransactions({account:e,cursor:t,onramp:r,signal:n,cache:i,chainId:s}){return await Ve.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?Ve.get({path:`/v1/account/${e}/history`,params:{cursor:t,onramp:r,chainId:s},signal:n,cache:i}):{data:[],next:void 0}},async fetchSwapQuote({amount:e,userAddress:t,from:r,to:n,gasPrice:i}){return await Ve.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?Ve.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:e,userAddress:t,from:r,to:n,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:e}){return await Ve.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?Ve.get({path:"/v1/convert/tokens",params:{chainId:e}}):{tokens:[]}},async fetchTokenPrice({addresses:e}){return await Ve.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?xi.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:e,projectId:de.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:e,userAddress:t}){return await Ve.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?Ve.get({path:"/v1/convert/allowance",params:{tokenAddress:e,userAddress:t},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:e}){const{st:t,sv:r}=Ve.getSdkProperties();if(!await Ve.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return Ve.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:e,st:t,sv:r}})},async generateSwapCalldata({amount:e,from:t,to:r,userAddress:n,disableEstimate:i}){if(!await Ve.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return xi.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:e,eip155:{slippage:$t.CONVERT_SLIPPAGE_TOLERANCE},projectId:de.state.projectId,from:t,to:r,userAddress:n,disableEstimate:i}})},async generateApproveCalldata({from:e,to:t,userAddress:r}){const{st:n,sv:i}=Ve.getSdkProperties();if(!await Ve.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Ve.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:e,to:t,st:n,sv:i}})},async getBalance(e,t,r){const{st:n,sv:i}=Ve.getSdkProperties();if(!await Ve.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId))return Rr.showError("Token Balance Unavailable"),{balances:[]};const o=`${t}:${e}`,a=Re.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Ve.get({path:`/v1/account/${e}/balance`,params:{currency:"usd",chainId:t,forceUpdate:r,st:n,sv:i}});return Re.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(e){return await Ve.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?Ve.get({path:`/v1/profile/account/${e}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:e}){return await Ve.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?Ve.get({path:`/v1/profile/reverse/${e}`,params:{sender:Ne.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(e){return await Ve.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?Ve.get({path:`/v1/profile/suggestions/${e}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:e,address:t,message:r,signature:n}){return await Ve.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?xi.api.post({path:"/v1/profile/account",body:{coin_type:e,address:t,message:r,signature:n},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:e,partnerUserId:t,defaultNetwork:r,purchaseAmount:n,paymentAmount:i}){return await Ve.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?(await xi.api.post({path:"/v1/generators/onrampurl",params:{projectId:de.state.projectId},body:{destinationWallets:e,defaultNetwork:r,partnerUserId:t,defaultExperience:"buy",presetCryptoAmount:n,presetFiatAmount:i}})).url:""},async getOnrampOptions(){if(!await Ve.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Ve.get({path:"/v1/onramp/options"})}catch{return S7e}},async getOnrampQuote({purchaseCurrency:e,paymentCurrency:t,amount:r,network:n}){try{return await Ve.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?await xi.api.post({path:"/v1/onramp/quote",params:{projectId:de.state.projectId},body:{purchaseCurrency:e,paymentCurrency:t,amount:r,network:n}}):null}catch{return{coinbaseFee:{amount:r,currency:t.id},networkFee:{amount:r,currency:t.id},paymentSubtotal:{amount:r,currency:t.id},paymentTotal:{amount:r,currency:t.id},purchaseAmount:{amount:r,currency:t.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(e){return await Ve.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?Ve.get({path:`/v1/sessions/${e}`}):[]},async revokeSmartSession(e,t,r){return await Ve.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?xi.api.post({path:`/v1/sessions/${e}/revoke`,params:{projectId:de.state.projectId},body:{pci:t,signature:r}}):{success:!1}},setClientId(e){xi.clientId=e,xi.api=new gb({baseUrl:mee,clientId:e})}},Ds=nr({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),T7e={state:Ds,replaceState(e){e&&Object.assign(Ds,_d(e))},subscribe(e){return G.subscribeChainProp("accountState",t=>{if(t)return e(t)})},subscribeKey(e,t,r){let n;return G.subscribeChainProp("accountState",i=>{if(i){const s=i[e];n!==s&&(n=s,t(s))}},r)},setStatus(e,t){G.setAccountProp("status",e,t)},getCaipAddress(e){return G.getAccountProp("caipAddress",e)},setCaipAddress(e,t){const r=e?we.getPlainAddress(e):void 0;t===G.state.activeChain&&(G.state.activeCaipAddress=e),G.setAccountProp("caipAddress",e,t),G.setAccountProp("address",r,t)},setBalance(e,t,r){G.setAccountProp("balance",e,r),G.setAccountProp("balanceSymbol",t,r)},setProfileName(e,t){G.setAccountProp("profileName",e,t)},setProfileImage(e,t){G.setAccountProp("profileImage",e,t)},setUser(e,t){G.setAccountProp("user",e,t)},setAddressExplorerUrl(e,t){G.setAccountProp("addressExplorerUrl",e,t)},setSmartAccountDeployed(e,t){G.setAccountProp("smartAccountDeployed",e,t)},setCurrentTab(e){G.setAccountProp("currentTab",e,G.state.activeChain)},setTokenBalance(e,t){e&&G.setAccountProp("tokenBalance",e,t)},setShouldUpdateToAddress(e,t){G.setAccountProp("shouldUpdateToAddress",e,t)},setAllAccounts(e,t){G.setAccountProp("allAccounts",e,t)},addAddressLabel(e,t,r){const n=G.getAccountProp("addressLabels",r)||new Map;n.set(e,t),G.setAccountProp("addressLabels",n,r)},removeAddressLabel(e,t){const r=G.getAccountProp("addressLabels",t)||new Map;r.delete(e),G.setAccountProp("addressLabels",r,t)},setConnectedWalletInfo(e,t){G.setAccountProp("connectedWalletInfo",e,t,!1)},setPreferredAccountType(e,t){G.setAccountProp("preferredAccountTypes",{...Ds.preferredAccountTypes,[t]:e},t)},setPreferredAccountTypes(e){Ds.preferredAccountTypes=e},setSocialProvider(e,t){e&&G.setAccountProp("socialProvider",e,t)},setSocialWindow(e,t){G.setAccountProp("socialWindow",e?_d(e):void 0,t)},setFarcasterUrl(e,t){G.setAccountProp("farcasterUrl",e,t)},async fetchTokenBalance(e){Ds.balanceLoading=!0;const t=G.state.activeCaipNetwork?.caipNetworkId,r=G.state.activeCaipNetwork?.chainNamespace,n=G.state.activeCaipAddress,i=n?we.getPlainAddress(n):void 0;if(Ds.lastRetry&&!we.isAllowedRetry(Ds.lastRetry,30*$t.ONE_SEC_MS))return Ds.balanceLoading=!1,[];try{if(i&&t&&r){const o=(await Ve.getBalance(i,t)).balances.filter(a=>a.quantity.decimals!=="0");return Ne.setTokenBalance(o,r),Ds.lastRetry=void 0,Ds.balanceLoading=!1,o}}catch(s){Ds.lastRetry=Date.now(),e?.(s),Rr.showError("Token Balance Unavailable")}finally{Ds.balanceLoading=!1}return[]},resetAccount(e){G.resetAccount(e)}},Ne=Yi(T7e),O7e={onSwitchNetwork({network:e,ignoreSwitchConfirmation:t=!1}){const r=G.state.activeCaipNetwork,n=ve.state.data;if(e.id===r?.id)return;const s=Ne.getCaipAddress(G.state.activeChain),o=e.chainNamespace!==G.state.activeChain,a=Ne.getCaipAddress(e.chainNamespace),u=ye.getConnectorId(G.state.activeChain)===Le.CONNECTOR_ID.AUTH,l=Le.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(f=>f===e.chainNamespace);t||u&&l?ve.push("SwitchNetwork",{...n,network:e}):s&&o&&!a?ve.push("SwitchActiveChain",{switchToChain:e.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:e}):ve.push("SwitchNetwork",{...n,network:e})}},Ii=nr({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),j7e={state:Ii,subscribe(e){return Nn(Ii,()=>e(Ii))},subscribeKey(e,t){return qn(Ii,e,t)},async open(e){const t=Ne.state.status==="connected",r=e?.namespace,n=G.state.activeChain,i=r&&r!==n,s=G.getAccountData(e?.namespace)?.caipAddress;if(Ae.state.wcBasic?Ee.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Ee.prefetch({fetchConnectorImages:!t,fetchFeaturedWallets:!t,fetchRecommendedWallets:!t}),ye.setFilterByNamespace(e?.namespace),Bt.setLoading(!0,r),r&&i){const o=G.getNetworkData(r)?.caipNetwork||G.getRequestedCaipNetworks(r)[0];o&&O7e.onSwitchNetwork({network:o,ignoreSwitchConfirmation:!0})}else{const o=G.state.noAdapters;de.state.manualWCControl||o&&!s?we.isMobile()?ve.reset("AllWallets"):ve.reset("ConnectingWalletConnectBasic"):e?.view?ve.reset(e.view,e.data):s?ve.reset("Account"):ve.reset("Connect")}Ii.open=!0,Eu.set({open:!0}),ot.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!s}})},close(){const e=de.state.enableEmbedded,t=!!G.state.activeCaipAddress;Ii.open&&ot.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),Ii.open=!1,ve.reset("Connect"),Bt.clearLoading(),e?t?ve.replace("Account"):ve.push("Connect"):Eu.set({open:!1}),Ae.resetUri()},setLoading(e,t){t&&Ii.loadingNamespaceMap.set(t,e),Ii.loading=e,Eu.set({loading:e})},clearLoading(){Ii.loadingNamespaceMap.clear(),Ii.loading=!1},shake(){Ii.shake||(Ii.shake=!0,setTimeout(()=>{Ii.shake=!1},500))}},Bt=Yi(j7e),em={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},$I={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},B7e={providers:pee,selectedProvider:null,error:null,purchaseCurrency:em,paymentCurrency:$I,purchaseCurrencies:[em],paymentCurrencies:[],quotesLoading:!1},gt=nr(B7e),R7e={state:gt,subscribe(e){return Nn(gt,()=>e(gt))},subscribeKey(e,t){return qn(gt,e,t)},setSelectedProvider(e){if(e&&e.name==="meld"){const t=G.state.activeChain===Le.CHAIN.SOLANA?"SOL":"USDC",r=Ne.state.address??"",n=new URL(e.url);n.searchParams.append("publicKey",i7e),n.searchParams.append("destinationCurrencyCode",t),n.searchParams.append("walletAddress",r),n.searchParams.append("externalCustomerId",de.state.projectId),gt.selectedProvider={...e,url:n.toString()}}else gt.selectedProvider=e},setOnrampProviders(e){if(Array.isArray(e)&&e.every(t=>typeof t=="string")){const t=e,r=pee.filter(n=>t.includes(n.name));gt.providers=r}else gt.providers=[]},setPurchaseCurrency(e){gt.purchaseCurrency=e},setPaymentCurrency(e){gt.paymentCurrency=e},setPurchaseAmount(e){MI.state.purchaseAmount=e},setPaymentAmount(e){MI.state.paymentAmount=e},async getAvailableCurrencies(){const e=await Ve.getOnrampOptions();gt.purchaseCurrencies=e.purchaseCurrencies,gt.paymentCurrencies=e.paymentCurrencies,gt.paymentCurrency=e.paymentCurrencies[0]||$I,gt.purchaseCurrency=e.purchaseCurrencies[0]||em,await Ee.fetchCurrencyImages(e.paymentCurrencies.map(t=>t.id)),await Ee.fetchTokenImages(e.purchaseCurrencies.map(t=>t.symbol))},async getQuote(){gt.quotesLoading=!0;try{const e=await Ve.getOnrampQuote({purchaseCurrency:gt.purchaseCurrency,paymentCurrency:gt.paymentCurrency,amount:gt.paymentAmount?.toString()||"0",network:gt.purchaseCurrency?.symbol});return gt.quotesLoading=!1,gt.purchaseAmount=Number(e?.purchaseAmount.amount),e}catch(e){return gt.error=e.message,gt.quotesLoading=!1,null}finally{gt.quotesLoading=!1}},resetState(){gt.selectedProvider=null,gt.error=null,gt.purchaseCurrency=em,gt.paymentCurrency=$I,gt.purchaseCurrencies=[em],gt.paymentCurrencies=[],gt.paymentAmount=void 0,gt.purchaseAmount=void 0,gt.quotesLoading=!1}},MI=Yi(R7e),uo=nr({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),k7e={state:uo,subscribe(e){return Nn(uo,()=>e(uo))},subscribeKey(e,t){return qn(uo,e,t)},showTooltip({message:e,triggerRect:t,variant:r}){uo.open=!0,uo.message=e,uo.triggerRect=t,uo.variant=r},hide(){uo.open=!1,uo.message="",uo.triggerRect={width:0,height:0,top:0,left:0}}},vh=Yi(k7e),hz=0x80000000,N7e={convertEVMChainIdToCoinType(e){if(e>=hz)throw new Error("Invalid chainId");return(hz|e)>>>0}},$s=nr({suggestions:[],loading:!1}),D7e={state:$s,subscribe(e){return Nn($s,()=>e($s))},subscribeKey(e,t){return qn($s,e,t)},async resolveName(e){try{return await Ve.lookupEnsName(e)}catch(t){const r=t;throw new Error(r?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(e){try{return await Ve.lookupEnsName(e),!0}catch{return!1}},async getSuggestions(e){try{$s.loading=!0,$s.suggestions=[];const t=await Ve.getEnsNameSuggestions(e);return $s.suggestions=t.suggestions.map(r=>({...r,name:r.name}))||[],$s.suggestions}catch(t){const r=tm.parseEnsApiError(t,"Error fetching name suggestions");throw new Error(r)}finally{$s.loading=!1}},async getNamesForAddress(e){try{if(!G.state.activeCaipNetwork)return[];const r=Re.getEnsFromCacheForAddress(e);if(r)return r;const n=await Ve.reverseLookupEnsName({address:e});return Re.updateEnsCache({address:e,ens:n,timestamp:Date.now()}),n}catch(t){const r=tm.parseEnsApiError(t,"Error fetching names for address");throw new Error(r)}},async registerName(e){const t=G.state.activeCaipNetwork;if(!t)throw new Error("Network not found");const r=Ne.state.address,n=ye.getAuthConnector();if(!r||!n)throw new Error("Address or auth connector not found");$s.loading=!0;try{const i=JSON.stringify({name:e,attributes:{},timestamp:Math.floor(Date.now()/1e3)});ve.pushTransactionStack({onCancel(){ve.replace("RegisterAccountName")}});const s=await Ae.signMessage(i);$s.loading=!1;const o=t.id;if(!o)throw new Error("Network not found");const a=N7e.convertEVMChainIdToCoinType(Number(o));await Ve.registerEnsName({coinType:a,address:r,signature:s,message:i}),Ne.setProfileName(e,t.chainNamespace),ve.replace("RegisterAccountNameSuccess")}catch(i){const s=tm.parseEnsApiError(i,`Error registering name ${e}`);throw ve.replace("RegisterAccountName"),new Error(s)}finally{$s.loading=!1}},validateName(e){return/^[a-zA-Z0-9-]{4,}$/u.test(e)},parseEnsApiError(e,t){return e?.reasons?.[0]?.description||t}},tm=Yi(D7e),rd={getSIWX(){return de.state.siwx},async initializeIfEnabled(){const e=de.state.siwx,t=G.getActiveCaipAddress();if(!(e&&t))return;const[r,n,i]=t.split(":");if(G.checkIfSupportedNetwork(r))try{if((await e.getSessions(`${r}:${n}`,i)).length)return;await Bt.open({view:"SIWXSignMessage"})}catch(s){console.error("SIWXUtil:initializeIfEnabled",s),ot.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await Ae._getClient()?.disconnect().catch(console.error),ve.reset("Connect"),Rr.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const e=de.state.siwx,t=we.getPlainAddress(G.getActiveCaipAddress()),r=G.getActiveCaipNetwork(),n=Ae._getClient();if(!e)throw new Error("SIWX is not enabled");if(!t)throw new Error("No ActiveCaipAddress found");if(!r)throw new Error("No ActiveCaipNetwork or client found");if(!n)throw new Error("No ConnectionController client found");try{const i=await e.createMessage({chainId:r.caipNetworkId,accountAddress:t}),s=i.toString();ye.getConnectorId(r.chainNamespace)===Le.CONNECTOR_ID.AUTH&&ve.pushTransactionStack({});const a=await n.signMessage(s);await e.addSession({data:i,message:s,signature:a}),Bt.close(),ot.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!Bt.state.open||ve.state.view==="ApproveTransaction")&&await Bt.open({view:"SIWXSignMessage"}),s.isSmartAccount?Rr.showError("This application might not support Smart Accounts"):Rr.showError("Signature declined"),ot.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){try{this.getSIWX()?.getRequired?.()?await Ae.disconnect():Bt.close(),ve.reset("Connect"),ot.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getSessions(){const e=de.state.siwx,t=we.getPlainAddress(G.getActiveCaipAddress()),r=G.getActiveCaipNetwork();return e&&t&&r?e.getSessions(r.caipNetworkId,t):[]},async isSIWXCloseDisabled(){const e=this.getSIWX();if(e){const t=ve.state.view==="ApproveTransaction",r=ve.state.view==="SIWXSignMessage";if(t||r)return e.getRequired?.()&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:e,chains:t,methods:r}){const n=rd.getSIWX(),i=new Set(t.map(a=>a.split(":")[0]));if(!n||i.size!==1||!i.has("eip155"))return!1;const s=await n.createMessage({chainId:G.getActiveCaipNetwork()?.caipNetworkId||"",accountAddress:""}),o=await e.authenticate({nonce:s.nonce,domain:s.domain,uri:s.uri,exp:s.expirationTime,iat:s.issuedAt,nbf:s.notBefore,requestId:s.requestId,version:s.version,resources:s.resources,statement:s.statement,chainId:s.chainId,methods:r,chains:[s.chainId,...t.filter(a=>a!==s.chainId)]});if(Rr.showLoading("Authenticating...",{autoClose:!1}),Ne.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:o.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(i)[0]),o?.auths?.length){const a=o.auths.map(c=>{const u=e.client.formatAuthMessage({request:c.p,iss:c.p.iss});return{data:{...c.p,accountAddress:c.p.iss.split(":").slice(-1).join(""),chainId:c.p.iss.split(":").slice(2,4).join(":"),uri:c.p.aud,version:c.p.version||s.version,expirationTime:c.p.exp,issuedAt:c.p.iat,notBefore:c.p.nbf},message:u,signature:c.s.s,cacao:c}});try{await n.setSessions(a),ot.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:rd.getSIWXEventProperties()})}catch(c){throw console.error("SIWX:universalProviderAuth - failed to set sessions",c),ot.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:rd.getSIWXEventProperties()}),await e.disconnect().catch(console.error),c}finally{Rr.hide()}}return!0},getSIWXEventProperties(){const e=G.state.activeChain;return{network:G.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:Ne.state.preferredAccountTypes?.[e]===Xg.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const e=this.getSIWX();e&&await e.setSessions([])}},bee={isUnsupportedChainView(){return ve.state.view==="UnsupportedChain"||ve.state.view==="SwitchNetwork"&&ve.state.history.includes("UnsupportedChain")},async safeClose(){if(this.isUnsupportedChainView()){Bt.shake();return}if(await rd.isSIWXCloseDisabled()){Bt.shake();return}Bt.close()}};var $7e=Object.defineProperty,M7e=(e,t,r)=>t in e?$7e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,pz=(e,t,r)=>M7e(e,typeof t!="symbol"?t+"":t,r);let L7e=class extends Ss{constructor(t){super(),this.opts=t,pz(this,"protocol","wc"),pz(this,"version",2)}};var U7e=Object.defineProperty,q7e=(e,t,r)=>t in e?U7e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,z7e=(e,t,r)=>q7e(e,t+"",r);let F7e=class extends Ss{constructor(t,r){super(),this.core=t,this.logger=r,z7e(this,"records",new Map)}},H7e=class{constructor(t,r){this.logger=t,this.core=r}},W7e=class extends Ss{constructor(t,r){super(),this.relayer=t,this.logger=r}},V7e=class extends Ss{constructor(t){super()}},G7e=class{constructor(t,r,n,i){this.core=t,this.logger=r,this.name=n}},K7e=class extends Ss{constructor(t,r){super(),this.relayer=t,this.logger=r}},Z7e=class extends Ss{constructor(t,r){super(),this.core=t,this.logger=r}},Y7e=class{constructor(t,r,n){this.core=t,this.logger=r,this.store=n}},Q7e=class{constructor(t,r){this.projectId=t,this.logger=r}},J7e=class{constructor(t,r,n){this.core=t,this.logger=r,this.telemetryEnabled=n}};var X7e=Object.defineProperty,eTe=(e,t,r)=>t in e?X7e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gz=(e,t,r)=>eTe(e,typeof t!="symbol"?t+"":t,r);let tTe=class{constructor(t){this.opts=t,gz(this,"protocol","wc"),gz(this,"version",2)}},rTe=class{constructor(t){this.client=t}};function Wm(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function mz(e){return Wm(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const yee="2.23.2";let yC={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${yee}`};class Cd extends Error{constructor(t,r={}){const n=r.cause instanceof Cd?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof Cd&&r.cause.docsPath||r.docsPath,s=yC.getDocsUrl?.({...r,docsPath:i}),o=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...yC.version?[`Version: ${yC.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=t,this.version=yee}walk(t){return wee(this,t)}}function wee(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?wee(e.cause,t):t?null:e}class vee extends Cd{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${t}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}function Xp(e,{dir:t,size:r=32}={}){return typeof e=="string"?nTe(e,{dir:t,size:r}):iTe(e,{dir:t,size:r})}function nTe(e,{dir:t,size:r=32}={}){if(r===null)return e;const n=e.replace("0x","");if(n.length>r*2)throw new vee({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[t==="right"?"padEnd":"padStart"](r*2,"0")}`}function iTe(e,{dir:t,size:r=32}={}){if(r===null)return e;if(e.length>r)throw new vee({size:e.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=t==="right";n[s?i:r-i-1]=e[s?i:e.length-i-1]}return n}class sTe extends Cd{constructor({max:t,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${t?`(${r} to ${t})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class oTe extends Cd{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function e0(e,{size:t}){if(mz(e)>t)throw new oTe({givenSize:mz(e),maxSize:t})}function LI(e,t={}){const{signed:r}=t;t.size&&e0(e,{size:t.size});const n=BigInt(e);if(!r)return n;const i=(e.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function aTe(e,t={}){return Number(LI(e,t))}const cTe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function UI(e,t={}){return typeof e=="number"||typeof e=="bigint"?_ee(e,t):typeof e=="string"?dTe(e,t):typeof e=="boolean"?uTe(e,t):Eee(e,t)}function uTe(e,t={}){const r=`0x${Number(e)}`;return typeof t.size=="number"?(e0(r,{size:t.size}),Xp(r,{size:t.size})):r}function Eee(e,t={}){let r="";for(let i=0;i<e.length;i++)r+=cTe[e[i]];const n=`0x${r}`;return typeof t.size=="number"?(e0(n,{size:t.size}),Xp(n,{dir:"right",size:t.size})):n}function _ee(e,t={}){const{signed:r,size:n}=t,i=BigInt(e);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof e=="bigint"?"n":"";throw new sTe({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${e}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?Xp(a,{size:n}):a}const lTe=new TextEncoder;function dTe(e,t={}){const r=lTe.encode(e);return Eee(r,t)}const fTe=new TextEncoder;function hTe(e,t={}){return typeof e=="number"||typeof e=="bigint"?gTe(e,t):typeof e=="boolean"?pTe(e,t):Wm(e)?Cee(e,t):Aee(e,t)}function pTe(e,t={}){const r=new Uint8Array(1);return r[0]=Number(e),typeof t.size=="number"?(e0(r,{size:t.size}),Xp(r,{size:t.size})):r}const Ya={zero:48,nine:57,A:65,F:70,a:97,f:102};function bz(e){if(e>=Ya.zero&&e<=Ya.nine)return e-Ya.zero;if(e>=Ya.A&&e<=Ya.F)return e-(Ya.A-10);if(e>=Ya.a&&e<=Ya.f)return e-(Ya.a-10)}function Cee(e,t={}){let r=e;t.size&&(e0(r,{size:t.size}),r=Xp(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=bz(n.charCodeAt(a++)),u=bz(n.charCodeAt(a++));if(c===void 0||u===void 0)throw new Cd(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=c*16+u}return s}function gTe(e,t){const r=_ee(e,t);return Cee(r)}function Aee(e,t={}){const r=fTe.encode(e);return typeof t.size=="number"?(e0(r,{size:t.size}),Xp(r,{dir:"right",size:t.size})):r}function t3(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function mTe(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function mb(e,...t){if(!mTe(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function bTe(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t3(e.outputLen),t3(e.blockLen)}function hp(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function xee(e,t){mb(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const B6=BigInt(2**32-1),yz=BigInt(32);function yTe(e,t=!1){return t?{h:Number(e&B6),l:Number(e>>yz&B6)}:{h:Number(e>>yz&B6)|0,l:Number(e&B6)|0}}function wTe(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=yTe(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}const vTe=(e,t,r)=>e<<r|t>>>32-r,ETe=(e,t,r)=>t<<r|e>>>32-r,_Te=(e,t,r)=>t<<r-32|e>>>64-r,CTe=(e,t,r)=>e<<r-32|t>>>64-r,Xf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function ATe(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function wC(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Go(e,t){return e<<32-t|e>>>t}const wz=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68;function xTe(e){return e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255}function vz(e){for(let t=0;t<e.length;t++)e[t]=xTe(e[t])}function ITe(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function c8(e){return typeof e=="string"&&(e=ITe(e)),mb(e),e}function PTe(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];mb(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}class O7{clone(){return this._cloneInto()}}function Iee(e){const t=n=>e().update(c8(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function STe(e=32){if(Xf&&typeof Xf.getRandomValues=="function")return Xf.getRandomValues(new Uint8Array(e));if(Xf&&typeof Xf.randomBytes=="function")return Xf.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const Pee=[],See=[],Tee=[],TTe=BigInt(0),Tg=BigInt(1),OTe=BigInt(2),jTe=BigInt(7),BTe=BigInt(256),RTe=BigInt(113);for(let e=0,t=Tg,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],Pee.push(2*(5*n+r)),See.push((e+1)*(e+2)/2%64);let i=TTe;for(let s=0;s<7;s++)t=(t<<Tg^(t>>jTe)*RTe)%BTe,t&OTe&&(i^=Tg<<(Tg<<BigInt(s))-Tg);Tee.push(i)}const[kTe,NTe]=wTe(Tee,!0),Ez=(e,t,r)=>r>32?_Te(e,t,r):vTe(e,t,r),_z=(e,t,r)=>r>32?CTe(e,t,r):ETe(e,t,r);function DTe(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let o=0;o<10;o++)r[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],f=Ez(u,l,1)^r[a],d=_z(u,l,1)^r[a+1];for(let h=0;h<50;h+=10)e[o+h]^=f,e[o+h+1]^=d}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=See[o],c=Ez(i,s,a),u=_z(i,s,a),l=Pee[o];i=e[l],s=e[l+1],e[l]=c,e[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=kTe[n],e[1]^=NTe[n]}r.fill(0)}class j7 extends O7{constructor(t,r,n,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,t3(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ATe(this.state)}keccak(){wz||vz(this.state32),DTe(this.state32,this.rounds),wz||vz(this.state32),this.posOut=0,this.pos=0}update(t){hp(this);const{blockLen:r,state:n}=this;t=c8(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=t[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){hp(this,!1),mb(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=t.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);t.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return t3(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(xee(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new j7(r,n,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}const $Te=(e,t,r)=>Iee(()=>new j7(t,e,r)),MTe=$Te(1,136,256/8);function Oee(e,t){const r=t||"hex",n=MTe(Wm(e,{strict:!1})?hTe(e):e);return r==="bytes"?n:UI(n)}class LTe extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const r=super.get(t);return super.has(t)&&r!==void 0&&(this.delete(t),super.set(t,r)),r}set(t,r){if(super.set(t,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const vC=new LTe(8192);function UTe(e,t){if(vC.has(`${e}.${t}`))return vC.get(`${e}.${t}`);const r=e.substring(2).toLowerCase(),n=Oee(Aee(r),"bytes"),i=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return vC.set(`${e}.${t}`,s),s}function qTe(e){const t=Oee(`0x${e.substring(4)}`).substring(26);return UTe(`0x${t}`)}async function zTe({hash:e,signature:t}){const r=Wm(e)?e:UI(e),{secp256k1:n}=await re(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>jOe);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:l,v:f,yParity:d}=t,h=Number(d??f),g=Cz(h);return new n.Signature(LI(u),LI(l)).addRecoveryBit(g)}const o=Wm(t)?t:UI(t),a=aTe(`0x${o.slice(130)}`),c=Cz(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function Cz(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function FTe({hash:e,signature:t}){return qTe(await zTe({hash:e,signature:t}))}function HTe(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(0xffffffff),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}function WTe(e,t,r){return e&t^~e&r}function VTe(e,t,r){return e&t^e&r^t&r}class GTe extends O7{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=wC(this.buffer)}update(t){hp(this);const{view:r,buffer:n,blockLen:i}=this;t=c8(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=wC(t);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){hp(this),xee(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;HTe(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=wC(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%r&&t.buffer.set(n),t}}const KTe=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),nu=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),iu=new Uint32Array(64);class ZTe extends GTe{constructor(){super(64,32,8,!1),this.A=nu[0]|0,this.B=nu[1]|0,this.C=nu[2]|0,this.D=nu[3]|0,this.E=nu[4]|0,this.F=nu[5]|0,this.G=nu[6]|0,this.H=nu[7]|0}get(){const{A:t,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[t,r,n,i,s,o,a,c]}set(t,r,n,i,s,o,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,r){for(let f=0;f<16;f++,r+=4)iu[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){const d=iu[f-15],h=iu[f-2],g=Go(d,7)^Go(d,18)^d>>>3,p=Go(h,17)^Go(h,19)^h>>>10;iu[f]=p+iu[f-7]+g+iu[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let f=0;f<64;f++){const d=Go(a,6)^Go(a,11)^Go(a,25),h=l+d+WTe(a,c,u)+KTe[f]+iu[f]|0,p=(Go(n,2)^Go(n,13)^Go(n,22))+VTe(n,i,s)|0;l=u,u=c,c=a,a=o+h|0,o=s,s=i,i=n,n=h+p|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,s,o,a,c,u,l)}roundClean(){iu.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const YTe=Iee(()=>new ZTe);const u8=BigInt(0),l8=BigInt(1),QTe=BigInt(2);function Ad(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function bb(e){if(!Ad(e))throw new Error("Uint8Array expected")}function pp(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const JTe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function gp(e){bb(e);let t="";for(let r=0;r<e.length;r++)t+=JTe[e[r]];return t}function Oh(e){const t=e.toString(16);return t.length&1?"0"+t:t}function B7(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?u8:BigInt("0x"+e)}const Qa={_0:48,_9:57,A:65,F:70,a:97,f:102};function Az(e){if(e>=Qa._0&&e<=Qa._9)return e-Qa._0;if(e>=Qa.A&&e<=Qa.F)return e-(Qa.A-10);if(e>=Qa.a&&e<=Qa.f)return e-(Qa.a-10)}function mp(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=Az(e.charCodeAt(s)),a=Az(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function nd(e){return B7(gp(e))}function R7(e){return bb(e),B7(gp(Uint8Array.from(e).reverse()))}function bp(e,t){return mp(e.toString(16).padStart(t*2,"0"))}function k7(e,t){return bp(e,t).reverse()}function XTe(e){return mp(Oh(e))}function yo(e,t,r){let n;if(typeof t=="string")try{n=mp(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(Ad(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}function Vm(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];bb(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}function eOe(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function tOe(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const EC=e=>typeof e=="bigint"&&u8<=e;function d8(e,t,r){return EC(e)&&EC(t)&&EC(r)&&t<=e&&e<r}function id(e,t,r,n){if(!d8(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function jee(e){let t;for(t=0;e>u8;e>>=l8,t+=1);return t}function rOe(e,t){return e>>BigInt(t)&l8}function nOe(e,t,r){return e|(r?l8:u8)<<BigInt(t)}const N7=e=>(QTe<<BigInt(e-1))-l8,_C=e=>new Uint8Array(e),xz=e=>Uint8Array.from(e);function Bee(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=_C(e),i=_C(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...f)=>r(i,n,...f),c=(f=_C())=>{i=a(xz([0]),f),n=a(),f.length!==0&&(i=a(xz([1]),f),n=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const d=[];for(;f<t;){n=a();const h=n.slice();d.push(h),f+=n.length}return Vm(...d)};return(f,d)=>{o(),c(f);let h;for(;!(h=d(u()));)c();return o(),h}}const iOe={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Ad(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function yb(e,t,r={}){const n=(i,s,o)=>{const a=iOe[s];if(typeof a!="function")throw new Error("invalid validator function");const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(t))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return e}const sOe=()=>{throw new Error("not implemented")};function qI(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(i!==void 0)return i;const s=e(r,...n);return t.set(r,s),s}}const oOe=Object.freeze(Object.defineProperty({__proto__:null,aInRange:id,abool:pp,abytes:bb,bitGet:rOe,bitLen:jee,bitMask:N7,bitSet:nOe,bytesToHex:gp,bytesToNumberBE:nd,bytesToNumberLE:R7,concatBytes:Vm,createHmacDrbg:Bee,ensureBytes:yo,equalBytes:eOe,hexToBytes:mp,hexToNumber:B7,inRange:d8,isBytes:Ad,memoized:qI,notImplemented:sOe,numberToBytesBE:bp,numberToBytesLE:k7,numberToHexUnpadded:Oh,numberToVarBytesBE:XTe,utf8ToBytes:tOe,validateObject:yb},Symbol.toStringTag,{value:"Module"}));class Ree extends O7{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,bTe(t);const n=c8(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?t.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return hp(this),this.iHash.update(t),this}digestInto(t){hp(this),mb(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const kee=(e,t,r)=>new Ree(e,t).update(r).digest();kee.create=(e,t)=>new Ree(e,t);const vn=BigInt(0),jr=BigInt(1),Nl=BigInt(2),aOe=BigInt(3),zI=BigInt(4),Iz=BigInt(5),Pz=BigInt(8);function Di(e,t){const r=e%t;return r>=vn?r:t+r}function cOe(e,t,r){if(t<vn)throw new Error("invalid exponent, negatives unsupported");if(r<=vn)throw new Error("invalid modulus");if(r===jr)return vn;let n=jr;for(;t>vn;)t&jr&&(n=n*e%r),e=e*e%r,t>>=jr;return n}function Ms(e,t,r){let n=e;for(;t-- >vn;)n*=n,n%=r;return n}function FI(e,t){if(e===vn)throw new Error("invert: expected non-zero number");if(t<=vn)throw new Error("invert: expected positive modulus, got "+t);let r=Di(e,t),n=t,i=vn,s=jr;for(;r!==vn;){const a=n/r,c=n%r,u=i-s*a;n=r,r=c,i=s,s=u}if(n!==jr)throw new Error("invert: does not exist");return Di(i,t)}function uOe(e){const t=(e-jr)/Nl;let r,n,i;for(r=e-jr,n=0;r%Nl===vn;r/=Nl,n++);for(i=Nl;i<e&&cOe(i,t,e)!==e-jr;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(e+jr)/zI;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const s=(r+jr)/Nl;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=n,l=a.pow(a.mul(a.ONE,i),r),f=a.pow(c,s),d=a.pow(c,r);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let h=1;for(let p=a.sqr(d);h<u&&!a.eql(p,a.ONE);h++)p=a.sqr(p);const g=a.pow(l,jr<<BigInt(u-h-1));l=a.sqr(g),f=a.mul(f,g),d=a.mul(d,l),u=h}return f}}function lOe(e){if(e%zI===aOe){const t=(e+jr)/zI;return function(n,i){const s=n.pow(i,t);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%Pz===Iz){const t=(e-Iz)/Pz;return function(n,i){const s=n.mul(i,Nl),o=n.pow(s,t),a=n.mul(i,o),c=n.mul(n.mul(a,Nl),o),u=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),i))throw new Error("Cannot find square root");return u}}return uOe(e)}const dOe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function fOe(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=dOe.reduce((n,i)=>(n[i]="function",n),t);return yb(e,r)}function hOe(e,t,r){if(r<vn)throw new Error("invalid exponent, negatives unsupported");if(r===vn)return e.ONE;if(r===jr)return t;let n=e.ONE,i=t;for(;r>vn;)r&jr&&(n=e.mul(n,i)),i=e.sqr(i),r>>=jr;return n}function pOe(e,t){const r=new Array(t.length),n=t.reduce((s,o,a)=>e.is0(o)?s:(r[a]=s,e.mul(s,o)),e.ONE),i=e.inv(n);return t.reduceRight((s,o,a)=>e.is0(o)?s:(r[a]=e.mul(s,r[a]),e.mul(s,o)),i),r}function Nee(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Dee(e,t,r=!1,n={}){if(e<=vn)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=Nee(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:r,BITS:i,BYTES:s,MASK:N7(i),ZERO:vn,ONE:jr,create:c=>Di(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return vn<=c&&c<e},is0:c=>c===vn,isOdd:c=>(c&jr)===jr,neg:c=>Di(-c,e),eql:(c,u)=>c===u,sqr:c=>Di(c*c,e),add:(c,u)=>Di(c+u,e),sub:(c,u)=>Di(c-u,e),mul:(c,u)=>Di(c*u,e),pow:(c,u)=>hOe(a,c,u),div:(c,u)=>Di(c*FI(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>FI(c,e),sqrt:n.sqrt||(c=>(o||(o=lOe(e)),o(a,c))),invertBatch:c=>pOe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>r?k7(c,s):bp(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?R7(c):nd(c)}});return Object.freeze(a)}function $ee(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Mee(e){const t=$ee(e);return t+Math.ceil(t/2)}function gOe(e,t,r=!1){const n=e.length,i=$ee(t),s=Mee(t);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?R7(e):nd(e),a=Di(o,t-jr)+jr;return r?k7(a,i):bp(a,i)}const Sz=BigInt(0),R6=BigInt(1);function CC(e,t){const r=t.negate();return e?r:t}function Lee(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function AC(e,t){Lee(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1);return{windows:r,windowSize:n}}function mOe(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function bOe(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const xC=new WeakMap,Uee=new WeakMap;function IC(e){return Uee.get(e)||1}function yOe(e,t){return{constTimeNegate:CC,hasPrecomputes(r){return IC(r)!==1},unsafeLadder(r,n,i=e.ZERO){let s=r;for(;n>Sz;)n&R6&&(i=i.add(s)),s=s.double(),n>>=R6;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=AC(n,t),o=[];let a=r,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let l=1;l<s;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=AC(r,t);let a=e.ZERO,c=e.BASE;const u=BigInt(2**r-1),l=2**r,f=BigInt(r);for(let d=0;d<s;d++){const h=d*o;let g=Number(i&u);i>>=f,g>o&&(g-=l,i+=R6);const p=h,b=h+Math.abs(g)-1,w=d%2!==0,y=g<0;g===0?c=c.add(CC(w,n[p])):a=a.add(CC(y,n[b]))}return{p:a,f:c}},wNAFUnsafe(r,n,i,s=e.ZERO){const{windows:o,windowSize:a}=AC(r,t),c=BigInt(2**r-1),u=2**r,l=BigInt(r);for(let f=0;f<o;f++){const d=f*a;if(i===Sz)break;let h=Number(i&c);if(i>>=l,h>a&&(h-=u,i+=R6),h===0)continue;let g=n[d+Math.abs(h)-1];h<0&&(g=g.negate()),s=s.add(g)}return s},getPrecomputes(r,n,i){let s=xC.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&xC.set(n,i(s))),s},wNAFCached(r,n,i){const s=IC(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=IC(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){Lee(n,t),Uee.set(r,n),xC.delete(r)}}}function wOe(e,t,r,n){if(mOe(r,e),bOe(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,s=jee(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),u=Math.floor((t.BITS-1)/o)*o;let l=i;for(let f=u;f>=0;f-=o){c.fill(i);for(let h=0;h<n.length;h++){const g=n[h],p=Number(g>>BigInt(f)&BigInt(a));c[p]=c[p].add(r[h])}let d=i;for(let h=c.length-1,g=i;h>0;h--)g=g.add(c[h]),d=d.add(g);if(l=l.add(d),f!==0)for(let h=0;h<o;h++)l=l.double()}return l}function qee(e){return fOe(e.Fp),yb(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Nee(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function Tz(e){e.lowS!==void 0&&pp("lowS",e.lowS),e.prehash!==void 0&&pp("prehash",e.prehash)}function vOe(e){const t=qee(e);yb(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:EOe,hexToBytes:_Oe}=oOe;class COe extends Error{constructor(t=""){super(t)}}const ac={Err:COe,_tlv:{encode:(e,t)=>{const{Err:r}=ac;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");const n=t.length/2,i=Oh(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?Oh(i.length/2|128):"";return Oh(e)+s+i+t},decode(e,t){const{Err:r}=ac;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const u=t.subarray(n,n+c);if(u.length!==c)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const l of u)o=o<<8|l;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=t.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+o)}}},_int:{encode(e){const{Err:t}=ac;if(e<hc)throw new t("integer: negative integers are not allowed");let r=Oh(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=ac;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return EOe(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=ac,i=typeof e=="string"?_Oe(e):e;bb(i);const{v:s,l:o}=n.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:u,l}=n.decode(2,c);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(e){const{_tlv:t,_int:r}=ac,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s)),s=n+i;return t.encode(48,s)}},hc=BigInt(0),ln=BigInt(1);BigInt(2);const Oz=BigInt(3);BigInt(4);function AOe(e){const t=vOe(e),{Fp:r}=t,n=Dee(t.n,t.nBitLength),i=t.toBytes||((p,b,w)=>{const y=b.toAffine();return Vm(Uint8Array.from([4]),r.toBytes(y.x),r.toBytes(y.y))}),s=t.fromBytes||(p=>{const b=p.subarray(1),w=r.fromBytes(b.subarray(0,r.BYTES)),y=r.fromBytes(b.subarray(r.BYTES,2*r.BYTES));return{x:w,y}});function o(p){const{a:b,b:w}=t,y=r.sqr(p),v=r.mul(y,p);return r.add(r.add(v,r.mul(p,b)),w)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(p){return d8(p,ln,t.n)}function c(p){const{allowedPrivateKeyLengths:b,nByteLength:w,wrapPrivateKey:y,n:v}=t;if(b&&typeof p!="bigint"){if(Ad(p)&&(p=gp(p)),typeof p!="string"||!b.includes(p.length))throw new Error("invalid private key");p=p.padStart(w*2,"0")}let m;try{m=typeof p=="bigint"?p:nd(yo("private key",p,w))}catch{throw new Error("invalid private key, expected hex or "+w+" bytes, got "+typeof p)}return y&&(m=Di(m,v)),id("private key",m,ln,v),m}function u(p){if(!(p instanceof d))throw new Error("ProjectivePoint expected")}const l=qI((p,b)=>{const{px:w,py:y,pz:v}=p;if(r.eql(v,r.ONE))return{x:w,y};const m=p.is0();b==null&&(b=m?r.ONE:r.inv(v));const C=r.mul(w,b),E=r.mul(y,b),_=r.mul(v,b);if(m)return{x:r.ZERO,y:r.ZERO};if(!r.eql(_,r.ONE))throw new Error("invZ was invalid");return{x:C,y:E}}),f=qI(p=>{if(p.is0()){if(t.allowInfinityPoint&&!r.is0(p.py))return;throw new Error("bad point: ZERO")}const{x:b,y:w}=p.toAffine();if(!r.isValid(b)||!r.isValid(w))throw new Error("bad point: x or y not FE");const y=r.sqr(w),v=o(b);if(!r.eql(y,v))throw new Error("bad point: equation left != right");if(!p.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(b,w,y){if(this.px=b,this.py=w,this.pz=y,b==null||!r.isValid(b))throw new Error("x required");if(w==null||!r.isValid(w))throw new Error("y required");if(y==null||!r.isValid(y))throw new Error("z required");Object.freeze(this)}static fromAffine(b){const{x:w,y}=b||{};if(!b||!r.isValid(w)||!r.isValid(y))throw new Error("invalid affine point");if(b instanceof d)throw new Error("projective point not allowed");const v=m=>r.eql(m,r.ZERO);return v(w)&&v(y)?d.ZERO:new d(w,y,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const w=r.invertBatch(b.map(y=>y.pz));return b.map((y,v)=>y.toAffine(w[v])).map(d.fromAffine)}static fromHex(b){const w=d.fromAffine(s(yo("pointHex",b)));return w.assertValidity(),w}static fromPrivateKey(b){return d.BASE.multiply(c(b))}static msm(b,w){return wOe(d,n,b,w)}_setWindowSize(b){g.setWindowSize(this,b)}assertValidity(){f(this)}hasEvenY(){const{y:b}=this.toAffine();if(r.isOdd)return!r.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){u(b);const{px:w,py:y,pz:v}=this,{px:m,py:C,pz:E}=b,_=r.eql(r.mul(w,E),r.mul(m,v)),P=r.eql(r.mul(y,E),r.mul(C,v));return _&&P}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){const{a:b,b:w}=t,y=r.mul(w,Oz),{px:v,py:m,pz:C}=this;let E=r.ZERO,_=r.ZERO,P=r.ZERO,x=r.mul(v,v),O=r.mul(m,m),D=r.mul(C,C),R=r.mul(v,m);return R=r.add(R,R),P=r.mul(v,C),P=r.add(P,P),E=r.mul(b,P),_=r.mul(y,D),_=r.add(E,_),E=r.sub(O,_),_=r.add(O,_),_=r.mul(E,_),E=r.mul(R,E),P=r.mul(y,P),D=r.mul(b,D),R=r.sub(x,D),R=r.mul(b,R),R=r.add(R,P),P=r.add(x,x),x=r.add(P,x),x=r.add(x,D),x=r.mul(x,R),_=r.add(_,x),D=r.mul(m,C),D=r.add(D,D),x=r.mul(D,R),E=r.sub(E,x),P=r.mul(D,O),P=r.add(P,P),P=r.add(P,P),new d(E,_,P)}add(b){u(b);const{px:w,py:y,pz:v}=this,{px:m,py:C,pz:E}=b;let _=r.ZERO,P=r.ZERO,x=r.ZERO;const O=t.a,D=r.mul(t.b,Oz);let R=r.mul(w,m),k=r.mul(y,C),T=r.mul(v,E),S=r.add(w,y),I=r.add(m,C);S=r.mul(S,I),I=r.add(R,k),S=r.sub(S,I),I=r.add(w,v);let A=r.add(m,E);return I=r.mul(I,A),A=r.add(R,T),I=r.sub(I,A),A=r.add(y,v),_=r.add(C,E),A=r.mul(A,_),_=r.add(k,T),A=r.sub(A,_),x=r.mul(O,I),_=r.mul(D,T),x=r.add(_,x),_=r.sub(k,x),x=r.add(k,x),P=r.mul(_,x),k=r.add(R,R),k=r.add(k,R),T=r.mul(O,T),I=r.mul(D,I),k=r.add(k,T),T=r.sub(R,T),T=r.mul(O,T),I=r.add(I,T),R=r.mul(k,I),P=r.add(P,R),R=r.mul(A,I),_=r.mul(S,_),_=r.sub(_,R),R=r.mul(S,k),x=r.mul(A,x),x=r.add(x,R),new d(_,P,x)}subtract(b){return this.add(b.negate())}is0(){return this.equals(d.ZERO)}wNAF(b){return g.wNAFCached(this,b,d.normalizeZ)}multiplyUnsafe(b){const{endo:w,n:y}=t;id("scalar",b,hc,y);const v=d.ZERO;if(b===hc)return v;if(this.is0()||b===ln)return this;if(!w||g.hasPrecomputes(this))return g.wNAFCachedUnsafe(this,b,d.normalizeZ);let{k1neg:m,k1:C,k2neg:E,k2:_}=w.splitScalar(b),P=v,x=v,O=this;for(;C>hc||_>hc;)C&ln&&(P=P.add(O)),_&ln&&(x=x.add(O)),O=O.double(),C>>=ln,_>>=ln;return m&&(P=P.negate()),E&&(x=x.negate()),x=new d(r.mul(x.px,w.beta),x.py,x.pz),P.add(x)}multiply(b){const{endo:w,n:y}=t;id("scalar",b,ln,y);let v,m;if(w){const{k1neg:C,k1:E,k2neg:_,k2:P}=w.splitScalar(b);let{p:x,f:O}=this.wNAF(E),{p:D,f:R}=this.wNAF(P);x=g.constTimeNegate(C,x),D=g.constTimeNegate(_,D),D=new d(r.mul(D.px,w.beta),D.py,D.pz),v=x.add(D),m=O.add(R)}else{const{p:C,f:E}=this.wNAF(b);v=C,m=E}return d.normalizeZ([v,m])[0]}multiplyAndAddUnsafe(b,w,y){const v=d.BASE,m=(E,_)=>_===hc||_===ln||!E.equals(v)?E.multiplyUnsafe(_):E.multiply(_),C=m(this,w).add(m(b,y));return C.is0()?void 0:C}toAffine(b){return l(this,b)}isTorsionFree(){const{h:b,isTorsionFree:w}=t;if(b===ln)return!0;if(w)return w(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:w}=t;return b===ln?this:w?w(d,this):this.multiplyUnsafe(t.h)}toRawBytes(b=!0){return pp("isCompressed",b),this.assertValidity(),i(d,this,b)}toHex(b=!0){return pp("isCompressed",b),gp(this.toRawBytes(b))}}d.BASE=new d(t.Gx,t.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);const h=t.nBitLength,g=yOe(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function xOe(e){const t=qee(e);return yb(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function IOe(e){const t=xOe(e),{Fp:r,n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function o(T){return Di(T,n)}function a(T){return FI(T,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:f}=AOe({...t,toBytes(T,S,I){const A=S.toAffine(),j=r.toBytes(A.x),N=Vm;return pp("isCompressed",I),I?N(Uint8Array.from([S.hasEvenY()?2:3]),j):N(Uint8Array.from([4]),j,r.toBytes(A.y))},fromBytes(T){const S=T.length,I=T[0],A=T.subarray(1);if(S===i&&(I===2||I===3)){const j=nd(A);if(!d8(j,ln,r.ORDER))throw new Error("Point is not on curve");const N=l(j);let B;try{B=r.sqrt(N)}catch(L){const q=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+q)}const $=(B&ln)===ln;return(I&1)===1!==$&&(B=r.neg(B)),{x:j,y:B}}else if(S===s&&I===4){const j=r.fromBytes(A.subarray(0,r.BYTES)),N=r.fromBytes(A.subarray(r.BYTES,2*r.BYTES));return{x:j,y:N}}else{const j=i,N=s;throw new Error("invalid Point, expected length of "+j+", or uncompressed "+N+", got "+S)}}}),d=T=>gp(bp(T,t.nByteLength));function h(T){const S=n>>ln;return T>S}function g(T){return h(T)?o(-T):T}const p=(T,S,I)=>nd(T.slice(S,I));class b{constructor(S,I,A){this.r=S,this.s=I,this.recovery=A,this.assertValidity()}static fromCompact(S){const I=t.nByteLength;return S=yo("compactSignature",S,I*2),new b(p(S,0,I),p(S,I,2*I))}static fromDER(S){const{r:I,s:A}=ac.toSig(yo("DER",S));return new b(I,A)}assertValidity(){id("r",this.r,ln,n),id("s",this.s,ln,n)}addRecoveryBit(S){return new b(this.r,this.s,S)}recoverPublicKey(S){const{r:I,s:A,recovery:j}=this,N=E(yo("msgHash",S));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const B=j===2||j===3?I+t.n:I;if(B>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const $=(j&1)===0?"02":"03",M=c.fromHex($+d(B)),L=a(B),q=o(-N*L),U=o(A*L),F=c.BASE.multiplyAndAddUnsafe(M,q,U);if(!F)throw new Error("point at infinify");return F.assertValidity(),F}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return mp(this.toDERHex())}toDERHex(){return ac.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return mp(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const w={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=Mee(t.n);return gOe(t.randomBytes(T),t.n)},precompute(T=8,S=c.BASE){return S._setWindowSize(T),S.multiply(BigInt(3)),S}};function y(T,S=!0){return c.fromPrivateKey(T).toRawBytes(S)}function v(T){const S=Ad(T),I=typeof T=="string",A=(S||I)&&T.length;return S?A===i||A===s:I?A===2*i||A===2*s:T instanceof c}function m(T,S,I=!0){if(v(T))throw new Error("first arg must be private key");if(!v(S))throw new Error("second arg must be public key");return c.fromHex(S).multiply(u(T)).toRawBytes(I)}const C=t.bits2int||function(T){if(T.length>8192)throw new Error("input is too large");const S=nd(T),I=T.length*8-t.nBitLength;return I>0?S>>BigInt(I):S},E=t.bits2int_modN||function(T){return o(C(T))},_=N7(t.nBitLength);function P(T){return id("num < 2^"+t.nBitLength,T,hc,_),bp(T,t.nByteLength)}function x(T,S,I=O){if(["recovered","canonical"].some(V=>V in I))throw new Error("sign() legacy options not supported");const{hash:A,randomBytes:j}=t;let{lowS:N,prehash:B,extraEntropy:$}=I;N==null&&(N=!0),T=yo("msgHash",T),Tz(I),B&&(T=yo("prehashed msgHash",A(T)));const M=E(T),L=u(S),q=[P(L),P(M)];if($!=null&&$!==!1){const V=$===!0?j(r.BYTES):$;q.push(yo("extraEntropy",V))}const U=Vm(...q),F=M;function H(V){const W=C(V);if(!f(W))return;const Z=a(W),X=c.BASE.multiply(W).toAffine(),ue=o(X.x);if(ue===hc)return;const Y=o(Z*o(F+ue*L));if(Y===hc)return;let Q=(X.x===ue?0:2)|Number(X.y&ln),ae=Y;return N&&h(Y)&&(ae=g(Y),Q^=1),new b(ue,ae,Q)}return{seed:U,k2sig:H}}const O={lowS:t.lowS,prehash:!1},D={lowS:t.lowS,prehash:!1};function R(T,S,I=O){const{seed:A,k2sig:j}=x(T,S,I),N=t;return Bee(N.hash.outputLen,N.nByteLength,N.hmac)(A,j)}c.BASE._setWindowSize(8);function k(T,S,I,A=D){const j=T;S=yo("msgHash",S),I=yo("publicKey",I);const{lowS:N,prehash:B,format:$}=A;if(Tz(A),"strict"in A)throw new Error("options.strict was renamed to lowS");if($!==void 0&&$!=="compact"&&$!=="der")throw new Error("format must be compact or der");const M=typeof j=="string"||Ad(j),L=!M&&!$&&typeof j=="object"&&j!==null&&typeof j.r=="bigint"&&typeof j.s=="bigint";if(!M&&!L)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let q,U;try{if(L&&(q=new b(j.r,j.s)),M){try{$!=="compact"&&(q=b.fromDER(j))}catch(Q){if(!(Q instanceof ac.Err))throw Q}!q&&$!=="der"&&(q=b.fromCompact(j))}U=c.fromHex(I)}catch{return!1}if(!q||N&&q.hasHighS())return!1;B&&(S=t.hash(S));const{r:F,s:H}=q,V=E(S),W=a(H),Z=o(V*W),X=o(F*W),ue=c.BASE.multiplyAndAddUnsafe(U,Z,X)?.toAffine();return ue?o(ue.x)===F:!1}return{CURVE:t,getPublicKey:y,getSharedSecret:m,sign:R,verify:k,ProjectivePoint:c,Signature:b,utils:w}}function POe(e){return{hash:e,hmac:(t,...r)=>kee(e,t,PTe(...r)),randomBytes:STe}}function SOe(e,t){const r=n=>IOe({...e,...POe(n)});return{...r(t),create:r}}const zee=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),jz=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),TOe=BigInt(1),HI=BigInt(2),Bz=(e,t)=>(e+t/HI)/t;function OOe(e){const t=zee,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,f=Ms(l,r,t)*l%t,d=Ms(f,r,t)*l%t,h=Ms(d,HI,t)*u%t,g=Ms(h,i,t)*h%t,p=Ms(g,s,t)*g%t,b=Ms(p,a,t)*p%t,w=Ms(b,c,t)*b%t,y=Ms(w,a,t)*p%t,v=Ms(y,r,t)*l%t,m=Ms(v,o,t)*g%t,C=Ms(m,n,t)*u%t,E=Ms(C,HI,t);if(!WI.eql(WI.sqr(E),e))throw new Error("Cannot find square root");return E}const WI=Dee(zee,void 0,void 0,{sqrt:OOe}),Fee=SOe({a:BigInt(0),b:BigInt(7),Fp:WI,n:jz,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=jz,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-TOe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=Bz(s*e,t),c=Bz(-n*e,t);let u=Di(e-a*r-c*i,t),l=Di(-a*n-c*s,t);const f=u>o,d=l>o;if(f&&(u=t-u),d&&(l=t-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:d,k2:l}}}},YTe);BigInt(0);Fee.ProjectivePoint;const jOe=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Fee},Symbol.toStringTag,{value:"Module"}));var BOe={};const ROe=":";function qh(e){const[t,r]=e.split(ROe);return{namespace:t,reference:r}}function Hee(e,t){return e.includes(":")?[e]:t.chains||[]}var kOe=Object.defineProperty,NOe=Object.defineProperties,DOe=Object.getOwnPropertyDescriptors,Rz=Object.getOwnPropertySymbols,$Oe=Object.prototype.hasOwnProperty,MOe=Object.prototype.propertyIsEnumerable,kz=(e,t,r)=>t in e?kOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Nz=(e,t)=>{for(var r in t||(t={}))$Oe.call(t,r)&&kz(e,r,t[r]);if(Rz)for(var r of Rz(t))MOe.call(t,r)&&kz(e,r,t[r]);return e},LOe=(e,t)=>NOe(e,DOe(t));const UOe="ReactNative",bs={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},qOe="js";function r3(){return typeof Ur<"u"&&typeof Ur.versions<"u"&&typeof Ur.versions.node<"u"}function Ku(){return!Cn.getDocument()&&!!Cn.getNavigator()&&navigator.product===UOe}function zOe(){return Ku()&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"&&globalThis?.Platform.OS==="android"}function FOe(){return Ku()&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"&&globalThis?.Platform.OS==="ios"}function t0(){return!r3()&&!!Cn.getNavigator()&&!!Cn.getDocument()}function wb(){return Ku()?bs.reactNative:r3()?bs.node:t0()?bs.browser:bs.unknown}function Dz(){var e;try{return Ku()&&typeof globalThis<"u"&&typeof globalThis?.Application<"u"?(e=globalThis.Application)==null?void 0:e.applicationId:void 0}catch{return}}function HOe(e,t){const r=new URLSearchParams(e);for(const n of Object.keys(t).sort())if(t.hasOwnProperty(n)){const i=t[n];i!==void 0&&r.set(n,i)}return r.toString()}function WOe(e){var t,r;const n=Wee();try{return e!=null&&e.url&&n.url&&new URL(e.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),e.url=n.url),(t=e?.icons)!=null&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(i=>i!=="")),LOe(Nz(Nz({},n),e),{url:e?.url||n.url,name:e?.name||n.name,description:e?.description||n.description,icons:(r=e?.icons)!=null&&r.length&&e.icons.length>0?e.icons:n.icons})}catch(i){return console.warn("Error populating app metadata",i),e||n}}function Wee(){return CQ.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function VOe(){if(wb()===bs.reactNative&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"){const{OS:r,Version:n}=globalThis.Platform;return[r,n].join("-")}const e=wQ();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function GOe(){var e;const t=wb();return t===bs.browser?[t,((e=Cn.getLocation())==null?void 0:e.host)||"unknown"].join(":"):t}function Vee(e,t,r){const n=VOe(),i=GOe();return[[e,t].join("-"),[qOe,r].join("-"),n,i].join("/")}function KOe({protocol:e,version:t,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const u=r.split("?"),l=Vee(e,t,n),f={auth:i,ua:l,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},d=HOe(u[1]||"",f);return u[0]+"?"+d}function Kl(e,t){return e.filter(r=>t.includes(r)).length===e.length}function VI(e){return Object.fromEntries(e.entries())}function GI(e){return new Map(Object.entries(e))}function Tl(e=ie.FIVE_MINUTES,t){const r=ie.toMiliseconds(e||ie.FIVE_MINUTES);let n,i,s,o;return{resolve:a=>{s&&n&&(clearTimeout(s),n(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const u=new Error(t);o=Promise.reject(u),c(u)},r),n=a,i=c})}}function mu(e,t,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),t);try{const o=await e;n(o)}catch(o){i(o)}clearTimeout(s)})}function Gee(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function ZOe(e){return Gee("topic",e)}function YOe(e){return Gee("id",e)}function Kee(e){const[t,r]=e.split(":"),n={id:void 0,topic:void 0};if(t==="topic"&&typeof r=="string")n.topic=r;else if(t==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return n}function Kr(e,t){return ie.fromMiliseconds(Date.now()+ie.toMiliseconds(e))}function du(e){return Date.now()>=ie.toMiliseconds(e)}function jt(e,t){return`${e}${t?`:${t}`:""}`}function la(e=[],t=[]){return[...new Set([...e,...t])]}async function QOe({id:e,topic:t,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i?.href;if(typeof s!="string")return;const o=JOe(s,e,t),a=wb();if(a===bs.browser){if(!((n=Cn.getDocument())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}XOe(o)}else a===bs.reactNative&&typeof globalThis?.Linking<"u"&&await globalThis.Linking.openURL(o)}catch(i){console.error(i)}}function JOe(e,t,r){const n=`requestId=${t}&sessionTopic=${r}`;e.endsWith("/")&&(e=e.slice(0,-1));let i=`${e}`;if(e.startsWith("https://t.me")){const s=e.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${nje(n,!0)}`}else i=`${i}/wc?${n}`;return i}function XOe(e){let t="_self";rje()?t="_top":(tje()||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"),window.open(e,t,"noreferrer noopener")}async function eje(e,t){let r="";try{if(t0()&&(r=localStorage.getItem(t),r))return r;r=await e.getItem(t)}catch(n){console.error(n)}return r}function $z(e,t){if(!e.includes(t))return null;const r=e.split(/([&,?,=])/),n=r.indexOf(t);return r[n+2]}function Mz(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function D7(){return typeof Ur<"u"&&BOe.IS_VITEST==="true"}function tje(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function rje(){try{return window.self!==window.top}catch{return!1}}function nje(e,t=!1){const r=pt.from(e).toString("base64");return t?r.replace(/[=]/g,""):r}function Zee(e){return pt.from(e,"base64").toString("utf-8")}function ije(e){return new Promise(t=>setTimeout(t,e))}function Gm(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function sje(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function vb(e,...t){if(!sje(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function $7(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Gm(e.outputLen),Gm(e.blockLen)}function yp(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Yee(e,t){vb(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const k6=BigInt(2**32-1),Lz=BigInt(32);function oje(e,t=!1){return t?{h:Number(e&k6),l:Number(e>>Lz&k6)}:{h:Number(e>>Lz&k6)|0,l:Number(e&k6)|0}}function aje(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=oje(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}const cje=(e,t,r)=>e<<r|t>>>32-r,uje=(e,t,r)=>t<<r|e>>>32-r,lje=(e,t,r)=>t<<r-32|e>>>64-r,dje=(e,t,r)=>e<<r-32|t>>>64-r,eh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function fje(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function PC(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ko(e,t){return e<<32-t|e>>>t}const Uz=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68;function hje(e){return e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255}function qz(e){for(let t=0;t<e.length;t++)e[t]=hje(e[t])}function pje(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function wp(e){return typeof e=="string"&&(e=pje(e)),vb(e),e}function gje(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];vb(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}let M7=class{clone(){return this._cloneInto()}};function Qee(e){const t=n=>e().update(wp(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function r0(e=32){if(eh&&typeof eh.getRandomValues=="function")return eh.getRandomValues(new Uint8Array(e));if(eh&&typeof eh.randomBytes=="function")return eh.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const Jee=[],Xee=[],ete=[],mje=BigInt(0),Og=BigInt(1),bje=BigInt(2),yje=BigInt(7),wje=BigInt(256),vje=BigInt(113);for(let e=0,t=Og,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],Jee.push(2*(5*n+r)),Xee.push((e+1)*(e+2)/2%64);let i=mje;for(let s=0;s<7;s++)t=(t<<Og^(t>>yje)*vje)%wje,t&bje&&(i^=Og<<(Og<<BigInt(s))-Og);ete.push(i)}const[Eje,_je]=aje(ete,!0),zz=(e,t,r)=>r>32?lje(e,t,r):cje(e,t,r),Fz=(e,t,r)=>r>32?dje(e,t,r):uje(e,t,r);function Cje(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let o=0;o<10;o++)r[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],f=zz(u,l,1)^r[a],d=Fz(u,l,1)^r[a+1];for(let h=0;h<50;h+=10)e[o+h]^=f,e[o+h+1]^=d}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=Xee[o],c=zz(i,s,a),u=Fz(i,s,a),l=Jee[o];i=e[l],s=e[l+1],e[l]=c,e[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=Eje[n],e[1]^=_je[n]}r.fill(0)}let Aje=class tte extends M7{constructor(t,r,n,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Gm(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=fje(this.state)}keccak(){Uz||qz(this.state32),Cje(this.state32,this.rounds),Uz||qz(this.state32),this.posOut=0,this.pos=0}update(t){yp(this);const{blockLen:r,state:n}=this;t=wp(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=t[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){yp(this,!1),vb(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=t.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);t.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Gm(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Yee(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new tte(r,n,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}};const xje=(e,t,r)=>Qee(()=>new Aje(t,e,r)),Ije=xje(1,136,256/8),Pje="https://rpc.walletconnect.org/v1";function rte(e){const t=`Ethereum Signed Message:
${e.length}`,r=new TextEncoder().encode(t+e);return"0x"+pt.from(Ije(r)).toString("hex")}async function Sje(e,t,r,n,i,s){switch(r.t){case"eip191":return await Tje(e,t,r.s);case"eip1271":return await Oje(e,t,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function Tje(e,t,r){return(await FTe({hash:rte(t),signature:r})).toLowerCase()===e.toLowerCase()}async function Oje(e,t,r,n,i,s){const o=qh(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",u="0000000000000000000000000000000000000000000000000000000000000041",l=r.substring(2),f=rte(t).substring(2),d=a+f+c+u+l,h=await fetch(`${s||Pje}/?chainId=${n}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:jje(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:d},"latest"]})}),{result:g}=await h.json();return g?g.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function jje(){return Date.now()+Math.floor(Math.random()*1e3)}function Bje(e){const t=atob(e),r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const i=1+n*64;if(r.length<i)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const s=pt.from(e,"base64").slice(1,65);return eS.encode(s)}var Rje=Object.defineProperty,kje=Object.defineProperties,Nje=Object.getOwnPropertyDescriptors,Hz=Object.getOwnPropertySymbols,Dje=Object.prototype.hasOwnProperty,$je=Object.prototype.propertyIsEnumerable,Wz=(e,t,r)=>t in e?Rje(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Mje=(e,t)=>{for(var r in t||(t={}))Dje.call(t,r)&&Wz(e,r,t[r]);if(Hz)for(var r of Hz(t))$je.call(t,r)&&Wz(e,r,t[r]);return e},Lje=(e,t)=>kje(e,Nje(t));const Uje="did:pkh:",L7=e=>e?.split(":"),qje=e=>{const t=e&&L7(e);if(t)return e.includes(Uje)?t[3]:t[1]},KI=e=>{const t=e&&L7(e);if(t)return t[2]+":"+t[3]},n3=e=>{const t=e&&L7(e);if(t)return t.pop()};async function Vz(e){const{cacao:t,projectId:r}=e,{s:n,p:i}=t,s=nte(i,i.iss),o=n3(i.iss);return await Sje(o,s,n,KI(i.iss),r)}const nte=(e,t)=>{const r=`${e.domain} wants you to sign in with your Ethereum account:`,n=n3(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=e.statement||void 0;const s=`URI: ${e.aud||e.uri}`,o=`Version: ${e.version}`,a=`Chain ID: ${qje(t)}`,c=`Nonce: ${e.nonce}`,u=`Issued At: ${e.iat}`,l=e.exp?`Expiration Time: ${e.exp}`:void 0,f=e.nbf?`Not Before: ${e.nbf}`:void 0,d=e.requestId?`Request ID: ${e.requestId}`:void 0,h=e.resources?`Resources:${e.resources.map(p=>`
- ${p}`).join("")}`:void 0,g=s5(e.resources);if(g){const p=Km(g);i=Yje(i,p)}return[r,n,"",i,"",s,o,a,c,u,l,f,d,h].filter(p=>p!=null).join(`
`)};function zje(e){return pt.from(JSON.stringify(e)).toString("base64")}function Fje(e){return JSON.parse(pt.from(e,"base64").toString("utf-8"))}function xd(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(r=>{const n=e.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function Hje(e,t,r,n={}){return r?.sort((i,s)=>i.localeCompare(s)),{att:{[e]:Wje(t,r,n)}}}function Wje(e,t,r={}){t=t?.sort((i,s)=>i.localeCompare(s));const n=t.map(i=>({[`${e}/${i}`]:[r]}));return Object.assign({},...n)}function ite(e){return xd(e),`urn:recap:${zje(e).replace(/=/g,"")}`}function Km(e){const t=Fje(e.replace("urn:recap:",""));return xd(t),t}function Vje(e,t,r){const n=Hje(e,t,r);return ite(n)}function Gje(e){return e&&e.includes("urn:recap:")}function Kje(e,t){const r=Km(e),n=Km(t),i=Zje(r,n);return ite(i)}function Zje(e,t){xd(e),xd(t);const r=Object.keys(e.att).concat(Object.keys(t.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=e.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=t.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,u;n.att[i]=Lje(Mje({},n.att[i]),{[a]:((c=e.att[i])==null?void 0:c[a])||((u=t.att[i])==null?void 0:u[a])})})}),n}function Yje(e="",t){xd(t);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;const n=[];let i=0;Object.keys(t.att).forEach(a=>{const c=Object.keys(t.att[a]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));c.sort((f,d)=>f.action.localeCompare(d.action));const u={};c.forEach(f=>{u[f.ability]||(u[f.ability]=[]),u[f.ability].push(f.action)});const l=Object.keys(u).map(f=>(i++,`(${i}) '${f}': '${u[f].join("', '")}' for '${a}'.`));n.push(l.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${e?e+" ":""}${o}`}function Gz(e){var t;const r=Km(e);xd(r);const n=(t=r.att)==null?void 0:t.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function Kz(e){const t=Km(e);xd(t);const r=[];return Object.values(t.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function s5(e){if(!e)return;const t=e?.[e.length-1];return Gje(t)?t:void 0}function SC(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function ste(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function fs(e,...t){if(!ste(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Zz(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Qje(e,t){fs(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Yz(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}const _u=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Jje=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Xje=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68;if(!Xje)throw new Error("Non little-endian hardware is not supported");function eBe(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function ZI(e){if(typeof e=="string")e=eBe(e);else if(ste(e))e=YI(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function tBe(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function rBe(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}const nBe=(e,t)=>{function r(n,...i){if(fs(n),e.nonceLength!==void 0){const u=i[0];if(!u)throw new Error("nonce / iv required");e.varSizeNonce?fs(u):fs(u,e.nonceLength)}const s=e.tagLength;s&&i[1]!==void 0&&fs(i[1]);const o=t(n,...i),a=(u,l)=>{if(l!==void 0){if(u!==2)throw new Error("cipher output not supported");fs(l)}};let c=!1;return{encrypt(u,l){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,fs(u),a(o.encrypt.length,l),o.encrypt(u,l)},decrypt(u,l){if(fs(u),s&&u.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,l),o.decrypt(u,l)}}}return Object.assign(r,e),r};function Qz(e,t,r=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(r&&!iBe(t))throw new Error("invalid output, must be aligned");return t}function Jz(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(0xffffffff),o=Number(r>>i&s),a=Number(r&s);e.setUint32(t+4,o,n),e.setUint32(t+0,a,n)}function iBe(e){return e.byteOffset%4===0}function YI(e){return Uint8Array.from(e)}function vp(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}const ote=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),sBe=ote("expand 16-byte k"),oBe=ote("expand 32-byte k"),aBe=_u(sBe),cBe=_u(oBe);function vt(e,t){return e<<t|e>>>32-t}function QI(e){return e.byteOffset%4===0}const N6=64,uBe=16,ate=2**32-1,Xz=new Uint32Array;function lBe(e,t,r,n,i,s,o,a){const c=i.length,u=new Uint8Array(N6),l=_u(u),f=QI(i)&&QI(s),d=f?_u(i):Xz,h=f?_u(s):Xz;for(let g=0;g<c;o++){if(e(t,r,n,l,o,a),o>=ate)throw new Error("arx: counter overflow");const p=Math.min(N6,c-g);if(f&&p===N6){const b=g/4;if(g%4!==0)throw new Error("arx: invalid block position");for(let w=0,y;w<uBe;w++)y=b+w,h[y]=d[y]^l[w];g+=N6;continue}for(let b=0,w;b<p;b++)w=g+b,s[w]=i[w]^u[b];g+=p}}function dBe(e,t){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=tBe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return SC(i),SC(o),Yz(s),Yz(r),(a,c,u,l,f=0)=>{fs(a),fs(c),fs(u);const d=u.length;if(l===void 0&&(l=new Uint8Array(d)),fs(l),SC(f),f<0||f>=ate)throw new Error("arx: counter overflow");if(l.length<d)throw new Error(`arx: output (${l.length}) is shorter than data (${d})`);const h=[];let g=a.length,p,b;if(g===32)h.push(p=YI(a)),b=cBe;else if(g===16&&r)p=new Uint8Array(32),p.set(a),p.set(a,16),b=aBe,h.push(p);else throw new Error(`arx: invalid 32-byte key, got length=${g}`);QI(c)||h.push(c=YI(c));const w=_u(p);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(b,w,_u(c.subarray(0,16)),w),c=c.subarray(16)}const y=16-i;if(y!==c.length)throw new Error(`arx: nonce must be ${y} or 16 bytes`);if(y!==12){const m=new Uint8Array(12);m.set(c,s?0:12-c.length),c=m,h.push(c)}const v=_u(c);return lBe(e,b,w,v,u,l,f,o),vp(...h),l}}const Tn=(e,t)=>e[t++]&255|(e[t++]&255)<<8;class fBe{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=ZI(t),fs(t,32);const r=Tn(t,0),n=Tn(t,2),i=Tn(t,4),s=Tn(t,6),o=Tn(t,8),a=Tn(t,10),c=Tn(t,12),u=Tn(t,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let l=0;l<8;l++)this.pad[l]=Tn(t,16+2*l)}process(t,r,n=!1){const i=n?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],u=o[2],l=o[3],f=o[4],d=o[5],h=o[6],g=o[7],p=o[8],b=o[9],w=Tn(t,r+0),y=Tn(t,r+2),v=Tn(t,r+4),m=Tn(t,r+6),C=Tn(t,r+8),E=Tn(t,r+10),_=Tn(t,r+12),P=Tn(t,r+14);let x=s[0]+(w&8191),O=s[1]+((w>>>13|y<<3)&8191),D=s[2]+((y>>>10|v<<6)&8191),R=s[3]+((v>>>7|m<<9)&8191),k=s[4]+((m>>>4|C<<12)&8191),T=s[5]+(C>>>1&8191),S=s[6]+((C>>>14|E<<2)&8191),I=s[7]+((E>>>11|_<<5)&8191),A=s[8]+((_>>>8|P<<8)&8191),j=s[9]+(P>>>5|i),N=0,B=N+x*a+O*(5*b)+D*(5*p)+R*(5*g)+k*(5*h);N=B>>>13,B&=8191,B+=T*(5*d)+S*(5*f)+I*(5*l)+A*(5*u)+j*(5*c),N+=B>>>13,B&=8191;let $=N+x*c+O*a+D*(5*b)+R*(5*p)+k*(5*g);N=$>>>13,$&=8191,$+=T*(5*h)+S*(5*d)+I*(5*f)+A*(5*l)+j*(5*u),N+=$>>>13,$&=8191;let M=N+x*u+O*c+D*a+R*(5*b)+k*(5*p);N=M>>>13,M&=8191,M+=T*(5*g)+S*(5*h)+I*(5*d)+A*(5*f)+j*(5*l),N+=M>>>13,M&=8191;let L=N+x*l+O*u+D*c+R*a+k*(5*b);N=L>>>13,L&=8191,L+=T*(5*p)+S*(5*g)+I*(5*h)+A*(5*d)+j*(5*f),N+=L>>>13,L&=8191;let q=N+x*f+O*l+D*u+R*c+k*a;N=q>>>13,q&=8191,q+=T*(5*b)+S*(5*p)+I*(5*g)+A*(5*h)+j*(5*d),N+=q>>>13,q&=8191;let U=N+x*d+O*f+D*l+R*u+k*c;N=U>>>13,U&=8191,U+=T*a+S*(5*b)+I*(5*p)+A*(5*g)+j*(5*h),N+=U>>>13,U&=8191;let F=N+x*h+O*d+D*f+R*l+k*u;N=F>>>13,F&=8191,F+=T*c+S*a+I*(5*b)+A*(5*p)+j*(5*g),N+=F>>>13,F&=8191;let H=N+x*g+O*h+D*d+R*f+k*l;N=H>>>13,H&=8191,H+=T*u+S*c+I*a+A*(5*b)+j*(5*p),N+=H>>>13,H&=8191;let V=N+x*p+O*g+D*h+R*d+k*f;N=V>>>13,V&=8191,V+=T*l+S*u+I*c+A*a+j*(5*b),N+=V>>>13,V&=8191;let W=N+x*b+O*p+D*g+R*h+k*d;N=W>>>13,W&=8191,W+=T*f+S*l+I*u+A*c+j*a,N+=W>>>13,W&=8191,N=(N<<2)+N|0,N=N+B|0,B=N&8191,N=N>>>13,$+=N,s[0]=B,s[1]=$,s[2]=M,s[3]=L,s[4]=q,s[5]=U,s[6]=F,s[7]=H,s[8]=V,s[9]=W}finalize(){const{h:t,pad:r}=this,n=new Uint16Array(10);let i=t[1]>>>13;t[1]&=8191;for(let a=2;a<10;a++)t[a]+=i,i=t[a]>>>13,t[a]&=8191;t[0]+=i*5,i=t[0]>>>13,t[0]&=8191,t[1]+=i,i=t[1]>>>13,t[1]&=8191,t[2]+=i,n[0]=t[0]+5,i=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=t[a]+i,i=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)t[a]=t[a]&s|n[a];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let o=t[0]+r[0];t[0]=o&65535;for(let a=1;a<8;a++)o=(t[a]+r[a]|0)+(o>>>16)|0,t[a]=o&65535;vp(n)}update(t){Zz(this);const{buffer:r,blockLen:n}=this;t=ZI(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(t,s);continue}r.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){vp(this.h,this.r,this.buffer,this.pad)}digestInto(t){Zz(this),Qje(t,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)t[s++]=n[o]>>>0,t[s++]=n[o]>>>8;return t}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}}function hBe(e){const t=(n,i)=>e(i).update(ZI(n)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}const pBe=hBe(e=>new fBe(e));function gBe(e,t,r,n,i,s=20){let o=e[0],a=e[1],c=e[2],u=e[3],l=t[0],f=t[1],d=t[2],h=t[3],g=t[4],p=t[5],b=t[6],w=t[7],y=i,v=r[0],m=r[1],C=r[2],E=o,_=a,P=c,x=u,O=l,D=f,R=d,k=h,T=g,S=p,I=b,A=w,j=y,N=v,B=m,$=C;for(let L=0;L<s;L+=2)E=E+O|0,j=vt(j^E,16),T=T+j|0,O=vt(O^T,12),E=E+O|0,j=vt(j^E,8),T=T+j|0,O=vt(O^T,7),_=_+D|0,N=vt(N^_,16),S=S+N|0,D=vt(D^S,12),_=_+D|0,N=vt(N^_,8),S=S+N|0,D=vt(D^S,7),P=P+R|0,B=vt(B^P,16),I=I+B|0,R=vt(R^I,12),P=P+R|0,B=vt(B^P,8),I=I+B|0,R=vt(R^I,7),x=x+k|0,$=vt($^x,16),A=A+$|0,k=vt(k^A,12),x=x+k|0,$=vt($^x,8),A=A+$|0,k=vt(k^A,7),E=E+D|0,$=vt($^E,16),I=I+$|0,D=vt(D^I,12),E=E+D|0,$=vt($^E,8),I=I+$|0,D=vt(D^I,7),_=_+R|0,j=vt(j^_,16),A=A+j|0,R=vt(R^A,12),_=_+R|0,j=vt(j^_,8),A=A+j|0,R=vt(R^A,7),P=P+k|0,N=vt(N^P,16),T=T+N|0,k=vt(k^T,12),P=P+k|0,N=vt(N^P,8),T=T+N|0,k=vt(k^T,7),x=x+O|0,B=vt(B^x,16),S=S+B|0,O=vt(O^S,12),x=x+O|0,B=vt(B^x,8),S=S+B|0,O=vt(O^S,7);let M=0;n[M++]=o+E|0,n[M++]=a+_|0,n[M++]=c+P|0,n[M++]=u+x|0,n[M++]=l+O|0,n[M++]=f+D|0,n[M++]=d+R|0,n[M++]=h+k|0,n[M++]=g+T|0,n[M++]=p+S|0,n[M++]=b+I|0,n[M++]=w+A|0,n[M++]=y+j|0,n[M++]=v+N|0,n[M++]=m+B|0,n[M++]=C+$|0}const mBe=dBe(gBe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),bBe=new Uint8Array(16),eF=(e,t)=>{e.update(t);const r=t.length%16;r&&e.update(bBe.subarray(r))},yBe=new Uint8Array(32);function tF(e,t,r,n,i){const s=e(t,r,yBe),o=pBe.create(s);i&&eF(o,i),eF(o,n);const a=new Uint8Array(16),c=Jje(a);Jz(c,0,BigInt(i?i.length:0),!0),Jz(c,8,BigInt(n.length),!0),o.update(a);const u=o.digest();return vp(s,a),u}const wBe=e=>(t,r,n)=>({encrypt(i,s){const o=i.length;s=Qz(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);e(t,r,a,a,1);const c=tF(e,t,r,a,n);return s.set(c,o),vp(c),s},decrypt(i,s){s=Qz(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=tF(e,t,r,o,n);if(!rBe(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),e(t,r,s,s,1),vp(c),s}}),cte=nBe({blockSize:64,nonceLength:12,tagLength:16},wBe(mBe));let ute=class extends M7{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,$7(t);const n=wp(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?t.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return yp(this),this.iHash.update(t),this}digestInto(t){yp(this),vb(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const f8=(e,t,r)=>new ute(e,t).update(r).digest();f8.create=(e,t)=>new ute(e,t);function vBe(e,t,r){return $7(e),r===void 0&&(r=new Uint8Array(e.outputLen)),f8(e,wp(r),wp(t))}const TC=new Uint8Array([0]),rF=new Uint8Array;function EBe(e,t,r,n=32){if($7(e),Gm(n),n>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(n/e.outputLen);r===void 0&&(r=rF);const s=new Uint8Array(i*e.outputLen),o=f8.create(e,t),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let u=0;u<i;u++)TC[0]=u+1,a.update(u===0?rF:c).update(r).update(TC).digestInto(c),s.set(c,e.outputLen*u),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),TC.fill(0),s.slice(0,n)}const _Be=(e,t,r,n,i)=>EBe(e,vBe(e,t,r),n,i);function CBe(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(0xffffffff),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}function ABe(e,t,r){return e&t^~e&r}function xBe(e,t,r){return e&t^e&r^t&r}let IBe=class extends M7{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=PC(this.buffer)}update(t){yp(this);const{view:r,buffer:n,blockLen:i}=this;t=wp(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=PC(t);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){yp(this),Yee(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;CBe(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=PC(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%r&&t.buffer.set(n),t}};const PBe=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),su=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),ou=new Uint32Array(64);class SBe extends IBe{constructor(){super(64,32,8,!1),this.A=su[0]|0,this.B=su[1]|0,this.C=su[2]|0,this.D=su[3]|0,this.E=su[4]|0,this.F=su[5]|0,this.G=su[6]|0,this.H=su[7]|0}get(){const{A:t,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[t,r,n,i,s,o,a,c]}set(t,r,n,i,s,o,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,r){for(let f=0;f<16;f++,r+=4)ou[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){const d=ou[f-15],h=ou[f-2],g=Ko(d,7)^Ko(d,18)^d>>>3,p=Ko(h,17)^Ko(h,19)^h>>>10;ou[f]=p+ou[f-7]+g+ou[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let f=0;f<64;f++){const d=Ko(a,6)^Ko(a,11)^Ko(a,25),h=l+d+ABe(a,c,u)+PBe[f]+ou[f]|0,g=(Ko(n,2)^Ko(n,13)^Ko(n,22))+xBe(n,i,s)|0;l=u,u=c,c=a,a=o+h|0,o=s,s=i,i=n,n=h+g|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,s,o,a,c,u,l)}roundClean(){ou.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Eb=Qee(()=>new SBe);const h8=BigInt(0),p8=BigInt(1),TBe=BigInt(2);function Id(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function _b(e){if(!Id(e))throw new Error("Uint8Array expected")}function Ep(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const OBe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function _p(e){_b(e);let t="";for(let r=0;r<e.length;r++)t+=OBe[e[r]];return t}function jh(e){const t=e.toString(16);return t.length&1?"0"+t:t}function U7(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?h8:BigInt("0x"+e)}const Ja={_0:48,_9:57,A:65,F:70,a:97,f:102};function nF(e){if(e>=Ja._0&&e<=Ja._9)return e-Ja._0;if(e>=Ja.A&&e<=Ja.F)return e-(Ja.A-10);if(e>=Ja.a&&e<=Ja.f)return e-(Ja.a-10)}function Cp(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=nF(e.charCodeAt(s)),a=nF(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function sd(e){return U7(_p(e))}function Zm(e){return _b(e),U7(_p(Uint8Array.from(e).reverse()))}function Ap(e,t){return Cp(e.toString(16).padStart(t*2,"0"))}function g8(e,t){return Ap(e,t).reverse()}function jBe(e){return Cp(jh(e))}function ls(e,t,r){let n;if(typeof t=="string")try{n=Cp(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(Id(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}function Ym(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];_b(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}function BBe(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function RBe(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const OC=e=>typeof e=="bigint"&&h8<=e;function m8(e,t,r){return OC(e)&&OC(t)&&OC(r)&&t<=e&&e<r}function vc(e,t,r,n){if(!m8(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function lte(e){let t;for(t=0;e>h8;e>>=p8,t+=1);return t}function kBe(e,t){return e>>BigInt(t)&p8}function NBe(e,t,r){return e|(r?p8:h8)<<BigInt(t)}const q7=e=>(TBe<<BigInt(e-1))-p8,jC=e=>new Uint8Array(e),iF=e=>Uint8Array.from(e);function dte(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=jC(e),i=jC(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...l)=>r(i,n,...l),c=(l=jC())=>{i=a(iF([0]),l),n=a(),l.length!==0&&(i=a(iF([1]),l),n=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const f=[];for(;l<t;){n=a();const d=n.slice();f.push(d),l+=n.length}return Ym(...f)};return(l,f)=>{o(),c(l);let d;for(;!(d=f(u()));)c();return o(),d}}const DBe={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Id(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function n0(e,t,r={}){const n=(i,s,o)=>{const a=DBe[s];if(typeof a!="function")throw new Error("invalid validator function");const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(t))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return e}const $Be=()=>{throw new Error("not implemented")};function JI(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(i!==void 0)return i;const s=e(r,...n);return t.set(r,s),s}}var MBe=Object.freeze({__proto__:null,isBytes:Id,abytes:_b,abool:Ep,bytesToHex:_p,numberToHexUnpadded:jh,hexToNumber:U7,hexToBytes:Cp,bytesToNumberBE:sd,bytesToNumberLE:Zm,numberToBytesBE:Ap,numberToBytesLE:g8,numberToVarBytesBE:jBe,ensureBytes:ls,concatBytes:Ym,equalBytes:BBe,utf8ToBytes:RBe,inRange:m8,aInRange:vc,bitLen:lte,bitGet:kBe,bitSet:NBe,bitMask:q7,createHmacDrbg:dte,validateObject:n0,notImplemented:$Be,memoized:JI});const En=BigInt(0),Br=BigInt(1),Dl=BigInt(2),LBe=BigInt(3),XI=BigInt(4),sF=BigInt(5),oF=BigInt(8);function $i(e,t){const r=e%t;return r>=En?r:t+r}function fte(e,t,r){if(t<En)throw new Error("invalid exponent, negatives unsupported");if(r<=En)throw new Error("invalid modulus");if(r===Br)return En;let n=Br;for(;t>En;)t&Br&&(n=n*e%r),e=e*e%r,t>>=Br;return n}function go(e,t,r){let n=e;for(;t-- >En;)n*=n,n%=r;return n}function eP(e,t){if(e===En)throw new Error("invert: expected non-zero number");if(t<=En)throw new Error("invert: expected positive modulus, got "+t);let r=$i(e,t),n=t,i=En,s=Br;for(;r!==En;){const o=n/r,a=n%r,c=i-s*o;n=r,r=a,i=s,s=c}if(n!==Br)throw new Error("invert: does not exist");return $i(i,t)}function UBe(e){const t=(e-Br)/Dl;let r,n,i;for(r=e-Br,n=0;r%Dl===En;r/=Dl,n++);for(i=Dl;i<e&&fte(i,t,e)!==e-Br;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(e+Br)/XI;return function(a,c){const u=a.pow(c,o);if(!a.eql(a.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(r+Br)/Dl;return function(o,a){if(o.pow(a,t)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,u=o.pow(o.mul(o.ONE,i),r),l=o.pow(a,s),f=o.pow(a,r);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let d=1;for(let g=o.sqr(f);d<c&&!o.eql(g,o.ONE);d++)g=o.sqr(g);const h=o.pow(u,Br<<BigInt(c-d-1));u=o.sqr(h),l=o.mul(l,h),f=o.mul(f,u),c=d}return l}}function qBe(e){if(e%XI===LBe){const t=(e+Br)/XI;return function(r,n){const i=r.pow(n,t);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(e%oF===sF){const t=(e-sF)/oF;return function(r,n){const i=r.mul(n,Dl),s=r.pow(i,t),o=r.mul(n,s),a=r.mul(r.mul(o,Dl),s),c=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return UBe(e)}const zBe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function FBe(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=zBe.reduce((n,i)=>(n[i]="function",n),t);return n0(e,r)}function HBe(e,t,r){if(r<En)throw new Error("invalid exponent, negatives unsupported");if(r===En)return e.ONE;if(r===Br)return t;let n=e.ONE,i=t;for(;r>En;)r&Br&&(n=e.mul(n,i)),i=e.sqr(i),r>>=Br;return n}function WBe(e,t){const r=new Array(t.length),n=t.reduce((s,o,a)=>e.is0(o)?s:(r[a]=s,e.mul(s,o)),e.ONE),i=e.inv(n);return t.reduceRight((s,o,a)=>e.is0(o)?s:(r[a]=e.mul(s,r[a]),e.mul(s,o)),i),r}function hte(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function pte(e,t,r=!1,n={}){if(e<=En)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=hte(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:r,BITS:i,BYTES:s,MASK:q7(i),ZERO:En,ONE:Br,create:c=>$i(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return En<=c&&c<e},is0:c=>c===En,isOdd:c=>(c&Br)===Br,neg:c=>$i(-c,e),eql:(c,u)=>c===u,sqr:c=>$i(c*c,e),add:(c,u)=>$i(c+u,e),sub:(c,u)=>$i(c-u,e),mul:(c,u)=>$i(c*u,e),pow:(c,u)=>HBe(a,c,u),div:(c,u)=>$i(c*eP(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>eP(c,e),sqrt:n.sqrt||(c=>(o||(o=qBe(e)),o(a,c))),invertBatch:c=>WBe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>r?g8(c,s):Ap(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?Zm(c):sd(c)}});return Object.freeze(a)}function gte(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function mte(e){const t=gte(e);return t+Math.ceil(t/2)}function VBe(e,t,r=!1){const n=e.length,i=gte(t),s=mte(t);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?Zm(e):sd(e),a=$i(o,t-Br)+Br;return r?g8(a,i):Ap(a,i)}const aF=BigInt(0),D6=BigInt(1);function BC(e,t){const r=t.negate();return e?r:t}function bte(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function RC(e,t){bte(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1);return{windows:r,windowSize:n}}function GBe(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function KBe(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const kC=new WeakMap,yte=new WeakMap;function NC(e){return yte.get(e)||1}function ZBe(e,t){return{constTimeNegate:BC,hasPrecomputes(r){return NC(r)!==1},unsafeLadder(r,n,i=e.ZERO){let s=r;for(;n>aF;)n&D6&&(i=i.add(s)),s=s.double(),n>>=D6;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=RC(n,t),o=[];let a=r,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let l=1;l<s;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=RC(r,t);let a=e.ZERO,c=e.BASE;const u=BigInt(2**r-1),l=2**r,f=BigInt(r);for(let d=0;d<s;d++){const h=d*o;let g=Number(i&u);i>>=f,g>o&&(g-=l,i+=D6);const p=h,b=h+Math.abs(g)-1,w=d%2!==0,y=g<0;g===0?c=c.add(BC(w,n[p])):a=a.add(BC(y,n[b]))}return{p:a,f:c}},wNAFUnsafe(r,n,i,s=e.ZERO){const{windows:o,windowSize:a}=RC(r,t),c=BigInt(2**r-1),u=2**r,l=BigInt(r);for(let f=0;f<o;f++){const d=f*a;if(i===aF)break;let h=Number(i&c);if(i>>=l,h>a&&(h-=u,i+=D6),h===0)continue;let g=n[d+Math.abs(h)-1];h<0&&(g=g.negate()),s=s.add(g)}return s},getPrecomputes(r,n,i){let s=kC.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&kC.set(n,i(s))),s},wNAFCached(r,n,i){const s=NC(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=NC(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){bte(n,t),yte.set(r,n),kC.delete(r)}}}function YBe(e,t,r,n){if(GBe(r,e),KBe(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,s=lte(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),u=Math.floor((t.BITS-1)/o)*o;let l=i;for(let f=u;f>=0;f-=o){c.fill(i);for(let h=0;h<n.length;h++){const g=n[h],p=Number(g>>BigInt(f)&BigInt(a));c[p]=c[p].add(r[h])}let d=i;for(let h=c.length-1,g=i;h>0;h--)g=g.add(c[h]),d=d.add(g);if(l=l.add(d),f!==0)for(let h=0;h<o;h++)l=l.double()}return l}function wte(e){return FBe(e.Fp),n0(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...hte(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const th=BigInt(0),DC=BigInt(1);function QBe(e){return n0(e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...e})}function JBe(e){const t=QBe(e),{P:r}=t,n=y=>$i(y,r),i=t.montgomeryBits,s=Math.ceil(i/8),o=t.nByteLength,a=t.adjustScalarBytes||(y=>y),c=t.powPminus2||(y=>fte(y,r-BigInt(2),r));function u(y,v,m){const C=n(y*(v-m));return v=n(v-C),m=n(m+C),[v,m]}const l=(t.a-BigInt(2))/BigInt(4);function f(y,v){vc("u",y,th,r),vc("scalar",v,th,r);const m=v,C=y;let E=DC,_=th,P=y,x=DC,O=th,D;for(let k=BigInt(i-1);k>=th;k--){const T=m>>k&DC;O^=T,D=u(O,E,P),E=D[0],P=D[1],D=u(O,_,x),_=D[0],x=D[1],O=T;const S=E+_,I=n(S*S),A=E-_,j=n(A*A),N=I-j,B=P+x,$=P-x,M=n($*S),L=n(B*A),q=M+L,U=M-L;P=n(q*q),x=n(C*n(U*U)),E=n(I*j),_=n(N*(I+n(l*N)))}D=u(O,E,P),E=D[0],P=D[1],D=u(O,_,x),_=D[0],x=D[1];const R=c(_);return n(E*R)}function d(y){return g8(n(y),s)}function h(y){const v=ls("u coordinate",y,s);return o===32&&(v[31]&=127),Zm(v)}function g(y){const v=ls("scalar",y),m=v.length;if(m!==s&&m!==o){let C=""+s+" or "+o;throw new Error("invalid scalar, expected "+C+" bytes, got "+m)}return Zm(a(v))}function p(y,v){const m=h(v),C=g(y),E=f(m,C);if(E===th)throw new Error("invalid private or public key received");return d(E)}const b=d(t.Gu);function w(y){return p(y,b)}return{scalarMult:p,scalarMultBase:w,getSharedSecret:(y,v)=>p(y,v),getPublicKey:y=>w(y),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:b}}const tP=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const XBe=BigInt(1),cF=BigInt(2),eRe=BigInt(3),tRe=BigInt(5);BigInt(8);function rRe(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=tP,o=e*e%s*e%s,a=go(o,cF,s)*o%s,c=go(a,XBe,s)*e%s,u=go(c,tRe,s)*c%s,l=go(u,t,s)*u%s,f=go(l,r,s)*l%s,d=go(f,n,s)*f%s,h=go(d,i,s)*d%s,g=go(h,i,s)*d%s,p=go(g,t,s)*u%s;return{pow_p_5_8:go(p,cF,s)*e%s,b2:o}}function nRe(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const rP=JBe({P:tP,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=tP,{pow_p_5_8:r,b2:n}=rRe(e);return $i(go(r,eRe,t)*n,t)},adjustScalarBytes:nRe,randomBytes:r0});function uF(e){e.lowS!==void 0&&Ep("lowS",e.lowS),e.prehash!==void 0&&Ep("prehash",e.prehash)}function iRe(e){const t=wte(e);n0(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:sRe,hexToBytes:oRe}=MBe;class aRe extends Error{constructor(t=""){super(t)}}const cc={Err:aRe,_tlv:{encode:(e,t)=>{const{Err:r}=cc;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");const n=t.length/2,i=jh(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?jh(i.length/2|128):"";return jh(e)+s+i+t},decode(e,t){const{Err:r}=cc;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const u=t.subarray(n,n+c);if(u.length!==c)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const l of u)o=o<<8|l;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=t.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+o)}}},_int:{encode(e){const{Err:t}=cc;if(e<pc)throw new t("integer: negative integers are not allowed");let r=jh(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=cc;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return sRe(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=cc,i=typeof e=="string"?oRe(e):e;_b(i);const{v:s,l:o}=n.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:u,l}=n.decode(2,c);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(e){const{_tlv:t,_int:r}=cc,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s)),s=n+i;return t.encode(48,s)}},pc=BigInt(0),dn=BigInt(1);BigInt(2);const lF=BigInt(3);BigInt(4);function cRe(e){const t=iRe(e),{Fp:r}=t,n=pte(t.n,t.nBitLength),i=t.toBytes||((p,b,w)=>{const y=b.toAffine();return Ym(Uint8Array.from([4]),r.toBytes(y.x),r.toBytes(y.y))}),s=t.fromBytes||(p=>{const b=p.subarray(1),w=r.fromBytes(b.subarray(0,r.BYTES)),y=r.fromBytes(b.subarray(r.BYTES,2*r.BYTES));return{x:w,y}});function o(p){const{a:b,b:w}=t,y=r.sqr(p),v=r.mul(y,p);return r.add(r.add(v,r.mul(p,b)),w)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(p){return m8(p,dn,t.n)}function c(p){const{allowedPrivateKeyLengths:b,nByteLength:w,wrapPrivateKey:y,n:v}=t;if(b&&typeof p!="bigint"){if(Id(p)&&(p=_p(p)),typeof p!="string"||!b.includes(p.length))throw new Error("invalid private key");p=p.padStart(w*2,"0")}let m;try{m=typeof p=="bigint"?p:sd(ls("private key",p,w))}catch{throw new Error("invalid private key, expected hex or "+w+" bytes, got "+typeof p)}return y&&(m=$i(m,v)),vc("private key",m,dn,v),m}function u(p){if(!(p instanceof d))throw new Error("ProjectivePoint expected")}const l=JI((p,b)=>{const{px:w,py:y,pz:v}=p;if(r.eql(v,r.ONE))return{x:w,y};const m=p.is0();b==null&&(b=m?r.ONE:r.inv(v));const C=r.mul(w,b),E=r.mul(y,b),_=r.mul(v,b);if(m)return{x:r.ZERO,y:r.ZERO};if(!r.eql(_,r.ONE))throw new Error("invZ was invalid");return{x:C,y:E}}),f=JI(p=>{if(p.is0()){if(t.allowInfinityPoint&&!r.is0(p.py))return;throw new Error("bad point: ZERO")}const{x:b,y:w}=p.toAffine();if(!r.isValid(b)||!r.isValid(w))throw new Error("bad point: x or y not FE");const y=r.sqr(w),v=o(b);if(!r.eql(y,v))throw new Error("bad point: equation left != right");if(!p.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(b,w,y){if(this.px=b,this.py=w,this.pz=y,b==null||!r.isValid(b))throw new Error("x required");if(w==null||!r.isValid(w))throw new Error("y required");if(y==null||!r.isValid(y))throw new Error("z required");Object.freeze(this)}static fromAffine(b){const{x:w,y}=b||{};if(!b||!r.isValid(w)||!r.isValid(y))throw new Error("invalid affine point");if(b instanceof d)throw new Error("projective point not allowed");const v=m=>r.eql(m,r.ZERO);return v(w)&&v(y)?d.ZERO:new d(w,y,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const w=r.invertBatch(b.map(y=>y.pz));return b.map((y,v)=>y.toAffine(w[v])).map(d.fromAffine)}static fromHex(b){const w=d.fromAffine(s(ls("pointHex",b)));return w.assertValidity(),w}static fromPrivateKey(b){return d.BASE.multiply(c(b))}static msm(b,w){return YBe(d,n,b,w)}_setWindowSize(b){g.setWindowSize(this,b)}assertValidity(){f(this)}hasEvenY(){const{y:b}=this.toAffine();if(r.isOdd)return!r.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){u(b);const{px:w,py:y,pz:v}=this,{px:m,py:C,pz:E}=b,_=r.eql(r.mul(w,E),r.mul(m,v)),P=r.eql(r.mul(y,E),r.mul(C,v));return _&&P}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){const{a:b,b:w}=t,y=r.mul(w,lF),{px:v,py:m,pz:C}=this;let E=r.ZERO,_=r.ZERO,P=r.ZERO,x=r.mul(v,v),O=r.mul(m,m),D=r.mul(C,C),R=r.mul(v,m);return R=r.add(R,R),P=r.mul(v,C),P=r.add(P,P),E=r.mul(b,P),_=r.mul(y,D),_=r.add(E,_),E=r.sub(O,_),_=r.add(O,_),_=r.mul(E,_),E=r.mul(R,E),P=r.mul(y,P),D=r.mul(b,D),R=r.sub(x,D),R=r.mul(b,R),R=r.add(R,P),P=r.add(x,x),x=r.add(P,x),x=r.add(x,D),x=r.mul(x,R),_=r.add(_,x),D=r.mul(m,C),D=r.add(D,D),x=r.mul(D,R),E=r.sub(E,x),P=r.mul(D,O),P=r.add(P,P),P=r.add(P,P),new d(E,_,P)}add(b){u(b);const{px:w,py:y,pz:v}=this,{px:m,py:C,pz:E}=b;let _=r.ZERO,P=r.ZERO,x=r.ZERO;const O=t.a,D=r.mul(t.b,lF);let R=r.mul(w,m),k=r.mul(y,C),T=r.mul(v,E),S=r.add(w,y),I=r.add(m,C);S=r.mul(S,I),I=r.add(R,k),S=r.sub(S,I),I=r.add(w,v);let A=r.add(m,E);return I=r.mul(I,A),A=r.add(R,T),I=r.sub(I,A),A=r.add(y,v),_=r.add(C,E),A=r.mul(A,_),_=r.add(k,T),A=r.sub(A,_),x=r.mul(O,I),_=r.mul(D,T),x=r.add(_,x),_=r.sub(k,x),x=r.add(k,x),P=r.mul(_,x),k=r.add(R,R),k=r.add(k,R),T=r.mul(O,T),I=r.mul(D,I),k=r.add(k,T),T=r.sub(R,T),T=r.mul(O,T),I=r.add(I,T),R=r.mul(k,I),P=r.add(P,R),R=r.mul(A,I),_=r.mul(S,_),_=r.sub(_,R),R=r.mul(S,k),x=r.mul(A,x),x=r.add(x,R),new d(_,P,x)}subtract(b){return this.add(b.negate())}is0(){return this.equals(d.ZERO)}wNAF(b){return g.wNAFCached(this,b,d.normalizeZ)}multiplyUnsafe(b){const{endo:w,n:y}=t;vc("scalar",b,pc,y);const v=d.ZERO;if(b===pc)return v;if(this.is0()||b===dn)return this;if(!w||g.hasPrecomputes(this))return g.wNAFCachedUnsafe(this,b,d.normalizeZ);let{k1neg:m,k1:C,k2neg:E,k2:_}=w.splitScalar(b),P=v,x=v,O=this;for(;C>pc||_>pc;)C&dn&&(P=P.add(O)),_&dn&&(x=x.add(O)),O=O.double(),C>>=dn,_>>=dn;return m&&(P=P.negate()),E&&(x=x.negate()),x=new d(r.mul(x.px,w.beta),x.py,x.pz),P.add(x)}multiply(b){const{endo:w,n:y}=t;vc("scalar",b,dn,y);let v,m;if(w){const{k1neg:C,k1:E,k2neg:_,k2:P}=w.splitScalar(b);let{p:x,f:O}=this.wNAF(E),{p:D,f:R}=this.wNAF(P);x=g.constTimeNegate(C,x),D=g.constTimeNegate(_,D),D=new d(r.mul(D.px,w.beta),D.py,D.pz),v=x.add(D),m=O.add(R)}else{const{p:C,f:E}=this.wNAF(b);v=C,m=E}return d.normalizeZ([v,m])[0]}multiplyAndAddUnsafe(b,w,y){const v=d.BASE,m=(E,_)=>_===pc||_===dn||!E.equals(v)?E.multiplyUnsafe(_):E.multiply(_),C=m(this,w).add(m(b,y));return C.is0()?void 0:C}toAffine(b){return l(this,b)}isTorsionFree(){const{h:b,isTorsionFree:w}=t;if(b===dn)return!0;if(w)return w(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:w}=t;return b===dn?this:w?w(d,this):this.multiplyUnsafe(t.h)}toRawBytes(b=!0){return Ep("isCompressed",b),this.assertValidity(),i(d,this,b)}toHex(b=!0){return Ep("isCompressed",b),_p(this.toRawBytes(b))}}d.BASE=new d(t.Gx,t.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);const h=t.nBitLength,g=ZBe(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function uRe(e){const t=wte(e);return n0(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function lRe(e){const t=uRe(e),{Fp:r,n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function o(T){return $i(T,n)}function a(T){return eP(T,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:f}=cRe({...t,toBytes(T,S,I){const A=S.toAffine(),j=r.toBytes(A.x),N=Ym;return Ep("isCompressed",I),I?N(Uint8Array.from([S.hasEvenY()?2:3]),j):N(Uint8Array.from([4]),j,r.toBytes(A.y))},fromBytes(T){const S=T.length,I=T[0],A=T.subarray(1);if(S===i&&(I===2||I===3)){const j=sd(A);if(!m8(j,dn,r.ORDER))throw new Error("Point is not on curve");const N=l(j);let B;try{B=r.sqrt(N)}catch(M){const L=M instanceof Error?": "+M.message:"";throw new Error("Point is not on curve"+L)}const $=(B&dn)===dn;return(I&1)===1!==$&&(B=r.neg(B)),{x:j,y:B}}else if(S===s&&I===4){const j=r.fromBytes(A.subarray(0,r.BYTES)),N=r.fromBytes(A.subarray(r.BYTES,2*r.BYTES));return{x:j,y:N}}else{const j=i,N=s;throw new Error("invalid Point, expected length of "+j+", or uncompressed "+N+", got "+S)}}}),d=T=>_p(Ap(T,t.nByteLength));function h(T){const S=n>>dn;return T>S}function g(T){return h(T)?o(-T):T}const p=(T,S,I)=>sd(T.slice(S,I));class b{constructor(S,I,A){this.r=S,this.s=I,this.recovery=A,this.assertValidity()}static fromCompact(S){const I=t.nByteLength;return S=ls("compactSignature",S,I*2),new b(p(S,0,I),p(S,I,2*I))}static fromDER(S){const{r:I,s:A}=cc.toSig(ls("DER",S));return new b(I,A)}assertValidity(){vc("r",this.r,dn,n),vc("s",this.s,dn,n)}addRecoveryBit(S){return new b(this.r,this.s,S)}recoverPublicKey(S){const{r:I,s:A,recovery:j}=this,N=E(ls("msgHash",S));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const B=j===2||j===3?I+t.n:I;if(B>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const $=(j&1)===0?"02":"03",M=c.fromHex($+d(B)),L=a(B),q=o(-N*L),U=o(A*L),F=c.BASE.multiplyAndAddUnsafe(M,q,U);if(!F)throw new Error("point at infinify");return F.assertValidity(),F}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Cp(this.toDERHex())}toDERHex(){return cc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Cp(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const w={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=mte(t.n);return VBe(t.randomBytes(T),t.n)},precompute(T=8,S=c.BASE){return S._setWindowSize(T),S.multiply(BigInt(3)),S}};function y(T,S=!0){return c.fromPrivateKey(T).toRawBytes(S)}function v(T){const S=Id(T),I=typeof T=="string",A=(S||I)&&T.length;return S?A===i||A===s:I?A===2*i||A===2*s:T instanceof c}function m(T,S,I=!0){if(v(T))throw new Error("first arg must be private key");if(!v(S))throw new Error("second arg must be public key");return c.fromHex(S).multiply(u(T)).toRawBytes(I)}const C=t.bits2int||function(T){if(T.length>8192)throw new Error("input is too large");const S=sd(T),I=T.length*8-t.nBitLength;return I>0?S>>BigInt(I):S},E=t.bits2int_modN||function(T){return o(C(T))},_=q7(t.nBitLength);function P(T){return vc("num < 2^"+t.nBitLength,T,pc,_),Ap(T,t.nByteLength)}function x(T,S,I=O){if(["recovered","canonical"].some(V=>V in I))throw new Error("sign() legacy options not supported");const{hash:A,randomBytes:j}=t;let{lowS:N,prehash:B,extraEntropy:$}=I;N==null&&(N=!0),T=ls("msgHash",T),uF(I),B&&(T=ls("prehashed msgHash",A(T)));const M=E(T),L=u(S),q=[P(L),P(M)];if($!=null&&$!==!1){const V=$===!0?j(r.BYTES):$;q.push(ls("extraEntropy",V))}const U=Ym(...q),F=M;function H(V){const W=C(V);if(!f(W))return;const Z=a(W),X=c.BASE.multiply(W).toAffine(),ue=o(X.x);if(ue===pc)return;const Y=o(Z*o(F+ue*L));if(Y===pc)return;let Q=(X.x===ue?0:2)|Number(X.y&dn),ae=Y;return N&&h(Y)&&(ae=g(Y),Q^=1),new b(ue,ae,Q)}return{seed:U,k2sig:H}}const O={lowS:t.lowS,prehash:!1},D={lowS:t.lowS,prehash:!1};function R(T,S,I=O){const{seed:A,k2sig:j}=x(T,S,I),N=t;return dte(N.hash.outputLen,N.nByteLength,N.hmac)(A,j)}c.BASE._setWindowSize(8);function k(T,S,I,A=D){const j=T;S=ls("msgHash",S),I=ls("publicKey",I);const{lowS:N,prehash:B,format:$}=A;if(uF(A),"strict"in A)throw new Error("options.strict was renamed to lowS");if($!==void 0&&$!=="compact"&&$!=="der")throw new Error("format must be compact or der");const M=typeof j=="string"||Id(j),L=!M&&!$&&typeof j=="object"&&j!==null&&typeof j.r=="bigint"&&typeof j.s=="bigint";if(!M&&!L)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let q,U;try{if(L&&(q=new b(j.r,j.s)),M){try{$!=="compact"&&(q=b.fromDER(j))}catch(Y){if(!(Y instanceof cc.Err))throw Y}!q&&$!=="der"&&(q=b.fromCompact(j))}U=c.fromHex(I)}catch{return!1}if(!q||N&&q.hasHighS())return!1;B&&(S=t.hash(S));const{r:F,s:H}=q,V=E(S),W=a(H),Z=o(V*W),X=o(F*W),ue=c.BASE.multiplyAndAddUnsafe(U,Z,X)?.toAffine();return ue?o(ue.x)===F:!1}return{CURVE:t,getPublicKey:y,getSharedSecret:m,sign:R,verify:k,ProjectivePoint:c,Signature:b,utils:w}}function dRe(e){return{hash:e,hmac:(t,...r)=>f8(e,t,gje(...r)),randomBytes:r0}}function fRe(e,t){const r=n=>lRe({...e,...dRe(n)});return{...r(t),create:r}}const vte=pte(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),hRe=vte.create(BigInt("-3")),pRe=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),gRe=fRe({a:hRe,b:pRe,Fp:vte,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Eb),Ete="base10",mi="base16",_o="base64pad",hu="base64url",Cb="utf8",_te=0,Ec=1,Ab=2,mRe=0,dF=1,rm=12,z7=32;function bRe(){const e=rP.utils.randomPrivateKey(),t=rP.getPublicKey(e);return{privateKey:qt(e,mi),publicKey:qt(t,mi)}}function nP(){const e=r0(z7);return qt(e,mi)}function yRe(e,t){const r=rP.getSharedSecret(dr(e,mi),dr(t,mi)),n=_Be(Eb,r,void 0,void 0,z7);return qt(n,mi)}function o5(e){const t=Eb(dr(e,mi));return qt(t,mi)}function na(e){const t=Eb(dr(e,Cb));return qt(t,mi)}function Cte(e){return dr(`${e}`,Ete)}function Pd(e){return Number(qt(e,Ete))}function Ate(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function xte(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-t.length%4)%4;return t+"=".repeat(r)}function wRe(e){const t=Cte(typeof e.type<"u"?e.type:_te);if(Pd(t)===Ec&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof e.senderPublicKey<"u"?dr(e.senderPublicKey,mi):void 0,n=typeof e.iv<"u"?dr(e.iv,mi):r0(rm),i=dr(e.symKey,mi),s=cte(i,n).encrypt(dr(e.message,Cb)),o=Ite({type:t,sealed:s,iv:n,senderPublicKey:r});return e.encoding===hu?Ate(o):o}function vRe(e){const t=dr(e.symKey,mi),{sealed:r,iv:n}=Qm({encoded:e.encoded,encoding:e.encoding}),i=cte(t,n).decrypt(r);if(i===null)throw new Error("Failed to decrypt");return qt(i,Cb)}function ERe(e,t){const r=Cte(Ab),n=r0(rm),i=dr(e,Cb),s=Ite({type:r,sealed:i,iv:n});return t===hu?Ate(s):s}function _Re(e,t){const{sealed:r}=Qm({encoded:e,encoding:t});return qt(r,Cb)}function Ite(e){if(Pd(e.type)===Ab)return qt(aa([e.type,e.sealed]),_o);if(Pd(e.type)===Ec){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return qt(aa([e.type,e.senderPublicKey,e.iv,e.sealed]),_o)}return qt(aa([e.type,e.iv,e.sealed]),_o)}function Qm(e){const t=(e.encoding||_o)===hu?xte(e.encoded):e.encoded,r=dr(t,_o),n=r.slice(mRe,dF),i=dF;if(Pd(n)===Ec){const c=i+z7,u=c+rm,l=r.slice(i,c),f=r.slice(c,u),d=r.slice(u);return{type:n,sealed:d,iv:f,senderPublicKey:l}}if(Pd(n)===Ab){const c=r.slice(i),u=r0(rm);return{type:n,sealed:c,iv:u}}const s=i+rm,o=r.slice(i,s),a=r.slice(s);return{type:n,sealed:a,iv:o}}function CRe(e,t){const r=Qm({encoded:e,encoding:t?.encoding});return Pte({type:Pd(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?qt(r.senderPublicKey,mi):void 0,receiverPublicKey:t?.receiverPublicKey})}function Pte(e){const t=e?.type||_te;if(t===Ec){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function fF(e){return e.type===Ec&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}function hF(e){return e.type===Ab}function ARe(e){const t=pt.from(e.x,"base64"),r=pt.from(e.y,"base64");return aa([new Uint8Array([4]),t,r])}function xRe(e,t){const[r,n,i]=e.split("."),s=pt.from(xte(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${r}.${n}`,u=Eb(c),l=ARe(t);if(!gRe.verify(aa([o,a]),u,l))throw new Error("Invalid signature");return ip(e).payload}const IRe="irn";function i3(e){return e?.relay||{protocol:IRe}}function Wg(e){const t=jJ[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}function PRe(e,t="-"){const r={},n="relay"+t;return Object.keys(e).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=e[i];r[s]=o}}),r}function pF(e){if(!e.includes("wc:")){const u=Zee(e);u!=null&&u.includes("wc:")&&(e=u)}e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),r=e.indexOf("?")!==-1?e.indexOf("?"):void 0,n=e.substring(0,t),i=e.substring(t+1,r).split("@"),s=typeof r<"u"?e.substring(r):"",o=new URLSearchParams(s),a={};o.forEach((u,l)=>{a[l]=u});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:SRe(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:PRe(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function SRe(e){return e.startsWith("//")?e.substring(2):e}function TRe(e,t="-"){const r="relay",n={};return Object.keys(e).forEach(i=>{const s=i,o=r+t+s;e[s]&&(n[o]=e[s])}),n}function gF(e){const t=new URLSearchParams,r=TRe(e.relay);Object.keys(r).sort().forEach(i=>{t.set(i,r[i])}),t.set("symKey",e.symKey),e.expiryTimestamp&&t.set("expiryTimestamp",e.expiryTimestamp.toString()),e.methods&&t.set("methods",e.methods.join(","));const n=t.toString();return`${e.protocol}:${e.topic}@${e.version}?${n}`}function $6(e,t,r){return`${e}?wc_ev=${r}&topic=${t}`}var ORe=Object.defineProperty,jRe=Object.defineProperties,BRe=Object.getOwnPropertyDescriptors,mF=Object.getOwnPropertySymbols,RRe=Object.prototype.hasOwnProperty,kRe=Object.prototype.propertyIsEnumerable,bF=(e,t,r)=>t in e?ORe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,NRe=(e,t)=>{for(var r in t||(t={}))RRe.call(t,r)&&bF(e,r,t[r]);if(mF)for(var r of mF(t))kRe.call(t,r)&&bF(e,r,t[r]);return e},DRe=(e,t)=>jRe(e,BRe(t));function i0(e){const t=[];return e.forEach(r=>{const[n,i]=r.split(":");t.push(`${n}:${i}`)}),t}function $Re(e){const t=[];return Object.values(e).forEach(r=>{t.push(...i0(r.accounts))}),t}function MRe(e,t){const r=[];return Object.values(e).forEach(n=>{i0(n.accounts).includes(t)&&r.push(...n.methods)}),r}function LRe(e,t){const r=[];return Object.values(e).forEach(n=>{i0(n.accounts).includes(t)&&r.push(...n.events)}),r}function b8(e){return e.includes(":")}function Bh(e){return b8(e)?e.split(":")[0]:e}function yF(e){var t,r,n;const i={};if(!Au(e))return i;for(const[s,o]of Object.entries(e)){const a=b8(s)?[s]:o.chains,c=o.methods||[],u=o.events||[],l=Bh(s);i[l]=DRe(NRe({},i[l]),{chains:la(a,(t=i[l])==null?void 0:t.chains),methods:la(c,(r=i[l])==null?void 0:r.methods),events:la(u,(n=i[l])==null?void 0:n.events)})}return i}function URe(e){const t={};return e?.forEach(r=>{var n;const[i,s]=r.split(":");t[i]||(t[i]={accounts:[],chains:[],events:[],methods:[]}),t[i].accounts.push(r),(n=t[i].chains)==null||n.push(`${i}:${s}`)}),t}function wF(e,t){t=t.map(n=>n.replace("did:pkh:",""));const r=URe(t);for(const[n,i]of Object.entries(r))i.methods?i.methods=la(i.methods,e):i.methods=e,i.events=["chainChanged","accountsChanged"];return r}function qRe(e,t){var r,n,i,s,o,a;const c=yF(e),u=yF(t),l={},f=Object.keys(c).concat(Object.keys(u));for(const d of f)l[d]={chains:la((r=c[d])==null?void 0:r.chains,(n=u[d])==null?void 0:n.chains),methods:la((i=c[d])==null?void 0:i.methods,(s=u[d])==null?void 0:s.methods),events:la((o=c[d])==null?void 0:o.events,(a=u[d])==null?void 0:a.events)};return l}const zRe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},FRe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ce(e,t){const{message:r,code:n}=FRe[e];return{message:t?`${r} ${t}`:r,code:n}}function Ut(e,t){const{message:r,code:n}=zRe[e];return{message:t?`${r} ${t}`:r,code:n}}function Cu(e,t){return!!Array.isArray(e)}function Au(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function kn(e){return typeof e>"u"}function Lr(e,t){return t&&kn(e)?!0:typeof e=="string"&&!!e.trim().length}function F7(e,t){return t&&kn(e)?!0:typeof e=="number"&&!isNaN(e)}function HRe(e,t){const{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),i=Object.keys(r);let s=!0;return Kl(i,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:u}=e.namespaces[o],l=i0(a),f=r[o];(!Kl(Hee(o,f),l)||!Kl(f.methods,c)||!Kl(f.events,u))&&(s=!1)}),s):!1}function s3(e){return Lr(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function WRe(e){if(Lr(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const r=t[0]+":"+t[1];return!!t[2]&&s3(r)}}return!1}function VRe(e){function t(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(Lr(e,!1)){if(t(e))return!0;const r=Zee(e);return t(r)}}catch{}return!1}function GRe(e){var t;return(t=e?.proposer)==null?void 0:t.publicKey}function KRe(e){return e?.topic}function ZRe(e,t){let r=null;return Lr(e?.publicKey,!1)||(r=Ce("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}function vF(e){let t=!0;return Cu(e)?e.length&&(t=e.every(r=>Lr(r,!1))):t=!1,t}function YRe(e,t,r){let n=null;return Cu(t)&&t.length?t.forEach(i=>{n||s3(i)||(n=Ut("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):s3(e)||(n=Ut("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function QRe(e,t,r){let n=null;return Object.entries(e).forEach(([i,s])=>{if(n)return;const o=YRe(i,Hee(i,s),`${t} ${r}`);o&&(n=o)}),n}function JRe(e,t){let r=null;return Cu(e)?e.forEach(n=>{r||WRe(n)||(r=Ut("UNSUPPORTED_ACCOUNTS",`${t}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Ut("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function XRe(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;const i=JRe(n?.accounts,`${t} namespace`);i&&(r=i)}),r}function eke(e,t){let r=null;return vF(e?.methods)?vF(e?.events)||(r=Ut("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=Ut("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}function Ste(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;const i=eke(n,`${t}, namespace`);i&&(r=i)}),r}function tke(e,t,r){let n=null;if(e&&Au(e)){const i=Ste(e,t);i&&(n=i);const s=QRe(e,t,r);s&&(n=s)}else n=Ce("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}function $C(e,t){let r=null;if(e&&Au(e)){const n=Ste(e,t);n&&(r=n);const i=XRe(e,t);i&&(r=i)}else r=Ce("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function Tte(e){return Lr(e.protocol,!0)}function rke(e,t){let r=!1;return e?e&&Cu(e)&&e.length&&e.forEach(n=>{r=Tte(n)}):r=!0,r}function nke(e){return typeof e=="number"}function ji(e){return typeof e<"u"&&typeof e!==null}function ike(e){return!(!e||typeof e!="object"||!e.code||!F7(e.code,!1)||!e.message||!Lr(e.message,!1))}function ske(e){return!(kn(e)||!Lr(e.method,!1))}function oke(e){return!(kn(e)||kn(e.result)&&kn(e.error)||!F7(e.id,!1)||!Lr(e.jsonrpc,!1))}function ake(e){return!(kn(e)||!Lr(e.name,!1))}function EF(e,t){return!(!s3(t)||!$Re(e).includes(t))}function cke(e,t,r){return Lr(r,!1)?MRe(e,t).includes(r):!1}function uke(e,t,r){return Lr(r,!1)?LRe(e,t).includes(r):!1}function _F(e,t,r){let n=null;const i=lke(e),s=dke(t),o=Object.keys(i),a=Object.keys(s),c=CF(Object.keys(e)),u=CF(Object.keys(t)),l=c.filter(f=>!u.includes(f));return l.length&&(n=Ce("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${l.toString()}
      Received: ${Object.keys(t).toString()}`)),Kl(o,a)||(n=Ce("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(t).forEach(f=>{if(!f.includes(":")||n)return;const d=i0(t[f].accounts);d.includes(f)||(n=Ce("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${d.toString()}`))}),o.forEach(f=>{n||(Kl(i[f].methods,s[f].methods)?Kl(i[f].events,s[f].events)||(n=Ce("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${f}`)):n=Ce("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${f}`))}),n}function lke(e){const t={};return Object.keys(e).forEach(r=>{var n;r.includes(":")?t[r]=e[r]:(n=e[r].chains)==null||n.forEach(i=>{t[i]={methods:e[r].methods,events:e[r].events}})}),t}function CF(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function dke(e){const t={};return Object.keys(e).forEach(r=>{r.includes(":")?t[r]=e[r]:i0(e[r].accounts)?.forEach(i=>{t[i]={accounts:e[r].accounts.filter(s=>s.includes(`${i}:`)),methods:e[r].methods,events:e[r].events}})}),t}function fke(e,t){return F7(e,!1)&&e<=t.max&&e>=t.min}function AF(){const e=wb();return new Promise(t=>{switch(e){case bs.browser:t(hke());break;case bs.reactNative:t(pke());break;case bs.node:t(gke());break;default:t(!0)}})}function hke(){return t0()&&navigator?.onLine}async function pke(){return Ku()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo?(await globalThis?.NetInfo.fetch())?.isConnected:!0}function gke(){return!0}function mke(e){switch(wb()){case bs.browser:bke(e);break;case bs.reactNative:yke(e);break}}function bke(e){!Ku()&&t0()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function yke(e){Ku()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo&&globalThis?.NetInfo.addEventListener(t=>e(t?.isConnected))}function wke(){var e;return t0()&&Cn.getDocument()?((e=Cn.getDocument())==null?void 0:e.visibilityState)==="visible":!0}const MC={};class jg{static get(t){return MC[t]}static set(t,r){MC[t]=r}static delete(t){delete MC[t]}}var vke={};const Ote="wc",jte=2,iP="core",ba=`${Ote}@2:${iP}:`,Eke={logger:"error"},_ke={database:":memory:"},Cke="crypto",xF="client_ed25519_seed",Ake=ie.ONE_DAY,xke="keychain",Ike="0.3",Pke="messages",Ske="0.3",IF=ie.SIX_HOURS,Tke="publisher",Bte="irn",Oke="error",Rte="wss://relay.walletconnect.org",jke="relayer",gn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Bke="_subscription",Ls={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Rke=.1,sP="2.21.0",cr={link_mode:"link_mode",relay:"relay"},a5={inbound:"inbound",outbound:"outbound"},kke="0.3",Nke="WALLETCONNECT_CLIENT_ID",PF="WALLETCONNECT_LINK_MODE_APPS",cs={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Dke="subscription",$ke="0.3",Mke="pairing",Lke="0.3",Bg={wc_pairingDelete:{req:{ttl:ie.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ie.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ie.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ie.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ie.ONE_DAY,prompt:!1,tag:0},res:{ttl:ie.ONE_DAY,prompt:!1,tag:0}}},$l={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},lo={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Uke="history",qke="0.3",zke="expirer",zs={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Fke="0.3",Hke="verify-api",Wke="https://verify.walletconnect.com",kte="https://verify.walletconnect.org",nm=kte,Vke=`${nm}/v3`,Gke=[Wke,kte],Kke="echo",Zke="https://echo.walletconnect.com",Xo={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},rc={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},fo={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Cl={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Al={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Rg={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Yke=.1,Qke="event-client",Jke=86400,Xke="https://pulse.walletconnect.org/batch";function eNe(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var p=0,b=0,w=0,y=g.length;w!==y&&g[w]===0;)w++,p++;for(var v=(y-w)*l+1>>>0,m=new Uint8Array(v);w!==y;){for(var C=g[w],E=0,_=v-1;(C!==0||E<b)&&_!==-1;_--,E++)C+=256*m[_]>>>0,m[_]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");b=E,w++}for(var P=v-b;P!==v&&m[P]===0;)P++;for(var x=c.repeat(p);P<v;++P)x+=e.charAt(m[P]);return x}function d(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var p=0;if(g[p]!==" "){for(var b=0,w=0;g[p]===c;)b++,p++;for(var y=(g.length-p)*u+1>>>0,v=new Uint8Array(y);g[p];){var m=r[g.charCodeAt(p)];if(m===255)return;for(var C=0,E=y-1;(m!==0||C<w)&&E!==-1;E--,C++)m+=a*v[E]>>>0,v[E]=m%256>>>0,m=m/256>>>0;if(m!==0)throw new Error("Non-zero carry");w=C,p++}if(g[p]!==" "){for(var _=y-w;_!==y&&v[_]===0;)_++;for(var P=new Uint8Array(b+(y-_)),x=b;_!==y;)P[x++]=v[_++];return P}}}function h(g){var p=d(g);if(p)return p;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var tNe=eNe,rNe=tNe;const Nte=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},nNe=e=>new TextEncoder().encode(e),iNe=e=>new TextDecoder().decode(e);class sNe{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class oNe{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return Dte(this,t)}}class aNe{constructor(t){this.decoders=t}or(t){return Dte(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Dte=(e,t)=>new aNe({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class cNe{constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new sNe(t,r,n),this.decoder=new oNe(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const y8=({name:e,prefix:t,encode:r,decode:n})=>new cNe(e,t,r,n),xb=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=rNe(r,t);return y8({prefix:e,name:t,encode:n,decode:s=>Nte(i(s))})},uNe=(e,t,r,n)=>{const i={};for(let l=0;l<t.length;++l)i[t[l]]=l;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,u=0;for(let l=0;l<s;++l){const f=i[e[l]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},lNe=(e,t,r)=>{const n=t[t.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},zn=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>y8({prefix:t,name:e,encode(i){return lNe(i,n,r)},decode(i){return uNe(i,n,r,e)}}),dNe=y8({prefix:"\0",name:"identity",encode:e=>iNe(e),decode:e=>nNe(e)});var fNe=Object.freeze({__proto__:null,identity:dNe});const hNe=zn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var pNe=Object.freeze({__proto__:null,base2:hNe});const gNe=zn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var mNe=Object.freeze({__proto__:null,base8:gNe});const bNe=xb({prefix:"9",name:"base10",alphabet:"0123456789"});var yNe=Object.freeze({__proto__:null,base10:bNe});const wNe=zn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),vNe=zn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var ENe=Object.freeze({__proto__:null,base16:wNe,base16upper:vNe});const _Ne=zn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),CNe=zn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ANe=zn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),xNe=zn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),INe=zn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),PNe=zn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),SNe=zn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),TNe=zn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ONe=zn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var jNe=Object.freeze({__proto__:null,base32:_Ne,base32upper:CNe,base32pad:ANe,base32padupper:xNe,base32hex:INe,base32hexupper:PNe,base32hexpad:SNe,base32hexpadupper:TNe,base32z:ONe});const BNe=xb({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),RNe=xb({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var kNe=Object.freeze({__proto__:null,base36:BNe,base36upper:RNe});const NNe=xb({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),DNe=xb({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var $Ne=Object.freeze({__proto__:null,base58btc:NNe,base58flickr:DNe});const MNe=zn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),LNe=zn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),UNe=zn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),qNe=zn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var zNe=Object.freeze({__proto__:null,base64:MNe,base64pad:LNe,base64url:UNe,base64urlpad:qNe});const $te=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),FNe=$te.reduce((e,t,r)=>(e[r]=t,e),[]),HNe=$te.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function WNe(e){return e.reduce((t,r)=>(t+=FNe[r],t),"")}function VNe(e){const t=[];for(const r of e){const n=HNe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const GNe=y8({prefix:"\uD83D\uDE80",name:"base256emoji",encode:WNe,decode:VNe});var KNe=Object.freeze({__proto__:null,base256emoji:GNe}),ZNe=Mte,SF=128,YNe=-128,QNe=Math.pow(2,31);function Mte(e,t,r){t=t||[],r=r||0;for(var n=r;e>=QNe;)t[r++]=e&255|SF,e/=128;for(;e&YNe;)t[r++]=e&255|SF,e>>>=7;return t[r]=e|0,Mte.bytes=r-n+1,t}var JNe=oP,XNe=128,TF=127;function oP(e,n){var r=0,n=n||0,i=0,s=n,o,a=e.length;do{if(s>=a)throw oP.bytes=0,new RangeError("Could not decode varint");o=e[s++],r+=i<28?(o&TF)<<i:(o&TF)*Math.pow(2,i),i+=7}while(o>=XNe);return oP.bytes=s-n,r}var eDe=Math.pow(2,7),tDe=Math.pow(2,14),rDe=Math.pow(2,21),nDe=Math.pow(2,28),iDe=Math.pow(2,35),sDe=Math.pow(2,42),oDe=Math.pow(2,49),aDe=Math.pow(2,56),cDe=Math.pow(2,63),uDe=function(e){return e<eDe?1:e<tDe?2:e<rDe?3:e<nDe?4:e<iDe?5:e<sDe?6:e<oDe?7:e<aDe?8:e<cDe?9:10},lDe={encode:ZNe,decode:JNe,encodingLength:uDe},Lte=lDe;const OF=(e,t,r=0)=>(Lte.encode(e,t,r),t),jF=e=>Lte.encodingLength(e),aP=(e,t)=>{const r=t.byteLength,n=jF(e),i=n+jF(r),s=new Uint8Array(i+r);return OF(e,s,0),OF(r,s,n),s.set(t,i),new dDe(e,r,t,s)};class dDe{constructor(t,r,n,i){this.code=t,this.size=r,this.digest=n,this.bytes=i}}const Ute=({name:e,code:t,encode:r})=>new fDe(e,t,r);class fDe{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?aP(this.code,r):r.then(n=>aP(this.code,n))}else throw Error("Unknown type, must be binary type")}}const qte=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),hDe=Ute({name:"sha2-256",code:18,encode:qte("SHA-256")}),pDe=Ute({name:"sha2-512",code:19,encode:qte("SHA-512")});var gDe=Object.freeze({__proto__:null,sha256:hDe,sha512:pDe});const zte=0,mDe="identity",Fte=Nte,bDe=e=>aP(zte,Fte(e)),yDe={code:zte,name:mDe,encode:Fte,digest:bDe};var wDe=Object.freeze({__proto__:null,identity:yDe});new TextEncoder,new TextDecoder;const BF={...fNe,...pNe,...mNe,...yNe,...ENe,...jNe,...kNe,...$Ne,...zNe,...KNe};({...gDe,...wDe});function vDe(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function Hte(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const RF=Hte("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),LC=Hte("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=vDe(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),EDe={utf8:RF,"utf-8":RF,hex:BF.base16,latin1:LC,ascii:LC,binary:LC,...BF};function _De(e,t="utf8"){const r=EDe[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}var CDe=Object.defineProperty,ADe=(e,t,r)=>t in e?CDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Zo=(e,t,r)=>ADe(e,typeof t!="symbol"?t+"":t,r);class xDe{constructor(t,r){this.core=t,this.logger=r,Zo(this,"keychain",new Map),Zo(this,"name",xke),Zo(this,"version",Ike),Zo(this,"initialized",!1),Zo(this,"storagePrefix",ba),Zo(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),Zo(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),Zo(this,"set",async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()}),Zo(this,"get",n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=Ce("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i}),Zo(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=t,this.logger=Rt(r,this.name)}get context(){return Jt(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,VI(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?GI(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=Ce("NOT_INITIALIZED",this.name);throw new Error(t)}}}var IDe=Object.defineProperty,PDe=(e,t,r)=>t in e?IDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,On=(e,t,r)=>PDe(e,typeof t!="symbol"?t+"":t,r);class SDe{constructor(t,r,n){this.core=t,this.logger=r,On(this,"name",Cke),On(this,"keychain"),On(this,"randomSessionIdentifier",nP()),On(this,"initialized",!1),On(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),On(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),On(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=H5(i);return g7(s.publicKey)}),On(this,"generateKeyPair",()=>{this.isInitialized();const i=bRe();return this.setPrivateKey(i.publicKey,i.privateKey)}),On(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=H5(s),a=this.randomSessionIdentifier;return await xJ(a,i,Ake,o)}),On(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=yRe(a,s);return this.setSymKey(c,o)}),On(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||o5(i);return await this.keychain.set(o,i),o}),On(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),On(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),On(this,"encode",async(i,s,o)=>{this.isInitialized();const a=Pte(o),c=ga(s);if(hF(a))return ERe(c,o?.encoding);if(fF(a)){const d=a.senderPublicKey,h=a.receiverPublicKey;i=await this.generateSharedKey(d,h)}const u=this.getSymKey(i),{type:l,senderPublicKey:f}=a;return wRe({type:l,symKey:u,message:c,senderPublicKey:f,encoding:o?.encoding})}),On(this,"decode",async(i,s,o)=>{this.isInitialized();const a=CRe(s,o);if(hF(a)){const c=_Re(s,o?.encoding);return Cc(c)}if(fF(a)){const c=a.receiverPublicKey,u=a.senderPublicKey;i=await this.generateSharedKey(c,u)}try{const c=this.getSymKey(i),u=vRe({symKey:c,encoded:s,encoding:o?.encoding});return Cc(u)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),On(this,"getPayloadType",(i,s=_o)=>{const o=Qm({encoded:i,encoding:s});return Pd(o.type)}),On(this,"getPayloadSenderPublicKey",(i,s=_o)=>{const o=Qm({encoded:i,encoding:s});return o.senderPublicKey?qt(o.senderPublicKey,mi):void 0}),this.core=t,this.logger=Rt(r,this.name),this.keychain=n||new xDe(this.core,this.logger)}get context(){return Jt(this.logger)}async setPrivateKey(t,r){return await this.keychain.set(t,r),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(xF)}catch{t=nP(),await this.keychain.set(xF,t)}return _De(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=Ce("NOT_INITIALIZED",this.name);throw new Error(t)}}}var TDe=Object.defineProperty,ODe=Object.defineProperties,jDe=Object.getOwnPropertyDescriptors,kF=Object.getOwnPropertySymbols,BDe=Object.prototype.hasOwnProperty,RDe=Object.prototype.propertyIsEnumerable,cP=(e,t,r)=>t in e?TDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,kDe=(e,t)=>{for(var r in t||(t={}))BDe.call(t,r)&&cP(e,r,t[r]);if(kF)for(var r of kF(t))RDe.call(t,r)&&cP(e,r,t[r]);return e},NDe=(e,t)=>ODe(e,jDe(t)),os=(e,t,r)=>cP(e,typeof t!="symbol"?t+"":t,r);class DDe extends H7e{constructor(t,r){super(t,r),this.logger=t,this.core=r,os(this,"messages",new Map),os(this,"messagesWithoutClientAck",new Map),os(this,"name",Pke),os(this,"version",Ske),os(this,"initialized",!1),os(this,"storagePrefix",ba),os(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),os(this,"set",async(n,i,s)=>{this.isInitialized();const o=na(i);let a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(n,a),s===a5.inbound){const c=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,NDe(kDe({},c),{[o]:i}))}return await this.persist(),o}),os(this,"get",n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i}),os(this,"getWithoutAck",n=>{this.isInitialized();const i={};for(const s of n){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),os(this,"has",(n,i)=>{this.isInitialized();const s=this.get(n),o=na(i);return typeof s[o]<"u"}),os(this,"ack",async(n,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(n);if(typeof s>"u")return;const o=na(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,s),await this.persist()}),os(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=Rt(t,this.name),this.core=r}get context(){return Jt(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,VI(t))}async setRelayerMessagesWithoutClientAck(t){await this.core.storage.setItem(this.storageKeyWithoutClientAck,VI(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?GI(t):void 0}async getRelayerMessagesWithoutClientAck(){const t=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof t<"u"?GI(t):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:t}=Ce("NOT_INITIALIZED",this.name);throw new Error(t)}}}var $De=Object.defineProperty,MDe=Object.defineProperties,LDe=Object.getOwnPropertyDescriptors,NF=Object.getOwnPropertySymbols,UDe=Object.prototype.hasOwnProperty,qDe=Object.prototype.propertyIsEnumerable,uP=(e,t,r)=>t in e?$De(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,M6=(e,t)=>{for(var r in t||(t={}))UDe.call(t,r)&&uP(e,r,t[r]);if(NF)for(var r of NF(t))qDe.call(t,r)&&uP(e,r,t[r]);return e},UC=(e,t)=>MDe(e,LDe(t)),ho=(e,t,r)=>uP(e,typeof t!="symbol"?t+"":t,r);class zDe extends W7e{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,ho(this,"events",new Wr.EventEmitter),ho(this,"name",Tke),ho(this,"queue",new Map),ho(this,"publishTimeout",ie.toMiliseconds(ie.ONE_MINUTE)),ho(this,"initialPublishTimeout",ie.toMiliseconds(ie.ONE_SECOND*15)),ho(this,"needsTransportRestart",!1),ho(this,"publish",async(n,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const a=s?.ttl||IF,c=i3(s),u=s?.prompt||!1,l=s?.tag||0,f=s?.id||ms().toString(),d={topic:n,message:i,opts:{ttl:a,relay:c,prompt:u,tag:l,id:f,attestation:s?.attestation,tvf:s?.tvf}},h=`Failed to publish payload, please try again. id:${f} tag:${l}`;try{const g=new Promise(async p=>{const b=({id:y})=>{d.opts.id===y&&(this.removeRequestFromQueue(y),this.relayer.events.removeListener(gn.publish,b),p(d))};this.relayer.events.on(gn.publish,b);const w=mu(new Promise((y,v)=>{this.rpcPublish({topic:n,message:i,ttl:a,prompt:u,tag:l,id:f,attestation:s?.attestation,tvf:s?.tvf}).then(y).catch(m=>{this.logger.warn(m,m?.message),v(m)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${f} tag:${l}`);try{await w,this.events.removeListener(gn.publish,b)}catch(y){this.queue.set(f,UC(M6({},d),{attempt:1})),this.logger.warn(y,y?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:f,topic:n,message:i,opts:s}}),await mu(g,this.publishTimeout,h)}catch(g){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(g),(o=s?.internal)!=null&&o.throwOnFailedPublish)throw g}finally{this.queue.delete(f)}}),ho(this,"on",(n,i)=>{this.events.on(n,i)}),ho(this,"once",(n,i)=>{this.events.once(n,i)}),ho(this,"off",(n,i)=>{this.events.off(n,i)}),ho(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.relayer=t,this.logger=Rt(r,this.name),this.registerEventListeners()}get context(){return Jt(this.logger)}async rpcPublish(t){var r,n,i,s;const{topic:o,message:a,ttl:c=IF,prompt:u,tag:l,id:f,attestation:d,tvf:h}=t,g={method:Wg(i3().protocol).publish,params:M6({topic:o,message:a,ttl:c,prompt:u,tag:l,attestation:d},h),id:f};kn((r=g.params)==null?void 0:r.prompt)&&((n=g.params)==null||delete n.prompt),kn((i=g.params)==null?void 0:i.tag)&&((s=g.params)==null||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:g});const p=await this.relayer.request(g);return this.relayer.events.emit(gn.publish,t),this.logger.debug("Successfully Published Payload"),p}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async(t,r)=>{const n=t.attempt+1;this.queue.set(r,UC(M6({},t),{attempt:n}));const{topic:i,message:s,opts:o,attestation:a}=t;this.logger.warn({},`Publisher: queue->publishing: ${t.opts.id}, tag: ${t.opts.tag}, attempt: ${n}`),await this.rpcPublish(UC(M6({},t),{topic:i,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${t.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Ts.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(gn.connection_stalled);return}this.checkQueue()}),this.relayer.on(gn.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}var FDe=Object.defineProperty,HDe=(e,t,r)=>t in e?FDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rh=(e,t,r)=>HDe(e,typeof t!="symbol"?t+"":t,r);class WDe{constructor(){rh(this,"map",new Map),rh(this,"set",(t,r)=>{const n=this.get(t);this.exists(t,r)||this.map.set(t,[...n,r])}),rh(this,"get",t=>this.map.get(t)||[]),rh(this,"exists",(t,r)=>this.get(t).includes(r)),rh(this,"delete",(t,r)=>{if(typeof r>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const n=this.get(t);if(!this.exists(t,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(t);return}this.map.set(t,i)}),rh(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var VDe=Object.defineProperty,GDe=Object.defineProperties,KDe=Object.getOwnPropertyDescriptors,DF=Object.getOwnPropertySymbols,ZDe=Object.prototype.hasOwnProperty,YDe=Object.prototype.propertyIsEnumerable,lP=(e,t,r)=>t in e?VDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,kg=(e,t)=>{for(var r in t||(t={}))ZDe.call(t,r)&&lP(e,r,t[r]);if(DF)for(var r of DF(t))YDe.call(t,r)&&lP(e,r,t[r]);return e},qC=(e,t)=>GDe(e,KDe(t)),Zt=(e,t,r)=>lP(e,typeof t!="symbol"?t+"":t,r);class QDe extends K7e{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,Zt(this,"subscriptions",new Map),Zt(this,"topicMap",new WDe),Zt(this,"events",new Wr.EventEmitter),Zt(this,"name",Dke),Zt(this,"version",$ke),Zt(this,"pending",new Map),Zt(this,"cached",[]),Zt(this,"initialized",!1),Zt(this,"storagePrefix",ba),Zt(this,"subscribeTimeout",ie.toMiliseconds(ie.ONE_MINUTE)),Zt(this,"initialSubscribeTimeout",ie.toMiliseconds(ie.ONE_SECOND*15)),Zt(this,"clientId"),Zt(this,"batchSubscribeTopicsLimit",500),Zt(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Zt(this,"subscribe",async(n,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const s=i3(i),o={topic:n,relay:s,transportType:i?.transportType};this.pending.set(n,o);const a=await this.rpcSubscribe(n,s,i);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),Zt(this,"unsubscribe",async(n,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)}),Zt(this,"isSubscribed",n=>new Promise(i=>{i(this.topicMap.topics.includes(n))})),Zt(this,"isKnownTopic",n=>new Promise(i=>{i(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(s=>s.topic===n))})),Zt(this,"on",(n,i)=>{this.events.on(n,i)}),Zt(this,"once",(n,i)=>{this.events.once(n,i)}),Zt(this,"off",(n,i)=>{this.events.off(n,i)}),Zt(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),Zt(this,"start",async()=>{await this.onConnect()}),Zt(this,"stop",async()=>{await this.onDisconnect()}),Zt(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Zt(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(i=>{n.push(i)}),await this.batchSubscribe(n)}),Zt(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Ts.pulse,async()=>{await this.checkPending()}),this.events.on(cs.created,async n=>{const i=cs.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()}),this.events.on(cs.deleted,async n=>{const i=cs.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()})}),this.relayer=t,this.logger=Rt(r,this.name),this.clientId=""}get context(){return Jt(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(t,r){let n=!1;try{n=this.getSubscription(t).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,r){const n=this.topicMap.get(t);await Promise.all(n.map(async i=>await this.unsubscribeById(t,i,r)))}async unsubscribeById(t,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}});try{const i=i3(n);await this.restartToComplete({topic:t,id:r,relay:i}),await this.rpcUnsubscribe(t,r,i);const s=Ut("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(t,r,n){var i;(!n||n?.transportType===cr.relay)&&await this.restartToComplete({topic:t,id:t,relay:r});const s={method:Wg(r.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(i=n?.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(t);if(n?.transportType===cr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(l=>this.logger.warn(l))},ie.toMiliseconds(ie.ONE_SECOND)),a;const c=new Promise(async l=>{const f=d=>{d.topic===t&&(this.events.removeListener(cs.created,f),l(d.id))};this.events.on(cs.created,f);try{const d=await mu(new Promise((h,g)=>{this.relayer.request(s).catch(p=>{this.logger.warn(p,p?.message),g(p)}).then(h)}),this.initialSubscribeTimeout,`Subscribing to ${t} failed, please try again`);this.events.removeListener(cs.created,f),l(d)}catch{}}),u=await mu(c,this.subscribeTimeout,`Subscribing to ${t} failed, please try again`);if(!u&&o)throw new Error(`Subscribing to ${t} failed, please try again`);return u?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(gn.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(t){if(!t.length)return;const r=t[0].relay,n={method:Wg(r.protocol).batchSubscribe,params:{topics:t.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await mu(new Promise(i=>{this.relayer.request(n).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(gn.connection_stalled)}}async rpcBatchFetchMessages(t){if(!t.length)return;const r=t[0].relay,n={method:Wg(r.protocol).batchFetchMessages,params:{topics:t.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await mu(new Promise((s,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(gn.connection_stalled)}return i}rpcUnsubscribe(t,r,n){const i={method:Wg(n.protocol).unsubscribe,params:{topic:t,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(t,r){this.setSubscription(t,qC(kg({},r),{id:t})),this.pending.delete(r.topic)}onBatchSubscribe(t){t.length&&t.forEach(r=>{this.setSubscription(r.id,kg({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(t,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,t)&&this.deleteSubscription(r,n),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:r}),this.addSubscription(t,r)}addSubscription(t,r){this.subscriptions.set(t,kg({},r)),this.topicMap.set(r.topic,t),this.events.emit(cs.created,r)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const r=this.subscriptions.get(t);if(!r){const{message:n}=Ce("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(n)}return r}deleteSubscription(t,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:r});const n=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(n.topic,t),this.events.emit(cs.deleted,qC(kg({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(cs.sync)}async onRestart(){if(this.cached.length){const t=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const i=t.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(cs.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:r}=Ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){t.length&&(await this.rpcBatchSubscribe(t),this.onBatchSubscribe(await Promise.all(t.map(async r=>qC(kg({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);const r=await this.rpcBatchFetchMessages(t);r&&r.messages&&(await ije(ie.toMiliseconds(ie.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:t}=Ce("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(t){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(t),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(t){return na(t+await this.getClientId())}}var JDe=Object.defineProperty,$F=Object.getOwnPropertySymbols,XDe=Object.prototype.hasOwnProperty,e$e=Object.prototype.propertyIsEnumerable,dP=(e,t,r)=>t in e?JDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,MF=(e,t)=>{for(var r in t||(t={}))XDe.call(t,r)&&dP(e,r,t[r]);if($F)for(var r of $F(t))e$e.call(t,r)&&dP(e,r,t[r]);return e},Et=(e,t,r)=>dP(e,typeof t!="symbol"?t+"":t,r);class t$e extends V7e{constructor(t){super(t),Et(this,"protocol","wc"),Et(this,"version",2),Et(this,"core"),Et(this,"logger"),Et(this,"events",new Wr.EventEmitter),Et(this,"provider"),Et(this,"messages"),Et(this,"subscriber"),Et(this,"publisher"),Et(this,"name",jke),Et(this,"transportExplicitlyClosed",!1),Et(this,"initialized",!1),Et(this,"connectionAttemptInProgress",!1),Et(this,"relayUrl"),Et(this,"projectId"),Et(this,"packageName"),Et(this,"bundleId"),Et(this,"hasExperiencedNetworkDisruption",!1),Et(this,"pingTimeout"),Et(this,"heartBeatTimeout",ie.toMiliseconds(ie.THIRTY_SECONDS+ie.FIVE_SECONDS)),Et(this,"reconnectTimeout"),Et(this,"connectPromise"),Et(this,"reconnectInProgress",!1),Et(this,"requestsInFlight",[]),Et(this,"connectTimeout",ie.toMiliseconds(ie.ONE_SECOND*15)),Et(this,"request",async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||ms().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - publishing...");const o=`${s}:${((i=r.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),Et(this,"resetPingTimeout",()=>{r3()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),Et(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),Et(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \uD83D\uDEDC"),this.startPingTimeout(),this.events.emit(gn.connect)}),Et(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \uD83D\uDED1"),this.requestsInFlight=[],this.onProviderDisconnect()}),Et(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(gn.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Et(this,"registerProviderListeners",()=>{this.provider.on(Ls.payload,this.onPayloadHandler),this.provider.on(Ls.connect,this.onConnectHandler),this.provider.on(Ls.disconnect,this.onDisconnectHandler),this.provider.on(Ls.error,this.onProviderErrorHandler)}),this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?Rt(t.logger,this.name):Vu(Nc({level:t.logger||Oke})),this.messages=new DDe(this.logger,t.core),this.subscriber=new QDe(this,this.logger),this.publisher=new zDe(this,this.logger),this.relayUrl=t?.relayUrl||Rte,this.projectId=t.projectId,zOe()?this.packageName=Dz():FOe()&&(this.bundleId=Dz()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(t){this.logger.warn(t,t?.message)}}get context(){return Jt(this.logger)}get connected(){var t,r,n;return((n=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var t,r,n;return((n=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(t,r,n){this.isInitialized(),await this.publisher.publish(t,r,n),await this.recordMessageEvent({topic:t,message:r,publishedAt:Date.now(),transportType:cr.relay},a5.outbound)}async subscribe(t,r){var n,i,s;this.isInitialized(),(!(r!=null&&r.transportType)||r?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((n=r?.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=r?.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(t))==null?void 0:s[0])||"",c;const u=l=>{l.topic===t&&(this.subscriber.off(cs.created,u),c())};return await Promise.all([new Promise(l=>{c=l,this.subscriber.on(cs.created,u)}),new Promise(async(l,f)=>{a=await this.subscriber.subscribe(t,MF({internal:{throwOnFailedPublish:o}},r)).catch(d=>{o&&f(d)})||a,l()})]),a}async unsubscribe(t,r){this.isInitialized(),await this.subscriber.unsubscribe(t,r)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await mu(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(t).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(t){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await AF())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if(t?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=t.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(t,r){const{topic:n}=t;if(!r.sessionExists){const i=Kr(ie.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(gn.message,t),await this.recordMessageEvent(t,a5.inbound)}async connect(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Ls.disconnect,s),await mu(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(Ls.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Ls.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Ls.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const i=n;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,ie.toMiliseconds(r*1))),r++}}startPingTimeout(){var t,r,n,i,s;if(r3())try{(r=(t=this.provider)==null?void 0:t.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new fr(new SX(KOe({sdkVersion:sP,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(t,r){const{topic:n,message:i}=t;await this.messages.set(n,i,r)}async shouldIgnoreMessageEvent(t){const{topic:r,message:n}=t;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.warn(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),Jp(t)){if(!t.method.endsWith(Bke))return;const r=t.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:cr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(MF({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(t),await this.onMessageEvent(a)}else Jd(t)&&this.events.emit(gn.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(await this.recordMessageEvent(t,a5.inbound),this.events.emit(gn.message,t))}async acknowledgePayload(t){const r=Gu(t.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Ls.payload,this.onPayloadHandler),this.provider.off(Ls.connect,this.onConnectHandler),this.provider.off(Ls.disconnect,this.onDisconnectHandler),this.provider.off(Ls.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await AF();mke(async r=>{t!==r&&(t=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Ts.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&wke())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(gn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t,t?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},ie.toMiliseconds(Rke)))))}isInitialized(){if(!this.initialized){const{message:t}=Ce("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function r$e(){}function LF(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(e)==="[object Object]":!1}function UF(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function qF(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const n$e="[object RegExp]",i$e="[object String]",s$e="[object Number]",o$e="[object Boolean]",zF="[object Arguments]",a$e="[object Symbol]",c$e="[object Date]",u$e="[object Map]",l$e="[object Set]",d$e="[object Array]",f$e="[object Function]",h$e="[object ArrayBuffer]",zC="[object Object]",p$e="[object Error]",g$e="[object DataView]",m$e="[object Uint8Array]",b$e="[object Uint8ClampedArray]",y$e="[object Uint16Array]",w$e="[object Uint32Array]",v$e="[object BigUint64Array]",E$e="[object Int8Array]",_$e="[object Int16Array]",C$e="[object Int32Array]",A$e="[object BigInt64Array]",x$e="[object Float32Array]",I$e="[object Float64Array]";function P$e(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function S$e(e,t,r){return Vg(e,t,void 0,void 0,void 0,void 0,r)}function Vg(e,t,r,n,i,s,o){const a=o(e,t,r,n,i,s);if(a!==void 0)return a;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return e===t;case"number":return e===t||Object.is(e,t);case"function":return e===t;case"object":return im(e,t,s,o)}return im(e,t,s,o)}function im(e,t,r,n){if(Object.is(e,t))return!0;let i=qF(e),s=qF(t);if(i===zF&&(i=zC),s===zF&&(s=zC),i!==s)return!1;switch(i){case i$e:return e.toString()===t.toString();case s$e:{const c=e.valueOf(),u=t.valueOf();return P$e(c,u)}case o$e:case c$e:case a$e:return Object.is(e.valueOf(),t.valueOf());case n$e:return e.source===t.source&&e.flags===t.flags;case f$e:return e===t}r=r??new Map;const o=r.get(e),a=r.get(t);if(o!=null&&a!=null)return o===t;r.set(e,t),r.set(t,e);try{switch(i){case u$e:{if(e.size!==t.size)return!1;for(const[c,u]of e.entries())if(!t.has(c)||!Vg(u,t.get(c),c,e,t,r,n))return!1;return!0}case l$e:{if(e.size!==t.size)return!1;const c=Array.from(e.values()),u=Array.from(t.values());for(let l=0;l<c.length;l++){const f=c[l],d=u.findIndex(h=>Vg(f,h,void 0,e,t,r,n));if(d===-1)return!1;u.splice(d,1)}return!0}case d$e:case m$e:case b$e:case y$e:case w$e:case v$e:case E$e:case _$e:case C$e:case A$e:case x$e:case I$e:{if(typeof pt<"u"&&pt.isBuffer(e)!==pt.isBuffer(t)||e.length!==t.length)return!1;for(let c=0;c<e.length;c++)if(!Vg(e[c],t[c],c,e,t,r,n))return!1;return!0}case h$e:return e.byteLength!==t.byteLength?!1:im(new Uint8Array(e),new Uint8Array(t),r,n);case g$e:return e.byteLength!==t.byteLength||e.byteOffset!==t.byteOffset?!1:im(new Uint8Array(e),new Uint8Array(t),r,n);case p$e:return e.name===t.name&&e.message===t.message;case zC:{if(!(im(e.constructor,t.constructor,r,n)||LF(e)&&LF(t)))return!1;const c=[...Object.keys(e),...UF(e)],u=[...Object.keys(t),...UF(t)];if(c.length!==u.length)return!1;for(let l=0;l<c.length;l++){const f=c[l],d=e[f];if(!Object.hasOwn(t,f))return!1;const h=t[f];if(!Vg(d,h,f,e,t,r,n))return!1}return!0}default:return!1}}finally{r.delete(e),r.delete(t)}}function T$e(e,t){return S$e(e,t,r$e)}var O$e=Object.defineProperty,FF=Object.getOwnPropertySymbols,j$e=Object.prototype.hasOwnProperty,B$e=Object.prototype.propertyIsEnumerable,fP=(e,t,r)=>t in e?O$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,HF=(e,t)=>{for(var r in t||(t={}))j$e.call(t,r)&&fP(e,r,t[r]);if(FF)for(var r of FF(t))B$e.call(t,r)&&fP(e,r,t[r]);return e},Pi=(e,t,r)=>fP(e,typeof t!="symbol"?t+"":t,r);class sf extends G7e{constructor(t,r,n,i=ba,s=void 0){super(t,r,n,i),this.core=t,this.logger=r,this.name=n,Pi(this,"map",new Map),Pi(this,"version",kke),Pi(this,"cached",[]),Pi(this,"initialized",!1),Pi(this,"getKey"),Pi(this,"storagePrefix",ba),Pi(this,"recentlyDeleted",[]),Pi(this,"recentlyDeletedLimit",200),Pi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!kn(o)?this.map.set(this.getKey(o),o):GRe(o)?this.map.set(o.id,o):KRe(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Pi(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Pi(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Pi(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>T$e(a[c],o[c]))):this.values)),Pi(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=HF(HF({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Pi(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Rt(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Jt(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const r=this.map.get(t);if(!r){if(this.recentlyDeleted.includes(t)){const{message:i}=Ce("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(i),new Error(i)}const{message:n}=Ce("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:r}=Ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=Ce("NOT_INITIALIZED",this.name);throw new Error(t)}}}var R$e=Object.defineProperty,k$e=(e,t,r)=>t in e?R$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ft=(e,t,r)=>k$e(e,typeof t!="symbol"?t+"":t,r);class N$e{constructor(t,r){this.core=t,this.logger=r,ft(this,"name",Mke),ft(this,"version",Lke),ft(this,"events",new Fp),ft(this,"pairings"),ft(this,"initialized",!1),ft(this,"storagePrefix",ba),ft(this,"ignoredPayloadTypes",[Ec]),ft(this,"registeredMethods",[]),ft(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),ft(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),ft(this,"create",async n=>{this.isInitialized();const i=nP(),s=await this.core.crypto.setSymKey(i),o=Kr(ie.FIVE_MINUTES),a={protocol:Bte},c={topic:s,expiry:o,relay:a,active:!1,methods:n?.methods},u=gF({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n?.methods});return this.events.emit($l.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:n?.transportType}),{topic:s,uri:u}}),ft(this,"pair",async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n?.uri,trace:[Xo.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:u}=pF(n.uri);i.props.properties.topic=s,i.addTrace(Xo.pairing_uri_validation_success),i.addTrace(Xo.pairing_uri_not_expired);let l;if(this.pairings.keys.includes(s)){if(l=this.pairings.get(s),i.addTrace(Xo.existing_pairing),l.active)throw i.setError(rc.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Xo.pairing_not_expired)}const f=c||Kr(ie.FIVE_MINUTES),d={topic:s,relay:a,expiry:f,active:!1,methods:u};this.core.expirer.set(s,f),await this.pairings.set(s,d),i.addTrace(Xo.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit($l.create,d),i.addTrace(Xo.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Xo.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(rc.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(h){throw i.setError(rc.subscribe_pairing_topic_failure),h}return i.addTrace(Xo.subscribe_pairing_topic_success),d}),ft(this,"activate",async({topic:n})=>{this.isInitialized();const i=Kr(ie.FIVE_MINUTES);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})}),ft(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Tl();this.events.once(jt("pairing_ping",s),({error:u})=>{u?c(u):a()}),await o()}}),ft(this,"updateExpiry",async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})}),ft(this,"updateMetadata",async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})}),ft(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),ft(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Ut("USER_DISCONNECTED")),await this.deletePairing(i))}),ft(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,c=this.core.crypto.keychain.get(i);return gF({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),ft(this,"sendRequest",async(n,i,s)=>{const o=di(i,s),a=await this.core.crypto.encode(n,o),c=Bg[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id}),ft(this,"sendResult",async(n,i,s)=>{const o=Gu(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,u=Bg[c].res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(o)}),ft(this,"sendError",async(n,i,s)=>{const o=Qp(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,u=Bg[c]?Bg[c].res:Bg.unregistered_method.res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(o)}),ft(this,"deletePairing",async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Ut("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])}),ft(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(i=>du(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))}),ft(this,"onRelayEventRequest",async n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),ft(this,"onRelayEventResponse",async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;return o==="wc_pairingPing"?this.onPairingPingResponse(i,s):this.onUnknownRpcMethodResponse(o)}),ft(this,"onPairingPingRequest",async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit($l.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),ft(this,"onPairingPingResponse",(n,i)=>{const{id:s}=i;setTimeout(()=>{Yr(i)?this.events.emit(jt("pairing_ping",s),{}):vr(i)&&this.events.emit(jt("pairing_ping",s),{error:i.error})},500)}),ft(this,"onPairingDeleteRequest",async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit($l.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),ft(this,"onUnknownRpcMethodRequest",async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Ut("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}}),ft(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(Ut("WC_METHOD_UNSUPPORTED",n))}),ft(this,"isValidPair",(n,i)=>{var s;if(!ji(n)){const{message:a}=Ce("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(rc.malformed_pairing_uri),new Error(a)}if(!VRe(n.uri)){const{message:a}=Ce("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(rc.malformed_pairing_uri),new Error(a)}const o=pF(n?.uri);if(!((s=o?.relay)!=null&&s.protocol)){const{message:a}=Ce("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(rc.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=Ce("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(rc.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&ie.toMiliseconds(o?.expiryTimestamp)<Date.now()){i.setError(rc.pairing_expired);const{message:a}=Ce("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),ft(this,"isValidPing",async n=>{if(!ji(n)){const{message:s}=Ce("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),ft(this,"isValidDisconnect",async n=>{if(!ji(n)){const{message:s}=Ce("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),ft(this,"isValidPairingTopic",async n=>{if(!Lr(n,!1)){const{message:i}=Ce("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=Ce("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(du(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=Ce("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}}),this.core=t,this.logger=Rt(r,this.name),this.pairings=new sf(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Jt(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=Ce("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(gn.message,async t=>{const{topic:r,message:n,transportType:i}=t;if(this.pairings.keys.includes(r)&&i!==cr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const s=await this.core.crypto.decode(r,n);Jp(s)?(this.core.history.set(r,s),await this.onRelayEventRequest({topic:r,payload:s})):Jd(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id)),await this.core.relayer.messages.ack(r,n)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(zs.expired,async t=>{const{topic:r}=Kee(t.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit($l.expire,{topic:r}))})}}var D$e=Object.defineProperty,$$e=(e,t,r)=>t in e?D$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,jn=(e,t,r)=>$$e(e,typeof t!="symbol"?t+"":t,r);class M$e extends F7e{constructor(t,r){super(t,r),this.core=t,this.logger=r,jn(this,"records",new Map),jn(this,"events",new Wr.EventEmitter),jn(this,"name",Uke),jn(this,"version",qke),jn(this,"cached",[]),jn(this,"initialized",!1),jn(this,"storagePrefix",ba),jn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),jn(this,"set",(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:Kr(ie.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(lo.created,o)}),jn(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=vr(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(lo.updated,i))}),jn(this,"get",async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i))),jn(this,"delete",(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(lo.deleted,s)}}),this.persist()}),jn(this,"exists",async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1)),jn(this,"on",(n,i)=>{this.events.on(n,i)}),jn(this,"once",(n,i)=>{this.events.once(n,i)}),jn(this,"off",(n,i)=>{this.events.off(n,i)}),jn(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=Rt(r,this.name)}get context(){return Jt(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:di(r.request.method,r.request.params,r.id),chainId:r.chainId};return t.push(n)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const r=this.records.get(t);if(!r){const{message:n}=Ce("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(lo.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:r}=Ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(lo.created,t=>{const r=lo.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on(lo.updated,t=>{const r=lo.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on(lo.deleted,t=>{const r=lo.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.core.heartbeat.on(Ts.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(r=>{ie.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(lo.deleted,r,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=Ce("NOT_INITIALIZED",this.name);throw new Error(t)}}}var L$e=Object.defineProperty,U$e=(e,t,r)=>t in e?L$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wn=(e,t,r)=>U$e(e,typeof t!="symbol"?t+"":t,r);class q$e extends Z7e{constructor(t,r){super(t,r),this.core=t,this.logger=r,Wn(this,"expirations",new Map),Wn(this,"events",new Wr.EventEmitter),Wn(this,"name",zke),Wn(this,"version",Fke),Wn(this,"cached",[]),Wn(this,"initialized",!1),Wn(this,"storagePrefix",ba),Wn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Wn(this,"has",n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Wn(this,"set",(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(zs.created,{target:s,expiration:o})}),Wn(this,"get",n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)}),Wn(this,"del",n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(zs.deleted,{target:i,expiration:s})}}),Wn(this,"on",(n,i)=>{this.events.on(n,i)}),Wn(this,"once",(n,i)=>{this.events.once(n,i)}),Wn(this,"off",(n,i)=>{this.events.off(n,i)}),Wn(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=Rt(r,this.name)}get context(){return Jt(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return ZOe(t);if(typeof t=="number")return YOe(t);const{message:r}=Ce("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(r)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(zs.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:r}=Ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const r=this.expirations.get(t);if(!r){const{message:n}=Ce("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(t,r){const{expiry:n}=r;ie.toMiliseconds(n)-Date.now()<=0&&this.expire(t,r)}expire(t,r){this.expirations.delete(t),this.events.emit(zs.expired,{target:t,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,r)=>this.checkExpiry(r,t))}registerEventListeners(){this.core.heartbeat.on(Ts.pulse,()=>this.checkExpirations()),this.events.on(zs.created,t=>{const r=zs.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(zs.expired,t=>{const r=zs.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(zs.deleted,t=>{const r=zs.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=Ce("NOT_INITIALIZED",this.name);throw new Error(t)}}}var z$e=Object.defineProperty,F$e=(e,t,r)=>t in e?z$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Dr=(e,t,r)=>F$e(e,typeof t!="symbol"?t+"":t,r);class H$e extends Y7e{constructor(t,r,n){super(t,r,n),this.core=t,this.logger=r,this.store=n,Dr(this,"name",Hke),Dr(this,"abortController"),Dr(this,"isDevEnv"),Dr(this,"verifyUrlV3",Vke),Dr(this,"storagePrefix",ba),Dr(this,"version",jte),Dr(this,"publicKey"),Dr(this,"fetchPromise"),Dr(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ie.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Dr(this,"register",async i=>{if(!t0()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const u=Cn.getDocument(),l=this.startAbortTimer(ie.ONE_SECOND*5),f=await new Promise((d,h)=>{const g=()=>{window.removeEventListener("message",b),u.body.removeChild(p),h("attestation aborted")};this.abortController.signal.addEventListener("abort",g);const p=u.createElement("iframe");p.src=c,p.style.display="none",p.addEventListener("error",g,{signal:this.abortController.signal});const b=w=>{if(w.data&&typeof w.data=="string")try{const y=JSON.parse(w.data);if(y.type==="verify_attestation"){if(ip(y.attestation).payload.id!==o)return;clearInterval(l),u.body.removeChild(p),this.abortController.signal.removeEventListener("abort",g),window.removeEventListener("message",b),d(y.attestation===null?"":y.attestation)}}catch(y){this.logger.warn(y)}};u.body.appendChild(p),window.addEventListener("message",b,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",f),f}catch(u){this.logger.warn(u)}return""}),Dr(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(ip(s).payload.id!==a)return;const u=await this.isValidJwtAttestation(s);if(u){if(!u.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return u}}if(!o)return;const c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(o,c)}),Dr(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(ie.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Dr(this,"getVerifyUrl",i=>{let s=i||nm;return Gke.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${nm}`),s=nm),s}),Dr(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(ie.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),Dr(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Dr(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Dr(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Dr(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Dr(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Dr(this,"validateAttestation",(i,s)=>{const o=xRe(i,s.publicKey),a={hasExpired:ie.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Rt(r,this.name),this.abortController=new AbortController,this.isDevEnv=D7(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Jt(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ie.toMiliseconds(t))}}var W$e=Object.defineProperty,V$e=(e,t,r)=>t in e?W$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,WF=(e,t,r)=>V$e(e,typeof t!="symbol"?t+"":t,r);class G$e extends Q7e{constructor(t,r){super(t,r),this.projectId=t,this.logger=r,WF(this,"context",Kke),WF(this,"registerDeviceToken",async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,c=`${Zke}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=Rt(r,this.context)}}var K$e=Object.defineProperty,VF=Object.getOwnPropertySymbols,Z$e=Object.prototype.hasOwnProperty,Y$e=Object.prototype.propertyIsEnumerable,hP=(e,t,r)=>t in e?K$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ng=(e,t)=>{for(var r in t||(t={}))Z$e.call(t,r)&&hP(e,r,t[r]);if(VF)for(var r of VF(t))Y$e.call(t,r)&&hP(e,r,t[r]);return e},nn=(e,t,r)=>hP(e,typeof t!="symbol"?t+"":t,r);class Q$e extends J7e{constructor(t,r,n=!0){super(t,r,n),this.core=t,this.logger=r,nn(this,"context",Qke),nn(this,"storagePrefix",ba),nn(this,"storageVersion",Yke),nn(this,"events",new Map),nn(this,"shouldPersist",!1),nn(this,"init",async()=>{if(!D7())try{const i={eventId:Mz(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Vee(this.core.relayer.protocol,this.core.relayer.version,sP)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),nn(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,u=Mz(),l=this.core.projectId||"",f=Date.now(),d=Ng({eventId:u,timestamp:f,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:l,domain:this.getAppDomain()},this.setMethods(u));return this.telemetryEnabled&&(this.events.set(u,d),this.shouldPersist=!0),d}),nn(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return Ng(Ng({},a),this.setMethods(a.eventId))}),nn(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),nn(this,"setEventListeners",()=>{this.core.heartbeat.on(Ts.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{ie.fromMiliseconds(Date.now())-ie.fromMiliseconds(i.timestamp)>Jke&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),nn(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),nn(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),nn(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),nn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),nn(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,Ng(Ng({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),nn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),nn(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Xke}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${sP}${s}`,{method:"POST",body:JSON.stringify(i)})}),nn(this,"getAppDomain",()=>Wee().url),this.logger=Rt(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var J$e=Object.defineProperty,GF=Object.getOwnPropertySymbols,X$e=Object.prototype.hasOwnProperty,eMe=Object.prototype.propertyIsEnumerable,pP=(e,t,r)=>t in e?J$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,KF=(e,t)=>{for(var r in t||(t={}))X$e.call(t,r)&&pP(e,r,t[r]);if(GF)for(var r of GF(t))eMe.call(t,r)&&pP(e,r,t[r]);return e},rr=(e,t,r)=>pP(e,typeof t!="symbol"?t+"":t,r);let tMe=class Wte extends L7e{constructor(t){var r;super(t),rr(this,"protocol",Ote),rr(this,"version",jte),rr(this,"name",iP),rr(this,"relayUrl"),rr(this,"projectId"),rr(this,"customStoragePrefix"),rr(this,"events",new Wr.EventEmitter),rr(this,"logger"),rr(this,"heartbeat"),rr(this,"relayer"),rr(this,"crypto"),rr(this,"storage"),rr(this,"history"),rr(this,"expirer"),rr(this,"pairing"),rr(this,"verify"),rr(this,"echoClient"),rr(this,"linkModeSupportedApps"),rr(this,"eventClient"),rr(this,"initialized",!1),rr(this,"logChunkController"),rr(this,"on",(a,c)=>this.events.on(a,c)),rr(this,"once",(a,c)=>this.events.once(a,c)),rr(this,"off",(a,c)=>this.events.off(a,c)),rr(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),rr(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:u})=>{if(!a||!c)return;const l={topic:a,message:c,publishedAt:Date.now(),transportType:cr.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:u})});const n=this.getGlobalCore(t?.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(a){console.warn("Failed to copy global core",a)}this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||Rte,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const i=Nc({level:typeof t?.logger=="string"&&t.logger?t.logger:Eke.logger,name:iP}),{logger:s,chunkLoggerController:o}=x7({opts:i,maxSizeInBytes:t?.maxLogBlobSizeInBytes,loggerOverride:t?.logger});this.logChunkController=o,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Rt(s,this.name),this.heartbeat=new yX,this.crypto=new SDe(this,this.logger,t?.keychain),this.history=new M$e(this,this.logger),this.expirer=new q$e(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new vX(KF(KF({},_ke),t?.storageOptions)),this.relayer=new t$e({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new N$e(this,this.logger),this.verify=new H$e(this,this.logger,this.storage),this.echoClient=new G$e(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Q$e(this,this.logger,t?.telemetryEnabled),this.setGlobalCore(this)}static async init(t){const r=new Wte(t);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(Nke,n),r}get context(){return Jt(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(t){this.linkModeSupportedApps.includes(t)||(this.linkModeSupportedApps.push(t),await this.storage.setItem(PF,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(PF)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}getGlobalCore(t=""){try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${t}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(t){var r;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${((r=t.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=t}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof Ur<"u"&&vke.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const rMe=tMe,Vte="wc",Gte=2,Kte="client",H7=`${Vte}@${Gte}:${Kte}:`,FC={name:Kte,logger:"error"},ZF="WALLETCONNECT_DEEPLINK_CHOICE",nMe="proposal",YF="Proposal expired",iMe="session",nh=ie.SEVEN_DAYS,sMe="engine",sn={wc_sessionPropose:{req:{ttl:ie.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ie.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ie.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ie.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ie.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ie.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ie.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ie.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ie.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ie.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ie.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ie.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ie.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ie.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ie.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ie.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ie.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ie.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ie.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ie.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ie.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ie.FIVE_MINUTES,prompt:!1,tag:1119}}},HC={min:ie.FIVE_MINUTES,max:ie.SEVEN_DAYS},Yo={idle:"IDLE",active:"ACTIVE"},QF={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},oMe="request",aMe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],cMe="wc",uMe="auth",lMe="authKeys",dMe="pairingTopics",fMe="requests",w8=`${cMe}@${1.5}:${uMe}:`,c5=`${w8}:PUB_KEY`;var hMe=Object.defineProperty,pMe=Object.defineProperties,gMe=Object.getOwnPropertyDescriptors,JF=Object.getOwnPropertySymbols,mMe=Object.prototype.hasOwnProperty,bMe=Object.prototype.propertyIsEnumerable,gP=(e,t,r)=>t in e?hMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Yt=(e,t)=>{for(var r in t||(t={}))mMe.call(t,r)&&gP(e,r,t[r]);if(JF)for(var r of JF(t))bMe.call(t,r)&&gP(e,r,t[r]);return e},ai=(e,t)=>pMe(e,gMe(t)),me=(e,t,r)=>gP(e,typeof t!="symbol"?t+"":t,r);class yMe extends rTe{constructor(t){super(t),me(this,"name",sMe),me(this,"events",new Fp),me(this,"initialized",!1),me(this,"requestQueue",{state:Yo.idle,queue:[]}),me(this,"sessionRequestQueue",{state:Yo.idle,queue:[]}),me(this,"requestQueueDelay",ie.ONE_SECOND),me(this,"expectedPairingMethodMap",new Map),me(this,"recentlyDeletedMap",new Map),me(this,"recentlyDeletedLimit",200),me(this,"relayMessageCache",[]),me(this,"pendingSessions",new Map),me(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(sn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ie.toMiliseconds(this.requestQueueDelay)))}),me(this,"connect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=ai(Yt({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n),n.optionalNamespaces=qRe(n.requiredNamespaces,n.optionalNamespaces),n.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:u}=n;let l=i,f,d=!1;try{if(l){const E=this.client.core.pairing.pairings.get(l);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),d=E.active}}catch(E){throw this.client.logger.error(`connect() -> pairing.get(${l}) failed`),E}if(!l||!d){const{topic:E,uri:_}=await this.client.core.pairing.create();l=E,f=_}if(!l){const{message:E}=Ce("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(E)}const h=await this.client.core.crypto.generateKeyPair(),g=sn.wc_sessionPropose.req.ttl||ie.FIVE_MINUTES,p=Kr(g),b=ai(Yt(Yt({requiredNamespaces:s,optionalNamespaces:o,relays:u??[{protocol:Bte}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:p,pairingTopic:l},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:fn()}),w=jt("session_connect",b.id),{reject:y,resolve:v,done:m}=Tl(g,YF),C=({id:E})=>{E===b.id&&(this.client.events.off("proposal_expire",C),this.pendingSessions.delete(b.id),this.events.emit(w,{error:{message:YF,code:0}}))};return this.client.events.on("proposal_expire",C),this.events.once(w,({error:E,session:_})=>{this.client.events.off("proposal_expire",C),E?y(E):_&&v(_)}),await this.sendRequest({topic:l,method:"wc_sessionPropose",params:b,throwOnFailedPublish:!0,clientRpcId:b.id}),await this.setProposal(b.id,b),{uri:f,approval:m}}),me(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),me(this,"approve",async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r?.id)==null?void 0:n.toString(),trace:[fo.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(x){throw o.setError(Cl.no_internet_connection),x}try{await this.isValidProposalId(r?.id)}catch(x){throw this.client.logger.error(`approve() -> proposal.get(${r?.id}) failed`),o.setError(Cl.proposal_not_found),x}try{await this.isValidApprove(r)}catch(x){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Cl.session_approve_namespace_validation_failure),x}const{id:a,relayProtocol:c,namespaces:u,sessionProperties:l,scopedProperties:f,sessionConfig:d}=r,h=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:g,proposer:p,requiredNamespaces:b,optionalNamespaces:w}=h;let y=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:g});y||(y=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:fo.session_approve_started,properties:{topic:g,trace:[fo.session_approve_started,fo.session_namespaces_validation_success]}}));const v=await this.client.core.crypto.generateKeyPair(),m=p.publicKey,C=await this.client.core.crypto.generateSharedKey(v,m),E=Yt(Yt(Yt({relay:{protocol:c??"irn"},namespaces:u,controller:{publicKey:v,metadata:this.client.metadata},expiry:Kr(nh)},l&&{sessionProperties:l}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),_=cr.relay;y.addTrace(fo.subscribing_session_topic);try{await this.client.core.relayer.subscribe(C,{transportType:_})}catch(x){throw y.setError(Cl.subscribe_session_topic_failure),x}y.addTrace(fo.subscribe_session_topic_success);const P=ai(Yt({},E),{topic:C,requiredNamespaces:b,optionalNamespaces:w,pairingTopic:g,acknowledged:!1,self:E.controller,peer:{publicKey:p.publicKey,metadata:p.metadata},controller:v,transportType:cr.relay});await this.client.session.set(C,P),y.addTrace(fo.store_session);try{y.addTrace(fo.publishing_session_settle),await this.sendRequest({topic:C,method:"wc_sessionSettle",params:E,throwOnFailedPublish:!0}).catch(x=>{throw y?.setError(Cl.session_settle_publish_failure),x}),y.addTrace(fo.session_settle_publish_success),y.addTrace(fo.publishing_session_approve),await this.sendResult({id:a,topic:g,result:{relay:{protocol:c??"irn"},responderPublicKey:v},throwOnFailedPublish:!0}).catch(x=>{throw y?.setError(Cl.session_approve_publish_failure),x}),y.addTrace(fo.session_approve_publish_success)}catch(x){throw this.client.logger.error(x),this.client.session.delete(C,Ut("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(C),x}return this.client.core.eventClient.deleteEvent({eventId:y.eventId}),await this.client.core.pairing.updateMetadata({topic:g,metadata:p.metadata}),await this.client.proposal.delete(a,Ut("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:g}),await this.setExpiry(C,Kr(nh)),{topic:C,acknowledged:()=>Promise.resolve(this.client.session.get(C))}}),me(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&(await this.sendError({id:n,topic:s,error:i,rpcOpts:sn.wc_sessionPropose.reject}),await this.client.proposal.delete(n,Ut("USER_DISCONNECTED")))}),me(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=Tl(),c=fn(),u=ms().toString(),l=this.client.session.get(n).namespaces;return this.events.once(jt("session_update",c),({error:f})=>{f?a(f):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:u}).catch(f=>{this.client.logger.error(f),this.client.session.update(n,{namespaces:l}),a(f)}),{acknowledged:s}}),me(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:n}=r,i=fn(),{done:s,resolve:o,reject:a}=Tl();return this.events.once(jt("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,Kr(nh)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),me(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(w){throw this.client.logger.error("request() -> isValidRequest() failed"),w}const{chainId:n,request:i,topic:s,expiry:o=sn.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);a?.transportType===cr.relay&&await this.confirmOnlineStateOrThrow();const c=fn(),u=ms().toString(),{done:l,resolve:f,reject:d}=Tl(o,"Request expired. Please try again.");this.events.once(jt("session_request",c),({error:w,result:y})=>{w?d(w):f(y)});const h="wc_sessionRequest",g=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(g)return await this.sendRequest({clientRpcId:c,relayRpcId:u,topic:s,method:h,params:{request:ai(Yt({},i),{expiryTimestamp:Kr(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:g}).catch(w=>d(w)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),await l();const p={request:ai(Yt({},i),{expiryTimestamp:Kr(o)}),chainId:n},b=this.shouldSetTVF(h,p);return await Promise.all([new Promise(async w=>{await this.sendRequest(Yt({clientRpcId:c,relayRpcId:u,topic:s,method:h,params:p,expiry:o,throwOnFailedPublish:!0},b&&{tvf:this.getTVFParams(c,p)})).catch(y=>d(y)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),w()}),new Promise(async w=>{var y;if(!((y=a.sessionConfig)!=null&&y.disableDeepLink)){const v=await eje(this.client.core.storage,ZF);await QOe({id:c,topic:s,wcDeepLink:v})}w()}),l()]).then(w=>w[2])}),me(this,"respond",async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,o=this.client.session.get(n);o.transportType===cr.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Yr(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:a}):vr(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:a}),this.cleanupAfterResponse(r)}),me(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=fn(),s=ms().toString(),{done:o,resolve:a,reject:c}=Tl();this.events.once(jt("session_ping",i),({error:u})=>{u?c(u):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),me(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=ms().toString(),a=fn();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),me(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Ut("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=Ce("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}}),me(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>HRe(n,r)))),me(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),me(this,"authenticate",async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?cr.link_mode:cr.relay;o===cr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:u,domain:l,nonce:f,type:d,exp:h,nbf:g,methods:p=[],expiry:b}=r,w=[...r.resources||[]],{topic:y,uri:v}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:y,uri:v}});const m=await this.client.core.crypto.generateKeyPair(),C=o5(m);if(await Promise.all([this.client.auth.authKeys.set(c5,{responseTopic:C,publicKey:m}),this.client.auth.pairingTopics.set(C,{topic:C,pairingTopic:y})]),await this.client.core.relayer.subscribe(C,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${y}`),p.length>0){const{namespace:N}=qh(a[0]);let B=Vje(N,"request",p);s5(w)&&(B=Kje(B,w.pop())),w.push(B)}const E=b&&b>sn.wc_sessionAuthenticate.req.ttl?b:sn.wc_sessionAuthenticate.req.ttl,_={authPayload:{type:d??"caip122",chains:a,statement:c,aud:u,domain:l,version:"1",nonce:f,iat:new Date().toISOString(),exp:h,nbf:g,resources:w},requester:{publicKey:m,metadata:this.client.metadata},expiryTimestamp:Kr(E)},P={eip155:{chains:a,methods:[...new Set(["personal_sign",...p])],events:["chainChanged","accountsChanged"]}},x={requiredNamespaces:{},optionalNamespaces:P,relays:[{protocol:"irn"}],pairingTopic:y,proposer:{publicKey:m,metadata:this.client.metadata},expiryTimestamp:Kr(sn.wc_sessionPropose.req.ttl),id:fn()},{done:O,resolve:D,reject:R}=Tl(E,"Request expired"),k=fn(),T=jt("session_connect",x.id),S=jt("session_request",k),I=async({error:N,session:B})=>{this.events.off(S,A),N?R(N):B&&D({session:B})},A=async N=>{var B,$,M;if(await this.deletePendingAuthRequest(k,{message:"fulfilled",code:0}),N.error){const W=Ut("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return N.error.code===W.code?void 0:(this.events.off(T,I),R(N.error.message))}await this.deleteProposal(x.id),this.events.off(T,I);const{cacaos:L,responder:q}=N.result,U=[],F=[];for(const W of L){await Vz({cacao:W,projectId:this.client.core.projectId})||(this.client.logger.error(W,"Signature verification failed"),R(Ut("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Z}=W,X=s5(Z.resources),ue=[KI(Z.iss)],Y=n3(Z.iss);if(X){const Q=Gz(X),ae=Kz(X);U.push(...Q),ue.push(...ae)}for(const Q of ue)F.push(`${Q}:${Y}`)}const H=await this.client.core.crypto.generateSharedKey(m,q.publicKey);let V;U.length>0&&(V={topic:H,acknowledged:!0,self:{publicKey:m,metadata:this.client.metadata},peer:q,controller:q.publicKey,expiry:Kr(nh),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:y,namespaces:wF([...new Set(U)],[...new Set(F)]),transportType:o},await this.client.core.relayer.subscribe(H,{transportType:o}),await this.client.session.set(H,V),y&&await this.client.core.pairing.updateMetadata({topic:y,metadata:q.metadata}),V=this.client.session.get(H)),(B=this.client.metadata.redirect)!=null&&B.linkMode&&($=q.metadata.redirect)!=null&&$.linkMode&&(M=q.metadata.redirect)!=null&&M.universal&&n&&(this.client.core.addLinkModeSupportedApp(q.metadata.redirect.universal),this.client.session.update(H,{transportType:cr.link_mode})),D({auths:L,session:V})};this.events.once(T,I),this.events.once(S,A);let j;try{if(s){const N=di("wc_sessionAuthenticate",_,k);this.client.core.history.set(y,N);const B=await this.client.core.crypto.encode("",N,{type:Ab,encoding:hu});j=$6(n,y,B)}else await Promise.all([this.sendRequest({topic:y,method:"wc_sessionAuthenticate",params:_,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:k}),this.sendRequest({topic:y,method:"wc_sessionPropose",params:x,expiry:sn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:x.id})])}catch(N){throw this.events.off(T,I),this.events.off(S,A),N}return await this.setProposal(x.id,x),await this.setAuthRequest(k,{request:ai(Yt({},_),{verifyContext:{}}),pairingTopic:y,transportType:o}),{uri:j??v,response:O}}),me(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[Al.authenticated_session_approve_started]}});try{this.isInitialized()}catch(b){throw s.setError(Rg.no_internet_connection),b}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(Rg.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||cr.relay;a===cr.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),l=o5(c),f={type:Ec,receiverPublicKey:c,senderPublicKey:u},d=[],h=[];for(const b of i){if(!await Vz({cacao:b,projectId:this.client.core.projectId})){s.setError(Rg.invalid_cacao);const C=Ut("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:l,error:C,encodeOpts:f}),new Error(C.message)}s.addTrace(Al.cacaos_verified);const{p:w}=b,y=s5(w.resources),v=[KI(w.iss)],m=n3(w.iss);if(y){const C=Gz(y),E=Kz(y);d.push(...C),v.push(...E)}for(const C of v)h.push(`${C}:${m}`)}const g=await this.client.core.crypto.generateSharedKey(u,c);s.addTrace(Al.create_authenticated_session_topic);let p;if(d?.length>0){p={topic:g,acknowledged:!0,self:{publicKey:u,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Kr(nh),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:wF([...new Set(d)],[...new Set(h)]),transportType:a},s.addTrace(Al.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(g,{transportType:a})}catch(b){throw s.setError(Rg.subscribe_authenticated_session_topic_failure),b}s.addTrace(Al.subscribe_authenticated_session_topic_success),await this.client.session.set(g,p),s.addTrace(Al.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Al.publishing_authenticated_session_approve);try{await this.sendResult({topic:l,id:n,result:{cacaos:i,responder:{publicKey:u,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(b){throw s.setError(Rg.authenticated_session_approve_publish_failure),b}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:p}}),me(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===cr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=o5(o),u={type:Ec,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:c,error:i,encodeOpts:u,rpcOpts:sn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.client.proposal.delete(n,Ut("USER_DISCONNECTED"))}),me(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:i}=r;return nte(n,i)}),me(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),me(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),me(this,"deleteSession",async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Ut("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(ZF).catch(u=>this.client.logger.warn(u)),this.getPendingSessionRequests().forEach(u=>{u.topic===i&&this.deletePendingSessionRequest(u.id,Ut("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=Yo.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),me(this,"deleteProposal",async(r,n)=>{if(n)try{const i=this.client.proposal.get(r);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(Cl.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,Ut("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),me(this,"deletePendingSessionRequest",async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=Yo.idle,this.client.events.emit("session_request_expire",{id:r}))}),me(this,"deletePendingAuthRequest",async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])}),me(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),me(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,Kr(sn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),me(this,"setAuthRequest",async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=cr.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),me(this,"setPendingSessionRequest",async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||Kr(sn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})}),me(this,"sendRequest",async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:u,appLink:l,tvf:f}=r,d=di(i,s,c);let h;const g=!!l;try{const w=g?hu:_o;h=await this.client.core.crypto.encode(n,d,{encoding:w})}catch(w){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),w}let p;if(aMe.includes(i)){const w=na(JSON.stringify(d)),y=na(h);p=await this.client.core.verify.register({id:y,decryptedId:w})}const b=sn[i].req;if(b.attestation=p,o&&(b.ttl=o),a&&(b.id=a),this.client.core.history.set(n,d),g){const w=$6(l,n,h);await globalThis.Linking.openURL(w,this.client.name)}else{const w=sn[i].req;o&&(w.ttl=o),a&&(w.id=a),w.tvf=ai(Yt({},f),{correlationId:d.id}),u?(w.internal=ai(Yt({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,h,w)):this.client.core.relayer.publish(n,h,w).catch(y=>this.client.logger.error(y))}return d.id}),me(this,"sendResult",async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=r,u=Gu(n,s);let l;const f=c&&typeof globalThis?.Linking<"u";try{const g=f?hu:_o;l=await this.client.core.crypto.encode(i,u,ai(Yt({},a||{}),{encoding:g}))}catch(g){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),g}let d,h;try{d=await this.client.core.history.get(i,n);const g=d.request;try{this.shouldSetTVF(g.method,g.params)&&(h=this.getTVFParams(n,g.params,s))}catch(p){this.client.logger.warn("sendResult() -> getTVFParams() failed",p)}}catch(g){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),g}if(f){const g=$6(c,i,l);await globalThis.Linking.openURL(g,this.client.name)}else{const g=d.request.method,p=sn[g].res;p.tvf=ai(Yt({},h),{correlationId:n}),o?(p.internal=ai(Yt({},p.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,l,p)):this.client.core.relayer.publish(i,l,p).catch(b=>this.client.logger.error(b))}await this.client.core.history.resolve(u)}),me(this,"sendError",async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=r,u=Qp(n,s);let l;const f=c&&typeof globalThis?.Linking<"u";try{const h=f?hu:_o;l=await this.client.core.crypto.encode(i,u,ai(Yt({},o||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),h}let d;try{d=await this.client.core.history.get(i,n)}catch(h){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),h}if(f){const h=$6(c,i,l);await globalThis.Linking.openURL(h,this.client.name)}else{const h=d.request.method,g=a||sn[h].res;this.client.core.relayer.publish(i,l,g)}await this.client.core.history.resolve(u)}),me(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;du(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{du(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])}),me(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),me(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),me(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Yo.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Yo.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=Yo.idle}),me(this,"processRequest",async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,c=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),me(this,"onRelayEventResponse",async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),me(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:i}=Ce("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),me(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),me(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:c}=i;try{const u=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),u?.setError(rc.proposal_listener_not_found)),this.isValidConnect(Yt({},i.params));const l=a.expiryTimestamp||Kr(sn.wc_sessionPropose.req.ttl),f=Yt({id:c,pairingTopic:n,expiryTimestamp:l},a);await this.setProposal(c,f);const d=await this.getVerifyContext({attestationId:s,hash:na(JSON.stringify(i)),encryptedId:o,metadata:f.proposer.metadata});u?.addTrace(Xo.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:f,verifyContext:d})}catch(u){await this.sendError({id:c,topic:n,error:u,rpcOpts:sn.wc_sessionPropose.autoReject}),this.client.logger.error(u)}}),me(this,"onSessionProposeResponse",async(r,n,i)=>{const{id:s}=n;if(Yr(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const u=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u});const l=await this.client.core.crypto.generateSharedKey(c,u);this.pendingSessions.set(s,{sessionTopic:l,pairingTopic:r,proposalId:s,publicKey:c});const f=await this.client.core.relayer.subscribe(l,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:r})}else if(vr(n)){await this.client.proposal.delete(s,Ut("USER_DISCONNECTED"));const o=jt("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),me(this,"onSessionSettleRequest",async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:u,sessionProperties:l,scopedProperties:f,sessionConfig:d}=n.params,h=[...this.pendingSessions.values()].find(b=>b.sessionTopic===r);if(!h)return this.client.logger.error(`Pending session not found for topic ${r}`);const g=this.client.proposal.get(h.proposalId),p=ai(Yt(Yt(Yt({topic:r,relay:o,expiry:c,namespaces:u,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:g.requiredNamespaces,optionalNamespaces:g.optionalNamespaces,controller:a.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},l&&{sessionProperties:l}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),{transportType:cr.relay});await this.client.session.set(p.topic,p),await this.setExpiry(p.topic,p.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:p.peer.metadata}),this.client.events.emit("session_connect",{session:p}),this.events.emit(jt("session_connect",h.proposalId),{session:p}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(p),await this.sendResult({id:n.id,topic:r,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),me(this,"onSessionSettleResponse",async(r,n)=>{const{id:i}=n;Yr(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(jt("session_approve",i),{})):vr(n)&&(await this.client.session.delete(r,Ut("USER_DISCONNECTED")),this.events.emit(jt("session_approve",i),{error:n.error}))}),me(this,"onSessionUpdateRequest",async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=jg.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:Ut("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Yt({topic:r},i));try{jg.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0})}catch(c){throw jg.delete(o),c}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),me(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),me(this,"onSessionUpdateResponse",(r,n)=>{const{id:i}=n,s=jt("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Yr(n)?this.events.emit(jt("session_update",i),{}):vr(n)&&this.events.emit(jt("session_update",i),{error:n.error})}),me(this,"onSessionExtendRequest",async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Kr(nh)),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),me(this,"onSessionExtendResponse",(r,n)=>{const{id:i}=n,s=jt("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Yr(n)?this.events.emit(jt("session_extend",i),{}):vr(n)&&this.events.emit(jt("session_extend",i),{error:n.error})}),me(this,"onSessionPingRequest",async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),me(this,"onSessionPingResponse",(r,n)=>{const{id:i}=n,s=jt("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);Yr(n)?this.events.emit(jt("session_ping",i),{}):vr(n)&&this.events.emit(jt("session_ping",i),{error:n.error})},500)}),me(this,"onSessionDeleteRequest",async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(gn.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Ut("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),me(this,"onSessionRequest",async r=>{var n,i,s;const{topic:o,payload:a,attestation:c,encryptedId:u,transportType:l}=r,{id:f,params:d}=a;try{await this.isValidRequest(Yt({topic:o},d));const h=this.client.session.get(o),g=await this.getVerifyContext({attestationId:c,hash:na(JSON.stringify(di("wc_sessionRequest",d,f))),encryptedId:u,metadata:h.peer.metadata,transportType:l}),p={id:f,topic:o,params:d,verifyContext:g};await this.setPendingSessionRequest(p),l===cr.link_mode&&(n=h.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=h.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(p):(this.addSessionRequestToSessionRequestQueue(p),this.processSessionRequestQueue())}catch(h){await this.sendError({id:f,topic:o,error:h}),this.client.logger.error(h)}}),me(this,"onSessionRequestResponse",(r,n)=>{const{id:i}=n,s=jt("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Yr(n)?this.events.emit(jt("session_request",i),{result:n.result}):vr(n)&&this.events.emit(jt("session_request",i),{error:n.error})}),me(this,"onSessionEventRequest",async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=jg.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Yt({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),jg.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),me(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),Yr(n)?this.events.emit(jt("session_request",i),{result:n.result}):vr(n)&&this.events.emit(jt("session_request",i),{error:n.error})}),me(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=r;try{const{requester:u,authPayload:l,expiryTimestamp:f}=s.params,d=await this.getVerifyContext({attestationId:o,hash:na(JSON.stringify(s)),encryptedId:a,metadata:u.metadata,transportType:c}),h={requester:u,pairingTopic:i,id:s.id,authPayload:l,verifyContext:d,expiryTimestamp:f};await this.setAuthRequest(s.id,{request:h,pairingTopic:i,transportType:c}),c===cr.link_mode&&(n=u.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(u.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:d})}catch(u){this.client.logger.error(u);const l=s.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),d=this.getAppLinkIfEnabled(s.params.requester.metadata,c),h={type:Ec,receiverPublicKey:l,senderPublicKey:f};await this.sendError({id:s.id,topic:i,error:u,encodeOpts:h,rpcOpts:sn.wc_sessionAuthenticate.autoReject,appLink:d})}}),me(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),me(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Yo.idle,this.processSessionRequestQueue()},ie.toMiliseconds(this.requestQueueDelay))}),me(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=jt("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(jt("session_request",s.request.id),{error:n})})}),me(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Yo.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Yo.active,this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),me(this,"emitSessionRequest",r=>{this.client.events.emit("session_request",r)}),me(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:di("wc_sessionPropose",ai(Yt({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id)})}),me(this,"isValidConnect",async r=>{if(!ji(r)){const{message:u}=Ce("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(u)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=r;if(kn(n)||await this.isValidPairingTopic(n),!rke(c)){const{message:u}=Ce("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(u)}if(!kn(i)&&Au(i)!==0){const u="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(u):this.client.logger.warn(u),this.validateNamespaces(i,"requiredNamespaces")}if(!kn(s)&&Au(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),kn(o)||this.validateSessionProps(o,"sessionProperties"),!kn(a)){this.validateSessionProps(a,"scopedProperties");const u=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(l=>u.includes(l)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(u)}`)}}),me(this,"validateNamespaces",(r,n)=>{const i=tke(r,"connect()",n);if(i)throw new Error(i.message)}),me(this,"isValidApprove",async r=>{if(!ji(r))throw new Error(Ce("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const c=this.client.proposal.get(n),u=$C(i,"approve()");if(u)throw new Error(u.message);const l=_F(c.requiredNamespaces,i,"approve()");if(l)throw new Error(l.message);if(!Lr(s,!0)){const{message:f}=Ce("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(f)}if(kn(o)||this.validateSessionProps(o,"sessionProperties"),!kn(a)){this.validateSessionProps(a,"scopedProperties");const f=new Set(Object.keys(i));if(!Object.keys(a).every(d=>f.has(d)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(f).join(", ")}`)}}),me(this,"isValidReject",async r=>{if(!ji(r)){const{message:s}=Ce("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!ike(i)){const{message:s}=Ce("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),me(this,"isValidSessionSettleRequest",r=>{if(!ji(r)){const{message:u}=Ce("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(u)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!Tte(n)){const{message:u}=Ce("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(u)}const a=ZRe(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=$C(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(du(o)){const{message:u}=Ce("EXPIRED","onSessionSettleRequest()");throw new Error(u)}}),me(this,"isValidUpdate",async r=>{if(!ji(r)){const{message:c}=Ce("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=$C(i,"update()");if(o)throw new Error(o.message);const a=_F(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),me(this,"isValidExtend",async r=>{if(!ji(r)){const{message:i}=Ce("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),me(this,"isValidRequest",async r=>{if(!ji(r)){const{message:c}=Ce("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!EF(a,s)){const{message:c}=Ce("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!ske(i)){const{message:c}=Ce("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!cke(a,s,i.method)){const{message:c}=Ce("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!fke(o,HC)){const{message:c}=Ce("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${HC.min} and ${HC.max}`);throw new Error(c)}}),me(this,"isValidRespond",async r=>{var n;if(!ji(r)){const{message:o}=Ce("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r?.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!oke(s)){const{message:o}=Ce("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),me(this,"isValidPing",async r=>{if(!ji(r)){const{message:i}=Ce("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),me(this,"isValidEmit",async r=>{if(!ji(r)){const{message:a}=Ce("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!EF(o,s)){const{message:a}=Ce("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!ake(i)){const{message:a}=Ce("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!uke(o,s,i.name)){const{message:a}=Ce("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),me(this,"isValidDisconnect",async r=>{if(!ji(r)){const{message:i}=Ce("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),me(this,"isValidAuthenticate",r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!Lr(i,!1))throw new Error("uri is required parameter");if(!Lr(s,!1))throw new Error("domain is required parameter");if(!Lr(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>qh(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=qh(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),me(this,"getVerifyContext",async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,c={verified:{verifyUrl:o.verifyUrl||nm,validation:"UNKNOWN",origin:o.url||""}};try{if(a===cr.link_mode){const l=this.getAppLinkIfEnabled(o,a);return c.verified.validation=l&&new URL(l).origin===new URL(o.url).origin?"VALID":"INVALID",c}const u=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});u&&(c.verified.origin=u.origin,c.verified.isScam=u.isScam,c.verified.validation=u.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(u){this.client.logger.warn(u)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),me(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((i,s)=>{if(i==null){const{message:o}=Ce("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${i} for key ${Object.keys(r)[s]}`);throw new Error(o)}})}),me(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),me(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),me(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=Ce("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}}),me(this,"isLinkModeEnabled",(r,n)=>{var i,s,o,a,c,u,l,f,d;return!r||n!==cr.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((u=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:u.universal)!==""&&((l=r?.redirect)==null?void 0:l.universal)!==void 0&&((f=r?.redirect)==null?void 0:f.universal)!==""&&((d=r?.redirect)==null?void 0:d.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof globalThis?.Linking<"u"}),me(this,"getAppLinkIfEnabled",(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r?.redirect)==null?void 0:i.universal:void 0}),me(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=$z(r,"topic")||"",i=decodeURIComponent($z(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:cr.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})}),me(this,"registerLinkModeListeners",async()=>{var r;if(D7()||Ku()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=globalThis?.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),me(this,"shouldSetTVF",(r,n)=>{if(!n||r!=="wc_sessionRequest")return!1;const{request:i}=n;return Object.keys(QF).includes(i.method)}),me(this,"getTVFParams",(r,n,i)=>{var s,o;try{const a=n.request.method,c=this.extractTxHashesFromResult(a,i);return ai(Yt({correlationId:r,rpcMethods:[a],chainId:n.chainId},this.isValidContractData(n.request.params)&&{contractAddresses:[(o=(s=n.request.params)==null?void 0:s[0])==null?void 0:o.to]}),{txHashes:c})}catch(a){this.client.logger.warn("Error getting TVF params",a)}return{}}),me(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const i=r?.data||((n=r?.[0])==null?void 0:n.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),me(this,"extractTxHashesFromResult",(r,n)=>{try{const i=QF[r];if(typeof n=="string")return[n];const s=n[i.key];if(Cu(s))return r==="solana_signAllTransactions"?s.map(o=>Bje(o)):s;if(typeof s=="string")return[s]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const t=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(t);for(const[n,i]of Object.entries(r))for(const s of i)try{await this.onProviderMessageEvent({topic:n,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${s}`)}}catch(t){this.client.logger.warn("processPendingMessageEvents failed",t)}}isInitialized(){if(!this.initialized){const{message:t}=Ce("NOT_INITIALIZED",this.name);throw new Error(t)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(gn.message,t=>{this.onProviderMessageEvent(t)})}async onRelayMessage(t){const{topic:r,message:n,attestation:i,transportType:s}=t,{publicKey:o}=this.client.auth.authKeys.keys.includes(c5)?this.client.auth.authKeys.get(c5):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===cr.link_mode?hu:_o});Jp(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:na(n)})):Jd(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(zs.expired,async t=>{const{topic:r,id:n}=Kee(t.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,Ce("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,Ce("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on($l.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on($l.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!Lr(t,!1)){const{message:r}=Ce("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:r}=Ce("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(r)}if(du(this.client.core.pairing.pairings.get(t).expiry)){const{message:r}=Ce("EXPIRED",`pairing topic: ${t}`);throw new Error(r)}}async isValidSessionTopic(t){if(!Lr(t,!1)){const{message:r}=Ce("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(r)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:r}=Ce("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(r)}if(du(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:r}=Ce("EXPIRED",`session topic: ${t}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(t)){const{message:r}=Ce("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(r)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(Lr(t,!1)){const{message:r}=Ce("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(r)}else{const{message:r}=Ce("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(r)}}async isValidProposalId(t){if(!nke(t)){const{message:r}=Ce("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(r)}if(!this.client.proposal.keys.includes(t)){const{message:r}=Ce("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(r)}if(du(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:r}=Ce("EXPIRED",`proposal id: ${t}`);throw new Error(r)}}}class wMe extends sf{constructor(t,r){super(t,r,nMe,H7),this.core=t,this.logger=r}}let vMe=class extends sf{constructor(t,r){super(t,r,iMe,H7),this.core=t,this.logger=r}};class EMe extends sf{constructor(t,r){super(t,r,oMe,H7,n=>n.id),this.core=t,this.logger=r}}class _Me extends sf{constructor(t,r){super(t,r,lMe,w8,()=>c5),this.core=t,this.logger=r}}class CMe extends sf{constructor(t,r){super(t,r,dMe,w8),this.core=t,this.logger=r}}class AMe extends sf{constructor(t,r){super(t,r,fMe,w8,n=>n.id),this.core=t,this.logger=r}}var xMe=Object.defineProperty,IMe=(e,t,r)=>t in e?xMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,WC=(e,t,r)=>IMe(e,typeof t!="symbol"?t+"":t,r);class PMe{constructor(t,r){this.core=t,this.logger=r,WC(this,"authKeys"),WC(this,"pairingTopics"),WC(this,"requests"),this.authKeys=new _Me(this.core,this.logger),this.pairingTopics=new CMe(this.core,this.logger),this.requests=new AMe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var SMe=Object.defineProperty,TMe=(e,t,r)=>t in e?SMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ht=(e,t,r)=>TMe(e,typeof t!="symbol"?t+"":t,r);let OMe=class Zte extends tTe{constructor(t){super(t),ht(this,"protocol",Vte),ht(this,"version",Gte),ht(this,"name",FC.name),ht(this,"metadata"),ht(this,"core"),ht(this,"logger"),ht(this,"events",new Wr.EventEmitter),ht(this,"engine"),ht(this,"session"),ht(this,"proposal"),ht(this,"pendingRequest"),ht(this,"auth"),ht(this,"signConfig"),ht(this,"on",(n,i)=>this.events.on(n,i)),ht(this,"once",(n,i)=>this.events.once(n,i)),ht(this,"off",(n,i)=>this.events.off(n,i)),ht(this,"removeListener",(n,i)=>this.events.removeListener(n,i)),ht(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),ht(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"update",async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"request",async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"find",n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),ht(this,"authenticate",async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}}),ht(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),this.name=t?.name||FC.name,this.metadata=WOe(t?.metadata),this.signConfig=t?.signConfig;const r=typeof t?.logger<"u"&&typeof t?.logger!="string"?t.logger:Vu(Nc({level:t?.logger||FC.logger}));this.core=t?.core||new rMe(t),this.logger=Rt(r,this.name),this.session=new vMe(this.core,this.logger),this.proposal=new wMe(this.core,this.logger),this.pendingRequest=new EMe(this.core,this.logger),this.engine=new yMe(this),this.auth=new PMe(this.core,this.logger)}static async init(t){const r=new Zte(t);return await r.initialize(),r}get context(){return Jt(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},ie.toMiliseconds(ie.ONE_SECOND))}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}};const XF="error",jMe="wss://relay.walletconnect.org",BMe="wc",RMe="universal_provider",L6=`${BMe}@2:${RMe}:`,Yte="https://rpc.walletconnect.org/v1/",Eh="generic",kMe=`${Yte}bundler`,Js={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function NMe(){}function W7(e){return e==null||typeof e!="object"&&typeof e!="function"}function V7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function DMe(e){if(W7(e))return e;if(Array.isArray(e)||V7(e)||e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);const t=Object.getPrototypeOf(e),r=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new r(e);if(e instanceof RegExp){const n=new r(e);return n.lastIndex=e.lastIndex,n}if(e instanceof DataView)return new r(e.buffer.slice(0));if(e instanceof Error){const n=new r(e.message);return n.stack=e.stack,n.name=e.name,n.cause=e.cause,n}if(typeof File<"u"&&e instanceof File)return new r([e],e.name,{type:e.type,lastModified:e.lastModified});if(typeof e=="object"){const n=Object.create(t);return Object.assign(n,e)}return e}function eH(e){return typeof e=="object"&&e!==null}function Qte(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function Jte(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const $Me="[object RegExp]",Xte="[object String]",ere="[object Number]",tre="[object Boolean]",rre="[object Arguments]",MMe="[object Symbol]",LMe="[object Date]",UMe="[object Map]",qMe="[object Set]",zMe="[object Array]",FMe="[object ArrayBuffer]",HMe="[object Object]",WMe="[object DataView]",VMe="[object Uint8Array]",GMe="[object Uint8ClampedArray]",KMe="[object Uint16Array]",ZMe="[object Uint32Array]",YMe="[object Int8Array]",QMe="[object Int16Array]",JMe="[object Int32Array]",XMe="[object Float32Array]",eLe="[object Float64Array]";function tLe(e,t){return Rh(e,void 0,e,new Map,t)}function Rh(e,t,r,n=new Map,i=void 0){const s=i?.(e,t,r,n);if(s!=null)return s;if(W7(e))return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){const o=new Array(e.length);n.set(e,o);for(let a=0;a<e.length;a++)o[a]=Rh(e[a],a,r,n,i);return Object.hasOwn(e,"index")&&(o.index=e.index),Object.hasOwn(e,"input")&&(o.input=e.input),o}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const o=new RegExp(e.source,e.flags);return o.lastIndex=e.lastIndex,o}if(e instanceof Map){const o=new Map;n.set(e,o);for(const[a,c]of e)o.set(a,Rh(c,a,r,n,i));return o}if(e instanceof Set){const o=new Set;n.set(e,o);for(const a of e)o.add(Rh(a,void 0,r,n,i));return o}if(typeof pt<"u"&&pt.isBuffer(e))return e.subarray();if(V7(e)){const o=new(Object.getPrototypeOf(e)).constructor(e.length);n.set(e,o);for(let a=0;a<e.length;a++)o[a]=Rh(e[a],a,r,n,i);return o}if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const o=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return n.set(e,o),Ml(o,e,r,n,i),o}if(typeof File<"u"&&e instanceof File){const o=new File([e],e.name,{type:e.type});return n.set(e,o),Ml(o,e,r,n,i),o}if(e instanceof Blob){const o=new Blob([e],{type:e.type});return n.set(e,o),Ml(o,e,r,n,i),o}if(e instanceof Error){const o=new e.constructor;return n.set(e,o),o.message=e.message,o.name=e.name,o.stack=e.stack,o.cause=e.cause,Ml(o,e,r,n,i),o}if(typeof e=="object"&&rLe(e)){const o=Object.create(Object.getPrototypeOf(e));return n.set(e,o),Ml(o,e,r,n,i),o}return e}function Ml(e,t,r=e,n,i){const s=[...Object.keys(t),...Qte(t)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(e,a);(c==null||c.writable)&&(e[a]=Rh(t[a],a,r,n,i))}}function rLe(e){switch(Jte(e)){case rre:case zMe:case FMe:case WMe:case tre:case LMe:case XMe:case eLe:case YMe:case QMe:case JMe:case UMe:case ere:case HMe:case $Me:case qMe:case Xte:case MMe:case VMe:case GMe:case KMe:case ZMe:return!0;default:return!1}}function nLe(e,t){return tLe(e,(r,n,i,s)=>{if(typeof e=="object")switch(Object.prototype.toString.call(e)){case ere:case Xte:case tre:{const o=new e.constructor(e?.valueOf());return Ml(o,e),o}case rre:{const o={};return Ml(o,e),o.length=e.length,o[Symbol.iterator]=e[Symbol.iterator],o}default:return}})}function tH(e){return nLe(e)}function rH(e){return e!==null&&typeof e=="object"&&Jte(e)==="[object Arguments]"}function iLe(e){return V7(e)}function sLe(e){if(typeof e!="object"||e==null)return!1;if(Object.getPrototypeOf(e)===null)return!0;if(Object.prototype.toString.call(e)!=="[object Object]"){const r=e[Symbol.toStringTag];return r==null||!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable?!1:e.toString()===`[object ${r}]`}let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function oLe(e,...t){const r=t.slice(0,-1),n=t[t.length-1];let i=e;for(let s=0;s<r.length;s++){const o=r[s];i=mP(i,o,n,new Map)}return i}function mP(e,t,r,n){if(W7(e)&&(e=Object(e)),t==null||typeof t!="object")return e;if(n.has(t))return DMe(n.get(t));if(n.set(t,e),Array.isArray(t)){t=t.slice();for(let s=0;s<t.length;s++)t[s]=t[s]??void 0}const i=[...Object.keys(t),...Qte(t)];for(let s=0;s<i.length;s++){const o=i[s];let a=t[o],c=e[o];if(rH(a)&&(a={...a}),rH(c)&&(c={...c}),typeof pt<"u"&&pt.isBuffer(a)&&(a=tH(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const l=[],f=Reflect.ownKeys(c);for(let d=0;d<f.length;d++){const h=f[d];l[h]=c[h]}c=l}else c=[];const u=r(c,a,o,e,t,n);u!=null?e[o]=u:Array.isArray(a)||eH(c)&&eH(a)?e[o]=mP(c,a,r,n):c==null&&sLe(a)?e[o]=mP({},a,r,n):c==null&&iLe(a)?e[o]=tH(a):(c===void 0||a!==void 0)&&(e[o]=a)}return e}function aLe(e,...t){return oLe(e,...t,NMe)}var cLe=Object.defineProperty,uLe=Object.defineProperties,lLe=Object.getOwnPropertyDescriptors,nH=Object.getOwnPropertySymbols,dLe=Object.prototype.hasOwnProperty,fLe=Object.prototype.propertyIsEnumerable,iH=(e,t,r)=>t in e?cLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,U6=(e,t)=>{for(var r in t||(t={}))dLe.call(t,r)&&iH(e,r,t[r]);if(nH)for(var r of nH(t))fLe.call(t,r)&&iH(e,r,t[r]);return e},hLe=(e,t)=>uLe(e,lLe(t));function Cs(e,t,r){var n;const i=qh(e);return((n=t.rpcMap)==null?void 0:n[i.reference])||`${Yte}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function of(e){return e.includes(":")?e.split(":")[1]:e}function nre(e){return e.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function pLe(e,t){const r=Object.keys(t.namespaces).filter(i=>i.includes(e));if(!r.length)return[];const n=[];return r.forEach(i=>{const s=t.namespaces[i].accounts;n.push(...s)}),n}function q6(e={},t={}){const r=sH(e),n=sH(t);return aLe(r,n)}function sH(e){var t,r,n,i,s;const o={};if(!Au(e))return o;for(const[a,c]of Object.entries(e)){const u=b8(a)?[a]:c.chains,l=c.methods||[],f=c.events||[],d=c.rpcMap||{},h=Bh(a);o[h]=hLe(U6(U6({},o[h]),c),{chains:la(u,(t=o[h])==null?void 0:t.chains),methods:la(l,(r=o[h])==null?void 0:r.methods),events:la(f,(n=o[h])==null?void 0:n.events)}),(Au(d)||Au(((i=o[h])==null?void 0:i.rpcMap)||{}))&&(o[h].rpcMap=U6(U6({},d),(s=o[h])==null?void 0:s.rpcMap))}return o}function oH(e){return e.includes(":")?e.split(":")[2]:e}function aH(e){const t={};for(const[r,n]of Object.entries(e)){const i=n.methods||[],s=n.events||[],o=n.accounts||[],a=b8(r)?[r]:n.chains?n.chains:nre(n.accounts);t[r]={chains:a,methods:i,events:s,accounts:o}}return t}function VC(e){return typeof e=="number"?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}const ire={},Ct=e=>ire[e],GC=(e,t)=>{ire[e]=t};var gLe=Object.defineProperty,mLe=(e,t,r)=>t in e?gLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ih=(e,t,r)=>mLe(e,typeof t!="symbol"?t+"":t,r);class bLe{constructor(t){ih(this,"name","polkadot"),ih(this,"client"),ih(this,"httpProviders"),ih(this,"events"),ih(this,"namespace"),ih(this,"chainId"),this.namespace=t.namespace,this.events=Ct("events"),this.client=Ct("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(Js.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var n;const i=of(r);t[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||Cs(t,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new fr(new Ar(n,Ct("disableProviderPing")))}}var yLe=Object.defineProperty,wLe=Object.defineProperties,vLe=Object.getOwnPropertyDescriptors,cH=Object.getOwnPropertySymbols,ELe=Object.prototype.hasOwnProperty,_Le=Object.prototype.propertyIsEnumerable,bP=(e,t,r)=>t in e?yLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,uH=(e,t)=>{for(var r in t||(t={}))ELe.call(t,r)&&bP(e,r,t[r]);if(cH)for(var r of cH(t))_Le.call(t,r)&&bP(e,r,t[r]);return e},lH=(e,t)=>wLe(e,vLe(t)),sh=(e,t,r)=>bP(e,typeof t!="symbol"?t+"":t,r);class CLe{constructor(t){sh(this,"name","eip155"),sh(this,"client"),sh(this,"chainId"),sh(this,"namespace"),sh(this,"httpProviders"),sh(this,"events"),this.namespace=t.namespace,this.events=Ct("events"),this.client=Ct("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(t);case"wallet_getCallsStatus":return await this.getCallStatus(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(parseInt(t),r),this.chainId=parseInt(t),this.events.emit(Js.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,r){const n=r||Cs(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new fr(new Ar(n,Ct("disableProviderPing")))}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var n;const i=parseInt(of(r));t[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const t=this.chainId,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}async handleSwitchChain(t){var r,n;let i=t.request.params?(r=t.request.params[0])==null?void 0:r.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var r,n,i,s,o;const a=(n=(r=t.request)==null?void 0:r.params)==null?void 0:n[0],c=((s=(i=t.request)==null?void 0:i.params)==null?void 0:s[1])||[],u=`${a}${c.join(",")}`;if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(t.topic),f=((o=l?.sessionProperties)==null?void 0:o.capabilities)||{};if(f!=null&&f[u])return f?.[u];const d=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:lH(uH({},l.sessionProperties||{}),{capabilities:lH(uH({},f||{}),{[u]:d})})})}catch(h){console.warn("Failed to update session with capabilities",h)}return d}async getCallStatus(t){var r,n;const i=this.client.session.get(t.topic),s=(r=i.sessionProperties)==null?void 0:r.bundler_name;if(s){const a=this.getBundlerUrl(t.chainId,s);try{return await this.getUserOperationReceipt(a,t)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(n=i.sessionProperties)==null?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,t)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(t.request.method))return await this.client.request(t);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(t,r){var n;const i=new URL(t),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(di("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(t,r){return`${kMe}?projectId=${this.client.core.projectId}&chainId=${t}&bundler=${r}`}}var ALe=Object.defineProperty,xLe=(e,t,r)=>t in e?ALe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oh=(e,t,r)=>xLe(e,typeof t!="symbol"?t+"":t,r);class ILe{constructor(t){oh(this,"name","solana"),oh(this,"client"),oh(this,"httpProviders"),oh(this,"events"),oh(this,"namespace"),oh(this,"chainId"),this.namespace=t.namespace,this.events=Ct("events"),this.client=Ct("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(Js.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var n;const i=of(r);t[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||Cs(t,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new fr(new Ar(n,Ct("disableProviderPing")))}}var PLe=Object.defineProperty,SLe=(e,t,r)=>t in e?PLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ah=(e,t,r)=>SLe(e,typeof t!="symbol"?t+"":t,r);class TLe{constructor(t){ah(this,"name","cosmos"),ah(this,"client"),ah(this,"httpProviders"),ah(this,"events"),ah(this,"namespace"),ah(this,"chainId"),this.namespace=t.namespace,this.events=Ct("events"),this.client=Ct("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(Js.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var n;const i=of(r);t[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||Cs(t,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new fr(new Ar(n,Ct("disableProviderPing")))}}var OLe=Object.defineProperty,jLe=(e,t,r)=>t in e?OLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ch=(e,t,r)=>jLe(e,typeof t!="symbol"?t+"":t,r);class BLe{constructor(t){ch(this,"name","algorand"),ch(this,"client"),ch(this,"httpProviders"),ch(this,"events"),ch(this,"namespace"),ch(this,"chainId"),this.namespace=t.namespace,this.events=Ct("events"),this.client=Ct("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(!this.httpProviders[t]){const n=r||Cs(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,n)}this.chainId=t,this.events.emit(Js.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var n;t[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||Cs(t,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new fr(new Ar(n,Ct("disableProviderPing")))}}var RLe=Object.defineProperty,kLe=(e,t,r)=>t in e?RLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,uh=(e,t,r)=>kLe(e,typeof t!="symbol"?t+"":t,r);class NLe{constructor(t){uh(this,"name","cip34"),uh(this,"client"),uh(this,"httpProviders"),uh(this,"events"),uh(this,"namespace"),uh(this,"chainId"),this.namespace=t.namespace,this.events=Ct("events"),this.client=Ct("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(Js.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r),i=of(r);t[i]=this.createHttpProvider(i,n)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}getCardanoRPCUrl(t){const r=this.namespace.rpcMap;if(r)return r[t]}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||this.getCardanoRPCUrl(t);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new fr(new Ar(n,Ct("disableProviderPing")))}}var DLe=Object.defineProperty,$Le=(e,t,r)=>t in e?DLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lh=(e,t,r)=>$Le(e,typeof t!="symbol"?t+"":t,r);class MLe{constructor(t){lh(this,"name","elrond"),lh(this,"client"),lh(this,"httpProviders"),lh(this,"events"),lh(this,"namespace"),lh(this,"chainId"),this.namespace=t.namespace,this.events=Ct("events"),this.client=Ct("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(Js.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var n;const i=of(r);t[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||Cs(t,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new fr(new Ar(n,Ct("disableProviderPing")))}}var LLe=Object.defineProperty,ULe=(e,t,r)=>t in e?LLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dh=(e,t,r)=>ULe(e,typeof t!="symbol"?t+"":t,r);class qLe{constructor(t){dh(this,"name","multiversx"),dh(this,"client"),dh(this,"httpProviders"),dh(this,"events"),dh(this,"namespace"),dh(this,"chainId"),this.namespace=t.namespace,this.events=Ct("events"),this.client=Ct("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(Js.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var n;const i=of(r);t[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||Cs(t,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new fr(new Ar(n,Ct("disableProviderPing")))}}var zLe=Object.defineProperty,FLe=(e,t,r)=>t in e?zLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fh=(e,t,r)=>FLe(e,typeof t!="symbol"?t+"":t,r);class HLe{constructor(t){fh(this,"name","near"),fh(this,"client"),fh(this,"httpProviders"),fh(this,"events"),fh(this,"namespace"),fh(this,"chainId"),this.namespace=t.namespace,this.events=Ct("events"),this.client=Ct("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(this.chainId=t,!this.httpProviders[t]){const n=r||Cs(`${this.name}:${t}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,n)}this.events.emit(Js.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var n;t[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||Cs(t,this.namespace);return typeof n>"u"?void 0:new fr(new Ar(n,Ct("disableProviderPing")))}}var WLe=Object.defineProperty,VLe=(e,t,r)=>t in e?WLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,hh=(e,t,r)=>VLe(e,typeof t!="symbol"?t+"":t,r);class GLe{constructor(t){hh(this,"name","tezos"),hh(this,"client"),hh(this,"httpProviders"),hh(this,"events"),hh(this,"namespace"),hh(this,"chainId"),this.namespace=t.namespace,this.events=Ct("events"),this.client=Ct("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(this.chainId=t,!this.httpProviders[t]){const n=r||Cs(`${this.name}:${t}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,n)}this.events.emit(Js.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{t[r]=this.createHttpProvider(r)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||Cs(t,this.namespace);return typeof n>"u"?void 0:new fr(new Ar(n))}}var KLe=Object.defineProperty,ZLe=(e,t,r)=>t in e?KLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ph=(e,t,r)=>ZLe(e,typeof t!="symbol"?t+"":t,r);class YLe{constructor(t){ph(this,"name",Eh),ph(this,"client"),ph(this,"httpProviders"),ph(this,"events"),ph(this,"namespace"),ph(this,"chainId"),this.namespace=t.namespace,this.events=Ct("events"),this.client=Ct("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(Js.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var t,r;const n={};return(r=(t=this.namespace)==null?void 0:t.accounts)==null||r.forEach(i=>{const s=qh(i);n[`${s.namespace}:${s.reference}`]=this.createHttpProvider(i)}),n}getHttpProvider(t){const r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||Cs(t,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new fr(new Ar(n,Ct("disableProviderPing")))}}var QLe=Object.defineProperty,JLe=Object.defineProperties,XLe=Object.getOwnPropertyDescriptors,dH=Object.getOwnPropertySymbols,eUe=Object.prototype.hasOwnProperty,tUe=Object.prototype.propertyIsEnumerable,yP=(e,t,r)=>t in e?QLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,z6=(e,t)=>{for(var r in t||(t={}))eUe.call(t,r)&&yP(e,r,t[r]);if(dH)for(var r of dH(t))tUe.call(t,r)&&yP(e,r,t[r]);return e},KC=(e,t)=>JLe(e,XLe(t)),Us=(e,t,r)=>yP(e,typeof t!="symbol"?t+"":t,r);class G7{constructor(t){Us(this,"client"),Us(this,"namespaces"),Us(this,"optionalNamespaces"),Us(this,"sessionProperties"),Us(this,"scopedProperties"),Us(this,"events",new Fp),Us(this,"rpcProviders",{}),Us(this,"session"),Us(this,"providerOpts"),Us(this,"logger"),Us(this,"uri"),Us(this,"disableProviderPing",!1),this.providerOpts=t,this.logger=typeof t?.logger<"u"&&typeof t?.logger!="string"?t.logger:Vu(Nc({level:t?.logger||XF})),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){const r=new G7(t);return await r.initialize(),r}async request(t,r,n){const[i,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:z6({},t),chainId:`${i}:${s}`,topic:this.session.topic,expiry:n})}sendAsync(t,r,n,i){const s=new Date().getTime();this.request(t,n,i).then(o=>r(null,Gu(s,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:Ut("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:n,response:i}=await this.client.authenticate(t,r);n&&(this.uri=n,this.events.emit("display_uri",n));const s=await i();if(this.session=s.session,this.session){const o=aH(this.session.namespaces);this.namespaces=q6(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}removeListener(t,r){this.events.removeListener(t,r)}off(t,r){this.events.off(t,r)}get isWalletConnect(){return!0}async pair(t){const{uri:r,approval:n}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});r&&(this.uri=r,this.events.emit("display_uri",r));const i=await n();this.session=i;const s=aH(i.namespaces);return this.namespaces=q6(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(t,r){try{if(!this.session)return;const[n,i]=this.validateChain(t),s=this.getProvider(n);s.name===Eh?s.setDefaultChain(`${n}:${i}`,r):s.setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(Cu(r)){for(const n of r)t.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var t,r;if(this.client=this.providerOpts.client||await OMe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||XF,relayUrl:this.providerOpts.relayUrl||jMe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error("Failed to get session",n),new Error(`The provided session: ${(r=(t=this.providerOpts)==null?void 0:t.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map(r=>Bh(r)))];GC("client",this.client),GC("events",this.events),GC("disableProviderPing",this.disableProviderPing),t.forEach(r=>{if(!this.session)return;const n=pLe(r,this.session),i=nre(n),s=q6(this.namespaces,this.optionalNamespaces),o=KC(z6({},s[r]),{accounts:n,chains:i});switch(r){case"eip155":this.rpcProviders[r]=new CLe({namespace:o});break;case"algorand":this.rpcProviders[r]=new BLe({namespace:o});break;case"solana":this.rpcProviders[r]=new ILe({namespace:o});break;case"cosmos":this.rpcProviders[r]=new TLe({namespace:o});break;case"polkadot":this.rpcProviders[r]=new bLe({namespace:o});break;case"cip34":this.rpcProviders[r]=new NLe({namespace:o});break;case"elrond":this.rpcProviders[r]=new MLe({namespace:o});break;case"multiversx":this.rpcProviders[r]=new qLe({namespace:o});break;case"near":this.rpcProviders[r]=new HLe({namespace:o});break;case"tezos":this.rpcProviders[r]=new GLe({namespace:o});break;default:this.rpcProviders[Eh]?this.rpcProviders[Eh].updateNamespace(o):this.rpcProviders[Eh]=new YLe({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{var r;const{topic:n}=t;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{var r;const{params:n,topic:i}=t;if(i!==((r=this.session)==null?void 0:r.topic))return;const{event:s}=n;if(s.name==="accountsChanged"){const o=s.data;o&&Cu(o)&&this.events.emit("accountsChanged",o.map(oH))}else if(s.name==="chainChanged"){const o=n.chainId,a=n.event.data,c=Bh(o),u=VC(o)!==VC(a)?`${c}:${VC(a)}`:o;this.onChainChanged(u)}else this.events.emit(s.name,s.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:r})=>{var n,i;if(t!==((n=this.session)==null?void 0:n.topic))return;const{namespaces:s}=r,o=(i=this.client)==null?void 0:i.session.get(t);this.session=KC(z6({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:r})}),this.client.on("session_delete",async t=>{var r;t.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",KC(z6({},Ut("USER_DISCONNECTED")),{data:t.topic})))}),this.on(Js.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,!0)})}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[Eh]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var r;this.getProvider(t).updateNamespace((r=this.session)==null?void 0:r.namespaces[t])})}setNamespaces(t){const{namespaces:r={},optionalNamespaces:n={},sessionProperties:i,scopedProperties:s}=t;this.optionalNamespaces=q6(r,n),this.sessionProperties=i,this.scopedProperties=s}validateChain(t){const[r,n]=t?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>Bh(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const i=Bh(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}async onChainChanged(t,r=!1){if(!this.namespaces)return;const[n,i]=this.validateChain(t);if(!i)return;this.updateNamespaceChain(n,i),this.events.emit("chainChanged",i);const s=this.getProvider(n).getDefaultChain();r||this.getProvider(n).setDefaultChain(i),this.emitAccountsChangedOnChainChange({namespace:n,previousChainId:s,newChainId:t}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:t,previousChainId:r,newChainId:n}){var i,s;try{if(r===n)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[t])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${n}:`)).map(oH);if(!Cu(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(t,r){if(!this.namespaces)return;const n=this.namespaces[t]?t:`${t}:${r}`,i={chains:[],methods:[],events:[],defaultChain:r};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=r):this.namespaces[n]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(t,r){var n;const i=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${L6}/${t}${i}`,r)}async getFromStore(t){var r;const n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${L6}/${t}${n}`)}async deleteFromStore(t){var r;const n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${L6}/${t}${n}`)}async cleanupStorage(){var t;try{if(((t=this.client)==null?void 0:t.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const n of r)n.startsWith(L6)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn("Failed to cleanup storage",r)}}}function F6(e,t){return ye.getConnectorId(e)===t}function rUe(e){const t=Array.from(G.state.chains.keys());let r=[];return e?(r.push([e,G.state.chains.get(e)]),F6(e,Le.CONNECTOR_ID.WALLET_CONNECT)?t.forEach(n=>{n!==e&&F6(n,Le.CONNECTOR_ID.WALLET_CONNECT)&&r.push([n,G.state.chains.get(n)])}):F6(e,Le.CONNECTOR_ID.AUTH)&&t.forEach(n=>{n!==e&&F6(n,Le.CONNECTOR_ID.AUTH)&&r.push([n,G.state.chains.get(n)])})):r=Array.from(G.state.chains.entries()),r}const cu={EIP155:"eip155",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED"},o3={NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",0xaa36a7:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",0x4e454152:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[Le.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Le.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Le.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[Le.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[Le.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[Le.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[Le.CONNECTOR_ID.INJECTED]:"Browser Wallet",[Le.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[Le.CONNECTOR_ID.COINBASE]:"Coinbase",[Le.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[Le.CONNECTOR_ID.LEDGER]:"Ledger",[Le.CONNECTOR_ID.SAFE]:"Safe"}},K7={getCaipTokens(e){if(!e)return;const t={};return Object.entries(e).forEach(([r,n])=>{t[`${cu.EIP155}:${r}`]=n}),t},isLowerCaseMatch(e,t){return e?.toLowerCase()===t?.toLowerCase()}};new AbortController;const gh={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${nUe()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function nUe(){return typeof window<"u"}const iUe={createLogger(e,t="error"){const r=Nc({level:t}),{logger:n}=x7({opts:r});return n.error=(...i)=>{for(const s of i)if(s instanceof Error){e(s,...i);return}e(void 0,...i)},n}},sUe="rpc.walletconnect.org";function fH(e,t){const r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",e),r.searchParams.set("projectId",t),r.toString()}const ZC=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],_h={extendRpcUrlWithProjectId(e,t){let r=!1;try{r=new URL(e).host===sUe}catch{r=!1}if(r){const n=new URL(e);return n.searchParams.has("projectId")||n.searchParams.set("projectId",t),n.toString()}return e},isCaipNetwork(e){return"chainNamespace"in e&&"caipNetworkId"in e},getChainNamespace(e){return this.isCaipNetwork(e)?e.chainNamespace:Le.CHAIN.EVM},getCaipNetworkId(e){return this.isCaipNetwork(e)?e.caipNetworkId:`${Le.CHAIN.EVM}:${e.id}`},getDefaultRpcUrl(e,t,r){const n=e.rpcUrls?.default?.http?.[0];return ZC.includes(t)?fH(t,r):n||""},extendCaipNetwork(e,{customNetworkImageUrls:t,projectId:r,customRpcUrls:n}){const i=this.getChainNamespace(e),s=this.getCaipNetworkId(e),o=e.rpcUrls.default.http?.[0],a=this.getDefaultRpcUrl(e,s,r),c=e?.rpcUrls?.chainDefault?.http?.[0]||o,u=n?.[s]?.map(d=>d.url)||[],l=[...u,a],f=[...u];return c&&!f.includes(c)&&f.push(c),{...e,chainNamespace:i,caipNetworkId:s,assets:{imageId:o3.NetworkImageIds[e.id],imageUrl:t?.[e.id]},rpcUrls:{...e.rpcUrls,default:{http:l},chainDefault:{http:f}}}},extendCaipNetworks(e,{customNetworkImageUrls:t,projectId:r,customRpcUrls:n}){return e.map(i=>_h.extendCaipNetwork(i,{customNetworkImageUrls:t,customRpcUrls:n,projectId:r}))},getViemTransport(e,t,r){const n=[];return r?.forEach(i=>{n.push(ui(i.url,i.config))}),ZC.includes(e.caipNetworkId)&&n.push(ui(fH(e.caipNetworkId,t),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),e?.rpcUrls?.default?.http?.forEach(i=>{n.push(ui(i))}),hO(n)},extendWagmiTransports(e,t,r){if(ZC.includes(e.caipNetworkId)){const n=this.getDefaultRpcUrl(e,e.caipNetworkId,t);return hO([r,ui(n)])}return r},getUnsupportedNetwork(e){return{id:e.split(":")[1],caipNetworkId:e,name:Le.UNSUPPORTED_NETWORK_NAME,chainNamespace:e.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(e){const t=Re.getActiveCaipNetworkId(),r=G.getAllRequestedCaipNetworks(),n=Array.from(G.state.chains?.keys()||[]),i=t?.split(":")[0],s=i?n.includes(i):!1,o=r?.find(c=>c.caipNetworkId===t);return s&&!o&&t?this.getUnsupportedNetwork(t):o||e||r?.[0]}},a3={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},Si=nr({providers:{...a3},providerIds:{...a3}}),mr={state:Si,subscribeKey(e,t){return qn(Si,e,t)},subscribe(e){return Nn(Si,()=>{e(Si)})},subscribeProviders(e){return Nn(Si.providers,()=>e(Si.providers))},setProvider(e,t){t&&(Si.providers[e]=_d(t))},getProvider(e){return Si.providers[e]},setProviderId(e,t){t&&(Si.providerIds[e]=t)},getProviderId(e){if(e)return Si.providerIds[e]},reset(){Si.providers={...a3},Si.providerIds={...a3}},resetChain(e){Si.providers[e]=void 0,Si.providerIds[e]=void 0}},bu={VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},Sd={filterOutDuplicatesByRDNS(e){const t=de.state.enableEIP6963?ye.state.connectors:[],r=Re.getRecentWallets(),n=t.map(a=>a.info?.rdns).filter(Boolean),i=r.map(a=>a.rdns).filter(Boolean),s=n.concat(i);if(s.includes("io.metamask.mobile")&&we.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return e.filter(a=>!s.includes(String(a?.rdns)))},filterOutDuplicatesByIds(e){const t=ye.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),r=Re.getRecentWallets(),n=t.map(a=>a.explorerId),i=r.map(a=>a.id),s=n.concat(i);return e.filter(a=>!s.includes(a?.id))},filterOutDuplicateWallets(e){const t=this.filterOutDuplicatesByRDNS(e);return this.filterOutDuplicatesByIds(t)},markWalletsAsInstalled(e){const{connectors:t}=ye.state,{featuredWalletIds:r}=de.state,n=t.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>(a.info?.rdns&&(o[a.info.rdns]=!0),o),{});return e.map(o=>({...o,installed:!!o.rdns&&!!n[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(r?.length){const u=r.indexOf(o.id),l=r.indexOf(a.id);if(u!==-1&&l!==-1)return u-l;if(u!==-1)return-1;if(l!==-1)return 1}return 0})},getConnectOrderMethod(e,t){const r=e?.connectMethodsOrder||de.state.features?.connectMethodsOrder,n=t||ye.state.connectors;if(r)return r;const{injected:i,announced:s}=_c.getConnectorsByType(n,Ee.state.recommended,Ee.state.featured),o=i.filter(_c.showConnector),a=s.filter(_c.showConnector);return o.length||a.length?["wallet","email","social"]:bu.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(e){const t=!!e.rdns&&Ee.state.excludedWallets.some(n=>n.rdns===e.rdns),r=!!e.name&&Ee.state.excludedWallets.some(n=>K7.isLowerCaseMatch(n.name,e.name));return t||r}},_c={getConnectorsByType(e,t,r){const{customWallets:n}=de.state,i=Re.getRecentWallets(),s=Sd.filterOutDuplicateWallets(t),o=Sd.filterOutDuplicateWallets(r),a=e.filter(f=>f.type==="MULTI_CHAIN"),c=e.filter(f=>f.type==="ANNOUNCED"),u=e.filter(f=>f.type==="INJECTED"),l=e.filter(f=>f.type==="EXTERNAL");return{custom:n,recent:i,external:l,multiChain:a,announced:c,injected:u,recommended:s,featured:o}},showConnector(e){const t=e.info?.rdns,r=!!t&&Ee.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===t),n=!!e.name&&Ee.state.excludedWallets.some(i=>K7.isLowerCaseMatch(i.name,e.name));return!(e.type==="INJECTED"&&(e.name==="Browser Wallet"&&(!we.isMobile()||we.isMobile()&&!t&&!Ae.checkInstalled())||r||n)||(e.type==="ANNOUNCED"||e.type==="EXTERNAL")&&(r||n))},getIsConnectedWithWC(){return Array.from(G.state.chains.values()).some(r=>ye.getConnectorId(r.namespace)===Le.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:e,featured:t,custom:r,recent:n,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=de.state.features?.connectorTypeOrder??[]}){const u=_c.getIsConnectedWithWC(),d=[{type:"walletConnect",isEnabled:de.state.enableWalletConnect&&!u},{type:"recent",isEnabled:n.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:t.length>0},{type:"custom",isEnabled:r&&r.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:e.length>0}].filter(b=>b.isEnabled),h=new Set(d.map(b=>b.type)),g=c.filter(b=>h.has(b)).map(b=>({type:b,isEnabled:!0})),p=d.filter(({type:b})=>!g.some(({type:y})=>y===b));return Array.from(new Set([...g,...p].map(({type:b})=>b)))}};let sm,xu,Iu;function oUe(e,t){sm=document.createElement("style"),xu=document.createElement("style"),Iu=document.createElement("style"),sm.textContent=zh(e).core.cssText,xu.textContent=zh(e).dark.cssText,Iu.textContent=zh(e).light.cssText,document.head.appendChild(sm),document.head.appendChild(xu),document.head.appendChild(Iu),sre(t)}function sre(e){xu&&Iu&&(e==="light"?(xu.removeAttribute("media"),Iu.media="enabled"):(Iu.removeAttribute("media"),xu.media="enabled"))}function aUe(e){sm&&xu&&Iu&&(sm.textContent=zh(e).core.cssText,xu.textContent=zh(e).dark.cssText,Iu.textContent=zh(e).light.cssText)}function zh(e){return{core:He`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${eo(e?.["--w3m-color-mix-strength"]?`${e["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${eo(e?.["--w3m-font-family"]||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${eo(e?.["--w3m-font-size-master"]||"10px")};
        --w3m-border-radius-master: ${eo(e?.["--w3m-border-radius-master"]||"4px")};
        --w3m-z-index: ${eo(e?.["--w3m-z-index"]||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:He`
      :root {
        --w3m-color-mix: ${eo(e?.["--w3m-color-mix"]||"#fff")};
        --w3m-accent: ${eo(gu(e,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${eo(gu(e,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:He`
      :root {
        --w3m-color-mix: ${eo(e?.["--w3m-color-mix"]||"#000")};
        --w3m-accent: ${eo(gu(e,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${eo(gu(e,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const Tt=He`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,Fn=He`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,Ib=He`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,hn={getSpacingStyles(e,t){if(Array.isArray(e))return e[t]?`var(--wui-spacing-${e[t]})`:void 0;if(typeof e=="string")return`var(--wui-spacing-${e})`},getFormattedDate(e){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(e)},getHostName(e){try{return new URL(e).hostname}catch{return""}},getTruncateString({string:e,charsStart:t,charsEnd:r,truncate:n}){return e.length<=t+r?e:n==="end"?`${e.substring(0,t)}...`:n==="start"?`...${e.substring(e.length-r)}`:`${e.substring(0,Math.floor(t))}...${e.substring(e.length-Math.floor(r))}`},generateAvatarColors(e){const r=e.toLowerCase().replace(/^0x/iu,"").replace(/[^a-f0-9]/gu,"").substring(0,6).padEnd(6,"0"),n=this.hexToRgb(r),i=getComputedStyle(document.documentElement).getPropertyValue("--w3m-border-radius-master"),o=100-3*Number(i?.replace("px","")),a=`${o}% ${o}% at 65% 40%`,c=[];for(let u=0;u<5;u+=1){const l=this.tintColor(n,.15*u);c.push(`rgb(${l[0]}, ${l[1]}, ${l[2]})`)}return`
    --local-color-1: ${c[0]};
    --local-color-2: ${c[1]};
    --local-color-3: ${c[2]};
    --local-color-4: ${c[3]};
    --local-color-5: ${c[4]};
    --local-radial-circle: ${a}
   `},hexToRgb(e){const t=parseInt(e,16),r=t>>16&255,n=t>>8&255,i=t&255;return[r,n,i]},tintColor(e,t){const[r,n,i]=e,s=Math.round(r+(255-r)*t),o=Math.round(n+(255-n)*t),a=Math.round(i+(255-i)*t);return[s,o,a]},isNumber(e){return{number:/^[0-9]+$/u}.number.test(e)},getColorTheme(e){return e||(typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)")?.matches?"dark":"light":"dark")},splitBalance(e){const t=e.split(".");return t.length===2?[t[0],t[1]]:["0","00"]},roundNumber(e,t,r){return e.toString().length>=t?Number(e).toFixed(r):e},formatNumberToLocalString(e,t=2){return e===void 0?"0.00":typeof e=="number"?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t})}};function cUe(e,t){const{kind:r,elements:n}=t;return{kind:r,elements:n,finisher(i){customElements.get(e)||customElements.define(e,i)}}}function uUe(e,t){return customElements.get(e)||customElements.define(e,t),t}function Be(e){return function(r){return typeof r=="function"?uUe(e,r):cUe(e,r)}}const Gg={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};function Pb(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const hH=Pb({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),pH=Pb({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Pb({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});Pb({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});Pb({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const lUe={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},u5={getMethodsByChainNamespace(e){return lUe[e]||[]},createDefaultNamespace(e){return{methods:this.getMethodsByChainNamespace(e),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(e,t){if(!t)return{...e};const r={...e},n=new Set;if(t.methods&&Object.keys(t.methods).forEach(i=>n.add(i)),t.chains&&Object.keys(t.chains).forEach(i=>n.add(i)),t.events&&Object.keys(t.events).forEach(i=>n.add(i)),t.rpcMap&&Object.keys(t.rpcMap).forEach(i=>{const[s]=i.split(":");s&&n.add(s)}),n.forEach(i=>{r[i]||(r[i]=this.createDefaultNamespace(i))}),t.methods&&Object.entries(t.methods).forEach(([i,s])=>{r[i]&&(r[i].methods=s)}),t.chains&&Object.entries(t.chains).forEach(([i,s])=>{r[i]&&(r[i].chains=s)}),t.events&&Object.entries(t.events).forEach(([i,s])=>{r[i]&&(r[i].events=s)}),t.rpcMap){const i=new Set;Object.entries(t.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!r[a]||(r[a].rpcMap||(r[a].rpcMap={}),i.has(a)||(r[a].rpcMap={},i.add(a)),r[a].rpcMap[c]=o)})}return r},createNamespaces(e,t){const r=e.reduce((n,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];n[o]||(n[o]=this.createDefaultNamespace(o));const u=`${o}:${s}`,l=n[o];switch(l.chains.push(u),u){case hH.caipNetworkId:l.chains.push(hH.deprecatedCaipNetworkId);break;case pH.caipNetworkId:l.chains.push(pH.deprecatedCaipNetworkId);break}return l?.rpcMap&&c&&(l.rpcMap[s]=c),n},{});return this.applyNamespaceOverrides(r,t)},resolveReownName:async e=>{const t=await tm.resolveName(e);return(Object.values(t?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(e={}){return Object.values(e).flatMap(t=>{const r=t.chains||[],n=t.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...r,...n]))})},isSessionEventData(e){return typeof e=="object"&&e!==null&&"id"in e&&"topic"in e&&"params"in e&&typeof e.params=="object"&&e.params!==null&&"chainId"in e.params&&"event"in e.params&&typeof e.params.event=="object"&&e.params.event!==null},isOriginAllowed(e,t,r){for(const n of[...t,...r])if(n.includes("*")){const s=`^${n.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(s,"u").test(e))return!0}else try{if(new URL(n).origin===e)return!0}catch{if(n===e)return!0}return!1}};class ore{constructor({provider:t,namespace:r}){this.id=Le.CONNECTOR_ID.WALLET_CONNECT,this.name=o3.ConnectorNamesMap[Le.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=o3.ConnectorImageIds[Le.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=G.getCaipNetworks.bind(G),this.caipNetworks=this.getCaipNetworks(),this.provider=t,this.chain=r}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const r=this.getCaipNetworks(),n=de.state.universalProviderConfigOverride,i=u5.createNamespaces(r,n);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const t=this.chains.map(r=>r.caipNetworkId);return rd.universalProviderAuthenticate({universalProvider:this.provider,chains:t,methods:dUe})}}const dUe=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class fUe{constructor(t){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=r=>G.getCaipNetworks(r),t&&this.construct(t)}construct(t){this.projectId=t.projectId,this.namespace=t.namespace,this.adapterType=t.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(t){this.addConnector({id:Le.CONNECTOR_ID.AUTH,type:"AUTH",name:Le.CONNECTOR_NAMES.AUTH,provider:t,imageId:o3.ConnectorImageIds[Le.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...t){const r=new Set;this.availableConnectors=[...t,...this.availableConnectors].filter(n=>r.has(n.id)?!1:(r.add(n.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(t,r){Ne.setStatus(t,r)}on(t,r){this.eventListeners.has(t)||this.eventListeners.set(t,new Set),this.eventListeners.get(t)?.add(r)}off(t,r){const n=this.eventListeners.get(t);n&&n.delete(r)}removeAllEventListeners(){this.eventListeners.forEach(t=>{t.clear()})}emit(t,r){const n=this.eventListeners.get(t);n&&n.forEach(i=>i(r))}async connectWalletConnect(t){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(t){const{caipNetwork:r,providerType:n}=t;if(!t.provider)return;const i="provider"in t.provider?t.provider.provider:t.provider;if(n==="WALLET_CONNECT"){i.setDefaultChain(r.caipNetworkId);return}if(i&&n==="AUTH"){const s=i,o=Ne.state.preferredAccountTypes?.[r.chainNamespace];await s.switchNetwork(r.caipNetworkId);const a=await s.getUser({chainId:r.caipNetworkId,preferredAccountType:o});this.emit("switchNetwork",a)}}getWalletConnectConnector(){const t=this.connectors.find(r=>r instanceof ore);if(!t)throw new Error("WalletConnectConnector not found");return t}}class hUe extends fUe{setUniversalProvider(t){this.addConnector(new ore({provider:t,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(t){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(t.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(t){console.warn("UniversalAdapter:disconnect - error",t)}}async getAccounts({namespace:t}){const n=this.provider?.session?.namespaces?.[t]?.accounts?.map(i=>{const[,,s]=i.split(":");return s}).filter((i,s,o)=>o.indexOf(i)===s)||[];return Promise.resolve({accounts:n.map(i=>we.createAccount(t,i,t==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(t){if(!(t.caipNetwork&&$t.BALANCE_SUPPORTED_CHAINS.includes(t.caipNetwork?.chainNamespace))||t.caipNetwork?.testnet)return{balance:"0.00",symbol:t.caipNetwork?.nativeCurrency.symbol||""};if(Ne.state.balanceLoading&&t.chainId===G.state.activeCaipNetwork?.id)return{balance:Ne.state.balance||"0.00",symbol:Ne.state.balanceSymbol||""};const i=(await Ne.fetchTokenBalance()).find(s=>s.chainId===`${t.caipNetwork?.chainNamespace}:${t.chainId}`&&s.symbol===t.caipNetwork?.nativeCurrency.symbol);return{balance:i?.quantity.numeric||"0.00",symbol:i?.symbol||t.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(t){const{provider:r,message:n,address:i}=t;if(!r)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return G.state.activeCaipNetwork?.chainNamespace===Le.CHAIN.SOLANA?s=(await r.request({method:"solana_signMessage",params:{message:eS.encode(new TextEncoder().encode(n)),pubkey:i}},G.state.activeCaipNetwork?.caipNetworkId)).signature:s=await r.request({method:"personal_sign",params:[n,i]},G.state.activeCaipNetwork?.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(t){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(t){const{caipNetwork:r}=t,n=this.getWalletConnectConnector();if(r.chainNamespace===Le.CHAIN.EVM)try{await n.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:Gn(r.id)}]})}catch(i){if(i.code===Gg.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||i.code===Gg.ERROR_INVALID_CHAIN_ID||i.code===Gg.ERROR_CODE_DEFAULT||i?.data?.originalError?.code===Gg.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await n.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:Gn(r.id),rpcUrls:[r?.rpcUrls.chainDefault?.http],chainName:r.name,nativeCurrency:r.nativeCurrency,blockExplorerUrls:[r.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}n.provider.setDefaultChain(r.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(n=>n.type==="WALLET_CONNECT")?.provider}}const pUe=["email","socials","swaps","onramp","activity","reownBranding"],H6={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return!!e.isEnabled&&t.includes("email")},processFallback:e=>e===void 0?$t.DEFAULT_REMOTE_FEATURES.email:!!e},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return e.isEnabled&&t.length>0?t.filter(r=>r!=="email"):!1},processFallback:e=>e===void 0?$t.DEFAULT_REMOTE_FEATURES.socials:typeof e=="boolean"?e?$t.DEFAULT_REMOTE_FEATURES.socials:!1:e},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return e.isEnabled&&t.length>0?t:!1},processFallback:e=>e===void 0?$t.DEFAULT_REMOTE_FEATURES.swaps:typeof e=="boolean"?e?$t.DEFAULT_REMOTE_FEATURES.swaps:!1:e},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return e.isEnabled&&t.length>0?t:!1},processFallback:e=>e===void 0?$t.DEFAULT_REMOTE_FEATURES.onramp:typeof e=="boolean"?e?$t.DEFAULT_REMOTE_FEATURES.onramp:!1:e},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>e===void 0?$t.DEFAULT_REMOTE_FEATURES.activity:!!e},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>e===void 0?$t.DEFAULT_REMOTE_FEATURES.reownBranding:!!e}},gUe={localSettingsOverridden:new Set,getApiConfig(e,t){return t?.find(r=>r.id===e)},addWarning(e,t){if(e!==void 0){const r=H6[t],n=r.isLegacy?`"features.${r.localFeatureName}" (now "${t}")`:`"features.${t}"`;this.localSettingsOverridden.add(n)}},processFeature(e,t,r,n,i){const s=H6[e],o=t[s.localFeatureName];if(i&&!s.isAvailableOnBasic)return!1;if(n){const a=this.getApiConfig(s.apiFeatureName,r);return a?.config===null?this.processFallbackFeature(e,o):a?.config?(o!==void 0&&this.addWarning(o,e),this.processApiFeature(e,a)):!1}return this.processFallbackFeature(e,o)},processApiFeature(e,t){return H6[e].processApi(t)},processFallbackFeature(e,t){return H6[e].processFallback(t)},async fetchRemoteFeatures(e){const t=e.basic??!1,r=e.features||{};this.localSettingsOverridden.clear();let n=null,i=!1;try{n=await Ee.fetchProjectConfig(),i=n!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const s=i&&!t?$t.DEFAULT_REMOTE_FEATURES:$t.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of pUe){const a=this.processFeature(o,r,n,i,t);Object.assign(s,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),$t.DEFAULT_REMOTE_FEATURES}if(i&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;wo.open({shortMessage:"Local configuration ignored",longMessage:`[Reown Config Notice] ${o}`},"warning")}return s}};class mUe{constructor(t){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(r,n)=>{if(r){const i=G.getNetworkData(r)?.requestedCaipNetworks?.find(a=>a.id===n);if(i)return i;const s=G.getNetworkData(r)?.caipNetwork;return s||G.getRequestedCaipNetworks(r).filter(a=>a.chainNamespace===r)?.[0]}return G.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const r=this.getCaipNetwork();if(r)return r.id},this.getCaipNetworks=r=>G.getCaipNetworks(r),this.getActiveChainNamespace=()=>G.state.activeChain,this.setRequestedCaipNetworks=(r,n)=>{G.setRequestedCaipNetworks(r,n)},this.getApprovedCaipNetworkIds=()=>G.getAllApprovedCaipNetworkIds(),this.getCaipAddress=r=>G.state.activeChain===r||!r?G.state.activeCaipAddress:G.getAccountProp("caipAddress",r),this.setClientId=r=>{Ve.setClientId(r)},this.getProvider=r=>mr.getProvider(r),this.getProviderType=r=>mr.getProviderId(r),this.getPreferredAccountType=r=>Ne.state.preferredAccountTypes?.[r],this.setCaipAddress=(r,n)=>{Ne.setCaipAddress(r,n),r&&de.state.enableEmbedded&&this.close()},this.setBalance=(r,n,i)=>{Ne.setBalance(r,n,i)},this.setProfileName=(r,n)=>{Ne.setProfileName(r,n)},this.setProfileImage=(r,n)=>{Ne.setProfileImage(r,n)},this.setUser=(r,n)=>{Ne.setUser(r,n)},this.resetAccount=r=>{Ne.resetAccount(r)},this.setCaipNetwork=r=>{G.setActiveCaipNetwork(r)},this.setCaipNetworkOfNamespace=(r,n)=>{G.setChainNetworkData(n,{caipNetwork:r})},this.setAllAccounts=(r,n)=>{Ne.setAllAccounts(r,n),de.setHasMultipleAddresses(r?.length>1)},this.setStatus=(r,n)=>{Ne.setStatus(r,n),ye.isConnected()?Re.setConnectionStatus("connected"):Re.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=r=>G.getAccountProp("address",r),this.setConnectors=r=>{const n=[...ye.state.allConnectors,...r];ye.setConnectors(n)},this.setConnections=(r,n)=>{Ae.setConnections(r,n)},this.fetchIdentity=r=>Ve.fetchIdentity(r),this.getReownName=r=>tm.getNamesForAddress(r),this.getConnectors=()=>ye.getConnectors(),this.getConnectorImage=r=>Xr.getConnectorImage(r),this.setConnectedWalletInfo=(r,n)=>{const i=mr.getProviderId(n),s=r?{...r,type:i}:void 0;Ne.setConnectedWalletInfo(s,n)},this.getIsConnectedState=()=>!!G.state.activeCaipAddress,this.addAddressLabel=(r,n,i)=>{Ne.addAddressLabel(r,n,i)},this.removeAddressLabel=(r,n)=>{Ne.removeAddressLabel(r,n)},this.getAddress=r=>G.state.activeChain===r||!r?Ne.state.address:G.getAccountProp("address",r),this.setApprovedCaipNetworksData=r=>G.setApprovedCaipNetworksData(r),this.resetNetwork=r=>{G.resetNetwork(r)},this.addConnector=r=>{ye.addConnector(r)},this.resetWcConnection=()=>{Ae.resetWcConnection()},this.setAddressExplorerUrl=(r,n)=>{Ne.setAddressExplorerUrl(r,n)},this.setSmartAccountDeployed=(r,n)=>{Ne.setSmartAccountDeployed(r,n)},this.setSmartAccountEnabledNetworks=(r,n)=>{G.setSmartAccountEnabledNetworks(r,n)},this.setPreferredAccountType=(r,n)=>{Ne.setPreferredAccountType(r,n)},this.setEIP6963Enabled=r=>{de.setEIP6963Enabled(r)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=t,this.version=t.sdkVersion,this.caipNetworks=this.extendCaipNetworks(t),this.chainNamespaces=this.getChainNamespacesSet(t.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(t),this.chainAdapters=this.createAdapters(t.adapters),this.readyPromise=this.initialize(t)}getChainNamespacesSet(t,r){const n=t?.map(s=>s.namespace).filter(s=>!!s);if(n?.length)return[...new Set(n)];const i=r?.map(s=>s.chainNamespace);return[...new Set(i)]}async initialize(t){this.initializeProjectSettings(t),this.initControllers(t),await this.initChainAdapters(),this.sendInitializeEvent(t),await this.syncExistingConnection(),this.remoteFeatures=await gUe.fetchRemoteFeatures(t),de.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&MI.setOnrampProviders(this.remoteFeatures.onramp),(de.state.remoteFeatures?.email||Array.isArray(de.state.remoteFeatures?.socials)&&de.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){const t=await Ee.fetchAllowedOrigins();if(t&&we.isClient()){const r=window.location.origin;u5.isOriginAllowed(r,t,Gg.DEFAULT_ALLOWED_ANCESTORS)||wo.open(gh.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}else wo.open(gh.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}sendInitializeEvent(t){const{...r}=t;delete r.adapters,delete r.universalProvider,ot.sendEvent({type:"track",event:"INITIALIZE",properties:{...r,networks:t.networks.map(n=>n.id),siweConfig:{options:t.siweConfig?.options||{}}}})}initControllers(t){this.initializeOptionsController(t),this.initializeChainController(t),this.initializeThemeController(t),this.initializeConnectionController(t),this.initializeConnectorController()}initializeThemeController(t){t.themeMode&&Bn.setThemeMode(t.themeMode),t.themeVariables&&Bn.setThemeVariables(t.themeVariables)}initializeChainController(t){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");G.initialize(t.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const r=this.getDefaultNetwork();r&&G.setActiveCaipNetwork(r)}initializeConnectionController(t){Ae.setWcBasic(t.basic??!1)}initializeConnectorController(){ye.initialize(this.chainNamespaces)}initializeProjectSettings(t){de.setProjectId(t.projectId),de.setSdkVersion(t.sdkVersion)}initializeOptionsController(t){de.setDebug(t.debug!==!1),de.setEnableWalletConnect(t.enableWalletConnect!==!1),de.setEnableWalletGuide(t.enableWalletGuide!==!1),de.setEnableWallets(t.enableWallets!==!1),de.setEIP6963Enabled(t.enableEIP6963!==!1),de.setEnableNetworkSwitch(t.enableNetworkSwitch!==!1),de.setEnableAuthLogger(t.enableAuthLogger!==!1),de.setCustomRpcUrls(t.customRpcUrls),de.setEnableEmbedded(t.enableEmbedded),de.setAllWallets(t.allWallets),de.setIncludeWalletIds(t.includeWalletIds),de.setExcludeWalletIds(t.excludeWalletIds),de.setFeaturedWalletIds(t.featuredWalletIds),de.setTokens(t.tokens),de.setTermsConditionsUrl(t.termsConditionsUrl),de.setPrivacyPolicyUrl(t.privacyPolicyUrl),de.setCustomWallets(t.customWallets),de.setFeatures(t.features),de.setAllowUnsupportedChain(t.allowUnsupportedChain),de.setUniversalProviderConfigOverride(t.universalProviderConfigOverride),de.setPreferUniversalLinks(t.experimental_preferUniversalLinks),de.setDefaultAccountTypes(t.defaultAccountTypes);const r=Re.getPreferredAccountTypes()||{},n={...de.state.defaultAccountTypes,...r};Ne.setPreferredAccountTypes(n);const i=this.getDefaultMetaData();if(!t.metadata&&i&&(t.metadata=i),de.setMetadata(t.metadata),de.setDisableAppend(t.disableAppend),de.setEnableEmbedded(t.enableEmbedded),de.setSIWX(t.siwx),!t.projectId){wo.open(gh.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(t.adapters?.find(o=>o.namespace===Le.CHAIN.EVM)&&t.siweConfig){if(t.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");de.setSIWX(t.siweConfig.mapToSIWX())}}getDefaultMetaData(){return we.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(t){const r=this.getActiveChainNamespace();if(r){const n=_h.getUnsupportedNetwork(`${r}:${t}`);G.setActiveCaipNetwork(n)}}getDefaultNetwork(){return _h.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(t,r){return _h.extendCaipNetwork(t,{customNetworkImageUrls:r.chainImages,projectId:r.projectId})}extendCaipNetworks(t){return _h.extendCaipNetworks(t.networks,{customNetworkImageUrls:t.chainImages,customRpcUrls:t.customRpcUrls,projectId:t.projectId})}extendDefaultCaipNetwork(t){const r=t.networks.find(i=>i.id===t.defaultNetwork?.id);return r?_h.extendCaipNetwork(r,{customNetworkImageUrls:t.chainImages,customRpcUrls:t.customRpcUrls,projectId:t.projectId}):void 0}async disconnectNamespace(t){try{const r=this.getAdapter(t),n=mr.getProvider(t),i=mr.getProviderId(t),{caipAddress:s}=G.getAccountData(t)||{};this.setLoading(!0,t),s&&r?.disconnect&&await r.disconnect({provider:n,providerType:i}),Re.removeConnectedNamespace(t),mr.resetChain(t),this.setUser(void 0,t),this.setStatus("disconnected",t),this.setConnectedWalletInfo(void 0,t),ye.removeConnectorId(t),G.resetAccount(t),G.resetNetwork(t),this.setLoading(!1,t)}catch(r){throw this.setLoading(!1,t),new Error(`Failed to disconnect chain ${t}: ${r.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const t=G.state.activeChain,r=this.getAdapter(t),n=this.getCaipNetwork(t)?.id;if(!r)throw new Error("Adapter not found");const i=await r.connectWalletConnect(n);this.close(),this.setClientId(i?.clientId||null),Re.setConnectedNamespaces([...G.state.chains.keys()]),this.chainNamespaces.forEach(s=>{ye.setConnectorId(cu.CONNECTOR_TYPE_WALLET_CONNECT,s)}),await this.syncWalletConnectAccount()},connectExternal:async({id:t,info:r,type:n,provider:i,chain:s,caipNetwork:o,socialUri:a})=>{const c=G.state.activeChain,u=s||c,l=this.getAdapter(u);if(s&&s!==c&&!o){const p=this.getCaipNetworks().find(b=>b.chainNamespace===s);p&&this.setCaipNetwork(p)}if(!l)throw new Error("Adapter not found");const f=this.getCaipNetwork(u),d=await l.connect({id:t,info:r,type:n,provider:i,socialUri:a,chainId:o?.id||f?.id,rpcUrl:o?.rpcUrls?.default?.http?.[0]||f?.rpcUrls?.default?.http?.[0]});if(!d)return;Re.addConnectedNamespace(u),this.syncProvider({...d,chainNamespace:u});const h=Ne.state.allAccounts,{accounts:g}=h?.length>0?{accounts:[...h]}:await l.getAccounts({namespace:u,id:t});this.setAllAccounts(g,u),this.setStatus("connected",u),this.syncConnectedWalletInfo(u)},reconnectExternal:async({id:t,info:r,type:n,provider:i})=>{const s=G.state.activeChain,o=this.getAdapter(s);o?.reconnect&&(await o?.reconnect({id:t,info:r,type:n,provider:i,chainId:this.getCaipNetwork()?.id}),Re.addConnectedNamespace(s),this.syncConnectedWalletInfo(s))},disconnect:async t=>{const r=rUe(t);try{const n=await Promise.allSettled(r.map(async([s])=>this.disconnectNamespace(s)));Pt.resetSend(),Ae.resetWcConnection(),await rd.clearSessions(),ye.setFilterByNamespace(void 0);const i=n.filter(s=>s.status==="rejected");if(i.length>0)throw new Error(i.map(s=>s.reason.message).join(", "));Re.deleteConnectedSocialProvider(),ot.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:t||"all"}})}catch(n){throw new Error(`Failed to disconnect chains: ${n.message}`)}},checkInstalled:t=>t?t.some(r=>!!window.ethereum?.[String(r)]):!!window.ethereum,signMessage:async t=>(await this.getAdapter(G.state.activeChain)?.signMessage({message:t,address:Ne.state.address,provider:mr.getProvider(G.state.activeChain)}))?.signature||"",sendTransaction:async t=>{const r=t.chainNamespace;if($t.SEND_SUPPORTED_NAMESPACES.includes(r)){const n=this.getAdapter(G.state.activeChain),i=mr.getProvider(r);return(await n?.sendTransaction({...t,caipNetwork:this.getCaipNetwork(),provider:i}))?.hash||""}return""},estimateGas:async t=>{if(t.chainNamespace===Le.CHAIN.EVM){const r=this.getAdapter(G.state.activeChain),n=mr.getProvider(G.state.activeChain),i=this.getCaipNetwork();if(!i)throw new Error("CaipNetwork is undefined");return(await r?.estimateGas({...t,provider:n,caipNetwork:i}))?.gas||0n}return 0n},getEnsAvatar:async()=>(await this.syncIdentity({address:Ne.state.address,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:G.state.activeChain}),Ne.state.profileImage||!1),getEnsAddress:async t=>await u5.resolveReownName(t),writeContract:async t=>{const r=this.getAdapter(G.state.activeChain),n=this.getCaipNetwork(),i=this.getCaipAddress(),s=mr.getProvider(G.state.activeChain);if(!n||!i)throw new Error("CaipNetwork or CaipAddress is undefined");return(await r?.writeContract({...t,caipNetwork:n,provider:s,caipAddress:i}))?.hash},parseUnits:(t,r)=>this.getAdapter(G.state.activeChain)?.parseUnits({value:t,decimals:r})??0n,formatUnits:(t,r)=>this.getAdapter(G.state.activeChain)?.formatUnits({value:t,decimals:r})??"0",getCapabilities:async t=>await this.getAdapter(G.state.activeChain)?.getCapabilities(t),grantPermissions:async t=>await this.getAdapter(G.state.activeChain)?.grantPermissions(t),revokePermissions:async t=>{const r=this.getAdapter(G.state.activeChain);return r?.revokePermissions?await r.revokePermissions(t):"0x"},walletGetAssets:async t=>await this.getAdapter(G.state.activeChain)?.walletGetAssets(t)??{},updateBalance:t=>{const r=this.getCaipNetwork(t);!r||!Ne.state.address||this.updateNativeBalance(Ne.state.address,r?.id,t)}},this.networkControllerClient={switchCaipNetwork:async t=>await this.switchCaipNetwork(t),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},Ae.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){if(mr.getProviderId(G.state.activeChain)===cu.CONNECTOR_TYPE_WALLET_CONNECT){const r=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(r)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(t){if(!t)return;const r=t.chainNamespace;if(this.getAddressByChainNamespace(t.chainNamespace)){const i=mr.getProvider(r),s=mr.getProviderId(r);if(t.chainNamespace===G.state.activeChain)await this.getAdapter(r)?.switchNetwork({caipNetwork:t,provider:i,providerType:s});else if(this.setCaipNetwork(t),s===cu.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(r);o&&this.syncAccount({address:o,chainId:t.id,chainNamespace:r})}}else this.setCaipNetwork(t)}getChainsFromNamespaces(t={}){return Object.values(t).flatMap(r=>{const n=r.chains||[],i=r.accounts.map(s=>{const{chainId:o,chainNamespace:a}=eu.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...n,...i]))})}createAdapters(t){return this.createClients(),this.chainNamespaces.reduce((r,n)=>{const i=t?.find(s=>s.namespace===n);return i?(i.construct({namespace:n,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),r[n]=i):r[n]=new hUe({namespace:n,networks:this.getCaipNetworks()}),r},{})}async initChainAdapter(t){this.onConnectors(t),this.listenAdapter(t),await this.chainAdapters?.[t].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(t)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async t=>{await this.initChainAdapter(t)}))}onConnectors(t){this.getAdapter(t)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(t){const r=this.getAdapter(t);if(!r)return;const n=Re.getConnectionStatus();n==="connected"?this.setStatus("connecting",t):n==="disconnected"?(Re.clearAddressCache(),this.setStatus(n,t)):this.setStatus(n,t),r.on("switchNetwork",({address:i,chainId:s})=>{const o=this.getCaipNetworks().find(u=>u.id===s||u.caipNetworkId===s),a=G.state.activeChain===t,c=G.getAccountProp("address",t);if(o){const u=a&&i?i:c;u&&this.syncAccount({address:u,chainId:o.id,chainNamespace:t})}else this.setUnsupportedNetwork(s)}),r.on("disconnect",this.disconnect.bind(this,t)),r.on("connections",i=>{this.setConnections(i,t)}),r.on("pendingTransactions",()=>{const i=Ne.state.address,s=G.state.activeCaipNetwork;!i||!s?.id||this.updateNativeBalance(i,s.id,s.chainNamespace)}),r.on("accountChanged",({address:i,chainId:s})=>{const o=G.state.activeChain===t;o&&s?this.syncAccount({address:i,chainId:s,chainNamespace:t}):o&&G.state.activeCaipNetwork?.id?this.syncAccount({address:i,chainId:G.state.activeCaipNetwork?.id,chainNamespace:t}):this.syncAccountInfo(i,s,t),this.syncAllAccounts(t)})}async createUniversalProviderForAdapter(t){await this.getUniversalProvider(),this.universalProvider&&this.chainAdapters?.[t]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(t=>this.syncNamespaceConnection(t)))}async syncNamespaceConnection(t){try{t===Le.CHAIN.EVM&&we.isSafeApp()&&ye.setConnectorId(Le.CONNECTOR_ID.SAFE,t);const r=ye.getConnectorId(t);switch(this.setStatus("connecting",t),r){case Le.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case Le.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(t)}}catch(r){console.warn("AppKit couldn't sync existing connection",r),this.setStatus("disconnected",t)}}async syncAdapterConnection(t){const r=this.getAdapter(t),n=ye.getConnectorId(t),i=this.getCaipNetwork(t),o=ye.getConnectors(t).find(a=>a.id===n);try{if(!r||!o)throw new Error(`Adapter or connector not found for namespace ${t}`);if(!i?.id)throw new Error("CaipNetwork not found");const a=await r?.syncConnection({namespace:t,id:o.id,chainId:i.id,rpcUrl:i?.rpcUrls?.default?.http?.[0]});if(a){const c=await r?.getAccounts({namespace:t,id:o.id});c&&c.accounts.length>0?this.setAllAccounts(c.accounts,t):this.setAllAccounts([we.createAccount(t,a.address,"eoa")],t),this.syncProvider({...a,chainNamespace:t}),await this.syncAccount({...a,chainNamespace:t}),this.setStatus("connected",t)}else this.setStatus("disconnected",t)}catch{this.setStatus("disconnected",t)}}async syncWalletConnectAccount(){const t=this.chainNamespaces.map(async r=>{const n=this.getAdapter(r),i=this.universalProvider?.session?.namespaces?.[r]?.accounts||[],s=G.state.activeCaipNetwork?.id,o=i.find(a=>{const{chainId:c}=eu.parseCaipAddress(a);return c===s?.toString()})||i[0];if(o){const a=eu.validateCaipAddress(o),{chainId:c,address:u}=eu.parseCaipAddress(a);if(mr.setProviderId(r,cu.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&G.state.activeCaipNetwork&&n?.namespace!==Le.CHAIN.EVM){const l=n?.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:G.state.activeCaipNetwork});mr.setProvider(r,l)}else mr.setProvider(r,this.universalProvider);ye.setConnectorId(Le.CONNECTOR_ID.WALLET_CONNECT,r),Re.addConnectedNamespace(r),this.syncWalletConnectAccounts(r),await this.syncAccount({address:u,chainId:c,chainNamespace:r})}else this.setStatus("disconnected",r);this.syncConnectedWalletInfo(r),await G.setApprovedCaipNetworksData(r)});await Promise.all(t)}syncWalletConnectAccounts(t){const r=this.universalProvider?.session?.namespaces?.[t]?.accounts?.map(n=>{const{address:i}=eu.parseCaipAddress(n);return i}).filter((n,i,s)=>s.indexOf(n)===i);r&&this.setAllAccounts(r.map(n=>we.createAccount(t,n,t==="bip122"?"payment":"eoa")),t)}syncProvider({type:t,provider:r,id:n,chainNamespace:i}){mr.setProviderId(i,t),mr.setProvider(i,r),ye.setConnectorId(n,i)}async syncAllAccounts(t){const r=ye.getConnectorId(t);if(!r)return;const i=await this.getAdapter(t)?.getAccounts({namespace:t,id:r});i&&i.accounts.length>0&&this.setAllAccounts(i.accounts,t)}async syncAccount(t){const r=t.chainNamespace===G.state.activeChain,n=G.getCaipNetworkByNamespace(t.chainNamespace,t.chainId),{address:i,chainId:s,chainNamespace:o}=t,{chainId:a}=Re.getActiveNetworkProps(),c=s||a,u=G.state.activeCaipNetwork?.name===Le.UNSUPPORTED_NETWORK_NAME,l=G.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(u&&!l)&&c){let f=this.getCaipNetworks().find(g=>g.id.toString()===c.toString()),d=this.getCaipNetworks().find(g=>g.chainNamespace===o);if(!l&&!f&&!d){const g=this.getApprovedCaipNetworkIds()||[],p=g.find(w=>eu.parseCaipNetworkId(w)?.chainId===c.toString()),b=g.find(w=>eu.parseCaipNetworkId(w)?.chainNamespace===o);f=this.getCaipNetworks().find(w=>w.caipNetworkId===p),d=this.getCaipNetworks().find(w=>w.caipNetworkId===b||"deprecatedCaipNetworkId"in w&&w.deprecatedCaipNetworkId===b)}const h=f||d;h?.chainNamespace===G.state.activeChain?de.state.enableNetworkSwitch&&!de.state.allowUnsupportedChain&&G.state.activeCaipNetwork?.name===Le.UNSUPPORTED_NETWORK_NAME?G.showUnsupportedChainUI():this.setCaipNetwork(h):r||n&&this.setCaipNetworkOfNamespace(n,o),this.syncConnectedWalletInfo(o),K7.isLowerCaseMatch(i,Ne.state.address)||this.syncAccountInfo(i,h?.id,o),r?await this.syncBalance({address:i,chainId:h?.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:n?.id,chainNamespace:o})}}async syncAccountInfo(t,r,n){const i=this.getCaipAddress(n),s=r||i?.split(":")[1];if(!s)return;const o=`${n}:${s}:${t}`;this.setCaipAddress(o,n),await this.syncIdentity({address:t,chainId:s,chainNamespace:n})}async syncReownName(t,r){try{const n=await this.getReownName(t);if(n[0]){const i=n[0];this.setProfileName(i.name,r)}else this.setProfileName(null,r)}catch{this.setProfileName(null,r)}}syncConnectedWalletInfo(t){const r=ye.getConnectorId(t),n=mr.getProviderId(t);if(n===cu.CONNECTOR_TYPE_ANNOUNCED||n===cu.CONNECTOR_TYPE_INJECTED){if(r){const i=this.getConnectors().find(s=>s.id===r);if(i){const{info:s,name:o,imageUrl:a}=i,c=a||this.getConnectorImage(i);this.setConnectedWalletInfo({name:o,icon:c,...s},t)}}}else if(n===cu.CONNECTOR_TYPE_WALLET_CONNECT){const i=mr.getProvider(t);i?.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:i.session.peer.metadata.icons?.[0]},t)}else if(r&&r===Le.CONNECTOR_ID.COINBASE){const i=this.getConnectors().find(s=>s.id===Le.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(i)},t)}}async syncBalance(t){!dee.getNetworksByNamespace(this.getCaipNetworks(),t.chainNamespace).find(n=>n.id.toString()===t.chainId?.toString())||!t.chainId||await this.updateNativeBalance(t.address,t.chainId,t.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(t,r,n){const i=this.getAdapter(n),s=G.getCaipNetworkByNamespace(n,r);if(i){const o=await i.getBalance({address:t,chainId:r,caipNetwork:s,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,n),o}}async initializeUniversalAdapter(){const t=iUe.createLogger((n,...i)=>{n&&this.handleAlertError(n),console.error(...i)}),r={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:t};de.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await G7.init(r),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",t=>{Ae.setUri(t)}),this.universalProvider.on("connect",Ae.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(t=>{this.resetAccount(t)}),Ae.resetWcConnection()}),this.universalProvider.on("chainChanged",t=>{const r=this.getCaipNetworks().find(i=>i.id==t),n=this.getCaipNetwork();if(!r){this.setUnsupportedNetwork(t);return}n?.id!==r?.id&&this.setCaipNetwork(r)}),this.universalProvider.on("session_event",t=>{if(u5.isSessionEventData(t)){const{name:r,data:n}=t.params.event;r==="accountsChanged"&&Array.isArray(n)&&we.isCaipAddress(n[0])&&this.syncAccount(eu.parseCaipAddress(n[0]))}}))}createUniversalProvider(){return!this.universalProviderInitPromise&&we.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(t){ot.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:t instanceof Error?t.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",t)}return this.universalProvider}handleAlertError(t){const r=Object.entries(gh.UniversalProviderErrors).find(([,{message:a}])=>t.message.includes(a)),[n,i]=r??[],{message:s,alertErrorKey:o}=i??{};if(n&&s&&!this.reportedAlertErrors[n]){const a=gh.ALERT_ERRORS[o];a&&(wo.open(a,"error"),this.reportedAlertErrors[n]=!0)}}getAdapter(t){if(t)return this.chainAdapters?.[t]}createAdapter(t){if(!t)return;const r=t.namespace;if(!r)return;this.createClients();const n=t;n.namespace=r,n.construct({namespace:r,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(r)||this.chainNamespaces.push(r),this.chainAdapters&&(this.chainAdapters[r]=n)}async open(t){return await this.injectModalUi(),t?.uri&&Ae.setUri(t.uri),t?.arguments&&t?.view==="Swap"?Bt.open({...t,data:{swap:t.arguments}}):Bt.open(t)}async close(){await this.injectModalUi(),Bt.close()}setLoading(t,r){Bt.setLoading(t,r)}async disconnect(t){await Ae.disconnect(t)}getSIWX(){return de.state.siwx}getError(){return""}getChainId(){return G.state.activeCaipNetwork?.id}async switchNetwork(t){const r=this.getCaipNetworks().find(n=>n.id===t.id);if(!r){wo.open(gh.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await G.switchActiveNetwork(r)}getWalletProvider(){return G.state.activeChain?mr.state.providers[G.state.activeChain]:null}getWalletProviderType(){return mr.getProviderId(G.state.activeChain)}subscribeProviders(t){return mr.subscribeProviders(t)}getThemeMode(){return Bn.state.themeMode}getThemeVariables(){return Bn.state.themeVariables}setThemeMode(t){Bn.setThemeMode(t),sre(Bn.state.themeMode)}setTermsConditionsUrl(t){de.setTermsConditionsUrl(t)}setPrivacyPolicyUrl(t){de.setPrivacyPolicyUrl(t)}setThemeVariables(t){Bn.setThemeVariables(t),aUe(Bn.state.themeVariables)}subscribeTheme(t){return Bn.subscribe(t)}getWalletInfo(){return Ne.state.connectedWalletInfo}getAccount(t){const r=ye.getAuthConnector(t),n=G.getAccountData(t),i=G.state.activeChain,s=Re.getConnectedConnectorId(t||i);if(n)return{allAccounts:n.allAccounts,caipAddress:n.caipAddress,address:we.getPlainAddress(n.caipAddress),isConnected:!!n.caipAddress,status:n.status,embeddedWalletInfo:r&&s===Le.CONNECTOR_ID.AUTH?{user:n.user?{...n.user,username:Re.getConnectedSocialUsername()}:void 0,authProvider:n.socialProvider||"email",accountType:n.preferredAccountTypes?.[t||i],isSmartAccountDeployed:!!n.smartAccountDeployed}:void 0}}subscribeAccount(t,r){const n=()=>{const i=this.getAccount(r);i&&t(i)};r?G.subscribeChainProp("accountState",n,r):G.subscribe(n),ye.subscribe(n)}subscribeNetwork(t){return G.subscribe(({activeCaipNetwork:r})=>{t({caipNetwork:r,chainId:r?.id,caipNetworkId:r?.caipNetworkId})})}subscribeWalletInfo(t){return Ne.subscribeKey("connectedWalletInfo",t)}subscribeShouldUpdateToAddress(t){Ne.subscribeKey("shouldUpdateToAddress",t)}subscribeCaipNetworkChange(t){G.subscribeKey("activeCaipNetwork",t)}getState(){return Eu.state}subscribeState(t){return Eu.subscribe(t)}showErrorMessage(t){Rr.showError(t)}showSuccessMessage(t){Rr.showSuccess(t)}getEvent(){return{...ot.state}}subscribeEvents(t){return ot.subscribe(t)}replace(t){ve.replace(t)}redirect(t){ve.push(t)}popTransactionStack(t){ve.popTransactionStack(t)}isOpen(){return Bt.state.open}isTransactionStackEmpty(){return ve.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(t){de.setFeatures(t)}updateRemoteFeatures(t){de.setRemoteFeatures(t)}updateOptions(t){const n={...de.state||{},...t};de.setOptions(n)}setConnectMethodsOrder(t){de.setConnectMethodsOrder(t)}setWalletFeaturesOrder(t){de.setWalletFeaturesOrder(t)}setCollapseWallets(t){de.setCollapseWallets(t)}setSocialsOrder(t){de.setSocialsOrder(t)}getConnectMethodsOrder(){return Sd.getConnectOrderMethod(de.state.features,ye.getConnectors())}addNetwork(t,r){if(this.chainAdapters&&!this.chainAdapters[t])throw new Error(`Adapter for namespace ${t} doesn't exist`);const n=this.extendCaipNetwork(r,this.options);this.getCaipNetworks().find(i=>i.id===n.id)||G.addNetwork(n)}removeNetwork(t,r){if(this.chainAdapters&&!this.chainAdapters[t])throw new Error(`Adapter for namespace ${t} doesn't exist`);this.getCaipNetworks().find(i=>i.id===r)&&G.removeNetwork(t,r)}}let gH=!1;class are extends mUe{async open(t){ye.isConnected()||await super.open(t)}async close(){await super.close(),this.options.manualWCControl&&Ae.finalizeWcConnection()}async syncIdentity(t){return Promise.resolve()}async syncBalance(t){return Promise.resolve()}async injectModalUi(){if(!gH&&we.isClient()){if(await re(()=>Promise.resolve().then(()=>Qqe),void 0),await re(()=>Promise.resolve().then(()=>hze),void 0),!document.querySelector("w3m-modal")){const r=document.createElement("w3m-modal");!de.state.disableAppend&&!de.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",r)}gH=!0}}}const bUe="1.7.8";function yUe(e){return new are({...e,basic:!0,sdkVersion:`html-core-${bUe}`})}const wUe=Object.freeze(Object.defineProperty({__proto__:null,AppKit:are,createAppKit:yUe},Symbol.toStringTag,{value:"Module"})),vUe=He`
  :host {
    display: flex;
    width: inherit;
    height: inherit;
  }
`;var Os=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let yi=class extends $e{render(){return this.style.cssText=`
      flex-direction: ${this.flexDirection};
      flex-wrap: ${this.flexWrap};
      flex-basis: ${this.flexBasis};
      flex-grow: ${this.flexGrow};
      flex-shrink: ${this.flexShrink};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding&&hn.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&hn.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&hn.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&hn.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&hn.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&hn.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&hn.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&hn.getSpacingStyles(this.margin,3)};
    `,J`<slot></slot>`}};yi.styles=[Tt,vUe];Os([ne()],yi.prototype,"flexDirection",void 0);Os([ne()],yi.prototype,"flexWrap",void 0);Os([ne()],yi.prototype,"flexBasis",void 0);Os([ne()],yi.prototype,"flexGrow",void 0);Os([ne()],yi.prototype,"flexShrink",void 0);Os([ne()],yi.prototype,"alignItems",void 0);Os([ne()],yi.prototype,"justifyContent",void 0);Os([ne()],yi.prototype,"columnGap",void 0);Os([ne()],yi.prototype,"rowGap",void 0);Os([ne()],yi.prototype,"gap",void 0);Os([ne()],yi.prototype,"padding",void 0);Os([ne()],yi.prototype,"margin",void 0);yi=Os([Be("wui-flex")],yi);const Fe=e=>e??IA;const EUe=e=>e===null||typeof e!="object"&&typeof e!="function",_Ue=e=>e.strings===void 0;const cre={ATTRIBUTE:1,CHILD:2},Z7=e=>(...t)=>({_$litDirective$:e,values:t});let ure=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,r,n){this._$Ct=t,this._$AM=r,this._$Ci=n}_$AS(t,r){return this.update(t,r)}update(t,r){return this.render(...r)}};const om=(e,t)=>{const r=e._$AN;if(r===void 0)return!1;for(const n of r)n._$AO?.(t,!1),om(n,t);return!0},c3=e=>{let t,r;do{if((t=e._$AM)===void 0)break;r=t._$AN,r.delete(e),e=t}while(r?.size===0)},lre=e=>{for(let t;t=e._$AM;e=t){let r=t._$AN;if(r===void 0)t._$AN=r=new Set;else if(r.has(e))break;r.add(e),xUe(t)}};function CUe(e){this._$AN!==void 0?(c3(this),this._$AM=e,lre(this)):this._$AM=e}function AUe(e,t=!1,r=0){const n=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(t)if(Array.isArray(n))for(let s=r;s<n.length;s++)om(n[s],!1),c3(n[s]);else n!=null&&(om(n,!1),c3(n));else om(this,e)}const xUe=e=>{e.type==cre.CHILD&&(e._$AP??=AUe,e._$AQ??=CUe)};class dre extends ure{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,r,n){super._$AT(t,r,n),lre(this),this.isConnected=t._$AU}_$AO(t,r=!0){t!==this.isConnected&&(this.isConnected=t,t?this.reconnected?.():this.disconnected?.()),r&&(om(this,t),c3(this))}setValue(t){if(_Ue(this._$Ct))this._$Ct._$AI(t,this);else{const r=[...this._$Ct._$AH];r[this._$Ci]=t,this._$Ct._$AI(r,this,0)}}disconnected(){}reconnected(){}}class IUe{constructor(t){this.G=t}disconnect(){this.G=void 0}reconnect(t){this.G=t}deref(){return this.G}}class PUe{constructor(){this.Y=void 0,this.Z=void 0}get(){return this.Y}pause(){this.Y??=new Promise(t=>this.Z=t)}resume(){this.Z?.(),this.Y=this.Z=void 0}}const mH=e=>!EUe(e)&&typeof e.then=="function",bH=0x3fffffff;class SUe extends dre{constructor(){super(...arguments),this._$Cwt=bH,this._$Cbt=[],this._$CK=new IUe(this),this._$CX=new PUe}render(...t){return t.find(r=>!mH(r))??PA}update(t,r){const n=this._$Cbt;let i=n.length;this._$Cbt=r;const s=this._$CK,o=this._$CX;this.isConnected||this.disconnected();for(let a=0;a<r.length&&!(a>this._$Cwt);a++){const c=r[a];if(!mH(c))return this._$Cwt=a,c;a<i&&c===n[a]||(this._$Cwt=bH,i=0,Promise.resolve(c).then(async u=>{for(;o.get();)await o.get();const l=s.deref();if(l!==void 0){const f=l._$Cbt.indexOf(c);f>-1&&f<l._$Cwt&&(l._$Cwt=f,l.setValue(u))}}))}return PA}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}}const TUe=Z7(SUe);class OUe{constructor(){this.cache=new Map}set(t,r){this.cache.set(t,r)}get(t){return this.cache.get(t)}has(t){return this.cache.has(t)}delete(t){this.cache.delete(t)}clear(){this.cache.clear()}}const YC=new OUe,jUe=He`
  :host {
    display: flex;
    aspect-ratio: var(--local-aspect-ratio);
    color: var(--local-color);
    width: var(--local-width);
  }

  svg {
    width: inherit;
    height: inherit;
    object-fit: contain;
    object-position: center;
  }

  .fallback {
    width: var(--local-width);
    height: var(--local-height);
  }
`;var Sb=function(e,t,r,n){var i=arguments.length,s=i<3?t:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};const yH={add:async()=>(await re(async()=>{const{addSvg:e}=await Promise.resolve().then(()=>gze);return{addSvg:e}},void 0)).addSvg,allWallets:async()=>(await re(async()=>{const{allWalletsSvg:e}=await Promise.resolve().then(()=>bze);return{allWalletsSvg:e}},void 0)).allWalletsSvg,arrowBottomCircle:async()=>(await re(async()=>{const{arrowBottomCircleSvg:e}=await Promise.resolve().then(()=>wze);return{arrowBottomCircleSvg:e}},void 0)).arrowBottomCircleSvg,appStore:async()=>(await re(async()=>{const{appStoreSvg:e}=await Promise.resolve().then(()=>Eze);return{appStoreSvg:e}},void 0)).appStoreSvg,apple:async()=>(await re(async()=>{const{appleSvg:e}=await Promise.resolve().then(()=>Cze);return{appleSvg:e}},void 0)).appleSvg,arrowBottom:async()=>(await re(async()=>{const{arrowBottomSvg:e}=await Promise.resolve().then(()=>xze);return{arrowBottomSvg:e}},void 0)).arrowBottomSvg,arrowLeft:async()=>(await re(async()=>{const{arrowLeftSvg:e}=await Promise.resolve().then(()=>Pze);return{arrowLeftSvg:e}},void 0)).arrowLeftSvg,arrowRight:async()=>(await re(async()=>{const{arrowRightSvg:e}=await Promise.resolve().then(()=>Tze);return{arrowRightSvg:e}},void 0)).arrowRightSvg,arrowTop:async()=>(await re(async()=>{const{arrowTopSvg:e}=await Promise.resolve().then(()=>jze);return{arrowTopSvg:e}},void 0)).arrowTopSvg,bank:async()=>(await re(async()=>{const{bankSvg:e}=await Promise.resolve().then(()=>Rze);return{bankSvg:e}},void 0)).bankSvg,browser:async()=>(await re(async()=>{const{browserSvg:e}=await Promise.resolve().then(()=>Nze);return{browserSvg:e}},void 0)).browserSvg,card:async()=>(await re(async()=>{const{cardSvg:e}=await Promise.resolve().then(()=>$ze);return{cardSvg:e}},void 0)).cardSvg,checkmark:async()=>(await re(async()=>{const{checkmarkSvg:e}=await Promise.resolve().then(()=>Lze);return{checkmarkSvg:e}},void 0)).checkmarkSvg,checkmarkBold:async()=>(await re(async()=>{const{checkmarkBoldSvg:e}=await Promise.resolve().then(()=>qze);return{checkmarkBoldSvg:e}},void 0)).checkmarkBoldSvg,chevronBottom:async()=>(await re(async()=>{const{chevronBottomSvg:e}=await Promise.resolve().then(()=>Fze);return{chevronBottomSvg:e}},void 0)).chevronBottomSvg,chevronLeft:async()=>(await re(async()=>{const{chevronLeftSvg:e}=await Promise.resolve().then(()=>Wze);return{chevronLeftSvg:e}},void 0)).chevronLeftSvg,chevronRight:async()=>(await re(async()=>{const{chevronRightSvg:e}=await Promise.resolve().then(()=>Gze);return{chevronRightSvg:e}},void 0)).chevronRightSvg,chevronTop:async()=>(await re(async()=>{const{chevronTopSvg:e}=await Promise.resolve().then(()=>Zze);return{chevronTopSvg:e}},void 0)).chevronTopSvg,chromeStore:async()=>(await re(async()=>{const{chromeStoreSvg:e}=await Promise.resolve().then(()=>Qze);return{chromeStoreSvg:e}},void 0)).chromeStoreSvg,clock:async()=>(await re(async()=>{const{clockSvg:e}=await Promise.resolve().then(()=>Xze);return{clockSvg:e}},void 0)).clockSvg,close:async()=>(await re(async()=>{const{closeSvg:e}=await Promise.resolve().then(()=>tFe);return{closeSvg:e}},void 0)).closeSvg,compass:async()=>(await re(async()=>{const{compassSvg:e}=await Promise.resolve().then(()=>nFe);return{compassSvg:e}},void 0)).compassSvg,coinPlaceholder:async()=>(await re(async()=>{const{coinPlaceholderSvg:e}=await Promise.resolve().then(()=>sFe);return{coinPlaceholderSvg:e}},void 0)).coinPlaceholderSvg,copy:async()=>(await re(async()=>{const{copySvg:e}=await Promise.resolve().then(()=>aFe);return{copySvg:e}},void 0)).copySvg,cursor:async()=>(await re(async()=>{const{cursorSvg:e}=await Promise.resolve().then(()=>uFe);return{cursorSvg:e}},void 0)).cursorSvg,cursorTransparent:async()=>(await re(async()=>{const{cursorTransparentSvg:e}=await Promise.resolve().then(()=>dFe);return{cursorTransparentSvg:e}},void 0)).cursorTransparentSvg,desktop:async()=>(await re(async()=>{const{desktopSvg:e}=await Promise.resolve().then(()=>hFe);return{desktopSvg:e}},void 0)).desktopSvg,disconnect:async()=>(await re(async()=>{const{disconnectSvg:e}=await Promise.resolve().then(()=>gFe);return{disconnectSvg:e}},void 0)).disconnectSvg,discord:async()=>(await re(async()=>{const{discordSvg:e}=await Promise.resolve().then(()=>bFe);return{discordSvg:e}},void 0)).discordSvg,etherscan:async()=>(await re(async()=>{const{etherscanSvg:e}=await import("./ethers-BgwcOcCU.js").then(t=>t.e);return{etherscanSvg:e}},__vite__mapDeps([3,1,2,4,5,6]))).etherscanSvg,extension:async()=>(await re(async()=>{const{extensionSvg:e}=await Promise.resolve().then(()=>wFe);return{extensionSvg:e}},void 0)).extensionSvg,externalLink:async()=>(await re(async()=>{const{externalLinkSvg:e}=await Promise.resolve().then(()=>EFe);return{externalLinkSvg:e}},void 0)).externalLinkSvg,facebook:async()=>(await re(async()=>{const{facebookSvg:e}=await Promise.resolve().then(()=>CFe);return{facebookSvg:e}},void 0)).facebookSvg,farcaster:async()=>(await re(async()=>{const{farcasterSvg:e}=await Promise.resolve().then(()=>xFe);return{farcasterSvg:e}},void 0)).farcasterSvg,filters:async()=>(await re(async()=>{const{filtersSvg:e}=await Promise.resolve().then(()=>PFe);return{filtersSvg:e}},void 0)).filtersSvg,github:async()=>(await re(async()=>{const{githubSvg:e}=await Promise.resolve().then(()=>TFe);return{githubSvg:e}},void 0)).githubSvg,google:async()=>(await re(async()=>{const{googleSvg:e}=await Promise.resolve().then(()=>jFe);return{googleSvg:e}},void 0)).googleSvg,helpCircle:async()=>(await re(async()=>{const{helpCircleSvg:e}=await Promise.resolve().then(()=>RFe);return{helpCircleSvg:e}},void 0)).helpCircleSvg,image:async()=>(await re(async()=>{const{imageSvg:e}=await Promise.resolve().then(()=>NFe);return{imageSvg:e}},void 0)).imageSvg,id:async()=>(await re(async()=>{const{idSvg:e}=await Promise.resolve().then(()=>$Fe);return{idSvg:e}},void 0)).idSvg,infoCircle:async()=>(await re(async()=>{const{infoCircleSvg:e}=await Promise.resolve().then(()=>LFe);return{infoCircleSvg:e}},void 0)).infoCircleSvg,lightbulb:async()=>(await re(async()=>{const{lightbulbSvg:e}=await Promise.resolve().then(()=>qFe);return{lightbulbSvg:e}},void 0)).lightbulbSvg,mail:async()=>(await re(async()=>{const{mailSvg:e}=await Promise.resolve().then(()=>FFe);return{mailSvg:e}},void 0)).mailSvg,mobile:async()=>(await re(async()=>{const{mobileSvg:e}=await Promise.resolve().then(()=>WFe);return{mobileSvg:e}},void 0)).mobileSvg,more:async()=>(await re(async()=>{const{moreSvg:e}=await Promise.resolve().then(()=>GFe);return{moreSvg:e}},void 0)).moreSvg,networkPlaceholder:async()=>(await re(async()=>{const{networkPlaceholderSvg:e}=await Promise.resolve().then(()=>ZFe);return{networkPlaceholderSvg:e}},void 0)).networkPlaceholderSvg,nftPlaceholder:async()=>(await re(async()=>{const{nftPlaceholderSvg:e}=await Promise.resolve().then(()=>QFe);return{nftPlaceholderSvg:e}},void 0)).nftPlaceholderSvg,off:async()=>(await re(async()=>{const{offSvg:e}=await Promise.resolve().then(()=>XFe);return{offSvg:e}},void 0)).offSvg,playStore:async()=>(await re(async()=>{const{playStoreSvg:e}=await Promise.resolve().then(()=>tHe);return{playStoreSvg:e}},void 0)).playStoreSvg,plus:async()=>(await re(async()=>{const{plusSvg:e}=await Promise.resolve().then(()=>nHe);return{plusSvg:e}},void 0)).plusSvg,qrCode:async()=>(await re(async()=>{const{qrCodeIcon:e}=await Promise.resolve().then(()=>sHe);return{qrCodeIcon:e}},void 0)).qrCodeIcon,recycleHorizontal:async()=>(await re(async()=>{const{recycleHorizontalSvg:e}=await Promise.resolve().then(()=>aHe);return{recycleHorizontalSvg:e}},void 0)).recycleHorizontalSvg,refresh:async()=>(await re(async()=>{const{refreshSvg:e}=await Promise.resolve().then(()=>uHe);return{refreshSvg:e}},void 0)).refreshSvg,search:async()=>(await re(async()=>{const{searchSvg:e}=await Promise.resolve().then(()=>dHe);return{searchSvg:e}},void 0)).searchSvg,send:async()=>(await re(async()=>{const{sendSvg:e}=await Promise.resolve().then(()=>hHe);return{sendSvg:e}},void 0)).sendSvg,swapHorizontal:async()=>(await re(async()=>{const{swapHorizontalSvg:e}=await Promise.resolve().then(()=>gHe);return{swapHorizontalSvg:e}},void 0)).swapHorizontalSvg,swapHorizontalMedium:async()=>(await re(async()=>{const{swapHorizontalMediumSvg:e}=await Promise.resolve().then(()=>bHe);return{swapHorizontalMediumSvg:e}},void 0)).swapHorizontalMediumSvg,swapHorizontalBold:async()=>(await re(async()=>{const{swapHorizontalBoldSvg:e}=await Promise.resolve().then(()=>wHe);return{swapHorizontalBoldSvg:e}},void 0)).swapHorizontalBoldSvg,swapHorizontalRoundedBold:async()=>(await re(async()=>{const{swapHorizontalRoundedBoldSvg:e}=await Promise.resolve().then(()=>EHe);return{swapHorizontalRoundedBoldSvg:e}},void 0)).swapHorizontalRoundedBoldSvg,swapVertical:async()=>(await re(async()=>{const{swapVerticalSvg:e}=await Promise.resolve().then(()=>CHe);return{swapVerticalSvg:e}},void 0)).swapVerticalSvg,telegram:async()=>(await re(async()=>{const{telegramSvg:e}=await Promise.resolve().then(()=>xHe);return{telegramSvg:e}},void 0)).telegramSvg,threeDots:async()=>(await re(async()=>{const{threeDotsSvg:e}=await Promise.resolve().then(()=>PHe);return{threeDotsSvg:e}},void 0)).threeDotsSvg,twitch:async()=>(await re(async()=>{const{twitchSvg:e}=await Promise.resolve().then(()=>THe);return{twitchSvg:e}},void 0)).twitchSvg,twitter:async()=>(await re(async()=>{const{xSvg:e}=await Promise.resolve().then(()=>tW);return{xSvg:e}},void 0)).xSvg,twitterIcon:async()=>(await re(async()=>{const{twitterIconSvg:e}=await Promise.resolve().then(()=>BHe);return{twitterIconSvg:e}},void 0)).twitterIconSvg,verify:async()=>(await re(async()=>{const{verifySvg:e}=await Promise.resolve().then(()=>kHe);return{verifySvg:e}},void 0)).verifySvg,verifyFilled:async()=>(await re(async()=>{const{verifyFilledSvg:e}=await Promise.resolve().then(()=>DHe);return{verifyFilledSvg:e}},void 0)).verifyFilledSvg,wallet:async()=>(await re(async()=>{const{walletSvg:e}=await Promise.resolve().then(()=>MHe);return{walletSvg:e}},void 0)).walletSvg,walletConnect:async()=>(await re(async()=>{const{walletConnectSvg:e}=await Promise.resolve().then(()=>xA);return{walletConnectSvg:e}},void 0)).walletConnectSvg,walletConnectLightBrown:async()=>(await re(async()=>{const{walletConnectLightBrownSvg:e}=await Promise.resolve().then(()=>xA);return{walletConnectLightBrownSvg:e}},void 0)).walletConnectLightBrownSvg,walletConnectBrown:async()=>(await re(async()=>{const{walletConnectBrownSvg:e}=await Promise.resolve().then(()=>xA);return{walletConnectBrownSvg:e}},void 0)).walletConnectBrownSvg,walletPlaceholder:async()=>(await re(async()=>{const{walletPlaceholderSvg:e}=await Promise.resolve().then(()=>FHe);return{walletPlaceholderSvg:e}},void 0)).walletPlaceholderSvg,warningCircle:async()=>(await re(async()=>{const{warningCircleSvg:e}=await Promise.resolve().then(()=>WHe);return{warningCircleSvg:e}},void 0)).warningCircleSvg,x:async()=>(await re(async()=>{const{xSvg:e}=await Promise.resolve().then(()=>tW);return{xSvg:e}},void 0)).xSvg,info:async()=>(await re(async()=>{const{infoSvg:e}=await Promise.resolve().then(()=>GHe);return{infoSvg:e}},void 0)).infoSvg,exclamationTriangle:async()=>(await re(async()=>{const{exclamationTriangleSvg:e}=await Promise.resolve().then(()=>ZHe);return{exclamationTriangleSvg:e}},void 0)).exclamationTriangleSvg,reown:async()=>(await re(async()=>{const{reownSvg:e}=await Promise.resolve().then(()=>QHe);return{reownSvg:e}},void 0)).reownSvg};async function BUe(e){if(YC.has(e))return YC.get(e);const r=(yH[e]??yH.copy)();return YC.set(e,r),r}let Td=class extends $e{constructor(){super(...arguments),this.size="md",this.name="copy",this.color="fg-300",this.aspectRatio="1 / 1"}render(){return this.style.cssText=`
      --local-color: ${`var(--wui-color-${this.color});`}
      --local-width: ${`var(--wui-icon-size-${this.size});`}
      --local-aspect-ratio: ${this.aspectRatio}
    `,J`${TUe(BUe(this.name),J`<div class="fallback"></div>`)}`}};Td.styles=[Tt,Ib,jUe];Sb([ne()],Td.prototype,"size",void 0);Sb([ne()],Td.prototype,"name",void 0);Sb([ne()],Td.prototype,"color",void 0);Sb([ne()],Td.prototype,"aspectRatio",void 0);Td=Sb([Be("wui-icon")],Td);const fre=Z7(class extends ure{constructor(e){if(super(e),e.type!==cre.ATTRIBUTE||e.name!=="class"||e.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){if(this.st===void 0){this.st=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(n=>n!=="")));for(const n in t)t[n]&&!this.nt?.has(n)&&this.st.add(n);return this.render(t)}const r=e.element.classList;for(const n of this.st)n in t||(r.remove(n),this.st.delete(n));for(const n in t){const i=!!t[n];i===this.st.has(n)||this.nt?.has(n)||(i?(r.add(n),this.st.add(n)):(r.remove(n),this.st.delete(n)))}return PA}}),RUe=He`
  :host {
    display: inline-flex !important;
  }

  slot {
    width: 100%;
    display: inline-block;
    font-style: normal;
    font-family: var(--wui-font-family);
    font-feature-settings:
      'tnum' on,
      'lnum' on,
      'case' on;
    line-height: 130%;
    font-weight: var(--wui-font-weight-regular);
    overflow: inherit;
    text-overflow: inherit;
    text-align: var(--local-align);
    color: var(--local-color);
  }

  .wui-line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .wui-line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  .wui-font-medium-400 {
    font-size: var(--wui-font-size-medium);
    font-weight: var(--wui-font-weight-light);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-medium-600 {
    font-size: var(--wui-font-size-medium);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-title-600 {
    font-size: var(--wui-font-size-title);
    letter-spacing: var(--wui-letter-spacing-title);
  }

  .wui-font-title-6-600 {
    font-size: var(--wui-font-size-title-6);
    letter-spacing: var(--wui-letter-spacing-title-6);
  }

  .wui-font-mini-700 {
    font-size: var(--wui-font-size-mini);
    letter-spacing: var(--wui-letter-spacing-mini);
    text-transform: uppercase;
  }

  .wui-font-large-500,
  .wui-font-large-600,
  .wui-font-large-700 {
    font-size: var(--wui-font-size-large);
    letter-spacing: var(--wui-letter-spacing-large);
  }

  .wui-font-2xl-500,
  .wui-font-2xl-600,
  .wui-font-2xl-700 {
    font-size: var(--wui-font-size-2xl);
    letter-spacing: var(--wui-letter-spacing-2xl);
  }

  .wui-font-paragraph-400,
  .wui-font-paragraph-500,
  .wui-font-paragraph-600,
  .wui-font-paragraph-700 {
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
  }

  .wui-font-small-400,
  .wui-font-small-500,
  .wui-font-small-600 {
    font-size: var(--wui-font-size-small);
    letter-spacing: var(--wui-letter-spacing-small);
  }

  .wui-font-tiny-400,
  .wui-font-tiny-500,
  .wui-font-tiny-600 {
    font-size: var(--wui-font-size-tiny);
    letter-spacing: var(--wui-letter-spacing-tiny);
  }

  .wui-font-micro-700,
  .wui-font-micro-600 {
    font-size: var(--wui-font-size-micro);
    letter-spacing: var(--wui-letter-spacing-micro);
    text-transform: uppercase;
  }

  .wui-font-tiny-400,
  .wui-font-small-400,
  .wui-font-medium-400,
  .wui-font-paragraph-400 {
    font-weight: var(--wui-font-weight-light);
  }

  .wui-font-large-700,
  .wui-font-paragraph-700,
  .wui-font-micro-700,
  .wui-font-mini-700 {
    font-weight: var(--wui-font-weight-bold);
  }

  .wui-font-medium-600,
  .wui-font-medium-title-600,
  .wui-font-title-6-600,
  .wui-font-large-600,
  .wui-font-paragraph-600,
  .wui-font-small-600,
  .wui-font-tiny-600,
  .wui-font-micro-600 {
    font-weight: var(--wui-font-weight-medium);
  }

  :host([disabled]) {
    opacity: 0.4;
  }
`;var Tb=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Od=class extends $e{constructor(){super(...arguments),this.variant="paragraph-500",this.color="fg-300",this.align="left",this.lineClamp=void 0}render(){const t={[`wui-font-${this.variant}`]:!0,[`wui-color-${this.color}`]:!0,[`wui-line-clamp-${this.lineClamp}`]:!!this.lineClamp};return this.style.cssText=`
      --local-align: ${this.align};
      --local-color: var(--wui-color-${this.color});
    `,J`<slot class=${fre(t)}></slot>`}};Od.styles=[Tt,RUe];Tb([ne()],Od.prototype,"variant",void 0);Tb([ne()],Od.prototype,"color",void 0);Tb([ne()],Od.prototype,"align",void 0);Tb([ne()],Od.prototype,"lineClamp",void 0);Od=Tb([Be("wui-text")],Od);const kUe=He`
  :host {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;
    background-color: var(--wui-color-gray-glass-020);
    border-radius: var(--local-border-radius);
    border: var(--local-border);
    box-sizing: content-box;
    width: var(--local-size);
    height: var(--local-size);
    min-height: var(--local-size);
    min-width: var(--local-size);
  }

  @supports (background: color-mix(in srgb, white 50%, black)) {
    :host {
      background-color: color-mix(in srgb, var(--local-bg-value) var(--local-bg-mix), transparent);
    }
  }
`;var Dc=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let So=class extends $e{constructor(){super(...arguments),this.size="md",this.backgroundColor="accent-100",this.iconColor="accent-100",this.background="transparent",this.border=!1,this.borderColor="wui-color-bg-125",this.icon="copy"}render(){const t=this.iconSize||this.size,r=this.size==="lg",n=this.size==="xl",i=r?"12%":"16%",s=r?"xxs":n?"s":"3xl",o=this.background==="gray",a=this.background==="opaque",c=this.backgroundColor==="accent-100"&&a||this.backgroundColor==="success-100"&&a||this.backgroundColor==="error-100"&&a||this.backgroundColor==="inverse-100"&&a;let u=`var(--wui-color-${this.backgroundColor})`;return c?u=`var(--wui-icon-box-bg-${this.backgroundColor})`:o&&(u=`var(--wui-color-gray-${this.backgroundColor})`),this.style.cssText=`
       --local-bg-value: ${u};
       --local-bg-mix: ${c||o?"100%":i};
       --local-border-radius: var(--wui-border-radius-${s});
       --local-size: var(--wui-icon-box-size-${this.size});
       --local-border: ${this.borderColor==="wui-color-bg-125"?"2px":"1px"} solid ${this.border?`var(--${this.borderColor})`:"transparent"}
   `,J` <wui-icon color=${this.iconColor} size=${t} name=${this.icon}></wui-icon> `}};So.styles=[Tt,Fn,kUe];Dc([ne()],So.prototype,"size",void 0);Dc([ne()],So.prototype,"backgroundColor",void 0);Dc([ne()],So.prototype,"iconColor",void 0);Dc([ne()],So.prototype,"iconSize",void 0);Dc([ne()],So.prototype,"background",void 0);Dc([ne({type:Boolean})],So.prototype,"border",void 0);Dc([ne()],So.prototype,"borderColor",void 0);Dc([ne()],So.prototype,"icon",void 0);So=Dc([Be("wui-icon-box")],So);const NUe=He`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    border-radius: inherit;
  }
`;var v8=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let xp=class extends $e{constructor(){super(...arguments),this.src="./path/to/image.jpg",this.alt="Image",this.size=void 0}render(){return this.style.cssText=`
      --local-width: ${this.size?`var(--wui-icon-size-${this.size});`:"100%"};
      --local-height: ${this.size?`var(--wui-icon-size-${this.size});`:"100%"};
      `,J`<img src=${this.src} alt=${this.alt} @error=${this.handleImageError} />`}handleImageError(){this.dispatchEvent(new CustomEvent("onLoadError",{bubbles:!0,composed:!0}))}};xp.styles=[Tt,Ib,NUe];v8([ne()],xp.prototype,"src",void 0);v8([ne()],xp.prototype,"alt",void 0);v8([ne()],xp.prototype,"size",void 0);xp=v8([Be("wui-image")],xp);const DUe=He`
  :host {
    position: relative;
    background-color: var(--wui-color-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--local-size);
    height: var(--local-size);
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host > wui-flex {
    overflow: hidden;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  :host([name='Extension'])::after {
    border: 1px solid var(--wui-color-accent-glass-010);
  }

  :host([data-wallet-icon='allWallets']) {
    background-color: var(--wui-all-wallets-bg-100);
  }

  :host([data-wallet-icon='allWallets'])::after {
    border: 1px solid var(--wui-color-accent-glass-010);
  }

  wui-icon[data-parent-size='inherit'] {
    width: 75%;
    height: 75%;
    align-items: center;
  }

  wui-icon[data-parent-size='sm'] {
    width: 18px;
    height: 18px;
  }

  wui-icon[data-parent-size='md'] {
    width: 24px;
    height: 24px;
  }

  wui-icon[data-parent-size='lg'] {
    width: 42px;
    height: 42px;
  }

  wui-icon[data-parent-size='full'] {
    width: 100%;
    height: 100%;
  }

  :host > wui-icon-box {
    position: absolute;
    overflow: hidden;
    right: -1px;
    bottom: -2px;
    z-index: 1;
    border: 2px solid var(--wui-color-bg-150, #1e1f1f);
    padding: 1px;
  }
`;var af=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Ac=class extends $e{constructor(){super(...arguments),this.size="md",this.name="",this.installed=!1,this.badgeSize="xs"}render(){let t="xxs";return this.size==="lg"?t="m":this.size==="md"?t="xs":t="xxs",this.style.cssText=`
       --local-border-radius: var(--wui-border-radius-${t});
       --local-size: var(--wui-wallet-image-size-${this.size});
   `,this.walletIcon&&(this.dataset.walletIcon=this.walletIcon),J`
      <wui-flex justifyContent="center" alignItems="center"> ${this.templateVisual()} </wui-flex>
    `}templateVisual(){return this.imageSrc?J`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:this.walletIcon?J`<wui-icon
        data-parent-size="md"
        size="md"
        color="inherit"
        name=${this.walletIcon}
      ></wui-icon>`:J`<wui-icon
      data-parent-size=${this.size}
      size="inherit"
      color="inherit"
      name="walletPlaceholder"
    ></wui-icon>`}};Ac.styles=[Fn,Tt,DUe];af([ne()],Ac.prototype,"size",void 0);af([ne()],Ac.prototype,"name",void 0);af([ne()],Ac.prototype,"imageSrc",void 0);af([ne()],Ac.prototype,"walletIcon",void 0);af([ne({type:Boolean})],Ac.prototype,"installed",void 0);af([ne()],Ac.prototype,"badgeSize",void 0);Ac=af([Be("wui-wallet-image")],Ac);const $Ue=He`
  :host {
    position: relative;
    border-radius: var(--wui-border-radius-xxs);
    width: 40px;
    height: 40px;
    overflow: hidden;
    background: var(--wui-color-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--wui-spacing-4xs);
    padding: 3.75px !important;
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  :host > wui-wallet-image {
    width: 14px;
    height: 14px;
    border-radius: var(--wui-border-radius-5xs);
  }

  :host > wui-flex {
    padding: 2px;
    position: fixed;
    overflow: hidden;
    left: 34px;
    bottom: 8px;
    background: var(--dark-background-150, #1e1f1f);
    border-radius: 50%;
    z-index: 2;
    display: flex;
  }
`;var hre=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};const QC=4;let u3=class extends $e{constructor(){super(...arguments),this.walletImages=[]}render(){const t=this.walletImages.length<QC;return J`${this.walletImages.slice(0,QC).map(({src:r,walletName:n})=>J`
            <wui-wallet-image
              size="inherit"
              imageSrc=${r}
              name=${Fe(n)}
            ></wui-wallet-image>
          `)}
      ${t?[...Array(QC-this.walletImages.length)].map(()=>J` <wui-wallet-image size="inherit" name=""></wui-wallet-image>`):null}
      <wui-flex>
        <wui-icon-box
          size="xxs"
          iconSize="xxs"
          iconcolor="success-100"
          backgroundcolor="success-100"
          icon="checkmark"
          background="opaque"
        ></wui-icon-box>
      </wui-flex>`}};u3.styles=[Tt,$Ue];hre([ne({type:Array})],u3.prototype,"walletImages",void 0);u3=hre([Be("wui-all-wallets-image")],u3);const MUe=He`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    height: var(--wui-spacing-m);
    padding: 0 var(--wui-spacing-3xs) !important;
    border-radius: var(--wui-border-radius-5xs);
    transition:
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius, background-color;
  }

  :host > wui-text {
    transform: translateY(5%);
  }

  :host([data-variant='main']) {
    background-color: var(--wui-color-accent-glass-015);
    color: var(--wui-color-accent-100);
  }

  :host([data-variant='shade']) {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-200);
  }

  :host([data-variant='success']) {
    background-color: var(--wui-icon-box-bg-success-100);
    color: var(--wui-color-success-100);
  }

  :host([data-variant='error']) {
    background-color: var(--wui-icon-box-bg-error-100);
    color: var(--wui-color-error-100);
  }

  :host([data-size='lg']) {
    padding: 11px 5px !important;
  }

  :host([data-size='lg']) > wui-text {
    transform: translateY(2%);
  }
`;var Y7=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Jm=class extends $e{constructor(){super(...arguments),this.variant="main",this.size="lg"}render(){this.dataset.variant=this.variant,this.dataset.size=this.size;const t=this.size==="md"?"mini-700":"micro-700";return J`
      <wui-text data-variant=${this.variant} variant=${t} color="inherit">
        <slot></slot>
      </wui-text>
    `}};Jm.styles=[Tt,MUe];Y7([ne()],Jm.prototype,"variant",void 0);Y7([ne()],Jm.prototype,"size",void 0);Jm=Y7([Be("wui-tag")],Jm);const LUe=He`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-100);
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-015);
    color: var(--wui-color-gray-glass-015);
  }

  button:disabled > wui-tag {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-300);
  }

  wui-icon {
    color: var(--wui-color-fg-200) !important;
  }
`;var Qi=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Yn=class extends $e{constructor(){super(...arguments),this.walletImages=[],this.imageSrc="",this.name="",this.tabIdx=void 0,this.installed=!1,this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100"}render(){return J`
      <button ?disabled=${this.disabled} tabindex=${Fe(this.tabIdx)}>
        ${this.templateAllWallets()} ${this.templateWalletImage()}
        <wui-text variant="paragraph-500" color="inherit">${this.name}</wui-text>
        ${this.templateStatus()}
      </button>
    `}templateAllWallets(){return this.showAllWallets&&this.imageSrc?J` <wui-all-wallets-image .imageeSrc=${this.imageSrc}> </wui-all-wallets-image> `:this.showAllWallets&&this.walletIcon?J` <wui-wallet-image .walletIcon=${this.walletIcon} size="sm"> </wui-wallet-image> `:null}templateWalletImage(){return!this.showAllWallets&&this.imageSrc?J`<wui-wallet-image
        size="sm"
        imageSrc=${this.imageSrc}
        name=${this.name}
        .installed=${this.installed}
      ></wui-wallet-image>`:!this.showAllWallets&&!this.imageSrc?J`<wui-wallet-image size="sm" name=${this.name}></wui-wallet-image>`:null}templateStatus(){return this.loading?J`<wui-loading-spinner
        size="lg"
        color=${this.loadingSpinnerColor}
      ></wui-loading-spinner>`:this.tagLabel&&this.tagVariant?J`<wui-tag variant=${this.tagVariant}>${this.tagLabel}</wui-tag>`:this.icon?J`<wui-icon color="inherit" size="sm" name=${this.icon}></wui-icon>`:null}};Yn.styles=[Tt,Fn,LUe];Qi([ne({type:Array})],Yn.prototype,"walletImages",void 0);Qi([ne()],Yn.prototype,"imageSrc",void 0);Qi([ne()],Yn.prototype,"name",void 0);Qi([ne()],Yn.prototype,"tagLabel",void 0);Qi([ne()],Yn.prototype,"tagVariant",void 0);Qi([ne()],Yn.prototype,"icon",void 0);Qi([ne()],Yn.prototype,"walletIcon",void 0);Qi([ne()],Yn.prototype,"tabIdx",void 0);Qi([ne({type:Boolean})],Yn.prototype,"installed",void 0);Qi([ne({type:Boolean})],Yn.prototype,"disabled",void 0);Qi([ne({type:Boolean})],Yn.prototype,"showAllWallets",void 0);Qi([ne({type:Boolean})],Yn.prototype,"loading",void 0);Qi([ne({type:String})],Yn.prototype,"loadingSpinnerColor",void 0);Yn=Qi([Be("wui-list-wallet")],Yn);var s0=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let jd=class extends $e{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ye.state.connectors,this.count=Ee.state.count,this.filteredCount=Ee.state.filteredWallets.length,this.isFetchingRecommendedWallets=Ee.state.isFetchingRecommendedWallets,this.unsubscribe.push(ye.subscribeKey("connectors",t=>this.connectors=t),Ee.subscribeKey("count",t=>this.count=t),Ee.subscribeKey("filteredWallets",t=>this.filteredCount=t.length),Ee.subscribeKey("isFetchingRecommendedWallets",t=>this.isFetchingRecommendedWallets=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){const t=this.connectors.find(c=>c.id==="walletConnect"),{allWallets:r}=de.state;if(!t||r==="HIDE"||r==="ONLY_MOBILE"&&!we.isMobile())return null;const n=Ee.state.featured.length,i=this.count+n,s=i<10?i:Math.floor(i/10)*10,o=this.filteredCount>0?this.filteredCount:s;let a=`${o}`;return this.filteredCount>0?a=`${this.filteredCount}`:o<i&&(a=`${o}+`),J`
      <wui-list-wallet
        name="All Wallets"
        walletIcon="allWallets"
        showAllWallets
        @click=${this.onAllWallets.bind(this)}
        tagLabel=${a}
        tagVariant="shade"
        data-testid="all-wallets"
        tabIdx=${Fe(this.tabIdx)}
        .loading=${this.isFetchingRecommendedWallets}
        loadingSpinnerColor=${this.isFetchingRecommendedWallets?"fg-300":"accent-100"}
      ></wui-list-wallet>
    `}onAllWallets(){ot.sendEvent({type:"track",event:"CLICK_ALL_WALLETS"}),ve.push("AllWallets")}};s0([ne()],jd.prototype,"tabIdx",void 0);s0([Te()],jd.prototype,"connectors",void 0);s0([Te()],jd.prototype,"count",void 0);s0([Te()],jd.prototype,"filteredCount",void 0);s0([Te()],jd.prototype,"isFetchingRecommendedWallets",void 0);jd=s0([Be("w3m-all-wallets-widget")],jd);var Q7=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let l3=class extends $e{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ye.state.connectors,this.unsubscribe.push(ye.subscribeKey("connectors",t=>this.connectors=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){const t=this.connectors.filter(r=>r.type==="ANNOUNCED");return t?.length?J`
      <wui-flex flexDirection="column" gap="xs">
        ${t.filter(_c.showConnector).map(r=>J`
              <wui-list-wallet
                imageSrc=${Fe(Xr.getConnectorImage(r))}
                name=${r.name??"Unknown"}
                @click=${()=>this.onConnector(r)}
                tagVariant="success"
                tagLabel="installed"
                data-testid=${`wallet-selector-${r.id}`}
                .installed=${!0}
                tabIdx=${Fe(this.tabIdx)}
              >
              </wui-list-wallet>
            `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(t){t.id==="walletConnect"?we.isMobile()?ve.push("AllWallets"):ve.push("ConnectingWalletConnect"):ve.push("ConnectingExternal",{connector:t})}};Q7([ne()],l3.prototype,"tabIdx",void 0);Q7([Te()],l3.prototype,"connectors",void 0);l3=Q7([Be("w3m-connect-announced-widget")],l3);var E8=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Xm=class extends $e{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ye.state.connectors,this.loading=!1,this.unsubscribe.push(ye.subscribeKey("connectors",t=>this.connectors=t)),we.isTelegram()&&we.isIos()&&(this.loading=!Ae.state.wcUri,this.unsubscribe.push(Ae.subscribeKey("wcUri",t=>this.loading=!t)))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){const{customWallets:t}=de.state;if(!t?.length)return this.style.cssText="display: none",null;const r=this.filterOutDuplicateWallets(t);return J`<wui-flex flexDirection="column" gap="xs">
      ${r.map(n=>J`
          <wui-list-wallet
            imageSrc=${Fe(Xr.getWalletImage(n))}
            name=${n.name??"Unknown"}
            @click=${()=>this.onConnectWallet(n)}
            data-testid=${`wallet-selector-${n.id}`}
            tabIdx=${Fe(this.tabIdx)}
            ?loading=${this.loading}
          >
          </wui-list-wallet>
        `)}
    </wui-flex>`}filterOutDuplicateWallets(t){const r=Re.getRecentWallets(),n=this.connectors.map(a=>a.info?.rdns).filter(Boolean),i=r.map(a=>a.rdns).filter(Boolean),s=n.concat(i);if(s.includes("io.metamask.mobile")&&we.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return t.filter(a=>!s.includes(String(a?.rdns)))}onConnectWallet(t){this.loading||ve.push("ConnectingWalletConnect",{wallet:t})}};E8([ne()],Xm.prototype,"tabIdx",void 0);E8([Te()],Xm.prototype,"connectors",void 0);E8([Te()],Xm.prototype,"loading",void 0);Xm=E8([Be("w3m-connect-custom-widget")],Xm);var J7=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let d3=class extends $e{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ye.state.connectors,this.unsubscribe.push(ye.subscribeKey("connectors",t=>this.connectors=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){const n=this.connectors.filter(i=>i.type==="EXTERNAL").filter(_c.showConnector).filter(i=>i.id!==Le.CONNECTOR_ID.COINBASE_SDK);return n?.length?J`
      <wui-flex flexDirection="column" gap="xs">
        ${n.map(i=>J`
            <wui-list-wallet
              imageSrc=${Fe(Xr.getConnectorImage(i))}
              .installed=${!0}
              name=${i.name??"Unknown"}
              data-testid=${`wallet-selector-external-${i.id}`}
              @click=${()=>this.onConnector(i)}
              tabIdx=${Fe(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(t){ve.push("ConnectingExternal",{connector:t})}};J7([ne()],d3.prototype,"tabIdx",void 0);J7([Te()],d3.prototype,"connectors",void 0);d3=J7([Be("w3m-connect-external-widget")],d3);var X7=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let f3=class extends $e{constructor(){super(...arguments),this.tabIdx=void 0,this.wallets=[]}render(){return this.wallets.length?J`
      <wui-flex flexDirection="column" gap="xs">
        ${this.wallets.map(t=>J`
            <wui-list-wallet
              data-testid=${`wallet-selector-featured-${t.id}`}
              imageSrc=${Fe(Xr.getWalletImage(t))}
              name=${t.name??"Unknown"}
              @click=${()=>this.onConnectWallet(t)}
              tabIdx=${Fe(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(t){ye.selectWalletConnector(t)}};X7([ne()],f3.prototype,"tabIdx",void 0);X7([ne()],f3.prototype,"wallets",void 0);f3=X7([Be("w3m-connect-featured-widget")],f3);var eT=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let h3=class extends $e{constructor(){super(...arguments),this.tabIdx=void 0,this.connectors=[]}render(){const t=this.connectors.filter(_c.showConnector);return t.length===0?(this.style.cssText="display: none",null):J`
      <wui-flex flexDirection="column" gap="xs">
        ${t.map(r=>J`
            <wui-list-wallet
              imageSrc=${Fe(Xr.getConnectorImage(r))}
              .installed=${!0}
              name=${r.name??"Unknown"}
              tagVariant="success"
              tagLabel="installed"
              data-testid=${`wallet-selector-${r.id}`}
              @click=${()=>this.onConnector(r)}
              tabIdx=${Fe(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `}onConnector(t){ye.setActiveConnector(t),ve.push("ConnectingExternal",{connector:t})}};eT([ne()],h3.prototype,"tabIdx",void 0);eT([ne()],h3.prototype,"connectors",void 0);h3=eT([Be("w3m-connect-injected-widget")],h3);var tT=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let p3=class extends $e{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ye.state.connectors,this.unsubscribe.push(ye.subscribeKey("connectors",t=>this.connectors=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){const t=this.connectors.filter(r=>r.type==="MULTI_CHAIN"&&r.name!=="WalletConnect");return t?.length?J`
      <wui-flex flexDirection="column" gap="xs">
        ${t.map(r=>J`
            <wui-list-wallet
              imageSrc=${Fe(Xr.getConnectorImage(r))}
              .installed=${!0}
              name=${r.name??"Unknown"}
              tagVariant="shade"
              tagLabel="multichain"
              data-testid=${`wallet-selector-${r.id}`}
              @click=${()=>this.onConnector(r)}
              tabIdx=${Fe(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(t){ye.setActiveConnector(t),ve.push("ConnectingMultiChain")}};tT([ne()],p3.prototype,"tabIdx",void 0);tT([Te()],p3.prototype,"connectors",void 0);p3=tT([Be("w3m-connect-multi-chain-widget")],p3);var _8=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let e1=class extends $e{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ye.state.connectors,this.loading=!1,this.unsubscribe.push(ye.subscribeKey("connectors",t=>this.connectors=t)),we.isTelegram()&&we.isIos()&&(this.loading=!Ae.state.wcUri,this.unsubscribe.push(Ae.subscribeKey("wcUri",t=>this.loading=!t)))}render(){const r=Re.getRecentWallets().filter(n=>!Sd.isExcluded(n)).filter(n=>!this.hasWalletConnector(n)).filter(n=>this.isWalletCompatibleWithCurrentChain(n));return r.length?J`
      <wui-flex flexDirection="column" gap="xs">
        ${r.map(n=>J`
            <wui-list-wallet
              imageSrc=${Fe(Xr.getWalletImage(n))}
              name=${n.name??"Unknown"}
              @click=${()=>this.onConnectWallet(n)}
              tagLabel="recent"
              tagVariant="shade"
              tabIdx=${Fe(this.tabIdx)}
              ?loading=${this.loading}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(t){this.loading||ye.selectWalletConnector(t)}hasWalletConnector(t){return this.connectors.some(r=>r.id===t.id||r.name===t.name)}isWalletCompatibleWithCurrentChain(t){const r=G.state.activeChain;return r&&t.chains?t.chains.some(n=>{const i=n.split(":")[0];return r===i}):!0}};_8([ne()],e1.prototype,"tabIdx",void 0);_8([Te()],e1.prototype,"connectors",void 0);_8([Te()],e1.prototype,"loading",void 0);e1=_8([Be("w3m-connect-recent-widget")],e1);var C8=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let t1=class extends $e{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.wallets=[],this.loading=!1,we.isTelegram()&&we.isIos()&&(this.loading=!Ae.state.wcUri,this.unsubscribe.push(Ae.subscribeKey("wcUri",t=>this.loading=!t)))}render(){const{connectors:t}=ye.state,{customWallets:r,featuredWalletIds:n}=de.state,i=Re.getRecentWallets(),s=t.find(f=>f.id==="walletConnect"),a=t.filter(f=>f.type==="INJECTED"||f.type==="ANNOUNCED"||f.type==="MULTI_CHAIN").filter(f=>f.name!=="Browser Wallet");if(!s)return null;if(n||r||!this.wallets.length)return this.style.cssText="display: none",null;const c=a.length+i.length,u=Math.max(0,2-c),l=Sd.filterOutDuplicateWallets(this.wallets).slice(0,u);return l.length?J`
      <wui-flex flexDirection="column" gap="xs">
        ${l.map(f=>J`
            <wui-list-wallet
              imageSrc=${Fe(Xr.getWalletImage(f))}
              name=${f?.name??"Unknown"}
              @click=${()=>this.onConnectWallet(f)}
              tabIdx=${Fe(this.tabIdx)}
              ?loading=${this.loading}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(t){if(this.loading)return;const r=ye.getConnector(t.id,t.rdns);r?ve.push("ConnectingExternal",{connector:r}):ve.push("ConnectingWalletConnect",{wallet:t})}};C8([ne()],t1.prototype,"tabIdx",void 0);C8([ne()],t1.prototype,"wallets",void 0);C8([Te()],t1.prototype,"loading",void 0);t1=C8([Be("w3m-connect-recommended-widget")],t1);var A8=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let r1=class extends $e{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ye.state.connectors,this.connectorImages=Mi.state.connectorImages,this.unsubscribe.push(ye.subscribeKey("connectors",t=>this.connectors=t),Mi.subscribeKey("connectorImages",t=>this.connectorImages=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){if(we.isMobile())return this.style.cssText="display: none",null;const t=this.connectors.find(n=>n.id==="walletConnect");if(!t)return this.style.cssText="display: none",null;const r=t.imageUrl||this.connectorImages[t?.imageId??""];return J`
      <wui-list-wallet
        imageSrc=${Fe(r)}
        name=${t.name??"Unknown"}
        @click=${()=>this.onConnector(t)}
        tagLabel="qr code"
        tagVariant="main"
        tabIdx=${Fe(this.tabIdx)}
        data-testid="wallet-selector-walletconnect"
      >
      </wui-list-wallet>
    `}onConnector(t){ye.setActiveConnector(t),ve.push("ConnectingWalletConnect")}};A8([ne()],r1.prototype,"tabIdx",void 0);A8([Te()],r1.prototype,"connectors",void 0);A8([Te()],r1.prototype,"connectorImages",void 0);r1=A8([Be("w3m-connect-walletconnect-widget")],r1);const UUe=He`
  :host {
    margin-top: var(--wui-spacing-3xs);
  }
  wui-separator {
    margin: var(--wui-spacing-m) calc(var(--wui-spacing-m) * -1) var(--wui-spacing-xs)
      calc(var(--wui-spacing-m) * -1);
    width: calc(100% + var(--wui-spacing-s) * 2);
  }
`;var Ob=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Bd=class extends $e{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ye.state.connectors,this.recommended=Ee.state.recommended,this.featured=Ee.state.featured,this.unsubscribe.push(ye.subscribeKey("connectors",t=>this.connectors=t),Ee.subscribeKey("recommended",t=>this.recommended=t),Ee.subscribeKey("featured",t=>this.featured=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){return J`
      <wui-flex flexDirection="column" gap="xs"> ${this.connectorListTemplate()} </wui-flex>
    `}connectorListTemplate(){const{custom:t,recent:r,announced:n,injected:i,multiChain:s,recommended:o,featured:a,external:c}=_c.getConnectorsByType(this.connectors,this.recommended,this.featured);return _c.getConnectorTypeOrder({custom:t,recent:r,announced:n,injected:i,multiChain:s,recommended:o,featured:a,external:c}).map(l=>{switch(l){case"injected":return J`
            ${s.length?J`<w3m-connect-multi-chain-widget
                  tabIdx=${Fe(this.tabIdx)}
                ></w3m-connect-multi-chain-widget>`:null}
            ${n.length?J`<w3m-connect-announced-widget
                  tabIdx=${Fe(this.tabIdx)}
                ></w3m-connect-announced-widget>`:null}
            ${i.length?J`<w3m-connect-injected-widget
                  .connectors=${i}
                  tabIdx=${Fe(this.tabIdx)}
                ></w3m-connect-injected-widget>`:null}
          `;case"walletConnect":return J`<w3m-connect-walletconnect-widget
            tabIdx=${Fe(this.tabIdx)}
          ></w3m-connect-walletconnect-widget>`;case"recent":return J`<w3m-connect-recent-widget
            tabIdx=${Fe(this.tabIdx)}
          ></w3m-connect-recent-widget>`;case"featured":return J`<w3m-connect-featured-widget
            .wallets=${a}
            tabIdx=${Fe(this.tabIdx)}
          ></w3m-connect-featured-widget>`;case"custom":return J`<w3m-connect-custom-widget
            tabIdx=${Fe(this.tabIdx)}
          ></w3m-connect-custom-widget>`;case"external":return J`<w3m-connect-external-widget
            tabIdx=${Fe(this.tabIdx)}
          ></w3m-connect-external-widget>`;case"recommended":return J`<w3m-connect-recommended-widget
            .wallets=${o}
            tabIdx=${Fe(this.tabIdx)}
          ></w3m-connect-recommended-widget>`;default:return console.warn(`Unknown connector type: ${l}`),null}})}};Bd.styles=UUe;Ob([ne()],Bd.prototype,"tabIdx",void 0);Ob([Te()],Bd.prototype,"connectors",void 0);Ob([Te()],Bd.prototype,"recommended",void 0);Ob([Te()],Bd.prototype,"featured",void 0);Bd=Ob([Be("w3m-connector-list")],Bd);const qUe=He`
  :host {
    display: inline-flex;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-3xl);
    padding: var(--wui-spacing-3xs);
    position: relative;
    height: 36px;
    min-height: 36px;
    overflow: hidden;
  }

  :host::before {
    content: '';
    position: absolute;
    pointer-events: none;
    top: 4px;
    left: 4px;
    display: block;
    width: var(--local-tab-width);
    height: 28px;
    border-radius: var(--wui-border-radius-3xl);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    transform: translateX(calc(var(--local-tab) * var(--local-tab-width)));
    transition: transform var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color, opacity;
  }

  :host([data-type='flex'])::before {
    left: 3px;
    transform: translateX(calc((var(--local-tab) * 34px) + (var(--local-tab) * 4px)));
  }

  :host([data-type='flex']) {
    display: flex;
    padding: 0px 0px 0px 12px;
    gap: 4px;
  }

  :host([data-type='flex']) > button > wui-text {
    position: absolute;
    left: 18px;
    opacity: 0;
  }

  button[data-active='true'] > wui-icon,
  button[data-active='true'] > wui-text {
    color: var(--wui-color-fg-100);
  }

  button[data-active='false'] > wui-icon,
  button[data-active='false'] > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='true']:disabled,
  button[data-active='false']:disabled {
    background-color: transparent;
    opacity: 0.5;
    cursor: not-allowed;
  }

  button[data-active='true']:disabled > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='false']:disabled > wui-text {
    color: var(--wui-color-fg-300);
  }

  button > wui-icon,
  button > wui-text {
    pointer-events: none;
    transition: color var(--wui-e ase-out-power-1) var(--wui-duration-md);
    will-change: color;
  }

  button {
    width: var(--local-tab-width);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
  }

  :host([data-type='flex']) > button {
    width: 34px;
    position: relative;
    display: flex;
    justify-content: flex-start;
  }

  button:hover:enabled,
  button:active:enabled {
    background-color: transparent !important;
  }

  button:hover:enabled > wui-icon,
  button:active:enabled > wui-icon {
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
    color: var(--wui-color-fg-125);
  }

  button:hover:enabled > wui-text,
  button:active:enabled > wui-text {
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
    color: var(--wui-color-fg-125);
  }

  button {
    border-radius: var(--wui-border-radius-3xl);
  }
`;var Zu=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let ya=class extends $e{constructor(){super(...arguments),this.tabs=[],this.onTabChange=()=>null,this.buttons=[],this.disabled=!1,this.localTabWidth="100px",this.activeTab=0,this.isDense=!1}render(){return this.isDense=this.tabs.length>3,this.style.cssText=`
      --local-tab: ${this.activeTab};
      --local-tab-width: ${this.localTabWidth};
    `,this.dataset.type=this.isDense?"flex":"block",this.tabs.map((t,r)=>{const n=r===this.activeTab;return J`
        <button
          ?disabled=${this.disabled}
          @click=${()=>this.onTabClick(r)}
          data-active=${n}
          data-testid="tab-${t.label?.toLowerCase()}"
        >
          ${this.iconTemplate(t)}
          <wui-text variant="small-600" color="inherit"> ${t.label} </wui-text>
        </button>
      `})}firstUpdated(){this.shadowRoot&&this.isDense&&(this.buttons=[...this.shadowRoot.querySelectorAll("button")],setTimeout(()=>{this.animateTabs(0,!0)},0))}iconTemplate(t){return t.icon?J`<wui-icon size="xs" color="inherit" name=${t.icon}></wui-icon>`:null}onTabClick(t){this.buttons&&this.animateTabs(t,!1),this.activeTab=t,this.onTabChange(t)}animateTabs(t,r){const n=this.buttons[this.activeTab],i=this.buttons[t],s=n?.querySelector("wui-text"),o=i?.querySelector("wui-text"),a=i?.getBoundingClientRect(),c=o?.getBoundingClientRect();n&&s&&!r&&t!==this.activeTab&&(s.animate([{opacity:0}],{duration:50,easing:"ease",fill:"forwards"}),n.animate([{width:"34px"}],{duration:500,easing:"ease",fill:"forwards"})),i&&a&&c&&o&&(t!==this.activeTab||r)&&(this.localTabWidth=`${Math.round(a.width+c.width)+6}px`,i.animate([{width:`${a.width+c.width}px`}],{duration:r?0:500,fill:"forwards",easing:"ease"}),o.animate([{opacity:1}],{duration:r?0:125,delay:r?0:200,fill:"forwards",easing:"ease"}))}};ya.styles=[Tt,Fn,qUe];Zu([ne({type:Array})],ya.prototype,"tabs",void 0);Zu([ne()],ya.prototype,"onTabChange",void 0);Zu([ne({type:Array})],ya.prototype,"buttons",void 0);Zu([ne({type:Boolean})],ya.prototype,"disabled",void 0);Zu([ne()],ya.prototype,"localTabWidth",void 0);Zu([Te()],ya.prototype,"activeTab",void 0);Zu([Te()],ya.prototype,"isDense",void 0);ya=Zu([Be("wui-tabs")],ya);var rT=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let g3=class extends $e{constructor(){super(...arguments),this.platformTabs=[],this.unsubscribe=[],this.platforms=[],this.onSelectPlatfrom=void 0}disconnectCallback(){this.unsubscribe.forEach(t=>t())}render(){const t=this.generateTabs();return J`
      <wui-flex justifyContent="center" .padding=${["0","0","l","0"]}>
        <wui-tabs .tabs=${t} .onTabChange=${this.onTabChange.bind(this)}></wui-tabs>
      </wui-flex>
    `}generateTabs(){const t=this.platforms.map(r=>r==="browser"?{label:"Browser",icon:"extension",platform:"browser"}:r==="mobile"?{label:"Mobile",icon:"mobile",platform:"mobile"}:r==="qrcode"?{label:"Mobile",icon:"mobile",platform:"qrcode"}:r==="web"?{label:"Webapp",icon:"browser",platform:"web"}:r==="desktop"?{label:"Desktop",icon:"desktop",platform:"desktop"}:{label:"Browser",icon:"extension",platform:"unsupported"});return this.platformTabs=t.map(({platform:r})=>r),t}onTabChange(t){const r=this.platformTabs[t];r&&this.onSelectPlatfrom?.(r)}};rT([ne({type:Array})],g3.prototype,"platforms",void 0);rT([ne()],g3.prototype,"onSelectPlatfrom",void 0);g3=rT([Be("w3m-connecting-header")],g3);const zUe=He`
  :host {
    display: flex;
  }

  :host([data-size='sm']) > svg {
    width: 12px;
    height: 12px;
  }

  :host([data-size='md']) > svg {
    width: 16px;
    height: 16px;
  }

  :host([data-size='lg']) > svg {
    width: 24px;
    height: 24px;
  }

  :host([data-size='xl']) > svg {
    width: 32px;
    height: 32px;
  }

  svg {
    animation: rotate 2s linear infinite;
  }

  circle {
    fill: none;
    stroke: var(--local-color);
    stroke-width: 4px;
    stroke-dasharray: 1, 124;
    stroke-dashoffset: 0;
    stroke-linecap: round;
    animation: dash 1.5s ease-in-out infinite;
  }

  :host([data-size='md']) > svg > circle {
    stroke-width: 6px;
  }

  :host([data-size='sm']) > svg > circle {
    stroke-width: 8px;
  }

  @keyframes rotate {
    100% {
      transform: rotate(360deg);
    }
  }

  @keyframes dash {
    0% {
      stroke-dasharray: 1, 124;
      stroke-dashoffset: 0;
    }

    50% {
      stroke-dasharray: 90, 124;
      stroke-dashoffset: -35;
    }

    100% {
      stroke-dashoffset: -125;
    }
  }
`;var nT=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let n1=class extends $e{constructor(){super(...arguments),this.color="accent-100",this.size="lg"}render(){return this.style.cssText=`--local-color: ${this.color==="inherit"?"inherit":`var(--wui-color-${this.color})`}`,this.dataset.size=this.size,J`<svg viewBox="25 25 50 50">
      <circle r="20" cy="50" cx="50"></circle>
    </svg>`}};n1.styles=[Tt,zUe];nT([ne()],n1.prototype,"color",void 0);nT([ne()],n1.prototype,"size",void 0);n1=nT([Be("wui-loading-spinner")],n1);const FUe=He`
  :host {
    width: var(--local-width);
    position: relative;
  }

  button {
    border: none;
    border-radius: var(--local-border-radius);
    width: var(--local-width);
    white-space: nowrap;
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='md'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-l);
    height: 36px;
  }

  button[data-size='md'][data-icon-left='true'][data-icon-right='false'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-s);
  }

  button[data-size='md'][data-icon-right='true'][data-icon-left='false'] {
    padding: 8.2px var(--wui-spacing-s) 9px var(--wui-spacing-l);
  }

  button[data-size='lg'] {
    padding: var(--wui-spacing-m) var(--wui-spacing-2l);
    height: 48px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='main'] {
    background-color: var(--wui-color-accent-100);
    color: var(--wui-color-inverse-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='inverse'] {
    background-color: var(--wui-color-inverse-100);
    color: var(--wui-color-inverse-000);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='accent'] {
    background-color: var(--wui-color-accent-glass-010);
    color: var(--wui-color-accent-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  button[data-variant='accent-error'] {
    background: var(--wui-color-error-glass-015);
    color: var(--wui-color-error-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-error-glass-010);
  }

  button[data-variant='accent-success'] {
    background: var(--wui-color-success-glass-015);
    color: var(--wui-color-success-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-success-glass-010);
  }

  button[data-variant='neutral'] {
    background: transparent;
    color: var(--wui-color-fg-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  /* -- Focus states --------------------------------------------------- */
  button[data-variant='main']:focus-visible:enabled {
    background-color: var(--wui-color-accent-090);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='inverse']:focus-visible:enabled {
    background-color: var(--wui-color-inverse-100);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='accent']:focus-visible:enabled {
    background-color: var(--wui-color-accent-glass-010);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='accent-error']:focus-visible:enabled {
    background: var(--wui-color-error-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-error-100),
      0 0 0 4px var(--wui-color-error-glass-020);
  }
  button[data-variant='accent-success']:focus-visible:enabled {
    background: var(--wui-color-success-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-success-100),
      0 0 0 4px var(--wui-color-success-glass-020);
  }
  button[data-variant='neutral']:focus-visible:enabled {
    background: var(--wui-color-gray-glass-005);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-gray-glass-002);
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) and (pointer: fine) {
    button[data-variant='main']:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:active:enabled {
      background-color: var(--wui-color-accent-080);
    }

    button[data-variant='accent']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button[data-variant='accent']:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }

    button[data-variant='accent-error']:hover:enabled {
      background: var(--wui-color-error-glass-020);
      color: var(--wui-color-error-100);
    }

    button[data-variant='accent-error']:active:enabled {
      background: var(--wui-color-error-glass-030);
      color: var(--wui-color-error-100);
    }

    button[data-variant='accent-success']:hover:enabled {
      background: var(--wui-color-success-glass-020);
      color: var(--wui-color-success-100);
    }

    button[data-variant='accent-success']:active:enabled {
      background: var(--wui-color-success-glass-030);
      color: var(--wui-color-success-100);
    }

    button[data-variant='neutral']:hover:enabled {
      background: var(--wui-color-gray-glass-002);
    }

    button[data-variant='neutral']:active:enabled {
      background: var(--wui-color-gray-glass-005);
    }

    button[data-size='lg'][data-icon-left='true'][data-icon-right='false'] {
      padding-left: var(--wui-spacing-m);
    }

    button[data-size='lg'][data-icon-right='true'][data-icon-left='false'] {
      padding-right: var(--wui-spacing-m);
    }
  }

  /* -- Disabled state --------------------------------------------------- */
  button:disabled {
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    color: var(--wui-color-gray-glass-020);
    cursor: not-allowed;
  }

  button > wui-text {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  ::slotted(*) {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  wui-loading-spinner {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    opacity: var(--local-opacity-000);
  }
`;var _a=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};const wH={main:"inverse-100",inverse:"inverse-000",accent:"accent-100","accent-error":"error-100","accent-success":"success-100",neutral:"fg-100",disabled:"gray-glass-020"},HUe={lg:"paragraph-600",md:"small-600"},WUe={lg:"md",md:"md"};let Gs=class extends $e{constructor(){super(...arguments),this.size="lg",this.disabled=!1,this.fullWidth=!1,this.loading=!1,this.variant="main",this.hasIconLeft=!1,this.hasIconRight=!1,this.borderRadius="m"}render(){this.style.cssText=`
    --local-width: ${this.fullWidth?"100%":"auto"};
    --local-opacity-100: ${this.loading?0:1};
    --local-opacity-000: ${this.loading?1:0};
    --local-border-radius: var(--wui-border-radius-${this.borderRadius});
    `;const t=this.textVariant??HUe[this.size];return J`
      <button
        data-variant=${this.variant}
        data-icon-left=${this.hasIconLeft}
        data-icon-right=${this.hasIconRight}
        data-size=${this.size}
        ?disabled=${this.disabled}
      >
        ${this.loadingTemplate()}
        <slot name="iconLeft" @slotchange=${()=>this.handleSlotLeftChange()}></slot>
        <wui-text variant=${t} color="inherit">
          <slot></slot>
        </wui-text>
        <slot name="iconRight" @slotchange=${()=>this.handleSlotRightChange()}></slot>
      </button>
    `}handleSlotLeftChange(){this.hasIconLeft=!0}handleSlotRightChange(){this.hasIconRight=!0}loadingTemplate(){if(this.loading){const t=WUe[this.size],r=this.disabled?wH.disabled:wH[this.variant];return J`<wui-loading-spinner color=${r} size=${t}></wui-loading-spinner>`}return J``}};Gs.styles=[Tt,Fn,FUe];_a([ne()],Gs.prototype,"size",void 0);_a([ne({type:Boolean})],Gs.prototype,"disabled",void 0);_a([ne({type:Boolean})],Gs.prototype,"fullWidth",void 0);_a([ne({type:Boolean})],Gs.prototype,"loading",void 0);_a([ne()],Gs.prototype,"variant",void 0);_a([ne({type:Boolean})],Gs.prototype,"hasIconLeft",void 0);_a([ne({type:Boolean})],Gs.prototype,"hasIconRight",void 0);_a([ne()],Gs.prototype,"borderRadius",void 0);_a([ne()],Gs.prototype,"textVariant",void 0);Gs=_a([Be("wui-button")],Gs);const VUe=He`
  button {
    padding: var(--wui-spacing-4xs) var(--wui-spacing-xxs);
    border-radius: var(--wui-border-radius-3xs);
    background-color: transparent;
    color: var(--wui-color-accent-100);
  }

  button:disabled {
    background-color: transparent;
    color: var(--wui-color-gray-glass-015);
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-005);
  }
`;var x8=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Ip=class extends $e{constructor(){super(...arguments),this.tabIdx=void 0,this.disabled=!1,this.color="inherit"}render(){return J`
      <button ?disabled=${this.disabled} tabindex=${Fe(this.tabIdx)}>
        <slot name="iconLeft"></slot>
        <wui-text variant="small-600" color=${this.color}>
          <slot></slot>
        </wui-text>
        <slot name="iconRight"></slot>
      </button>
    `}};Ip.styles=[Tt,Fn,VUe];x8([ne()],Ip.prototype,"tabIdx",void 0);x8([ne({type:Boolean})],Ip.prototype,"disabled",void 0);x8([ne()],Ip.prototype,"color",void 0);Ip=x8([Be("wui-link")],Ip);const GUe=He`
  :host {
    display: block;
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
  }

  svg {
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
  }

  rect {
    fill: none;
    stroke: var(--wui-color-accent-100);
    stroke-width: 4px;
    stroke-linecap: round;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`;var pre=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let m3=class extends $e{constructor(){super(...arguments),this.radius=36}render(){return this.svgLoaderTemplate()}svgLoaderTemplate(){const t=this.radius>50?50:this.radius,n=36-t,i=116+n,s=245+n,o=360+n*1.75;return J`
      <svg viewBox="0 0 110 110" width="110" height="110">
        <rect
          x="2"
          y="2"
          width="106"
          height="106"
          rx=${t}
          stroke-dasharray="${i} ${s}"
          stroke-dashoffset=${o}
        />
      </svg>
    `}};m3.styles=[Tt,GUe];pre([ne({type:Number})],m3.prototype,"radius",void 0);m3=pre([Be("wui-loading-thumbnail")],m3);const KUe=He`
  button {
    border: none;
    border-radius: var(--wui-border-radius-3xl);
  }

  button[data-variant='main'] {
    background-color: var(--wui-color-accent-100);
    color: var(--wui-color-inverse-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='accent'] {
    background-color: var(--wui-color-accent-glass-010);
    color: var(--wui-color-accent-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  button[data-variant='gray'] {
    background-color: transparent;
    color: var(--wui-color-fg-200);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='shade'] {
    background-color: transparent;
    color: var(--wui-color-accent-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-size='sm'] {
    height: 32px;
    padding: 0 var(--wui-spacing-s);
  }

  button[data-size='md'] {
    height: 40px;
    padding: 0 var(--wui-spacing-l);
  }

  button[data-size='sm'] > wui-image {
    width: 16px;
    height: 16px;
  }

  button[data-size='md'] > wui-image {
    width: 24px;
    height: 24px;
  }

  button[data-size='sm'] > wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='md'] > wui-icon {
    width: 14px;
    height: 14px;
  }

  wui-image {
    border-radius: var(--wui-border-radius-3xl);
    overflow: hidden;
  }

  button.disabled > wui-icon,
  button.disabled > wui-image {
    filter: grayscale(1);
  }

  button[data-variant='main'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-accent-090);
  }

  button[data-variant='shade'] > wui-image,
  button[data-variant='gray'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  @media (hover: hover) and (pointer: fine) {
    button[data-variant='main']:focus-visible {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:active:enabled {
      background-color: var(--wui-color-accent-080);
    }

    button[data-variant='accent']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button[data-variant='accent']:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }

    button[data-variant='shade']:focus-visible,
    button[data-variant='gray']:focus-visible,
    button[data-variant='shade']:hover,
    button[data-variant='gray']:hover {
      background-color: var(--wui-color-gray-glass-002);
    }

    button[data-variant='gray']:active,
    button[data-variant='shade']:active {
      background-color: var(--wui-color-gray-glass-005);
    }
  }

  button.disabled {
    color: var(--wui-color-gray-glass-020);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    pointer-events: none;
  }
`;var cf=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let xc=class extends $e{constructor(){super(...arguments),this.variant="accent",this.imageSrc="",this.disabled=!1,this.icon="externalLink",this.size="md",this.text=""}render(){const t=this.size==="sm"?"small-600":"paragraph-600";return J`
      <button
        class=${this.disabled?"disabled":""}
        data-variant=${this.variant}
        data-size=${this.size}
      >
        ${this.imageSrc?J`<wui-image src=${this.imageSrc}></wui-image>`:null}
        <wui-text variant=${t} color="inherit"> ${this.text} </wui-text>
        <wui-icon name=${this.icon} color="inherit" size="inherit"></wui-icon>
      </button>
    `}};xc.styles=[Tt,Fn,KUe];cf([ne()],xc.prototype,"variant",void 0);cf([ne()],xc.prototype,"imageSrc",void 0);cf([ne({type:Boolean})],xc.prototype,"disabled",void 0);cf([ne()],xc.prototype,"icon",void 0);cf([ne()],xc.prototype,"size",void 0);cf([ne()],xc.prototype,"text",void 0);xc=cf([Be("wui-chip-button")],xc);const ZUe=He`
  wui-flex {
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }
`;var I8=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Pp=class extends $e{constructor(){super(...arguments),this.disabled=!1,this.label="",this.buttonLabel=""}render(){return J`
      <wui-flex
        justifyContent="space-between"
        alignItems="center"
        .padding=${["1xs","2l","1xs","2l"]}
      >
        <wui-text variant="paragraph-500" color="fg-200">${this.label}</wui-text>
        <wui-chip-button size="sm" variant="shade" text=${this.buttonLabel} icon="chevronRight">
        </wui-chip-button>
      </wui-flex>
    `}};Pp.styles=[Tt,Fn,ZUe];I8([ne({type:Boolean})],Pp.prototype,"disabled",void 0);I8([ne()],Pp.prototype,"label",void 0);I8([ne()],Pp.prototype,"buttonLabel",void 0);Pp=I8([Be("wui-cta-button")],Pp);const YUe=He`
  :host {
    display: block;
    padding: 0 var(--wui-spacing-xl) var(--wui-spacing-xl);
  }
`;var gre=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let b3=class extends $e{constructor(){super(...arguments),this.wallet=void 0}render(){if(!this.wallet)return this.style.display="none",null;const{name:t,app_store:r,play_store:n,chrome_store:i,homepage:s}=this.wallet,o=we.isMobile(),a=we.isIos(),c=we.isAndroid(),u=[r,n,s,i].filter(Boolean).length>1,l=hn.getTruncateString({string:t,charsStart:12,charsEnd:0,truncate:"end"});return u&&!o?J`
        <wui-cta-button
          label=${`Don't have ${l}?`}
          buttonLabel="Get"
          @click=${()=>ve.push("Downloads",{wallet:this.wallet})}
        ></wui-cta-button>
      `:!u&&s?J`
        <wui-cta-button
          label=${`Don't have ${l}?`}
          buttonLabel="Get"
          @click=${this.onHomePage.bind(this)}
        ></wui-cta-button>
      `:r&&a?J`
        <wui-cta-button
          label=${`Don't have ${l}?`}
          buttonLabel="Get"
          @click=${this.onAppStore.bind(this)}
        ></wui-cta-button>
      `:n&&c?J`
        <wui-cta-button
          label=${`Don't have ${l}?`}
          buttonLabel="Get"
          @click=${this.onPlayStore.bind(this)}
        ></wui-cta-button>
      `:(this.style.display="none",null)}onAppStore(){this.wallet?.app_store&&we.openHref(this.wallet.app_store,"_blank")}onPlayStore(){this.wallet?.play_store&&we.openHref(this.wallet.play_store,"_blank")}onHomePage(){this.wallet?.homepage&&we.openHref(this.wallet.homepage,"_blank")}};b3.styles=[YUe];gre([ne({type:Object})],b3.prototype,"wallet",void 0);b3=gre([Be("w3m-mobile-download-links")],b3);const QUe=He`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: calc(var(--wui-spacing-3xs) * -1);
    bottom: calc(var(--wui-spacing-3xs) * -1);
    opacity: 0;
    transform: scale(0.5);
    transition-property: opacity, transform;
    transition-duration: var(--wui-duration-lg);
    transition-timing-function: var(--wui-ease-out-power-2);
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px var(--wui-spacing-l);
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }
`;var Ca=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};class Jn extends $e{constructor(){super(),this.wallet=ve.state.data?.wallet,this.connector=ve.state.data?.connector,this.timeout=void 0,this.secondaryBtnIcon="refresh",this.onConnect=void 0,this.onRender=void 0,this.onAutoConnect=void 0,this.isWalletConnect=!0,this.unsubscribe=[],this.imageSrc=Xr.getWalletImage(this.wallet)??Xr.getConnectorImage(this.connector),this.name=this.wallet?.name??this.connector?.name??"Wallet",this.isRetrying=!1,this.uri=Ae.state.wcUri,this.error=Ae.state.wcError,this.ready=!1,this.showRetry=!1,this.secondaryBtnLabel="Try again",this.secondaryLabel="Accept connection request in the wallet",this.isLoading=!1,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(Ae.subscribeKey("wcUri",t=>{this.uri=t,this.isRetrying&&this.onRetry&&(this.isRetrying=!1,this.onConnect?.())}),Ae.subscribeKey("wcError",t=>this.error=t)),(we.isTelegram()||we.isSafari())&&we.isIos()&&Ae.state.wcUri&&this.onConnect?.()}firstUpdated(){this.onAutoConnect?.(),this.showRetry=!this.onAutoConnect}disconnectedCallback(){this.unsubscribe.forEach(t=>t()),Ae.setWcError(!1),clearTimeout(this.timeout)}render(){this.onRender?.(),this.onShowRetry();const t=this.error?"Connection can be declined if a previous request is still active":this.secondaryLabel;let r=`Continue in ${this.name}`;return this.error&&(r="Connection declined"),J`
      <wui-flex
        data-error=${Fe(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-wallet-image size="lg" imageSrc=${Fe(this.imageSrc)}></wui-wallet-image>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text variant="paragraph-500" color=${this.error?"error-100":"fg-100"}>
            ${r}
          </wui-text>
          <wui-text align="center" variant="small-500" color="fg-200">${t}</wui-text>
        </wui-flex>

        ${this.secondaryBtnLabel?J`
              <wui-button
                variant="accent"
                size="md"
                ?disabled=${this.isRetrying||this.isLoading}
                @click=${this.onTryAgain.bind(this)}
                data-testid="w3m-connecting-widget-secondary-button"
              >
                <wui-icon color="inherit" slot="iconLeft" name=${this.secondaryBtnIcon}></wui-icon>
                ${this.secondaryBtnLabel}
              </wui-button>
            `:null}
      </wui-flex>

      ${this.isWalletConnect?J`
            <wui-flex .padding=${["0","xl","xl","xl"]} justifyContent="center">
              <wui-link @click=${this.onCopyUri} color="fg-200" data-testid="wui-link-copy">
                <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
                Copy link
              </wui-link>
            </wui-flex>
          `:null}

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onShowRetry(){this.error&&!this.showRetry&&(this.showRetry=!0,this.shadowRoot?.querySelector("wui-button")?.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"}))}onTryAgain(){Ae.setWcError(!1),this.onRetry?(this.isRetrying=!0,this.onRetry?.()):this.onConnect?.()}loaderTemplate(){const t=Bn.state.themeVariables["--w3m-border-radius-master"],r=t?parseInt(t.replace("px",""),10):4;return J`<wui-loading-thumbnail radius=${r*9}></wui-loading-thumbnail>`}onCopyUri(){try{this.uri&&(we.copyToClopboard(this.uri),Rr.showSuccess("Link copied"))}catch{Rr.showError("Failed to copy")}}}Jn.styles=QUe;Ca([Te()],Jn.prototype,"isRetrying",void 0);Ca([Te()],Jn.prototype,"uri",void 0);Ca([Te()],Jn.prototype,"error",void 0);Ca([Te()],Jn.prototype,"ready",void 0);Ca([Te()],Jn.prototype,"showRetry",void 0);Ca([Te()],Jn.prototype,"secondaryBtnLabel",void 0);Ca([Te()],Jn.prototype,"secondaryLabel",void 0);Ca([Te()],Jn.prototype,"isLoading",void 0);Ca([ne({type:Boolean})],Jn.prototype,"isMobile",void 0);Ca([ne()],Jn.prototype,"onRetry",void 0);var JUe=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let vH=class extends Jn{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-browser: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),ot.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser"}})}async onConnectProxy(){try{this.error=!1;const{connectors:t}=ye.state,r=t.find(n=>n.type==="ANNOUNCED"&&n.info?.rdns===this.wallet?.rdns||n.type==="INJECTED"||n.name===this.wallet?.name);if(r)await Ae.connectExternal(r,r.chain);else throw new Error("w3m-connecting-wc-browser: No connector found");Bt.close(),ot.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"browser",name:this.wallet?.name||"Unknown"}})}catch(t){ot.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:t?.message??"Unknown"}}),this.error=!0}}};vH=JUe([Be("w3m-connecting-wc-browser")],vH);var XUe=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let EH=class extends Jn{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-desktop: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onRender=this.onRenderProxy.bind(this),ot.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"desktop"}})}onRenderProxy(){!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())}onConnectProxy(){if(this.wallet?.desktop_link&&this.uri)try{this.error=!1;const{desktop_link:t,name:r}=this.wallet,{redirect:n,href:i}=we.formatNativeUrl(t,this.uri);Ae.setWcLinking({name:r,href:i}),Ae.setRecentWallet(this.wallet),we.openHref(n,"_blank")}catch{this.error=!0}}};EH=XUe([Be("w3m-connecting-wc-desktop")],EH);var o0=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Rd=class extends Jn{constructor(){if(super(),this.btnLabelTimeout=void 0,this.redirectDeeplink=void 0,this.redirectUniversalLink=void 0,this.target=void 0,this.preferUniversalLinks=de.state.experimental_preferUniversalLinks,this.isLoading=!0,this.onConnect=()=>{if(this.wallet?.mobile_link&&this.uri)try{this.error=!1;const{mobile_link:t,link_mode:r,name:n}=this.wallet,{redirect:i,redirectUniversalLink:s,href:o}=we.formatNativeUrl(t,this.uri,r);this.redirectDeeplink=i,this.redirectUniversalLink=s,this.target=we.isIframe()?"_top":"_self",Ae.setWcLinking({name:n,href:o}),Ae.setRecentWallet(this.wallet),this.preferUniversalLinks&&this.redirectUniversalLink?we.openHref(this.redirectUniversalLink,this.target):we.openHref(this.redirectDeeplink,this.target)}catch(t){ot.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:t instanceof Error?t.message:"Error parsing the deeplink",uri:this.uri,mobile_link:this.wallet.mobile_link,name:this.wallet.name}}),this.error=!0}},!this.wallet)throw new Error("w3m-connecting-wc-mobile: No wallet provided");this.secondaryBtnLabel="Open",this.secondaryLabel=$t.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.onHandleURI(),this.unsubscribe.push(Ae.subscribeKey("wcUri",()=>{this.onHandleURI()})),ot.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"mobile"}})}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.btnLabelTimeout)}onHandleURI(){this.isLoading=!this.uri,!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())}onTryAgain(){Ae.setWcError(!1),this.onConnect?.()}};o0([Te()],Rd.prototype,"redirectDeeplink",void 0);o0([Te()],Rd.prototype,"redirectUniversalLink",void 0);o0([Te()],Rd.prototype,"target",void 0);o0([Te()],Rd.prototype,"preferUniversalLinks",void 0);o0([Te()],Rd.prototype,"isLoading",void 0);Rd=o0([Be("w3m-connecting-wc-mobile")],Rd);var mh={},JC,_H;function eqe(){return _H||(_H=1,JC=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),JC}var XC={},au={},CH;function uf(){if(CH)return au;CH=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return au.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},au.getSymbolTotalCodewords=function(n){return t[n]},au.getBCHDigit=function(r){let n=0;for(;r!==0;)n++,r>>>=1;return n},au.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');e=n},au.isKanjiModeEnabled=function(){return typeof e<"u"},au.toSJIS=function(n){return e(n)},au}var eA={},AH;function iT(){return AH||(AH=1,(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,i){if(e.isValid(n))return n;try{return t(n)}catch{return i}}})(eA)),eA}var tA,xH;function tqe(){if(xH)return tA;xH=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const r=Math.floor(t/8);return(this.buffer[r]>>>7-t%8&1)===1},put:function(t,r){for(let n=0;n<r;n++)this.putBit((t>>>r-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),t&&(this.buffer[r]|=128>>>this.length%8),this.length++}},tA=e,tA}var rA,IH;function rqe(){if(IH)return rA;IH=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,r,n,i){const s=t*this.size+r;this.data[s]=n,i&&(this.reservedBit[s]=!0)},e.prototype.get=function(t,r){return this.data[t*this.size+r]},e.prototype.xor=function(t,r,n){this.data[t*this.size+r]^=n},e.prototype.isReserved=function(t,r){return this.reservedBit[t*this.size+r]},rA=e,rA}var nA={},PH;function nqe(){return PH||(PH=1,(function(e){const t=uf().getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=t(n),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},e.getPositions=function(n){const i=[],s=e.getRowColCoords(n),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(nA)),nA}var iA={},SH;function iqe(){if(SH)return iA;SH=1;const e=uf().getSymbolSize,t=7;return iA.getPositions=function(n){const i=e(n);return[[0,0],[i-t,0],[0,i-t]]},iA}var sA={},TH;function sqe(){return TH||(TH=1,(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,u=null,l=null;for(let f=0;f<s;f++){a=c=0,u=l=null;for(let d=0;d<s;d++){let h=i.get(f,d);h===u?a++:(a>=5&&(o+=t.N1+(a-5)),u=h,a=1),h=i.get(d,f),h===l?c++:(c>=5&&(o+=t.N1+(c-5)),l=h,c=1)}a>=5&&(o+=t.N1+(a-5)),c>=5&&(o+=t.N1+(c-5))}return o},e.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const u=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(u===4||u===0)&&o++}return o*t.N2},e.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let u=0;u<s;u++){a=c=0;for(let l=0;l<s;l++)a=a<<1&2047|i.get(u,l),l>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(l,u),l>=10&&(c===1488||c===93)&&o++}return o*t.N3},e.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*t.N4};function r(n,i,s){switch(n){case e.Patterns.PATTERN000:return(i+s)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(i+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return i*s%2+i*s%3===0;case e.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case e.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,r(i,c,a))},e.getBestMask=function(i,s){const o=Object.keys(e.Patterns).length;let a=0,c=1/0;for(let u=0;u<o;u++){s(u),e.applyMask(u,i);const l=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(u,i),l<c&&(c=l,a=u)}return a}})(sA)),sA}var W6={},OH;function mre(){if(OH)return W6;OH=1;const e=iT(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return W6.getBlocksCount=function(i,s){switch(s){case e.L:return t[(i-1)*4+0];case e.M:return t[(i-1)*4+1];case e.Q:return t[(i-1)*4+2];case e.H:return t[(i-1)*4+3];default:return}},W6.getTotalCodewordsCount=function(i,s){switch(s){case e.L:return r[(i-1)*4+0];case e.M:return r[(i-1)*4+1];case e.Q:return r[(i-1)*4+2];case e.H:return r[(i-1)*4+3];default:return}},W6}var oA={},Dg={},jH;function oqe(){if(jH)return Dg;jH=1;const e=new Uint8Array(512),t=new Uint8Array(256);return(function(){let n=1;for(let i=0;i<255;i++)e[i]=n,t[n]=i,n<<=1,n&256&&(n^=285);for(let i=255;i<512;i++)e[i]=e[i-255]})(),Dg.log=function(n){if(n<1)throw new Error("log("+n+")");return t[n]},Dg.exp=function(n){return e[n]},Dg.mul=function(n,i){return n===0||i===0?0:e[t[n]+t[i]]},Dg}var BH;function aqe(){return BH||(BH=1,(function(e){const t=oqe();e.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=t.mul(n[o],i[a]);return s},e.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=t.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},e.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=e.mul(i,new Uint8Array([1,t.exp(s)]));return i}})(oA)),oA}var aA,RH;function cqe(){if(RH)return aA;RH=1;const e=aqe();function t(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(n){this.degree=n,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(n.length+this.degree);i.set(n);const s=e.mod(i,this.genPoly),o=this.degree-s.length;if(o>0){const a=new Uint8Array(this.degree);return a.set(s,o),a}return s},aA=t,aA}var cA={},uA={},lA={},kH;function bre(){return kH||(kH=1,lA.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),lA}var Qo={},NH;function yre(){if(NH)return Qo;NH=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+`)(?:.|[\r
]))+`;Qo.KANJI=new RegExp(r,"g"),Qo.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Qo.BYTE=new RegExp(n,"g"),Qo.NUMERIC=new RegExp(e,"g"),Qo.ALPHANUMERIC=new RegExp(t,"g");const i=new RegExp("^"+r+"$"),s=new RegExp("^"+e+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Qo.testKanji=function(c){return i.test(c)},Qo.testNumeric=function(c){return s.test(c)},Qo.testAlphanumeric=function(c){return o.test(c)},Qo}var DH;function lf(){return DH||(DH=1,(function(e){const t=bre(),r=yre();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return r.testNumeric(s)?e.NUMERIC:r.testAlphanumeric(s)?e.ALPHANUMERIC:r.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(s,o){if(e.isValid(s))return s;try{return n(s)}catch{return o}}})(uA)),uA}var $H;function uqe(){return $H||($H=1,(function(e){const t=uf(),r=mre(),n=iT(),i=lf(),s=bre(),o=7973,a=t.getBCHDigit(o);function c(d,h,g){for(let p=1;p<=40;p++)if(h<=e.getCapacity(p,g,d))return p}function u(d,h){return i.getCharCountIndicator(d,h)+4}function l(d,h){let g=0;return d.forEach(function(p){const b=u(p.mode,h);g+=b+p.getBitsLength()}),g}function f(d,h){for(let g=1;g<=40;g++)if(l(d,g)<=e.getCapacity(g,h,i.MIXED))return g}e.from=function(h,g){return s.isValid(h)?parseInt(h,10):g},e.getCapacity=function(h,g,p){if(!s.isValid(h))throw new Error("Invalid QR Code version");typeof p>"u"&&(p=i.BYTE);const b=t.getSymbolTotalCodewords(h),w=r.getTotalCodewordsCount(h,g),y=(b-w)*8;if(p===i.MIXED)return y;const v=y-u(p,h);switch(p){case i.NUMERIC:return Math.floor(v/10*3);case i.ALPHANUMERIC:return Math.floor(v/11*2);case i.KANJI:return Math.floor(v/13);case i.BYTE:default:return Math.floor(v/8)}},e.getBestVersionForData=function(h,g){let p;const b=n.from(g,n.M);if(Array.isArray(h)){if(h.length>1)return f(h,b);if(h.length===0)return 1;p=h[0]}else p=h;return c(p.mode,p.getLength(),b)},e.getEncodedBits=function(h){if(!s.isValid(h)||h<7)throw new Error("Invalid QR Code version");let g=h<<12;for(;t.getBCHDigit(g)-a>=0;)g^=o<<t.getBCHDigit(g)-a;return h<<12|g}})(cA)),cA}var dA={},MH;function lqe(){if(MH)return dA;MH=1;const e=uf(),t=1335,r=21522,n=e.getBCHDigit(t);return dA.getEncodedBits=function(s,o){const a=s.bit<<3|o;let c=a<<10;for(;e.getBCHDigit(c)-n>=0;)c^=t<<e.getBCHDigit(c)-n;return(a<<10|c)^r},dA}var fA={},hA,LH;function dqe(){if(LH)return hA;LH=1;const e=lf();function t(r){this.mode=e.NUMERIC,this.data=r.toString()}return t.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){let i,s,o;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),o=parseInt(s,10),n.put(o,10);const a=this.data.length-i;a>0&&(s=this.data.substr(i),o=parseInt(s,10),n.put(o,a*3+1))},hA=t,hA}var pA,UH;function fqe(){if(UH)return pA;UH=1;const e=lf(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(n){this.mode=e.ALPHANUMERIC,this.data=n}return r.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let o=t.indexOf(this.data[s])*45;o+=t.indexOf(this.data[s+1]),i.put(o,11)}this.data.length%2&&i.put(t.indexOf(this.data[s]),6)},pA=r,pA}var gA,qH;function hqe(){return qH||(qH=1,gA=function(t){for(var r=[],n=t.length,i=0;i<n;i++){var s=t.charCodeAt(i);if(s>=55296&&s<=56319&&n>i+1){var o=t.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){r.push(s);continue}if(s<2048){r.push(s>>6|192),r.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128);continue}if(s>=65536&&s<=1114111){r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer}),gA}var mA,zH;function pqe(){if(zH)return mA;zH=1;const e=hqe(),t=lf();function r(n){this.mode=t.BYTE,typeof n=="string"&&(n=e(n)),this.data=new Uint8Array(n)}return r.getBitsLength=function(i){return i*8},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(n){for(let i=0,s=this.data.length;i<s;i++)n.put(this.data[i],8)},mA=r,mA}var bA,FH;function gqe(){if(FH)return bA;FH=1;const e=lf(),t=uf();function r(n){this.mode=e.KANJI,this.data=n}return r.getBitsLength=function(i){return i*13},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(n){let i;for(i=0;i<this.data.length;i++){let s=t.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),n.put(s,13)}},bA=r,bA}var yA={exports:{}},HH;function mqe(){return HH||(HH=1,(function(e){var t={single_source_shortest_paths:function(r,n,i){var s={},o={};o[n]=0;var a=t.PriorityQueue.make();a.push(n,0);for(var c,u,l,f,d,h,g,p,b;!a.empty();){c=a.pop(),u=c.value,f=c.cost,d=r[u]||{};for(l in d)d.hasOwnProperty(l)&&(h=d[l],g=f+h,p=o[l],b=typeof o[l]>"u",(b||p>g)&&(o[l]=g,a.push(l,g),s[l]=u))}if(typeof i<"u"&&typeof o[i]>"u"){var w=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(w)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],s=n;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,n,i){var s=t.single_source_shortest_paths(r,n,i);return t.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,i={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(yA)),yA.exports}var WH;function bqe(){return WH||(WH=1,(function(e){const t=lf(),r=dqe(),n=fqe(),i=pqe(),s=gqe(),o=yre(),a=uf(),c=mqe();function u(w){return unescape(encodeURIComponent(w)).length}function l(w,y,v){const m=[];let C;for(;(C=w.exec(v))!==null;)m.push({data:C[0],index:C.index,mode:y,length:C[0].length});return m}function f(w){const y=l(o.NUMERIC,t.NUMERIC,w),v=l(o.ALPHANUMERIC,t.ALPHANUMERIC,w);let m,C;return a.isKanjiModeEnabled()?(m=l(o.BYTE,t.BYTE,w),C=l(o.KANJI,t.KANJI,w)):(m=l(o.BYTE_KANJI,t.BYTE,w),C=[]),y.concat(v,m,C).sort(function(_,P){return _.index-P.index}).map(function(_){return{data:_.data,mode:_.mode,length:_.length}})}function d(w,y){switch(y){case t.NUMERIC:return r.getBitsLength(w);case t.ALPHANUMERIC:return n.getBitsLength(w);case t.KANJI:return s.getBitsLength(w);case t.BYTE:return i.getBitsLength(w)}}function h(w){return w.reduce(function(y,v){const m=y.length-1>=0?y[y.length-1]:null;return m&&m.mode===v.mode?(y[y.length-1].data+=v.data,y):(y.push(v),y)},[])}function g(w){const y=[];for(let v=0;v<w.length;v++){const m=w[v];switch(m.mode){case t.NUMERIC:y.push([m,{data:m.data,mode:t.ALPHANUMERIC,length:m.length},{data:m.data,mode:t.BYTE,length:m.length}]);break;case t.ALPHANUMERIC:y.push([m,{data:m.data,mode:t.BYTE,length:m.length}]);break;case t.KANJI:y.push([m,{data:m.data,mode:t.BYTE,length:u(m.data)}]);break;case t.BYTE:y.push([{data:m.data,mode:t.BYTE,length:u(m.data)}])}}return y}function p(w,y){const v={},m={start:{}};let C=["start"];for(let E=0;E<w.length;E++){const _=w[E],P=[];for(let x=0;x<_.length;x++){const O=_[x],D=""+E+x;P.push(D),v[D]={node:O,lastCount:0},m[D]={};for(let R=0;R<C.length;R++){const k=C[R];v[k]&&v[k].node.mode===O.mode?(m[k][D]=d(v[k].lastCount+O.length,O.mode)-d(v[k].lastCount,O.mode),v[k].lastCount+=O.length):(v[k]&&(v[k].lastCount=O.length),m[k][D]=d(O.length,O.mode)+4+t.getCharCountIndicator(O.mode,y))}}C=P}for(let E=0;E<C.length;E++)m[C[E]].end=0;return{map:m,table:v}}function b(w,y){let v;const m=t.getBestModeForData(w);if(v=t.from(y,m),v!==t.BYTE&&v.bit<m.bit)throw new Error('"'+w+'" cannot be encoded with mode '+t.toString(v)+`.
 Suggested mode is: `+t.toString(m));switch(v===t.KANJI&&!a.isKanjiModeEnabled()&&(v=t.BYTE),v){case t.NUMERIC:return new r(w);case t.ALPHANUMERIC:return new n(w);case t.KANJI:return new s(w);case t.BYTE:return new i(w)}}e.fromArray=function(y){return y.reduce(function(v,m){return typeof m=="string"?v.push(b(m,null)):m.data&&v.push(b(m.data,m.mode)),v},[])},e.fromString=function(y,v){const m=f(y,a.isKanjiModeEnabled()),C=g(m),E=p(C,v),_=c.find_path(E.map,"start","end"),P=[];for(let x=1;x<_.length-1;x++)P.push(E.table[_[x]].node);return e.fromArray(h(P))},e.rawSplit=function(y){return e.fromArray(f(y,a.isKanjiModeEnabled()))}})(fA)),fA}var VH;function yqe(){if(VH)return XC;VH=1;const e=uf(),t=iT(),r=tqe(),n=rqe(),i=nqe(),s=iqe(),o=sqe(),a=mre(),c=cqe(),u=uqe(),l=lqe(),f=lf(),d=bqe();function h(E,_){const P=E.size,x=s.getPositions(_);for(let O=0;O<x.length;O++){const D=x[O][0],R=x[O][1];for(let k=-1;k<=7;k++)if(!(D+k<=-1||P<=D+k))for(let T=-1;T<=7;T++)R+T<=-1||P<=R+T||(k>=0&&k<=6&&(T===0||T===6)||T>=0&&T<=6&&(k===0||k===6)||k>=2&&k<=4&&T>=2&&T<=4?E.set(D+k,R+T,!0,!0):E.set(D+k,R+T,!1,!0))}}function g(E){const _=E.size;for(let P=8;P<_-8;P++){const x=P%2===0;E.set(P,6,x,!0),E.set(6,P,x,!0)}}function p(E,_){const P=i.getPositions(_);for(let x=0;x<P.length;x++){const O=P[x][0],D=P[x][1];for(let R=-2;R<=2;R++)for(let k=-2;k<=2;k++)R===-2||R===2||k===-2||k===2||R===0&&k===0?E.set(O+R,D+k,!0,!0):E.set(O+R,D+k,!1,!0)}}function b(E,_){const P=E.size,x=u.getEncodedBits(_);let O,D,R;for(let k=0;k<18;k++)O=Math.floor(k/3),D=k%3+P-8-3,R=(x>>k&1)===1,E.set(O,D,R,!0),E.set(D,O,R,!0)}function w(E,_,P){const x=E.size,O=l.getEncodedBits(_,P);let D,R;for(D=0;D<15;D++)R=(O>>D&1)===1,D<6?E.set(D,8,R,!0):D<8?E.set(D+1,8,R,!0):E.set(x-15+D,8,R,!0),D<8?E.set(8,x-D-1,R,!0):D<9?E.set(8,15-D-1+1,R,!0):E.set(8,15-D-1,R,!0);E.set(x-8,8,1,!0)}function y(E,_){const P=E.size;let x=-1,O=P-1,D=7,R=0;for(let k=P-1;k>0;k-=2)for(k===6&&k--;;){for(let T=0;T<2;T++)if(!E.isReserved(O,k-T)){let S=!1;R<_.length&&(S=(_[R]>>>D&1)===1),E.set(O,k-T,S),D--,D===-1&&(R++,D=7)}if(O+=x,O<0||P<=O){O-=x,x=-x;break}}}function v(E,_,P){const x=new r;P.forEach(function(T){x.put(T.mode.bit,4),x.put(T.getLength(),f.getCharCountIndicator(T.mode,E)),T.write(x)});const O=e.getSymbolTotalCodewords(E),D=a.getTotalCodewordsCount(E,_),R=(O-D)*8;for(x.getLengthInBits()+4<=R&&x.put(0,4);x.getLengthInBits()%8!==0;)x.putBit(0);const k=(R-x.getLengthInBits())/8;for(let T=0;T<k;T++)x.put(T%2?17:236,8);return m(x,E,_)}function m(E,_,P){const x=e.getSymbolTotalCodewords(_),O=a.getTotalCodewordsCount(_,P),D=x-O,R=a.getBlocksCount(_,P),k=x%R,T=R-k,S=Math.floor(x/R),I=Math.floor(D/R),A=I+1,j=S-I,N=new c(j);let B=0;const $=new Array(R),M=new Array(R);let L=0;const q=new Uint8Array(E.buffer);for(let W=0;W<R;W++){const Z=W<T?I:A;$[W]=q.slice(B,B+Z),M[W]=N.encode($[W]),B+=Z,L=Math.max(L,Z)}const U=new Uint8Array(x);let F=0,H,V;for(H=0;H<L;H++)for(V=0;V<R;V++)H<$[V].length&&(U[F++]=$[V][H]);for(H=0;H<j;H++)for(V=0;V<R;V++)U[F++]=M[V][H];return U}function C(E,_,P,x){let O;if(Array.isArray(E))O=d.fromArray(E);else if(typeof E=="string"){let S=_;if(!S){const I=d.rawSplit(E);S=u.getBestVersionForData(I,P)}O=d.fromString(E,S||40)}else throw new Error("Invalid data");const D=u.getBestVersionForData(O,P);if(!D)throw new Error("The amount of data is too big to be stored in a QR Code");if(!_)_=D;else if(_<D)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+D+`.
`);const R=v(_,P,O),k=e.getSymbolSize(_),T=new n(k);return h(T,_),g(T),p(T,_),w(T,P,0),_>=7&&b(T,_),y(T,R),isNaN(x)&&(x=o.getBestMask(T,w.bind(null,T,P))),o.applyMask(x,T),w(T,P,x),{modules:T,version:_,errorCorrectionLevel:P,maskPattern:x,segments:O}}return XC.create=function(_,P){if(typeof _>"u"||_==="")throw new Error("No input text");let x=t.M,O,D;return typeof P<"u"&&(x=t.from(P.errorCorrectionLevel,t.M),O=u.from(P.version),D=o.from(P.maskPattern),P.toSJISFunc&&e.setToSJISFunction(P.toSJISFunc)),C(_,O,x,D)},XC}var wA={},vA={},GH;function wre(){return GH||(GH=1,(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},e.getImageWidth=function(n,i){const s=e.getScale(n,i);return Math.floor((n+i.margin*2)*s)},e.qrToImageData=function(n,i,s){const o=i.modules.size,a=i.modules.data,c=e.getScale(o,s),u=Math.floor((o+s.margin*2)*c),l=s.margin*c,f=[s.color.light,s.color.dark];for(let d=0;d<u;d++)for(let h=0;h<u;h++){let g=(d*u+h)*4,p=s.color.light;if(d>=l&&h>=l&&d<u-l&&h<u-l){const b=Math.floor((d-l)/c),w=Math.floor((h-l)/c);p=f[a[b*o+w]?1:0]}n[g++]=p.r,n[g++]=p.g,n[g++]=p.b,n[g]=p.a}}})(vA)),vA}var KH;function wqe(){return KH||(KH=1,(function(e){const t=wre();function r(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,o,a){let c=a,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=n()),c=t.getOptions(c);const l=t.getImageWidth(s.modules.size,c),f=u.getContext("2d"),d=f.createImageData(l,l);return t.qrToImageData(d.data,s,c),r(f,u,l),f.putImageData(d,0,0),u},e.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=e.render(s,o,c),l=c.type||"image/png",f=c.rendererOpts||{};return u.toDataURL(l,f.quality)}})(wA)),wA}var EA={},ZH;function vqe(){if(ZH)return EA;ZH=1;const e=wre();function t(i,s){const o=i.a/255,a=s+'="'+i.hex+'"';return o<1?a+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':a}function r(i,s,o){let a=i+s;return typeof o<"u"&&(a+=" "+o),a}function n(i,s,o){let a="",c=0,u=!1,l=0;for(let f=0;f<i.length;f++){const d=Math.floor(f%s),h=Math.floor(f/s);!d&&!u&&(u=!0),i[f]?(l++,f>0&&d>0&&i[f-1]||(a+=u?r("M",d+o,.5+h+o):r("m",c,0),c=0,u=!1),d+1<s&&i[f+1]||(a+=r("h",l),l=0)):c++}return a}return EA.render=function(s,o,a){const c=e.getOptions(o),u=s.modules.size,l=s.modules.data,f=u+c.margin*2,d=c.color.light.a?"<path "+t(c.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/>':"",h="<path "+t(c.color.dark,"stroke")+' d="'+n(l,u,c.margin)+'"/>',g='viewBox="0 0 '+f+" "+f+'"',b='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+g+' shape-rendering="crispEdges">'+d+h+`</svg>
`;return typeof a=="function"&&a(null,b),b},EA}var YH;function Eqe(){if(YH)return mh;YH=1;const e=eqe(),t=yqe(),r=wqe(),n=vqe();function i(s,o,a,c,u){const l=[].slice.call(arguments,1),f=l.length,d=typeof l[f-1]=="function";if(!d&&!e())throw new Error("Callback required as last argument");if(d){if(f<2)throw new Error("Too few arguments provided");f===2?(u=a,a=o,o=c=void 0):f===3&&(o.getContext&&typeof u>"u"?(u=c,c=void 0):(u=c,c=a,a=o,o=void 0))}else{if(f<1)throw new Error("Too few arguments provided");return f===1?(a=o,o=c=void 0):f===2&&!o.getContext&&(c=a,a=o,o=void 0),new Promise(function(h,g){try{const p=t.create(a,c);h(s(p,o,c))}catch(p){g(p)}})}try{const h=t.create(a,c);u(null,s(h,o,c))}catch(h){u(h)}}return mh.create=t.create,mh.toCanvas=i.bind(null,r.render),mh.toDataURL=i.bind(null,r.renderToDataURL),mh.toString=i.bind(null,function(s,o,a){return n.render(s,a)}),mh}var _qe=Eqe();const Cqe=P3(_qe),Aqe=.1,QH=2.5,Xa=7;function _A(e,t,r){return e===t?!1:(e-t<0?t-e:e-t)<=r+Aqe}function xqe(e,t){const r=Array.prototype.slice.call(Cqe.create(e,{errorCorrectionLevel:t}).modules.data,0),n=Math.sqrt(r.length);return r.reduce((i,s,o)=>(o%n===0?i.push([s]):i[i.length-1].push(s))&&i,[])}const Iqe={generate({uri:e,size:t,logoSize:r,dotColor:n="#141414"}){const i="transparent",o=[],a=xqe(e,"Q"),c=t/a.length,u=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];u.forEach(({x:p,y:b})=>{const w=(a.length-Xa)*c*p,y=(a.length-Xa)*c*b,v=.45;for(let m=0;m<u.length;m+=1){const C=c*(Xa-m*2);o.push(xe`
            <rect
              fill=${m===2?n:i}
              width=${m===0?C-5:C}
              rx= ${m===0?(C-5)*v:C*v}
              ry= ${m===0?(C-5)*v:C*v}
              stroke=${n}
              stroke-width=${m===0?5:0}
              height=${m===0?C-5:C}
              x= ${m===0?y+c*m+5/2:y+c*m}
              y= ${m===0?w+c*m+5/2:w+c*m}
            />
          `)}});const l=Math.floor((r+25)/c),f=a.length/2-l/2,d=a.length/2+l/2-1,h=[];a.forEach((p,b)=>{p.forEach((w,y)=>{if(a[b][y]&&!(b<Xa&&y<Xa||b>a.length-(Xa+1)&&y<Xa||b<Xa&&y>a.length-(Xa+1))&&!(b>f&&b<d&&y>f&&y<d)){const v=b*c+c/2,m=y*c+c/2;h.push([v,m])}})});const g={};return h.forEach(([p,b])=>{g[p]?g[p]?.push(b):g[p]=[b]}),Object.entries(g).map(([p,b])=>{const w=b.filter(y=>b.every(v=>!_A(y,v,c)));return[Number(p),w]}).forEach(([p,b])=>{b.forEach(w=>{o.push(xe`<circle cx=${p} cy=${w} fill=${n} r=${c/QH} />`)})}),Object.entries(g).filter(([p,b])=>b.length>1).map(([p,b])=>{const w=b.filter(y=>b.some(v=>_A(y,v,c)));return[Number(p),w]}).map(([p,b])=>{b.sort((y,v)=>y<v?-1:1);const w=[];for(const y of b){const v=w.find(m=>m.some(C=>_A(y,C,c)));v?v.push(y):w.push([y])}return[p,w.map(y=>[y[0],y[y.length-1]])]}).forEach(([p,b])=>{b.forEach(([w,y])=>{o.push(xe`
              <line
                x1=${p}
                x2=${p}
                y1=${w}
                y2=${y}
                stroke=${n}
                stroke-width=${c/(QH/2)}
                stroke-linecap="round"
              />
            `)})}),o}},Pqe=He`
  :host {
    position: relative;
    user-select: none;
    display: block;
    overflow: hidden;
    aspect-ratio: 1 / 1;
    width: var(--local-size);
  }

  :host([data-theme='dark']) {
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px);
    background-color: var(--wui-color-inverse-100);
    padding: var(--wui-spacing-l);
  }

  :host([data-theme='light']) {
    box-shadow: 0 0 0 1px var(--wui-color-bg-125);
    background-color: var(--wui-color-bg-125);
  }

  :host([data-clear='true']) > wui-icon {
    display: none;
  }

  svg:first-child,
  wui-image,
  wui-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateY(-50%) translateX(-50%);
  }

  wui-image {
    width: 25%;
    height: 25%;
    border-radius: var(--wui-border-radius-xs);
  }

  wui-icon {
    width: 100%;
    height: 100%;
    color: var(--local-icon-color) !important;
    transform: translateY(-50%) translateX(-50%) scale(0.25);
  }
`;var $c=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};const Sqe="#3396ff";let To=class extends $e{constructor(){super(...arguments),this.uri="",this.size=0,this.theme="dark",this.imageSrc=void 0,this.alt=void 0,this.arenaClear=void 0,this.farcaster=void 0}render(){return this.dataset.theme=this.theme,this.dataset.clear=String(this.arenaClear),this.style.cssText=`
     --local-size: ${this.size}px;
     --local-icon-color: ${this.color??Sqe}
    `,J`${this.templateVisual()} ${this.templateSvg()}`}templateSvg(){const t=this.theme==="light"?this.size:this.size-32;return xe`
      <svg height=${t} width=${t}>
        ${Iqe.generate({uri:this.uri,size:t,logoSize:this.arenaClear?0:t/4,dotColor:this.color})}
      </svg>
    `}templateVisual(){return this.imageSrc?J`<wui-image src=${this.imageSrc} alt=${this.alt??"logo"}></wui-image>`:this.farcaster?J`<wui-icon
        class="farcaster"
        size="inherit"
        color="inherit"
        name="farcaster"
      ></wui-icon>`:J`<wui-icon size="inherit" color="inherit" name="walletConnect"></wui-icon>`}};To.styles=[Tt,Pqe];$c([ne()],To.prototype,"uri",void 0);$c([ne({type:Number})],To.prototype,"size",void 0);$c([ne()],To.prototype,"theme",void 0);$c([ne()],To.prototype,"imageSrc",void 0);$c([ne()],To.prototype,"alt",void 0);$c([ne()],To.prototype,"color",void 0);$c([ne({type:Boolean})],To.prototype,"arenaClear",void 0);$c([ne({type:Boolean})],To.prototype,"farcaster",void 0);To=$c([Be("wui-qr-code")],To);const Tqe=He`
  :host {
    display: block;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
    background: linear-gradient(
      120deg,
      var(--wui-color-bg-200) 5%,
      var(--wui-color-bg-200) 48%,
      var(--wui-color-bg-300) 55%,
      var(--wui-color-bg-300) 60%,
      var(--wui-color-bg-300) calc(60% + 10px),
      var(--wui-color-bg-200) calc(60% + 12px),
      var(--wui-color-bg-200) 100%
    );
    background-size: 250%;
    animation: shimmer 3s linear infinite reverse;
  }

  :host([variant='light']) {
    background: linear-gradient(
      120deg,
      var(--wui-color-bg-150) 5%,
      var(--wui-color-bg-150) 48%,
      var(--wui-color-bg-200) 55%,
      var(--wui-color-bg-200) 60%,
      var(--wui-color-bg-200) calc(60% + 10px),
      var(--wui-color-bg-150) calc(60% + 12px),
      var(--wui-color-bg-150) 100%
    );
    background-size: 250%;
  }

  @keyframes shimmer {
    from {
      background-position: -250% 0;
    }
    to {
      background-position: 250% 0;
    }
  }
`;var jb=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let kd=class extends $e{constructor(){super(...arguments),this.width="",this.height="",this.borderRadius="m",this.variant="default"}render(){return this.style.cssText=`
      width: ${this.width};
      height: ${this.height};
      border-radius: ${`clamp(0px,var(--wui-border-radius-${this.borderRadius}), 40px)`};
    `,J`<slot></slot>`}};kd.styles=[Tqe];jb([ne()],kd.prototype,"width",void 0);jb([ne()],kd.prototype,"height",void 0);jb([ne()],kd.prototype,"borderRadius",void 0);jb([ne()],kd.prototype,"variant",void 0);kd=jb([Be("wui-shimmer")],kd);const Oqe="https://reown.com",jqe=He`
  .reown-logo {
    height: var(--wui-spacing-xxl);
  }

  a {
    text-decoration: none;
    cursor: pointer;
  }

  a:hover {
    opacity: 0.9;
  }
`;var Bqe=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let wP=class extends $e{render(){return J`
      <a
        data-testid="ux-branding-reown"
        href=${Oqe}
        rel="noreferrer"
        target="_blank"
        style="text-decoration: none;"
      >
        <wui-flex
          justifyContent="center"
          alignItems="center"
          gap="xs"
          .padding=${["0","0","l","0"]}
        >
          <wui-text variant="small-500" color="fg-100"> UX by </wui-text>
          <wui-icon name="reown" size="xxxl" class="reown-logo"></wui-icon>
        </wui-flex>
      </a>
    `}};wP.styles=[Tt,Fn,jqe];wP=Bqe([Be("wui-ux-by-reown")],wP);const Rqe=He`
  @keyframes fadein {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  wui-shimmer {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px) !important;
  }

  wui-qr-code {
    opacity: 0;
    animation-duration: 200ms;
    animation-timing-function: ease;
    animation-name: fadein;
    animation-fill-mode: forwards;
  }
`;var kqe=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let vP=class extends Jn{constructor(){super(),this.forceUpdate=()=>{this.requestUpdate()},window.addEventListener("resize",this.forceUpdate),ot.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet?.name??"WalletConnect",platform:"qrcode"}})}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe?.forEach(t=>t()),window.removeEventListener("resize",this.forceUpdate)}render(){return this.onRenderProxy(),J`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["0","xl","xl","xl"]}
        gap="xl"
      >
        <wui-shimmer borderRadius="l" width="100%"> ${this.qrCodeTemplate()} </wui-shimmer>

        <wui-text variant="paragraph-500" color="fg-100">
          Scan this QR Code with your phone
        </wui-text>
        ${this.copyTemplate()}
      </wui-flex>
      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onRenderProxy(){!this.ready&&this.uri&&(this.timeout=setTimeout(()=>{this.ready=!0},200))}qrCodeTemplate(){if(!this.uri||!this.ready)return null;const t=this.getBoundingClientRect().width-40,r=this.wallet?this.wallet.name:void 0;return Ae.setWcLinking(void 0),Ae.setRecentWallet(this.wallet),J` <wui-qr-code
      size=${t}
      theme=${Bn.state.themeMode}
      uri=${this.uri}
      imageSrc=${Fe(Xr.getWalletImage(this.wallet))}
      color=${Fe(Bn.state.themeVariables["--w3m-qr-color"])}
      alt=${Fe(r)}
      data-testid="wui-qr-code"
    ></wui-qr-code>`}copyTemplate(){const t=!this.uri||!this.ready;return J`<wui-link
      .disabled=${t}
      @click=${this.onCopyUri}
      color="fg-200"
      data-testid="copy-wc2-uri"
    >
      <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
      Copy link
    </wui-link>`}};vP.styles=Rqe;vP=kqe([Be("w3m-connecting-wc-qrcode")],vP);var Nqe=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let JH=class extends $e{constructor(){if(super(),this.wallet=ve.state.data?.wallet,!this.wallet)throw new Error("w3m-connecting-wc-unsupported: No wallet provided");ot.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser"}})}render(){return J`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-wallet-image
          size="lg"
          imageSrc=${Fe(Xr.getWalletImage(this.wallet))}
        ></wui-wallet-image>

        <wui-text variant="paragraph-500" color="fg-100">Not Detected</wui-text>
      </wui-flex>

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}};JH=Nqe([Be("w3m-connecting-wc-unsupported")],JH);var vre=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let EP=class extends Jn{constructor(){if(super(),this.isLoading=!0,!this.wallet)throw new Error("w3m-connecting-wc-web: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.secondaryBtnLabel="Open",this.secondaryLabel=$t.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.updateLoadingState(),this.unsubscribe.push(Ae.subscribeKey("wcUri",()=>{this.updateLoadingState()})),ot.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"web"}})}updateLoadingState(){this.isLoading=!this.uri}onConnectProxy(){if(this.wallet?.webapp_link&&this.uri)try{this.error=!1;const{webapp_link:t,name:r}=this.wallet,{redirect:n,href:i}=we.formatUniversalUrl(t,this.uri);Ae.setWcLinking({name:r,href:i}),Ae.setRecentWallet(this.wallet),we.openHref(n,"_blank")}catch{this.error=!0}}};vre([Te()],EP.prototype,"isLoading",void 0);EP=vre([Be("w3m-connecting-wc-web")],EP);var Bb=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Sp=class extends $e{constructor(){super(),this.wallet=ve.state.data?.wallet,this.unsubscribe=[],this.platform=void 0,this.platforms=[],this.isSiwxEnabled=!!de.state.siwx,this.remoteFeatures=de.state.remoteFeatures,this.determinePlatforms(),this.initializeConnection(),this.unsubscribe.push(de.subscribeKey("remoteFeatures",t=>this.remoteFeatures=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){return J`
      ${this.headerTemplate()}
      <div>${this.platformTemplate()}</div>
      ${this.reownBrandingTemplate()}
    `}reownBrandingTemplate(){return this.remoteFeatures?.reownBranding?J`<wui-ux-by-reown></wui-ux-by-reown>`:null}async initializeConnection(t=!1){if(!(this.platform==="browser"||de.state.manualWCControl&&!t))try{const{wcPairingExpiry:r,status:n}=Ae.state;(t||de.state.enableEmbedded||we.isPairingExpired(r)||n==="connecting")&&(await Ae.connectWalletConnect(),this.isSiwxEnabled||Bt.close())}catch(r){ot.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:r?.message??"Unknown"}}),Ae.setWcError(!0),Rr.showError(r.message??"Connection error"),Ae.resetWcConnection(),ve.goBack()}}determinePlatforms(){if(!this.wallet){this.platforms.push("qrcode"),this.platform="qrcode";return}if(this.platform)return;const{mobile_link:t,desktop_link:r,webapp_link:n,injected:i,rdns:s}=this.wallet,o=i?.map(({injected_id:g})=>g).filter(Boolean),a=[...s?[s]:o??[]],c=de.state.isUniversalProvider?!1:a.length,u=t,l=n,f=Ae.checkInstalled(a),d=c&&f,h=r&&!we.isMobile();d&&!G.state.noAdapters&&this.platforms.push("browser"),u&&this.platforms.push(we.isMobile()?"mobile":"qrcode"),l&&this.platforms.push("web"),h&&this.platforms.push("desktop"),!d&&c&&!G.state.noAdapters&&this.platforms.push("unsupported"),this.platform=this.platforms[0]}platformTemplate(){switch(this.platform){case"browser":return J`<w3m-connecting-wc-browser></w3m-connecting-wc-browser>`;case"web":return J`<w3m-connecting-wc-web></w3m-connecting-wc-web>`;case"desktop":return J`
          <w3m-connecting-wc-desktop .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-desktop>
        `;case"mobile":return J`
          <w3m-connecting-wc-mobile isMobile .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-mobile>
        `;case"qrcode":return J`<w3m-connecting-wc-qrcode></w3m-connecting-wc-qrcode>`;default:return J`<w3m-connecting-wc-unsupported></w3m-connecting-wc-unsupported>`}}headerTemplate(){return this.platforms.length>1?J`
      <w3m-connecting-header
        .platforms=${this.platforms}
        .onSelectPlatfrom=${this.onSelectPlatform.bind(this)}
      >
      </w3m-connecting-header>
    `:null}async onSelectPlatform(t){const r=this.shadowRoot?.querySelector("div");r&&(await r.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.platform=t,r.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}};Bb([Te()],Sp.prototype,"platform",void 0);Bb([Te()],Sp.prototype,"platforms",void 0);Bb([Te()],Sp.prototype,"isSiwxEnabled",void 0);Bb([Te()],Sp.prototype,"remoteFeatures",void 0);Sp=Bb([Be("w3m-connecting-wc-view")],Sp);var Ere=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let y3=class extends $e{constructor(){super(...arguments),this.isMobile=we.isMobile()}render(){if(this.isMobile){const{featured:t,recommended:r}=Ee.state,{customWallets:n}=de.state,i=Re.getRecentWallets(),s=t.length||r.length||n?.length||i.length;return J`<wui-flex
        flexDirection="column"
        gap="xs"
        .margin=${["3xs","s","s","s"]}
      >
        ${s?J`<w3m-connector-list></w3m-connector-list>`:null}
        <w3m-all-wallets-widget></w3m-all-wallets-widget>
      </wui-flex>`}return J`<wui-flex flexDirection="column" .padding=${["0","0","l","0"]}>
      <w3m-connecting-wc-view></w3m-connecting-wc-view>
      <wui-flex flexDirection="column" .padding=${["0","m","0","m"]}>
        <w3m-all-wallets-widget></w3m-all-wallets-widget> </wui-flex
    ></wui-flex>`}};Ere([Te()],y3.prototype,"isMobile",void 0);y3=Ere([Be("w3m-connecting-wc-basic-view")],y3);const sT=()=>new Dqe;class Dqe{}const CA=new WeakMap,oT=Z7(class extends dre{render(e){return IA}update(e,[t]){const r=t!==this.G;return r&&this.G!==void 0&&this.rt(void 0),(r||this.lt!==this.ct)&&(this.G=t,this.ht=e.options?.host,this.rt(this.ct=e.element)),IA}rt(e){if(this.isConnected||(e=void 0),typeof this.G=="function"){const t=this.ht??globalThis;let r=CA.get(t);r===void 0&&(r=new WeakMap,CA.set(t,r)),r.get(this.G)!==void 0&&this.G.call(this.ht,void 0),r.set(this.G,e),e!==void 0&&this.G.call(this.ht,e)}else this.G.value=e}get lt(){return typeof this.G=="function"?CA.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}}),$qe=He`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  label {
    position: relative;
    display: inline-block;
    width: 32px;
    height: 22px;
  }

  input {
    width: 0;
    height: 0;
    opacity: 0;
  }

  span {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--wui-color-blue-100);
    border-width: 1px;
    border-style: solid;
    border-color: var(--wui-color-gray-glass-002);
    border-radius: 999px;
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color;
  }

  span:before {
    position: absolute;
    content: '';
    height: 16px;
    width: 16px;
    left: 3px;
    top: 2px;
    background-color: var(--wui-color-inverse-100);
    transition: transform var(--wui-ease-inout-power-1) var(--wui-duration-lg);
    will-change: transform;
    border-radius: 50%;
  }

  input:checked + span {
    border-color: var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-blue-100);
  }

  input:not(:checked) + span {
    background-color: var(--wui-color-gray-glass-010);
  }

  input:checked + span:before {
    transform: translateX(calc(100% - 7px));
  }
`;var _re=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let w3=class extends $e{constructor(){super(...arguments),this.inputElementRef=sT(),this.checked=void 0}render(){return J`
      <label>
        <input
          ${oT(this.inputElementRef)}
          type="checkbox"
          ?checked=${Fe(this.checked)}
          @change=${this.dispatchChangeEvent.bind(this)}
        />
        <span></span>
      </label>
    `}dispatchChangeEvent(){this.dispatchEvent(new CustomEvent("switchChange",{detail:this.inputElementRef.value?.checked,bubbles:!0,composed:!0}))}};w3.styles=[Tt,Fn,Ib,$qe];_re([ne({type:Boolean})],w3.prototype,"checked",void 0);w3=_re([Be("wui-switch")],w3);const Mqe=He`
  :host {
    height: 100%;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: center;
    column-gap: var(--wui-spacing-1xs);
    padding: var(--wui-spacing-xs) var(--wui-spacing-s);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
    cursor: pointer;
  }

  wui-switch {
    pointer-events: none;
  }
`;var Cre=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let v3=class extends $e{constructor(){super(...arguments),this.checked=void 0}render(){return J`
      <button>
        <wui-icon size="xl" name="walletConnectBrown"></wui-icon>
        <wui-switch ?checked=${Fe(this.checked)}></wui-switch>
      </button>
    `}};v3.styles=[Tt,Fn,Mqe];Cre([ne({type:Boolean})],v3.prototype,"checked",void 0);v3=Cre([Be("wui-certified-switch")],v3);const Lqe=He`
  button {
    background-color: var(--wui-color-fg-300);
    border-radius: var(--wui-border-radius-4xs);
    width: 16px;
    height: 16px;
  }

  button:disabled {
    background-color: var(--wui-color-bg-300);
  }

  wui-icon {
    color: var(--wui-color-bg-200) !important;
  }

  button:focus-visible {
    background-color: var(--wui-color-fg-250);
    border: 1px solid var(--wui-color-accent-100);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-fg-250);
    }

    button:active:enabled {
      background-color: var(--wui-color-fg-225);
    }
  }
`;var Are=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let E3=class extends $e{constructor(){super(...arguments),this.icon="copy"}render(){return J`
      <button>
        <wui-icon color="inherit" size="xxs" name=${this.icon}></wui-icon>
      </button>
    `}};E3.styles=[Tt,Fn,Lqe];Are([ne()],E3.prototype,"icon",void 0);E3=Are([Be("wui-input-element")],E3);const Uqe=He`
  :host {
    position: relative;
    width: 100%;
    display: inline-block;
    color: var(--wui-color-fg-275);
  }

  input {
    width: 100%;
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    background: var(--wui-color-gray-glass-002);
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
    color: var(--wui-color-fg-100);
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      box-shadow var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color, box-shadow;
    caret-color: var(--wui-color-accent-100);
  }

  input:disabled {
    cursor: not-allowed;
    border: 1px solid var(--wui-color-gray-glass-010);
  }

  input:disabled::placeholder,
  input:disabled + wui-icon {
    color: var(--wui-color-fg-300);
  }

  input::placeholder {
    color: var(--wui-color-fg-275);
  }

  input:focus:enabled {
    background-color: var(--wui-color-gray-glass-005);
    -webkit-box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
    -moz-box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
  }

  input:hover:enabled {
    background-color: var(--wui-color-gray-glass-005);
  }

  wui-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
  }

  .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px var(--wui-spacing-s);
  }

  wui-icon + .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px 36px;
  }

  wui-icon[data-input='sm'] {
    left: var(--wui-spacing-s);
  }

  .wui-size-md {
    padding: 15px var(--wui-spacing-m) var(--wui-spacing-l) var(--wui-spacing-m);
  }

  wui-icon + .wui-size-md,
  wui-loading-spinner + .wui-size-md {
    padding: 10.5px var(--wui-spacing-3xl) 10.5px var(--wui-spacing-3xl);
  }

  wui-icon[data-input='md'] {
    left: var(--wui-spacing-l);
  }

  .wui-size-lg {
    padding: var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-l);
    letter-spacing: var(--wui-letter-spacing-medium-title);
    font-size: var(--wui-font-size-medium-title);
    font-weight: var(--wui-font-weight-light);
    line-height: 130%;
    color: var(--wui-color-fg-100);
    height: 64px;
  }

  .wui-padding-right-xs {
    padding-right: var(--wui-spacing-xs);
  }

  .wui-padding-right-s {
    padding-right: var(--wui-spacing-s);
  }

  .wui-padding-right-m {
    padding-right: var(--wui-spacing-m);
  }

  .wui-padding-right-l {
    padding-right: var(--wui-spacing-l);
  }

  .wui-padding-right-xl {
    padding-right: var(--wui-spacing-xl);
  }

  .wui-padding-right-2xl {
    padding-right: var(--wui-spacing-2xl);
  }

  .wui-padding-right-3xl {
    padding-right: var(--wui-spacing-3xl);
  }

  .wui-padding-right-4xl {
    padding-right: var(--wui-spacing-4xl);
  }

  .wui-padding-right-5xl {
    padding-right: var(--wui-spacing-5xl);
  }

  wui-icon + .wui-size-lg,
  wui-loading-spinner + .wui-size-lg {
    padding-left: 50px;
  }

  wui-icon[data-input='lg'] {
    left: var(--wui-spacing-l);
  }

  .wui-size-mdl {
    padding: 17.25px var(--wui-spacing-m) 17.25px var(--wui-spacing-m);
  }
  wui-icon + .wui-size-mdl,
  wui-loading-spinner + .wui-size-mdl {
    padding: 17.25px var(--wui-spacing-3xl) 17.25px 40px;
  }
  wui-icon[data-input='mdl'] {
    left: var(--wui-spacing-m);
  }

  input:placeholder-shown ~ ::slotted(wui-input-element),
  input:placeholder-shown ~ ::slotted(wui-icon) {
    opacity: 0;
    pointer-events: none;
  }

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  ::slotted(wui-input-element),
  ::slotted(wui-icon) {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }

  ::slotted(wui-input-element) {
    right: var(--wui-spacing-m);
  }

  ::slotted(wui-icon) {
    right: 0px;
  }
`;var Aa=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Ks=class extends $e{constructor(){super(...arguments),this.inputElementRef=sT(),this.size="md",this.disabled=!1,this.placeholder="",this.type="text",this.value=""}render(){const t=`wui-padding-right-${this.inputRightPadding}`,n={[`wui-size-${this.size}`]:!0,[t]:!!this.inputRightPadding};return J`${this.templateIcon()}
      <input
        data-testid="wui-input-text"
        ${oT(this.inputElementRef)}
        class=${fre(n)}
        type=${this.type}
        enterkeyhint=${Fe(this.enterKeyHint)}
        ?disabled=${this.disabled}
        placeholder=${this.placeholder}
        @input=${this.dispatchInputChangeEvent.bind(this)}
        .value=${this.value||""}
        tabindex=${Fe(this.tabIdx)}
      />
      <slot></slot>`}templateIcon(){return this.icon?J`<wui-icon
        data-input=${this.size}
        size=${this.size}
        color="inherit"
        name=${this.icon}
      ></wui-icon>`:null}dispatchInputChangeEvent(){this.dispatchEvent(new CustomEvent("inputChange",{detail:this.inputElementRef.value?.value,bubbles:!0,composed:!0}))}};Ks.styles=[Tt,Fn,Uqe];Aa([ne()],Ks.prototype,"size",void 0);Aa([ne()],Ks.prototype,"icon",void 0);Aa([ne({type:Boolean})],Ks.prototype,"disabled",void 0);Aa([ne()],Ks.prototype,"placeholder",void 0);Aa([ne()],Ks.prototype,"type",void 0);Aa([ne()],Ks.prototype,"keyHint",void 0);Aa([ne()],Ks.prototype,"value",void 0);Aa([ne()],Ks.prototype,"inputRightPadding",void 0);Aa([ne()],Ks.prototype,"tabIdx",void 0);Ks=Aa([Be("wui-input-text")],Ks);const qqe=He`
  :host {
    position: relative;
    display: inline-block;
    width: 100%;
  }
`;var zqe=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let _P=class extends $e{constructor(){super(...arguments),this.inputComponentRef=sT()}render(){return J`
      <wui-input-text
        ${oT(this.inputComponentRef)}
        placeholder="Search wallet"
        icon="search"
        type="search"
        enterKeyHint="search"
        size="sm"
      >
        <wui-input-element @click=${this.clearValue} icon="close"></wui-input-element>
      </wui-input-text>
    `}clearValue(){const r=this.inputComponentRef.value?.inputElementRef.value;r&&(r.value="",r.focus(),r.dispatchEvent(new Event("input")))}};_P.styles=[Tt,qqe];_P=zqe([Be("wui-search-bar")],_P);const Fqe=xe`<svg  viewBox="0 0 48 54" fill="none">
  <path
    d="M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z"
  />
</svg>`,Hqe=He`
  :host {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 104px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-xs) 10px;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
    position: relative;
  }

  wui-shimmer[data-type='network'] {
    border: none;
    -webkit-clip-path: var(--wui-path-network);
    clip-path: var(--wui-path-network);
  }

  svg {
    position: absolute;
    width: 48px;
    height: 54px;
    z-index: 1;
  }

  svg > path {
    stroke: var(--wui-color-gray-glass-010);
    stroke-width: 1px;
  }

  @media (max-width: 350px) {
    :host {
      width: 100%;
    }
  }
`;var xre=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let _3=class extends $e{constructor(){super(...arguments),this.type="wallet"}render(){return J`
      ${this.shimmerTemplate()}
      <wui-shimmer width="56px" height="20px" borderRadius="xs"></wui-shimmer>
    `}shimmerTemplate(){return this.type==="network"?J` <wui-shimmer
          data-type=${this.type}
          width="48px"
          height="54px"
          borderRadius="xs"
        ></wui-shimmer>
        ${Fqe}`:J`<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>`}};_3.styles=[Tt,Fn,Hqe];xre([ne()],_3.prototype,"type",void 0);_3=xre([Be("wui-card-select-loader")],_3);const Wqe=He`
  :host {
    display: grid;
    width: inherit;
    height: inherit;
  }
`;var Xs=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let qi=class extends $e{render(){return this.style.cssText=`
      grid-template-rows: ${this.gridTemplateRows};
      grid-template-columns: ${this.gridTemplateColumns};
      justify-items: ${this.justifyItems};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      align-content: ${this.alignContent};
      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding&&hn.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&hn.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&hn.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&hn.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&hn.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&hn.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&hn.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&hn.getSpacingStyles(this.margin,3)};
    `,J`<slot></slot>`}};qi.styles=[Tt,Wqe];Xs([ne()],qi.prototype,"gridTemplateRows",void 0);Xs([ne()],qi.prototype,"gridTemplateColumns",void 0);Xs([ne()],qi.prototype,"justifyItems",void 0);Xs([ne()],qi.prototype,"alignItems",void 0);Xs([ne()],qi.prototype,"justifyContent",void 0);Xs([ne()],qi.prototype,"alignContent",void 0);Xs([ne()],qi.prototype,"columnGap",void 0);Xs([ne()],qi.prototype,"rowGap",void 0);Xs([ne()],qi.prototype,"gap",void 0);Xs([ne()],qi.prototype,"padding",void 0);Xs([ne()],qi.prototype,"margin",void 0);qi=Xs([Be("wui-grid")],qi);const Vqe=He`
  button {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    width: 104px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-s) var(--wui-spacing-0);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border-radius;
    outline: none;
    border: none;
  }

  button > wui-flex > wui-text {
    color: var(--wui-color-fg-100);
    max-width: 86px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    justify-content: center;
  }

  button > wui-flex > wui-text.certified {
    max-width: 66px;
  }

  button:hover:enabled {
    background-color: var(--wui-color-gray-glass-005);
  }

  button:disabled > wui-flex > wui-text {
    color: var(--wui-color-gray-glass-015);
  }

  [data-selected='true'] {
    background-color: var(--wui-color-accent-glass-020);
  }

  @media (hover: hover) and (pointer: fine) {
    [data-selected='true']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }
  }

  [data-selected='true']:active:enabled {
    background-color: var(--wui-color-accent-glass-010);
  }

  @media (max-width: 350px) {
    button {
      width: 100%;
    }
  }
`;var Rb=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Nd=class extends $e{constructor(){super(),this.observer=new IntersectionObserver(()=>{}),this.visible=!1,this.imageSrc=void 0,this.imageLoading=!1,this.wallet=void 0,this.observer=new IntersectionObserver(t=>{t.forEach(r=>{r.isIntersecting?(this.visible=!0,this.fetchImageSrc()):this.visible=!1})},{threshold:.01})}firstUpdated(){this.observer.observe(this)}disconnectedCallback(){this.observer.disconnect()}render(){const t=this.wallet?.badge_type==="certified";return J`
      <button>
        ${this.imageTemplate()}
        <wui-flex flexDirection="row" alignItems="center" justifyContent="center" gap="3xs">
          <wui-text
            variant="tiny-500"
            color="inherit"
            class=${Fe(t?"certified":void 0)}
            >${this.wallet?.name}</wui-text
          >
          ${t?J`<wui-icon size="sm" name="walletConnectBrown"></wui-icon>`:null}
        </wui-flex>
      </button>
    `}imageTemplate(){return!this.visible&&!this.imageSrc||this.imageLoading?this.shimmerTemplate():J`
      <wui-wallet-image
        size="md"
        imageSrc=${Fe(this.imageSrc)}
        name=${this.wallet?.name}
        .installed=${this.wallet?.installed}
        badgeSize="sm"
      >
      </wui-wallet-image>
    `}shimmerTemplate(){return J`<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>`}async fetchImageSrc(){this.wallet&&(this.imageSrc=Xr.getWalletImage(this.wallet),!this.imageSrc&&(this.imageLoading=!0,this.imageSrc=await Xr.fetchWalletImage(this.wallet.image_id),this.imageLoading=!1))}};Nd.styles=Vqe;Rb([Te()],Nd.prototype,"visible",void 0);Rb([Te()],Nd.prototype,"imageSrc",void 0);Rb([Te()],Nd.prototype,"imageLoading",void 0);Rb([ne()],Nd.prototype,"wallet",void 0);Nd=Rb([Be("w3m-all-wallets-list-item")],Nd);const Gqe=He`
  wui-grid {
    max-height: clamp(360px, 400px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    padding-top: var(--wui-spacing-l);
    padding-bottom: var(--wui-spacing-l);
    justify-content: center;
    grid-column: 1 / span 4;
  }
`;var a0=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};const XH="local-paginator";let Ou=class extends $e{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.loading=!Ee.state.wallets.length,this.wallets=Ee.state.wallets,this.recommended=Ee.state.recommended,this.featured=Ee.state.featured,this.filteredWallets=Ee.state.filteredWallets,this.unsubscribe.push(Ee.subscribeKey("wallets",t=>this.wallets=t),Ee.subscribeKey("recommended",t=>this.recommended=t),Ee.subscribeKey("featured",t=>this.featured=t),Ee.subscribeKey("filteredWallets",t=>this.filteredWallets=t))}firstUpdated(){this.initialFetch(),this.createPaginationObserver()}disconnectedCallback(){this.unsubscribe.forEach(t=>t()),this.paginationObserver?.disconnect()}render(){return J`
      <wui-grid
        data-scroll=${!this.loading}
        .padding=${["0","s","s","s"]}
        columnGap="xxs"
        rowGap="l"
        justifyContent="space-between"
      >
        ${this.loading?this.shimmerTemplate(16):this.walletsTemplate()}
        ${this.paginationLoaderTemplate()}
      </wui-grid>
    `}async initialFetch(){this.loading=!0;const t=this.shadowRoot?.querySelector("wui-grid");t&&(await Ee.fetchWalletsByPage({page:1}),await t.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.loading=!1,t.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}shimmerTemplate(t,r){return[...Array(t)].map(()=>J`
        <wui-card-select-loader type="wallet" id=${Fe(r)}></wui-card-select-loader>
      `)}walletsTemplate(){const t=this.filteredWallets?.length>0?we.uniqueBy([...this.featured,...this.recommended,...this.filteredWallets],"id"):we.uniqueBy([...this.featured,...this.recommended,...this.wallets],"id");return Sd.markWalletsAsInstalled(t).map(n=>J`
        <w3m-all-wallets-list-item
          @click=${()=>this.onConnectWallet(n)}
          .wallet=${n}
        ></w3m-all-wallets-list-item>
      `)}paginationLoaderTemplate(){const{wallets:t,recommended:r,featured:n,count:i}=Ee.state,s=window.innerWidth<352?3:4,o=t.length+r.length;let c=Math.ceil(o/s)*s-o+s;return c-=t.length?n.length%s:0,i===0&&n.length>0?null:i===0||[...n,...t,...r].length<i?this.shimmerTemplate(c,XH):null}createPaginationObserver(){const t=this.shadowRoot?.querySelector(`#${XH}`);t&&(this.paginationObserver=new IntersectionObserver(([r])=>{if(r?.isIntersecting&&!this.loading){const{page:n,count:i,wallets:s}=Ee.state;s.length<i&&Ee.fetchWalletsByPage({page:n+1})}}),this.paginationObserver.observe(t))}onConnectWallet(t){ye.selectWalletConnector(t)}};Ou.styles=Gqe;a0([Te()],Ou.prototype,"loading",void 0);a0([Te()],Ou.prototype,"wallets",void 0);a0([Te()],Ou.prototype,"recommended",void 0);a0([Te()],Ou.prototype,"featured",void 0);a0([Te()],Ou.prototype,"filteredWallets",void 0);Ou=a0([Be("w3m-all-wallets-list")],Ou);const Kqe=He`
  wui-grid,
  wui-loading-spinner,
  wui-flex {
    height: 360px;
  }

  wui-grid {
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    justify-content: center;
    align-items: center;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
`;var P8=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Tp=class extends $e{constructor(){super(...arguments),this.prevQuery="",this.prevBadge=void 0,this.loading=!0,this.query=""}render(){return this.onSearch(),this.loading?J`<wui-loading-spinner color="accent-100"></wui-loading-spinner>`:this.walletsTemplate()}async onSearch(){(this.query.trim()!==this.prevQuery.trim()||this.badge!==this.prevBadge)&&(this.prevQuery=this.query,this.prevBadge=this.badge,this.loading=!0,await Ee.searchWallet({search:this.query,badge:this.badge}),this.loading=!1)}walletsTemplate(){const{search:t}=Ee.state,r=Sd.markWalletsAsInstalled(t);return t.length?J`
      <wui-grid
        data-testid="wallet-list"
        .padding=${["0","s","s","s"]}
        rowGap="l"
        columnGap="xs"
        justifyContent="space-between"
      >
        ${r.map(n=>J`
            <w3m-all-wallets-list-item
              @click=${()=>this.onConnectWallet(n)}
              .wallet=${n}
              data-testid="wallet-search-item-${n.id}"
            ></w3m-all-wallets-list-item>
          `)}
      </wui-grid>
    `:J`
        <wui-flex
          data-testid="no-wallet-found"
          justifyContent="center"
          alignItems="center"
          gap="s"
          flexDirection="column"
        >
          <wui-icon-box
            size="lg"
            iconColor="fg-200"
            backgroundColor="fg-300"
            icon="wallet"
            background="transparent"
          ></wui-icon-box>
          <wui-text data-testid="no-wallet-found-text" color="fg-200" variant="paragraph-500">
            No Wallet found
          </wui-text>
        </wui-flex>
      `}onConnectWallet(t){ye.selectWalletConnector(t)}};Tp.styles=Kqe;P8([Te()],Tp.prototype,"loading",void 0);P8([ne()],Tp.prototype,"query",void 0);P8([ne()],Tp.prototype,"badge",void 0);Tp=P8([Be("w3m-all-wallets-search")],Tp);var aT=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let i1=class extends $e{constructor(){super(...arguments),this.search="",this.onDebouncedSearch=we.debounce(t=>{this.search=t})}render(){const t=this.search.length>=2;return J`
      <wui-flex .padding=${["0","s","s","s"]} gap="xs">
        <wui-search-bar @inputChange=${this.onInputChange.bind(this)}></wui-search-bar>
        <wui-certified-switch
          ?checked=${this.badge}
          @click=${this.onClick.bind(this)}
          data-testid="wui-certified-switch"
        ></wui-certified-switch>
        ${this.qrButtonTemplate()}
      </wui-flex>
      ${t||this.badge?J`<w3m-all-wallets-search
            query=${this.search}
            badge=${Fe(this.badge)}
          ></w3m-all-wallets-search>`:J`<w3m-all-wallets-list badge=${Fe(this.badge)}></w3m-all-wallets-list>`}
    `}onInputChange(t){this.onDebouncedSearch(t.detail)}onClick(){if(this.badge==="certified"){this.badge=void 0;return}this.badge="certified",Rr.showSvg("Only WalletConnect certified",{icon:"walletConnectBrown",iconColor:"accent-100"})}qrButtonTemplate(){return we.isMobile()?J`
        <wui-icon-box
          size="lg"
          iconSize="xl"
          iconColor="accent-100"
          backgroundColor="accent-100"
          icon="qrCode"
          background="transparent"
          border
          borderColor="wui-accent-glass-010"
          @click=${this.onWalletConnectQr.bind(this)}
        ></wui-icon-box>
      `:null}onWalletConnectQr(){ve.push("ConnectingWalletConnect")}};aT([Te()],i1.prototype,"search",void 0);aT([Te()],i1.prototype,"badge",void 0);i1=aT([Be("w3m-all-wallets-view")],i1);const Zqe=He`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 11px 18px 11px var(--wui-spacing-s);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-250);
    transition:
      color var(--wui-ease-out-power-1) var(--wui-duration-md),
      background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: color, background-color;
  }

  button[data-iconvariant='square'],
  button[data-iconvariant='square-blue'] {
    padding: 6px 18px 6px 9px;
  }

  button > wui-flex {
    flex: 1;
  }

  button > wui-image {
    width: 32px;
    height: 32px;
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
    border-radius: var(--wui-border-radius-3xl);
  }

  button > wui-icon {
    width: 36px;
    height: 36px;
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }

  button > wui-icon-box[data-variant='blue'] {
    box-shadow: 0 0 0 2px var(--wui-color-accent-glass-005);
  }

  button > wui-icon-box[data-variant='overlay'] {
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
  }

  button > wui-icon-box[data-variant='square-blue'] {
    border-radius: var(--wui-border-radius-3xs);
    position: relative;
    border: none;
    width: 36px;
    height: 36px;
  }

  button > wui-icon-box[data-variant='square-blue']::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-accent-glass-010);
    pointer-events: none;
  }

  button > wui-icon:last-child {
    width: 14px;
    height: 14px;
  }

  button:disabled {
    color: var(--wui-color-gray-glass-020);
  }

  button[data-loading='true'] > wui-icon {
    opacity: 0;
  }

  wui-loading-spinner {
    position: absolute;
    right: 18px;
    top: 50%;
    transform: translateY(-50%);
  }
`;var Mo=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let As=class extends $e{constructor(){super(...arguments),this.tabIdx=void 0,this.variant="icon",this.disabled=!1,this.imageSrc=void 0,this.alt=void 0,this.chevron=!1,this.loading=!1}render(){return J`
      <button
        ?disabled=${this.loading?!0:!!this.disabled}
        data-loading=${this.loading}
        data-iconvariant=${Fe(this.iconVariant)}
        tabindex=${Fe(this.tabIdx)}
      >
        ${this.loadingTemplate()} ${this.visualTemplate()}
        <wui-flex gap="3xs">
          <slot></slot>
        </wui-flex>
        ${this.chevronTemplate()}
      </button>
    `}visualTemplate(){if(this.variant==="image"&&this.imageSrc)return J`<wui-image src=${this.imageSrc} alt=${this.alt??"list item"}></wui-image>`;if(this.iconVariant==="square"&&this.icon&&this.variant==="icon")return J`<wui-icon name=${this.icon}></wui-icon>`;if(this.variant==="icon"&&this.icon&&this.iconVariant){const t=["blue","square-blue"].includes(this.iconVariant)?"accent-100":"fg-200",r=this.iconVariant==="square-blue"?"mdl":"md",n=this.iconSize?this.iconSize:r;return J`
        <wui-icon-box
          data-variant=${this.iconVariant}
          icon=${this.icon}
          iconSize=${n}
          background="transparent"
          iconColor=${t}
          backgroundColor=${t}
          size=${r}
        ></wui-icon-box>
      `}return null}loadingTemplate(){return this.loading?J`<wui-loading-spinner
        data-testid="wui-list-item-loading-spinner"
        color="fg-300"
      ></wui-loading-spinner>`:J``}chevronTemplate(){return this.chevron?J`<wui-icon size="inherit" color="fg-200" name="chevronRight"></wui-icon>`:null}};As.styles=[Tt,Fn,Zqe];Mo([ne()],As.prototype,"icon",void 0);Mo([ne()],As.prototype,"iconSize",void 0);Mo([ne()],As.prototype,"tabIdx",void 0);Mo([ne()],As.prototype,"variant",void 0);Mo([ne()],As.prototype,"iconVariant",void 0);Mo([ne({type:Boolean})],As.prototype,"disabled",void 0);Mo([ne()],As.prototype,"imageSrc",void 0);Mo([ne()],As.prototype,"alt",void 0);Mo([ne({type:Boolean})],As.prototype,"chevron",void 0);Mo([ne({type:Boolean})],As.prototype,"loading",void 0);As=Mo([Be("wui-list-item")],As);var Yqe=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let CP=class extends $e{constructor(){super(...arguments),this.wallet=ve.state.data?.wallet}render(){if(!this.wallet)throw new Error("w3m-downloads-view");return J`
      <wui-flex gap="xs" flexDirection="column" .padding=${["s","s","l","s"]}>
        ${this.chromeTemplate()} ${this.iosTemplate()} ${this.androidTemplate()}
        ${this.homepageTemplate()}
      </wui-flex>
    `}chromeTemplate(){return this.wallet?.chrome_store?J`<wui-list-item
      variant="icon"
      icon="chromeStore"
      iconVariant="square"
      @click=${this.onChromeStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Chrome Extension</wui-text>
    </wui-list-item>`:null}iosTemplate(){return this.wallet?.app_store?J`<wui-list-item
      variant="icon"
      icon="appStore"
      iconVariant="square"
      @click=${this.onAppStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">iOS App</wui-text>
    </wui-list-item>`:null}androidTemplate(){return this.wallet?.play_store?J`<wui-list-item
      variant="icon"
      icon="playStore"
      iconVariant="square"
      @click=${this.onPlayStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Android App</wui-text>
    </wui-list-item>`:null}homepageTemplate(){return this.wallet?.homepage?J`
      <wui-list-item
        variant="icon"
        icon="browser"
        iconVariant="square-blue"
        @click=${this.onHomePage.bind(this)}
        chevron
      >
        <wui-text variant="paragraph-500" color="fg-100">Website</wui-text>
      </wui-list-item>
    `:null}onChromeStore(){this.wallet?.chrome_store&&we.openHref(this.wallet.chrome_store,"_blank")}onAppStore(){this.wallet?.app_store&&we.openHref(this.wallet.app_store,"_blank")}onPlayStore(){this.wallet?.play_store&&we.openHref(this.wallet.play_store,"_blank")}onHomePage(){this.wallet?.homepage&&we.openHref(this.wallet.homepage,"_blank")}};CP=Yqe([Be("w3m-downloads-view")],CP);const Qqe=Object.freeze(Object.defineProperty({__proto__:null,get W3mAllWalletsView(){return i1},get W3mConnectingWcBasicView(){return y3},get W3mDownloadsView(){return CP}},Symbol.toStringTag,{value:"Module"})),Jqe=He`
  :host {
    display: block;
    border-radius: clamp(0px, var(--wui-border-radius-l), 44px);
    box-shadow: 0 0 0 1px var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-modal-bg);
    overflow: hidden;
  }

  :host([data-embedded='true']) {
    box-shadow:
      0 0 0 1px var(--wui-color-gray-glass-005),
      0px 4px 12px 4px var(--w3m-card-embedded-shadow-color);
  }
`;var Xqe=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let AP=class extends $e{render(){return J`<slot></slot>`}};AP.styles=[Tt,Jqe];AP=Xqe([Be("wui-card")],AP);const eze=He`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-dark-glass-100);
    box-sizing: border-box;
    background-color: var(--wui-color-bg-325);
    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);
  }

  wui-flex {
    width: 100%;
  }

  wui-text {
    word-break: break-word;
    flex: 1;
  }

  .close {
    cursor: pointer;
  }

  .icon-box {
    height: 40px;
    width: 40px;
    border-radius: var(--wui-border-radius-3xs);
    background-color: var(--local-icon-bg-value);
  }
`;var kb=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Dd=class extends $e{constructor(){super(...arguments),this.message="",this.backgroundColor="accent-100",this.iconColor="accent-100",this.icon="info"}render(){return this.style.cssText=`
      --local-icon-bg-value: var(--wui-color-${this.backgroundColor});
   `,J`
      <wui-flex flexDirection="row" justifyContent="space-between" alignItems="center">
        <wui-flex columnGap="xs" flexDirection="row" alignItems="center">
          <wui-flex
            flexDirection="row"
            alignItems="center"
            justifyContent="center"
            class="icon-box"
          >
            <wui-icon color=${this.iconColor} size="md" name=${this.icon}></wui-icon>
          </wui-flex>
          <wui-text variant="small-500" color="bg-350" data-testid="wui-alertbar-text"
            >${this.message}</wui-text
          >
        </wui-flex>
        <wui-icon
          class="close"
          color="bg-350"
          size="sm"
          name="close"
          @click=${this.onClose}
        ></wui-icon>
      </wui-flex>
    `}onClose(){wo.close()}};Dd.styles=[Tt,eze];kb([ne()],Dd.prototype,"message",void 0);kb([ne()],Dd.prototype,"backgroundColor",void 0);kb([ne()],Dd.prototype,"iconColor",void 0);kb([ne()],Dd.prototype,"icon",void 0);Dd=kb([Be("wui-alertbar")],Dd);const tze=He`
  :host {
    display: block;
    position: absolute;
    top: var(--wui-spacing-s);
    left: var(--wui-spacing-l);
    right: var(--wui-spacing-l);
    opacity: 0;
    pointer-events: none;
  }
`;var Ire=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};const rze={info:{backgroundColor:"fg-350",iconColor:"fg-325",icon:"info"},success:{backgroundColor:"success-glass-reown-020",iconColor:"success-125",icon:"checkmark"},warning:{backgroundColor:"warning-glass-reown-020",iconColor:"warning-100",icon:"warningCircle"},error:{backgroundColor:"error-glass-reown-020",iconColor:"error-125",icon:"exclamationTriangle"}};let C3=class extends $e{constructor(){super(),this.unsubscribe=[],this.open=wo.state.open,this.onOpen(!0),this.unsubscribe.push(wo.subscribeKey("open",t=>{this.open=t,this.onOpen(!1)}))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){const{message:t,variant:r}=wo.state,n=rze[r];return J`
      <wui-alertbar
        message=${t}
        backgroundColor=${n?.backgroundColor}
        iconColor=${n?.iconColor}
        icon=${n?.icon}
      ></wui-alertbar>
    `}onOpen(t){this.open?(this.animate([{opacity:0,transform:"scale(0.85)"},{opacity:1,transform:"scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: auto"):t||(this.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: none")}};C3.styles=tze;Ire([Te()],C3.prototype,"open",void 0);C3=Ire([Be("w3m-alertbar")],C3);const nze=He`
  button {
    border-radius: var(--local-border-radius);
    color: var(--wui-color-fg-100);
    padding: var(--local-padding);
  }

  @media (max-width: 700px) {
    button {
      padding: var(--wui-spacing-s);
    }
  }

  button > wui-icon {
    pointer-events: none;
  }

  button:disabled > wui-icon {
    color: var(--wui-color-bg-300) !important;
  }

  button:disabled {
    background-color: transparent;
  }
`;var Nb=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let $d=class extends $e{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.icon="copy",this.iconColor="inherit"}render(){const t=this.size==="lg"?"--wui-border-radius-xs":"--wui-border-radius-xxs",r=this.size==="lg"?"--wui-spacing-1xs":"--wui-spacing-2xs";return this.style.cssText=`
    --local-border-radius: var(${t});
    --local-padding: var(${r});
`,J`
      <button ?disabled=${this.disabled}>
        <wui-icon color=${this.iconColor} size=${this.size} name=${this.icon}></wui-icon>
      </button>
    `}};$d.styles=[Tt,Fn,Ib,nze];Nb([ne()],$d.prototype,"size",void 0);Nb([ne({type:Boolean})],$d.prototype,"disabled",void 0);Nb([ne()],$d.prototype,"icon",void 0);Nb([ne()],$d.prototype,"iconColor",void 0);$d=Nb([Be("wui-icon-link")],$d);const ize=He`
  button {
    display: block;
    display: flex;
    align-items: center;
    padding: var(--wui-spacing-xxs);
    gap: var(--wui-spacing-xxs);
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-md);
    border-radius: var(--wui-border-radius-xxs);
  }

  wui-image {
    border-radius: 100%;
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
  }

  wui-icon-box {
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-002);
  }

  button:active {
    background-color: var(--wui-color-gray-glass-005);
  }
`;var Pre=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let A3=class extends $e{constructor(){super(...arguments),this.imageSrc=""}render(){return J`<button>
      ${this.imageTemplate()}
      <wui-icon size="xs" color="fg-200" name="chevronBottom"></wui-icon>
    </button>`}imageTemplate(){return this.imageSrc?J`<wui-image src=${this.imageSrc} alt="select visual"></wui-image>`:J`<wui-icon-box
      size="xxs"
      iconColor="fg-200"
      backgroundColor="fg-100"
      background="opaque"
      icon="networkPlaceholder"
    ></wui-icon-box>`}};A3.styles=[Tt,Fn,Ib,ize];Pre([ne()],A3.prototype,"imageSrc",void 0);A3=Pre([Be("wui-select")],A3);const sze=He`
  :host {
    height: 64px;
  }

  wui-text {
    text-transform: capitalize;
  }

  wui-flex.w3m-header-title {
    transform: translateY(0);
    opacity: 1;
  }

  wui-flex.w3m-header-title[view-direction='prev'] {
    animation:
      slide-down-out 120ms forwards var(--wui-ease-out-power-2),
      slide-down-in 120ms forwards var(--wui-ease-out-power-2);
    animation-delay: 0ms, 200ms;
  }

  wui-flex.w3m-header-title[view-direction='next'] {
    animation:
      slide-up-out 120ms forwards var(--wui-ease-out-power-2),
      slide-up-in 120ms forwards var(--wui-ease-out-power-2);
    animation-delay: 0ms, 200ms;
  }

  wui-icon-link[data-hidden='true'] {
    opacity: 0 !important;
    pointer-events: none;
  }

  @keyframes slide-up-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(3px);
      opacity: 0;
    }
  }

  @keyframes slide-up-in {
    from {
      transform: translateY(-3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slide-down-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(-3px);
      opacity: 0;
    }
  }

  @keyframes slide-down-in {
    from {
      transform: translateY(3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`;var Mc=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};const oze=["SmartSessionList"];function AA(){const e=ve.state.data?.connector?.name,t=ve.state.data?.wallet?.name,r=ve.state.data?.network?.name,n=t??e,i=ye.getConnectors();return{Connect:`Connect ${i.length===1&&i[0]?.id==="w3m-email"?"Email":""} Wallet`,Create:"Create Wallet",ChooseAccountName:void 0,Account:void 0,AccountSettings:void 0,AllWallets:"All Wallets",ApproveTransaction:"Approve Transaction",BuyInProgress:"Buy",ConnectingExternal:n??"Connect Wallet",ConnectingWalletConnect:n??"WalletConnect",ConnectingWalletConnectBasic:"WalletConnect",ConnectingSiwe:"Sign In",Convert:"Convert",ConvertSelectToken:"Select token",ConvertPreview:"Preview convert",Downloads:n?`Get ${n}`:"Downloads",EmailLogin:"Email Login",EmailVerifyOtp:"Confirm Email",EmailVerifyDevice:"Register Device",GetWallet:"Get a wallet",Networks:"Choose Network",OnRampProviders:"Choose Provider",OnRampActivity:"Activity",OnRampTokenSelect:"Select Token",OnRampFiatSelect:"Select Currency",Pay:"How you pay",Profile:void 0,SwitchNetwork:r??"Switch Network",SwitchAddress:"Switch Address",Transactions:"Activity",UnsupportedChain:"Switch Network",UpgradeEmailWallet:"Upgrade your Wallet",UpdateEmailWallet:"Edit Email",UpdateEmailPrimaryOtp:"Confirm Current Email",UpdateEmailSecondaryOtp:"Confirm New Email",WhatIsABuy:"What is Buy?",RegisterAccountName:"Choose name",RegisterAccountNameSuccess:"",WalletReceive:"Receive",WalletCompatibleNetworks:"Compatible Networks",Swap:"Swap",SwapSelectToken:"Select token",SwapPreview:"Preview swap",WalletSend:"Send",WalletSendPreview:"Review send",WalletSendSelectToken:"Select Token",WhatIsANetwork:"What is a network?",WhatIsAWallet:"What is a wallet?",ConnectWallets:"Connect wallet",ConnectSocials:"All socials",ConnectingSocial:Ne.state.socialProvider?Ne.state.socialProvider:"Connect Social",ConnectingMultiChain:"Select chain",ConnectingFarcaster:"Farcaster",SwitchActiveChain:"Switch chain",SmartSessionCreated:void 0,SmartSessionList:"Smart Sessions",SIWXSignMessage:"Sign In",PayLoading:"Payment in progress"}}let Oo=class extends $e{constructor(){super(),this.unsubscribe=[],this.heading=AA()[ve.state.view],this.network=G.state.activeCaipNetwork,this.networkImage=Xr.getNetworkImage(this.network),this.showBack=!1,this.prevHistoryLength=1,this.view=ve.state.view,this.viewDirection="",this.headerText=AA()[ve.state.view],this.unsubscribe.push(Mi.subscribeNetworkImages(()=>{this.networkImage=Xr.getNetworkImage(this.network)}),ve.subscribeKey("view",t=>{setTimeout(()=>{this.view=t,this.headerText=AA()[t]},bu.ANIMATION_DURATIONS.HeaderText),this.onViewChange(),this.onHistoryChange()}),G.subscribeKey("activeCaipNetwork",t=>{this.network=t,this.networkImage=Xr.getNetworkImage(this.network)}))}disconnectCallback(){this.unsubscribe.forEach(t=>t())}render(){return J`
      <wui-flex .padding=${this.getPadding()} justifyContent="space-between" alignItems="center">
        ${this.leftHeaderTemplate()} ${this.titleTemplate()} ${this.rightHeaderTemplate()}
      </wui-flex>
    `}onWalletHelp(){ot.sendEvent({type:"track",event:"CLICK_WALLET_HELP"}),ve.push("WhatIsAWallet")}async onClose(){await bee.safeClose()}rightHeaderTemplate(){const t=de?.state?.features?.smartSessions;return ve.state.view!=="Account"||!t?this.closeButtonTemplate():J`<wui-flex>
      <wui-icon-link
        icon="clock"
        @click=${()=>ve.push("SmartSessionList")}
        data-testid="w3m-header-smart-sessions"
      ></wui-icon-link>
      ${this.closeButtonTemplate()}
    </wui-flex> `}closeButtonTemplate(){return J`
      <wui-icon-link
        icon="close"
        @click=${this.onClose.bind(this)}
        data-testid="w3m-header-close"
      ></wui-icon-link>
    `}titleTemplate(){const t=oze.includes(this.view);return J`
      <wui-flex
        view-direction="${this.viewDirection}"
        class="w3m-header-title"
        alignItems="center"
        gap="xs"
      >
        <wui-text variant="paragraph-700" color="fg-100" data-testid="w3m-header-text"
          >${this.headerText}</wui-text
        >
        ${t?J`<wui-tag variant="main">Beta</wui-tag>`:null}
      </wui-flex>
    `}leftHeaderTemplate(){const{view:t}=ve.state,r=t==="Connect",n=de.state.enableEmbedded,i=t==="ApproveTransaction",s=t==="ConnectingSiwe",o=t==="Account",a=de.state.enableNetworkSwitch,c=i||s||r&&n;return o&&a?J`<wui-select
        id="dynamic"
        data-testid="w3m-account-select-network"
        active-network=${Fe(this.network?.name)}
        @click=${this.onNetworks.bind(this)}
        imageSrc=${Fe(this.networkImage)}
      ></wui-select>`:this.showBack&&!c?J`<wui-icon-link
        data-testid="header-back"
        id="dynamic"
        icon="chevronLeft"
        @click=${this.onGoBack.bind(this)}
      ></wui-icon-link>`:J`<wui-icon-link
      data-hidden=${!r}
      id="dynamic"
      icon="helpCircle"
      @click=${this.onWalletHelp.bind(this)}
    ></wui-icon-link>`}onNetworks(){this.isAllowedNetworkSwitch()&&(ot.sendEvent({type:"track",event:"CLICK_NETWORKS"}),ve.push("Networks"))}isAllowedNetworkSwitch(){const t=G.getAllRequestedCaipNetworks(),r=t?t.length>1:!1,n=t?.find(({id:i})=>i===this.network?.id);return r||!n}getPadding(){return this.heading?["l","2l","l","2l"]:["0","2l","0","2l"]}onViewChange(){const{history:t}=ve.state;let r=bu.VIEW_DIRECTION.Next;t.length<this.prevHistoryLength&&(r=bu.VIEW_DIRECTION.Prev),this.prevHistoryLength=t.length,this.viewDirection=r}async onHistoryChange(){const{history:t}=ve.state,r=this.shadowRoot?.querySelector("#dynamic");t.length>1&&!this.showBack&&r?(await r.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!0,r.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"})):t.length<=1&&this.showBack&&r&&(await r.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!1,r.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}onGoBack(){ve.goBack()}};Oo.styles=sze;Mc([Te()],Oo.prototype,"heading",void 0);Mc([Te()],Oo.prototype,"network",void 0);Mc([Te()],Oo.prototype,"networkImage",void 0);Mc([Te()],Oo.prototype,"showBack",void 0);Mc([Te()],Oo.prototype,"prevHistoryLength",void 0);Mc([Te()],Oo.prototype,"view",void 0);Mc([Te()],Oo.prototype,"viewDirection",void 0);Mc([Te()],Oo.prototype,"headerText",void 0);Oo=Mc([Be("w3m-header")],Oo);const aze=He`
  :host {
    display: flex;
    column-gap: var(--wui-spacing-s);
    align-items: center;
    padding: var(--wui-spacing-xs) var(--wui-spacing-m) var(--wui-spacing-xs) var(--wui-spacing-xs);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-gray-glass-005);
    box-sizing: border-box;
    background-color: var(--wui-color-bg-175);
    box-shadow:
      0px 14px 64px -4px rgba(0, 0, 0, 0.15),
      0px 8px 22px -6px rgba(0, 0, 0, 0.15);

    max-width: 300px;
  }

  :host wui-loading-spinner {
    margin-left: var(--wui-spacing-3xs);
  }
`;var df=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Ic=class extends $e{constructor(){super(...arguments),this.backgroundColor="accent-100",this.iconColor="accent-100",this.icon="checkmark",this.message="",this.loading=!1,this.iconType="default"}render(){return J`
      ${this.templateIcon()}
      <wui-text variant="paragraph-500" color="fg-100" data-testid="wui-snackbar-message"
        >${this.message}</wui-text
      >
    `}templateIcon(){return this.loading?J`<wui-loading-spinner size="md" color="accent-100"></wui-loading-spinner>`:this.iconType==="default"?J`<wui-icon size="xl" color=${this.iconColor} name=${this.icon}></wui-icon>`:J`<wui-icon-box
      size="sm"
      iconSize="xs"
      iconColor=${this.iconColor}
      backgroundColor=${this.backgroundColor}
      icon=${this.icon}
      background="opaque"
    ></wui-icon-box>`}};Ic.styles=[Tt,aze];df([ne()],Ic.prototype,"backgroundColor",void 0);df([ne()],Ic.prototype,"iconColor",void 0);df([ne()],Ic.prototype,"icon",void 0);df([ne()],Ic.prototype,"message",void 0);df([ne()],Ic.prototype,"loading",void 0);df([ne()],Ic.prototype,"iconType",void 0);Ic=df([Be("wui-snackbar")],Ic);const cze=He`
  :host {
    display: block;
    position: absolute;
    opacity: 0;
    pointer-events: none;
    top: 11px;
    left: 50%;
    width: max-content;
  }
`;var Sre=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};const uze={loading:void 0,success:{backgroundColor:"success-100",iconColor:"success-100",icon:"checkmark"},error:{backgroundColor:"error-100",iconColor:"error-100",icon:"close"}};let x3=class extends $e{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.open=Rr.state.open,this.unsubscribe.push(Rr.subscribeKey("open",t=>{this.open=t,this.onOpen()}))}disconnectedCallback(){clearTimeout(this.timeout),this.unsubscribe.forEach(t=>t())}render(){const{message:t,variant:r,svg:n}=Rr.state,i=uze[r],{icon:s,iconColor:o}=n??i??{};return J`
      <wui-snackbar
        message=${t}
        backgroundColor=${i?.backgroundColor}
        iconColor=${o}
        icon=${s}
        .loading=${r==="loading"}
      ></wui-snackbar>
    `}onOpen(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:"translateX(-50%) scale(0.85)"},{opacity:1,transform:"translateX(-50%) scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.timeout&&clearTimeout(this.timeout),Rr.state.autoClose&&(this.timeout=setTimeout(()=>Rr.hide(),2500))):this.animate([{opacity:1,transform:"translateX(-50%) scale(1)"},{opacity:0,transform:"translateX(-50%) scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"})}};x3.styles=cze;Sre([Te()],x3.prototype,"open",void 0);x3=Sre([Be("w3m-snackbar")],x3);const lze=He`
  :host {
    pointer-events: none;
  }

  :host > wui-flex {
    display: var(--w3m-tooltip-display);
    opacity: var(--w3m-tooltip-opacity);
    padding: 9px var(--wui-spacing-s) 10px var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xxs);
    color: var(--wui-color-bg-100);
    position: fixed;
    top: var(--w3m-tooltip-top);
    left: var(--w3m-tooltip-left);
    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));
    max-width: calc(var(--w3m-modal-width) - var(--wui-spacing-xl));
    transition: opacity 0.2s var(--wui-ease-out-power-2);
    will-change: opacity;
  }

  :host([data-variant='shade']) > wui-flex {
    background-color: var(--wui-color-bg-150);
    border: 1px solid var(--wui-color-gray-glass-005);
  }

  :host([data-variant='shade']) > wui-flex > wui-text {
    color: var(--wui-color-fg-150);
  }

  :host([data-variant='fill']) > wui-flex {
    background-color: var(--wui-color-fg-100);
    border: none;
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
    color: var(--wui-color-bg-150);
  }

  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }
`;var Db=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Md=class extends $e{constructor(){super(),this.unsubscribe=[],this.open=vh.state.open,this.message=vh.state.message,this.triggerRect=vh.state.triggerRect,this.variant=vh.state.variant,this.unsubscribe.push(vh.subscribe(t=>{this.open=t.open,this.message=t.message,this.triggerRect=t.triggerRect,this.variant=t.variant}))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){this.dataset.variant=this.variant;const t=this.triggerRect.top,r=this.triggerRect.left;return this.style.cssText=`
    --w3m-tooltip-top: ${t}px;
    --w3m-tooltip-left: ${r}px;
    --w3m-tooltip-parent-width: ${this.triggerRect.width/2}px;
    --w3m-tooltip-display: ${this.open?"flex":"none"};
    --w3m-tooltip-opacity: ${this.open?1:0};
    `,J`<wui-flex>
      <wui-icon data-placement="top" color="fg-100" size="inherit" name="cursor"></wui-icon>
      <wui-text color="inherit" variant="small-500">${this.message}</wui-text>
    </wui-flex>`}};Md.styles=[lze];Db([Te()],Md.prototype,"open",void 0);Db([Te()],Md.prototype,"message",void 0);Db([Te()],Md.prototype,"triggerRect",void 0);Db([Te()],Md.prototype,"variant",void 0);Md=Db([Be("w3m-tooltip"),Be("w3m-tooltip")],Md);const dze=He`
  :host {
    --prev-height: 0px;
    --new-height: 0px;
    display: block;
  }

  div.w3m-router-container {
    transform: translateY(0);
    opacity: 1;
  }

  div.w3m-router-container[view-direction='prev'] {
    animation:
      slide-left-out 150ms forwards ease,
      slide-left-in 150ms forwards ease;
    animation-delay: 0ms, 200ms;
  }

  div.w3m-router-container[view-direction='next'] {
    animation:
      slide-right-out 150ms forwards ease,
      slide-right-in 150ms forwards ease;
    animation-delay: 0ms, 200ms;
  }

  @keyframes slide-left-out {
    from {
      transform: translateX(0px);
      opacity: 1;
    }
    to {
      transform: translateX(10px);
      opacity: 0;
    }
  }

  @keyframes slide-left-in {
    from {
      transform: translateX(-10px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes slide-right-out {
    from {
      transform: translateX(0px);
      opacity: 1;
    }
    to {
      transform: translateX(-10px);
      opacity: 0;
    }
  }

  @keyframes slide-right-in {
    from {
      transform: translateX(10px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
`;var cT=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let s1=class extends $e{constructor(){super(),this.resizeObserver=void 0,this.prevHeight="0px",this.prevHistoryLength=1,this.unsubscribe=[],this.view=ve.state.view,this.viewDirection="",this.unsubscribe.push(ve.subscribeKey("view",t=>this.onViewChange(t)))}firstUpdated(){this.resizeObserver=new ResizeObserver(([t])=>{const r=`${t?.contentRect.height}px`;this.prevHeight!=="0px"&&(this.style.setProperty("--prev-height",this.prevHeight),this.style.setProperty("--new-height",r),this.style.animation="w3m-view-height 150ms forwards ease",this.style.height="auto"),setTimeout(()=>{this.prevHeight=r,this.style.animation="unset"},bu.ANIMATION_DURATIONS.ModalHeight)}),this.resizeObserver?.observe(this.getWrapper())}disconnectedCallback(){this.resizeObserver?.unobserve(this.getWrapper()),this.unsubscribe.forEach(t=>t())}render(){return J`<div class="w3m-router-container" view-direction="${this.viewDirection}">
      ${this.viewTemplate()}
    </div>`}viewTemplate(){switch(this.view){case"AccountSettings":return J`<w3m-account-settings-view></w3m-account-settings-view>`;case"Account":return J`<w3m-account-view></w3m-account-view>`;case"AllWallets":return J`<w3m-all-wallets-view></w3m-all-wallets-view>`;case"ApproveTransaction":return J`<w3m-approve-transaction-view></w3m-approve-transaction-view>`;case"BuyInProgress":return J`<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;case"ChooseAccountName":return J`<w3m-choose-account-name-view></w3m-choose-account-name-view>`;case"Connect":return J`<w3m-connect-view></w3m-connect-view>`;case"Create":return J`<w3m-connect-view walletGuide="explore"></w3m-connect-view>`;case"ConnectingWalletConnect":return J`<w3m-connecting-wc-view></w3m-connecting-wc-view>`;case"ConnectingWalletConnectBasic":return J`<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>`;case"ConnectingExternal":return J`<w3m-connecting-external-view></w3m-connecting-external-view>`;case"ConnectingSiwe":return J`<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;case"ConnectWallets":return J`<w3m-connect-wallets-view></w3m-connect-wallets-view>`;case"ConnectSocials":return J`<w3m-connect-socials-view></w3m-connect-socials-view>`;case"ConnectingSocial":return J`<w3m-connecting-social-view></w3m-connecting-social-view>`;case"Downloads":return J`<w3m-downloads-view></w3m-downloads-view>`;case"EmailLogin":return J`<w3m-email-login-view></w3m-email-login-view>`;case"EmailVerifyOtp":return J`<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;case"EmailVerifyDevice":return J`<w3m-email-verify-device-view></w3m-email-verify-device-view>`;case"GetWallet":return J`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"Networks":return J`<w3m-networks-view></w3m-networks-view>`;case"SwitchNetwork":return J`<w3m-network-switch-view></w3m-network-switch-view>`;case"Profile":return J`<w3m-profile-view></w3m-profile-view>`;case"SwitchAddress":return J`<w3m-switch-address-view></w3m-switch-address-view>`;case"Transactions":return J`<w3m-transactions-view></w3m-transactions-view>`;case"OnRampProviders":return J`<w3m-onramp-providers-view></w3m-onramp-providers-view>`;case"OnRampActivity":return J`<w3m-onramp-activity-view></w3m-onramp-activity-view>`;case"OnRampTokenSelect":return J`<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;case"OnRampFiatSelect":return J`<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;case"UpgradeEmailWallet":return J`<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;case"UpdateEmailWallet":return J`<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;case"UpdateEmailPrimaryOtp":return J`<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;case"UpdateEmailSecondaryOtp":return J`<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;case"UnsupportedChain":return J`<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;case"Swap":return J`<w3m-swap-view></w3m-swap-view>`;case"SwapSelectToken":return J`<w3m-swap-select-token-view></w3m-swap-select-token-view>`;case"SwapPreview":return J`<w3m-swap-preview-view></w3m-swap-preview-view>`;case"WalletSend":return J`<w3m-wallet-send-view></w3m-wallet-send-view>`;case"WalletSendSelectToken":return J`<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>`;case"WalletSendPreview":return J`<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>`;case"WhatIsABuy":return J`<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;case"WalletReceive":return J`<w3m-wallet-receive-view></w3m-wallet-receive-view>`;case"WalletCompatibleNetworks":return J`<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>`;case"WhatIsAWallet":return J`<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;case"ConnectingMultiChain":return J`<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>`;case"WhatIsANetwork":return J`<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;case"ConnectingFarcaster":return J`<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>`;case"SwitchActiveChain":return J`<w3m-switch-active-chain-view></w3m-switch-active-chain-view>`;case"RegisterAccountName":return J`<w3m-register-account-name-view></w3m-register-account-name-view>`;case"RegisterAccountNameSuccess":return J`<w3m-register-account-name-success-view></w3m-register-account-name-success-view>`;case"SmartSessionCreated":return J`<w3m-smart-session-created-view></w3m-smart-session-created-view>`;case"SmartSessionList":return J`<w3m-smart-session-list-view></w3m-smart-session-list-view>`;case"SIWXSignMessage":return J`<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>`;case"Pay":return J`<w3m-pay-view></w3m-pay-view>`;case"PayLoading":return J`<w3m-pay-loading-view></w3m-pay-loading-view>`;default:return J`<w3m-connect-view></w3m-connect-view>`}}onViewChange(t){vh.hide();let r=bu.VIEW_DIRECTION.Next;const{history:n}=ve.state;n.length<this.prevHistoryLength&&(r=bu.VIEW_DIRECTION.Prev),this.prevHistoryLength=n.length,this.viewDirection=r,setTimeout(()=>{this.view=t},bu.ANIMATION_DURATIONS.ViewTransition)}getWrapper(){return this.shadowRoot?.querySelector("div")}};s1.styles=dze;cT([Te()],s1.prototype,"view",void 0);cT([Te()],s1.prototype,"viewDirection",void 0);s1=cT([Be("w3m-router")],s1);const fze=He`
  :host {
    z-index: var(--w3m-z-index);
    display: block;
    backface-visibility: hidden;
    will-change: opacity;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    opacity: 0;
    background-color: var(--wui-cover);
    transition: opacity 0.2s var(--wui-ease-out-power-2);
    will-change: opacity;
  }

  :host(.open) {
    opacity: 1;
  }

  :host(.appkit-modal) {
    position: relative;
    pointer-events: unset;
    background: none;
    width: 100%;
    opacity: 1;
  }

  wui-card {
    max-width: var(--w3m-modal-width);
    width: 100%;
    position: relative;
    animation: zoom-in 0.2s var(--wui-ease-out-power-2);
    animation-fill-mode: backwards;
    outline: none;
    transition:
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius, background-color;
  }

  :host(.appkit-modal) wui-card {
    max-width: 400px;
  }

  wui-card[shake='true'] {
    animation:
      zoom-in 0.2s var(--wui-ease-out-power-2),
      w3m-shake 0.5s var(--wui-ease-out-power-2);
  }

  wui-flex {
    overflow-x: hidden;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  @media (max-height: 700px) and (min-width: 431px) {
    wui-flex {
      align-items: flex-start;
    }

    wui-card {
      margin: var(--wui-spacing-xxl) 0px;
    }
  }

  @media (max-width: 430px) {
    wui-flex {
      align-items: flex-end;
    }

    wui-card {
      max-width: 100%;
      border-bottom-left-radius: var(--local-border-bottom-mobile-radius);
      border-bottom-right-radius: var(--local-border-bottom-mobile-radius);
      border-bottom: none;
      animation: slide-in 0.2s var(--wui-ease-out-power-2);
    }

    wui-card[shake='true'] {
      animation:
        slide-in 0.2s var(--wui-ease-out-power-2),
        w3m-shake 0.5s var(--wui-ease-out-power-2);
    }
  }

  @keyframes zoom-in {
    0% {
      transform: scale(0.95) translateY(0);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes slide-in {
    0% {
      transform: scale(1) translateY(50px);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes w3m-shake {
    0% {
      transform: scale(1) rotate(0deg);
    }
    20% {
      transform: scale(1) rotate(-1deg);
    }
    40% {
      transform: scale(1) rotate(1.5deg);
    }
    60% {
      transform: scale(1) rotate(-1.5deg);
    }
    80% {
      transform: scale(1) rotate(1deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
    }
  }

  @keyframes w3m-view-height {
    from {
      height: var(--prev-height);
    }
    to {
      height: var(--new-height);
    }
  }
`;var Yu=function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};const eW="scroll-lock";class xa extends $e{constructor(){super(),this.unsubscribe=[],this.abortController=void 0,this.hasPrefetched=!1,this.enableEmbedded=de.state.enableEmbedded,this.open=Bt.state.open,this.caipAddress=G.state.activeCaipAddress,this.caipNetwork=G.state.activeCaipNetwork,this.shake=Bt.state.shake,this.filterByNamespace=ye.state.filterByNamespace,this.initializeTheming(),Ee.prefetchAnalyticsConfig(),this.unsubscribe.push(Bt.subscribeKey("open",t=>t?this.onOpen():this.onClose()),Bt.subscribeKey("shake",t=>this.shake=t),G.subscribeKey("activeCaipNetwork",t=>this.onNewNetwork(t)),G.subscribeKey("activeCaipAddress",t=>this.onNewAddress(t)),de.subscribeKey("enableEmbedded",t=>this.enableEmbedded=t),ye.subscribeKey("filterByNamespace",t=>{this.filterByNamespace!==t&&!G.getAccountData(t)?.caipAddress&&(Ee.fetchRecommendedWallets(),this.filterByNamespace=t)}))}firstUpdated(){if(this.caipAddress){if(this.enableEmbedded){Bt.close(),this.prefetch();return}this.onNewAddress(this.caipAddress)}this.open&&this.onOpen(),this.enableEmbedded&&this.prefetch()}disconnectedCallback(){this.unsubscribe.forEach(t=>t()),this.onRemoveKeyboardListener()}render(){return this.style.cssText=`
      --local-border-bottom-mobile-radius: ${this.enableEmbedded?"clamp(0px, var(--wui-border-radius-l), 44px)":"0px"};
    `,this.enableEmbedded?J`${this.contentTemplate()}
        <w3m-tooltip></w3m-tooltip> `:this.open?J`
          <wui-flex @click=${this.onOverlayClick.bind(this)} data-testid="w3m-modal-overlay">
            ${this.contentTemplate()}
          </wui-flex>
          <w3m-tooltip></w3m-tooltip>
        `:null}contentTemplate(){return J` <wui-card
      shake="${this.shake}"
      data-embedded="${Fe(this.enableEmbedded)}"
      role="alertdialog"
      aria-modal="true"
      tabindex="0"
      data-testid="w3m-modal-card"
    >
      <w3m-header></w3m-header>
      <w3m-router></w3m-router>
      <w3m-snackbar></w3m-snackbar>
      <w3m-alertbar></w3m-alertbar>
    </wui-card>`}async onOverlayClick(t){t.target===t.currentTarget&&await this.handleClose()}async handleClose(){await bee.safeClose()}initializeTheming(){const{themeVariables:t,themeMode:r}=Bn.state,n=hn.getColorTheme(r);oUe(t,n)}onClose(){this.open=!1,this.classList.remove("open"),this.onScrollUnlock(),Rr.hide(),this.onRemoveKeyboardListener()}onOpen(){this.open=!0,this.classList.add("open"),this.onScrollLock(),this.onAddKeyboardListener()}onScrollLock(){const t=document.createElement("style");t.dataset.w3m=eW,t.textContent=`
      body {
        touch-action: none;
        overflow: hidden;
        overscroll-behavior: contain;
      }
      w3m-modal {
        pointer-events: auto;
      }
    `,document.head.appendChild(t)}onScrollUnlock(){const t=document.head.querySelector(`style[data-w3m="${eW}"]`);t&&t.remove()}onAddKeyboardListener(){this.abortController=new AbortController;const t=this.shadowRoot?.querySelector("wui-card");t?.focus(),window.addEventListener("keydown",r=>{if(r.key==="Escape")this.handleClose();else if(r.key==="Tab"){const{tagName:n}=r.target;n&&!n.includes("W3M-")&&!n.includes("WUI-")&&t?.focus()}},this.abortController)}onRemoveKeyboardListener(){this.abortController?.abort(),this.abortController=void 0}async onNewAddress(t){const r=G.state.isSwitchingNamespace,n=we.getPlainAddress(t);!n&&!r?Bt.close():r&&n&&ve.goBack(),await rd.initializeIfEnabled(),this.caipAddress=t,G.setIsSwitchingNamespace(!1)}onNewNetwork(t){const r=this.caipNetwork,n=r?.caipNetworkId?.toString(),i=r?.chainNamespace,s=t?.caipNetworkId?.toString(),o=t?.chainNamespace,a=n!==s,u=a&&!(i!==o),l=r?.name===Le.UNSUPPORTED_NETWORK_NAME,f=ve.state.view==="ConnectingExternal",d=!G.getAccountData(t?.chainNamespace)?.caipAddress,h=ve.state.view==="UnsupportedChain",g=Bt.state.open;let p=!1;g&&!f&&(d?a&&(p=!0):(h||u&&!l)&&(p=!0)),p&&ve.state.view!=="SIWXSignMessage"&&ve.goBack(),this.caipNetwork=t}prefetch(){this.hasPrefetched||(Ee.prefetch(),Ee.fetchWalletsByPage({page:1}),this.hasPrefetched=!0)}}xa.styles=fze;Yu([ne({type:Boolean})],xa.prototype,"enableEmbedded",void 0);Yu([Te()],xa.prototype,"open",void 0);Yu([Te()],xa.prototype,"caipAddress",void 0);Yu([Te()],xa.prototype,"caipNetwork",void 0);Yu([Te()],xa.prototype,"shake",void 0);Yu([Te()],xa.prototype,"filterByNamespace",void 0);let xP=class extends xa{};xP=Yu([Be("w3m-modal")],xP);let IP=class extends xa{};IP=Yu([Be("appkit-modal")],IP);const hze=Object.freeze(Object.defineProperty({__proto__:null,get AppKitModal(){return IP},get W3mModal(){return xP},W3mModalBase:xa},Symbol.toStringTag,{value:"Module"})),pze=xe`<svg
  width="14"
  height="14"
  viewBox="0 0 14 14"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M7.0023 0.875C7.48571 0.875 7.8776 1.26675 7.8776 1.75V6.125H12.2541C12.7375 6.125 13.1294 6.51675 13.1294 7C13.1294 7.48325 12.7375 7.875 12.2541 7.875H7.8776V12.25C7.8776 12.7332 7.48571 13.125 7.0023 13.125C6.51889 13.125 6.12701 12.7332 6.12701 12.25V7.875H1.75054C1.26713 7.875 0.875244 7.48325 0.875244 7C0.875244 6.51675 1.26713 6.125 1.75054 6.125H6.12701V1.75C6.12701 1.26675 6.51889 0.875 7.0023 0.875Z"
    fill="#667dff"
  /></svg
>`,gze=Object.freeze(Object.defineProperty({__proto__:null,addSvg:pze},Symbol.toStringTag,{value:"Module"})),mze=xe`<svg fill="none" viewBox="0 0 24 24">
  <path
    style="fill: var(--wui-color-accent-100);"
    d="M10.2 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM10.2 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0Z"
  />
</svg>`,bze=Object.freeze(Object.defineProperty({__proto__:null,allWalletsSvg:mze},Symbol.toStringTag,{value:"Module"})),yze=xe`<svg
  fill="none"
  viewBox="0 0 21 20"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10.5 2.42908C6.31875 2.42908 2.92859 5.81989 2.92859 10.0034C2.92859 14.1869 6.31875 17.5777 10.5 17.5777C14.6813 17.5777 18.0714 14.1869 18.0714 10.0034C18.0714 5.81989 14.6813 2.42908 10.5 2.42908ZM0.928589 10.0034C0.928589 4.71596 5.21355 0.429077 10.5 0.429077C15.7865 0.429077 20.0714 4.71596 20.0714 10.0034C20.0714 15.2908 15.7865 19.5777 10.5 19.5777C5.21355 19.5777 0.928589 15.2908 0.928589 10.0034ZM10.5 5.75003C11.0523 5.75003 11.5 6.19774 11.5 6.75003L11.5 10.8343L12.7929 9.54137C13.1834 9.15085 13.8166 9.15085 14.2071 9.54137C14.5976 9.9319 14.5976 10.5651 14.2071 10.9556L11.2071 13.9556C10.8166 14.3461 10.1834 14.3461 9.79291 13.9556L6.79291 10.9556C6.40239 10.5651 6.40239 9.9319 6.79291 9.54137C7.18343 9.15085 7.8166 9.15085 8.20712 9.54137L9.50002 10.8343L9.50002 6.75003C9.50002 6.19774 9.94773 5.75003 10.5 5.75003Z"
    clip-rule="evenodd"
  /></svg
>`,wze=Object.freeze(Object.defineProperty({__proto__:null,arrowBottomCircleSvg:yze},Symbol.toStringTag,{value:"Module"})),vze=xe`
<svg width="36" height="36">
  <path
    d="M28.724 0H7.271A7.269 7.269 0 0 0 0 7.272v21.46A7.268 7.268 0 0 0 7.271 36H28.73A7.272 7.272 0 0 0 36 28.728V7.272A7.275 7.275 0 0 0 28.724 0Z"
    fill="url(#a)"
  />
  <path
    d="m17.845 8.271.729-1.26a1.64 1.64 0 1 1 2.843 1.638l-7.023 12.159h5.08c1.646 0 2.569 1.935 1.853 3.276H6.434a1.632 1.632 0 0 1-1.638-1.638c0-.909.73-1.638 1.638-1.638h4.176l5.345-9.265-1.67-2.898a1.642 1.642 0 0 1 2.844-1.638l.716 1.264Zm-6.317 17.5-1.575 2.732a1.64 1.64 0 1 1-2.844-1.638l1.17-2.025c1.323-.41 2.398-.095 3.249.931Zm13.56-4.954h4.262c.909 0 1.638.729 1.638 1.638 0 .909-.73 1.638-1.638 1.638h-2.367l1.597 2.772c.45.788.185 1.782-.602 2.241a1.642 1.642 0 0 1-2.241-.603c-2.69-4.666-4.711-8.159-6.052-10.485-1.372-2.367-.391-4.743.576-5.549 1.075 1.846 2.682 4.631 4.828 8.348Z"
    fill="#fff"
  />
  <defs>
    <linearGradient id="a" x1="18" y1="0" x2="18" y2="36" gradientUnits="userSpaceOnUse">
      <stop stop-color="#18BFFB" />
      <stop offset="1" stop-color="#2072F3" />
    </linearGradient>
  </defs>
</svg>`,Eze=Object.freeze(Object.defineProperty({__proto__:null,appStoreSvg:vze},Symbol.toStringTag,{value:"Module"})),_ze=xe`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#000" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M28.77 23.3c-.69 1.99-2.75 5.52-4.87 5.56-1.4.03-1.86-.84-3.46-.84-1.61 0-2.12.81-3.45.86-2.25.1-5.72-5.1-5.72-9.62 0-4.15 2.9-6.2 5.42-6.25 1.36-.02 2.64.92 3.47.92.83 0 2.38-1.13 4.02-.97.68.03 2.6.28 3.84 2.08-3.27 2.14-2.76 6.61.75 8.25ZM24.2 7.88c-2.47.1-4.49 2.69-4.2 4.84 2.28.17 4.47-2.39 4.2-4.84Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,Cze=Object.freeze(Object.defineProperty({__proto__:null,appleSvg:_ze},Symbol.toStringTag,{value:"Module"})),Aze=xe`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 1.99a1 1 0 0 1 1 1v7.58l2.46-2.46a1 1 0 0 1 1.41 1.42L7.7 13.69a1 1 0 0 1-1.41 0L2.12 9.53A1 1 0 0 1 3.54 8.1L6 10.57V3a1 1 0 0 1 1-1Z"
    clip-rule="evenodd"
  />
</svg>`,xze=Object.freeze(Object.defineProperty({__proto__:null,arrowBottomSvg:Aze},Symbol.toStringTag,{value:"Module"})),Ize=xe`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M13 7.99a1 1 0 0 1-1 1H4.4l2.46 2.46a1 1 0 1 1-1.41 1.41L1.29 8.7a1 1 0 0 1 0-1.41L5.46 3.1a1 1 0 0 1 1.41 1.42L4.41 6.99H12a1 1 0 0 1 1 1Z"
    clip-rule="evenodd"
  />
</svg>`,Pze=Object.freeze(Object.defineProperty({__proto__:null,arrowLeftSvg:Ize},Symbol.toStringTag,{value:"Module"})),Sze=xe`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M1 7.99a1 1 0 0 1 1-1h7.58L7.12 4.53A1 1 0 1 1 8.54 3.1l4.16 4.17a1 1 0 0 1 0 1.41l-4.16 4.17a1 1 0 1 1-1.42-1.41l2.46-2.46H2a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,Tze=Object.freeze(Object.defineProperty({__proto__:null,arrowRightSvg:Sze},Symbol.toStringTag,{value:"Module"})),Oze=xe`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 13.99a1 1 0 0 1-1-1V5.4L3.54 7.86a1 1 0 0 1-1.42-1.41L6.3 2.28a1 1 0 0 1 1.41 0l4.17 4.17a1 1 0 1 1-1.41 1.41L8 5.4v7.59a1 1 0 0 1-1 1Z"
    clip-rule="evenodd"
  />
</svg>`,jze=Object.freeze(Object.defineProperty({__proto__:null,arrowTopSvg:Oze},Symbol.toStringTag,{value:"Module"})),Bze=xe`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="12"
  height="13"
  viewBox="0 0 12 13"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M5.61391 1.57124C5.85142 1.42873 6.14813 1.42873 6.38564 1.57124L11.0793 4.38749C11.9179 4.89067 11.5612 6.17864 10.5832 6.17864H9.96398V10.0358H10.2854C10.6996 10.0358 11.0354 10.3716 11.0354 10.7858C11.0354 11.2 10.6996 11.5358 10.2854 11.5358H1.71416C1.29995 11.5358 0.964172 11.2 0.964172 10.7858C0.964172 10.3716 1.29995 10.0358 1.71416 10.0358H2.03558L2.03558 6.17864H1.41637C0.438389 6.17864 0.0816547 4.89066 0.920263 4.38749L5.61391 1.57124ZM3.53554 6.17864V10.0358H5.24979V6.17864H3.53554ZM6.74976 6.17864V10.0358H8.46401V6.17864H6.74976ZM8.64913 4.67864H3.35043L5.99978 3.089L8.64913 4.67864Z"
    fill="currentColor"
  /></svg
>`,Rze=Object.freeze(Object.defineProperty({__proto__:null,bankSvg:Bze},Symbol.toStringTag,{value:"Module"})),kze=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4 6.4a1 1 0 0 1-.46.89 6.98 6.98 0 0 0 .38 6.18A7 7 0 0 0 16.46 7.3a1 1 0 0 1-.47-.92 7 7 0 0 0-12 .03Zm-2.02-.5a9 9 0 1 1 16.03 8.2A9 9 0 0 1 1.98 5.9Z"
    clip-rule="evenodd"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.03 8.63c-1.46-.3-2.72-.75-3.6-1.35l-.02-.01-.14-.11a1 1 0 0 1 1.2-1.6l.1.08c.6.4 1.52.74 2.69 1 .16-.99.39-1.88.67-2.65.3-.79.68-1.5 1.15-2.02A2.58 2.58 0 0 1 9.99 1c.8 0 1.45.44 1.92.97.47.52.84 1.23 1.14 2.02.29.77.52 1.66.68 2.64a8 8 0 0 0 2.7-1l.26-.18h.48a1 1 0 0 1 .12 2c-.86.51-2.01.91-3.34 1.18a22.24 22.24 0 0 1-.03 3.19c1.45.29 2.7.73 3.58 1.31a1 1 0 0 1-1.1 1.68c-.6-.4-1.56-.76-2.75-1-.15.8-.36 1.55-.6 2.2-.3.79-.67 1.5-1.14 2.02-.47.53-1.12.97-1.92.97-.8 0-1.45-.44-1.91-.97a6.51 6.51 0 0 1-1.15-2.02c-.24-.65-.44-1.4-.6-2.2-1.18.24-2.13.6-2.73.99a1 1 0 1 1-1.1-1.67c.88-.58 2.12-1.03 3.57-1.31a22.03 22.03 0 0 1-.04-3.2Zm2.2-1.7c.15-.86.34-1.61.58-2.24.24-.65.51-1.12.76-1.4.25-.28.4-.29.42-.29.03 0 .17.01.42.3.25.27.52.74.77 1.4.23.62.43 1.37.57 2.22a19.96 19.96 0 0 1-3.52 0Zm-.18 4.6a20.1 20.1 0 0 1-.03-2.62 21.95 21.95 0 0 0 3.94 0 20.4 20.4 0 0 1-.03 2.63 21.97 21.97 0 0 0-3.88 0Zm.27 2c.13.66.3 1.26.49 1.78.24.65.51 1.12.76 1.4.25.28.4.29.42.29.03 0 .17-.01.42-.3.25-.27.52-.74.77-1.4.19-.5.36-1.1.49-1.78a20.03 20.03 0 0 0-3.35 0Z"
    clip-rule="evenodd"
  />
</svg>`,Nze=Object.freeze(Object.defineProperty({__proto__:null,browserSvg:kze},Symbol.toStringTag,{value:"Module"})),Dze=xe`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="12"
  height="13"
  viewBox="0 0 12 13"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M4.16072 2C4.17367 2 4.18665 2 4.19968 2L7.83857 2C8.36772 1.99998 8.82398 1.99996 9.19518 2.04018C9.5895 2.0829 9.97577 2.17811 10.3221 2.42971C10.5131 2.56849 10.6811 2.73647 10.8198 2.92749C11.0714 3.27379 11.1666 3.66007 11.2094 4.0544C11.2496 4.42561 11.2496 4.88188 11.2495 5.41105V7.58896C11.2496 8.11812 11.2496 8.57439 11.2094 8.94561C11.1666 9.33994 11.0714 9.72621 10.8198 10.0725C10.6811 10.2635 10.5131 10.4315 10.3221 10.5703C9.97577 10.8219 9.5895 10.9171 9.19518 10.9598C8.82398 11 8.36772 11 7.83856 11H4.16073C3.63157 11 3.17531 11 2.80411 10.9598C2.40979 10.9171 2.02352 10.8219 1.67722 10.5703C1.48621 10.4315 1.31824 10.2635 1.17946 10.0725C0.927858 9.72621 0.832652 9.33994 0.78993 8.94561C0.749713 8.5744 0.749733 8.11813 0.749757 7.58896L0.749758 5.45C0.749758 5.43697 0.749758 5.42399 0.749757 5.41104C0.749733 4.88188 0.749713 4.42561 0.78993 4.0544C0.832652 3.66007 0.927858 3.27379 1.17946 2.92749C1.31824 2.73647 1.48621 2.56849 1.67722 2.42971C2.02352 2.17811 2.40979 2.0829 2.80411 2.04018C3.17531 1.99996 3.63157 1.99998 4.16072 2ZM2.96567 3.53145C2.69897 3.56034 2.60687 3.60837 2.55888 3.64324C2.49521 3.6895 2.43922 3.74549 2.39296 3.80916C2.35809 3.85715 2.31007 3.94926 2.28117 4.21597C2.26629 4.35335 2.25844 4.51311 2.25431 4.70832H9.74498C9.74085 4.51311 9.733 4.35335 9.71812 4.21597C9.68922 3.94926 9.6412 3.85715 9.60633 3.80916C9.56007 3.74549 9.50408 3.6895 9.44041 3.64324C9.39242 3.60837 9.30031 3.56034 9.03362 3.53145C8.75288 3.50103 8.37876 3.5 7.79961 3.5H4.19968C3.62053 3.5 3.24641 3.50103 2.96567 3.53145ZM9.74956 6.20832H2.24973V7.55C2.24973 8.12917 2.25076 8.5033 2.28117 8.78404C2.31007 9.05074 2.35809 9.14285 2.39296 9.19084C2.43922 9.25451 2.49521 9.31051 2.55888 9.35677C2.60687 9.39163 2.69897 9.43966 2.96567 9.46856C3.24641 9.49897 3.62053 9.5 4.19968 9.5H7.79961C8.37876 9.5 8.75288 9.49897 9.03362 9.46856C9.30032 9.43966 9.39242 9.39163 9.44041 9.35677C9.50408 9.31051 9.56007 9.25451 9.60633 9.19084C9.6412 9.14285 9.68922 9.05075 9.71812 8.78404C9.74854 8.5033 9.74956 8.12917 9.74956 7.55V6.20832ZM6.74963 8C6.74963 7.58579 7.08541 7.25 7.49961 7.25H8.2496C8.6638 7.25 8.99958 7.58579 8.99958 8C8.99958 8.41422 8.6638 8.75 8.2496 8.75H7.49961C7.08541 8.75 6.74963 8.41422 6.74963 8Z"
    fill="currentColor"
  /></svg
>`,$ze=Object.freeze(Object.defineProperty({__proto__:null,cardSvg:Dze},Symbol.toStringTag,{value:"Module"})),Mze=xe`<svg
  width="28"
  height="28"
  viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M25.5297 4.92733C26.1221 5.4242 26.1996 6.30724 25.7027 6.89966L12.2836 22.8997C12.0316 23.2001 11.6652 23.3811 11.2735 23.3986C10.8817 23.4161 10.5006 23.2686 10.2228 22.9919L2.38218 15.1815C1.83439 14.6358 1.83268 13.7494 2.37835 13.2016C2.92403 12.6538 3.81046 12.6521 4.35825 13.1978L11.1183 19.9317L23.5573 5.10036C24.0542 4.50794 24.9372 4.43047 25.5297 4.92733Z"
    fill="currentColor"/>
</svg>
`,Lze=Object.freeze(Object.defineProperty({__proto__:null,checkmarkSvg:Mze},Symbol.toStringTag,{value:"Module"})),Uze=xe`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M12.9576 2.23383C13.3807 2.58873 13.4361 3.21947 13.0812 3.64263L6.37159 11.6426C6.19161 11.8572 5.92989 11.9865 5.65009 11.999C5.3703 12.0115 5.09808 11.9062 4.89965 11.7085L0.979321 7.80331C0.588042 7.41354 0.586817 6.78038 0.976585 6.3891C1.36635 5.99782 1.99952 5.99659 2.3908 6.38636L5.53928 9.52268L11.5488 2.35742C11.9037 1.93426 12.5344 1.87893 12.9576 2.23383Z"
    clip-rule="evenodd"
  />
</svg>`,qze=Object.freeze(Object.defineProperty({__proto__:null,checkmarkBoldSvg:Uze},Symbol.toStringTag,{value:"Module"})),zze=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M1.46 4.96a1 1 0 0 1 1.41 0L8 10.09l5.13-5.13a1 1 0 1 1 1.41 1.41l-5.83 5.84a1 1 0 0 1-1.42 0L1.46 6.37a1 1 0 0 1 0-1.41Z"
    clip-rule="evenodd"
  />
</svg>`,Fze=Object.freeze(Object.defineProperty({__proto__:null,chevronBottomSvg:zze},Symbol.toStringTag,{value:"Module"})),Hze=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M11.04 1.46a1 1 0 0 1 0 1.41L5.91 8l5.13 5.13a1 1 0 1 1-1.41 1.41L3.79 8.71a1 1 0 0 1 0-1.42l5.84-5.83a1 1 0 0 1 1.41 0Z"
    clip-rule="evenodd"
  />
</svg>`,Wze=Object.freeze(Object.defineProperty({__proto__:null,chevronLeftSvg:Hze},Symbol.toStringTag,{value:"Module"})),Vze=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.96 14.54a1 1 0 0 1 0-1.41L10.09 8 4.96 2.87a1 1 0 0 1 1.41-1.41l5.84 5.83a1 1 0 0 1 0 1.42l-5.84 5.83a1 1 0 0 1-1.41 0Z"
    clip-rule="evenodd"
  />
</svg>`,Gze=Object.freeze(Object.defineProperty({__proto__:null,chevronRightSvg:Vze},Symbol.toStringTag,{value:"Module"})),Kze=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M14.54 11.04a1 1 0 0 1-1.41 0L8 5.92l-5.13 5.12a1 1 0 1 1-1.41-1.41l5.83-5.84a1 1 0 0 1 1.42 0l5.83 5.84a1 1 0 0 1 0 1.41Z"
    clip-rule="evenodd"
  />
</svg>`,Zze=Object.freeze(Object.defineProperty({__proto__:null,chevronTopSvg:Kze},Symbol.toStringTag,{value:"Module"})),Yze=xe`<svg width="36" height="36" fill="none">
  <path
    fill="#fff"
    fill-opacity=".05"
    d="M0 14.94c0-5.55 0-8.326 1.182-10.4a9 9 0 0 1 3.359-3.358C6.614 0 9.389 0 14.94 0h6.12c5.55 0 8.326 0 10.4 1.182a9 9 0 0 1 3.358 3.359C36 6.614 36 9.389 36 14.94v6.12c0 5.55 0 8.326-1.182 10.4a9 9 0 0 1-3.359 3.358C29.386 36 26.611 36 21.06 36h-6.12c-5.55 0-8.326 0-10.4-1.182a9 9 0 0 1-3.358-3.359C0 29.386 0 26.611 0 21.06v-6.12Z"
  />
  <path
    stroke="#fff"
    stroke-opacity=".05"
    d="M14.94.5h6.12c2.785 0 4.84 0 6.46.146 1.612.144 2.743.43 3.691.97a8.5 8.5 0 0 1 3.172 3.173c.541.948.826 2.08.971 3.692.145 1.62.146 3.675.146 6.459v6.12c0 2.785 0 4.84-.146 6.46-.145 1.612-.43 2.743-.97 3.691a8.5 8.5 0 0 1-3.173 3.172c-.948.541-2.08.826-3.692.971-1.62.145-3.674.146-6.459.146h-6.12c-2.784 0-4.84 0-6.46-.146-1.612-.145-2.743-.43-3.691-.97a8.5 8.5 0 0 1-3.172-3.173c-.541-.948-.827-2.08-.971-3.692C.5 25.9.5 23.845.5 21.06v-6.12c0-2.784 0-4.84.146-6.46.144-1.612.43-2.743.97-3.691A8.5 8.5 0 0 1 4.79 1.617C5.737 1.076 6.869.79 8.48.646 10.1.5 12.156.5 14.94.5Z"
  />
  <path
    fill="url(#a)"
    d="M17.998 10.8h12.469a14.397 14.397 0 0 0-24.938.001l6.234 10.798.006-.001a7.19 7.19 0 0 1 6.23-10.799Z"
  />
  <path
    fill="url(#b)"
    d="m24.237 21.598-6.234 10.798A14.397 14.397 0 0 0 30.47 10.798H18.002l-.002.006a7.191 7.191 0 0 1 6.237 10.794Z"
  />
  <path
    fill="url(#c)"
    d="M11.765 21.601 5.531 10.803A14.396 14.396 0 0 0 18.001 32.4l6.235-10.798-.004-.004a7.19 7.19 0 0 1-12.466.004Z"
  />
  <path fill="#fff" d="M18 25.2a7.2 7.2 0 1 0 0-14.4 7.2 7.2 0 0 0 0 14.4Z" />
  <path fill="#1A73E8" d="M18 23.7a5.7 5.7 0 1 0 0-11.4 5.7 5.7 0 0 0 0 11.4Z" />
  <defs>
    <linearGradient
      id="a"
      x1="6.294"
      x2="41.1"
      y1="5.995"
      y2="5.995"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#D93025" />
      <stop offset="1" stop-color="#EA4335" />
    </linearGradient>
    <linearGradient
      id="b"
      x1="20.953"
      x2="37.194"
      y1="32.143"
      y2="2.701"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#FCC934" />
      <stop offset="1" stop-color="#FBBC04" />
    </linearGradient>
    <linearGradient
      id="c"
      x1="25.873"
      x2="9.632"
      y1="31.2"
      y2="1.759"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#1E8E3E" />
      <stop offset="1" stop-color="#34A853" />
    </linearGradient>
  </defs>
</svg>`,Qze=Object.freeze(Object.defineProperty({__proto__:null,chromeStoreSvg:Yze},Symbol.toStringTag,{value:"Module"})),Jze=xe`<svg width="14" height="14" viewBox="0 0 14 14" fill="none">
  <path 
    fill-rule="evenodd" 
    clip-rule="evenodd" 
    d="M7.00235 2C4.24 2 2.00067 4.23858 2.00067 7C2.00067 9.76142 4.24 12 7.00235 12C9.7647 12 12.004 9.76142 12.004 7C12.004 4.23858 9.7647 2 7.00235 2ZM0 7C0 3.13401 3.13506 0 7.00235 0C10.8696 0 14.0047 3.13401 14.0047 7C14.0047 10.866 10.8696 14 7.00235 14C3.13506 14 0 10.866 0 7ZM7.00235 3C7.55482 3 8.00269 3.44771 8.00269 4V6.58579L9.85327 8.43575C10.2439 8.82627 10.2439 9.45944 9.85327 9.84996C9.46262 10.2405 8.82924 10.2405 8.43858 9.84996L6.29501 7.70711C6.10741 7.51957 6.00201 7.26522 6.00201 7V4C6.00201 3.44771 6.44988 3 7.00235 3Z" 
    fill="currentColor"
  />
</svg>`,Xze=Object.freeze(Object.defineProperty({__proto__:null,clockSvg:Jze},Symbol.toStringTag,{value:"Module"})),eFe=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M2.54 2.54a1 1 0 0 1 1.42 0L8 6.6l4.04-4.05a1 1 0 1 1 1.42 1.42L9.4 8l4.05 4.04a1 1 0 0 1-1.42 1.42L8 9.4l-4.04 4.05a1 1 0 0 1-1.42-1.42L6.6 8 2.54 3.96a1 1 0 0 1 0-1.42Z"
    clip-rule="evenodd"
  />
</svg>`,tFe=Object.freeze(Object.defineProperty({__proto__:null,closeSvg:eFe},Symbol.toStringTag,{value:"Module"})),rFe=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M8 2a6 6 0 1 0 0 12A6 6 0 0 0 8 2ZM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm10.66-2.65a1 1 0 0 1 .23 1.06L9.83 9.24a1 1 0 0 1-.59.58l-2.83 1.06A1 1 0 0 1 5.13 9.6l1.06-2.82a1 1 0 0 1 .58-.59L9.6 5.12a1 1 0 0 1 1.06.23ZM7.9 7.89l-.13.35.35-.13.12-.35-.34.13Z"
    clip-rule="evenodd"
  />
</svg>`,nFe=Object.freeze(Object.defineProperty({__proto__:null,compassSvg:rFe},Symbol.toStringTag,{value:"Module"})),iFe=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10 3a7 7 0 0 0-6.85 8.44l8.29-8.3C10.97 3.06 10.49 3 10 3Zm3.49.93-9.56 9.56c.32.55.71 1.06 1.16 1.5L15 5.1a7.03 7.03 0 0 0-1.5-1.16Zm2.7 2.8-9.46 9.46a7 7 0 0 0 9.46-9.46ZM1.99 5.9A9 9 0 1 1 18 14.09 9 9 0 0 1 1.98 5.91Z"
    clip-rule="evenodd"
  />
</svg>`,sFe=Object.freeze(Object.defineProperty({__proto__:null,coinPlaceholderSvg:iFe},Symbol.toStringTag,{value:"Module"})),oFe=xe`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="none"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M9.21498 1.28565H10.5944C11.1458 1.28562 11.6246 1.2856 12.0182 1.32093C12.4353 1.35836 12.853 1.44155 13.2486 1.66724C13.7005 1.92498 14.0749 2.29935 14.3326 2.75122C14.5583 3.14689 14.6415 3.56456 14.6789 3.9817C14.7143 4.37531 14.7142 4.85403 14.7142 5.40545V6.78489C14.7142 7.33631 14.7143 7.81503 14.6789 8.20865C14.6415 8.62578 14.5583 9.04345 14.3326 9.43912C14.0749 9.89099 13.7005 10.2654 13.2486 10.5231C12.853 10.7488 12.4353 10.832 12.0182 10.8694C11.7003 10.8979 11.3269 10.9034 10.9045 10.9045C10.9034 11.3269 10.8979 11.7003 10.8694 12.0182C10.832 12.4353 10.7488 12.853 10.5231 13.2486C10.2654 13.7005 9.89099 14.0749 9.43912 14.3326C9.04345 14.5583 8.62578 14.6415 8.20865 14.6789C7.81503 14.7143 7.33631 14.7142 6.78489 14.7142H5.40545C4.85403 14.7142 4.37531 14.7143 3.9817 14.6789C3.56456 14.6415 3.14689 14.5583 2.75122 14.3326C2.29935 14.0749 1.92498 13.7005 1.66724 13.2486C1.44155 12.853 1.35836 12.4353 1.32093 12.0182C1.2856 11.6246 1.28562 11.1458 1.28565 10.5944V9.21498C1.28562 8.66356 1.2856 8.18484 1.32093 7.79122C1.35836 7.37409 1.44155 6.95642 1.66724 6.56074C1.92498 6.10887 2.29935 5.73451 2.75122 5.47677C3.14689 5.25108 3.56456 5.16789 3.9817 5.13045C4.2996 5.10192 4.67301 5.09645 5.09541 5.09541C5.09645 4.67302 5.10192 4.2996 5.13045 3.9817C5.16789 3.56456 5.25108 3.14689 5.47676 2.75122C5.73451 2.29935 6.10887 1.92498 6.56074 1.66724C6.95642 1.44155 7.37409 1.35836 7.79122 1.32093C8.18484 1.2856 8.66356 1.28562 9.21498 1.28565ZM5.09541 7.09552C4.68397 7.09667 4.39263 7.10161 4.16046 7.12245C3.88053 7.14757 3.78516 7.18949 3.74214 7.21403C3.60139 7.29431 3.48478 7.41091 3.4045 7.55166C3.37997 7.59468 3.33804 7.69005 3.31292 7.96999C3.28659 8.26345 3.28565 8.65147 3.28565 9.25708V10.5523C3.28565 11.1579 3.28659 11.5459 3.31292 11.8394C3.33804 12.1193 3.37997 12.2147 3.4045 12.2577C3.48478 12.3985 3.60139 12.5151 3.74214 12.5954C3.78516 12.6199 3.88053 12.6618 4.16046 12.6869C4.45393 12.7133 4.84195 12.7142 5.44755 12.7142H6.74279C7.3484 12.7142 7.73641 12.7133 8.02988 12.6869C8.30981 12.6618 8.40518 12.6199 8.44821 12.5954C8.58895 12.5151 8.70556 12.3985 8.78584 12.2577C8.81038 12.2147 8.8523 12.1193 8.87742 11.8394C8.89825 11.6072 8.90319 11.3159 8.90435 10.9045C8.48219 10.9034 8.10898 10.8979 7.79122 10.8694C7.37409 10.832 6.95641 10.7488 6.56074 10.5231C6.10887 10.2654 5.73451 9.89099 5.47676 9.43912C5.25108 9.04345 5.16789 8.62578 5.13045 8.20865C5.10194 7.89089 5.09645 7.51767 5.09541 7.09552ZM7.96999 3.31292C7.69005 3.33804 7.59468 3.37997 7.55166 3.4045C7.41091 3.48478 7.29431 3.60139 7.21403 3.74214C7.18949 3.78516 7.14757 3.88053 7.12245 4.16046C7.09611 4.45393 7.09517 4.84195 7.09517 5.44755V6.74279C7.09517 7.3484 7.09611 7.73641 7.12245 8.02988C7.14757 8.30981 7.18949 8.40518 7.21403 8.4482C7.29431 8.58895 7.41091 8.70556 7.55166 8.78584C7.59468 8.81038 7.69005 8.8523 7.96999 8.87742C8.26345 8.90376 8.65147 8.9047 9.25708 8.9047H10.5523C11.1579 8.9047 11.5459 8.90376 11.8394 8.87742C12.1193 8.8523 12.2147 8.81038 12.2577 8.78584C12.3985 8.70556 12.5151 8.58895 12.5954 8.4482C12.6199 8.40518 12.6618 8.30981 12.6869 8.02988C12.7133 7.73641 12.7142 7.3484 12.7142 6.74279V5.44755C12.7142 4.84195 12.7133 4.45393 12.6869 4.16046C12.6618 3.88053 12.6199 3.78516 12.5954 3.74214C12.5151 3.60139 12.3985 3.48478 12.2577 3.4045C12.2147 3.37997 12.1193 3.33804 11.8394 3.31292C11.5459 3.28659 11.1579 3.28565 10.5523 3.28565H9.25708C8.65147 3.28565 8.26345 3.28659 7.96999 3.31292Z"
    fill="#788181"
  /></svg
>`,aFe=Object.freeze(Object.defineProperty({__proto__:null,copySvg:oFe},Symbol.toStringTag,{value:"Module"})),cFe=xe` <svg fill="none" viewBox="0 0 13 4">
  <path fill="currentColor" d="M.5 0h12L8.9 3.13a3.76 3.76 0 0 1-4.8 0L.5 0Z" />
</svg>`,uFe=Object.freeze(Object.defineProperty({__proto__:null,cursorSvg:cFe},Symbol.toStringTag,{value:"Module"})),lFe=xe`<svg fill="none" viewBox="0 0 14 6">
  <path style="fill: var(--wui-color-bg-150);" d="M0 1h14L9.21 5.12a3.31 3.31 0 0 1-4.49 0L0 1Z" />
  <path
    style="stroke: var(--wui-color-inverse-100);"
    stroke-opacity=".05"
    d="M1.33 1.5h11.32L8.88 4.75l-.01.01a2.81 2.81 0 0 1-3.8 0l-.02-.01L1.33 1.5Z"
  />
  <path
    style="fill: var(--wui-color-bg-150);"
    d="M1.25.71h11.5L9.21 3.88a3.31 3.31 0 0 1-4.49 0L1.25.71Z"
  />
</svg> `,dFe=Object.freeze(Object.defineProperty({__proto__:null,cursorTransparentSvg:lFe},Symbol.toStringTag,{value:"Module"})),fFe=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M13.66 2H6.34c-1.07 0-1.96 0-2.68.08-.74.08-1.42.25-2.01.68a4 4 0 0 0-.89.89c-.43.6-.6 1.27-.68 2.01C0 6.38 0 7.26 0 8.34v.89c0 1.07 0 1.96.08 2.68.08.74.25 1.42.68 2.01a4 4 0 0 0 .89.89c.6.43 1.27.6 2.01.68a27 27 0 0 0 2.68.08h7.32a27 27 0 0 0 2.68-.08 4.03 4.03 0 0 0 2.01-.68 4 4 0 0 0 .89-.89c.43-.6.6-1.27.68-2.01.08-.72.08-1.6.08-2.68v-.89c0-1.07 0-1.96-.08-2.68a4.04 4.04 0 0 0-.68-2.01 4 4 0 0 0-.89-.89c-.6-.43-1.27-.6-2.01-.68C15.62 2 14.74 2 13.66 2ZM2.82 4.38c.2-.14.48-.25 1.06-.31C4.48 4 5.25 4 6.4 4h7.2c1.15 0 1.93 0 2.52.07.58.06.86.17 1.06.31a2 2 0 0 1 .44.44c.14.2.25.48.31 1.06.07.6.07 1.37.07 2.52v.77c0 1.15 0 1.93-.07 2.52-.06.58-.17.86-.31 1.06a2 2 0 0 1-.44.44c-.2.14-.48.25-1.06.32-.6.06-1.37.06-2.52.06H6.4c-1.15 0-1.93 0-2.52-.06-.58-.07-.86-.18-1.06-.32a2 2 0 0 1-.44-.44c-.14-.2-.25-.48-.31-1.06C2 11.1 2 10.32 2 9.17V8.4c0-1.15 0-1.93.07-2.52.06-.58.17-.86.31-1.06a2 2 0 0 1 .44-.44Z"
    clip-rule="evenodd"
  />
  <path fill="currentColor" d="M6.14 17.57a1 1 0 1 0 0 2h7.72a1 1 0 1 0 0-2H6.14Z" />
</svg>`,hFe=Object.freeze(Object.defineProperty({__proto__:null,desktopSvg:fFe},Symbol.toStringTag,{value:"Module"})),pFe=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.07 1h.57a1 1 0 0 1 0 2h-.52c-.98 0-1.64 0-2.14.06-.48.05-.7.14-.84.24-.13.1-.25.22-.34.35-.1.14-.2.35-.25.83-.05.5-.05 1.16-.05 2.15v2.74c0 .99 0 1.65.05 2.15.05.48.14.7.25.83.1.14.2.25.34.35.14.1.36.2.84.25.5.05 1.16.05 2.14.05h.52a1 1 0 0 1 0 2h-.57c-.92 0-1.69 0-2.3-.07a3.6 3.6 0 0 1-1.8-.61c-.3-.22-.57-.49-.8-.8a3.6 3.6 0 0 1-.6-1.79C.5 11.11.5 10.35.5 9.43V6.58c0-.92 0-1.7.06-2.31a3.6 3.6 0 0 1 .62-1.8c.22-.3.48-.57.79-.79a3.6 3.6 0 0 1 1.8-.61C4.37 1 5.14 1 6.06 1ZM9.5 3a1 1 0 0 1 1.42 0l4.28 4.3a1 1 0 0 1 0 1.4L10.93 13a1 1 0 0 1-1.42-1.42L12.1 9H6.8a1 1 0 1 1 0-2h5.3L9.51 4.42a1 1 0 0 1 0-1.41Z"
    clip-rule="evenodd"
  />
</svg>`,gFe=Object.freeze(Object.defineProperty({__proto__:null,disconnectSvg:pFe},Symbol.toStringTag,{value:"Module"})),mFe=xe`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5865F2" />
      <path
        fill="#fff"
        fill-rule="evenodd"
        d="M25.71 28.15C30.25 28 32 25.02 32 25.02c0-6.61-2.96-11.98-2.96-11.98-2.96-2.22-5.77-2.15-5.77-2.15l-.29.32c3.5 1.07 5.12 2.61 5.12 2.61a16.75 16.75 0 0 0-10.34-1.93l-.35.04a15.43 15.43 0 0 0-5.88 1.9s1.71-1.63 5.4-2.7l-.2-.24s-2.81-.07-5.77 2.15c0 0-2.96 5.37-2.96 11.98 0 0 1.73 2.98 6.27 3.13l1.37-1.7c-2.6-.79-3.6-2.43-3.6-2.43l.58.35.09.06.08.04.02.01.08.05a17.25 17.25 0 0 0 4.52 1.58 14.4 14.4 0 0 0 8.3-.86c.72-.27 1.52-.66 2.37-1.21 0 0-1.03 1.68-3.72 2.44.61.78 1.35 1.67 1.35 1.67Zm-9.55-9.6c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28.01-1.25-.93-2.28-2.1-2.28Zm7.5 0c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28 0-1.25-.93-2.28-2.1-2.28Z"
        clip-rule="evenodd"
      />
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
  </defs>
</svg>`,bFe=Object.freeze(Object.defineProperty({__proto__:null,discordSvg:mFe},Symbol.toStringTag,{value:"Module"})),yFe=xe`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.71 2.99a.57.57 0 0 0-.57.57 1 1 0 0 1-1 1c-.58 0-.96 0-1.24.03-.27.03-.37.07-.42.1a.97.97 0 0 0-.36.35c-.04.08-.09.21-.11.67a2.57 2.57 0 0 1 0 5.13c.02.45.07.6.11.66.09.15.21.28.36.36.07.04.21.1.67.12a2.57 2.57 0 0 1 5.12 0c.46-.03.6-.08.67-.12a.97.97 0 0 0 .36-.36c.03-.04.07-.14.1-.41.02-.29.03-.66.03-1.24a1 1 0 0 1 1-1 .57.57 0 0 0 0-1.15 1 1 0 0 1-1-1c0-.58 0-.95-.03-1.24a1.04 1.04 0 0 0-.1-.42.97.97 0 0 0-.36-.36 1.04 1.04 0 0 0-.42-.1c-.28-.02-.65-.02-1.24-.02a1 1 0 0 1-1-1 .57.57 0 0 0-.57-.57ZM5.15 13.98a1 1 0 0 0 .99-1v-.78a.57.57 0 0 1 1.14 0v.78a1 1 0 0 0 .99 1H8.36a66.26 66.26 0 0 0 .73 0 3.78 3.78 0 0 0 1.84-.38c.46-.26.85-.64 1.1-1.1.23-.4.32-.8.36-1.22.02-.2.03-.4.03-.63a2.57 2.57 0 0 0 0-4.75c0-.23-.01-.44-.03-.63a2.96 2.96 0 0 0-.35-1.22 2.97 2.97 0 0 0-1.1-1.1c-.4-.22-.8-.31-1.22-.35a8.7 8.7 0 0 0-.64-.04 2.57 2.57 0 0 0-4.74 0c-.23 0-.44.02-.63.04-.42.04-.83.13-1.22.35-.46.26-.84.64-1.1 1.1-.33.57-.37 1.2-.39 1.84a21.39 21.39 0 0 0 0 .72v.1a1 1 0 0 0 1 .99h.78a.57.57 0 0 1 0 1.15h-.77a1 1 0 0 0-1 .98v.1a63.87 63.87 0 0 0 0 .73c0 .64.05 1.27.38 1.83.26.47.64.85 1.1 1.11.56.32 1.2.37 1.84.38a20.93 20.93 0 0 0 .72 0h.1Z"
    clip-rule="evenodd"
  />
</svg>`,wFe=Object.freeze(Object.defineProperty({__proto__:null,extensionSvg:yFe},Symbol.toStringTag,{value:"Module"})),vFe=xe`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.74 3.99a1 1 0 0 1 1-1H11a1 1 0 0 1 1 1v6.26a1 1 0 0 1-2 0V6.4l-6.3 6.3a1 1 0 0 1-1.4-1.42l6.29-6.3H4.74a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,EFe=Object.freeze(Object.defineProperty({__proto__:null,externalLinkSvg:vFe},Symbol.toStringTag,{value:"Module"})),_Fe=xe`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1877F2" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M26 12.38h-2.89c-.92 0-1.61.38-1.61 1.34v1.66H26l-.36 4.5H21.5v12H17v-12h-3v-4.5h3V12.5c0-3.03 1.6-4.62 5.2-4.62H26v4.5Z"
        />
      </g>
    </g>
    <path
      fill="#1877F2"
      d="M40 20a20 20 0 1 0-23.13 19.76V25.78H11.8V20h5.07v-4.4c0-5.02 3-7.79 7.56-7.79 2.19 0 4.48.4 4.48.4v4.91h-2.53c-2.48 0-3.25 1.55-3.25 3.13V20h5.54l-.88 5.78h-4.66v13.98A20 20 0 0 0 40 20Z"
    />
    <path
      fill="#fff"
      d="m27.79 25.78.88-5.78h-5.55v-3.75c0-1.58.78-3.13 3.26-3.13h2.53V8.2s-2.3-.39-4.48-.39c-4.57 0-7.55 2.77-7.55 7.78V20H11.8v5.78h5.07v13.98a20.15 20.15 0 0 0 6.25 0V25.78h4.67Z"
    />
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,CFe=Object.freeze(Object.defineProperty({__proto__:null,facebookSvg:_Fe},Symbol.toStringTag,{value:"Module"})),AFe=xe`<svg style="border-radius: 9999px; overflow: hidden;"  fill="none" viewBox="0 0 1000 1000">
  <rect width="1000" height="1000" rx="9999" ry="9999" fill="#855DCD"/>
  <path fill="#855DCD" d="M0 0h1000v1000H0V0Z" />
  <path
    fill="#fff"
    d="M320 248h354v504h-51.96V521.13h-.5c-5.76-63.8-59.31-113.81-124.54-113.81s-118.78 50-124.53 113.81h-.5V752H320V248Z"
  />
  <path
    fill="#fff"
    d="m225 320 21.16 71.46h17.9v289.09a16.29 16.29 0 0 0-16.28 16.24v19.49h-3.25a16.3 16.3 0 0 0-16.28 16.24V752h182.26v-19.48a16.22 16.22 0 0 0-16.28-16.24h-3.25v-19.5a16.22 16.22 0 0 0-16.28-16.23h-19.52V320H225Zm400.3 360.55a16.3 16.3 0 0 0-15.04 10.02 16.2 16.2 0 0 0-1.24 6.22v19.49h-3.25a16.29 16.29 0 0 0-16.27 16.24V752h182.24v-19.48a16.23 16.23 0 0 0-16.27-16.24h-3.25v-19.5a16.2 16.2 0 0 0-10.04-15 16.3 16.3 0 0 0-6.23-1.23v-289.1h17.9L775 320H644.82v360.55H625.3Z"
  />
</svg>`,xFe=Object.freeze(Object.defineProperty({__proto__:null,farcasterSvg:AFe},Symbol.toStringTag,{value:"Module"})),IFe=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 3a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H1a1 1 0 0 1-1-1Zm2.63 5.25a1 1 0 0 1 1-1h8.75a1 1 0 1 1 0 2H3.63a1 1 0 0 1-1-1Zm2.62 5.25a1 1 0 0 1 1-1h3.5a1 1 0 0 1 0 2h-3.5a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,PFe=Object.freeze(Object.defineProperty({__proto__:null,filtersSvg:IFe},Symbol.toStringTag,{value:"Module"})),SFe=xe`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1B1F23" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M8 19.89a12 12 0 1 1 15.8 11.38c-.6.12-.8-.26-.8-.57v-3.3c0-1.12-.4-1.85-.82-2.22 2.67-.3 5.48-1.31 5.48-5.92 0-1.31-.47-2.38-1.24-3.22.13-.3.54-1.52-.12-3.18 0 0-1-.32-3.3 1.23a11.54 11.54 0 0 0-6 0c-2.3-1.55-3.3-1.23-3.3-1.23a4.32 4.32 0 0 0-.12 3.18 4.64 4.64 0 0 0-1.24 3.22c0 4.6 2.8 5.63 5.47 5.93-.34.3-.65.83-.76 1.6-.69.31-2.42.84-3.5-1 0 0-.63-1.15-1.83-1.23 0 0-1.18-.02-.09.73 0 0 .8.37 1.34 1.76 0 0 .7 2.14 4.03 1.41v2.24c0 .31-.2.68-.8.57A12 12 0 0 1 8 19.9Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,TFe=Object.freeze(Object.defineProperty({__proto__:null,githubSvg:SFe},Symbol.toStringTag,{value:"Module"})),OFe=xe`<svg fill="none" viewBox="0 0 40 40">
  <path
    fill="#4285F4"
    d="M32.74 20.3c0-.93-.08-1.81-.24-2.66H20.26v5.03h7a6 6 0 0 1-2.62 3.91v3.28h4.22c2.46-2.27 3.88-5.6 3.88-9.56Z"
  />
  <path
    fill="#34A853"
    d="M20.26 33a12.4 12.4 0 0 0 8.6-3.14l-4.22-3.28a7.74 7.74 0 0 1-4.38 1.26 7.76 7.76 0 0 1-7.28-5.36H8.65v3.36A12.99 12.99 0 0 0 20.26 33Z"
  />
  <path
    fill="#FBBC05"
    d="M12.98 22.47a7.79 7.79 0 0 1 0-4.94v-3.36H8.65a12.84 12.84 0 0 0 0 11.66l3.37-2.63.96-.73Z"
  />
  <path
    fill="#EA4335"
    d="M20.26 12.18a7.1 7.1 0 0 1 4.98 1.93l3.72-3.72A12.47 12.47 0 0 0 20.26 7c-5.08 0-9.47 2.92-11.6 7.17l4.32 3.36a7.76 7.76 0 0 1 7.28-5.35Z"
  />
</svg>`,jFe=Object.freeze(Object.defineProperty({__proto__:null,googleSvg:OFe},Symbol.toStringTag,{value:"Module"})),BFe=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M8.51 5.66a.83.83 0 0 0-.57-.2.83.83 0 0 0-.52.28.8.8 0 0 0-.25.52 1 1 0 0 1-2 0c0-.75.34-1.43.81-1.91a2.75 2.75 0 0 1 4.78 1.92c0 1.24-.8 1.86-1.25 2.2l-.04.03c-.47.36-.5.43-.5.65a1 1 0 1 1-2 0c0-1.25.8-1.86 1.24-2.2l.04-.04c.47-.36.5-.43.5-.65 0-.3-.1-.49-.24-.6ZM9.12 11.87a1.13 1.13 0 1 1-2.25 0 1.13 1.13 0 0 1 2.25 0Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6a6 6 0 1 0 0 12A6 6 0 0 0 8 2Z"
    clip-rule="evenodd"
  />
</svg>`,RFe=Object.freeze(Object.defineProperty({__proto__:null,helpCircleSvg:BFe},Symbol.toStringTag,{value:"Module"})),kFe=xe`<svg width="14" height="14" viewBox="0 0 14 14" fill="none">
  <path d="M4.98926 3.73932C4.2989 3.73932 3.73926 4.29896 3.73926 4.98932C3.73926 5.67968 4.2989 6.23932 4.98926 6.23932C5.67962 6.23932 6.23926 5.67968 6.23926 4.98932C6.23926 4.29896 5.67962 3.73932 4.98926 3.73932Z" fill="currentColor"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.60497 0.500001H6.39504C5.41068 0.499977 4.59185 0.499958 3.93178 0.571471C3.24075 0.64634 2.60613 0.809093 2.04581 1.21619C1.72745 1.44749 1.44749 1.72745 1.21619 2.04581C0.809093 2.60613 0.64634 3.24075 0.571471 3.93178C0.499958 4.59185 0.499977 5.41065 0.500001 6.39501V7.57815C0.499998 8.37476 0.499995 9.05726 0.534869 9.62725C0.570123 10.2034 0.644114 10.7419 0.828442 11.2302C0.925651 11.4877 1.05235 11.7287 1.21619 11.9542C1.44749 12.2726 1.72745 12.5525 2.04581 12.7838C2.60613 13.1909 3.24075 13.3537 3.93178 13.4285C4.59185 13.5001 5.41066 13.5 6.39503 13.5H7.60496C8.58933 13.5 9.40815 13.5001 10.0682 13.4285C10.7593 13.3537 11.3939 13.1909 11.9542 12.7838C12.2726 12.5525 12.5525 12.2726 12.7838 11.9542C13.1909 11.3939 13.3537 10.7593 13.4285 10.0682C13.5 9.40816 13.5 8.58935 13.5 7.60497V6.39505C13.5 5.41068 13.5 4.59185 13.4285 3.93178C13.3537 3.24075 13.1909 2.60613 12.7838 2.04581C12.5525 1.72745 12.2726 1.44749 11.9542 1.21619C11.3939 0.809093 10.7593 0.64634 10.0682 0.571471C9.40816 0.499958 8.58933 0.499977 7.60497 0.500001ZM3.22138 2.83422C3.38394 2.71612 3.62634 2.61627 4.14721 2.55984C4.68679 2.50138 5.39655 2.5 6.45 2.5H7.55C8.60345 2.5 9.31322 2.50138 9.8528 2.55984C10.3737 2.61627 10.6161 2.71612 10.7786 2.83422C10.9272 2.94216 11.0578 3.07281 11.1658 3.22138C11.2839 3.38394 11.3837 3.62634 11.4402 4.14721C11.4986 4.68679 11.5 5.39655 11.5 6.45V6.49703C10.9674 6.11617 10.386 5.84936 9.74213 5.81948C8.40536 5.75745 7.3556 6.73051 6.40509 7.84229C6.33236 7.92737 6.27406 7.98735 6.22971 8.02911L6.1919 8.00514L6.17483 7.99427C6.09523 7.94353 5.98115 7.87083 5.85596 7.80302C5.56887 7.64752 5.18012 7.4921 4.68105 7.4921C4.66697 7.4921 4.6529 7.49239 4.63884 7.49299C3.79163 7.52878 3.09922 8.1106 2.62901 8.55472C2.58751 8.59392 2.54594 8.6339 2.50435 8.6745C2.50011 8.34653 2.5 7.97569 2.5 7.55V6.45C2.5 5.39655 2.50138 4.68679 2.55984 4.14721C2.61627 3.62634 2.71612 3.38394 2.83422 3.22138C2.94216 3.07281 3.07281 2.94216 3.22138 2.83422ZM10.3703 8.14825C10.6798 8.37526 11.043 8.71839 11.4832 9.20889C11.4744 9.44992 11.4608 9.662 11.4402 9.8528C11.3837 10.3737 11.2839 10.6161 11.1658 10.7786C11.0578 10.9272 10.9272 11.0578 10.7786 11.1658C10.6161 11.2839 10.3737 11.3837 9.8528 11.4402C9.31322 11.4986 8.60345 11.5 7.55 11.5H6.45C5.39655 11.5 4.68679 11.4986 4.14721 11.4402C3.62634 11.3837 3.38394 11.2839 3.22138 11.1658C3.15484 11.1174 3.0919 11.0645 3.03298 11.0075C3.10126 10.9356 3.16806 10.8649 3.23317 10.7959L3.29772 10.7276C3.55763 10.4525 3.78639 10.2126 4.00232 10.0087C4.22016 9.80294 4.39412 9.66364 4.53524 9.57742C4.63352 9.51738 4.69022 9.49897 4.71275 9.49345C4.76387 9.49804 4.81803 9.51537 4.90343 9.56162C4.96409 9.59447 5.02355 9.63225 5.11802 9.69238L5.12363 9.69595C5.20522 9.74789 5.32771 9.82587 5.46078 9.89278C5.76529 10.0459 6.21427 10.186 6.74977 10.0158C7.21485 9.86796 7.59367 9.52979 7.92525 9.14195C8.91377 7.98571 9.38267 7.80495 9.64941 7.81733C9.7858 7.82366 10.0101 7.884 10.3703 8.14825Z" fill="currentColor"/>
</svg>`,NFe=Object.freeze(Object.defineProperty({__proto__:null,imageSvg:kFe},Symbol.toStringTag,{value:"Module"})),DFe=xe`<svg
 xmlns="http://www.w3.org/2000/svg"
 width="28"
 height="28"
 viewBox="0 0 28 28"
 fill="none">
  <path
    fill="#949E9E"
    fill-rule="evenodd"
    d="M7.974 2.975h12.052c1.248 0 2.296 0 3.143.092.89.096 1.723.307 2.461.844a4.9 4.9 0 0 1 1.084 1.084c.537.738.748 1.57.844 2.461.092.847.092 1.895.092 3.143v6.802c0 1.248 0 2.296-.092 3.143-.096.89-.307 1.723-.844 2.461a4.9 4.9 0 0 1-1.084 1.084c-.738.537-1.57.748-2.461.844-.847.092-1.895.092-3.143.092H7.974c-1.247 0-2.296 0-3.143-.092-.89-.096-1.723-.307-2.461-.844a4.901 4.901 0 0 1-1.084-1.084c-.537-.738-.748-1.571-.844-2.461C.35 19.697.35 18.649.35 17.4v-6.802c0-1.248 0-2.296.092-3.143.096-.89.307-1.723.844-2.461A4.9 4.9 0 0 1 2.37 3.91c.738-.537 1.571-.748 2.461-.844.847-.092 1.895-.092 3.143-.092ZM5.133 5.85c-.652.071-.936.194-1.117.326a2.1 2.1 0 0 0-.465.465c-.132.181-.255.465-.325 1.117-.074.678-.076 1.573-.076 2.917v6.65c0 1.344.002 2.239.076 2.917.07.652.193.936.325 1.117a2.1 2.1 0 0 0 .465.465c.181.132.465.255 1.117.326.678.073 1.574.075 2.917.075h11.9c1.344 0 2.239-.002 2.917-.075.652-.071.936-.194 1.117-.326.179-.13.335-.286.465-.465.132-.181.255-.465.326-1.117.073-.678.075-1.573.075-2.917v-6.65c0-1.344-.002-2.239-.075-2.917-.071-.652-.194-.936-.326-1.117a2.1 2.1 0 0 0-.465-.465c-.181-.132-.465-.255-1.117-.326-.678-.073-1.573-.075-2.917-.075H8.05c-1.343 0-2.239.002-2.917.075Zm.467 7.275a3.15 3.15 0 1 1 6.3 0 3.15 3.15 0 0 1-6.3 0Zm8.75-1.75a1.4 1.4 0 0 1 1.4-1.4h3.5a1.4 1.4 0 0 1 0 2.8h-3.5a1.4 1.4 0 0 1-1.4-1.4Zm0 5.25a1.4 1.4 0 0 1 1.4-1.4H21a1.4 1.4 0 1 1 0 2.8h-5.25a1.4 1.4 0 0 1-1.4-1.4Z"
    clip-rule="evenodd"/>
</svg>`,$Fe=Object.freeze(Object.defineProperty({__proto__:null,idSvg:DFe},Symbol.toStringTag,{value:"Module"})),MFe=xe`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    d="M6 10.49a1 1 0 1 0 2 0v-2a1 1 0 0 0-2 0v2ZM7 4.49a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 14.99a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm5-7a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"
    clip-rule="evenodd"
  />
</svg>`,LFe=Object.freeze(Object.defineProperty({__proto__:null,infoCircleSvg:MFe},Symbol.toStringTag,{value:"Module"})),UFe=xe`<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.00177 1.78569C3.8179 1.78569 2.85819 2.74508 2.85819 3.92855C2.85819 4.52287 3.09928 5.05956 3.49077 5.4485L3.5005 5.45817C3.64381 5.60054 3.76515 5.72108 3.85631 5.81845C3.93747 5.90512 4.05255 6.03218 4.12889 6.1805C4.16999 6.26034 4.19 6.30843 4.21768 6.39385C4.22145 6.40546 4.22499 6.41703 4.22833 6.42855H5.77521C5.77854 6.41703 5.78208 6.40547 5.78585 6.39385C5.81353 6.30843 5.83354 6.26034 5.87464 6.1805C5.95098 6.03218 6.06606 5.90512 6.14722 5.81845C6.23839 5.72108 6.35973 5.60053 6.50304 5.45816L6.51276 5.4485C6.90425 5.05956 7.14534 4.52287 7.14534 3.92855C7.14534 2.74508 6.18563 1.78569 5.00177 1.78569ZM5.71629 7.85712H4.28724C4.28724 8.21403 4.28876 8.40985 4.30703 8.54571C4.30727 8.54748 4.30751 8.54921 4.30774 8.55091C4.30944 8.55115 4.31118 8.55138 4.31295 8.55162C4.44884 8.56989 4.64474 8.5714 5.00177 8.5714C5.3588 8.5714 5.55469 8.56989 5.69059 8.55162C5.69236 8.55138 5.69409 8.55115 5.69579 8.55091C5.69603 8.54921 5.69627 8.54748 5.6965 8.54571C5.71477 8.40985 5.71629 8.21403 5.71629 7.85712ZM2.85819 7.14283C2.85819 6.9948 2.85796 6.91114 2.8548 6.85032C2.85461 6.84656 2.85441 6.84309 2.85421 6.83988C2.84393 6.8282 2.83047 6.81334 2.81301 6.79469C2.74172 6.71856 2.63908 6.61643 2.48342 6.46178C1.83307 5.81566 1.42914 4.91859 1.42914 3.92855C1.42914 1.9561 3.02866 0.357117 5.00177 0.357117C6.97487 0.357117 8.57439 1.9561 8.57439 3.92855C8.57439 4.91859 8.17047 5.81566 7.52012 6.46178C7.36445 6.61643 7.26182 6.71856 7.19053 6.79469C7.17306 6.81334 7.1596 6.8282 7.14932 6.83988C7.14912 6.84309 7.14892 6.84656 7.14873 6.85032C7.14557 6.91114 7.14534 6.9948 7.14534 7.14283V7.85712C7.14534 7.87009 7.14535 7.88304 7.14535 7.89598C7.14541 8.19889 7.14547 8.49326 7.11281 8.73606C7.076 9.00978 6.98631 9.32212 6.72678 9.58156C6.46726 9.841 6.15481 9.93065 5.881 9.96745C5.63813 10.0001 5.34365 10 5.04064 9.99998C5.0277 9.99998 5.01474 9.99998 5.00177 9.99998C4.98879 9.99998 4.97583 9.99998 4.96289 9.99998C4.65988 10 4.36541 10.0001 4.12253 9.96745C3.84872 9.93065 3.53628 9.841 3.27675 9.58156C3.01722 9.32212 2.92753 9.00978 2.89072 8.73606C2.85807 8.49326 2.85812 8.19889 2.85818 7.89598C2.85819 7.88304 2.85819 7.87008 2.85819 7.85712V7.14283ZM7.1243 6.86977C7.12366 6.87069 7.1233 6.87116 7.12327 6.87119C7.12323 6.87123 7.12356 6.87076 7.1243 6.86977ZM2.88027 6.8712C2.88025 6.87119 2.87988 6.8707 2.87921 6.86975C2.87995 6.87072 2.88028 6.8712 2.88027 6.8712Z" fill="#949E9E"/>
</svg>`,qFe=Object.freeze(Object.defineProperty({__proto__:null,lightbulbSvg:UFe},Symbol.toStringTag,{value:"Module"})),zFe=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.83 1.34h6.34c.68 0 1.26 0 1.73.04.5.05.97.15 1.42.4.52.3.95.72 1.24 1.24.26.45.35.92.4 1.42.04.47.04 1.05.04 1.73v3.71c0 .69 0 1.26-.04 1.74-.05.5-.14.97-.4 1.41-.3.52-.72.95-1.24 1.25-.45.25-.92.35-1.42.4-.47.03-1.05.03-1.73.03H4.83c-.68 0-1.26 0-1.73-.04-.5-.04-.97-.14-1.42-.4-.52-.29-.95-.72-1.24-1.24a3.39 3.39 0 0 1-.4-1.41A20.9 20.9 0 0 1 0 9.88v-3.7c0-.7 0-1.27.04-1.74.05-.5.14-.97.4-1.42.3-.52.72-.95 1.24-1.24.45-.25.92-.35 1.42-.4.47-.04 1.05-.04 1.73-.04ZM3.28 3.38c-.36.03-.51.08-.6.14-.21.11-.39.29-.5.5a.8.8 0 0 0-.08.19l5.16 3.44c.45.3 1.03.3 1.48 0L13.9 4.2a.79.79 0 0 0-.08-.2c-.11-.2-.29-.38-.5-.5-.09-.05-.24-.1-.6-.13-.37-.04-.86-.04-1.6-.04H4.88c-.73 0-1.22 0-1.6.04ZM14 6.54 9.85 9.31a3.33 3.33 0 0 1-3.7 0L2 6.54v3.3c0 .74 0 1.22.03 1.6.04.36.1.5.15.6.11.2.29.38.5.5.09.05.24.1.6.14.37.03.86.03 1.6.03h6.25c.73 0 1.22 0 1.6-.03.35-.03.5-.09.6-.14.2-.12.38-.3.5-.5.05-.1.1-.24.14-.6.03-.38.03-.86.03-1.6v-3.3Z"
    clip-rule="evenodd"
  />
</svg>`,FFe=Object.freeze(Object.defineProperty({__proto__:null,mailSvg:zFe},Symbol.toStringTag,{value:"Module"})),HFe=xe`<svg fill="none" viewBox="0 0 20 20">
  <path fill="currentColor" d="M10.81 5.81a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z" />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3 4.75A4.75 4.75 0 0 1 7.75 0h4.5A4.75 4.75 0 0 1 17 4.75v10.5A4.75 4.75 0 0 1 12.25 20h-4.5A4.75 4.75 0 0 1 3 15.25V4.75ZM7.75 2A2.75 2.75 0 0 0 5 4.75v10.5A2.75 2.75 0 0 0 7.75 18h4.5A2.75 2.75 0 0 0 15 15.25V4.75A2.75 2.75 0 0 0 12.25 2h-4.5Z"
    clip-rule="evenodd"
  />
</svg>`,WFe=Object.freeze(Object.defineProperty({__proto__:null,mobileSvg:HFe},Symbol.toStringTag,{value:"Module"})),VFe=xe`<svg fill="none" viewBox="0 0 41 40">
  <path
    style="fill: var(--wui-color-fg-100);"
    fill-opacity=".05"
    d="M.6 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z"
  />
  <path
    fill="#949E9E"
    d="M15.6 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM23.1 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM28.1 22.81a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"
  />
</svg>`,GFe=Object.freeze(Object.defineProperty({__proto__:null,moreSvg:VFe},Symbol.toStringTag,{value:"Module"})),KFe=xe`<svg fill="none" viewBox="0 0 22 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M16.32 13.62a3.14 3.14 0 1 1-.99 1.72l-1.6-.93a3.83 3.83 0 0 1-3.71 1 3.66 3.66 0 0 1-1.74-1l-1.6.94a3.14 3.14 0 1 1-1-1.73l1.6-.94a3.7 3.7 0 0 1 0-2 3.81 3.81 0 0 1 1.8-2.33c.29-.17.6-.3.92-.38V6.1a3.14 3.14 0 1 1 2 0l-.01.02v1.85H12a3.82 3.82 0 0 1 2.33 1.8 3.7 3.7 0 0 1 .39 2.91l1.6.93ZM2.6 16.54a1.14 1.14 0 0 0 1.98-1.14 1.14 1.14 0 0 0-1.98 1.14ZM11 2.01a1.14 1.14 0 1 0 0 2.28 1.14 1.14 0 0 0 0-2.28Zm1.68 10.45c.08-.19.14-.38.16-.58v-.05l.02-.13v-.13a1.92 1.92 0 0 0-.24-.8l-.11-.15a1.89 1.89 0 0 0-.74-.6 1.86 1.86 0 0 0-.77-.17h-.19a1.97 1.97 0 0 0-.89.34 1.98 1.98 0 0 0-.61.74 1.99 1.99 0 0 0-.16.9v.05a1.87 1.87 0 0 0 .24.74l.1.15c.12.16.26.3.42.42l.16.1.13.07.04.02a1.84 1.84 0 0 0 .76.17h.17a2 2 0 0 0 .91-.35 1.78 1.78 0 0 0 .52-.58l.03-.05a.84.84 0 0 0 .05-.11Zm5.15 4.5a1.14 1.14 0 0 0 1.14-1.97 1.13 1.13 0 0 0-1.55.41c-.32.55-.13 1.25.41 1.56Z"
    clip-rule="evenodd"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.63 9.43a1.5 1.5 0 1 0 1.5-2.6 1.5 1.5 0 0 0-1.5 2.6Zm.32-1.55a.5.5 0 0 1 .68-.19.5.5 0 0 1 .18.68.5.5 0 0 1-.68.19.5.5 0 0 1-.18-.68ZM17.94 8.88a1.5 1.5 0 1 1-2.6-1.5 1.5 1.5 0 1 1 2.6 1.5ZM16.9 7.69a.5.5 0 0 0-.68.19.5.5 0 0 0 .18.68.5.5 0 0 0 .68-.19.5.5 0 0 0-.18-.68ZM9.75 17.75a1.5 1.5 0 1 1 2.6 1.5 1.5 1.5 0 1 1-2.6-1.5Zm1.05 1.18a.5.5 0 0 0 .68-.18.5.5 0 0 0-.18-.68.5.5 0 0 0-.68.18.5.5 0 0 0 .18.68Z"
    clip-rule="evenodd"
  />
</svg>`,ZFe=Object.freeze(Object.defineProperty({__proto__:null,networkPlaceholderSvg:KFe},Symbol.toStringTag,{value:"Module"})),YFe=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M9.13 1h1.71c1.46 0 2.63 0 3.56.1.97.1 1.8.33 2.53.85a5 5 0 0 1 1.1 1.11c.53.73.75 1.56.86 2.53.1.93.1 2.1.1 3.55v1.72c0 1.45 0 2.62-.1 3.55-.1.97-.33 1.8-.86 2.53a5 5 0 0 1-1.1 1.1c-.73.53-1.56.75-2.53.86-.93.1-2.1.1-3.55.1H9.13c-1.45 0-2.62 0-3.56-.1-.96-.1-1.8-.33-2.52-.85a5 5 0 0 1-1.1-1.11 5.05 5.05 0 0 1-.86-2.53c-.1-.93-.1-2.1-.1-3.55V9.14c0-1.45 0-2.62.1-3.55.1-.97.33-1.8.85-2.53a5 5 0 0 1 1.1-1.1 5.05 5.05 0 0 1 2.53-.86C6.51 1 7.67 1 9.13 1ZM5.79 3.09a3.1 3.1 0 0 0-1.57.48 3 3 0 0 0-.66.67c-.24.32-.4.77-.48 1.56-.1.82-.1 1.88-.1 3.4v1.6c0 1.15 0 2.04.05 2.76l.41-.42c.5-.5.93-.92 1.32-1.24.41-.33.86-.6 1.43-.7a3 3 0 0 1 .94 0c.35.06.66.2.95.37a17.11 17.11 0 0 0 .8.45c.1-.08.2-.2.41-.4l.04-.03a27 27 0 0 1 1.95-1.84 4.03 4.03 0 0 1 1.91-.94 4 4 0 0 1 1.25 0c.73.11 1.33.46 1.91.94l.64.55V9.2c0-1.52 0-2.58-.1-3.4a3.1 3.1 0 0 0-.48-1.56 3 3 0 0 0-.66-.67 3.1 3.1 0 0 0-1.56-.48C13.37 3 12.3 3 10.79 3h-1.6c-1.52 0-2.59 0-3.4.09Zm11.18 10-.04-.05a26.24 26.24 0 0 0-1.83-1.74c-.45-.36-.73-.48-.97-.52a2 2 0 0 0-.63 0c-.24.04-.51.16-.97.52-.46.38-1.01.93-1.83 1.74l-.02.02c-.17.18-.34.34-.49.47a2.04 2.04 0 0 1-1.08.5 1.97 1.97 0 0 1-1.25-.27l-.79-.46-.02-.02a.65.65 0 0 0-.24-.1 1 1 0 0 0-.31 0c-.08.02-.21.06-.49.28-.3.24-.65.59-1.2 1.14l-.56.56-.65.66a3 3 0 0 0 .62.6c.33.24.77.4 1.57.49.81.09 1.88.09 3.4.09h1.6c1.52 0 2.58 0 3.4-.09a3.1 3.1 0 0 0 1.56-.48 3 3 0 0 0 .66-.67c.24-.32.4-.77.49-1.56l.07-1.12Zm-8.02-1.03ZM4.99 7a2 2 0 1 1 4 0 2 2 0 0 1-4 0Z"
    clip-rule="evenodd"
  />
</svg>`,QFe=Object.freeze(Object.defineProperty({__proto__:null,nftPlaceholderSvg:YFe},Symbol.toStringTag,{value:"Module"})),JFe=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M8 0a1 1 0 0 1 1 1v5.38a1 1 0 0 1-2 0V1a1 1 0 0 1 1-1ZM5.26 2.6a1 1 0 0 1-.28 1.39 5.46 5.46 0 1 0 6.04 0 1 1 0 1 1 1.1-1.67 7.46 7.46 0 1 1-8.25 0 1 1 0 0 1 1.4.28Z"
    clip-rule="evenodd"
  />
</svg>`,XFe=Object.freeze(Object.defineProperty({__proto__:null,offSvg:JFe},Symbol.toStringTag,{value:"Module"})),eHe=xe` <svg
  width="36"
  height="36"
  fill="none"
>
  <path
    d="M0 8a8 8 0 0 1 8-8h20a8 8 0 0 1 8 8v20a8 8 0 0 1-8 8H8a8 8 0 0 1-8-8V8Z"
    fill="#fff"
    fill-opacity=".05"
  />
  <path
    d="m18.262 17.513-8.944 9.49v.01a2.417 2.417 0 0 0 3.56 1.452l.026-.017 10.061-5.803-4.703-5.132Z"
    fill="#EA4335"
  />
  <path
    d="m27.307 15.9-.008-.008-4.342-2.52-4.896 4.36 4.913 4.912 4.325-2.494a2.42 2.42 0 0 0 .008-4.25Z"
    fill="#FBBC04"
  />
  <path
    d="M9.318 8.997c-.05.202-.084.403-.084.622V26.39c0 .218.025.42.084.621l9.246-9.247-9.246-8.768Z"
    fill="#4285F4"
  />
  <path
    d="m18.33 18 4.627-4.628-10.053-5.828a2.427 2.427 0 0 0-3.586 1.444L18.329 18Z"
    fill="#34A853"
  />
  <path
    d="M8 .5h20A7.5 7.5 0 0 1 35.5 8v20a7.5 7.5 0 0 1-7.5 7.5H8A7.5 7.5 0 0 1 .5 28V8A7.5 7.5 0 0 1 8 .5Z"
    stroke="#fff"
    stroke-opacity=".05"
  />
</svg>`,tHe=Object.freeze(Object.defineProperty({__proto__:null,playStoreSvg:eHe},Symbol.toStringTag,{value:"Module"})),rHe=xe`<svg
  width="13"
  height="12"
  viewBox="0 0 13 12"
  fill="none"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M0.794373 5.99982C0.794373 5.52643 1.17812 5.14268 1.6515 5.14268H5.643V1.15109C5.643 0.677701 6.02675 0.293946 6.50012 0.293945C6.9735 0.293946 7.35725 0.677701 7.35725 1.15109V5.14268H11.3488C11.8221 5.14268 12.2059 5.52643 12.2059 5.99982C12.2059 6.47321 11.8221 6.85696 11.3488 6.85696H7.35725V10.8486C7.35725 11.3219 6.9735 11.7057 6.50012 11.7057C6.02675 11.7057 5.643 11.3219 5.643 10.8486V6.85696H1.6515C1.17812 6.85696 0.794373 6.47321 0.794373 5.99982Z"
  /></svg
>`,nHe=Object.freeze(Object.defineProperty({__proto__:null,plusSvg:rHe},Symbol.toStringTag,{value:"Module"})),iHe=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    d="M3 6a3 3 0 0 1 3-3h1a1 1 0 1 0 0-2H6a5 5 0 0 0-5 5v1a1 1 0 0 0 2 0V6ZM13 1a1 1 0 1 0 0 2h1a3 3 0 0 1 3 3v1a1 1 0 1 0 2 0V6a5 5 0 0 0-5-5h-1ZM3 13a1 1 0 1 0-2 0v1a5 5 0 0 0 5 5h1a1 1 0 1 0 0-2H6a3 3 0 0 1-3-3v-1ZM19 13a1 1 0 1 0-2 0v1a3 3 0 0 1-3 3h-1a1 1 0 1 0 0 2h1.01a5 5 0 0 0 5-5v-1ZM5.3 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05A1.5 1.5 0 0 0 9.2 8.14c.06-.2.06-.43.06-.89s0-.7-.06-.89A1.5 1.5 0 0 0 8.14 5.3c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM10.8 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM5.26 12.75c0-.46 0-.7.05-.89a1.5 1.5 0 0 1 1.06-1.06c.19-.05.42-.05.89-.05.46 0 .7 0 .88.05.52.14.93.54 1.06 1.06.06.2.06.43.06.89s0 .7-.06.89a1.5 1.5 0 0 1-1.06 1.06c-.19.05-.42.05-.88.05-.47 0-.7 0-.9-.05a1.5 1.5 0 0 1-1.05-1.06c-.05-.2-.05-.43-.05-.89ZM10.8 11.86c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06Z"
  />
</svg>`,sHe=Object.freeze(Object.defineProperty({__proto__:null,qrCodeIcon:iHe},Symbol.toStringTag,{value:"Module"})),oHe=xe`<svg
  fill="none"
  viewBox="0 0 21 20"
>
  <path
    fill="currentColor"
    d="M8.8071 0.292893C9.19763 0.683417 9.19763 1.31658 8.8071 1.70711L6.91421 3.6H11.8404C14.3368 3.6 16.5533 5.1975 17.3427 7.56588L17.4487 7.88377C17.6233 8.40772 17.3402 8.97404 16.8162 9.14868C16.2923 9.32333 15.726 9.04017 15.5513 8.51623L15.4453 8.19834C14.9281 6.64664 13.476 5.6 11.8404 5.6H6.91421L8.8071 7.49289C9.19763 7.88342 9.19763 8.51658 8.8071 8.90711C8.41658 9.29763 7.78341 9.29763 7.39289 8.90711L3.79289 5.30711C3.40236 4.91658 3.40236 4.28342 3.79289 3.89289L7.39289 0.292893C7.78341 -0.0976311 8.41658 -0.0976311 8.8071 0.292893ZM4.18377 10.8513C4.70771 10.6767 5.27403 10.9598 5.44868 11.4838L5.55464 11.8017C6.07188 13.3534 7.52401 14.4 9.15964 14.4L14.0858 14.4L12.1929 12.5071C11.8024 12.1166 11.8024 11.4834 12.1929 11.0929C12.5834 10.7024 13.2166 10.7024 13.6071 11.0929L17.2071 14.6929C17.5976 15.0834 17.5976 15.7166 17.2071 16.1071L13.6071 19.7071C13.2166 20.0976 12.5834 20.0976 12.1929 19.7071C11.8024 19.3166 11.8024 18.6834 12.1929 18.2929L14.0858 16.4L9.15964 16.4C6.66314 16.4 4.44674 14.8025 3.65728 12.4341L3.55131 12.1162C3.37667 11.5923 3.65983 11.026 4.18377 10.8513Z"
  /></svg
>`,aHe=Object.freeze(Object.defineProperty({__proto__:null,recycleHorizontalSvg:oHe},Symbol.toStringTag,{value:"Module"})),cHe=xe`<svg fill="none" viewBox="0 0 14 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.94 1.04a1 1 0 0 1 .7 1.23l-.48 1.68a5.85 5.85 0 0 1 8.53 4.32 5.86 5.86 0 0 1-11.4 2.56 1 1 0 0 1 1.9-.57 3.86 3.86 0 1 0 1.83-4.5l1.87.53a1 1 0 0 1-.55 1.92l-4.1-1.15a1 1 0 0 1-.69-1.23l1.16-4.1a1 1 0 0 1 1.23-.7Z"
    clip-rule="evenodd"
  />
</svg>`,uHe=Object.freeze(Object.defineProperty({__proto__:null,refreshSvg:cHe},Symbol.toStringTag,{value:"Module"})),lHe=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M9.36 4.21a5.14 5.14 0 1 0 0 10.29 5.14 5.14 0 0 0 0-10.29ZM1.64 9.36a7.71 7.71 0 1 1 14 4.47l2.52 2.5a1.29 1.29 0 1 1-1.82 1.83l-2.51-2.51A7.71 7.71 0 0 1 1.65 9.36Z"
    clip-rule="evenodd"
  />
</svg>`,dHe=Object.freeze(Object.defineProperty({__proto__:null,searchSvg:lHe},Symbol.toStringTag,{value:"Module"})),fHe=xe`<svg fill="none" viewBox="0 0 21 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M14.3808 4.34812C13.72 4.47798 12.8501 4.7587 11.5748 5.17296L9.00869 6.00646C6.90631 6.68935 5.40679 7.17779 4.38121 7.63178C3.87166 7.85734 3.5351 8.05091 3.32022 8.22035C3.11183 8.38466 3.07011 8.48486 3.05969 8.51817C2.98058 8.77103 2.98009 9.04195 3.05831 9.29509C3.06861 9.32844 3.10998 9.42878 3.31777 9.59384C3.53205 9.76404 3.86792 9.95881 4.37667 10.1862C5.29287 10.5957 6.58844 11.0341 8.35529 11.6164L10.8876 8.59854C11.2426 8.17547 11.8733 8.12028 12.2964 8.47528C12.7195 8.83029 12.7746 9.46104 12.4196 9.88412L9.88738 12.9019C10.7676 14.5408 11.4244 15.7406 11.9867 16.5718C12.299 17.0333 12.5491 17.3303 12.7539 17.5117C12.9526 17.6877 13.0586 17.711 13.0932 17.7154C13.3561 17.7484 13.6228 17.7009 13.8581 17.5791C13.8891 17.563 13.9805 17.5046 14.1061 17.2708C14.2357 17.0298 14.3679 16.6647 14.5015 16.1237C14.7705 15.0349 14.9912 13.4733 15.2986 11.2843L15.6738 8.61249C15.8603 7.28456 15.9857 6.37917 15.9989 5.7059C16.012 5.03702 15.9047 4.8056 15.8145 4.69183C15.7044 4.55297 15.5673 4.43792 15.4114 4.35365C15.2837 4.28459 15.0372 4.2191 14.3808 4.34812ZM7.99373 13.603C6.11919 12.9864 4.6304 12.4902 3.5606 12.0121C2.98683 11.7557 2.4778 11.4808 2.07383 11.1599C1.66337 10.8339 1.31312 10.4217 1.14744 9.88551C0.949667 9.24541 0.950886 8.56035 1.15094 7.92096C1.31852 7.38534 1.67024 6.97442 2.08185 6.64985C2.48697 6.33041 2.99697 6.05734 3.57166 5.80295C4.70309 5.3021 6.30179 4.78283 8.32903 4.12437L11.0196 3.25042C12.2166 2.86159 13.2017 2.54158 13.9951 2.38566C14.8065 2.22618 15.6202 2.19289 16.3627 2.59437C16.7568 2.80747 17.1035 3.09839 17.3818 3.4495C17.9062 4.111 18.0147 4.91815 17.9985 5.74496C17.9827 6.55332 17.8386 7.57903 17.6636 8.82534L17.2701 11.6268C16.9737 13.7376 16.7399 15.4022 16.4432 16.6034C16.2924 17.2135 16.1121 17.7632 15.8678 18.2176C15.6197 18.6794 15.2761 19.0971 14.7777 19.3551C14.1827 19.6632 13.5083 19.7833 12.8436 19.6997C12.2867 19.6297 11.82 19.3563 11.4277 19.0087C11.0415 18.6666 10.6824 18.213 10.3302 17.6925C9.67361 16.722 8.92648 15.342 7.99373 13.603Z"
    clip-rule="evenodd"
  />
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="21"
    height="20"
    viewBox="0 0 21 20"
    fill="none"
  ></svg></svg
>`,hHe=Object.freeze(Object.defineProperty({__proto__:null,sendSvg:fHe},Symbol.toStringTag,{value:"Module"})),pHe=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.76.3a1 1 0 0 1 0 1.4L4.07 4.4h9a1 1 0 1 1 0 2h-9l2.69 2.68a1 1 0 1 1-1.42 1.42L.95 6.09a1 1 0 0 1 0-1.4l4.4-4.4a1 1 0 0 1 1.4 0Zm6.49 9.21a1 1 0 0 1 1.41 0l4.39 4.4a1 1 0 0 1 0 1.4l-4.39 4.4a1 1 0 0 1-1.41-1.42l2.68-2.68h-9a1 1 0 0 1 0-2h9l-2.68-2.68a1 1 0 0 1 0-1.42Z"
    clip-rule="evenodd"
  />
</svg>`,gHe=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalSvg:pHe},Symbol.toStringTag,{value:"Module"})),mHe=xe`<svg
  width="14"
  height="14"
  viewBox="0 0 14 14"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M13.7306 3.24213C14.0725 3.58384 14.0725 4.13786 13.7306 4.47957L10.7418 7.46737C10.4 7.80908 9.84581 7.80908 9.50399 7.46737C9.16216 7.12567 9.16216 6.57165 9.50399 6.22994L10.9986 4.73585H5.34082C4.85741 4.73585 4.46553 4.3441 4.46553 3.86085C4.46553 3.3776 4.85741 2.98585 5.34082 2.98585L10.9986 2.98585L9.50399 1.49177C9.16216 1.15006 9.16216 0.596037 9.50399 0.254328C9.84581 -0.0873803 10.4 -0.0873803 10.7418 0.254328L13.7306 3.24213ZM9.52515 10.1352C9.52515 10.6185 9.13327 11.0102 8.64986 11.0102L2.9921 11.0102L4.48669 12.5043C4.82852 12.846 4.82852 13.4001 4.48669 13.7418C4.14487 14.0835 3.59066 14.0835 3.24884 13.7418L0.26003 10.754C0.0958806 10.5899 0.0036621 10.3673 0.00366211 10.1352C0.00366212 9.90318 0.0958806 9.68062 0.26003 9.51652L3.24884 6.52872C3.59066 6.18701 4.14487 6.18701 4.48669 6.52872C4.82851 6.87043 4.82851 7.42445 4.48669 7.76616L2.9921 9.26024L8.64986 9.26024C9.13327 9.26024 9.52515 9.65199 9.52515 10.1352Z"
    fill="currentColor"
  />
</svg>

`,bHe=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalMediumSvg:mHe},Symbol.toStringTag,{value:"Module"})),yHe=xe`<svg width="10" height="10" viewBox="0 0 10 10">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.77986 0.566631C4.0589 0.845577 4.0589 1.29784 3.77986 1.57678L3.08261 2.2738H6.34184C6.73647 2.2738 7.05637 2.5936 7.05637 2.98808C7.05637 3.38257 6.73647 3.70237 6.34184 3.70237H3.08261L3.77986 4.39938C4.0589 4.67833 4.0589 5.13059 3.77986 5.40954C3.50082 5.68848 3.04841 5.68848 2.76937 5.40954L0.852346 3.49316C0.573306 3.21421 0.573306 2.76195 0.852346 2.48301L2.76937 0.566631C3.04841 0.287685 3.50082 0.287685 3.77986 0.566631ZM6.22 4.59102C6.49904 4.31208 6.95145 4.31208 7.23049 4.59102L9.14751 6.5074C9.42655 6.78634 9.42655 7.23861 9.14751 7.51755L7.23049 9.43393C6.95145 9.71287 6.49904 9.71287 6.22 9.43393C5.94096 9.15498 5.94096 8.70272 6.22 8.42377L6.91725 7.72676L3.65802 7.72676C3.26339 7.72676 2.94349 7.40696 2.94349 7.01247C2.94349 6.61798 3.26339 6.29819 3.65802 6.29819L6.91725 6.29819L6.22 5.60117C5.94096 5.32223 5.94096 4.86997 6.22 4.59102Z"
    clip-rule="evenodd"
  />
</svg>`,wHe=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalBoldSvg:yHe},Symbol.toStringTag,{value:"Module"})),vHe=xe`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
  <path 
    fill="currentColor"
    fill-rule="evenodd" 
    clip-rule="evenodd" 
    d="M8.3071 0.292893C8.69763 0.683417 8.69763 1.31658 8.3071 1.70711L6.41421 3.6H11.3404C13.8368 3.6 16.0533 5.1975 16.8427 7.56588L16.9487 7.88377C17.1233 8.40772 16.8402 8.97404 16.3162 9.14868C15.7923 9.32333 15.226 9.04017 15.0513 8.51623L14.9453 8.19834C14.4281 6.64664 12.976 5.6 11.3404 5.6H6.41421L8.3071 7.49289C8.69763 7.88342 8.69763 8.51658 8.3071 8.90711C7.91658 9.29763 7.28341 9.29763 6.89289 8.90711L3.29289 5.30711C2.90236 4.91658 2.90236 4.28342 3.29289 3.89289L6.89289 0.292893C7.28341 -0.0976311 7.91658 -0.0976311 8.3071 0.292893ZM3.68377 10.8513C4.20771 10.6767 4.77403 10.9598 4.94868 11.4838L5.05464 11.8017C5.57188 13.3534 7.024 14.4 8.65964 14.4L13.5858 14.4L11.6929 12.5071C11.3024 12.1166 11.3024 11.4834 11.6929 11.0929C12.0834 10.7024 12.7166 10.7024 13.1071 11.0929L16.7071 14.6929C17.0976 15.0834 17.0976 15.7166 16.7071 16.1071L13.1071 19.7071C12.7166 20.0976 12.0834 20.0976 11.6929 19.7071C11.3024 19.3166 11.3024 18.6834 11.6929 18.2929L13.5858 16.4L8.65964 16.4C6.16314 16.4 3.94674 14.8025 3.15728 12.4341L3.05131 12.1162C2.87667 11.5923 3.15983 11.026 3.68377 10.8513Z" 
  />
</svg>`,EHe=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalRoundedBoldSvg:vHe},Symbol.toStringTag,{value:"Module"})),_He=xe`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.48 2.18a1 1 0 0 1 1.41 0l2.68 2.68a1 1 0 1 1-1.41 1.42l-.98-.98v4.56a1 1 0 0 1-2 0V5.3l-.97.98A1 1 0 0 1 .79 4.86l2.69-2.68Zm6.34 2.93a1 1 0 0 1 1 1v4.56l.97-.98a1 1 0 1 1 1.42 1.42l-2.69 2.68a1 1 0 0 1-1.41 0l-2.68-2.68a1 1 0 0 1 1.41-1.42l.98.98V6.1a1 1 0 0 1 1-1Z"
    clip-rule="evenodd"
  />
</svg>`,CHe=Object.freeze(Object.defineProperty({__proto__:null,swapVerticalSvg:_He},Symbol.toStringTag,{value:"Module"})),AHe=xe`<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M0 0h32v32H0z"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.034 15.252c4.975-2.167 8.293-3.596 9.953-4.287 4.74-1.971 5.725-2.314 6.366-2.325.142-.002.457.033.662.198.172.14.22.33.243.463.022.132.05.435.028.671-.257 2.7-1.368 9.248-1.933 12.27-.24 1.28-.71 1.708-1.167 1.75-.99.091-1.743-.655-2.703-1.284-1.502-.985-2.351-1.598-3.81-2.558-1.684-1.11-.592-1.721.368-2.718.252-.261 4.619-4.233 4.703-4.594.01-.045.02-.213-.08-.301-.1-.09-.246-.059-.353-.035-.15.034-2.55 1.62-7.198 4.758-.682.468-1.298.696-1.851.684-.61-.013-1.782-.344-2.653-.628-1.069-.347-1.918-.53-1.845-1.12.039-.308.462-.623 1.27-.944Z" fill="#fff"/>
  </g>
  <path d="M.5 16C.5 7.44 7.44.5 16 .5 24.56.5 31.5 7.44 31.5 16c0 8.56-6.94 15.5-15.5 15.5C7.44 31.5.5 24.56.5 16Z" stroke="#141414" stroke-opacity=".05"/>
  <defs>
    <linearGradient id="b" x1="1600" y1="0" x2="1600" y2="3176.27" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2AABEE"/>
      <stop offset="1" stop-color="#229ED9"/>
    </linearGradient>
    <clipPath id="a">
      <path d="M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z" fill="#fff"/>
    </clipPath>
  </defs>
</svg>`,xHe=Object.freeze(Object.defineProperty({__proto__:null,telegramSvg:AHe},Symbol.toStringTag,{value:"Module"})),IHe=xe`<svg width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M7 3.71875C6.0335 3.71875 5.25 2.93525 5.25 1.96875C5.25 1.00225 6.0335 0.21875 7 0.21875C7.9665 0.21875 8.75 1.00225 8.75 1.96875C8.75 2.93525 7.9665 3.71875 7 3.71875Z" fill="#949E9E"/>
  <path d="M7 8.96875C6.0335 8.96875 5.25 8.18525 5.25 7.21875C5.25 6.25225 6.0335 5.46875 7 5.46875C7.9665 5.46875 8.75 6.25225 8.75 7.21875C8.75 8.18525 7.9665 8.96875 7 8.96875Z" fill="#949E9E"/>
  <path d="M5.25 12.4688C5.25 13.4352 6.0335 14.2187 7 14.2187C7.9665 14.2187 8.75 13.4352 8.75 12.4688C8.75 11.5023 7.9665 10.7188 7 10.7188C6.0335 10.7188 5.25 11.5023 5.25 12.4688Z" fill="#949E9E"/>
</svg>`,PHe=Object.freeze(Object.defineProperty({__proto__:null,threeDotsSvg:IHe},Symbol.toStringTag,{value:"Module"})),SHe=xe`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5A3E85" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M18.22 25.7 20 23.91h3.34l2.1-2.1v-6.68H15.4v8.78h2.82v1.77Zm3.87-8.16h1.25v3.66H22.1v-3.66Zm-3.34 0H20v3.66h-1.25v-3.66ZM20 7.9a12 12 0 1 0 0 24 12 12 0 0 0 0-24Zm6.69 14.56-3.66 3.66h-2.72l-1.77 1.78h-1.88V26.1H13.3v-9.82l.94-2.4H26.7v8.56Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,THe=Object.freeze(Object.defineProperty({__proto__:null,twitchSvg:SHe},Symbol.toStringTag,{value:"Module"})),OHe=xe`<svg fill="none" viewBox="0 0 41 40">
  <g clip-path="url(#a)">
    <path fill="#000" d="M.8 0h40v40H.8z" />
    <path
      fill="#fff"
      d="m22.63 18.46 7.14-8.3h-1.69l-6.2 7.2-4.96-7.2H11.2l7.5 10.9-7.5 8.71h1.7l6.55-7.61 5.23 7.61h5.72l-7.77-11.31Zm-9.13-7.03h2.6l11.98 17.13h-2.6L13.5 11.43Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M.8 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z" /></clipPath>
  </defs>
</svg>`,tW=Object.freeze(Object.defineProperty({__proto__:null,xSvg:OHe},Symbol.toStringTag,{value:"Module"})),jHe=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="m14.36 4.74.01.42c0 4.34-3.3 9.34-9.34 9.34A9.3 9.3 0 0 1 0 13.03a6.6 6.6 0 0 0 4.86-1.36 3.29 3.29 0 0 1-3.07-2.28c.5.1 1 .07 1.48-.06A3.28 3.28 0 0 1 .64 6.11v-.04c.46.26.97.4 1.49.41A3.29 3.29 0 0 1 1.11 2.1a9.32 9.32 0 0 0 6.77 3.43 3.28 3.28 0 0 1 5.6-3 6.59 6.59 0 0 0 2.08-.8 3.3 3.3 0 0 1-1.45 1.82A6.53 6.53 0 0 0 16 3.04c-.44.66-1 1.23-1.64 1.7Z"
  />
</svg>`,BHe=Object.freeze(Object.defineProperty({__proto__:null,twitterIconSvg:jHe},Symbol.toStringTag,{value:"Module"})),RHe=xe`<svg fill="none" viewBox="0 0 28 28">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M18.1 4.76c-.42-.73-1.33-1.01-2.09-.66l-1.42.66c-.37.18-.8.18-1.18 0l-1.4-.65a1.63 1.63 0 0 0-2.1.66l-.84 1.45c-.2.34-.53.59-.92.67l-1.7.35c-.83.17-1.39.94-1.3 1.78l.19 1.56c.04.39-.08.78-.33 1.07l-1.12 1.3c-.52.6-.52 1.5 0 2.11L5 16.38c.25.3.37.68.33 1.06l-.18 1.57c-.1.83.46 1.6 1.28 1.78l1.7.35c.4.08.73.32.93.66l.84 1.43a1.63 1.63 0 0 0 2.09.66l1.41-.66c.37-.17.8-.17 1.18 0l1.43.67c.76.35 1.66.07 2.08-.65l.86-1.45c.2-.34.54-.58.92-.66l1.68-.35A1.63 1.63 0 0 0 22.84 19l-.18-1.57a1.4 1.4 0 0 1 .33-1.06l1.12-1.32c.52-.6.52-1.5 0-2.11l-1.12-1.3a1.4 1.4 0 0 1-.33-1.07l.18-1.57c.1-.83-.46-1.6-1.28-1.77l-1.68-.35a1.4 1.4 0 0 1-.92-.66l-.86-1.47Zm-3.27-3.2a4.43 4.43 0 0 1 5.69 1.78l.54.93 1.07.22a4.43 4.43 0 0 1 3.5 4.84l-.11.96.7.83a4.43 4.43 0 0 1 .02 5.76l-.72.85.1.96a4.43 4.43 0 0 1-3.5 4.84l-1.06.22-.54.92a4.43 4.43 0 0 1-5.68 1.77l-.84-.4-.82.39a4.43 4.43 0 0 1-5.7-1.79l-.51-.89-1.09-.22a4.43 4.43 0 0 1-3.5-4.84l.1-.96-.72-.85a4.43 4.43 0 0 1 .01-5.76l.71-.83-.1-.95a4.43 4.43 0 0 1 3.5-4.84l1.08-.23.53-.9a4.43 4.43 0 0 1 5.7-1.8l.81.38.83-.39ZM18.2 9.4c.65.42.84 1.28.42 1.93l-4.4 6.87a1.4 1.4 0 0 1-2.26.14L9.5 15.39a1.4 1.4 0 0 1 2.15-1.8l1.23 1.48 3.38-5.26a1.4 1.4 0 0 1 1.93-.42Z"
    clip-rule="evenodd"
  />
</svg>`,kHe=Object.freeze(Object.defineProperty({__proto__:null,verifySvg:RHe},Symbol.toStringTag,{value:"Module"})),NHe=xe`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="m4.1 12.43-.45-.78-.93-.2a1.65 1.65 0 0 1-1.31-1.8l.1-.86-.61-.71a1.65 1.65 0 0 1 0-2.16l.6-.7-.09-.85c-.1-.86.47-1.64 1.3-1.81l.94-.2.45-.78A1.65 1.65 0 0 1 6.23.9l.77.36.78-.36c.77-.36 1.69-.07 2.12.66l.47.8.91.2c.84.17 1.4.95 1.31 1.8l-.1.86.6.7c.54.62.54 1.54.01 2.16l-.6.71.09.86c.1.85-.47 1.63-1.3 1.8l-.92.2-.47.79a1.65 1.65 0 0 1-2.12.66L7 12.74l-.77.36c-.78.35-1.7.07-2.13-.67Zm5.74-6.9a1 1 0 1 0-1.68-1.07L6.32 7.3l-.55-.66a1 1 0 0 0-1.54 1.28l1.43 1.71a1 1 0 0 0 1.61-.1l2.57-4Z"
    clip-rule="evenodd"
  />
</svg>`,DHe=Object.freeze(Object.defineProperty({__proto__:null,verifyFilledSvg:NHe},Symbol.toStringTag,{value:"Module"})),$He=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 5.5c0-1.8 1.46-3.25 3.25-3.25H14.5c1.8 0 3.25 1.46 3.25 3.25v.28A3.25 3.25 0 0 1 20 8.88v2.24c0 1.45-.94 2.68-2.25 3.1v.28c0 1.8-1.46 3.25-3.25 3.25H3.25A3.25 3.25 0 0 1 0 14.5v-9Zm15.75 8.88h-2.38a4.38 4.38 0 0 1 0-8.76h2.38V5.5c0-.69-.56-1.25-1.25-1.25H3.25C2.56 4.25 2 4.81 2 5.5v9c0 .69.56 1.25 1.25 1.25H14.5c.69 0 1.25-.56 1.25-1.25v-.13Zm-2.38-6.76a2.37 2.37 0 1 0 0 4.75h3.38c.69 0 1.25-.55 1.25-1.24V8.87c0-.69-.56-1.24-1.25-1.24h-3.38Z"
    clip-rule="evenodd"
  />
</svg>`,MHe=Object.freeze(Object.defineProperty({__proto__:null,walletSvg:$He},Symbol.toStringTag,{value:"Module"})),LHe=xe`<svg fill="none" viewBox="0 0 96 67">
  <path
    fill="currentColor"
    d="M25.32 18.8a32.56 32.56 0 0 1 45.36 0l1.5 1.47c.63.62.63 1.61 0 2.22l-5.15 5.05c-.31.3-.82.3-1.14 0l-2.07-2.03a22.71 22.71 0 0 0-31.64 0l-2.22 2.18c-.31.3-.82.3-1.14 0l-5.15-5.05a1.55 1.55 0 0 1 0-2.22l1.65-1.62Zm56.02 10.44 4.59 4.5c.63.6.63 1.6 0 2.21l-20.7 20.26c-.62.61-1.63.61-2.26 0L48.28 41.83a.4.4 0 0 0-.56 0L33.03 56.21c-.63.61-1.64.61-2.27 0L10.07 35.95a1.55 1.55 0 0 1 0-2.22l4.59-4.5a1.63 1.63 0 0 1 2.27 0L31.6 43.63a.4.4 0 0 0 .57 0l14.69-14.38a1.63 1.63 0 0 1 2.26 0l14.69 14.38a.4.4 0 0 0 .57 0l14.68-14.38a1.63 1.63 0 0 1 2.27 0Z"
  />
  <path
    stroke="#000"
    stroke-opacity=".1"
    d="M25.67 19.15a32.06 32.06 0 0 1 44.66 0l1.5 1.48c.43.42.43 1.09 0 1.5l-5.15 5.05a.31.31 0 0 1-.44 0l-2.07-2.03a23.21 23.21 0 0 0-32.34 0l-2.22 2.18a.31.31 0 0 1-.44 0l-5.15-5.05a1.05 1.05 0 0 1 0-1.5l1.65-1.63ZM81 29.6l4.6 4.5c.42.41.42 1.09 0 1.5l-20.7 20.26c-.43.43-1.14.43-1.57 0L48.63 41.47a.9.9 0 0 0-1.26 0L32.68 55.85c-.43.43-1.14.43-1.57 0L10.42 35.6a1.05 1.05 0 0 1 0-1.5l4.59-4.5a1.13 1.13 0 0 1 1.57 0l14.68 14.38a.9.9 0 0 0 1.27 0l-.35-.35.35.35L47.22 29.6a1.13 1.13 0 0 1 1.56 0l14.7 14.38a.9.9 0 0 0 1.26 0L79.42 29.6a1.13 1.13 0 0 1 1.57 0Z"
  />
</svg>`,UHe=xe`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_22274_4692)">
<path d="M0 6.64C0 4.17295 0 2.93942 0.525474 2.01817C0.880399 1.39592 1.39592 0.880399 2.01817 0.525474C2.93942 0 4.17295 0 6.64 0H9.36C11.8271 0 13.0606 0 13.9818 0.525474C14.6041 0.880399 15.1196 1.39592 15.4745 2.01817C16 2.93942 16 4.17295 16 6.64V9.36C16 11.8271 16 13.0606 15.4745 13.9818C15.1196 14.6041 14.6041 15.1196 13.9818 15.4745C13.0606 16 11.8271 16 9.36 16H6.64C4.17295 16 2.93942 16 2.01817 15.4745C1.39592 15.1196 0.880399 14.6041 0.525474 13.9818C0 13.0606 0 11.8271 0 9.36V6.64Z" fill="#C7B994"/>
<path d="M4.49038 5.76609C6.42869 3.86833 9.5713 3.86833 11.5096 5.76609L11.7429 5.99449C11.8398 6.08938 11.8398 6.24323 11.7429 6.33811L10.9449 7.11942C10.8964 7.16686 10.8179 7.16686 10.7694 7.11942L10.4484 6.80512C9.09617 5.48119 6.90381 5.48119 5.5516 6.80512L5.20782 7.14171C5.15936 7.18915 5.08079 7.18915 5.03234 7.14171L4.23434 6.3604C4.13742 6.26552 4.13742 6.11167 4.23434 6.01678L4.49038 5.76609ZM13.1599 7.38192L13.8702 8.07729C13.9671 8.17217 13.9671 8.32602 13.8702 8.4209L10.6677 11.5564C10.5708 11.6513 10.4137 11.6513 10.3168 11.5564L8.04388 9.33105C8.01965 9.30733 7.98037 9.30733 7.95614 9.33105L5.6833 11.5564C5.58638 11.6513 5.42925 11.6513 5.33234 11.5564L2.12982 8.42087C2.0329 8.32598 2.0329 8.17213 2.12982 8.07724L2.84004 7.38188C2.93695 7.28699 3.09408 7.28699 3.191 7.38188L5.46392 9.60726C5.48815 9.63098 5.52743 9.63098 5.55166 9.60726L7.82447 7.38188C7.92138 7.28699 8.07851 7.28699 8.17543 7.38187L10.4484 9.60726C10.4726 9.63098 10.5119 9.63098 10.5361 9.60726L12.809 7.38192C12.9059 7.28703 13.063 7.28703 13.1599 7.38192Z" fill="#202020"/>
</g>
<defs>
<clipPath id="clip0_22274_4692">
<path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="white"/>
</clipPath>
</defs>
</svg>
`,qHe=xe`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="11" cy="11" r="11" transform="matrix(-1 0 0 1 23 1)" fill="#202020"/>
<circle cx="11" cy="11" r="11.5" transform="matrix(-1 0 0 1 23 1)" stroke="#C7B994" stroke-opacity="0.7"/>
<path d="M15.4523 11.0686L16.7472 9.78167C13.8205 6.87297 10.1838 6.87297 7.25708 9.78167L8.55201 11.0686C10.7779 8.85645 13.2279 8.85645 15.4538 11.0686H15.4523Z" fill="#C7B994"/>
<path d="M15.0199 14.067L12 11.0656L8.98 14.067L5.96004 11.0656L4.66663 12.3511L8.98 16.6393L12 13.638L15.0199 16.6393L19.3333 12.3511L18.0399 11.0656L15.0199 14.067Z" fill="#C7B994"/>
</svg>
`,xA=Object.freeze(Object.defineProperty({__proto__:null,walletConnectBrownSvg:qHe,walletConnectLightBrownSvg:UHe,walletConnectSvg:LHe},Symbol.toStringTag,{value:"Module"})),zHe=xe`
  <svg fill="none" viewBox="0 0 48 44">
    <path
      style="fill: var(--wui-color-bg-300);"
      d="M4.56 8.64c-1.23 1.68-1.23 4.08-1.23 8.88v8.96c0 4.8 0 7.2 1.23 8.88.39.55.87 1.02 1.41 1.42C7.65 38 10.05 38 14.85 38h14.3c4.8 0 7.2 0 8.88-1.22a6.4 6.4 0 0 0 1.41-1.42c.83-1.14 1.1-2.6 1.19-4.92a6.4 6.4 0 0 0 5.16-4.65c.21-.81.21-1.8.21-3.79 0-1.98 0-2.98-.22-3.79a6.4 6.4 0 0 0-5.15-4.65c-.1-2.32-.36-3.78-1.19-4.92a6.4 6.4 0 0 0-1.41-1.42C36.35 6 33.95 6 29.15 6h-14.3c-4.8 0-7.2 0-8.88 1.22a6.4 6.4 0 0 0-1.41 1.42Z"
    />
    <path
      style="fill: var(--wui-color-fg-200);"
      fill-rule="evenodd"
      d="M2.27 11.33a6.4 6.4 0 0 1 6.4-6.4h26.66a6.4 6.4 0 0 1 6.4 6.4v1.7a6.4 6.4 0 0 1 5.34 6.3v5.34a6.4 6.4 0 0 1-5.34 6.3v1.7a6.4 6.4 0 0 1-6.4 6.4H8.67a6.4 6.4 0 0 1-6.4-6.4V11.33ZM39.6 31.07h-6.93a9.07 9.07 0 1 1 0-18.14h6.93v-1.6a4.27 4.27 0 0 0-4.27-4.26H8.67a4.27 4.27 0 0 0-4.27 4.26v21.34a4.27 4.27 0 0 0 4.27 4.26h26.66a4.27 4.27 0 0 0 4.27-4.26v-1.6Zm-6.93-16a6.93 6.93 0 0 0 0 13.86h8a4.27 4.27 0 0 0 4.26-4.26v-5.34a4.27 4.27 0 0 0-4.26-4.26h-8Z"
      clip-rule="evenodd"
    />
  </svg>
`,FHe=Object.freeze(Object.defineProperty({__proto__:null,walletPlaceholderSvg:zHe},Symbol.toStringTag,{value:"Module"})),HHe=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    d="M11 6.67a1 1 0 1 0-2 0v2.66a1 1 0 0 0 2 0V6.67ZM10 14.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10 1a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm-7 9a7 7 0 1 1 14 0 7 7 0 0 1-14 0Z"
    clip-rule="evenodd"
  />
</svg>`,WHe=Object.freeze(Object.defineProperty({__proto__:null,warningCircleSvg:HHe},Symbol.toStringTag,{value:"Module"})),VHe=xe`<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.125 6.875C9.125 6.57833 9.21298 6.28832 9.3778 6.04165C9.54262 5.79497 9.77689 5.60271 10.051 5.48918C10.3251 5.37565 10.6267 5.34594 10.9176 5.40382C11.2086 5.4617 11.4759 5.60456 11.6857 5.81434C11.8954 6.02412 12.0383 6.29139 12.0962 6.58236C12.1541 6.87334 12.1244 7.17494 12.0108 7.44903C11.8973 7.72311 11.705 7.95738 11.4584 8.1222C11.2117 8.28703 10.9217 8.375 10.625 8.375C10.2272 8.375 9.84565 8.21696 9.56434 7.93566C9.28304 7.65436 9.125 7.27282 9.125 6.875ZM21.125 11C21.125 13.0025 20.5312 14.9601 19.4186 16.6251C18.3061 18.2902 16.7248 19.5879 14.8747 20.3543C13.0246 21.1206 10.9888 21.3211 9.02471 20.9305C7.06066 20.5398 5.25656 19.5755 3.84055 18.1595C2.42454 16.7435 1.46023 14.9393 1.06955 12.9753C0.678878 11.0112 0.879387 8.97543 1.64572 7.12533C2.41206 5.27523 3.70981 3.69392 5.37486 2.58137C7.0399 1.46882 8.99747 0.875 11 0.875C13.6844 0.877978 16.258 1.94567 18.1562 3.84383C20.0543 5.74199 21.122 8.3156 21.125 11ZM18.875 11C18.875 9.44247 18.4131 7.91992 17.5478 6.62488C16.6825 5.32985 15.4526 4.32049 14.0136 3.72445C12.5747 3.12841 10.9913 2.97246 9.46367 3.27632C7.93607 3.58017 6.53288 4.3302 5.43154 5.43153C4.3302 6.53287 3.58018 7.93606 3.27632 9.46366C2.97246 10.9913 3.12841 12.5747 3.72445 14.0136C4.32049 15.4526 5.32985 16.6825 6.62489 17.5478C7.91993 18.4131 9.44248 18.875 11 18.875C13.0879 18.8728 15.0896 18.0424 16.566 16.566C18.0424 15.0896 18.8728 13.0879 18.875 11ZM12.125 14.4387V11.375C12.125 10.8777 11.9275 10.4008 11.5758 10.0492C11.2242 9.69754 10.7473 9.5 10.25 9.5C9.98433 9.4996 9.72708 9.59325 9.52383 9.76435C9.32058 9.93544 9.18444 10.173 9.13952 10.4348C9.09461 10.6967 9.14381 10.966 9.27843 11.195C9.41304 11.4241 9.62438 11.5981 9.875 11.6863V14.75C9.875 15.2473 10.0725 15.7242 10.4242 16.0758C10.7758 16.4275 11.2527 16.625 11.75 16.625C12.0157 16.6254 12.2729 16.5318 12.4762 16.3607C12.6794 16.1896 12.8156 15.952 12.8605 15.6902C12.9054 15.4283 12.8562 15.159 12.7216 14.93C12.587 14.7009 12.3756 14.5269 12.125 14.4387Z" fill="currentColor"/>
</svg>`,GHe=Object.freeze(Object.defineProperty({__proto__:null,infoSvg:VHe},Symbol.toStringTag,{value:"Module"})),KHe=xe`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.0162 11.6312L9.55059 2.13937C9.39228 1.86862 9.16584 1.64405 8.8938 1.48798C8.62176 1.33192 8.3136 1.2498 7.99997 1.2498C7.68634 1.2498 7.37817 1.33192 7.10613 1.48798C6.83409 1.64405 6.60765 1.86862 6.44934 2.13937L0.983716 11.6312C0.830104 11.894 0.749146 12.1928 0.749146 12.4972C0.749146 12.8015 0.830104 13.1004 0.983716 13.3631C1.14027 13.6352 1.3664 13.8608 1.63889 14.0166C1.91139 14.1725 2.22044 14.253 2.53434 14.25H13.4656C13.7793 14.2528 14.0881 14.1721 14.3603 14.0163C14.6326 13.8604 14.8585 13.635 15.015 13.3631C15.1688 13.1005 15.2499 12.8017 15.2502 12.4973C15.2504 12.193 15.1696 11.8941 15.0162 11.6312ZM13.7162 12.6125C13.6908 12.6558 13.6541 12.6914 13.6101 12.7157C13.5661 12.7399 13.5164 12.7517 13.4662 12.75H2.53434C2.48415 12.7517 2.43442 12.7399 2.39042 12.7157C2.34641 12.6914 2.30976 12.6558 2.28434 12.6125C2.26278 12.5774 2.25137 12.5371 2.25137 12.4959C2.25137 12.4548 2.26278 12.4144 2.28434 12.3794L7.74997 2.88749C7.77703 2.84583 7.81408 2.8116 7.85774 2.7879C7.9014 2.7642 7.95029 2.75178 7.99997 2.75178C8.04964 2.75178 8.09854 2.7642 8.1422 2.7879C8.18586 2.8116 8.2229 2.84583 8.24997 2.88749L13.715 12.3794C13.7367 12.4143 13.7483 12.4546 13.7486 12.4958C13.7488 12.5369 13.7376 12.5773 13.7162 12.6125ZM7.24997 8.49999V6.49999C7.24997 6.30108 7.32898 6.11031 7.46964 5.96966C7.61029 5.82901 7.80105 5.74999 7.99997 5.74999C8.19888 5.74999 8.38964 5.82901 8.5303 5.96966C8.67095 6.11031 8.74997 6.30108 8.74997 6.49999V8.49999C8.74997 8.6989 8.67095 8.88967 8.5303 9.03032C8.38964 9.17097 8.19888 9.24999 7.99997 9.24999C7.80105 9.24999 7.61029 9.17097 7.46964 9.03032C7.32898 8.88967 7.24997 8.6989 7.24997 8.49999ZM8.99997 11C8.99997 11.1978 8.94132 11.3911 8.83144 11.5556C8.72155 11.72 8.56538 11.8482 8.38265 11.9239C8.19992 11.9996 7.99886 12.0194 7.80488 11.9808C7.6109 11.9422 7.43271 11.847 7.29286 11.7071C7.15301 11.5672 7.05777 11.3891 7.01918 11.1951C6.9806 11.0011 7.0004 10.8 7.07609 10.6173C7.15177 10.4346 7.27995 10.2784 7.4444 10.1685C7.60885 10.0586 7.80219 9.99999 7.99997 9.99999C8.26518 9.99999 8.51954 10.1053 8.70707 10.2929C8.89461 10.4804 8.99997 10.7348 8.99997 11Z" fill="currentColor"/>
</svg>
`,ZHe=Object.freeze(Object.defineProperty({__proto__:null,exclamationTriangleSvg:KHe},Symbol.toStringTag,{value:"Module"})),YHe=xe`<svg width="60" height="16" viewBox="0 0 60 16" fill="none"">
  <path d="M9.3335 4.66667C9.3335 2.08934 11.4229 0 14.0002 0H20.6669C23.2442 0 25.3335 2.08934 25.3335 4.66667V11.3333C25.3335 13.9106 23.2442 16 20.6669 16H14.0002C11.4229 16 9.3335 13.9106 9.3335 11.3333V4.66667Z" fill="#363636"/>
  <path d="M15.6055 11.0003L17.9448 4.66699H18.6316L16.2923 11.0003H15.6055Z" fill="#F6F6F6"/>
  <path d="M0 4.33333C0 1.9401 1.9401 0 4.33333 0C6.72657 0 8.66669 1.9401 8.66669 4.33333V11.6667C8.66669 14.0599 6.72657 16 4.33333 16C1.9401 16 0 14.0599 0 11.6667V4.33333Z" fill="#363636"/>
  <path d="M3.9165 9.99934V9.16602H4.74983V9.99934H3.9165Z" fill="#F6F6F6"/>
  <path d="M26 8C26 3.58172 29.3517 0 33.4863 0H52.5137C56.6483 0 60 3.58172 60 8C60 12.4183 56.6483 16 52.5137 16H33.4863C29.3517 16 26 12.4183 26 8Z" fill="#363636"/>
  <path d="M49.3687 9.95834V6.26232H50.0213V6.81966C50.256 6.40899 50.7326 6.16699 51.2606 6.16699C52.0599 6.16699 52.6173 6.67299 52.6173 7.65566V9.95834H51.972V7.69234C51.972 7.04696 51.6053 6.70966 51.07 6.70966C50.4906 6.70966 50.0213 7.17168 50.0213 7.82433V9.95834H49.3687Z" fill="#F6F6F6"/>
  <path d="M45.2538 9.95773L44.5718 6.26172H45.1877L45.6717 9.31242L46.3098 7.30306H46.9184L47.5491 9.29041L48.0404 6.26172H48.6564L47.9744 9.95773H47.2411L46.6178 8.03641L45.9871 9.95773H45.2538Z" fill="#F6F6F6"/>
  <path d="M42.3709 10.0536C41.2489 10.0536 40.5889 9.21765 40.5889 8.1103C40.5889 7.01035 41.2489 6.16699 42.3709 6.16699C43.4929 6.16699 44.1529 7.01035 44.1529 8.1103C44.1529 9.21765 43.4929 10.0536 42.3709 10.0536ZM42.3709 9.51096C43.1775 9.51096 43.4856 8.82164 43.4856 8.10296C43.4856 7.39163 43.1775 6.70966 42.3709 6.70966C41.5642 6.70966 41.2562 7.39163 41.2562 8.10296C41.2562 8.82164 41.5642 9.51096 42.3709 9.51096Z" fill="#F6F6F6"/>
  <path d="M38.2805 10.0536C37.1952 10.0536 36.5132 9.22499 36.5132 8.1103C36.5132 7.00302 37.1952 6.16699 38.2805 6.16699C39.1972 6.16699 40.0038 6.68766 39.9159 8.27896H37.1805C37.2319 8.96103 37.5472 9.5183 38.2805 9.5183C38.7718 9.5183 39.0945 9.21765 39.2045 8.87299H39.8499C39.7472 9.48903 39.1679 10.0536 38.2805 10.0536ZM37.1952 7.78765H39.2852C39.2338 7.04696 38.8892 6.70232 38.2805 6.70232C37.6132 6.70232 37.2832 7.18635 37.1952 7.78765Z" fill="#F6F6F6"/>
  <path d="M33.3828 9.95773V6.26172H34.0501V6.88506C34.2848 6.47439 34.6882 6.26172 35.1061 6.26172H35.9935V6.88506H35.0548C34.4682 6.88506 34.0501 7.26638 34.0501 8.00706V9.95773H33.3828Z" fill="#F6F6F6"/>
</svg>`,QHe=Object.freeze(Object.defineProperty({__proto__:null,reownSvg:YHe},Symbol.toStringTag,{value:"Module"}))})();export{ws as $,le as A,ad as B,ur as C,Gn as D,SG as E,sE as F,Zl as G,Vs as H,Ui as I,FWe as J,qWe as K,UWe as L,zWe as M,Jie as N,se as O,Ws as P,od as Q,lr as R,IWe as S,vWe as T,tie as U,g5 as V,Es as W,Qr as X,c1 as Y,Er as Z,re as _,qV as a,kp as a0,jZ as a1,VG as a2,uE as a3,MWe as a4,$We as a5,bi as a6,TWe as a7,CWe as a8,Nj as a9,pde as aa,tWe as ab,mde as ac,HG as ad,Pne as ae,PWe as af,LWe as ag,DWe as ah,CT as ai,px as b,LO as c,MO as d,Fi as e,UO as f,Dfe as g,MV as h,RWe as i,xWe as j,ui as k,HWe as l,Bm as m,Qn as n,qO as o,zO as p,kr as q,WWe as r,kWe as s,xo as t,BWe as u,DK as v,ahe as w,che as x,tj as y,NWe as z,__tla};