import{y as wp}from"./react-DnbZbiEq.js";function a1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ap(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var s=!1;try{s=this instanceof n}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}const Ep="6.13.1";function Pp(t,e,r){const n=e.split("|").map(i=>i.trim());for(let i=0;i<n.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${r}`,s.value=t,s}async function wt(t){const e=Object.keys(t);return(await Promise.all(e.map(n=>Promise.resolve(t[n])))).reduce((n,s,i)=>(n[e[i]]=s,n),{})}function xe(t,e,r){for(let n in e){let s=e[n];const i=r?r[n]:null;i&&Pp(s,i,n),Object.defineProperty(t,n,{enumerable:!0,value:s,writable:!1})}}function es(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(es).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let r="0x";for(let n=0;n<t.length;n++)r+=e[t[n]>>4],r+=e[t[n]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return es(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map(r=>`${es(r)}: ${es(t[r])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function bt(t,e){return t&&t.code===e}function Pc(t){return bt(t,"CALL_EXCEPTION")}function Qe(t,e,r){let n=t;{const i=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${es(r)}`);for(const a in r){if(a==="shortMessage")continue;const o=r[a];i.push(a+"="+es(o))}}i.push(`code=${e}`),i.push(`version=${Ep}`),i.length&&(t+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(t);break;default:s=new Error(t)}return xe(s,{code:e}),r&&Object.assign(s,r),s.shortMessage==null&&xe(s,{shortMessage:n}),s}function re(t,e,r,n){if(!t)throw Qe(e,r,n)}function V(t,e,r,n){re(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function R0(t,e,r){r==null&&(r=""),r&&(r=": "+r),re(t>=e,"missing arguemnt"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),re(t<=e,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}const vp=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");t.push(e)}catch{}return t},[]);function C0(t){re(vp.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function Ki(t,e,r){if(r==null&&(r=""),t!==e){let n=r,s="new";r&&(n+=".",s+=" "+r),re(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function S0(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((t.length-2)/2);let s=2;for(let i=0;i<n.length;i++)n[i]=parseInt(t.substring(s,s+2),16),s+=2;return n}V(!1,"invalid BytesLike value",e||"value",t)}function ke(t,e){return S0(t,e,!1)}function At(t,e){return S0(t,e,!0)}function Me(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function vc(t){return Me(t,!0)||t instanceof Uint8Array}const Ou="0123456789abcdef";function le(t){const e=ke(t);let r="0x";for(let n=0;n<e.length;n++){const s=e[n];r+=Ou[(s&240)>>4]+Ou[s&15]}return r}function $e(t){return"0x"+t.map(e=>le(e).substring(2)).join("")}function ns(t){return Me(t,!0)?(t.length-2)/2:ke(t).length}function Je(t,e,r){const n=ke(t);return r!=null&&r>n.length&&re(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),le(n.slice(e??0,r??n.length))}function _0(t,e,r){const n=ke(t);re(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),r?s.set(n,e-n.length):s.set(n,0),le(s)}function jn(t,e){return _0(t,e,!0)}function Op(t,e){return _0(t,e,!1)}const La=BigInt(0),Xt=BigInt(1),ts=9007199254740991;function kp(t,e){const r=Fa(t,"value"),n=BigInt(Ne(e,"width"));if(re(r>>n===La,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-Xt){const s=(Xt<<n)-Xt;return-((~r&s)+Xt)}return r}function I0(t,e){let r=be(t,"value");const n=BigInt(Ne(e,"width")),s=Xt<<n-Xt;if(r<La){r=-r,re(r<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const i=(Xt<<n)-Xt;return(~r&i)+Xt}else re(r<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return r}function Ci(t,e){const r=Fa(t,"value"),n=BigInt(Ne(e,"bits"));return r&(Xt<<n)-Xt}function be(t,e){switch(typeof t){case"bigint":return t;case"number":return V(Number.isInteger(t),"underflow",e||"value",t),V(t>=-ts&&t<=ts,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){V(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}V(!1,"invalid BigNumberish value",e||"value",t)}function Fa(t,e){const r=be(t,e);return re(r>=La,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const ku="0123456789abcdef";function Oc(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=ku[r>>4],e+=ku[r&15];return BigInt(e)}return be(t)}function Ne(t,e){switch(typeof t){case"bigint":return V(t>=-ts&&t<=ts,"overflow",e||"value",t),Number(t);case"number":return V(Number.isInteger(t),"underflow",e||"value",t),V(t>=-ts&&t<=ts,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Ne(BigInt(t),e)}catch(r){V(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}V(!1,"invalid numeric value",e||"value",t)}function Bp(t){return Ne(Oc(t))}function Kr(t,e){let n=Fa(t,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{const s=Ne(e,"width");for(re(s*2>=n.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<s*2;)n="0"+n}return"0x"+n}function Et(t){const e=Fa(t,"value");if(e===La)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let s=0;s<n.length;s++){const i=s*2;n[s]=parseInt(r.substring(i,i+2),16)}return n}function rs(t){let e=le(vc(t)?t:Et(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const Bu="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const Nu=BigInt(58);function Np(t){const e=ke(t);let r=Oc(e),n="";for(;r;)n=Bu[Number(r%Nu)]+n,r/=Nu;for(let s=0;s<e.length&&!e[s];s++)n=Bu[0]+n;return n}function Rp(t){t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return ke(e)}function Cp(t){const e=ke(t);let r="";for(let n=0;n<e.length;n++)r+=String.fromCharCode(e[n]);return btoa(r)}class T0{filter;emitter;#e;constructor(e,r,n){this.#e=r,xe(this,{emitter:e,filter:n})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}}function Sp(t,e,r,n,s){V(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function U0(t,e,r,n,s){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let i=0;for(let a=e+1;a<r.length&&r[a]>>6===2;a++)i++;return i}return t==="OVERRUN"?r.length-e-1:0}function _p(t,e,r,n,s){return t==="OVERLONG"?(V(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),n.push(s),0):(n.push(65533),U0(t,e,r))}const Ip=Object.freeze({error:Sp,ignore:U0,replace:_p});function Tp(t,e){e==null&&(e=Ip.error);const r=ke(t,"bytes"),n=[];let s=0;for(;s<r.length;){const i=r[s++];if(i>>7===0){n.push(i);continue}let a=null,o=null;if((i&224)===192)a=1,o=127;else if((i&240)===224)a=2,o=2047;else if((i&248)===240)a=3,o=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,r,n):s+=e("BAD_PREFIX",s-1,r,n);continue}if(s-1+a>=r.length){s+=e("OVERRUN",s-1,r,n);continue}let u=i&(1<<8-a-1)-1;for(let l=0;l<a;l++){let c=r[s];if((c&192)!=128){s+=e("MISSING_CONTINUE",s,r,n),u=null;break}u=u<<6|c&63,s++}if(u!==null){if(u>1114111){s+=e("OUT_OF_RANGE",s-1-a,r,n,u);continue}if(u>=55296&&u<=57343){s+=e("UTF16_SURROGATE",s-1-a,r,n,u);continue}if(u<=o){s+=e("OVERLONG",s-1-a,r,n,u);continue}n.push(u)}}return n}function $t(t,e){V(typeof t=="string","invalid string value","str",t),e!=null&&(C0(e),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);if(s<128)r.push(s);else if(s<2048)r.push(s>>6|192),r.push(s&63|128);else if((s&64512)==55296){n++;const i=t.charCodeAt(n);V(n<t.length&&(i&64512)===56320,"invalid surrogate pair","str",t);const a=65536+((s&1023)<<10)+(i&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128)}return new Uint8Array(r)}function Up(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function ka(t,e){return Up(Tp(t,e))}function L0(t){async function e(r,n){re(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");const s=r.url.split(":")[0].toLowerCase();re(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),re(s==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const a=new AbortController,o=setTimeout(()=>{i=Qe("request timeout","TIMEOUT"),a.abort()},r.timeout);n&&n.addListener(()=>{i=Qe("request cancelled","CANCELLED"),a.abort()});const u={method:r.method,headers:new Headers(Array.from(r)),body:r.body||void 0,signal:a.signal};let l;try{l=await fetch(r.url,u)}catch(b){throw clearTimeout(o),i||b}clearTimeout(o);const c={};l.headers.forEach((b,k)=>{c[k.toLowerCase()]=b});const f=await l.arrayBuffer(),h=f==null?null:new Uint8Array(f);return{statusCode:l.status,statusMessage:l.statusText,headers:c,body:h}}return e}const Lp=12,Fp=250;let Ru=L0();const Dp=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Mp=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let oo=!1;async function F0(t,e){try{const r=t.match(Dp);if(!r)throw new Error("invalid data");return new zr(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?Rp(r[3]):Hp(r[3]))}catch{return new zr(599,"BAD REQUEST (invalid data: URI)",{},null,new Ir(t))}}function D0(t){async function e(r,n){try{const s=r.match(Mp);if(!s)throw new Error("invalid link");return new Ir(`${t}${s[2]}`)}catch{return new zr(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Ir(r))}}return e}const da={data:F0,ipfs:D0("https://gateway.ipfs.io/ipfs/")},M0=new WeakMap;class jp{#e;#t;constructor(e){this.#e=[],this.#t=!1,M0.set(e,()=>{if(!this.#t){this.#t=!0;for(const r of this.#e)setTimeout(()=>{r()},0);this.#e=[]}})}addListener(e){re(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){re(!this.cancelled,"cancelled","CANCELLED",{})}}function ha(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}class Ir{#e;#t;#r;#n;#s;#a;#i;#o;#h;#u;#g;#p;#c;#l;#f;get url(){return this.#a}set url(e){this.#a=String(e)}get body(){return this.#i==null?null:new Uint8Array(this.#i)}set body(e){if(e==null)this.#i=void 0,this.#o=void 0;else if(typeof e=="string")this.#i=$t(e),this.#o="text/plain";else if(e instanceof Uint8Array)this.#i=e,this.#o="application/octet-stream";else if(typeof e=="object")this.#i=$t(JSON.stringify(e)),this.#o="application/json";else throw new Error("invalid body")}hasBody(){return this.#i!=null}get method(){return this.#n?this.#n:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#n=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#r);return this.#h&&(e.authorization=`Basic ${Cp($t(this.#h))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#o&&(e["content-type"]=this.#o),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,r){this.#r[String(e).toLowerCase()]=String(r)}clearHeaders(){this.#r={}}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const s=r[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#h||null}setCredentials(e,r){V(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#h=`${e}:${r}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#s}set timeout(e){V(e>=0,"timeout must be non-zero","timeout",e),this.#s=e}get preflightFunc(){return this.#u||null}set preflightFunc(e){this.#u=e}get processFunc(){return this.#g||null}set processFunc(e){this.#g=e}get retryFunc(){return this.#p||null}set retryFunc(e){this.#p=e}get getUrlFunc(){return this.#f||Ru}set getUrlFunc(e){this.#f=e}constructor(e){this.#a=String(e),this.#e=!1,this.#t=!0,this.#r={},this.#n="",this.#s=3e5,this.#l={slotInterval:Fp,maxAttempts:Lp},this.#f=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#i?le(this.#i):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#l.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#l.maxAttempts=e.maxAttempts)}async#d(e,r,n,s,i){if(e>=this.#l.maxAttempts)return i.makeServerError("exceeded maximum retry limit");re(Cu()<=r,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),n>0&&await Gp(n);let a=this.clone();const o=(a.url.split(":")[0]||"").toLowerCase();if(o in da){const c=await da[o](a.url,ha(s.#c));if(c instanceof zr){let f=c;if(this.processFunc){ha(s.#c);try{f=await this.processFunc(a,f)}catch(h){(h.throttle==null||typeof h.stall!="number")&&f.makeServerError("error in post-processing function",h).assertOk()}}return f}a=c}this.preflightFunc&&(a=await this.preflightFunc(a));const u=await this.getUrlFunc(a,ha(s.#c));let l=new zr(u.statusCode,u.statusMessage,u.headers,u.body,s);if(l.statusCode===301||l.statusCode===302){try{const c=l.headers.location||"";return a.redirect(c).#d(e+1,r,0,s,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(a,l,e))){const c=l.headers["retry-after"];let f=this.#l.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof c=="string"&&c.match(/^[1-9][0-9]*$/)&&(f=parseInt(c)),a.clone().#d(e+1,r,f,s,l)}if(this.processFunc){ha(s.#c);try{l=await this.processFunc(a,l)}catch(c){(c.throttle==null||typeof c.stall!="number")&&l.makeServerError("error in post-processing function",c).assertOk();let f=this.#l.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return c.stall>=0&&(f=c.stall),a.clone().#d(e+1,r,f,s,l)}}return l}send(){return re(this.#c==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#c=new jp(this),this.#d(0,Cu()+this.timeout,0,this,new zr(0,"",{},null,this))}cancel(){re(this.#c!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=M0.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const r=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();re(this.method==="GET"&&(r!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new Ir(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,s.#r=Object.assign({},this.#r),this.#i&&(s.#i=new Uint8Array(this.#i)),s.#o=this.#o,s}clone(){const e=new Ir(this.url);return e.#n=this.#n,this.#i&&(e.#i=this.#i),e.#o=this.#o,e.#r=Object.assign({},this.#r),e.#h=this.#h,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#u=this.#u,e.#g=this.#g,e.#p=this.#p,e.#l=Object.assign({},this.#l),e.#f=this.#f,e}static lockConfig(){oo=!0}static getGateway(e){return da[e.toLowerCase()]||null}static registerGateway(e,r){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(oo)throw new Error("gateways locked");da[e]=r}static registerGetUrl(e){if(oo)throw new Error("gateways locked");Ru=e}static createGetUrlFunc(e){return L0()}static createDataGateway(){return F0}static createIpfsGatewayFunc(e){return D0(e)}}class zr{#e;#t;#r;#n;#s;#a;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#n?le(this.#n):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#r)}get body(){return this.#n==null?null:new Uint8Array(this.#n)}get bodyText(){try{return this.#n==null?"":ka(this.#n)}catch{re(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{re(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const s=r[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,r,n,s,i){this.#e=e,this.#t=r,this.#r=Object.keys(n).reduce((a,o)=>(a[o.toLowerCase()]=String(n[o]),a),{}),this.#n=s==null?null:new Uint8Array(s),this.#s=i||null,this.#a={message:""}}makeServerError(e,r){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new zr(599,n,this.headers,this.body,this.#s||void 0);return s.#a={message:e,error:r},s}throwThrottleError(e,r){r==null?r=-1:V(Number.isInteger(r)&&r>=0,"invalid stall timeout","stall",r);const n=new Error(e||"throttling requests");throw xe(n,{stall:r,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#n!=null}get request(){return this.#s}ok(){return this.#a.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:r}=this.#a;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let s=null;try{this.#n&&(s=ka(this.#n))}catch{}re(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r,info:{requestUrl:n,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function Cu(){return new Date().getTime()}function Hp(t){return $t(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function Gp(t){return new Promise(e=>setTimeout(e,t))}function Vp(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function Su(t,e,r){let n=0;for(let s=0;s<r;s++)n=n*256+t[e+s];return n}function _u(t,e,r,n){const s=[];for(;r<e+1+n;){const i=j0(t,r);s.push(i.result),r+=i.consumed,re(r<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:s}}function j0(t,e){re(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const r=n=>{re(n<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:n})};if(t[e]>=248){const n=t[e]-247;r(e+1+n);const s=Su(t,e+1,n);return r(e+1+n+s),_u(t,e,e+1+n,n+s)}else if(t[e]>=192){const n=t[e]-192;return r(e+1+n),_u(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;r(e+1+n);const s=Su(t,e+1,n);r(e+1+n+s);const i=le(t.slice(e+1+n,e+1+n+s));return{consumed:1+n+s,result:i}}else if(t[e]>=128){const n=t[e]-128;r(e+1+n);const s=le(t.slice(e+1,e+1+n));return{consumed:1+n,result:s}}return{consumed:1,result:Vp(t[e])}}function Da(t){const e=ke(t,"data"),r=j0(e,0);return V(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function Iu(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function H0(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(i){n=n.concat(H0(i))}),n.length<=55)return n.unshift(192+n.length),n;const s=Iu(n.length);return s.unshift(247+s.length),s.concat(n)}const e=Array.prototype.slice.call(ke(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=Iu(e.length);return r.unshift(183+r.length),r.concat(e)}const Tu="0123456789abcdef";function Hn(t){let e="0x";for(const r of H0(t))e+=Tu[r>>4],e+=Tu[r&15];return e}const Pt=32,Yo=new Uint8Array(Pt),Qp=["then"],ga={},G0=new WeakMap;function Cn(t){return G0.get(t)}function Uu(t,e){G0.set(t,e)}function Ps(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}function Xo(t,e,r){return t.indexOf(null)>=0?e.map((n,s)=>n instanceof Cr?Xo(Cn(n),n,r):n):t.reduce((n,s,i)=>{let a=e.getValue(s);return s in n||(r&&a instanceof Cr&&(a=Xo(Cn(a),a,r)),n[s]=a),n},{})}class Cr extends Array{#e;constructor(...e){const r=e[0];let n=e[1],s=(e[2]||[]).slice(),i=!0;r!==ga&&(n=e,s=[],i=!1),super(n.length),n.forEach((u,l)=>{this[l]=u});const a=s.reduce((u,l)=>(typeof l=="string"&&u.set(l,(u.get(l)||0)+1),u),new Map);if(Uu(this,Object.freeze(n.map((u,l)=>{const c=s[l];return c!=null&&a.get(c)===1?c:null}))),this.#e=[],this.#e==null&&this.#e,!i)return;Object.freeze(this);const o=new Proxy(this,{get:(u,l,c)=>{if(typeof l=="string"){if(l.match(/^[0-9]+$/)){const h=Ne(l,"%index");if(h<0||h>=this.length)throw new RangeError("out of result range");const b=u[h];return b instanceof Error&&Ps(`index ${h}`,b),b}if(Qp.indexOf(l)>=0)return Reflect.get(u,l,c);const f=u[l];if(f instanceof Function)return function(...h){return f.apply(this===c?u:this,h)};if(!(l in u))return u.getValue.apply(this===c?u:this,[l])}return Reflect.get(u,l,c)}});return Uu(o,Cn(this)),o}toArray(e){const r=[];return this.forEach((n,s)=>{n instanceof Error&&Ps(`index ${s}`,n),e&&n instanceof Cr&&(n=n.toArray(e)),r.push(n)}),r}toObject(e){const r=Cn(this);return r.reduce((n,s,i)=>(re(s!=null,`value at index ${i} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Xo(r,this,e)),{})}slice(e,r){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const n=Cn(this),s=[],i=[];for(let a=e;a<r;a++)s.push(this[a]),i.push(n[a]);return new Cr(ga,s,i)}filter(e,r){const n=Cn(this),s=[],i=[];for(let a=0;a<this.length;a++){const o=this[a];o instanceof Error&&Ps(`index ${a}`,o),e.call(r,o,a,this)&&(s.push(o),i.push(n[a]))}return new Cr(ga,s,i)}map(e,r){const n=[];for(let s=0;s<this.length;s++){const i=this[s];i instanceof Error&&Ps(`index ${s}`,i),n.push(e.call(r,i,s,this))}return n}getValue(e){const r=Cn(this).indexOf(e);if(r===-1)return;const n=this[r];return n instanceof Error&&Ps(`property ${JSON.stringify(e)}`,n.error),n}static fromItems(e,r){return new Cr(ga,e,r)}}function Lu(t){let e=Et(t);return re(e.length<=Pt,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Pt,offset:e.length}),e.length!==Pt&&(e=At($e([Yo.slice(e.length%Pt),e]))),e}class Ur{name;type;localName;dynamic;constructor(e,r,n,s){xe(this,{name:e,type:r,localName:n,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){V(!1,e,this.localName,r)}}class $o{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return $e(this.#e)}get length(){return this.#t}#r(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#r(At(e.data))}writeBytes(e){let r=At(e);const n=r.length%Pt;return n&&(r=At($e([r,Yo.slice(n)]))),this.#r(r)}writeValue(e){return this.#r(Lu(e))}writeUpdatableValue(){const e=this.#e.length;return this.#e.push(Yo),this.#t+=Pt,r=>{this.#e[e]=Lu(r)}}}class kc{allowLoose;#e;#t;#r;#n;#s;constructor(e,r,n){xe(this,{allowLoose:!!r}),this.#e=At(e),this.#r=0,this.#n=null,this.#s=n??1024,this.#t=0}get data(){return le(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#a(e){if(this.#n)return this.#n.#a(e);this.#r+=e,re(this.#s<1||this.#r<=this.#s*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#s} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:At(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#r,dataLength:this.dataLength}})}#i(e,r,n){let s=Math.ceil(r/Pt)*Pt;return this.#t+s>this.#e.length&&(this.allowLoose&&n&&this.#t+r<=this.#e.length?s=r:re(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:At(this.#e),length:this.#e.length,offset:this.#t+s})),this.#e.slice(this.#t,this.#t+s)}subReader(e){const r=new kc(this.#e.slice(this.#t+e),this.allowLoose,this.#s);return r.#n=this,r}readBytes(e,r){let n=this.#i(0,e,!!r);return this.#a(e),this.#t+=n.length,n.slice(0,e)}readValue(){return Oc(this.readBytes(Pt))}readIndex(){return Bp(this.readBytes(Pt))}}function Fn(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Bc(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function V0(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Fn(t.outputLen),Fn(t.blockLen)}function os(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Q0(t,e){Bc(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const co=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const J0=t=>t instanceof Uint8Array,Jp=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Aa=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),or=(t,e)=>t<<32-e|t>>>e,zp=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!zp)throw new Error("Non little-endian hardware is not supported");function Kp(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function cs(t){if(typeof t=="string"&&(t=Kp(t)),!J0(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function qp(...t){const e=new Uint8Array(t.reduce((n,s)=>n+s.length,0));let r=0;return t.forEach(n=>{if(!J0(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}class Nc{clone(){return this._cloneInto()}}const Wp={}.toString;function Zp(t,e){if(e!==void 0&&Wp.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function Rc(t){const e=n=>t().update(cs(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Yp(t=32){if(co&&typeof co.getRandomValues=="function")return co.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class z0 extends Nc{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,V0(e);const n=cs(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),i.fill(0)}update(e){return os(this),this.iHash.update(e),this}digestInto(e){os(this),Bc(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:a,outputLen:o}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Cc=(t,e,r)=>new z0(t,e).update(r).digest();Cc.create=(t,e)=>new z0(t,e);function Xp(t,e,r,n){V0(t);const s=Zp({dkLen:32,asyncTick:10},n),{c:i,dkLen:a,asyncTick:o}=s;if(Fn(i),Fn(a),Fn(o),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const u=cs(e),l=cs(r),c=new Uint8Array(a),f=Cc.create(t,u),h=f._cloneInto().update(l);return{c:i,dkLen:a,asyncTick:o,DK:c,PRF:f,PRFSalt:h}}function $p(t,e,r,n,s){return t.destroy(),e.destroy(),n&&n.destroy(),s.fill(0),r}function eb(t,e,r,n){const{c:s,dkLen:i,DK:a,PRF:o,PRFSalt:u}=Xp(t,e,r,n);let l;const c=new Uint8Array(4),f=Aa(c),h=new Uint8Array(o.outputLen);for(let b=1,k=0;k<i;b++,k+=o.outputLen){const E=a.subarray(k,k+o.outputLen);f.setInt32(0,b,!1),(l=u._cloneInto(l)).update(c).digestInto(h),E.set(h.subarray(0,E.length));for(let d=1;d<s;d++){o._cloneInto(l).update(h).digestInto(h);for(let p=0;p<E.length;p++)E[p]^=h[p]}}return $p(o,u,a,l,h)}function tb(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),a=Number(r>>s&i),o=Number(r&i),u=n?4:0,l=n?0:4;t.setUint32(e+u,a,n),t.setUint32(e+l,o,n)}class K0 extends Nc{constructor(e,r,n,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Aa(this.buffer)}update(e){os(this);const{view:r,buffer:n,blockLen:s}=this;e=cs(e);const i=e.length;for(let a=0;a<i;){const o=Math.min(s-this.pos,i-a);if(o===s){const u=Aa(e);for(;s<=i-a;a+=s)this.process(u,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){os(this),Q0(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(n,0),a=0);for(let f=a;f<s;f++)r[f]=0;tb(n,s-8,BigInt(this.length*8),i),this.process(n,0);const o=Aa(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)o.setUint32(4*f,c[f],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:a,pos:o}=this;return e.length=s,e.pos=o,e.finished=i,e.destroyed=a,s%r&&e.buffer.set(n),e}}const rb=(t,e,r)=>t&e^~t&r,nb=(t,e,r)=>t&e^t&r^e&r,sb=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),jr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Hr=new Uint32Array(64);class ib extends K0{constructor(){super(64,32,8,!1),this.A=jr[0]|0,this.B=jr[1]|0,this.C=jr[2]|0,this.D=jr[3]|0,this.E=jr[4]|0,this.F=jr[5]|0,this.G=jr[6]|0,this.H=jr[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:a,G:o,H:u}=this;return[e,r,n,s,i,a,o,u]}set(e,r,n,s,i,a,o,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)Hr[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const h=Hr[f-15],b=Hr[f-2],k=or(h,7)^or(h,18)^h>>>3,E=or(b,17)^or(b,19)^b>>>10;Hr[f]=E+Hr[f-7]+k+Hr[f-16]|0}let{A:n,B:s,C:i,D:a,E:o,F:u,G:l,H:c}=this;for(let f=0;f<64;f++){const h=or(o,6)^or(o,11)^or(o,25),b=c+h+rb(o,u,l)+sb[f]+Hr[f]|0,E=(or(n,2)^or(n,13)^or(n,22))+nb(n,s,i)|0;c=l,l=u,u=o,o=a+b|0,a=i,i=s,s=n,n=b+E|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,u=u+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,s,i,a,o,u,l,c)}roundClean(){Hr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Sc=Rc(()=>new ib),pa=BigInt(2**32-1),ec=BigInt(32);function q0(t,e=!1){return e?{h:Number(t&pa),l:Number(t>>ec&pa)}:{h:Number(t>>ec&pa)|0,l:Number(t&pa)|0}}function W0(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:a}=q0(t[s],e);[r[s],n[s]]=[i,a]}return[r,n]}const ab=(t,e)=>BigInt(t>>>0)<<ec|BigInt(e>>>0),ob=(t,e,r)=>t>>>r,cb=(t,e,r)=>t<<32-r|e>>>r,ub=(t,e,r)=>t>>>r|e<<32-r,lb=(t,e,r)=>t<<32-r|e>>>r,fb=(t,e,r)=>t<<64-r|e>>>r-32,db=(t,e,r)=>t>>>r-32|e<<64-r,hb=(t,e)=>e,gb=(t,e)=>t,Z0=(t,e,r)=>t<<r|e>>>32-r,Y0=(t,e,r)=>e<<r|t>>>32-r,X0=(t,e,r)=>e<<r-32|t>>>64-r,$0=(t,e,r)=>t<<r-32|e>>>64-r;function pb(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const bb=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),mb=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,yb=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),xb=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,wb=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),Ab=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,Oe={fromBig:q0,split:W0,toBig:ab,shrSH:ob,shrSL:cb,rotrSH:ub,rotrSL:lb,rotrBH:fb,rotrBL:db,rotr32H:hb,rotr32L:gb,rotlSH:Z0,rotlSL:Y0,rotlBH:X0,rotlBL:$0,add:pb,add3L:bb,add3H:mb,add4L:yb,add4H:xb,add5H:Ab,add5L:wb},[Eb,Pb]=Oe.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Gr=new Uint32Array(80),Vr=new Uint32Array(80);class vb extends K0{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:a,Dh:o,Dl:u,Eh:l,El:c,Fh:f,Fl:h,Gh:b,Gl:k,Hh:E,Hl:d}=this;return[e,r,n,s,i,a,o,u,l,c,f,h,b,k,E,d]}set(e,r,n,s,i,a,o,u,l,c,f,h,b,k,E,d){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=o|0,this.Dl=u|0,this.Eh=l|0,this.El=c|0,this.Fh=f|0,this.Fl=h|0,this.Gh=b|0,this.Gl=k|0,this.Hh=E|0,this.Hl=d|0}process(e,r){for(let w=0;w<16;w++,r+=4)Gr[w]=e.getUint32(r),Vr[w]=e.getUint32(r+=4);for(let w=16;w<80;w++){const x=Gr[w-15]|0,O=Vr[w-15]|0,P=Oe.rotrSH(x,O,1)^Oe.rotrSH(x,O,8)^Oe.shrSH(x,O,7),A=Oe.rotrSL(x,O,1)^Oe.rotrSL(x,O,8)^Oe.shrSL(x,O,7),g=Gr[w-2]|0,B=Vr[w-2]|0,C=Oe.rotrSH(g,B,19)^Oe.rotrBH(g,B,61)^Oe.shrSH(g,B,6),N=Oe.rotrSL(g,B,19)^Oe.rotrBL(g,B,61)^Oe.shrSL(g,B,6),F=Oe.add4L(A,N,Vr[w-7],Vr[w-16]),U=Oe.add4H(F,P,C,Gr[w-7],Gr[w-16]);Gr[w]=U|0,Vr[w]=F|0}let{Ah:n,Al:s,Bh:i,Bl:a,Ch:o,Cl:u,Dh:l,Dl:c,Eh:f,El:h,Fh:b,Fl:k,Gh:E,Gl:d,Hh:p,Hl:y}=this;for(let w=0;w<80;w++){const x=Oe.rotrSH(f,h,14)^Oe.rotrSH(f,h,18)^Oe.rotrBH(f,h,41),O=Oe.rotrSL(f,h,14)^Oe.rotrSL(f,h,18)^Oe.rotrBL(f,h,41),P=f&b^~f&E,A=h&k^~h&d,g=Oe.add5L(y,O,A,Pb[w],Vr[w]),B=Oe.add5H(g,p,x,P,Eb[w],Gr[w]),C=g|0,N=Oe.rotrSH(n,s,28)^Oe.rotrBH(n,s,34)^Oe.rotrBH(n,s,39),F=Oe.rotrSL(n,s,28)^Oe.rotrBL(n,s,34)^Oe.rotrBL(n,s,39),U=n&i^n&o^i&o,I=s&a^s&u^a&u;p=E|0,y=d|0,E=b|0,d=k|0,b=f|0,k=h|0,{h:f,l:h}=Oe.add(l|0,c|0,B|0,C|0),l=o|0,c=u|0,o=i|0,u=a|0,i=n|0,a=s|0;const v=Oe.add3L(C,F,I);n=Oe.add3H(v,B,N,U),s=v|0}({h:n,l:s}=Oe.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:a}=Oe.add(this.Bh|0,this.Bl|0,i|0,a|0),{h:o,l:u}=Oe.add(this.Ch|0,this.Cl|0,o|0,u|0),{h:l,l:c}=Oe.add(this.Dh|0,this.Dl|0,l|0,c|0),{h:f,l:h}=Oe.add(this.Eh|0,this.El|0,f|0,h|0),{h:b,l:k}=Oe.add(this.Fh|0,this.Fl|0,b|0,k|0),{h:E,l:d}=Oe.add(this.Gh|0,this.Gl|0,E|0,d|0),{h:p,l:y}=Oe.add(this.Hh|0,this.Hl|0,p|0,y|0),this.set(n,s,i,a,o,u,l,c,f,h,b,k,E,d,p,y)}roundClean(){Gr.fill(0),Vr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const eh=Rc(()=>new vb);function Ob(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}const Fu=Ob();Fu.crypto||Fu.msCrypto;function kb(t){switch(t){case"sha256":return Sc.create();case"sha512":return eh.create()}V(!1,"invalid hashing algorithm name","algorithm",t)}function Bb(t,e,r,n,s){const i={sha256:Sc,sha512:eh}[s];return V(i!=null,"invalid pbkdf2 algorithm","algorithm",s),eb(i,t,e,{c:r,dkLen:n})}const[th,rh,nh]=[[],[],[]],Nb=BigInt(0),vs=BigInt(1),Rb=BigInt(2),Cb=BigInt(7),Sb=BigInt(256),_b=BigInt(113);for(let t=0,e=vs,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],th.push(2*(5*n+r)),rh.push((t+1)*(t+2)/2%64);let s=Nb;for(let i=0;i<7;i++)e=(e<<vs^(e>>Cb)*_b)%Sb,e&Rb&&(s^=vs<<(vs<<BigInt(i))-vs);nh.push(s)}const[Ib,Tb]=W0(nh,!0),Du=(t,e,r)=>r>32?X0(t,e,r):Z0(t,e,r),Mu=(t,e,r)=>r>32?$0(t,e,r):Y0(t,e,r);function Ub(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,u=(a+2)%10,l=r[u],c=r[u+1],f=Du(l,c,1)^r[o],h=Mu(l,c,1)^r[o+1];for(let b=0;b<50;b+=10)t[a+b]^=f,t[a+b+1]^=h}let s=t[2],i=t[3];for(let a=0;a<24;a++){const o=rh[a],u=Du(s,i,o),l=Mu(s,i,o),c=th[a];s=t[c],i=t[c+1],t[c]=u,t[c+1]=l}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)r[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~r[(o+2)%10]&r[(o+4)%10]}t[0]^=Ib[n],t[1]^=Tb[n]}r.fill(0)}class _c extends Nc{constructor(e,r,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Fn(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Jp(this.state)}keccak(){Ub(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){os(this);const{blockLen:r,state:n}=this;e=cs(e);const s=e.length;for(let i=0;i<s;){const a=Math.min(r-this.pos,s-i);for(let o=0;o<a;o++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,(r&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){os(this,!1),Bc(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Fn(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Q0(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:a}=this;return e||(e=new _c(r,n,s,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}}const Lb=(t,e,r)=>Rc(()=>new _c(e,t,r)),Fb=Lb(1,136,256/8);let sh=!1;const ih=function(t){return Fb(t)};let ah=ih;function tt(t){const e=ke(t,"data");return le(ah(e))}tt._=ih;tt.lock=function(){sh=!0};tt.register=function(t){if(sh)throw new TypeError("keccak256 is locked");ah=t};Object.freeze(tt);let oh=!1;const ch=function(t,e,r,n,s){return Bb(t,e,r,n,s)};let uh=ch;function qi(t,e,r,n,s){const i=ke(t,"password"),a=ke(e,"salt");return le(uh(i,a,r,n,s))}qi._=ch;qi.lock=function(){oh=!0};qi.register=function(t){if(oh)throw new Error("pbkdf2 is locked");uh=t};Object.freeze(qi);const lh=function(t){return kb("sha256").update(t).digest()};let fh=lh,dh=!1;function Wr(t){const e=ke(t,"data");return le(fh(e))}Wr._=lh;Wr.lock=function(){dh=!0};Wr.register=function(t){if(dh)throw new Error("sha256 is locked");fh=t};Object.freeze(Wr);Object.freeze(Wr);const hh=BigInt(0),Ma=BigInt(1),Db=BigInt(2),ja=t=>t instanceof Uint8Array,Mb=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function us(t){if(!ja(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Mb[t[r]];return e}function gh(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function Ic(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function ls(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const s=n*2,i=t.slice(s,s+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[n]=a}return r}function Dn(t){return Ic(us(t))}function Tc(t){if(!ja(t))throw new Error("Uint8Array expected");return Ic(us(Uint8Array.from(t).reverse()))}function fs(t,e){return ls(t.toString(16).padStart(e*2,"0"))}function Uc(t,e){return fs(t,e).reverse()}function jb(t){return ls(gh(t))}function Yt(t,e,r){let n;if(typeof e=="string")try{n=ls(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(ja(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(`${t} expected ${r} bytes, got ${s}`);return n}function Li(...t){const e=new Uint8Array(t.reduce((n,s)=>n+s.length,0));let r=0;return t.forEach(n=>{if(!ja(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function Hb(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Gb(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Vb(t){let e;for(e=0;t>hh;t>>=Ma,e+=1);return e}function Qb(t,e){return t>>BigInt(e)&Ma}const Jb=(t,e,r)=>t|(r?Ma:hh)<<BigInt(e),Lc=t=>(Db<<BigInt(t-1))-Ma,uo=t=>new Uint8Array(t),ju=t=>Uint8Array.from(t);function ph(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=uo(t),s=uo(t),i=0;const a=()=>{n.fill(1),s.fill(0),i=0},o=(...f)=>r(s,n,...f),u=(f=uo())=>{s=o(ju([0]),f),n=o(),f.length!==0&&(s=o(ju([1]),f),n=o())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){n=o();const b=n.slice();h.push(b),f+=n.length}return Li(...h)};return(f,h)=>{a(),u(f);let b;for(;!(b=h(l()));)u();return a(),b}}const zb={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Wi(t,e,r={}){const n=(s,i,a)=>{const o=zb[i];if(typeof o!="function")throw new Error(`Invalid validator "${i}", expected function`);const u=t[s];if(!(a&&u===void 0)&&!o(u,t))throw new Error(`Invalid param ${String(s)}=${u} (${typeof u}), expected ${i}`)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(r))n(s,i,!0);return t}const Kb=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Qb,bitLen:Vb,bitMask:Lc,bitSet:Jb,bytesToHex:us,bytesToNumberBE:Dn,bytesToNumberLE:Tc,concatBytes:Li,createHmacDrbg:ph,ensureBytes:Yt,equalBytes:Hb,hexToBytes:ls,hexToNumber:Ic,numberToBytesBE:fs,numberToBytesLE:Uc,numberToHexUnpadded:gh,numberToVarBytesBE:jb,utf8ToBytes:Gb,validateObject:Wi},Symbol.toStringTag,{value:"Module"}));const ut=BigInt(0),Ye=BigInt(1),Sn=BigInt(2),qb=BigInt(3),tc=BigInt(4),Hu=BigInt(5),Gu=BigInt(8);BigInt(9);BigInt(16);function kt(t,e){const r=t%e;return r>=ut?r:e+r}function Wb(t,e,r){if(r<=ut||e<ut)throw new Error("Expected power/modulo > 0");if(r===Ye)return ut;let n=Ye;for(;e>ut;)e&Ye&&(n=n*t%r),t=t*t%r,e>>=Ye;return n}function Gt(t,e,r){let n=t;for(;e-- >ut;)n*=n,n%=r;return n}function rc(t,e){if(t===ut||e<=ut)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=kt(t,e),n=e,s=ut,i=Ye;for(;r!==ut;){const o=n/r,u=n%r,l=s-i*o;n=r,r=u,s=i,i=l}if(n!==Ye)throw new Error("invert: does not exist");return kt(s,e)}function Zb(t){const e=(t-Ye)/Sn;let r,n,s;for(r=t-Ye,n=0;r%Sn===ut;r/=Sn,n++);for(s=Sn;s<t&&Wb(s,e,t)!==t-Ye;s++);if(n===1){const a=(t+Ye)/tc;return function(u,l){const c=u.pow(l,a);if(!u.eql(u.sqr(c),l))throw new Error("Cannot find square root");return c}}const i=(r+Ye)/Sn;return function(o,u){if(o.pow(u,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let l=n,c=o.pow(o.mul(o.ONE,s),r),f=o.pow(u,i),h=o.pow(u,r);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let b=1;for(let E=o.sqr(h);b<l&&!o.eql(E,o.ONE);b++)E=o.sqr(E);const k=o.pow(c,Ye<<BigInt(l-b-1));c=o.sqr(k),f=o.mul(f,k),h=o.mul(h,c),l=b}return f}}function Yb(t){if(t%tc===qb){const e=(t+Ye)/tc;return function(n,s){const i=n.pow(s,e);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%Gu===Hu){const e=(t-Hu)/Gu;return function(n,s){const i=n.mul(s,Sn),a=n.pow(i,e),o=n.mul(s,a),u=n.mul(n.mul(o,Sn),a),l=n.mul(o,n.sub(u,n.ONE));if(!n.eql(n.sqr(l),s))throw new Error("Cannot find square root");return l}}return Zb(t)}const Xb=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $b(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Xb.reduce((n,s)=>(n[s]="function",n),e);return Wi(t,r)}function em(t,e,r){if(r<ut)throw new Error("Expected power > 0");if(r===ut)return t.ONE;if(r===Ye)return e;let n=t.ONE,s=e;for(;r>ut;)r&Ye&&(n=t.mul(n,s)),s=t.sqr(s),r>>=Ye;return n}function tm(t,e){const r=new Array(e.length),n=e.reduce((i,a,o)=>t.is0(a)?i:(r[o]=i,t.mul(i,a)),t.ONE),s=t.inv(n);return e.reduceRight((i,a,o)=>t.is0(a)?i:(r[o]=t.mul(i,r[o]),t.mul(i,a)),s),r}function bh(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function rm(t,e,r=!1,n={}){if(t<=ut)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=bh(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=Yb(t),o=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:Lc(s),ZERO:ut,ONE:Ye,create:u=>kt(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return ut<=u&&u<t},is0:u=>u===ut,isOdd:u=>(u&Ye)===Ye,neg:u=>kt(-u,t),eql:(u,l)=>u===l,sqr:u=>kt(u*u,t),add:(u,l)=>kt(u+l,t),sub:(u,l)=>kt(u-l,t),mul:(u,l)=>kt(u*l,t),pow:(u,l)=>em(o,u,l),div:(u,l)=>kt(u*rc(l,t),t),sqrN:u=>u*u,addN:(u,l)=>u+l,subN:(u,l)=>u-l,mulN:(u,l)=>u*l,inv:u=>rc(u,t),sqrt:n.sqrt||(u=>a(o,u)),invertBatch:u=>tm(o,u),cmov:(u,l,c)=>c?l:u,toBytes:u=>r?Uc(u,i):fs(u,i),fromBytes:u=>{if(u.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${u.length}`);return r?Tc(u):Dn(u)}});return Object.freeze(o)}function mh(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function yh(t){const e=mh(t);return e+Math.ceil(e/2)}function nm(t,e,r=!1){const n=t.length,s=mh(e),i=yh(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);const a=r?Dn(t):Tc(t),o=kt(a,e-Ye)+Ye;return r?Uc(o,s):fs(o,s)}const sm=BigInt(0),lo=BigInt(1);function im(t,e){const r=(s,i)=>{const a=i.negate();return s?a:i},n=s=>{const i=Math.ceil(e/s)+1,a=2**(s-1);return{windows:i,windowSize:a}};return{constTimeNegate:r,unsafeLadder(s,i){let a=t.ZERO,o=s;for(;i>sm;)i&lo&&(a=a.add(o)),o=o.double(),i>>=lo;return a},precomputeWindow(s,i){const{windows:a,windowSize:o}=n(i),u=[];let l=s,c=l;for(let f=0;f<a;f++){c=l,u.push(c);for(let h=1;h<o;h++)c=c.add(l),u.push(c);l=c.double()}return u},wNAF(s,i,a){const{windows:o,windowSize:u}=n(s);let l=t.ZERO,c=t.BASE;const f=BigInt(2**s-1),h=2**s,b=BigInt(s);for(let k=0;k<o;k++){const E=k*u;let d=Number(a&f);a>>=b,d>u&&(d-=h,a+=lo);const p=E,y=E+Math.abs(d)-1,w=k%2!==0,x=d<0;d===0?c=c.add(r(w,i[p])):l=l.add(r(x,i[y]))}return{p:l,f:c}},wNAFCached(s,i,a,o){const u=s._WINDOW_SIZE||1;let l=i.get(s);return l||(l=this.precomputeWindow(s,u),u!==1&&i.set(s,o(l))),this.wNAF(u,l,a)}}}function xh(t){return $b(t.Fp),Wi(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...bh(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function am(t){const e=xh(t);Wi(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:s}=e;if(r){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:om,hexToBytes:cm}=Kb,In={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=In;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:om(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=In,r=typeof t=="string"?cm(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=In._parseInt(r.subarray(2)),{d:a,l:o}=In._parseInt(i);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(t){const e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{const c=l.toString(16);return c.length&1?`0${c}`:c},n=e(r(t.s)),s=e(r(t.r)),i=n.length/2,a=s.length/2,o=r(i),u=r(a);return`30${r(a+i+4)}02${u}${s}02${o}${n}`}},Nr=BigInt(0),Vt=BigInt(1);BigInt(2);const Vu=BigInt(3);BigInt(4);function um(t){const e=am(t),{Fp:r}=e,n=e.toBytes||((k,E,d)=>{const p=E.toAffine();return Li(Uint8Array.from([4]),r.toBytes(p.x),r.toBytes(p.y))}),s=e.fromBytes||(k=>{const E=k.subarray(1),d=r.fromBytes(E.subarray(0,r.BYTES)),p=r.fromBytes(E.subarray(r.BYTES,2*r.BYTES));return{x:d,y:p}});function i(k){const{a:E,b:d}=e,p=r.sqr(k),y=r.mul(p,k);return r.add(r.add(y,r.mul(k,E)),d)}if(!r.eql(r.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function a(k){return typeof k=="bigint"&&Nr<k&&k<e.n}function o(k){if(!a(k))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(k){const{allowedPrivateKeyLengths:E,nByteLength:d,wrapPrivateKey:p,n:y}=e;if(E&&typeof k!="bigint"){if(k instanceof Uint8Array&&(k=us(k)),typeof k!="string"||!E.includes(k.length))throw new Error("Invalid key");k=k.padStart(d*2,"0")}let w;try{w=typeof k=="bigint"?k:Dn(Yt("private key",k,d))}catch{throw new Error(`private key must be ${d} bytes, hex or bigint, not ${typeof k}`)}return p&&(w=kt(w,y)),o(w),w}const l=new Map;function c(k){if(!(k instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(E,d,p){if(this.px=E,this.py=d,this.pz=p,E==null||!r.isValid(E))throw new Error("x required");if(d==null||!r.isValid(d))throw new Error("y required");if(p==null||!r.isValid(p))throw new Error("z required")}static fromAffine(E){const{x:d,y:p}=E||{};if(!E||!r.isValid(d)||!r.isValid(p))throw new Error("invalid affine point");if(E instanceof f)throw new Error("projective point not allowed");const y=w=>r.eql(w,r.ZERO);return y(d)&&y(p)?f.ZERO:new f(d,p,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const d=r.invertBatch(E.map(p=>p.pz));return E.map((p,y)=>p.toAffine(d[y])).map(f.fromAffine)}static fromHex(E){const d=f.fromAffine(s(Yt("pointHex",E)));return d.assertValidity(),d}static fromPrivateKey(E){return f.BASE.multiply(u(E))}_setWindowSize(E){this._WINDOW_SIZE=E,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:E,y:d}=this.toAffine();if(!r.isValid(E)||!r.isValid(d))throw new Error("bad point: x or y not FE");const p=r.sqr(d),y=i(E);if(!r.eql(p,y))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:E}=this.toAffine();if(r.isOdd)return!r.isOdd(E);throw new Error("Field doesn't support isOdd")}equals(E){c(E);const{px:d,py:p,pz:y}=this,{px:w,py:x,pz:O}=E,P=r.eql(r.mul(d,O),r.mul(w,y)),A=r.eql(r.mul(p,O),r.mul(x,y));return P&&A}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:E,b:d}=e,p=r.mul(d,Vu),{px:y,py:w,pz:x}=this;let O=r.ZERO,P=r.ZERO,A=r.ZERO,g=r.mul(y,y),B=r.mul(w,w),C=r.mul(x,x),N=r.mul(y,w);return N=r.add(N,N),A=r.mul(y,x),A=r.add(A,A),O=r.mul(E,A),P=r.mul(p,C),P=r.add(O,P),O=r.sub(B,P),P=r.add(B,P),P=r.mul(O,P),O=r.mul(N,O),A=r.mul(p,A),C=r.mul(E,C),N=r.sub(g,C),N=r.mul(E,N),N=r.add(N,A),A=r.add(g,g),g=r.add(A,g),g=r.add(g,C),g=r.mul(g,N),P=r.add(P,g),C=r.mul(w,x),C=r.add(C,C),g=r.mul(C,N),O=r.sub(O,g),A=r.mul(C,B),A=r.add(A,A),A=r.add(A,A),new f(O,P,A)}add(E){c(E);const{px:d,py:p,pz:y}=this,{px:w,py:x,pz:O}=E;let P=r.ZERO,A=r.ZERO,g=r.ZERO;const B=e.a,C=r.mul(e.b,Vu);let N=r.mul(d,w),F=r.mul(p,x),U=r.mul(y,O),I=r.add(d,p),v=r.add(w,x);I=r.mul(I,v),v=r.add(N,F),I=r.sub(I,v),v=r.add(d,y);let m=r.add(w,O);return v=r.mul(v,m),m=r.add(N,U),v=r.sub(v,m),m=r.add(p,y),P=r.add(x,O),m=r.mul(m,P),P=r.add(F,U),m=r.sub(m,P),g=r.mul(B,v),P=r.mul(C,U),g=r.add(P,g),P=r.sub(F,g),g=r.add(F,g),A=r.mul(P,g),F=r.add(N,N),F=r.add(F,N),U=r.mul(B,U),v=r.mul(C,v),F=r.add(F,U),U=r.sub(N,U),U=r.mul(B,U),v=r.add(v,U),N=r.mul(F,v),A=r.add(A,N),N=r.mul(m,v),P=r.mul(I,P),P=r.sub(P,N),N=r.mul(I,F),g=r.mul(m,g),g=r.add(g,N),new f(P,A,g)}subtract(E){return this.add(E.negate())}is0(){return this.equals(f.ZERO)}wNAF(E){return b.wNAFCached(this,l,E,d=>{const p=r.invertBatch(d.map(y=>y.pz));return d.map((y,w)=>y.toAffine(p[w])).map(f.fromAffine)})}multiplyUnsafe(E){const d=f.ZERO;if(E===Nr)return d;if(o(E),E===Vt)return this;const{endo:p}=e;if(!p)return b.unsafeLadder(this,E);let{k1neg:y,k1:w,k2neg:x,k2:O}=p.splitScalar(E),P=d,A=d,g=this;for(;w>Nr||O>Nr;)w&Vt&&(P=P.add(g)),O&Vt&&(A=A.add(g)),g=g.double(),w>>=Vt,O>>=Vt;return y&&(P=P.negate()),x&&(A=A.negate()),A=new f(r.mul(A.px,p.beta),A.py,A.pz),P.add(A)}multiply(E){o(E);let d=E,p,y;const{endo:w}=e;if(w){const{k1neg:x,k1:O,k2neg:P,k2:A}=w.splitScalar(d);let{p:g,f:B}=this.wNAF(O),{p:C,f:N}=this.wNAF(A);g=b.constTimeNegate(x,g),C=b.constTimeNegate(P,C),C=new f(r.mul(C.px,w.beta),C.py,C.pz),p=g.add(C),y=B.add(N)}else{const{p:x,f:O}=this.wNAF(d);p=x,y=O}return f.normalizeZ([p,y])[0]}multiplyAndAddUnsafe(E,d,p){const y=f.BASE,w=(O,P)=>P===Nr||P===Vt||!O.equals(y)?O.multiplyUnsafe(P):O.multiply(P),x=w(this,d).add(w(E,p));return x.is0()?void 0:x}toAffine(E){const{px:d,py:p,pz:y}=this,w=this.is0();E==null&&(E=w?r.ONE:r.inv(y));const x=r.mul(d,E),O=r.mul(p,E),P=r.mul(y,E);if(w)return{x:r.ZERO,y:r.ZERO};if(!r.eql(P,r.ONE))throw new Error("invZ was invalid");return{x,y:O}}isTorsionFree(){const{h:E,isTorsionFree:d}=e;if(E===Vt)return!0;if(d)return d(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:E,clearCofactor:d}=e;return E===Vt?this:d?d(f,this):this.multiplyUnsafe(e.h)}toRawBytes(E=!0){return this.assertValidity(),n(f,this,E)}toHex(E=!0){return us(this.toRawBytes(E))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const h=e.nBitLength,b=im(f,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:i,isWithinCurveOrder:a}}function lm(t){const e=xh(t);return Wi(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function fm(t){const e=lm(t),{Fp:r,n}=e,s=r.BYTES+1,i=2*r.BYTES+1;function a(v){return Nr<v&&v<r.ORDER}function o(v){return kt(v,n)}function u(v){return rc(v,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:f,isWithinCurveOrder:h}=um({...e,toBytes(v,m,R){const S=m.toAffine(),_=r.toBytes(S.x),L=Li;return R?L(Uint8Array.from([m.hasEvenY()?2:3]),_):L(Uint8Array.from([4]),_,r.toBytes(S.y))},fromBytes(v){const m=v.length,R=v[0],S=v.subarray(1);if(m===s&&(R===2||R===3)){const _=Dn(S);if(!a(_))throw new Error("Point is not on curve");const L=f(_);let D=r.sqrt(L);const M=(D&Vt)===Vt;return(R&1)===1!==M&&(D=r.neg(D)),{x:_,y:D}}else if(m===i&&R===4){const _=r.fromBytes(S.subarray(0,r.BYTES)),L=r.fromBytes(S.subarray(r.BYTES,2*r.BYTES));return{x:_,y:L}}else throw new Error(`Point of length ${m} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),b=v=>us(fs(v,e.nByteLength));function k(v){const m=n>>Vt;return v>m}function E(v){return k(v)?o(-v):v}const d=(v,m,R)=>Dn(v.slice(m,R));class p{constructor(m,R,S){this.r=m,this.s=R,this.recovery=S,this.assertValidity()}static fromCompact(m){const R=e.nByteLength;return m=Yt("compactSignature",m,R*2),new p(d(m,0,R),d(m,R,2*R))}static fromDER(m){const{r:R,s:S}=In.toSig(Yt("DER",m));return new p(R,S)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(m){return new p(this.r,this.s,m)}recoverPublicKey(m){const{r:R,s:S,recovery:_}=this,L=A(Yt("msgHash",m));if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");const D=_===2||_===3?R+e.n:R;if(D>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const M=(_&1)===0?"02":"03",Q=l.fromHex(M+b(D)),j=u(D),J=o(-L*j),q=o(S*j),ee=l.BASE.multiplyAndAddUnsafe(Q,J,q);if(!ee)throw new Error("point at infinify");return ee.assertValidity(),ee}hasHighS(){return k(this.s)}normalizeS(){return this.hasHighS()?new p(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return ls(this.toDERHex())}toDERHex(){return In.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ls(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}const y={isValidPrivateKey(v){try{return c(v),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const v=yh(e.n);return nm(e.randomBytes(v),e.n)},precompute(v=8,m=l.BASE){return m._setWindowSize(v),m.multiply(BigInt(3)),m}};function w(v,m=!0){return l.fromPrivateKey(v).toRawBytes(m)}function x(v){const m=v instanceof Uint8Array,R=typeof v=="string",S=(m||R)&&v.length;return m?S===s||S===i:R?S===2*s||S===2*i:v instanceof l}function O(v,m,R=!0){if(x(v))throw new Error("first arg must be private key");if(!x(m))throw new Error("second arg must be public key");return l.fromHex(m).multiply(c(v)).toRawBytes(R)}const P=e.bits2int||function(v){const m=Dn(v),R=v.length*8-e.nBitLength;return R>0?m>>BigInt(R):m},A=e.bits2int_modN||function(v){return o(P(v))},g=Lc(e.nBitLength);function B(v){if(typeof v!="bigint")throw new Error("bigint expected");if(!(Nr<=v&&v<g))throw new Error(`bigint expected < 2^${e.nBitLength}`);return fs(v,e.nByteLength)}function C(v,m,R=N){if(["recovered","canonical"].some(Z=>Z in R))throw new Error("sign() legacy options not supported");const{hash:S,randomBytes:_}=e;let{lowS:L,prehash:D,extraEntropy:M}=R;L==null&&(L=!0),v=Yt("msgHash",v),D&&(v=Yt("prehashed msgHash",S(v)));const Q=A(v),j=c(m),J=[B(j),B(Q)];if(M!=null){const Z=M===!0?_(r.BYTES):M;J.push(Yt("extraEntropy",Z))}const q=Li(...J),ee=Q;function te(Z){const ie=P(Z);if(!h(ie))return;const pe=u(ie),de=l.BASE.multiply(ie).toAffine(),ne=o(de.x);if(ne===Nr)return;const Y=o(pe*o(ee+ne*j));if(Y===Nr)return;let T=(de.x===ne?0:2)|Number(de.y&Vt),H=Y;return L&&k(Y)&&(H=E(Y),T^=1),new p(ne,H,T)}return{seed:q,k2sig:te}}const N={lowS:e.lowS,prehash:!1},F={lowS:e.lowS,prehash:!1};function U(v,m,R=N){const{seed:S,k2sig:_}=C(v,m,R),L=e;return ph(L.hash.outputLen,L.nByteLength,L.hmac)(S,_)}l.BASE._setWindowSize(8);function I(v,m,R,S=F){const _=v;if(m=Yt("msgHash",m),R=Yt("publicKey",R),"strict"in S)throw new Error("options.strict was renamed to lowS");const{lowS:L,prehash:D}=S;let M,Q;try{if(typeof _=="string"||_ instanceof Uint8Array)try{M=p.fromDER(_)}catch(de){if(!(de instanceof In.Err))throw de;M=p.fromCompact(_)}else if(typeof _=="object"&&typeof _.r=="bigint"&&typeof _.s=="bigint"){const{r:de,s:ne}=_;M=new p(de,ne)}else throw new Error("PARSE");Q=l.fromHex(R)}catch(de){if(de.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(L&&M.hasHighS())return!1;D&&(m=e.hash(m));const{r:j,s:J}=M,q=A(m),ee=u(J),te=o(q*ee),Z=o(j*ee),ie=l.BASE.multiplyAndAddUnsafe(Q,te,Z)?.toAffine();return ie?o(ie.x)===j:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:O,sign:U,verify:I,ProjectivePoint:l,Signature:p,utils:y}}function dm(t){return{hash:t,hmac:(e,...r)=>Cc(t,e,qp(...r)),randomBytes:Yp}}function hm(t,e){const r=n=>fm({...t,...dm(n)});return Object.freeze({...r(e),create:r})}const wh=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Qu=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),gm=BigInt(1),nc=BigInt(2),Ju=(t,e)=>(t+e/nc)/e;function pm(t){const e=wh,r=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),o=BigInt(44),u=BigInt(88),l=t*t*t%e,c=l*l*t%e,f=Gt(c,r,e)*c%e,h=Gt(f,r,e)*c%e,b=Gt(h,nc,e)*l%e,k=Gt(b,s,e)*b%e,E=Gt(k,i,e)*k%e,d=Gt(E,o,e)*E%e,p=Gt(d,u,e)*d%e,y=Gt(p,o,e)*E%e,w=Gt(y,r,e)*c%e,x=Gt(w,a,e)*k%e,O=Gt(x,n,e)*l%e,P=Gt(O,nc,e);if(!sc.eql(sc.sqr(P),t))throw new Error("Cannot find square root");return P}const sc=rm(wh,void 0,void 0,{sqrt:pm}),Qr=hm({a:BigInt(0),b:BigInt(7),Fp:sc,n:Qu,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Qu,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-gm*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,a=BigInt("0x100000000000000000000000000000000"),o=Ju(i*t,e),u=Ju(-n*t,e);let l=kt(t-o*r-u*s,e),c=kt(-o*n-u*i,e);const f=l>a,h=c>a;if(f&&(l=e-l),h&&(c=e-c),l>a||c>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:l,k2neg:h,k2:c}}}},Sc);BigInt(0);Qr.ProjectivePoint;const Fi="0x0000000000000000000000000000000000000000",zu="0x0000000000000000000000000000000000000000000000000000000000000000",Ku=BigInt(0),qu=BigInt(1),Wu=BigInt(2),Zu=BigInt(27),Yu=BigInt(28),ba=BigInt(35),Zn={};function Xu(t){return jn(Et(t),32)}class it{#e;#t;#r;#n;get r(){return this.#e}set r(e){V(ns(e)===32,"invalid r","value",e),this.#e=le(e)}get s(){return this.#t}set s(e){V(ns(e)===32,"invalid s","value",e);const r=le(e);V(parseInt(r.substring(0,3))<8,"non-canonical s","value",r),this.#t=r}get v(){return this.#r}set v(e){const r=Ne(e,"value");V(r===27||r===28,"invalid v","v",e),this.#r=r}get networkV(){return this.#n}get legacyChainId(){const e=this.networkV;return e==null?null:it.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=ke(this.s);return this.yParity&&(e[0]|=128),le(e)}get compactSerialized(){return $e([this.r,this.yParityAndS])}get serialized(){return $e([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,r,n,s){Ki(e,Zn,"Signature"),this.#e=r,this.#t=n,this.#r=s,this.#n=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new it(Zn,this.r,this.s,this.v);return this.networkV&&(e.#n=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const r=be(e,"v");return r==Zu||r==Yu?Ku:(V(r>=ba,"invalid EIP-155 v","v",e),(r-ba)/Wu)}static getChainIdV(e,r){return be(e)*Wu+BigInt(35+r-27)}static getNormalizedV(e){const r=be(e);return r===Ku||r===Zu?27:r===qu||r===Yu?28:(V(r>=ba,"invalid v","v",e),r&qu?27:28)}static from(e){function r(l,c){V(l,c,"signature",e)}if(e==null)return new it(Zn,zu,zu,27);if(typeof e=="string"){const l=ke(e,"signature");if(l.length===64){const c=le(l.slice(0,32)),f=l.slice(32,64),h=f[0]&128?28:27;return f[0]&=127,new it(Zn,c,le(f),h)}if(l.length===65){const c=le(l.slice(0,32)),f=l.slice(32,64);r((f[0]&128)===0,"non-canonical s");const h=it.getNormalizedV(l[64]);return new it(Zn,c,le(f),h)}r(!1,"invalid raw signature length")}if(e instanceof it)return e.clone();const n=e.r;r(n!=null,"missing r");const s=Xu(n),i=(function(l,c){if(l!=null)return Xu(l);if(c!=null){r(Me(c,32),"invalid yParityAndS");const f=ke(c);return f[0]&=127,le(f)}r(!1,"missing s")})(e.s,e.yParityAndS);r((ke(i)[0]&128)==0,"non-canonical s");const{networkV:a,v:o}=(function(l,c,f){if(l!=null){const h=be(l);return{networkV:h>=ba?h:void 0,v:it.getNormalizedV(h)}}if(c!=null)return r(Me(c,32),"invalid yParityAndS"),{v:ke(c)[0]&128?28:27};if(f!=null){switch(Ne(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),u=new it(Zn,s,i,o);return a&&(u.#n=a),r(e.yParity==null||Ne(e.yParity,"sig.yParity")===u.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===u.yParityAndS,"yParityAndS mismatch"),u}}class Rr{#e;constructor(e){V(ns(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=le(e)}get privateKey(){return this.#e}get publicKey(){return Rr.computePublicKey(this.#e)}get compressedPublicKey(){return Rr.computePublicKey(this.#e,!0)}sign(e){V(ns(e)===32,"invalid digest length","digest",e);const r=Qr.sign(At(e),At(this.#e),{lowS:!0});return it.from({r:Kr(r.r,32),s:Kr(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){const r=Rr.computePublicKey(e);return le(Qr.getSharedSecret(At(this.#e),ke(r),!1))}static computePublicKey(e,r){let n=ke(e,"key");if(n.length===32){const i=Qr.getPublicKey(n,!!r);return le(i)}if(n.length===64){const i=new Uint8Array(65);i[0]=4,i.set(n,1),n=i}const s=Qr.ProjectivePoint.fromHex(n);return le(s.toRawBytes(r))}static recoverPublicKey(e,r){V(ns(e)===32,"invalid digest length","digest",e);const n=it.from(r);let s=Qr.Signature.fromCompact(At($e([n.r,n.s])));s=s.addRecoveryBit(n.yParity);const i=s.recoverPublicKey(At(e));return V(i!=null,"invalid signautre for digest","signature",r),"0x"+i.toHex(!1)}static addPoints(e,r,n){const s=Qr.ProjectivePoint.fromHex(Rr.computePublicKey(e).substring(2)),i=Qr.ProjectivePoint.fromHex(Rr.computePublicKey(r).substring(2));return"0x"+s.add(i).toHex(!!n)}}const bm=BigInt(0),mm=BigInt(36);function $u(t){t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let s=0;s<40;s++)r[s]=e[s].charCodeAt(0);const n=ke(tt(r));for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(n[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const Fc={};for(let t=0;t<10;t++)Fc[String(t)]=String(t);for(let t=0;t<26;t++)Fc[String.fromCharCode(65+t)]=String(10+t);const el=15;function ym(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>Fc[n]).join("");for(;e.length>=el;){let n=e.substring(0,el);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const xm=(function(){const t={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t})();function wm(t){t=t.toLowerCase();let e=bm;for(let r=0;r<t.length;r++)e=e*mm+xm[t[r]];return e}function Ie(t){if(V(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=$u(t);return V(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){V(t.substring(2,4)===ym(t),"bad icap checksum","address",t);let e=wm(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return $u("0x"+e)}V(!1,"invalid address","address",t)}function Am(t){const e=Ie(t.from);let n=be(t.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,Ie(Je(tt(Hn([e,n])),12))}function Ah(t){return t&&typeof t.getAddress=="function"}async function fo(t,e){const r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(re(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),V(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),Ie(r)}function vt(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?Ie(t):(re(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),fo(t,e.resolveName(t)));if(Ah(t))return fo(t,t.getAddress());if(t&&typeof t.then=="function")return fo(t,t);V(!1,"unsupported addressable value","target",t)}const kr={};function ge(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new ze(kr,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function _e(t,e){return new ze(kr,`bytes${e||""}`,t,{size:e})}const tl=Symbol.for("_ethers_typed");class ze{type;value;#e;_typedSymbol;constructor(e,r,n,s){s==null&&(s=null),Ki(kr,e,"Typed"),xe(this,{_typedSymbol:tl,type:r,value:n}),this.#e=s,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,r){return new ze(kr,e,r)}static uint8(e){return ge(e,8)}static uint16(e){return ge(e,16)}static uint24(e){return ge(e,24)}static uint32(e){return ge(e,32)}static uint40(e){return ge(e,40)}static uint48(e){return ge(e,48)}static uint56(e){return ge(e,56)}static uint64(e){return ge(e,64)}static uint72(e){return ge(e,72)}static uint80(e){return ge(e,80)}static uint88(e){return ge(e,88)}static uint96(e){return ge(e,96)}static uint104(e){return ge(e,104)}static uint112(e){return ge(e,112)}static uint120(e){return ge(e,120)}static uint128(e){return ge(e,128)}static uint136(e){return ge(e,136)}static uint144(e){return ge(e,144)}static uint152(e){return ge(e,152)}static uint160(e){return ge(e,160)}static uint168(e){return ge(e,168)}static uint176(e){return ge(e,176)}static uint184(e){return ge(e,184)}static uint192(e){return ge(e,192)}static uint200(e){return ge(e,200)}static uint208(e){return ge(e,208)}static uint216(e){return ge(e,216)}static uint224(e){return ge(e,224)}static uint232(e){return ge(e,232)}static uint240(e){return ge(e,240)}static uint248(e){return ge(e,248)}static uint256(e){return ge(e,256)}static uint(e){return ge(e,256)}static int8(e){return ge(e,-8)}static int16(e){return ge(e,-16)}static int24(e){return ge(e,-24)}static int32(e){return ge(e,-32)}static int40(e){return ge(e,-40)}static int48(e){return ge(e,-48)}static int56(e){return ge(e,-56)}static int64(e){return ge(e,-64)}static int72(e){return ge(e,-72)}static int80(e){return ge(e,-80)}static int88(e){return ge(e,-88)}static int96(e){return ge(e,-96)}static int104(e){return ge(e,-104)}static int112(e){return ge(e,-112)}static int120(e){return ge(e,-120)}static int128(e){return ge(e,-128)}static int136(e){return ge(e,-136)}static int144(e){return ge(e,-144)}static int152(e){return ge(e,-152)}static int160(e){return ge(e,-160)}static int168(e){return ge(e,-168)}static int176(e){return ge(e,-176)}static int184(e){return ge(e,-184)}static int192(e){return ge(e,-192)}static int200(e){return ge(e,-200)}static int208(e){return ge(e,-208)}static int216(e){return ge(e,-216)}static int224(e){return ge(e,-224)}static int232(e){return ge(e,-232)}static int240(e){return ge(e,-240)}static int248(e){return ge(e,-248)}static int256(e){return ge(e,-256)}static int(e){return ge(e,-256)}static bytes1(e){return _e(e,1)}static bytes2(e){return _e(e,2)}static bytes3(e){return _e(e,3)}static bytes4(e){return _e(e,4)}static bytes5(e){return _e(e,5)}static bytes6(e){return _e(e,6)}static bytes7(e){return _e(e,7)}static bytes8(e){return _e(e,8)}static bytes9(e){return _e(e,9)}static bytes10(e){return _e(e,10)}static bytes11(e){return _e(e,11)}static bytes12(e){return _e(e,12)}static bytes13(e){return _e(e,13)}static bytes14(e){return _e(e,14)}static bytes15(e){return _e(e,15)}static bytes16(e){return _e(e,16)}static bytes17(e){return _e(e,17)}static bytes18(e){return _e(e,18)}static bytes19(e){return _e(e,19)}static bytes20(e){return _e(e,20)}static bytes21(e){return _e(e,21)}static bytes22(e){return _e(e,22)}static bytes23(e){return _e(e,23)}static bytes24(e){return _e(e,24)}static bytes25(e){return _e(e,25)}static bytes26(e){return _e(e,26)}static bytes27(e){return _e(e,27)}static bytes28(e){return _e(e,28)}static bytes29(e){return _e(e,29)}static bytes30(e){return _e(e,30)}static bytes31(e){return _e(e,31)}static bytes32(e){return _e(e,32)}static address(e){return new ze(kr,"address",e)}static bool(e){return new ze(kr,"bool",!!e)}static bytes(e){return new ze(kr,"bytes",e)}static string(e){return new ze(kr,"string",e)}static array(e,r){throw new Error("not implemented yet")}static tuple(e,r){throw new Error("not implemented yet")}static overrides(e){return new ze(kr,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===tl}static dereference(e,r){if(ze.isTyped(e)){if(e.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${e.type}`);return e.value}return e}}class Em extends Ur{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){let n=ze.dereference(r,"string");try{n=Ie(n)}catch(s){return this._throwError(s.message,r)}return e.writeValue(n)}decode(e){return Ie(Kr(e.readValue(),20))}}class Pm extends Ur{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}function Eh(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let u={};n=e.map(l=>{const c=l.localName;return re(c,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:r}),re(!u[c],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:r}),u[c]=!0,r[c]})}else V(!1,"invalid tuple value","tuple",r);V(e.length===n.length,"types/value length mismatch","tuple",r);let s=new $o,i=new $o,a=[];e.forEach((u,l)=>{let c=n[l];if(u.dynamic){let f=i.length;u.encode(i,c);let h=s.writeUpdatableValue();a.push(b=>{h(b+f)})}else u.encode(s,c)}),a.forEach(u=>{u(s.length)});let o=t.appendWriter(s);return o+=t.appendWriter(i),o}function Ph(t,e){let r=[],n=[],s=t.subReader(0);return e.forEach(i=>{let a=null;if(i.dynamic){let o=t.readIndex(),u=s.subReader(o);try{a=i.decode(u)}catch(l){if(bt(l,"BUFFER_OVERRUN"))throw l;a=l,a.baseType=i.name,a.name=i.localName,a.type=i.type}}else try{a=i.decode(t)}catch(o){if(bt(o,"BUFFER_OVERRUN"))throw o;a=o,a.baseType=i.name,a.name=i.localName,a.type=i.type}if(a==null)throw new Error("investigate");r.push(a),n.push(i.localName||null)}),Cr.fromItems(r,n)}class vm extends Ur{coder;length;constructor(e,r,n){const s=e.type+"["+(r>=0?r:"")+"]",i=r===-1||e.dynamic;super("array",s,n,i),xe(this,{coder:e,length:r})}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){const n=ze.dereference(r,"array");Array.isArray(n)||this._throwError("expected array value",n);let s=this.length;s===-1&&(s=n.length,e.writeValue(n.length)),R0(n.length,s,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let a=0;a<n.length;a++)i.push(this.coder);return Eh(e,i,n)}decode(e){let r=this.length;r===-1&&(r=e.readIndex(),re(r*Pt<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:r*Pt,length:e.dataLength}));let n=[];for(let s=0;s<r;s++)n.push(new Pm(this.coder));return Ph(e,n)}}class Om extends Ur{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){const n=ze.dereference(r,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class vh extends Ur{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=At(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class km extends vh{constructor(e){super("bytes",e)}decode(e){return le(super.decode(e))}}class Bm extends Ur{size;constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),xe(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=At(ze.dereference(r,this.type));return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return le(e.readBytes(this.size))}}const Nm=new Uint8Array([]);class Rm extends Ur{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes(Nm)}decode(e){return e.readBytes(0),null}}const Cm=BigInt(0),Sm=BigInt(1),_m=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Im extends Ur{size;signed;constructor(e,r,n){const s=(r?"int":"uint")+e*8;super(s,s,n,!1),xe(this,{size:e,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,r){let n=be(ze.dereference(r,this.type)),s=Ci(_m,Pt*8);if(this.signed){let i=Ci(s,this.size*8-1);(n>i||n<-(i+Sm))&&this._throwError("value out-of-bounds",r),n=I0(n,8*Pt)}else(n<Cm||n>Ci(s,this.size*8))&&this._throwError("value out-of-bounds",r);return e.writeValue(n)}decode(e){let r=Ci(e.readValue(),this.size*8);return this.signed&&(r=kp(r,this.size*8)),r}}class Tm extends vh{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,$t(ze.dereference(r,"string")))}decode(e){return ka(super.decode(e))}}class ma extends Ur{coders;constructor(e,r){let n=!1;const s=[];e.forEach(a=>{a.dynamic&&(n=!0),s.push(a.type)});const i="tuple("+s.join(",")+")";super("tuple",i,r,n),xe(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,s)=>{const i=s.localName;return i&&(n[i]||(n[i]=0),n[i]++),n},{});return this.coders.forEach((n,s)=>{let i=n.localName;!i||r[i]!==1||(i==="length"&&(i="_length"),e[i]==null&&(e[i]=e[s]))}),Object.freeze(e)}encode(e,r){const n=ze.dereference(r,"tuple");return Eh(e,this.coders,n)}decode(e){return Ph(e,this.coders)}}function qr(t){return tt($t(t))}var Um="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";const rl=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),nl=4;function Lm(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),s=1,i=[0,1];for(let O=1;O<n;O++)i.push(s+=r());let a=r(),o=e;e+=a;let u=0,l=0;function c(){return u==0&&(l=l<<8|t[e++],u=8),l>>--u&1}const f=31,h=2**f,b=h>>>1,k=b>>1,E=h-1;let d=0;for(let O=0;O<f;O++)d=d<<1|c();let p=[],y=0,w=h;for(;;){let O=Math.floor(((d-y+1)*s-1)/w),P=0,A=n;for(;A-P>1;){let C=P+A>>>1;O<i[C]?A=C:P=C}if(P==0)break;p.push(P);let g=y+Math.floor(w*i[P]/s),B=y+Math.floor(w*i[P+1]/s)-1;for(;((g^B)&b)==0;)d=d<<1&E|c(),g=g<<1&E,B=B<<1&E|1;for(;g&~B&k;)d=d&b|d<<1&E>>>1|c(),g=g<<1^b,B=(B^b)<<1|b|1;y=g,w=1+B-g}let x=n-4;return p.map(O=>{switch(O-x){case 3:return x+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return x+256+(t[o++]<<8|t[o++]);case 1:return x+t[o++];default:return O-1}})}function Fm(t){let e=0;return()=>t[e++]}function Oh(t){return Fm(Lm(Dm(t)))}function Dm(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let r=t.length,n=new Uint8Array(6*r>>3);for(let s=0,i=0,a=0,o=0;s<r;s++)o=o<<6|e[t.charCodeAt(s)],a+=6,a>=8&&(n[i++]=o>>(a-=8));return n}function Mm(t){return t&1?~t>>1:t>>1}function jm(t,e){let r=Array(t);for(let n=0,s=0;n<t;n++)r[n]=s+=Mm(e());return r}function Di(t,e=0){let r=[];for(;;){let n=t(),s=t();if(!s)break;e+=n;for(let i=0;i<s;i++)r.push(e+i);e+=s+1}return r}function kh(t){return Mi(()=>{let e=Di(t);if(e.length)return e})}function Bh(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(Hm(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Gm(r,t))}return e.flat()}function Mi(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function Nh(t,e,r){let n=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)jm(t,r).forEach((i,a)=>n[a].push(i));return n}function Hm(t,e){let r=1+e(),n=e(),s=Mi(e);return Nh(s.length,1+t,e).flatMap((a,o)=>{let[u,...l]=a;return Array(s[o]).fill().map((c,f)=>{let h=f*n;return[u+f*r,l.map(b=>b+h)]})})}function Gm(t,e){let r=1+e();return Nh(r,1+t,e).map(s=>[s[0],s.slice(1)])}function Vm(t){let e=[],r=Di(t);return s(n([]),[]),e;function n(i){let a=t(),o=Mi(()=>{let u=Di(t).map(l=>r[l]);if(u.length)return n(u)});return{S:a,B:o,Q:i}}function s({S:i,B:a},o,u){if(!(i&4&&u===o[o.length-1])){i&2&&(u=o[o.length-1]),i&1&&e.push(o);for(let l of a)for(let c of l.Q)s(l,[...o,c],u)}}}function Qm(t){return t.toString(16).toUpperCase().padStart(2,"0")}function Rh(t){return`{${Qm(t)}}`}function Jm(t){let e=[];for(let r=0,n=t.length;r<n;){let s=t.codePointAt(r);r+=s<65536?1:2,e.push(s)}return e}function ds(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let s=0;s<r;)n.push(String.fromCodePoint(...t.slice(s,s+=4096)));return n.join("")}function zm(t,e){let r=t.length,n=r-e.length;for(let s=0;n==0&&s<r;s++)n=t[s]-e[s];return n}var Km="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";const ji=44032,Ba=4352,Na=4449,Ra=4519,Ch=19,Sh=21,hs=28,Ca=Sh*hs,qm=Ch*Ca,Wm=ji+qm,Zm=Ba+Ch,Ym=Na+Sh,Xm=Ra+hs;function Si(t){return t>>24&255}function _h(t){return t&16777215}let ic,sl,ac,Ea;function $m(){let t=Oh(Km);ic=new Map(kh(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),sl=new Set(Di(t)),ac=new Map,Ea=new Map;for(let[e,r]of Bh(t)){if(!sl.has(e)&&r.length==2){let[n,s]=r,i=Ea.get(n);i||(i=new Map,Ea.set(n,i)),i.set(s,e)}ac.set(e,r.reverse())}}function Ih(t){return t>=ji&&t<Wm}function ey(t,e){if(t>=Ba&&t<Zm&&e>=Na&&e<Ym)return ji+(t-Ba)*Ca+(e-Na)*hs;if(Ih(t)&&e>Ra&&e<Xm&&(t-ji)%hs==0)return t+(e-Ra);{let r=Ea.get(t);return r&&(r=r.get(e),r)?r:-1}}function Th(t){ic||$m();let e=[],r=[],n=!1;function s(i){let a=ic.get(i);a&&(n=!0,i|=a),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(Ih(i)){let a=i-ji,o=a/Ca|0,u=a%Ca/hs|0,l=a%hs;s(Ba+o),s(Na+u),l>0&&s(Ra+l)}else{let a=ac.get(i);a?r.push(...a):s(i)}if(!r.length)break;i=r.pop()}if(n&&e.length>1){let i=Si(e[0]);for(let a=1;a<e.length;a++){let o=Si(e[a]);if(o==0||i<=o){i=o;continue}let u=a-1;for(;;){let l=e[u+1];if(e[u+1]=e[u],e[u]=l,!u||(i=Si(e[--u]),i<=o))break}i=Si(e[a])}}return e}function ty(t){let e=[],r=[],n=-1,s=0;for(let i of t){let a=Si(i),o=_h(i);if(n==-1)a==0?n=o:e.push(o);else if(s>0&&s>=a)a==0?(e.push(n,...r),r.length=0,n=o):r.push(o),s=a;else{let u=ey(n,o);u>=0?n=u:s==0&&a==0?(e.push(n),n=o):(r.push(o),s=a)}}return n>=0&&e.push(n,...r),e}function Uh(t){return Th(t).map(_h)}function ry(t){return ty(Th(t))}const il=45,Lh=".",Fh=65039,Dh=1,Sa=t=>Array.from(t);function Hi(t,e){return t.P.has(e)||t.Q.has(e)}class ny extends Array{get is_emoji(){return!0}}let oc,Mh,Tn,cc,jh,ss,ho,$n,Rn,al,uc;function Dc(){if(oc)return;let t=Oh(Um);const e=()=>Di(t),r=()=>new Set(e()),n=(c,f)=>f.forEach(h=>c.add(h));oc=new Map(Bh(t)),Mh=r(),Tn=e(),cc=new Set(e().map(c=>Tn[c])),Tn=new Set(Tn),jh=r(),r();let s=kh(t),i=t();const a=()=>{let c=new Set;return e().forEach(f=>n(c,s[f])),n(c,e()),c};ss=Mi(c=>{let f=Mi(t).map(h=>h+96);if(f.length){let h=c>=i;f[0]-=32,f=ds(f),h&&(f=`Restricted[${f}]`);let b=a(),k=a(),E=!t();return{N:f,P:b,Q:k,M:E,R:h}}}),ho=r(),$n=new Map;let o=e().concat(Sa(ho)).sort((c,f)=>c-f);o.forEach((c,f)=>{let h=t(),b=o[f]=h?o[f-h]:{V:[],M:new Map};b.V.push(c),ho.has(c)||$n.set(c,b)});for(let{V:c,M:f}of new Set($n.values())){let h=[];for(let k of c){let E=ss.filter(p=>Hi(p,k)),d=h.find(({G:p})=>E.some(y=>p.has(y)));d||(d={G:new Set,V:[]},h.push(d)),d.V.push(k),n(d.G,E)}let b=h.flatMap(k=>Sa(k.G));for(let{G:k,V:E}of h){let d=new Set(b.filter(p=>!k.has(p)));for(let p of E)f.set(p,d)}}Rn=new Set;let u=new Set;const l=c=>Rn.has(c)?u.add(c):Rn.add(c);for(let c of ss){for(let f of c.P)l(f);for(let f of c.Q)l(f)}for(let c of Rn)!$n.has(c)&&!u.has(c)&&$n.set(c,Dh);n(Rn,Uh(Rn)),al=Vm(t).map(c=>ny.from(c)).sort(zm),uc=new Map;for(let c of al){let f=[uc];for(let h of c){let b=f.map(k=>{let E=k.get(h);return E||(E=new Map,k.set(h,E)),E});h===Fh?f.push(...b):f=b}for(let h of f)h.V=c}}function Mc(t){return(Hh(t)?"":`${jc(Ha([t]))} `)+Rh(t)}function jc(t){return`"${t}"‎`}function sy(t){if(t.length>=4&&t[2]==il&&t[3]==il)throw new Error(`invalid label extension: "${ds(t.slice(0,4))}"`)}function iy(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function ay(t){let e=t[0],r=rl.get(e);if(r)throw Ii(`leading ${r}`);let n=t.length,s=-1;for(let i=1;i<n;i++){e=t[i];let a=rl.get(e);if(a){if(s==i)throw Ii(`${r} + ${a}`);s=i+1,r=a}}if(s==n)throw Ii(`trailing ${r}`)}function Ha(t,e=1/0,r=Rh){let n=[];oy(t[0])&&n.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,i=t.length;for(let a=0;a<i;a++){let o=t[a];Hh(o)&&(n.push(ds(t.slice(s,a))),n.push(r(o)),s=a+1)}return n.push(ds(t.slice(s,i))),n.join("")}function oy(t){return Dc(),Tn.has(t)}function Hh(t){return Dc(),jh.has(t)}function cy(t){return dy(uy(t,ry,py))}function uy(t,e,r){if(!t)return[];Dc();let n=0;return t.split(Lh).map(s=>{let i=Jm(s),a={input:i,offset:n};n+=i.length+1;try{let o=a.tokens=gy(i,e,r),u=o.length,l;if(!u)throw new Error("empty label");let c=a.output=o.flat();if(iy(c),!(a.emoji=u>1||o[0].is_emoji)&&c.every(h=>h<128))sy(c),l="ASCII";else{let h=o.flatMap(b=>b.is_emoji?[]:b);if(!h.length)l="Emoji";else{if(Tn.has(c[0]))throw Ii("leading combining mark");for(let E=1;E<u;E++){let d=o[E];if(!d.is_emoji&&Tn.has(d[0]))throw Ii(`emoji + combining mark: "${ds(o[E-1])} + ${Ha([d[0]])}"`)}ay(c);let b=Sa(new Set(h)),[k]=fy(b);hy(k,h),ly(k,b),l=k.N}}a.type=l}catch(o){a.error=o}return a})}function ly(t,e){let r,n=[];for(let s of e){let i=$n.get(s);if(i===Dh)return;if(i){let a=i.M.get(s);if(r=r?r.filter(o=>a.has(o)):Sa(a),!r.length)return}else n.push(s)}if(r){for(let s of r)if(n.every(i=>Hi(s,i)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function fy(t){let e=ss;for(let r of t){let n=e.filter(s=>Hi(s,r));if(!n.length)throw ss.some(s=>Hi(s,r))?Vh(e[0],r):Gh(r);if(e=n,n.length==1)break}return e}function dy(t){return t.map(({input:e,error:r,output:n})=>{if(r){let s=r.message;throw new Error(t.length==1?s:`Invalid label ${jc(Ha(e,63))}: ${s}`)}return ds(n)}).join(Lh)}function Gh(t){return new Error(`disallowed character: ${Mc(t)}`)}function Vh(t,e){let r=Mc(e),n=ss.find(s=>s.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function Ii(t){return new Error(`illegal placement: ${t}`)}function hy(t,e){for(let r of e)if(!Hi(t,r))throw Vh(t,r);if(t.M){let r=Uh(e);for(let n=1,s=r.length;n<s;n++)if(cc.has(r[n])){let i=n+1;for(let a;i<s&&cc.has(a=r[i]);i++)for(let o=n;o<i;o++)if(r[o]==a)throw new Error(`duplicate non-spacing marks: ${Mc(a)}`);if(i-n>nl)throw new Error(`excessive non-spacing marks: ${jc(Ha(r.slice(n-1,i)))} (${i-n}/${nl})`);n=i}}}function gy(t,e,r){let n=[],s=[];for(t=t.slice().reverse();t.length;){let i=by(t);if(i)s.length&&(n.push(e(s)),s=[]),n.push(r(i));else{let a=t.pop();if(Rn.has(a))s.push(a);else{let o=oc.get(a);if(o)s.push(...o);else if(!Mh.has(a))throw Gh(a)}}}return s.length&&n.push(e(s)),n}function py(t){return t.filter(e=>e!=Fh)}function by(t,e){let r=uc,n,s=t.length;for(;s&&(r=r.get(t[--s]),!!r);){let{V:i}=r;i&&(n=i,t.length=s)}return n}const Qh=new Uint8Array(32);Qh.fill(0);function ol(t){return V(t.length!==0,"invalid ENS name; empty component","comp",t),t}function Jh(t){const e=$t(my(t)),r=[];if(t.length===0)return r;let n=0;for(let s=0;s<e.length;s++)e[s]===46&&(r.push(ol(e.slice(n,s))),n=s+1);return V(n<e.length,"invalid ENS name; empty component","name",t),r.push(ol(e.slice(n))),r}function my(t){try{if(t.length===0)throw new Error("empty label");return cy(t)}catch(e){V(!1,`invalid ENS name (${e.message})`,"name",t)}}function lc(t){V(typeof t=="string","invalid ENS name; not a string","name",t),V(t.length,"invalid ENS name (empty label)","name",t);let e=Qh;const r=Jh(t);for(;r.length;)e=tt($e([e,tt(r.pop())]));return le(e)}function yy(t,e){const r=e;return V(r<=255,"DNS encoded label cannot exceed 255","length",r),le($e(Jh(t).map(n=>{V(n.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,"name",t);const s=new Uint8Array(n.length+1);return s.set(n,1),s[0]=s.length-1,s})))+"00"}function go(t,e){return{address:Ie(t),storageKeys:e.map((r,n)=>(V(Me(r,32),"invalid slot",`storageKeys[${n}]`,r),r.toLowerCase()))}}function zn(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(V(r.length===2,"invalid slot set",`value[${n}]`,r),go(r[0],r[1])):(V(r!=null&&typeof r=="object","invalid address-slot set","value",t),go(r.address,r.storageKeys)));V(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(r=>{const n=t[r].reduce((s,i)=>(s[i]=!0,s),{});return go(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function xy(t){let e;return typeof t=="string"?e=Rr.computePublicKey(t,!1):e=t.publicKey,Ie(tt("0x"+e.substring(4)).substring(26))}function wy(t,e){return xy(Rr.recoverPublicKey(t,e))}const ot=BigInt(0),Ay=BigInt(2),Ey=BigInt(27),Py=BigInt(28),vy=BigInt(35),Oy=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),po=4096*32;function cl(t,e){let r=t.toString(16);for(;r.length<2;)r="0"+r;return r+=Wr(e).substring(4),"0x"+r}function Ga(t){return t==="0x"?null:Ie(t)}function Hc(t,e){try{return zn(t)}catch(r){V(!1,r.message,e,t)}}function Zi(t,e){return t==="0x"?0:Ne(t,e)}function Xe(t,e){if(t==="0x")return ot;const r=be(t,e);return V(r<=Oy,"value exceeds uint size",e,r),r}function Ge(t,e){const r=be(t,"value"),n=Et(r);return V(n.length<=32,"value too large",`tx.${e}`,r),n}function Gc(t){return zn(t).map(e=>[e.address,e.storageKeys])}function ky(t,e){V(Array.isArray(t),`invalid ${e}`,"value",t);for(let r=0;r<t.length;r++)V(Me(t[r],32),"invalid ${ param } hash",`value[${r}]`,t[r]);return t}function By(t){const e=Da(t);V(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const r={type:0,nonce:Zi(e[0],"nonce"),gasPrice:Xe(e[1],"gasPrice"),gasLimit:Xe(e[2],"gasLimit"),to:Ga(e[3]),value:Xe(e[4],"value"),data:le(e[5]),chainId:ot};if(e.length===6)return r;const n=Xe(e[6],"v"),s=Xe(e[7],"r"),i=Xe(e[8],"s");if(s===ot&&i===ot)r.chainId=n;else{let a=(n-vy)/Ay;a<ot&&(a=ot),r.chainId=a,V(a!==ot||n===Ey||n===Py,"non-canonical legacy v","v",e[6]),r.signature=it.from({r:jn(e[7],32),s:jn(e[8],32),v:n})}return r}function Ny(t,e){const r=[Ge(t.nonce,"nonce"),Ge(t.gasPrice||0,"gasPrice"),Ge(t.gasLimit,"gasLimit"),t.to||"0x",Ge(t.value,"value"),t.data];let n=ot;if(t.chainId!=ot)n=be(t.chainId,"tx.chainId"),V(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const i=t.signature.legacyChainId;i!=null&&(n=i)}if(!e)return n!==ot&&(r.push(Et(n)),r.push("0x"),r.push("0x")),Hn(r);let s=BigInt(27+e.yParity);return n!==ot?s=it.getChainIdV(n,e.v):BigInt(e.v)!==s&&V(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(Et(s)),r.push(Et(e.r)),r.push(Et(e.s)),Hn(r)}function Vc(t,e){let r;try{if(r=Zi(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{V(!1,"invalid yParity","yParity",e[0])}const n=jn(e[1],32),s=jn(e[2],32),i=it.from({r:n,s,yParity:r});t.signature=i}function Ry(t){const e=Da(ke(t).slice(1));V(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",le(t));const r={type:2,chainId:Xe(e[0],"chainId"),nonce:Zi(e[1],"nonce"),maxPriorityFeePerGas:Xe(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Xe(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Xe(e[4],"gasLimit"),to:Ga(e[5]),value:Xe(e[6],"value"),data:le(e[7]),accessList:Hc(e[8],"accessList")};return e.length===9||Vc(r,e.slice(9)),r}function Cy(t,e){const r=[Ge(t.chainId,"chainId"),Ge(t.nonce,"nonce"),Ge(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ge(t.maxFeePerGas||0,"maxFeePerGas"),Ge(t.gasLimit,"gasLimit"),t.to||"0x",Ge(t.value,"value"),t.data,Gc(t.accessList||[])];return e&&(r.push(Ge(e.yParity,"yParity")),r.push(Et(e.r)),r.push(Et(e.s))),$e(["0x02",Hn(r)])}function Sy(t){const e=Da(ke(t).slice(1));V(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",le(t));const r={type:1,chainId:Xe(e[0],"chainId"),nonce:Zi(e[1],"nonce"),gasPrice:Xe(e[2],"gasPrice"),gasLimit:Xe(e[3],"gasLimit"),to:Ga(e[4]),value:Xe(e[5],"value"),data:le(e[6]),accessList:Hc(e[7],"accessList")};return e.length===8||Vc(r,e.slice(8)),r}function _y(t,e){const r=[Ge(t.chainId,"chainId"),Ge(t.nonce,"nonce"),Ge(t.gasPrice||0,"gasPrice"),Ge(t.gasLimit,"gasLimit"),t.to||"0x",Ge(t.value,"value"),t.data,Gc(t.accessList||[])];return e&&(r.push(Ge(e.yParity,"recoveryParam")),r.push(Et(e.r)),r.push(Et(e.s))),$e(["0x01",Hn(r)])}function Iy(t){let e=Da(ke(t).slice(1)),r="3",n=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";const i=e[1],a=e[2],o=e[3];V(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),V(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),V(Array.isArray(o),"invalid network format: proofs not an array","fields[3]",o),V(i.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),V(i.length===o.length,"invalid network format: blobs/proofs length mismatch","fields",e),n=[];for(let u=0;u<e[1].length;u++)n.push({data:i[u],commitment:a[u],proof:o[u]});e=e[0]}V(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",le(t));const s={type:3,chainId:Xe(e[0],"chainId"),nonce:Zi(e[1],"nonce"),maxPriorityFeePerGas:Xe(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Xe(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Xe(e[4],"gasLimit"),to:Ga(e[5]),value:Xe(e[6],"value"),data:le(e[7]),accessList:Hc(e[8],"accessList"),maxFeePerBlobGas:Xe(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};n&&(s.blobs=n),V(s.to!=null,`invalid address for transaction type: ${r}`,"data",t),V(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let i=0;i<s.blobVersionedHashes.length;i++)V(Me(s.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",t);return e.length===11||Vc(s,e.slice(11)),s}function Ty(t,e,r){const n=[Ge(t.chainId,"chainId"),Ge(t.nonce,"nonce"),Ge(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ge(t.maxFeePerGas||0,"maxFeePerGas"),Ge(t.gasLimit,"gasLimit"),t.to||Fi,Ge(t.value,"value"),t.data,Gc(t.accessList||[]),Ge(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),ky(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(n.push(Ge(e.yParity,"yParity")),n.push(Et(e.r)),n.push(Et(e.s)),r)?$e(["0x03",Hn([n,r.map(s=>s.data),r.map(s=>s.commitment),r.map(s=>s.proof)])]):$e(["0x03",Hn(n)])}class cr{#e;#t;#r;#n;#s;#a;#i;#o;#h;#u;#g;#p;#c;#l;#f;#d;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;default:V(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=this.#t;return e==null&&this.type===3?Fi:e}set to(e){this.#t=e==null?null:Ie(e)}get nonce(){return this.#n}set nonce(e){this.#n=Ne(e,"value")}get gasLimit(){return this.#s}set gasLimit(e){this.#s=be(e)}get gasPrice(){const e=this.#a;return e==null&&(this.type===0||this.type===1)?ot:e}set gasPrice(e){this.#a=e==null?null:be(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#i;return e??(this.type===2||this.type===3?ot:null)}set maxPriorityFeePerGas(e){this.#i=e==null?null:be(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#o;return e??(this.type===2||this.type===3?ot:null)}set maxFeePerGas(e){this.#o=e==null?null:be(e,"maxFeePerGas")}get data(){return this.#r}set data(e){this.#r=le(e)}get value(){return this.#h}set value(e){this.#h=be(e,"value")}get chainId(){return this.#u}set chainId(e){this.#u=be(e)}get signature(){return this.#g||null}set signature(e){this.#g=e==null?null:it.from(e)}get accessList(){const e=this.#p||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#p=e==null?null:zn(e)}get maxFeePerBlobGas(){const e=this.#c;return e==null&&this.type===3?ot:e}set maxFeePerBlobGas(e){this.#c=e==null?null:be(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#l;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){V(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)V(Me(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}this.#l=e}get blobs(){return this.#d==null?null:this.#d.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#d=null;return}const r=[],n=[];for(let s=0;s<e.length;s++){const i=e[s];if(vc(i)){re(this.#f,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let a=ke(i);if(V(a.length<=po,"blob is too large",`blobs[${s}]`,i),a.length!==po){const l=new Uint8Array(po);l.set(a),a=l}const o=this.#f.blobToKzgCommitment(a),u=le(this.#f.computeBlobKzgProof(a,o));r.push({data:le(a),commitment:le(o),proof:u}),n.push(cl(1,o))}else{const a=le(i.commitment);r.push({data:le(i.data),commitment:a,proof:le(i.proof)}),n.push(cl(1,a))}}this.#d=r,this.#l=n}get kzg(){return this.#f}set kzg(e){this.#f=e}constructor(){this.#e=null,this.#t=null,this.#n=0,this.#s=ot,this.#a=null,this.#i=null,this.#o=null,this.#r="0x",this.#h=ot,this.#u=ot,this.#g=null,this.#p=null,this.#c=null,this.#l=null,this.#d=null,this.#f=null}get hash(){return this.signature==null?null:tt(this.#b(!0,!1))}get unsignedHash(){return tt(this.unsignedSerialized)}get from(){return this.signature==null?null:wy(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Rr.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#b(e,r){re(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return Ny(this,n);case 1:return _y(this,n);case 2:return Cy(this,n);case 3:return Ty(this,n,r?this.blobs:null)}re(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#b(!0,!0)}get unsignedSerialized(){return this.#b(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,s=this.#c!=null||this.#l;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&re(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),re(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),re(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):r?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return cr.from(this)}toJSON(){const e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new cr;if(typeof e=="string"){const n=ke(e);if(n[0]>=127)return cr.from(By(n));switch(n[0]){case 1:return cr.from(Sy(n));case 2:return cr.from(Ry(n));case 3:return cr.from(Iy(n))}re(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const r=new cr;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=it.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&(V(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),V(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(V(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),V(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}}const zh=new Uint8Array(32);zh.fill(0);const Uy=BigInt(-1),Kh=BigInt(0),qh=BigInt(1),Ly=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Fy(t){const e=ke(t),r=e.length%32;return r?$e([e,zh.slice(r)]):le(e)}const Dy=Kr(qh,32),My=Kr(Kh,32),ul={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},bo=["name","version","chainId","verifyingContract","salt"];function ll(t){return function(e){return V(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const jy={name:ll("name"),version:ll("version"),chainId:function(t){const e=be(t,"domain.chainId");return V(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):rs(e)},verifyingContract:function(t){try{return Ie(t).toLowerCase()}catch{}V(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=ke(t,"domain.salt");return V(e.length===32,'invalid domain value "salt"',"domain.salt",t),le(e)}};function mo(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const r=e[1]==="",n=parseInt(e[2]);V(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",t);const s=Ci(Ly,r?n-1:n),i=r?(s+qh)*Uy:Kh;return function(a){const o=be(a,"value");return V(o>=i&&o<=s,`value out-of-bounds for ${t}`,"value",o),Kr(r?I0(o,256):o,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return V(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(n){const s=ke(n);return V(s.length===r,`invalid length for ${t}`,"value",n),Fy(n)}}}switch(t){case"address":return function(e){return jn(Ie(e),32)};case"bool":return function(e){return e?Dy:My};case"bytes":return function(e){return tt(e)};case"string":return function(e){return qr(e)}}return null}function fl(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}function ya(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}class Lt{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#r;constructor(e){this.#t=new Map,this.#r=new Map;const r=new Map,n=new Map,s=new Map,i={};Object.keys(e).forEach(u=>{i[u]=e[u].map(({name:l,type:c})=>{let{base:f,index:h}=ya(c);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:l,type:f+(h||"")}}),r.set(u,new Set),n.set(u,[]),s.set(u,new Set)}),this.#e=JSON.stringify(i);for(const u in i){const l=new Set;for(const c of i[u]){V(!l.has(c.name),`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(u)}`,"types",e),l.add(c.name);const f=ya(c.type).base;V(f!==u,`circular type reference to ${JSON.stringify(f)}`,"types",e),!mo(f)&&(V(n.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),n.get(f).push(u),r.get(u).add(f))}}const a=Array.from(n.keys()).filter(u=>n.get(u).length===0);V(a.length!==0,"missing primary type","types",e),V(a.length===1,`ambiguous primary types or unused types: ${a.map(u=>JSON.stringify(u)).join(", ")}`,"types",e),xe(this,{primaryType:a[0]});function o(u,l){V(!l.has(u),`circular type reference to ${JSON.stringify(u)}`,"types",e),l.add(u);for(const c of r.get(u))if(n.has(c)){o(c,l);for(const f of l)s.get(f).add(c)}l.delete(u)}o(this.primaryType,new Set);for(const[u,l]of s){const c=Array.from(l);c.sort(),this.#t.set(u,fl(u,i[u])+c.map(f=>fl(f,i[f])).join(""))}}getEncoder(e){let r=this.#r.get(e);return r||(r=this.#n(e),this.#r.set(e,r)),r}#n(e){{const s=mo(e);if(s)return s}const r=ya(e).array;if(r){const s=r.prefix,i=this.getEncoder(s);return a=>{V(r.count===-1||r.count===a.length,`array length mismatch; expected length ${r.count}`,"value",a);let o=a.map(i);return this.#t.has(s)&&(o=o.map(tt)),tt($e(o))}}const n=this.types[e];if(n){const s=qr(this.#t.get(e));return i=>{const a=n.map(({name:o,type:u})=>{const l=this.getEncoder(u)(i[o]);return this.#t.has(u)?tt(l):l});return a.unshift(s),$e(a)}}V(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const r=this.#t.get(e);return V(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return tt(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(mo(e))return n(e,r);const s=ya(e).array;if(s)return V(s.count===-1||s.count===r.length,`array length mismatch; expected length ${s.count}`,"value",r),r.map(a=>this._visit(s.prefix,a,n));const i=this.types[e];if(i)return i.reduce((a,{name:o,type:u})=>(a[o]=this._visit(u,r[o],n),a),{});V(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Lt(e)}static getPrimaryType(e){return Lt.from(e).primaryType}static hashStruct(e,r,n){return Lt.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){if(e[n]==null)continue;const s=ul[n];V(s,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:s})}return r.sort((n,s)=>bo.indexOf(n.name)-bo.indexOf(s.name)),Lt.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return $e(["0x1901",Lt.hashDomain(e),Lt.from(r).hash(n)])}static hash(e,r,n){return tt(Lt.encode(e,r,n))}static async resolveNames(e,r,n,s){e=Object.assign({},e);for(const o in e)e[o]==null&&delete e[o];const i={};e.verifyingContract&&!Me(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const a=Lt.from(r);a.visit(n,(o,u)=>(o==="address"&&!Me(u,20)&&(i[u]="0x"),u));for(const o in i)i[o]=await s(o);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=a.visit(n,(o,u)=>o==="address"&&i[u]?i[u]:u),{domain:e,value:n}}static getPayload(e,r,n){Lt.hashDomain(e);const s={},i=[];bo.forEach(u=>{const l=e[u];l!=null&&(s[u]=jy[u](l),i.push({name:u,type:ul[u]}))});const a=Lt.from(r);r=a.types;const o=Object.assign({},r);return V(o.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),o.EIP712Domain=i,a.encode(n),{types:o,domain:s,primaryType:a.primaryType,message:a.visit(n,(u,l)=>{if(u.match(/^bytes(\d*)/))return le(ke(l));if(u.match(/^u?int/))return be(l).toString();switch(u){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return V(typeof l=="string","invalid string","value",l),l}V(!1,"unsupported type","type",u)})}}}function Ot(t){const e=new Set;return t.forEach(r=>e.add(r)),Object.freeze(e)}const Hy="external public payable override",Gy=Ot(Hy.split(" ")),Wh="constant external internal payable private public pure view override",Vy=Ot(Wh.split(" ")),Zh="constructor error event fallback function receive struct",Yh=Ot(Zh.split(" ")),Xh="calldata memory storage payable indexed",Qy=Ot(Xh.split(" ")),Jy="tuple returns",zy=[Zh,Xh,Jy,Wh].join(" "),Ky=Ot(zy.split(" ")),qy={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Wy=new RegExp("^(\\s*)"),Zy=new RegExp("^([0-9]+)"),Yy=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),$h=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),eg=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class Qt{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new Qt(this.#t)}reset(){this.#e=0}#r(e=0,r=0){return new Qt(this.#t.slice(e,r).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))}popKeyword(e){const r=this.peek();if(r.type!=="KEYWORD"||!e.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const r=this.peek();throw new Error(`expected ${e}; got ${r.type} ${JSON.stringify(r.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=this.#r(this.#e+1,e.match+1);return this.#e=e.match+1,r}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=[];for(;this.#e<e.match-1;){const n=this.peek().linkNext;r.push(this.#r(this.#e+1,n)),this.#e=n}return this.#e=e.match+1,r}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){const r=this.peekType("KEYWORD");return r!=null&&e.has(r)?r:null}peekType(e){if(this.length===0)return null;const r=this.peek();return r.type===e?r.text:null}pop(){const e=this.peek();return this.#e++,e}toString(){const e=[];for(let r=this.#e;r<this.#t.length;r++){const n=this.#t[r];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}}function Zr(t){const e=[],r=a=>{const o=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${o} at ${i}: ${a}`)};let n=[],s=[],i=0;for(;i<t.length;){let a=t.substring(i),o=a.match(Wy);o&&(i+=o[1].length,a=t.substring(i));const u={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(u);let l=qy[a[0]]||"";if(l){if(u.type=l,u.text=a[0],i++,l==="OPEN_PAREN")n.push(e.length-1),s.push(e.length-1);else if(l=="CLOSE_PAREN")n.length===0&&r("no matching open bracket"),u.match=n.pop(),e[u.match].match=e.length-1,u.depth--,u.linkBack=s.pop(),e[u.linkBack].linkNext=e.length-1;else if(l==="COMMA")u.linkBack=s.pop(),e[u.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(l==="OPEN_BRACKET")u.type="BRACKET";else if(l==="CLOSE_BRACKET"){let c=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const f=e.pop().text;c=f+c,e[e.length-1].value=Ne(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=c}continue}if(o=a.match(Yy),o){if(u.text=o[1],i+=u.text.length,Ky.has(u.text)){u.type="KEYWORD";continue}if(u.text.match(eg)){u.type="TYPE";continue}u.type="ID";continue}if(o=a.match(Zy),o){u.text=o[1],u.type="NUMBER",i+=u.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${i}`)}return new Qt(e.map(a=>Object.freeze(a)))}function dl(t,e){let r=[];for(const n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function Va(t,e){if(e.peekKeyword(Yh)){const r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function Tr(t,e){const r=new Set;for(;;){const n=t.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function tg(t){let e=Tr(t,Vy);return dl(e,Ot("constant payable nonpayable".split(" "))),dl(e,Ot("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function _r(t,e){return t.popParams().map(r=>De.from(r,e))}function rg(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return be(t.pop().text);throw new Error("invalid gas")}return null}function Gn(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const Xy=new RegExp(/^(.*)\[([0-9]*)\]$/);function hl(t){const e=t.match(eg);if(V(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const r=parseInt(e[2]);V(r!==0&&r<=32,"invalid bytes length","type",t)}else if(e[3]){const r=parseInt(e[3]);V(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}const Ve={},Nt=Symbol.for("_ethers_internal"),gl="_ParamTypeInternal",pl="_ErrorInternal",bl="_EventInternal",ml="_ConstructorInternal",yl="_FallbackInternal",xl="_FunctionInternal",wl="_StructInternal";class De{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,r,n,s,i,a,o,u){if(Ki(e,Ve,"ParamType"),Object.defineProperty(this,Nt,{value:gl}),a&&(a=Object.freeze(a.slice())),s==="array"){if(o==null||u==null)throw new Error("")}else if(o!=null||u!=null)throw new Error("");if(s==="tuple"){if(a==null)throw new Error("")}else if(a!=null)throw new Error("");xe(this,{name:r,type:n,baseType:s,indexed:i,components:a,arrayLength:o,arrayChildren:u})}format(e){if(e==null&&(e="sighash"),e==="json"){const n=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=n,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let r="";return this.isArray()?(r+=this.arrayChildren.format(e),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?r+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":r+=this.type,e!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),e==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(s=>n.arrayChildren.walk(s,r))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((s,i)=>n.components[i].walk(s,r))}return r(this.type,e)}#e(e,r,n,s){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");const a=this.arrayChildren,o=r.slice();o.forEach((u,l)=>{a.#e(e,u,n,c=>{o[l]=c})}),s(o);return}if(this.isTuple()){const a=this.components;let o;if(Array.isArray(r))o=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");o=a.map(u=>{if(!u.name)throw new Error("cannot use object value with unnamed components");if(!(u.name in r))throw new Error(`missing value for component ${u.name}`);return r[u.name]})}if(o.length!==this.components.length)throw new Error("array is wrong length");o.forEach((u,l)=>{a[l].#e(e,u,n,c=>{o[l]=c})}),s(o);return}const i=n(this.type,r);i.then?e.push((async function(){s(await i)})()):s(i)}async walkAsync(e,r){const n=[],s=[e];return this.#e(n,e,r,i=>{s[0]=i}),n.length&&await Promise.all(n),s[0]}static from(e,r){if(De.isParamType(e))return e;if(typeof e=="string")try{return De.from(Zr(e),r)}catch{V(!1,"invalid param type","obj",e)}else if(e instanceof Qt){let o="",u="",l=null;Tr(e,Ot(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(u="tuple",l=e.popParams().map(E=>De.from(E)),o=`tuple(${l.map(E=>E.format()).join(",")})`):(o=hl(e.popType("TYPE")),u=o);let c=null,f=null;for(;e.length&&e.peekType("BRACKET");){const E=e.pop();c=new De(Ve,"",o,u,null,l,f,c),f=E.value,o+=E.text,u="array",l=null}let h=null;if(Tr(e,Qy).has("indexed")){if(!r)throw new Error("");h=!0}const k=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new De(Ve,k,o,u,h,l,f,c)}const n=e.name;V(!n||typeof n=="string"&&n.match($h),"invalid name","obj.name",n);let s=e.indexed;s!=null&&(V(r,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,a=i.match(Xy);if(a){const o=parseInt(a[2]||"-1"),u=De.from({type:a[1],components:e.components});return new De(Ve,n||"",i,"array",s,null,o,u)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const o=e.components!=null?e.components.map(l=>De.from(l)):null;return new De(Ve,n||"",i,"tuple",s,o,null,null)}return i=hl(e.type),new De(Ve,n||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[Nt]===gl}}class Vn{type;inputs;constructor(e,r,n){Ki(e,Ve,"Fragment"),n=Object.freeze(n.slice()),xe(this,{type:r,inputs:n})}static from(e){if(typeof e=="string"){try{Vn.from(JSON.parse(e))}catch{}return Vn.from(Zr(e))}if(e instanceof Qt)switch(e.peekKeyword(Yh)){case"constructor":return Sr.from(e);case"error":return Bt.from(e);case"event":return ur.from(e);case"fallback":case"receive":return Br.from(e);case"function":return lr.from(e);case"struct":return Mn.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Sr.from(e);case"error":return Bt.from(e);case"event":return ur.from(e);case"fallback":case"receive":return Br.from(e);case"function":return lr.from(e);case"struct":return Mn.from(e)}re(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}V(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Sr.isFragment(e)}static isError(e){return Bt.isFragment(e)}static isEvent(e){return ur.isFragment(e)}static isFunction(e){return lr.isFragment(e)}static isStruct(e){return Mn.isFragment(e)}}class Qa extends Vn{name;constructor(e,r,n,s){super(e,r,s),V(typeof n=="string"&&n.match($h),"invalid identifier","name",n),s=Object.freeze(s.slice()),xe(this,{name:n})}}function Gi(t,e){return"("+e.map(r=>r.format(t)).join(t==="full"?", ":",")+")"}class Bt extends Qa{constructor(e,r,n){super(e,"error",r,n),Object.defineProperty(this,Nt,{value:pl})}get selector(){return qr(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const r=[];return e!=="sighash"&&r.push("error"),r.push(this.name+Gi(e,this.inputs)),r.join(" ")}static from(e){if(Bt.isFragment(e))return e;if(typeof e=="string")return Bt.from(Zr(e));if(e instanceof Qt){const r=Va("error",e),n=_r(e);return Gn(e),new Bt(Ve,r,n)}return new Bt(Ve,e.name,e.inputs?e.inputs.map(De.from):[])}static isFragment(e){return e&&e[Nt]===pl}}class ur extends Qa{anonymous;constructor(e,r,n,s){super(e,"event",r,n),Object.defineProperty(this,Nt,{value:bl}),xe(this,{anonymous:s})}get topicHash(){return qr(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const r=[];return e!=="sighash"&&r.push("event"),r.push(this.name+Gi(e,this.inputs)),e!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(e,r){return r=(r||[]).map(s=>De.from(s)),new ur(Ve,e,r,!1).topicHash}static from(e){if(ur.isFragment(e))return e;if(typeof e=="string")try{return ur.from(Zr(e))}catch{V(!1,"invalid event fragment","obj",e)}else if(e instanceof Qt){const r=Va("event",e),n=_r(e,!0),s=!!Tr(e,Ot(["anonymous"])).has("anonymous");return Gn(e),new ur(Ve,r,n,s)}return new ur(Ve,e.name,e.inputs?e.inputs.map(r=>De.from(r,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[Nt]===bl}}class Sr extends Vn{payable;gas;constructor(e,r,n,s,i){super(e,r,n),Object.defineProperty(this,Nt,{value:ml}),xe(this,{payable:s,gas:i})}format(e){if(re(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const r=[`constructor${Gi(e,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(e){if(Sr.isFragment(e))return e;if(typeof e=="string")try{return Sr.from(Zr(e))}catch{V(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Qt){Tr(e,Ot(["constructor"]));const r=_r(e),n=!!Tr(e,Gy).has("payable"),s=rg(e);return Gn(e),new Sr(Ve,"constructor",r,n,s)}return new Sr(Ve,"constructor",e.inputs?e.inputs.map(De.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Nt]===ml}}class Br extends Vn{payable;constructor(e,r,n){super(e,"fallback",r),Object.defineProperty(this,Nt,{value:yl}),xe(this,{payable:n})}format(e){const r=this.inputs.length===0?"receive":"fallback";if(e==="json"){const n=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:n})}return`${r}()${this.payable?" payable":""}`}static from(e){if(Br.isFragment(e))return e;if(typeof e=="string")try{return Br.from(Zr(e))}catch{V(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Qt){const r=e.toString(),n=e.peekKeyword(Ot(["fallback","receive"]));if(V(n,"type must be fallback or receive","obj",r),e.popKeyword(Ot(["fallback","receive"]))==="receive"){const o=_r(e);return V(o.length===0,"receive cannot have arguments","obj.inputs",o),Tr(e,Ot(["payable"])),Gn(e),new Br(Ve,[],!0)}let i=_r(e);i.length?V(i.length===1&&i[0].type==="bytes","invalid fallback inputs","obj.inputs",i.map(o=>o.format("minimal")).join(", ")):i=[De.from("bytes")];const a=tg(e);if(V(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),Tr(e,Ot(["returns"])).has("returns")){const o=_r(e);V(o.length===1&&o[0].type==="bytes","invalid fallback outputs","obj.outputs",o.map(u=>u.format("minimal")).join(", "))}return Gn(e),new Br(Ve,i,a==="payable")}if(e.type==="receive")return new Br(Ve,[],!0);if(e.type==="fallback"){const r=[De.from("bytes")],n=e.stateMutability==="payable";return new Br(Ve,r,n)}V(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Nt]===yl}}class lr extends Qa{constant;outputs;stateMutability;payable;gas;constructor(e,r,n,s,i,a){super(e,"function",r,s),Object.defineProperty(this,Nt,{value:xl}),i=Object.freeze(i.slice()),xe(this,{constant:n==="view"||n==="pure",gas:a,outputs:i,payable:n==="payable",stateMutability:n})}get selector(){return qr(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});const r=[];return e!=="sighash"&&r.push("function"),r.push(this.name+Gi(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(Gi(e,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(e,r){return r=(r||[]).map(s=>De.from(s)),new lr(Ve,e,"view",r,[],null).selector}static from(e){if(lr.isFragment(e))return e;if(typeof e=="string")try{return lr.from(Zr(e))}catch{V(!1,"invalid function fragment","obj",e)}else if(e instanceof Qt){const n=Va("function",e),s=_r(e),i=tg(e);let a=[];Tr(e,Ot(["returns"])).has("returns")&&(a=_r(e));const o=rg(e);return Gn(e),new lr(Ve,n,i,s,a,o)}let r=e.stateMutability;return r==null&&(r="payable",typeof e.constant=="boolean"?(r="view",e.constant||(r="payable",typeof e.payable=="boolean"&&!e.payable&&(r="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(r="nonpayable")),new lr(Ve,e.name,r,e.inputs?e.inputs.map(De.from):[],e.outputs?e.outputs.map(De.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Nt]===xl}}class Mn extends Qa{constructor(e,r,n){super(e,"struct",r,n),Object.defineProperty(this,Nt,{value:wl})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Mn.from(Zr(e))}catch{V(!1,"invalid struct fragment","obj",e)}else if(e instanceof Qt){const r=Va("struct",e),n=_r(e);return Gn(e),new Mn(Ve,r,n)}return new Mn(Ve,e.name,e.inputs?e.inputs.map(De.from):[])}static isFragment(e){return e&&e[Nt]===wl}}const tr=new Map;tr.set(0,"GENERIC_PANIC");tr.set(1,"ASSERT_FALSE");tr.set(17,"OVERFLOW");tr.set(18,"DIVIDE_BY_ZERO");tr.set(33,"ENUM_RANGE_ERROR");tr.set(34,"BAD_STORAGE_DATA");tr.set(49,"STACK_UNDERFLOW");tr.set(50,"ARRAY_RANGE_ERROR");tr.set(65,"OUT_OF_MEMORY");tr.set(81,"UNINITIALIZED_FUNCTION_CALL");const $y=new RegExp(/^bytes([0-9]*)$/),ex=new RegExp(/^(u?int)([0-9]*)$/);let yo=null,Al=1024;function tx(t,e,r,n){let s="missing revert data",i=null;const a=null;let o=null;if(r){s="execution reverted";const l=ke(r);if(r=le(r),l.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(l.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(le(l.slice(0,4))==="0x08c379a0")try{i=n.decode(["string"],l.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(le(l.slice(0,4))==="0x4e487b71")try{const c=Number(n.decode(["uint256"],l.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[c]},i=`Panic due to ${tr.get(c)||"UNKNOWN"}(${c})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const u={to:e.to?Ie(e.to):null,data:e.data||"0x"};return e.from&&(u.from=Ie(e.from)),Qe(s,"CALL_EXCEPTION",{action:t,data:r,reason:i,transaction:u,invocation:a,revert:o})}class gs{#e(e){if(e.isArray())return new vm(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new ma(e.components.map(n=>this.#e(n)),e.name);switch(e.baseType){case"address":return new Em(e.name);case"bool":return new Om(e.name);case"string":return new Tm(e.name);case"bytes":return new km(e.name);case"":return new Rm(e.name)}let r=e.type.match(ex);if(r){let n=parseInt(r[2]||"256");return V(n!==0&&n<=256&&n%8===0,"invalid "+r[1]+" bit length","param",e),new Im(n/8,r[1]==="int",e.name)}if(r=e.type.match($y),r){let n=parseInt(r[1]);return V(n!==0&&n<=32,"invalid bytes length","param",e),new Bm(n,e.name)}V(!1,"invalid type","type",e.type)}getDefaultValue(e){const r=e.map(s=>this.#e(De.from(s)));return new ma(r,"_").defaultValue()}encode(e,r){R0(r.length,e.length,"types/values length mismatch");const n=e.map(a=>this.#e(De.from(a))),s=new ma(n,"_"),i=new $o;return s.encode(i,r),i.data}decode(e,r,n){const s=e.map(a=>this.#e(De.from(a)));return new ma(s,"_").decode(new kc(r,n,Al))}static _setDefaultMaxInflation(e){V(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Al=e}static defaultAbiCoder(){return yo==null&&(yo=new gs),yo}static getBuiltinCallException(e,r,n){return tx(e,r,n,gs.defaultAbiCoder())}}class rx{fragment;name;signature;topic;args;constructor(e,r,n){const s=e.name,i=e.format();xe(this,{fragment:e,name:s,signature:i,topic:r,args:n})}}class nx{fragment;name;args;signature;selector;value;constructor(e,r,n,s){const i=e.name,a=e.format();xe(this,{fragment:e,name:i,args:n,signature:a,selector:r,value:s})}}class sx{fragment;name;args;signature;selector;constructor(e,r,n){const s=e.name,i=e.format();xe(this,{fragment:e,name:s,args:n,signature:i,selector:r})}}class El{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){xe(this,{hash:e,_isIndexed:!0})}}const Pl={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},vl={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&Pl[t.toString()]&&(e=Pl[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};class _n{fragments;deploy;fallback;receive;#e;#t;#r;#n;constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,this.#r=new Map,this.#e=new Map,this.#t=new Map;const n=[];for(const a of r)try{n.push(Vn.from(a))}catch(o){console.log(`[Warning] Invalid Fragment ${JSON.stringify(a)}:`,o.message)}xe(this,{fragments:Object.freeze(n)});let s=null,i=!1;this.#n=this.getAbiCoder(),this.fragments.forEach((a,o)=>{let u;switch(a.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}xe(this,{deploy:a});return;case"fallback":a.inputs.length===0?i=!0:(V(!s||a.payable!==s.payable,"conflicting fallback fragments",`fragments[${o}]`,a),s=a,i=s.payable);return;case"function":u=this.#r;break;case"event":u=this.#t;break;case"error":u=this.#e;break;default:return}const l=a.format();u.has(l)||u.set(l,a)}),this.deploy||xe(this,{deploy:Sr.from("constructor()")}),xe(this,{fallback:s,receive:i})}format(e){const r=e?"minimal":"full";return this.fragments.map(s=>s.format(r))}formatJson(){const e=this.fragments.map(r=>r.format("json"));return JSON.stringify(e.map(r=>JSON.parse(r)))}getAbiCoder(){return gs.defaultAbiCoder()}#s(e,r,n){if(Me(e)){const i=e.toLowerCase();for(const a of this.#r.values())if(i===a.selector)return a;return null}if(e.indexOf("(")===-1){const i=[];for(const[a,o]of this.#r)a.split("(")[0]===e&&i.push(o);if(r){const a=r.length>0?r[r.length-1]:null;let o=r.length,u=!0;ze.isTyped(a)&&a.type==="overrides"&&(u=!1,o--);for(let l=i.length-1;l>=0;l--){const c=i[l].inputs.length;c!==o&&(!u||c!==o-1)&&i.splice(l,1)}for(let l=i.length-1;l>=0;l--){const c=i[l].inputs;for(let f=0;f<r.length;f++)if(ze.isTyped(r[f])){if(f>=c.length){if(r[f].type==="overrides")continue;i.splice(l,1);break}if(r[f].type!==c[f].baseType){i.splice(l,1);break}}}}if(i.length===1&&r&&r.length!==i[0].inputs.length){const a=r[r.length-1];(a==null||Array.isArray(a)||typeof a!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&n){const a=i.map(o=>JSON.stringify(o.format())).join(", ");V(!1,`ambiguous function description (i.e. matches ${a})`,"key",e)}return i[0]}const s=this.#r.get(lr.from(e).format());return s||null}getFunctionName(e){const r=this.#s(e,null,!1);return V(r,"no matching function","key",e),r.name}hasFunction(e){return!!this.#s(e,null,!1)}getFunction(e,r){return this.#s(e,r||null,!0)}forEachFunction(e){const r=Array.from(this.#r.keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(this.#r.get(s),n)}}#a(e,r,n){if(Me(e)){const i=e.toLowerCase();for(const a of this.#t.values())if(i===a.topicHash)return a;return null}if(e.indexOf("(")===-1){const i=[];for(const[a,o]of this.#t)a.split("(")[0]===e&&i.push(o);if(r){for(let a=i.length-1;a>=0;a--)i[a].inputs.length<r.length&&i.splice(a,1);for(let a=i.length-1;a>=0;a--){const o=i[a].inputs;for(let u=0;u<r.length;u++)if(ze.isTyped(r[u])&&r[u].type!==o[u].baseType){i.splice(a,1);break}}}if(i.length===0)return null;if(i.length>1&&n){const a=i.map(o=>JSON.stringify(o.format())).join(", ");V(!1,`ambiguous event description (i.e. matches ${a})`,"key",e)}return i[0]}const s=this.#t.get(ur.from(e).format());return s||null}getEventName(e){const r=this.#a(e,null,!1);return V(r,"no matching event","key",e),r.name}hasEvent(e){return!!this.#a(e,null,!1)}getEvent(e,r){return this.#a(e,r||null,!0)}forEachEvent(e){const r=Array.from(this.#t.keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(this.#t.get(s),n)}}getError(e,r){if(Me(e)){const s=e.toLowerCase();if(vl[s])return Bt.from(vl[s].signature);for(const i of this.#e.values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){const s=[];for(const[i,a]of this.#e)i.split("(")[0]===e&&s.push(a);if(s.length===0)return e==="Error"?Bt.from("error Error(string)"):e==="Panic"?Bt.from("error Panic(uint256)"):null;if(s.length>1){const i=s.map(a=>JSON.stringify(a.format())).join(", ");V(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=Bt.from(e).format(),e==="Error(string)")return Bt.from("error Error(string)");if(e==="Panic(uint256)")return Bt.from("error Panic(uint256)");const n=this.#e.get(e);return n||null}forEachError(e){const r=Array.from(this.#e.keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(this.#e.get(s),n)}}_decodeParams(e,r){return this.#n.decode(e,r)}_encodeParams(e,r){return this.#n.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);V(n,"unknown error","fragment",e),e=n}return V(Je(r,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",r),this._decodeParams(e.inputs,Je(r,4))}encodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);V(n,"unknown error","fragment",e),e=n}return $e([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);V(n,"unknown function","fragment",e),e=n}return V(Je(r,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",r),this._decodeParams(e.inputs,Je(r,4))}encodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);V(n,"unknown function","fragment",e),e=n}return $e([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionResult(e,r){if(typeof e=="string"){const i=this.getFunction(e);V(i,"unknown function","fragment",e),e=i}let n="invalid length for result data";const s=At(r);if(s.length%32===0)try{return this.#n.decode(e.outputs,s)}catch{n="could not decode result data"}re(!1,n,"BAD_DATA",{value:le(s),info:{method:e.name,signature:e.format()}})}makeError(e,r){const n=ke(e,"data"),s=gs.getBuiltinCallException("call",r,n);if(s.message.startsWith("execution reverted (unknown custom error)")){const o=le(n.slice(0,4)),u=this.getError(o);if(u)try{const l=this.#n.decode(u.inputs,n.slice(4));s.revert={name:u.name,signature:u.format(),args:l},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(r);return a&&(s.invocation={method:a.name,signature:a.signature,args:a.args}),s}encodeFunctionResult(e,r){if(typeof e=="string"){const n=this.getFunction(e);V(n,"unknown function","fragment",e),e=n}return le(this.#n.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){if(typeof e=="string"){const i=this.getEvent(e);V(i,"unknown event","eventFragment",e),e=i}re(r.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const s=(i,a)=>i.type==="string"?qr(a):i.type==="bytes"?tt(le(a)):(i.type==="bool"&&typeof a=="boolean"?a=a?"0x01":"0x00":i.type.match(/^u?int/)?a=Kr(a):i.type.match(/^bytes/)?a=Op(a,32):i.type==="address"&&this.#n.encode(["address"],[a]),jn(le(a),32));for(r.forEach((i,a)=>{const o=e.inputs[a];if(!o.indexed){V(i==null,"cannot filter non-indexed parameters; must be null","contract."+o.name,i);return}i==null?n.push(null):o.baseType==="array"||o.baseType==="tuple"?V(!1,"filtering with tuples or arrays not supported","contract."+o.name,i):Array.isArray(i)?n.push(i.map(u=>s(o,u))):n.push(s(o,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){if(typeof e=="string"){const a=this.getEvent(e);V(a,"unknown event","eventFragment",e),e=a}const n=[],s=[],i=[];return e.anonymous||n.push(e.topicHash),V(r.length===e.inputs.length,"event arguments/values mismatch","values",r),e.inputs.forEach((a,o)=>{const u=r[o];if(a.indexed)if(a.type==="string")n.push(qr(u));else if(a.type==="bytes")n.push(tt(u));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");n.push(this.#n.encode([a.type],[u]))}else s.push(a),i.push(u)}),{data:this.#n.encode(s,i),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"){const b=this.getEvent(e);V(b,"unknown event","eventFragment",e),e=b}if(n!=null&&!e.anonymous){const b=e.topicHash;V(Me(n[0],32)&&n[0].toLowerCase()===b,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const s=[],i=[],a=[];e.inputs.forEach((b,k)=>{b.indexed?b.type==="string"||b.type==="bytes"||b.baseType==="tuple"||b.baseType==="array"?(s.push(De.from({type:"bytes32",name:b.name})),a.push(!0)):(s.push(b),a.push(!1)):(i.push(b),a.push(!1))});const o=n!=null?this.#n.decode(s,$e(n)):null,u=this.#n.decode(i,r,!0),l=[],c=[];let f=0,h=0;return e.inputs.forEach((b,k)=>{let E=null;if(b.indexed)if(o==null)E=new El(null);else if(a[k])E=new El(o[h++]);else try{E=o[h++]}catch(d){E=d}else try{E=u[f++]}catch(d){E=d}l.push(E),c.push(b.name||null)}),Cr.fromItems(l,c)}parseTransaction(e){const r=ke(e.data,"tx.data"),n=be(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(le(r.slice(0,4)));if(!s)return null;const i=this.#n.decode(s.inputs,r.slice(4));return new nx(s,s.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new rx(r,r.topicHash,this.decodeEventLog(r,e.data,e.topics))}parseError(e){const r=le(e),n=this.getError(Je(r,0,4));if(!n)return null;const s=this.#n.decode(n.inputs,Je(r,4));return new sx(n,n.selector,s)}static from(e){return e instanceof _n?e:typeof e=="string"?new _n(JSON.parse(e)):typeof e.formatJson=="function"?new _n(e.formatJson()):typeof e.format=="function"?new _n(e.format("json")):new _n(e)}}const ng=BigInt(0);function is(t){return t??null}function Ze(t){return t==null?null:t.toString()}class Ol{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,r,n){xe(this,{gasPrice:is(e),maxFeePerGas:is(r),maxPriorityFeePerGas:is(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:r,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Ze(e),maxFeePerGas:Ze(r),maxPriorityFeePerGas:Ze(n)}}}function _a(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=le(t.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of r)!(s in t)||t[s]==null||(e[s]=be(t[s],`request.${s}`));const n="type,nonce".split(/,/);for(const s of n)!(s in t)||t[s]==null||(e[s]=Ne(t[s],`request.${s}`));return t.accessList&&(e.accessList=zn(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(s=>vc(s)?le(s):Object.assign({},s))),e}class ix{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,r){this.#e=e.transactions.map(n=>typeof n!="string"?new Xi(n,r):n),xe(this,{provider:r,hash:is(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:is(e.prevRandao),extraData:e.extraData,baseFeePerGas:is(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=this.#e.slice();return e.length===0?[]:(re(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:r,extraData:n,gasLimit:s,gasUsed:i,hash:a,miner:o,prevRandao:u,nonce:l,number:c,parentHash:f,parentBeaconBlockRoot:h,stateRoot:b,receiptsRoot:k,timestamp:E,transactions:d}=this;return{_type:"Block",baseFeePerGas:Ze(e),difficulty:Ze(r),extraData:n,gasLimit:Ze(s),gasUsed:Ze(i),blobGasUsed:Ze(this.blobGasUsed),excessBlobGas:Ze(this.excessBlobGas),hash:a,miner:o,prevRandao:u,nonce:l,number:c,parentHash:f,timestamp:E,parentBeaconBlockRoot:h,stateRoot:b,receiptsRoot:k,transactions:d}}[Symbol.iterator](){let e=0;const r=this.transactions;return{next:()=>e<this.length?{value:r[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let r;if(typeof e=="number")r=this.#e[e];else{const n=e.toLowerCase();for(const s of this.#e)if(typeof s=="string"){if(s!==n)continue;r=s;break}else{if(s.hash===n)continue;r=s;break}}if(r==null)throw new Error("no such tx");return typeof r=="string"?await this.provider.getTransaction(r):r}getPrefetchedTransaction(e){const r=this.prefetchedTransactions;if(typeof e=="number")return r[e];e=e.toLowerCase();for(const n of r)if(n.hash===e)return n;V(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return ax(this)}}class Yi{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,r){this.provider=r;const n=Object.freeze(e.topics.slice());xe(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:r,blockNumber:n,data:s,index:i,removed:a,topics:o,transactionHash:u,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:r,blockNumber:n,data:s,index:i,removed:a,topics:o,transactionHash:u,transactionIndex:l}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return re(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return re(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return re(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return ox(this)}}class sg{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,r){this.#e=Object.freeze(e.logs.map(s=>new Yi(s,r)));let n=ng;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),xe(this,{provider:r,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){const{to:e,from:r,contractAddress:n,hash:s,index:i,blockHash:a,blockNumber:o,logsBloom:u,logs:l,status:c,root:f}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:o,contractAddress:n,cumulativeGasUsed:Ze(this.cumulativeGasUsed),from:r,gasPrice:Ze(this.gasPrice),blobGasUsed:Ze(this.blobGasUsed),blobGasPrice:Ze(this.blobGasPrice),gasUsed:Ze(this.gasUsed),hash:s,index:i,logs:l,logsBloom:u,root:f,status:c,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return ag(this)}reorderedEvent(e){return re(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),ig(this,e)}}class Xi{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#e;constructor(e,r){this.provider=r,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.#e=-1}toJSON(){const{blockNumber:e,blockHash:r,index:n,hash:s,type:i,to:a,from:o,nonce:u,data:l,signature:c,accessList:f,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:r,blobVersionedHashes:h,chainId:Ze(this.chainId),data:l,from:o,gasLimit:Ze(this.gasLimit),gasPrice:Ze(this.gasPrice),hash:s,maxFeePerGas:Ze(this.maxFeePerGas),maxPriorityFeePerGas:Ze(this.maxPriorityFeePerGas),maxFeePerBlobGas:Ze(this.maxFeePerBlobGas),nonce:u,signature:c,to:a,index:n,type:i,value:Ze(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;const r=this.provider.getBlock(e);if(r==null)throw new Error("TODO");return r}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:r,blockNumber:n}=await wt({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:n-r.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,r){const n=e??1,s=r??0;let i=this.#e,a=-1,o=i===-1;const u=async()=>{if(o)return null;const{blockNumber:h,nonce:b}=await wt({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(b<this.nonce){i=h;return}if(o)return null;const k=await this.getTransaction();if(!(k&&k.blockNumber!=null))for(a===-1&&(a=i-3,a<this.#e&&(a=this.#e));a<=h;){if(o)return null;const E=await this.provider.getBlock(a,!0);if(E==null)return;for(const d of E)if(d===this.hash)return;for(let d=0;d<E.length;d++){const p=await E.getTransaction(d);if(p.from===this.from&&p.nonce===this.nonce){if(o)return null;const y=await this.provider.getTransactionReceipt(p.hash);if(y==null||h-y.blockNumber+1<n)return;let w="replaced";p.data===this.data&&p.to===this.to&&p.value===this.value?w="repriced":p.data==="0x"&&p.from===p.to&&p.value===ng&&(w="cancelled"),re(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:w==="replaced"||w==="cancelled",reason:w,replacement:p.replaceableTransaction(i),hash:p.hash,receipt:y})}}a++}},l=h=>{if(h==null||h.status!==0)return h;re(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},c=await this.provider.getTransactionReceipt(this.hash);if(n===0)return l(c);if(c){if(await c.confirmations()>=n)return l(c)}else if(await u(),n===0)return null;return await new Promise((h,b)=>{const k=[],E=()=>{k.forEach(p=>p())};if(k.push(()=>{o=!0}),s>0){const p=setTimeout(()=>{E(),b(Qe("wait for transaction timeout","TIMEOUT"))},s);k.push(()=>{clearTimeout(p)})}const d=async p=>{if(await p.confirmations()>=n){E();try{h(l(p))}catch(y){b(y)}}};if(k.push(()=>{this.provider.off(this.hash,d)}),this.provider.on(this.hash,d),i>=0){const p=async()=>{try{await u()}catch(y){if(bt(y,"TRANSACTION_REPLACED")){E(),b(y);return}}o||this.provider.once("block",p)};k.push(()=>{this.provider.off("block",p)}),this.provider.once("block",p)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return re(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ag(this)}reorderedEvent(e){return re(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),re(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ig(this,e)}replaceableTransaction(e){V(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const r=new Xi(this,this.provider);return r.#e=e,r}}function ax(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function ig(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function ag(t){return{orphan:"drop-transaction",tx:t}}function ox(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class Qc extends Yi{interface;fragment;args;constructor(e,r,n){super(e,e.provider);const s=r.decodeEventLog(n,e.data,e.topics);xe(this,{args:s,fragment:n,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class og extends Yi{error;constructor(e,r){super(e,e.provider),xe(this,{error:r})}}class cx extends sg{#e;constructor(e,r,n){super(n,r),this.#e=e}get logs(){return super.logs.map(e=>{const r=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(r)try{return new Qc(e,this.#e,r)}catch(n){return new og(e,n)}return e})}}class Jc extends Xi{#e;constructor(e,r,n){super(n,r),this.#e=e}async wait(e,r){const n=await super.wait(e,r);return n==null?null:new cx(this.#e,this.provider,n)}}class cg extends T0{log;constructor(e,r,n,s){super(e,r,n),xe(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class ux extends cg{constructor(e,r,n,s,i){super(e,r,n,new Qc(i,e.interface,s));const a=e.interface.decodeEventLog(s,this.log.data,this.log.topics);xe(this,{args:a,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const kl=BigInt(0);function ug(t){return t&&typeof t.call=="function"}function lg(t){return t&&typeof t.estimateGas=="function"}function Ja(t){return t&&typeof t.resolveName=="function"}function fg(t){return t&&typeof t.sendTransaction=="function"}function dg(t){if(t!=null){if(Ja(t))return t;if(t.provider)return t.provider}}class lx{#e;fragment;constructor(e,r,n){if(xe(this,{fragment:r}),r.inputs.length<n.length)throw new Error("too many arguments");const s=Qn(e.runner,"resolveName"),i=Ja(s)?s:null;this.#e=(async function(){const a=await Promise.all(r.inputs.map((o,u)=>n[u]==null?null:o.walkAsync(n[u],(c,f)=>c==="address"?Array.isArray(f)?Promise.all(f.map(h=>vt(h,i))):vt(f,i):f)));return e.interface.encodeFilterTopics(r,a)})()}getTopicFilter(){return this.#e}}function Qn(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function Un(t){return t==null?null:t.provider||null}async function hg(t,e){const r=ze.dereference(t,"overrides");V(typeof r=="object","invalid overrides parameter","overrides",t);const n=_a(r);return V(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),V(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function fx(t,e,r){const n=Qn(t,"resolveName"),s=Ja(n)?n:null;return await Promise.all(e.map((i,a)=>i.walkAsync(r[a],(o,u)=>(u=ze.dereference(u,o),o==="address"?vt(u,s):u))))}function dx(t){const e=async function(a){const o=await hg(a,["data"]);o.to=await t.getAddress(),o.from&&(o.from=await vt(o.from,dg(t.runner)));const u=t.interface,l=be(o.value||kl,"overrides.value")===kl,c=(o.data||"0x")==="0x";u.fallback&&!u.fallback.payable&&u.receive&&!c&&!l&&V(!1,"cannot send data to receive or send value to non-payable fallback","overrides",a),V(u.fallback||c,"cannot send data to receive-only contract","overrides.data",o.data);const f=u.receive||u.fallback&&u.fallback.payable;return V(f||l,"cannot send value to non-payable fallback","overrides.value",o.value),V(u.fallback||c,"cannot send data to receive-only contract","overrides.data",o.data),o},r=async function(a){const o=Qn(t.runner,"call");re(ug(o),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const u=await e(a);try{return await o.call(u)}catch(l){throw Pc(l)&&l.data?t.interface.makeError(l.data,u):l}},n=async function(a){const o=t.runner;re(fg(o),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const u=await o.sendTransaction(await e(a)),l=Un(t.runner);return new Jc(t.interface,l,u)},s=async function(a){const o=Qn(t.runner,"estimateGas");return re(lg(o),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await o.estimateGas(await e(a))},i=async a=>await n(a);return xe(i,{_contract:t,estimateGas:s,populateTransaction:e,send:n,staticCall:r}),i}function hx(t,e){const r=function(...l){const c=t.interface.getFunction(e,l);return re(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:l}}),c},n=async function(...l){const c=r(...l);let f={};if(c.inputs.length+1===l.length&&(f=await hg(l.pop()),f.from&&(f.from=await vt(f.from,dg(t.runner)))),c.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await fx(t.runner,c.inputs,l);return Object.assign({},f,await wt({to:t.getAddress(),data:t.interface.encodeFunctionData(c,h)}))},s=async function(...l){const c=await o(...l);return c.length===1?c[0]:c},i=async function(...l){const c=t.runner;re(fg(c),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await c.sendTransaction(await n(...l)),h=Un(t.runner);return new Jc(t.interface,h,f)},a=async function(...l){const c=Qn(t.runner,"estimateGas");return re(lg(c),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await c.estimateGas(await n(...l))},o=async function(...l){const c=Qn(t.runner,"call");re(ug(c),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await n(...l);let h="0x";try{h=await c.call(f)}catch(k){throw Pc(k)&&k.data?t.interface.makeError(k.data,f):k}const b=r(...l);return t.interface.decodeFunctionResult(b,h)},u=async(...l)=>r(...l).constant?await s(...l):await i(...l);return xe(u,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:a,populateTransaction:n,send:i,staticCall:s,staticCallResult:o}),Object.defineProperty(u,"fragment",{configurable:!1,enumerable:!0,get:()=>{const l=t.interface.getFunction(e);return re(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),l}}),u}function gx(t,e){const r=function(...s){const i=t.interface.getEvent(e,s);return re(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},n=function(...s){return new lx(t,r(...s),s)};return xe(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=t.interface.getEvent(e);return re(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),n}const Ia=Symbol.for("_ethersInternal_contract"),gg=new WeakMap;function px(t,e){gg.set(t[Ia],e)}function Ft(t){return gg.get(t[Ia])}function bx(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function zc(t,e){let r,n=null;if(Array.isArray(e)){const i=function(a){if(Me(a,32))return a;const o=t.interface.getEvent(a);return V(o,"unknown fragment","name",a),o.topicHash};r=e.map(a=>a==null?null:Array.isArray(a)?a.map(i):i(a))}else e==="*"?r=[null]:typeof e=="string"?Me(e,32)?r=[e]:(n=t.interface.getEvent(e),V(n,"unknown fragment","event",e),r=[n.topicHash]):bx(e)?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):V(!1,"unknown event name","event",e);r=r.map(i=>{if(i==null)return null;if(Array.isArray(i)){const a=Array.from(new Set(i.map(o=>o.toLowerCase())).values());return a.length===1?a[0]:(a.sort(),a)}return i.toLowerCase()});const s=r.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:n,tag:s,topics:r}}async function _i(t,e){const{subs:r}=Ft(t);return r.get((await zc(t,e)).tag)||null}async function Bl(t,e,r){const n=Un(t.runner);re(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:i,topics:a}=await zc(t,r),{addr:o,subs:u}=Ft(t);let l=u.get(i);if(!l){const f={address:o||t,topics:a},h=d=>{let p=s;if(p==null)try{p=t.interface.getEvent(d.topics[0])}catch{}if(p){const y=p,w=s?t.interface.decodeEventLog(s,d.data,d.topics):[];dc(t,r,w,x=>new ux(t,x,r,y,d))}else dc(t,r,[],y=>new cg(t,y,r,d))};let b=[];l={tag:i,listeners:[],start:()=>{b.length||b.push(n.on(f,h))},stop:async()=>{if(b.length==0)return;let d=b;b=[],await Promise.all(d),n.off(f,h)}},u.set(i,l)}return l}let fc=Promise.resolve();async function mx(t,e,r,n){await fc;const s=await _i(t,e);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:a,once:o})=>{const u=Array.from(r);n&&u.push(n(o?null:a));try{a.call(t,...u)}catch{}return!o}),s.listeners.length===0&&(s.stop(),Ft(t).subs.delete(s.tag)),i>0}async function dc(t,e,r,n){try{await fc}catch{}const s=mx(t,e,r,n);return fc=s,await s}const xa=["then"];class Ti{target;interface;runner;filters;[Ia];fallback;constructor(e,r,n,s){V(typeof e=="string"||Ah(e),"invalid value for Contract target","target",e),n==null&&(n=null);const i=_n.from(r);xe(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,Ia,{value:{}});let a,o=null,u=null;if(s){const f=Un(n);u=new Jc(this.interface,f,s)}let l=new Map;if(typeof e=="string")if(Me(e))o=e,a=Promise.resolve(e);else{const f=Qn(n,"resolveName");if(!Ja(f))throw Qe("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=f.resolveName(e).then(h=>{if(h==null)throw Qe("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Ft(this).addr=h,h})}else a=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return Ft(this).addr=f,f});px(this,{addrPromise:a,addr:o,deployTx:u,subs:l});const c=new Proxy({},{get:(f,h,b)=>{if(typeof h=="symbol"||xa.indexOf(h)>=0)return Reflect.get(f,h,b);try{return this.getEvent(h)}catch(k){if(!bt(k,"INVALID_ARGUMENT")||k.argument!=="key")throw k}},has:(f,h)=>xa.indexOf(h)>=0?Reflect.has(f,h):Reflect.has(f,h)||this.interface.hasEvent(String(h))});return xe(this,{filters:c}),xe(this,{fallback:i.receive||i.fallback?dx(this):null}),new Proxy(this,{get:(f,h,b)=>{if(typeof h=="symbol"||h in f||xa.indexOf(h)>=0)return Reflect.get(f,h,b);try{return f.getFunction(h)}catch(k){if(!bt(k,"INVALID_ARGUMENT")||k.argument!=="key")throw k}},has:(f,h)=>typeof h=="symbol"||h in f||xa.indexOf(h)>=0?Reflect.has(f,h):f.interface.hasFunction(h)})}connect(e){return new Ti(this.target,this.interface,e)}attach(e){return new Ti(e,this.interface,this.runner)}async getAddress(){return await Ft(this).addrPromise}async getDeployedCode(){const e=Un(this.runner);re(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const r=await e.getCode(await this.getAddress());return r==="0x"?null:r}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=Un(this.runner);return re(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{const a=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);n.once("block",a)}catch(o){i(o)}};a()})}deploymentTransaction(){return Ft(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),hx(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),gx(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,r,n){r==null&&(r=0),n==null&&(n="latest");const{addr:s,addrPromise:i}=Ft(this),a=s||await i,{fragment:o,topics:u}=await zc(this,e),l={address:a,topics:u,fromBlock:r,toBlock:n},c=Un(this.runner);return re(c,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await c.getLogs(l)).map(f=>{let h=o;if(h==null)try{h=this.interface.getEvent(f.topics[0])}catch{}if(h)try{return new Qc(f,this.interface,h)}catch(b){return new og(f,b)}return new Yi(f,c)})}async on(e,r){const n=await Bl(this,"on",e);return n.listeners.push({listener:r,once:!1}),n.start(),this}async once(e,r){const n=await Bl(this,"once",e);return n.listeners.push({listener:r,once:!0}),n.start(),this}async emit(e,...r){return await dc(this,e,r,null)}async listenerCount(e){if(e){const s=await _i(this,e);return s?s.listeners.length:0}const{subs:r}=Ft(this);let n=0;for(const{listeners:s}of r.values())n+=s.length;return n}async listeners(e){if(e){const s=await _i(this,e);return s?s.listeners.map(({listener:i})=>i):[]}const{subs:r}=Ft(this);let n=[];for(const{listeners:s}of r.values())n=n.concat(s.map(({listener:i})=>i));return n}async off(e,r){const n=await _i(this,e);if(!n)return this;if(r){const s=n.listeners.map(({listener:i})=>i).indexOf(r);s>=0&&n.listeners.splice(s,1)}return(r==null||n.listeners.length===0)&&(n.stop(),Ft(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const r=await _i(this,e);if(!r)return this;r.stop(),Ft(this).subs.delete(r.tag)}else{const{subs:r}=Ft(this);for(const{tag:n,stop:s}of r.values())s(),r.delete(n)}return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return await this.off(e,r)}static buildClass(e){class r extends Ti{constructor(s,i=null){super(s,e,i)}}return r}static from(e,r,n){return n==null&&(n=null),new this(e,r,n)}}function yx(){return Ti}class Ui extends yx(){}function xo(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):V(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class xx{name;constructor(e){xe(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,r){throw new Error("unsupported coin")}async decodeAddress(e,r){throw new Error("unsupported coin")}}const pg=new RegExp("^(ipfs)://(.*)$","i"),Nl=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),pg,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class as{provider;address;name;#e;#t;constructor(e,r,n){xe(this,{provider:e,address:r,name:n}),this.#e=null,this.#t=new Ui(r,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if(bt(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#r(e,r){r=(r||[]).slice();const n=this.#t.interface;r.unshift(lc(this.name));let s=null;await this.supportsWildcard()&&(s=n.getFunction(e),re(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),r=[yy(this.name,255),n.encodeFunctionData(s,r)],e="resolve(bytes,bytes)"),r.push({enableCcipRead:!0});try{const i=await this.#t[e](...r);return s?n.decodeFunctionResult(s,i)[0]:i}catch(i){if(!bt(i,"CALL_EXCEPTION"))throw i}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{const i=await this.#r("addr(bytes32)");return i==null||i===Fi?null:i}catch(i){if(bt(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648;const a=await this.#r("addr(bytes32,uint)",[i]);if(Me(a,20))return Ie(a)}let r=null;for(const i of this.provider.plugins)if(i instanceof xx&&i.supportsCoinType(e)){r=i;break}if(r==null)return null;const n=await this.#r("addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;const s=await r.decodeAddress(e,n);if(s!=null)return s;re(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const r=await this.#r("text(bytes32,string)",[e]);return r==null||r==="0x"?null:r}async getContentHash(){const e=await this.#r("contenthash(bytes32)");if(e==null||e==="0x")return null;const r=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const s=r[1]==="e3010170"?"ipfs":"ipns",i=parseInt(r[4],16);if(r[5].length===i*2)return`${s}://${Np("0x"+r[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;re(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const r=await this.getText("avatar");if(r==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:r});for(let n=0;n<Nl.length;n++){const s=r.match(Nl[n]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:r}),{linkage:e,url:r};case"ipfs":{const a=xo(r);return e.push({type:"ipfs",value:r}),e.push({type:"url",value:a}),{linkage:e,url:a}}case"erc721":case"erc1155":{const a=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:r});const o=await this.getAddress();if(o==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const u=(s[2]||"").split("/");if(u.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};const l=u[1],c=new Ui(u[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const E=await c.ownerOf(l);if(o!==E)return e.push({type:"!owner",value:E}),{url:null,linkage:e};e.push({type:"owner",value:E})}else if(i==="erc1155"){const E=await c.balanceOf(o,l);if(!E)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:E.toString()})}let f=await c[a](l);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),i==="erc1155"&&(f=f.replace("{id}",Kr(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=xo(f)),e.push({type:"metadata-url",value:f});let h={};const b=await new Ir(f).send();b.assertOk();try{h=b.bodyJson}catch{try{e.push({type:"!metadata",value:b.bodyText})}catch{const p=b.body;return p&&e.push({type:"!metadata",value:le(p)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let k=h.image;if(typeof k!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!k.match(/^(https:\/\/|data:)/i)){if(k.match(pg)==null)return e.push({type:"!imageUrl-ipfs",value:k}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:k}),k=xo(k)}return e.push({type:"url",value:k}),{linkage:e,url:k}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const r=await e.getNetwork(),n=r.getPlugin("org.ethers.plugins.network.Ens");return re(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:r}}),n.address}static async#n(e,r){const n=await as.getEnsAddress(e);try{const i=await new Ui(n,["function resolver(bytes32) view returns (address)"],e).resolver(lc(r),{enableCcipRead:!0});return i===Fi?null:i}catch(s){throw s}return null}static async fromName(e,r){let n=r;for(;;){if(n===""||n==="."||r!=="eth"&&n==="eth")return null;const s=await as.#n(e,n);if(s!=null){const i=new as(e,s,r);return n!==r&&!await i.supportsWildcard()?null:i}n=n.split(".").slice(1).join(".")}}}const Rl=BigInt(0);function Se(t,e){return(function(r){return r==null?e:t(r)})}function za(t,e){return(r=>{if(e&&r==null)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map(n=>t(n))})}function $i(t,e){return(r=>{const n={};for(const s in t){let i=s;if(e&&s in e&&!(i in r)){for(const a of e[s])if(a in r){i=a;break}}try{const a=t[s](r[i]);a!==void 0&&(n[s]=a)}catch(a){const o=a instanceof Error?a.message:"not-an-error";re(!1,`invalid value for value.${s} (${o})`,"BAD_DATA",{value:r})}}return n})}function wx(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}V(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function ps(t){return V(Me(t,!0),"invalid data","value",t),t}function dt(t){return V(Me(t,32),"invalid hash","value",t),t}const Ax=$i({address:Ie,blockHash:dt,blockNumber:Ne,data:ps,index:Ne,removed:Se(wx,!1),topics:za(dt),transactionHash:dt,transactionIndex:Ne},{index:["logIndex"]});function Ex(t){return Ax(t)}const Px=$i({hash:Se(dt),parentHash:dt,parentBeaconBlockRoot:Se(dt,null),number:Ne,timestamp:Ne,nonce:Se(ps),difficulty:be,gasLimit:be,gasUsed:be,stateRoot:Se(dt,null),receiptsRoot:Se(dt,null),blobGasUsed:Se(be,null),excessBlobGas:Se(be,null),miner:Se(Ie),prevRandao:Se(dt,null),extraData:ps,baseFeePerGas:Se(be)},{prevRandao:["mixHash"]});function vx(t){const e=Px(t);return e.transactions=t.transactions.map(r=>typeof r=="string"?r:bg(r)),e}const Ox=$i({transactionIndex:Ne,blockNumber:Ne,transactionHash:dt,address:Ie,topics:za(dt),data:ps,index:Ne,blockHash:dt},{index:["logIndex"]});function kx(t){return Ox(t)}const Bx=$i({to:Se(Ie,null),from:Se(Ie,null),contractAddress:Se(Ie,null),index:Ne,root:Se(le),gasUsed:be,blobGasUsed:Se(be,null),logsBloom:Se(ps),blockHash:dt,hash:dt,logs:za(kx),blockNumber:Ne,cumulativeGasUsed:be,effectiveGasPrice:Se(be),blobGasPrice:Se(be,null),status:Se(Ne),type:Se(Ne,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Nx(t){return Bx(t)}function bg(t){t.to&&be(t.to)===Rl&&(t.to="0x0000000000000000000000000000000000000000");const e=$i({hash:dt,index:Se(Ne,void 0),type:r=>r==="0x"||r==null?0:Ne(r),accessList:Se(zn,null),blobVersionedHashes:Se(za(dt,!0),null),blockHash:Se(dt,null),blockNumber:Se(Ne,null),transactionIndex:Se(Ne,null),from:Ie,gasPrice:Se(be),maxPriorityFeePerGas:Se(be),maxFeePerGas:Se(be),maxFeePerBlobGas:Se(be,null),gasLimit:be,to:Se(Ie,null),value:be,nonce:Ne,data:ps,creates:Se(Ie,null),chainId:Se(be,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=Am(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=it.from(t.signature):e.signature=it.from(t),e.chainId==null){const r=e.signature.legacyChainId;r!=null&&(e.chainId=r)}return e.blockHash&&be(e.blockHash)===Rl&&(e.blockHash=null),e}const Rx="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class ea{name;constructor(e){xe(this,{name:e})}clone(){return new ea(this.name)}}class Ka extends ea{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,r){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const n={effectiveBlock:e};function s(i,a){let o=(r||{})[i];o==null&&(o=a),V(typeof o=="number",`invalud value for ${i}`,"costs",r),n[i]=o}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),xe(this,n)}clone(){return new Ka(this.effectiveBlock,this)}}class qa extends ea{address;targetNetwork;constructor(e,r){super("org.ethers.plugins.network.Ens"),xe(this,{address:e||Rx,targetNetwork:r??1})}clone(){return new qa(this.address,this.targetNetwork)}}class Cx extends ea{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=r}clone(){return this}}const wo=new Map;class Dt{#e;#t;#r;constructor(e,r){this.#e=e,this.#t=be(r),this.#r=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=be(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===be(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===be(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===be(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#r.values())}attachPlugin(e){if(this.#r.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#r.set(e.name,e.clone()),this}getPlugin(e){return this.#r.get(e)||null}getPlugins(e){return this.plugins.filter(r=>r.name.split("#")[0]===e)}clone(){const e=new Dt(this.name,this.chainId);return this.plugins.forEach(r=>{e.attachPlugin(r.clone())}),e}computeIntrinsicGas(e){const r=this.getPlugin("org.ethers.plugins.network.GasCost")||new Ka;let n=r.txBase;if(e.to==null&&(n+=r.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?n+=r.txDataZero:n+=r.txDataNonzero;if(e.accessList){const s=zn(e.accessList);for(const i in s)n+=r.txAccessListAddress+r.txAccessListStorageKey*s[i].storageKeys.length}return n}static from(e){if(Sx(),e==null)return Dt.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const r=wo.get(e);if(r)return r();if(typeof e=="bigint")return new Dt("unknown",e);V(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){V(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const r=new Dt(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&r.attachPlugin(new qa(e.ensAddress,e.ensNetwork)),r}V(!1,"invalid network","network",e)}static register(e,r){typeof e=="number"&&(e=BigInt(e));const n=wo.get(e);n&&V(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),wo.set(e,r)}}function Cl(t,e){const r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const n=r.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let s=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||s++,n[1]=s.toString()}return BigInt(n[0]+n[1])}function Sl(t){return new Cx(t,async(e,r,n)=>{n.setHeader("User-Agent","ethers");let s;try{const[i,a]=await Promise.all([n.send(),e()]);s=i;const o=s.bodyJson.standard;return{gasPrice:a.gasPrice,maxFeePerGas:Cl(o.maxFee,9),maxPriorityFeePerGas:Cl(o.maxPriorityFee,9)}}catch(i){re(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:s,error:i})}})}let _l=!1;function Sx(){if(_l)return;_l=!0;function t(e,r,n){const s=function(){const i=new Dt(e,r);return n.ensNetwork!=null&&i.attachPlugin(new qa(null,n.ensNetwork)),i.attachPlugin(new Ka),(n.plugins||[]).forEach(a=>{i.attachPlugin(a)}),i};Dt.register(e,s),Dt.register(r,s),n.altNames&&n.altNames.forEach(i=>{Dt.register(i,s)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[Sl("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Sl("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function hc(t){return JSON.parse(JSON.stringify(t))}class _x{#e;#t;#r;#n;constructor(e){this.#e=e,this.#t=null,this.#r=4e3,this.#n=-2}get pollingInterval(){return this.#r}set pollingInterval(e){this.#r=e}async#s(){try{const e=await this.#e.getBlockNumber();if(this.#n===-2){this.#n=e;return}if(e!==this.#n){for(let r=this.#n+1;r<=e;r++){if(this.#t==null)return;await this.#e.emit("block",r)}this.#n=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#s.bind(this),this.#r))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#s.bind(this),this.#r),this.#s())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#n=-2)}resume(){this.start()}}class Kc{#e;#t;#r;constructor(e){this.#e=e,this.#r=!1,this.#t=r=>{this._poll(r,this.#e)}}async _poll(e,r){throw new Error("sub-classes must override this")}start(){this.#r||(this.#r=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}}class Ix extends Kc{#e;#t;constructor(e,r){super(e),this.#e=r,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,r){const n=await r.getBlock(this.#e);n!=null&&(this.#t===-2?this.#t=n.number:n.number>this.#t&&(r.emit(this.#e,n.number),this.#t=n.number))}}class Tx extends Kc{#e;constructor(e,r){super(e),this.#e=hc(r)}async _poll(e,r){throw new Error("@TODO")}}class Ux extends Kc{#e;constructor(e,r){super(e),this.#e=r}async _poll(e,r){const n=await r.getTransactionReceipt(this.#e);n&&r.emit(this.#e,n)}}class qc{#e;#t;#r;#n;#s;constructor(e,r){this.#e=e,this.#t=hc(r),this.#r=this.#a.bind(this),this.#n=!1,this.#s=-2}async#a(e){if(this.#s===-2)return;const r=hc(this.#t);r.fromBlock=this.#s+1,r.toBlock=e;const n=await this.#e.getLogs(r);if(n.length===0){this.#s<e-60&&(this.#s=e-60);return}for(const s of n)this.#e.emit(this.#t,s),this.#s=s.blockNumber}start(){this.#n||(this.#n=!0,this.#s===-2&&this.#e.getBlockNumber().then(e=>{this.#s=e}),this.#e.on("block",this.#r))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#r))}pause(e){this.stop(),e&&(this.#s=-2)}resume(){this.start()}}const Lx=BigInt(2),Fx=10;function wa(t){return t&&typeof t.then=="function"}function Pa(t,e){return t+":"+JSON.stringify(e,(r,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const s=Object.keys(n);return s.sort(),s.reduce((i,a)=>(i[a]=n[a],i),{})}return n})}class mg{name;constructor(e){xe(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function Dx(t){return JSON.parse(JSON.stringify(t))}function gc(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function Ao(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Me(t,32)){const r=t.toLowerCase();return{type:"transaction",tag:Pa("tx",{hash:r}),hash:r}}if(t.orphan){const r=t;return{type:"orphan",tag:Pa("orphan",r),filter:Dx(r)}}if(t.address||t.topics){const r=t,n={topics:(r.topics||[]).map(s=>s==null?null:Array.isArray(s)?gc(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(r.address){const s=[],i=[],a=o=>{Me(o)?s.push(o):i.push((async()=>{s.push(await vt(o,e))})())};Array.isArray(r.address)?r.address.forEach(a):a(r.address),i.length&&await Promise.all(i),n.address=gc(s.map(o=>o.toLowerCase()))}return{filter:n,tag:Pa("event",n),type:"event"}}V(!1,"unknown ProviderEvent","event",t)}function Eo(){return new Date().getTime()}const Mx={cacheTimeout:250,pollingInterval:4e3};class jx{#e;#t;#r;#n;#s;#a;#i;#o;#h;#u;#g;#p;constructor(e,r){if(this.#p=Object.assign({},Mx,r||{}),e==="any")this.#a=!0,this.#s=null;else if(e){const n=Dt.from(e);this.#a=!1,this.#s=Promise.resolve(n),setTimeout(()=>{this.emit("network",n,null)},0)}else this.#a=!1,this.#s=null;this.#o=-1,this.#i=new Map,this.#e=new Map,this.#t=new Map,this.#r=null,this.#n=!1,this.#h=1,this.#u=new Map,this.#g=!1}get pollingInterval(){return this.#p.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#g}set disableCcipRead(e){this.#g=!!e}async#c(e){const r=this.#p.cacheTimeout;if(r<0)return await this._perform(e);const n=Pa(e.method,e);let s=this.#i.get(n);return s||(s=this._perform(e),this.#i.set(n,s),setTimeout(()=>{this.#i.get(n)===s&&this.#i.delete(n)},r)),await s}async ccipReadFetch(e,r,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;const s=e.to.toLowerCase(),i=r.toLowerCase(),a=[];for(let o=0;o<n.length;o++){const u=n[o],l=u.replace("{sender}",s).replace("{data}",i),c=new Ir(l);u.indexOf("{data}")===-1&&(c.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:c,index:o,urls:n});let f="unknown error";const h=await c.send();try{const b=h.bodyJson;if(b.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:c,result:b}),b.data;b.message&&(f=b.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:b})}catch{}re(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:u,errorMessage:f}}),a.push(f)}re(!1,`error encountered during CCIP fetch: ${a.map(o=>JSON.stringify(o)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:a}})}_wrapBlock(e,r){return new ix(vx(e),this)}_wrapLog(e,r){return new Yi(Ex(e),this)}_wrapTransactionReceipt(e,r){return new sg(Nx(e),this)}_wrapTransactionResponse(e,r){return new Xi(bg(e),this)}_detectNetwork(){re(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){re(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Ne(await this.#c({method:"getBlockNumber"}),"%response");return this.#o>=0&&(this.#o=e),e}_getAddress(e){return vt(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Me(e))return Me(e,32)?e:rs(e);if(typeof e=="bigint"&&(e=Ne(e,"blockTag")),typeof e=="number")return e>=0?rs(e):this.#o>=0?rs(this.#o+e):this.getBlockNumber().then(r=>rs(r+e));V(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const r=(e.topics||[]).map(u=>u==null?null:Array.isArray(u)?gc(u.map(l=>l.toLowerCase())):u.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,s=(u,l,c)=>{let f;switch(u.length){case 0:break;case 1:f=u[0];break;default:u.sort(),f=u}if(n&&(l!=null||c!=null))throw new Error("invalid filter");const h={};return f&&(h.address=f),r.length&&(h.topics=r),l&&(h.fromBlock=l),c&&(h.toBlock=c),n&&(h.blockHash=n),h};let i=[];if(e.address)if(Array.isArray(e.address))for(const u of e.address)i.push(this._getAddress(u));else i.push(this._getAddress(e.address));let a;"fromBlock"in e&&(a=this._getBlockTag(e.fromBlock));let o;return"toBlock"in e&&(o=this._getBlockTag(e.toBlock)),i.filter(u=>typeof u!="string").length||a!=null&&typeof a!="string"||o!=null&&typeof o!="string"?Promise.all([Promise.all(i),a,o]).then(u=>s(u[0],u[1],u[2])):s(i,a,o)}_getTransactionRequest(e){const r=_a(e),n=[];if(["to","from"].forEach(s=>{if(r[s]==null)return;const i=vt(r[s],this);wa(i)?n.push((async function(){r[s]=await i})()):r[s]=i}),r.blockTag!=null){const s=this._getBlockTag(r.blockTag);wa(s)?n.push((async function(){r.blockTag=await s})()):r.blockTag=s}return n.length?(async function(){return await Promise.all(n),r})():r}async getNetwork(){if(this.#s==null){const s=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw this.#s===s&&(this.#s=null),i}})();return this.#s=s,(await s).clone()}const e=this.#s,[r,n]=await Promise.all([e,this._detectNetwork()]);return r.chainId!==n.chainId&&(this.#a?(this.emit("network",n,r),this.#s===e&&(this.#s=Promise.resolve(n))):re(!1,`network changed: ${r.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),r.clone()}async getFeeData(){const e=await this.getNetwork(),r=async()=>{const{_block:s,gasPrice:i,priorityFee:a}=await wt({_block:this.#b("latest",!1),gasPrice:(async()=>{try{const c=await this.#c({method:"getGasPrice"});return be(c,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const c=await this.#c({method:"getPriorityFee"});return be(c,"%response")}catch{}return null})()});let o=null,u=null;const l=this._wrapBlock(s,e);return l&&l.baseFeePerGas&&(u=a??BigInt("1000000000"),o=l.baseFeePerGas*Lx+u),new Ol(i,o,u)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const s=new Ir(n.url),i=await n.processFunc(r,this,s);return new Ol(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await r()}async estimateGas(e){let r=this._getTransactionRequest(e);return wa(r)&&(r=await r),be(await this.#c({method:"estimateGas",transaction:r}),"%response")}async#l(e,r,n){re(n<Fx,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:r,enableCcipRead:!0})});const s=_a(e);try{return le(await this._perform({method:"call",transaction:s,blockTag:r}))}catch(i){if(!this.disableCcipRead&&Pc(i)&&i.data&&n>=0&&r==="latest"&&s.to!=null&&Je(i.data,0,4)==="0x556f1830"){const a=i.data,o=await vt(s.to,this);let u;try{u=Jx(Je(i.data,4))}catch(f){re(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:a}})}re(u.sender.toLowerCase()===o.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:u.errorArgs}});const l=await this.ccipReadFetch(s,u.calldata,u.urls);re(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:u.errorArgs}});const c={to:o,data:$e([u.selector,Qx([l,u.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:c});try{const f=await this.#l(c,r,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},c),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},c),error:f}),f}}throw i}}async#f(e){const{value:r}=await wt({network:this.getNetwork(),value:e});return r}async call(e){const{tx:r,blockTag:n}=await wt({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#f(this.#l(r,n,e.enableCcipRead?0:-1))}async#d(e,r,n){let s=this._getAddress(r),i=this._getBlockTag(n);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await this.#f(this.#c(Object.assign(e,{address:s,blockTag:i})))}async getBalance(e,r){return be(await this.#d({method:"getBalance"},e,r),"%response")}async getTransactionCount(e,r){return Ne(await this.#d({method:"getTransactionCount"},e,r),"%response")}async getCode(e,r){return le(await this.#d({method:"getCode"},e,r))}async getStorage(e,r,n){const s=be(r,"position");return le(await this.#d({method:"getStorage",position:s},e,n))}async broadcastTransaction(e){const{blockNumber:r,hash:n,network:s}=await wt({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=cr.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(r)}async#b(e,r){if(Me(e,32))return await this.#c({method:"getBlock",blockHash:e,includeTransactions:r});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await this.#c({method:"getBlock",blockTag:n,includeTransactions:r})}async getBlock(e,r){const{network:n,params:s}=await wt({network:this.getNetwork(),params:this.#b(e,!!r)});return s==null?null:this._wrapBlock(s,n)}async getTransaction(e){const{network:r,params:n}=await wt({network:this.getNetwork(),params:this.#c({method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,r)}async getTransactionReceipt(e){const{network:r,params:n}=await wt({network:this.getNetwork(),params:this.#c({method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const s=await this.#c({method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(n,r)}async getTransactionResult(e){const{result:r}=await wt({network:this.getNetwork(),result:this.#c({method:"getTransactionResult",hash:e})});return r==null?null:le(r)}async getLogs(e){let r=this._getFilter(e);wa(r)&&(r=await r);const{network:n,params:s}=await wt({network:this.getNetwork(),params:this.#c({method:"getLogs",filter:r})});return s.map(i=>this._wrapLog(i,n))}_getProvider(e){re(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await as.fromName(this,e)}async getAvatar(e){const r=await this.getResolver(e);return r?await r.getAvatar():null}async resolveName(e){const r=await this.getResolver(e);return r?await r.getAddress():null}async lookupAddress(e){e=Ie(e);const r=lc(e.substring(2).toLowerCase()+".addr.reverse");try{const n=await as.getEnsAddress(this),i=await new Ui(n,["function resolver(bytes32) view returns (address)"],this).resolver(r);if(i==null||i===Fi)return null;const o=await new Ui(i,["function name(bytes32) view returns (string)"],this).name(r);return await this.resolveName(o)!==e?null:o}catch(n){if(bt(n,"BAD_DATA")&&n.value==="0x"||bt(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,r,n){const s=r??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,a)=>{let o=null;const u=(async l=>{try{const c=await this.getTransactionReceipt(e);if(c!=null&&l-c.blockNumber+1>=s){i(c),o&&(clearTimeout(o),o=null);return}}catch(c){console.log("EEE",c)}this.once("block",u)});n!=null&&(o=setTimeout(()=>{o!=null&&(o=null,this.off("block",u),a(Qe("timeout","TIMEOUT",{reason:"timeout"})))},n)),u(await this.getBlockNumber())})}async waitForBlock(e){re(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const r=this.#u.get(e);r&&(r.timer&&clearTimeout(r.timer),this.#u.delete(e))}_setTimeout(e,r){r==null&&(r=0);const n=this.#h++,s=()=>{this.#u.delete(n),e()};if(this.paused)this.#u.set(n,{timer:null,func:s,time:r});else{const i=setTimeout(s,r);this.#u.set(n,{timer:i,func:s,time:Eo()})}return n}_forEachSubscriber(e){for(const r of this.#e.values())e(r.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new mg(e.type);case"block":{const r=new _x(this);return r.pollingInterval=this.pollingInterval,r}case"safe":case"finalized":return new Ix(this,e.type);case"event":return new qc(this,e.filter);case"transaction":return new Ux(this,e.hash);case"orphan":return new Tx(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,r){for(const n of this.#e.values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=r,n.started&&r.start(),this.#r!=null&&r.pause(this.#r);break}}async#m(e,r){let n=await Ao(e,this);return n.type==="event"&&r&&r.length>0&&r[0].removed===!0&&(n=await Ao({orphan:"drop-log",log:r[0]},this)),this.#e.get(n.tag)||null}async#y(e){const r=await Ao(e,this),n=r.tag;let s=this.#e.get(n);return s||(s={subscriber:this._getSubscriber(r),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(n,s)),s}async on(e,r){const n=await this.#y(e);return n.listeners.push({listener:r,once:!1}),n.started||(n.subscriber.start(),n.started=!0,this.#r!=null&&n.subscriber.pause(this.#r)),this}async once(e,r){const n=await this.#y(e);return n.listeners.push({listener:r,once:!0}),n.started||(n.subscriber.start(),n.started=!0,this.#r!=null&&n.subscriber.pause(this.#r)),this}async emit(e,...r){const n=await this.#m(e,r);if(!n||n.listeners.length===0)return!1;const s=n.listeners.length;return n.listeners=n.listeners.filter(({listener:i,once:a})=>{const o=new T0(this,a?null:i,e);try{i.call(this,...r,o)}catch{}return!a}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),this.#e.delete(n.tag)),s>0}async listenerCount(e){if(e){const n=await this.#m(e);return n?n.listeners.length:0}let r=0;for(const{listeners:n}of this.#e.values())r+=n.length;return r}async listeners(e){if(e){const n=await this.#m(e);return n?n.listeners.map(({listener:s})=>s):[]}let r=[];for(const{listeners:n}of this.#e.values())r=r.concat(n.map(({listener:s})=>s));return r}async off(e,r){const n=await this.#m(e);if(!n)return this;if(r){const s=n.listeners.map(({listener:i})=>i).indexOf(r);s>=0&&n.listeners.splice(s,1)}return(!r||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),this.#e.delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:r,started:n,subscriber:s}=await this.#y(e);n&&s.stop(),this.#e.delete(r)}else for(const[r,{started:n,subscriber:s}]of this.#e)n&&s.stop(),this.#e.delete(r);return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return this.off(e,r)}get destroyed(){return this.#n}destroy(){this.removeAllListeners();for(const e of this.#u.keys())this._clearTimeout(e);this.#n=!0}get paused(){return this.#r!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#o=-1,this.#r!=null){if(this.#r==!!e)return;re(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(r=>r.pause(e)),this.#r=!!e;for(const r of this.#u.values())r.timer&&clearTimeout(r.timer),r.time=Eo()-r.time}resume(){if(this.#r!=null){this._forEachSubscriber(e=>e.resume()),this.#r=null;for(const e of this.#u.values()){let r=e.time;r<0&&(r=0),e.time=Eo(),setTimeout(e.func,r)}}}}function Hx(t,e){try{const r=pc(t,e);if(r)return ka(r)}catch{}return null}function pc(t,e){if(t==="0x")return null;try{const r=Ne(Je(t,e,e+32)),n=Ne(Je(t,r,r+32));return Je(t,r+32,r+32+n)}catch{}return null}function Il(t){const e=Et(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function Gx(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const Vx=new Uint8Array([]);function Qx(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(Vx),r+=32;for(let n=0;n<t.length;n++){const s=ke(t[n]);e[n]=Il(r),e.push(Il(s.length)),e.push(Gx(s)),r+=32+Math.ceil(s.length/32)*32}return $e(e)}const Tl="0x0000000000000000000000000000000000000000000000000000000000000000";function Jx(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};re(ns(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=Je(t,0,32);re(Je(r,0,12)===Je(Tl,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Je(r,12);try{const n=[],s=Ne(Je(t,32,64)),i=Ne(Je(t,s,s+32)),a=Je(t,s+32);for(let o=0;o<i;o++){const u=Hx(a,o*32);if(u==null)throw new Error("abort");n.push(u)}e.urls=n}catch{re(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=pc(t,64);if(n==null)throw new Error("abort");e.calldata=n}catch{re(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}re(Je(t,100,128)===Je(Tl,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Je(t,96,100);try{const n=pc(t,128);if(n==null)throw new Error("abort");e.extraData=n}catch{re(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function Yn(t,e){if(t.provider)return t.provider;re(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function Ul(t,e){let r=_a(e);if(r.to!=null&&(r.to=vt(r.to,t)),r.from!=null){const n=r.from;r.from=Promise.all([t.getAddress(),vt(n,t)]).then(([s,i])=>(V(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else r.from=t.getAddress();return await wt(r)}class zx{provider;constructor(e){xe(this,{provider:e||null})}async getNonce(e){return Yn(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Ul(this,e)}async populateTransaction(e){const r=Yn(this,"populateTransaction"),n=await Ul(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const s=await this.provider.getNetwork();if(n.chainId!=null){const a=be(n.chainId);V(a===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=s.chainId;const i=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||i)?V(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&i&&V(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const a=await r.getFeeData();re(a.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice)}else{const a=await r.getFeeData();if(n.type==null)if(a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const o=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=o,n.maxPriorityFeePerGas=o}else n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else a.gasPrice!=null?(re(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice),n.type=0):re(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await wt(n)}async estimateGas(e){return Yn(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Yn(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Yn(this,"resolveName").resolveName(e)}async sendTransaction(e){const r=Yn(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const s=cr.from(n);return await r.broadcastTransaction(await this.signTransaction(s))}}function Kx(t){return JSON.parse(JSON.stringify(t))}class yg{#e;#t;#r;#n;#s;#a;constructor(e){this.#e=e,this.#t=null,this.#r=this.#i.bind(this),this.#n=!1,this.#s=null,this.#a=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,r){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#i(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let r=null;try{r=await this.#t}catch(i){if(!bt(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(r==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}const n=await this.#e.getNetwork();if(this.#s||(this.#s=n),this.#s.chainId!==n.chainId)throw new Error("chaid changed");if(this.#a)return;const s=await this.#e.send("eth_getFilterChanges",[r]);await this._emitResults(this.#e,s)}catch(r){console.log("@TODO",r)}this.#e.once("block",this.#r)}#o(){const e=this.#t;e&&(this.#t=null,e.then(r=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[r])}))}start(){this.#n||(this.#n=!0,this.#i(-2))}stop(){this.#n&&(this.#n=!1,this.#a=!0,this.#o(),this.#e.off("block",this.#r))}pause(e){e&&this.#o(),this.#e.off("block",this.#r)}resume(){this.start()}}class qx extends yg{#e;constructor(e,r){super(e),this.#e=Kx(r)}_recover(e){return new qc(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,r){for(const n of r)e.emit(this.#e,e._wrapLog(n,e._network))}}class Wx extends yg{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,r){for(const n of r)e.emit("pending",n)}}const Zx="bigint,boolean,function,number,string,symbol".split(/,/g);function va(t){if(t==null||Zx.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(va);if(typeof t=="object")return Object.keys(t).reduce((e,r)=>(e[r]=t[r],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function Yx(t){return new Promise(e=>{setTimeout(e,t)})}function Xn(t){return t&&t.toLowerCase()}function Ll(t){return t&&typeof t.pollingInterval=="number"}const xg={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Po extends zx{address;constructor(e,r){super(e),r=Ie(r),xe(this,{address:r})}connect(e){re(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const r=va(e),n=[];if(r.from){const i=r.from;n.push((async()=>{const a=await vt(i,this.provider);V(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),r.from=a})())}else r.from=this.address;if(r.gasLimit==null&&n.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const i=r.to;n.push((async()=>{r.to=await vt(i,this.provider)})())}n.length&&await Promise.all(n);const s=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(e){const r=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise((s,i)=>{const a=[1e3,100];let o=0;const u=async()=>{try{const l=await this.provider.getTransaction(n);if(l!=null){s(l.replaceableTransaction(r));return}}catch(l){if(bt(l,"CANCELLED")||bt(l,"BAD_DATA")||bt(l,"NETWORK_ERROR")){l.info==null&&(l.info={}),l.info.sendTransactionHash=n,i(l);return}if(bt(l,"INVALID_ARGUMENT")&&(o++,l.info==null&&(l.info={}),l.info.sendTransactionHash=n,o>10)){i(l);return}this.provider.emit("error",Qe("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:l}))}this.provider._setTimeout(()=>{u()},a.pop()||4e3)};u()})}async signTransaction(e){const r=va(e);if(r.from){const s=await vt(r.from,this.provider);V(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),r.from=s}else r.from=this.address;const n=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){const r=typeof e=="string"?$t(e):e;return await this.provider.send("personal_sign",[le(r),this.address.toLowerCase()])}async signTypedData(e,r,n){const s=va(n),i=await Lt.resolveNames(e,r,s,async a=>{const o=await vt(a);return V(o!=null,"TypedData does not support null address","value",a),o});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Lt.getPayload(i.domain,r,i.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const r=typeof e=="string"?$t(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),le(r)])}}class Xx extends jx{#e;#t;#r;#n;#s;#a;#i;#o(){if(this.#n)return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#n=setTimeout(()=>{this.#n=null;const r=this.#r;for(this.#r=[];r.length;){const n=[r.shift()];for(;r.length&&n.length!==this.#e.batchMaxCount;)if(n.push(r.shift()),JSON.stringify(n.map(i=>i.payload)).length>this.#e.batchMaxSize){r.unshift(n.pop());break}(async()=>{const s=n.length===1?n[0].payload:n.map(i=>i.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const i=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:i});for(const{resolve:a,reject:o,payload:u}of n){if(this.destroyed){o(Qe("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:u.method}));continue}const l=i.filter(c=>c.id===u.id)[0];if(l==null){const c=Qe("missing response for request","BAD_DATA",{value:i,info:{payload:u}});this.emit("error",c),o(c);continue}if("error"in l){o(this.getRpcError(u,l));continue}a(l.result)}}catch(i){this.emit("debug",{action:"receiveRpcError",error:i});for(const{reject:a}of n)a(i)}})()}},e)}constructor(e,r){super(e,r),this.#t=1,this.#e=Object.assign({},xg,r||{}),this.#r=[],this.#n=null,this.#a=null,this.#i=null;{let s=null;const i=new Promise(a=>{s=a});this.#s={promise:i,resolve:s}}const n=this._getOption("staticNetwork");typeof n=="boolean"?(V(!n||e!=="any","staticNetwork cannot be used on special network 'any'","options",r),n&&e!=null&&(this.#a=Dt.from(e))):n&&(V(e==null||n.matches(e),"staticNetwork MUST match network object","options",r),this.#a=n)}_getOption(e){return this.#e[e]}get _network(){return re(this.#a,"network is not available yet","NETWORK_ERROR"),this.#a}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let n=e.transaction;if(n&&n.type!=null&&be(n.type)&&n.maxFeePerGas==null&&n.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},n,{type:void 0})}))}}const r=this.getRpcRequest(e);return r!=null?await this.send(r.method,r.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#a)return this.#a}else return e;return this.#i?await this.#i:this.ready?(this.#i=(async()=>{try{const r=Dt.from(be(await this.send("eth_chainId",[])));return this.#i=null,r}catch(r){throw this.#i=null,r}})(),await this.#i):(this.#i=(async()=>{const r={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let n;try{n=(await this._send(r))[0],this.#i=null}catch(s){throw this.#i=null,this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:n}),"result"in n)return Dt.from(be(n.result));throw this.getRpcError(r,n)})(),await this.#i)}_start(){this.#s==null||this.#s.resolve==null||(this.#s.resolve(),this.#s=null,(async()=>{for(;this.#a==null&&!this.destroyed;)try{this.#a=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Qe("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await Yx(1e3)}this.#o()})())}async _waitUntilReady(){if(this.#s!=null)return await this.#s.promise}_getSubscriber(e){return e.type==="pending"?new Wx(this):e.type==="event"?this._getOption("polling")?new qc(this,e.filter):new qx(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new mg("orphan"):super._getSubscriber(e)}get ready(){return this.#s==null}getRpcTransaction(e){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(n=>{if(e[n]==null)return;let s=n;n==="gasLimit"&&(s="gas"),r[s]=rs(be(e[n],`tx.${n}`))}),["from","to","data"].forEach(n=>{e[n]!=null&&(r[n]=le(e[n]))}),e.accessList&&(r.accessList=zn(e.accessList)),e.blobVersionedHashes&&(r.blobVersionedHashes=e.blobVersionedHashes.map(n=>n.toLowerCase())),r}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Xn(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Xn(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Xn(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Xn(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Xn):e.filter.address=Xn(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,r){const{method:n}=e,{error:s}=r;if(n==="eth_estimateGas"&&s.message){const o=s.message;if(!o.match(/revert/i)&&o.match(/insufficient funds/i))return Qe("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:s}})}if(n==="eth_call"||n==="eth_estimateGas"){const o=bc(s),u=gs.getBuiltinCallException(n==="eth_call"?"call":"estimateGas",e.params[0],o?o.data:null);return u.info={error:s,payload:e},u}const i=JSON.stringify(ew(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return Qe("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:s}});if(n==="eth_sendRawTransaction"||n==="eth_sendTransaction"){const o=e.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return Qe("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:o,info:{error:s}});if(i.match(/nonce/i)&&i.match(/too low/i))return Qe("nonce has already been used","NONCE_EXPIRED",{transaction:o,info:{error:s}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return Qe("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:o,info:{error:s}});if(i.match(/only replay-protected/i))return Qe("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:o,info:{error:s}}})}let a=!!i.match(/the method .* does not exist/i);return a||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(a=!0),a?Qe("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:s,payload:e}}):Qe("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:e})}send(e,r){if(this.destroyed)return Promise.reject(Qe("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const n=this.#t++,s=new Promise((i,a)=>{this.#r.push({resolve:i,reject:a,payload:{method:e,params:r,id:n,jsonrpc:"2.0"}})});return this.#o(),s}async getSigner(e){e==null&&(e=0);const r=this.send("eth_accounts",[]);if(typeof e=="number"){const s=await r;if(e>=s.length)throw new Error("no such account");return new Po(this,s[e])}const{accounts:n}=await wt({network:this.getNetwork(),accounts:r});e=Ie(e);for(const s of n)if(Ie(s)===e)return new Po(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new Po(this,r))}destroy(){this.#n&&(clearTimeout(this.#n),this.#n=null);for(const{payload:e,reject:r}of this.#r)r(Qe("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#r=[],super.destroy()}}class $x extends Xx{#e;constructor(e,r){super(e,r);let n=this._getOption("pollingInterval");n==null&&(n=xg.pollingInterval),this.#e=n}_getSubscriber(e){const r=super._getSubscriber(e);return Ll(r)&&(r.pollingInterval=this.#e),r}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(r=>{Ll(r)&&(r.pollingInterval=this.#e)})}}function bc(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Me(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const r=bc(t[e]);if(r)return r}return null}if(typeof t=="string")try{return bc(JSON.parse(t))}catch{}return null}function mc(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const r in t)mc(t[r],e);if(typeof t=="string")try{return mc(JSON.parse(t),e)}catch{}}}function ew(t){const e=[];return mc(t,e),e}class c1 extends $x{#e;constructor(e,r,n){const s=Object.assign({},n??{},{batchMaxCount:1});V(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(r,s),this.#e=async(i,a)=>{const o={method:i,params:a};this.emit("debug",{action:"sendEip1193Request",payload:o});try{const u=await e.request(o);return this.emit("debug",{action:"receiveEip1193Result",result:u}),u}catch(u){const l=new Error(u.message);throw l.code=u.code,l.data=u.data,l.payload=o,this.emit("debug",{action:"receiveEip1193Error",error:l}),l}}}async send(e,r){return await this._start(),await super.send(e,r)}async _send(e){V(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const r=await this.#e(e.method,e.params||[]);return[{id:e.id,result:r}]}catch(r){return[{id:e.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(e,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(e,r)}async hasSigner(e){e==null&&(e=0);const r=await this.send("eth_accounts",[]);return typeof e=="number"?r.length>e:(e=e.toLowerCase(),r.filter(n=>n.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(r){const n=r.payload;throw this.getRpcError(n,{id:n.id,error:r})}return await super.getSigner(e)}}const Ta=" !#$%&'()*+,-./<=>?@[]^_`{|}~",tw=/^[a-z]*$/i;function Fl(t,e){let r=97;return t.reduce((n,s)=>(s===e?r++:s.match(tw)?n.push(String.fromCharCode(r)+s):(r=97,n.push(s)),n),[])}function rw(t,e){for(let s=Ta.length-1;s>=0;s--)t=t.split(Ta[s]).join(e.substring(2*s,2*s+2));const r=[],n=t.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(s,i,a,o)=>{if(a)for(let u=parseInt(a);u>=0;u--)r.push(";");else r.push(i.toLowerCase());return""});if(n)throw new Error(`leftovers: ${JSON.stringify(n)}`);return Fl(Fl(r,";"),":")}function nw(t){return V(t[0]==="0","unsupported auwl data","data",t),rw(t.substring(1+2*Ta.length),t.substring(1,1+2*Ta.length))}class sw{locale;constructor(e){xe(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}class iw extends sw{#e;#t;constructor(e,r,n){super(e),this.#e=r,this.#t=n,this.#r=null}get _data(){return this.#e}_decodeWords(){return nw(this.#e)}#r;#n(){if(this.#r==null){const e=this._decodeWords();if(qr(e.join(`
`)+`
`)!==this.#t)throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#r=e}return this.#r}getWord(e){const r=this.#n();return V(e>=0&&e<r.length,`invalid word index: ${e}`,"index",e),r[e]}getWordIndex(e){return this.#n().indexOf(e)}}const aw="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",ow="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let vo=null;class ta extends iw{constructor(){super("en",aw,ow)}static wordlist(){return vo==null&&(vo=new ta),vo}}function wg(t){return(1<<t)-1<<8-t&255}function cw(t){return(1<<t)-1&255}function Oo(t,e){C0("NFKD"),e==null&&(e=ta.wordlist());const r=e.split(t);V(r.length%3===0&&r.length>=12&&r.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const n=new Uint8Array(Math.ceil(11*r.length/8));let s=0;for(let l=0;l<r.length;l++){let c=e.getWordIndex(r[l].normalize("NFKD"));V(c>=0,`invalid mnemonic word at index ${l}`,"mnemonic","[ REDACTED ]");for(let f=0;f<11;f++)c&1<<10-f&&(n[s>>3]|=1<<7-s%8),s++}const i=32*r.length/3,a=r.length/3,o=wg(a),u=ke(Wr(n.slice(0,i/8)))[0]&o;return V(u===(n[n.length-1]&o),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),le(n.slice(0,i/8))}function ko(t,e){V(t.length%4===0&&t.length>=16&&t.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=ta.wordlist());const r=[0];let n=11;for(let a=0;a<t.length;a++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[a],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[a]>>8-n,r.push(t[a]&cw(8-n)),n+=3);const s=t.length/4,i=parseInt(Wr(t).substring(2,4),16)&wg(s);return r[r.length-1]<<=s,r[r.length-1]|=i>>8-s,e.join(r.map(a=>e.getWord(a)))}const Bo={};class yc{phrase;password;wordlist;entropy;constructor(e,r,n,s,i){s==null&&(s=""),i==null&&(i=ta.wordlist()),Ki(e,Bo,"Mnemonic"),xe(this,{phrase:n,password:s,wordlist:i,entropy:r})}computeSeed(){const e=$t("mnemonic"+this.password,"NFKD");return qi($t(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,r,n){const s=Oo(e,n);return e=ko(ke(s),n),new yc(Bo,s,e,r,n)}static fromEntropy(e,r,n){const s=ke(e,"entropy"),i=ko(s,n);return new yc(Bo,le(s),i,r,n)}static entropyToPhrase(e,r){const n=ke(e,"entropy");return ko(n,r)}static phraseToEntropy(e,r){return Oo(e,r)}static isValidMnemonic(e,r){try{return Oo(e,r),!0}catch{}return!1}}var No={},xc=function(t,e){return xc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},xc(t,e)};function uw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");xc(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var wc=function(){return wc=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},wc.apply(this,arguments)};function lw(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function fw(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(i=(s<3?a(i):s>3?a(e,r,i):a(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function dw(t,e){return function(r,n){e(r,n,t)}}function hw(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function gw(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{l(n.next(c))}catch(f){a(f)}}function u(c){try{l(n.throw(c))}catch(f){a(f)}}function l(c){c.done?i(c.value):s(c.value).then(o,u)}l((n=n.apply(t,e||[])).next())})}function pw(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],s=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var Wc=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function bw(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Wc(e,t,r)}function Ac(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ag(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function mw(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ag(arguments[e]));return t}function yw(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],a=0,o=i.length;a<o;a++,s++)n[s]=i[a];return n}function xw(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function Vi(t){return this instanceof Vi?(this.v=t,this):new Vi(t)}function ww(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(h){n[h]&&(s[h]=function(b){return new Promise(function(k,E){i.push([h,b,k,E])>1||o(h,b)})})}function o(h,b){try{u(n[h](b))}catch(k){f(i[0][3],k)}}function u(h){h.value instanceof Vi?Promise.resolve(h.value.v).then(l,c):f(i[0][2],h)}function l(h){o("next",h)}function c(h){o("throw",h)}function f(h,b){h(b),i.shift(),i.length&&o(i[0][0],i[0][1])}}function Aw(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(a){return(r=!r)?{value:Vi(t[s](a)),done:s==="return"}:i?i(a):a}:i}}function Ew(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Ac=="function"?Ac(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(o,u){a=t[i](a),s(o,u,a.done,a.value)})}}function s(i,a,o,u){Promise.resolve(u).then(function(l){i({value:l,done:o})},a)}}function Pw(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var vw=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e};function Ow(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Wc(e,t,r);return vw(e,t),e}function kw(t){return t&&t.__esModule?t:{default:t}}function Bw(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Nw(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function Rw(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}const Cw=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return wc},__asyncDelegator:Aw,__asyncGenerator:ww,__asyncValues:Ew,__await:Vi,__awaiter:gw,__classPrivateFieldGet:Bw,__classPrivateFieldIn:Rw,__classPrivateFieldSet:Nw,__createBinding:Wc,__decorate:fw,__exportStar:bw,__extends:uw,__generator:pw,__importDefault:kw,__importStar:Ow,__makeTemplateObject:Pw,__metadata:hw,__param:dw,__read:Ag,__rest:lw,__spread:mw,__spreadArray:xw,__spreadArrays:yw,__values:Ac},Symbol.toStringTag,{value:"Module"})),Sw=Ap(Cw);var Ro={},Os={},Dl;function Zc(){return Dl||(Dl=1,Object.defineProperty(Os,"__esModule",{value:!0}),Os.version=void 0,Os.version="6.13.1"),Os}var Co={},ks={},So={},en={},je={},st={},tn={},Ml;function Kn(){if(Ml)return tn;Ml=1,Object.defineProperty(tn,"__esModule",{value:!0}),tn.defineProperties=tn.resolveProperties=void 0;function t(n,s,i){const a=s.split("|").map(u=>u.trim());for(let u=0;u<a.length;u++)switch(s){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof n===s)return}const o=new Error(`invalid value for type ${s}`);throw o.code="INVALID_ARGUMENT",o.argument=`value.${i}`,o.value=n,o}async function e(n){const s=Object.keys(n);return(await Promise.all(s.map(a=>Promise.resolve(n[a])))).reduce((a,o,u)=>(a[s[u]]=o,a),{})}tn.resolveProperties=e;function r(n,s,i){for(let a in s){let o=s[a];const u=i?i[a]:null;u&&t(o,u,a),Object.defineProperty(n,a,{enumerable:!0,value:o,writable:!1})}}return tn.defineProperties=r,tn}var jl;function fr(){if(jl)return st;jl=1,Object.defineProperty(st,"__esModule",{value:!0}),st.assertPrivate=st.assertNormalize=st.assertArgumentCount=st.assertArgument=st.assert=st.makeError=st.isCallException=st.isError=void 0;const t=Zc(),e=Kn();function r(h){if(h==null)return"null";if(Array.isArray(h))return"[ "+h.map(r).join(", ")+" ]";if(h instanceof Uint8Array){const b="0123456789abcdef";let k="0x";for(let E=0;E<h.length;E++)k+=b[h[E]>>4],k+=b[h[E]&15];return k}if(typeof h=="object"&&typeof h.toJSON=="function")return r(h.toJSON());switch(typeof h){case"boolean":case"symbol":return h.toString();case"bigint":return BigInt(h).toString();case"number":return h.toString();case"string":return JSON.stringify(h);case"object":{const b=Object.keys(h);return b.sort(),"{ "+b.map(k=>`${r(k)}: ${r(h[k])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function n(h,b){return h&&h.code===b}st.isError=n;function s(h){return n(h,"CALL_EXCEPTION")}st.isCallException=s;function i(h,b,k){let E=h;{const p=[];if(k){if("message"in k||"code"in k||"name"in k)throw new Error(`value will overwrite populated values: ${r(k)}`);for(const y in k){if(y==="shortMessage")continue;const w=k[y];p.push(y+"="+r(w))}}p.push(`code=${b}`),p.push(`version=${t.version}`),p.length&&(h+=" ("+p.join(", ")+")")}let d;switch(b){case"INVALID_ARGUMENT":d=new TypeError(h);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":d=new RangeError(h);break;default:d=new Error(h)}return(0,e.defineProperties)(d,{code:b}),k&&Object.assign(d,k),d.shortMessage==null&&(0,e.defineProperties)(d,{shortMessage:E}),d}st.makeError=i;function a(h,b,k,E){if(!h)throw i(b,k,E)}st.assert=a;function o(h,b,k,E){a(h,b,"INVALID_ARGUMENT",{argument:k,value:E})}st.assertArgument=o;function u(h,b,k){k==null&&(k=""),k&&(k=": "+k),a(h>=b,"missing arguemnt"+k,"MISSING_ARGUMENT",{count:h,expectedCount:b}),a(h<=b,"too many arguments"+k,"UNEXPECTED_ARGUMENT",{count:h,expectedCount:b})}st.assertArgumentCount=u;const l=["NFD","NFC","NFKD","NFKC"].reduce((h,b)=>{try{if("test".normalize(b)!=="test")throw new Error("bad");if(b==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");h.push(b)}catch{}return h},[]);function c(h){a(l.indexOf(h)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:h}})}st.assertNormalize=c;function f(h,b,k){if(k==null&&(k=""),h!==b){let E=k,d="new";k&&(E+=".",d+=" "+k),a(!1,`private constructor; use ${E}from* methods`,"UNSUPPORTED_OPERATION",{operation:d})}}return st.assertPrivate=f,st}var Hl;function er(){if(Hl)return je;Hl=1,Object.defineProperty(je,"__esModule",{value:!0}),je.zeroPadBytes=je.zeroPadValue=je.stripZerosLeft=je.dataSlice=je.dataLength=je.concat=je.hexlify=je.isBytesLike=je.isHexString=je.getBytesCopy=je.getBytes=void 0;const t=fr();function e(E,d,p){if(E instanceof Uint8Array)return p?new Uint8Array(E):E;if(typeof E=="string"&&E.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const y=new Uint8Array((E.length-2)/2);let w=2;for(let x=0;x<y.length;x++)y[x]=parseInt(E.substring(w,w+2),16),w+=2;return y}(0,t.assertArgument)(!1,"invalid BytesLike value",d||"value",E)}function r(E,d){return e(E,d,!1)}je.getBytes=r;function n(E,d){return e(E,d,!0)}je.getBytesCopy=n;function s(E,d){return!(typeof E!="string"||!E.match(/^0x[0-9A-Fa-f]*$/)||typeof d=="number"&&E.length!==2+2*d||d===!0&&E.length%2!==0)}je.isHexString=s;function i(E){return s(E,!0)||E instanceof Uint8Array}je.isBytesLike=i;const a="0123456789abcdef";function o(E){const d=r(E);let p="0x";for(let y=0;y<d.length;y++){const w=d[y];p+=a[(w&240)>>4]+a[w&15]}return p}je.hexlify=o;function u(E){return"0x"+E.map(d=>o(d).substring(2)).join("")}je.concat=u;function l(E){return s(E,!0)?(E.length-2)/2:r(E).length}je.dataLength=l;function c(E,d,p){const y=r(E);return p!=null&&p>y.length&&(0,t.assert)(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:y,length:y.length,offset:p}),o(y.slice(d??0,p??y.length))}je.dataSlice=c;function f(E){let d=o(E).substring(2);for(;d.startsWith("00");)d=d.substring(2);return"0x"+d}je.stripZerosLeft=f;function h(E,d,p){const y=r(E);(0,t.assert)(d>=y.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(y),length:d,offset:d+1});const w=new Uint8Array(d);return w.fill(0),p?w.set(y,d-y.length):w.set(y,0),o(w)}function b(E,d){return h(E,d,!0)}je.zeroPadValue=b;function k(E,d){return h(E,d,!1)}return je.zeroPadBytes=k,je}var He={},Gl;function ra(){if(Gl)return He;Gl=1,Object.defineProperty(He,"__esModule",{value:!0}),He.toQuantity=He.toBeArray=He.toBeHex=He.toNumber=He.getNumber=He.toBigInt=He.getUint=He.getBigInt=He.mask=He.toTwos=He.fromTwos=void 0;const t=er(),e=fr(),r=BigInt(0),n=BigInt(1),s=9007199254740991;function i(p,y){const w=l(p,"value"),x=BigInt(h(y,"width"));if((0,e.assert)(w>>x===r,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:p}),w>>x-n){const O=(n<<x)-n;return-((~w&O)+n)}return w}He.fromTwos=i;function a(p,y){let w=u(p,"value");const x=BigInt(h(y,"width")),O=n<<x-n;if(w<r){w=-w,(0,e.assert)(w<=O,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:p});const P=(n<<x)-n;return(~w&P)+n}else(0,e.assert)(w<O,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:p});return w}He.toTwos=a;function o(p,y){const w=l(p,"value"),x=BigInt(h(y,"bits"));return w&(n<<x)-n}He.mask=o;function u(p,y){switch(typeof p){case"bigint":return p;case"number":return(0,e.assertArgument)(Number.isInteger(p),"underflow",y||"value",p),(0,e.assertArgument)(p>=-s&&p<=s,"overflow",y||"value",p),BigInt(p);case"string":try{if(p==="")throw new Error("empty string");return p[0]==="-"&&p[1]!=="-"?-BigInt(p.substring(1)):BigInt(p)}catch(w){(0,e.assertArgument)(!1,`invalid BigNumberish string: ${w.message}`,y||"value",p)}}(0,e.assertArgument)(!1,"invalid BigNumberish value",y||"value",p)}He.getBigInt=u;function l(p,y){const w=u(p,y);return(0,e.assert)(w>=r,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:p}),w}He.getUint=l;const c="0123456789abcdef";function f(p){if(p instanceof Uint8Array){let y="0x0";for(const w of p)y+=c[w>>4],y+=c[w&15];return BigInt(y)}return u(p)}He.toBigInt=f;function h(p,y){switch(typeof p){case"bigint":return(0,e.assertArgument)(p>=-s&&p<=s,"overflow",y||"value",p),Number(p);case"number":return(0,e.assertArgument)(Number.isInteger(p),"underflow",y||"value",p),(0,e.assertArgument)(p>=-s&&p<=s,"overflow",y||"value",p),p;case"string":try{if(p==="")throw new Error("empty string");return h(BigInt(p),y)}catch(w){(0,e.assertArgument)(!1,`invalid numeric string: ${w.message}`,y||"value",p)}}(0,e.assertArgument)(!1,"invalid numeric value",y||"value",p)}He.getNumber=h;function b(p){return h(f(p))}He.toNumber=b;function k(p,y){let x=l(p,"value").toString(16);if(y==null)x.length%2&&(x="0"+x);else{const O=h(y,"width");for((0,e.assert)(O*2>=x.length,`value exceeds width (${O} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:p});x.length<O*2;)x="0"+x}return"0x"+x}He.toBeHex=k;function E(p){const y=l(p,"value");if(y===r)return new Uint8Array([]);let w=y.toString(16);w.length%2&&(w="0"+w);const x=new Uint8Array(w.length/2);for(let O=0;O<x.length;O++){const P=O*2;x[O]=parseInt(w.substring(P,P+2),16)}return x}He.toBeArray=E;function d(p){let y=(0,t.hexlify)((0,t.isBytesLike)(p)?p:E(p)).substring(2);for(;y.startsWith("0");)y=y.substring(1);return y===""&&(y="0"),"0x"+y}return He.toQuantity=d,He}var Vl;function _w(){if(Vl)return en;Vl=1,Object.defineProperty(en,"__esModule",{value:!0}),en.decodeBase58=en.encodeBase58=void 0;const t=er(),e=fr(),r=ra(),n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let s=null;function i(c){if(s==null){s={};for(let h=0;h<n.length;h++)s[n[h]]=BigInt(h)}const f=s[c];return(0,e.assertArgument)(f!=null,"invalid base58 value","letter",c),f}const a=BigInt(0),o=BigInt(58);function u(c){const f=(0,t.getBytes)(c);let h=(0,r.toBigInt)(f),b="";for(;h;)b=n[Number(h%o)]+b,h/=o;for(let k=0;k<f.length&&!f[k];k++)b=n[0]+b;return b}en.encodeBase58=u;function l(c){let f=a;for(let h=0;h<c.length;h++)f*=o,f+=i(c[h]);return f}return en.decodeBase58=l,en}var rn={},Ql;function Eg(){if(Ql)return rn;Ql=1,Object.defineProperty(rn,"__esModule",{value:!0}),rn.encodeBase64=rn.decodeBase64=void 0;const t=er();function e(n){n=atob(n);const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return(0,t.getBytes)(s)}rn.decodeBase64=e;function r(n){const s=(0,t.getBytes)(n);let i="";for(let a=0;a<s.length;a++)i+=String.fromCharCode(s[a]);return btoa(i)}return rn.encodeBase64=r,rn}var Bs={},Jl;function Iw(){if(Jl)return Bs;Jl=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.EventPayload=void 0;const t=Kn();class e{filter;emitter;#e;constructor(n,s,i){this.#e=s,(0,t.defineProperties)(this,{emitter:n,filter:i})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}}return Bs.EventPayload=e,Bs}var pr={},_o={},zl;function Yc(){return zl||(zl=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toUtf8CodePoints=t.toUtf8String=t.toUtf8Bytes=t.Utf8ErrorFuncs=void 0;const e=er(),r=fr();function n(f,h,b,k,E){(0,r.assertArgument)(!1,`invalid codepoint at offset ${h}; ${f}`,"bytes",b)}function s(f,h,b,k,E){if(f==="BAD_PREFIX"||f==="UNEXPECTED_CONTINUE"){let d=0;for(let p=h+1;p<b.length&&b[p]>>6===2;p++)d++;return d}return f==="OVERRUN"?b.length-h-1:0}function i(f,h,b,k,E){return f==="OVERLONG"?((0,r.assertArgument)(typeof E=="number","invalid bad code point for replacement","badCodepoint",E),k.push(E),0):(k.push(65533),s(f,h,b))}t.Utf8ErrorFuncs=Object.freeze({error:n,ignore:s,replace:i});function a(f,h){h==null&&(h=t.Utf8ErrorFuncs.error);const b=(0,e.getBytes)(f,"bytes"),k=[];let E=0;for(;E<b.length;){const d=b[E++];if(d>>7===0){k.push(d);continue}let p=null,y=null;if((d&224)===192)p=1,y=127;else if((d&240)===224)p=2,y=2047;else if((d&248)===240)p=3,y=65535;else{(d&192)===128?E+=h("UNEXPECTED_CONTINUE",E-1,b,k):E+=h("BAD_PREFIX",E-1,b,k);continue}if(E-1+p>=b.length){E+=h("OVERRUN",E-1,b,k);continue}let w=d&(1<<8-p-1)-1;for(let x=0;x<p;x++){let O=b[E];if((O&192)!=128){E+=h("MISSING_CONTINUE",E,b,k),w=null;break}w=w<<6|O&63,E++}if(w!==null){if(w>1114111){E+=h("OUT_OF_RANGE",E-1-p,b,k,w);continue}if(w>=55296&&w<=57343){E+=h("UTF16_SURROGATE",E-1-p,b,k,w);continue}if(w<=y){E+=h("OVERLONG",E-1-p,b,k,w);continue}k.push(w)}}return k}function o(f,h){(0,r.assertArgument)(typeof f=="string","invalid string value","str",f),h!=null&&((0,r.assertNormalize)(h),f=f.normalize(h));let b=[];for(let k=0;k<f.length;k++){const E=f.charCodeAt(k);if(E<128)b.push(E);else if(E<2048)b.push(E>>6|192),b.push(E&63|128);else if((E&64512)==55296){k++;const d=f.charCodeAt(k);(0,r.assertArgument)(k<f.length&&(d&64512)===56320,"invalid surrogate pair","str",f);const p=65536+((E&1023)<<10)+(d&1023);b.push(p>>18|240),b.push(p>>12&63|128),b.push(p>>6&63|128),b.push(p&63|128)}else b.push(E>>12|224),b.push(E>>6&63|128),b.push(E&63|128)}return new Uint8Array(b)}t.toUtf8Bytes=o;function u(f){return f.map(h=>h<=65535?String.fromCharCode(h):(h-=65536,String.fromCharCode((h>>10&1023)+55296,(h&1023)+56320))).join("")}function l(f,h){return u(a(f,h))}t.toUtf8String=l;function c(f,h){return a(o(f,h))}t.toUtf8CodePoints=c})(_o)),_o}var nn={},Kl;function Tw(){if(Kl)return nn;Kl=1,Object.defineProperty(nn,"__esModule",{value:!0}),nn.getUrl=nn.createGetUrl=void 0;const t=fr();function e(s){async function i(a,o){(0,t.assert)(o==null||!o.cancelled,"request cancelled before sending","CANCELLED");const u=a.url.split(":")[0].toLowerCase();(0,t.assert)(u==="http"||u==="https",`unsupported protocol ${u}`,"UNSUPPORTED_OPERATION",{info:{protocol:u},operation:"request"}),(0,t.assert)(u==="https"||!a.credentials||a.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let l=null;const c=new AbortController,f=setTimeout(()=>{l=(0,t.makeError)("request timeout","TIMEOUT"),c.abort()},a.timeout);o&&o.addListener(()=>{l=(0,t.makeError)("request cancelled","CANCELLED"),c.abort()});const h={method:a.method,headers:new Headers(Array.from(a)),body:a.body||void 0,signal:c.signal};let b;try{b=await fetch(a.url,h)}catch(p){throw clearTimeout(f),l||p}clearTimeout(f);const k={};b.headers.forEach((p,y)=>{k[y.toLowerCase()]=p});const E=await b.arrayBuffer(),d=E==null?null:new Uint8Array(E);return{statusCode:b.status,statusMessage:b.statusText,headers:k,body:d}}return i}nn.createGetUrl=e;const r=e();async function n(s,i){return r(s,i)}return nn.getUrl=n,nn}var ql;function Uw(){if(ql)return pr;ql=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.FetchResponse=pr.FetchRequest=pr.FetchCancelSignal=void 0;const t=Eg(),e=er(),r=fr(),n=Kn(),s=Yc(),i=Tw(),a=12,o=250;let u=(0,i.createGetUrl)();const l=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),c=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let f=!1;async function h(A,g){try{const B=A.match(l);if(!B)throw new Error("invalid data");return new w(200,"OK",{"content-type":B[1]||"text/plain"},B[2]?(0,t.decodeBase64)(B[3]):O(B[3]))}catch{return new w(599,"BAD REQUEST (invalid data: URI)",{},null,new y(A))}}function b(A){async function g(B,C){try{const N=B.match(c);if(!N)throw new Error("invalid link");return new y(`${A}${N[2]}`)}catch{return new w(599,"BAD REQUEST (invalid IPFS URI)",{},null,new y(B))}}return g}const k={data:h,ipfs:b("https://gateway.ipfs.io/ipfs/")},E=new WeakMap;class d{#e;#t;constructor(g){this.#e=[],this.#t=!1,E.set(g,()=>{if(!this.#t){this.#t=!0;for(const B of this.#e)setTimeout(()=>{B()},0);this.#e=[]}})}addListener(g){(0,r.assert)(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(g)}get cancelled(){return this.#t}checkSignal(){(0,r.assert)(!this.cancelled,"cancelled","CANCELLED",{})}}pr.FetchCancelSignal=d;function p(A){if(A==null)throw new Error("missing signal; should not happen");return A.checkSignal(),A}class y{#e;#t;#r;#n;#s;#a;#i;#o;#h;#u;#g;#p;#c;#l;#f;get url(){return this.#a}set url(g){this.#a=String(g)}get body(){return this.#i==null?null:new Uint8Array(this.#i)}set body(g){if(g==null)this.#i=void 0,this.#o=void 0;else if(typeof g=="string")this.#i=(0,s.toUtf8Bytes)(g),this.#o="text/plain";else if(g instanceof Uint8Array)this.#i=g,this.#o="application/octet-stream";else if(typeof g=="object")this.#i=(0,s.toUtf8Bytes)(JSON.stringify(g)),this.#o="application/json";else throw new Error("invalid body")}hasBody(){return this.#i!=null}get method(){return this.#n?this.#n:this.hasBody()?"POST":"GET"}set method(g){g==null&&(g=""),this.#n=String(g).toUpperCase()}get headers(){const g=Object.assign({},this.#r);return this.#h&&(g.authorization=`Basic ${(0,t.encodeBase64)((0,s.toUtf8Bytes)(this.#h))}`),this.allowGzip&&(g["accept-encoding"]="gzip"),g["content-type"]==null&&this.#o&&(g["content-type"]=this.#o),this.body&&(g["content-length"]=String(this.body.length)),g}getHeader(g){return this.headers[g.toLowerCase()]}setHeader(g,B){this.#r[String(g).toLowerCase()]=String(B)}clearHeaders(){this.#r={}}[Symbol.iterator](){const g=this.headers,B=Object.keys(g);let C=0;return{next:()=>{if(C<B.length){const N=B[C++];return{value:[N,g[N]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#h||null}setCredentials(g,B){(0,r.assertArgument)(!g.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#h=`${g}:${B}`}get allowGzip(){return this.#t}set allowGzip(g){this.#t=!!g}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(g){this.#e=!!g}get timeout(){return this.#s}set timeout(g){(0,r.assertArgument)(g>=0,"timeout must be non-zero","timeout",g),this.#s=g}get preflightFunc(){return this.#u||null}set preflightFunc(g){this.#u=g}get processFunc(){return this.#g||null}set processFunc(g){this.#g=g}get retryFunc(){return this.#p||null}set retryFunc(g){this.#p=g}get getUrlFunc(){return this.#f||u}set getUrlFunc(g){this.#f=g}constructor(g){this.#a=String(g),this.#e=!1,this.#t=!0,this.#r={},this.#n="",this.#s=3e5,this.#l={slotInterval:o,maxAttempts:a},this.#f=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#i?(0,e.hexlify)(this.#i):"null"}>`}setThrottleParams(g){g.slotInterval!=null&&(this.#l.slotInterval=g.slotInterval),g.maxAttempts!=null&&(this.#l.maxAttempts=g.maxAttempts)}async#d(g,B,C,N,F){if(g>=this.#l.maxAttempts)return F.makeServerError("exceeded maximum retry limit");(0,r.assert)(x()<=B,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:N}),C>0&&await P(C);let U=this.clone();const I=(U.url.split(":")[0]||"").toLowerCase();if(I in k){const R=await k[I](U.url,p(N.#c));if(R instanceof w){let S=R;if(this.processFunc){p(N.#c);try{S=await this.processFunc(U,S)}catch(_){(_.throttle==null||typeof _.stall!="number")&&S.makeServerError("error in post-processing function",_).assertOk()}}return S}U=R}this.preflightFunc&&(U=await this.preflightFunc(U));const v=await this.getUrlFunc(U,p(N.#c));let m=new w(v.statusCode,v.statusMessage,v.headers,v.body,N);if(m.statusCode===301||m.statusCode===302){try{const R=m.headers.location||"";return U.redirect(R).#d(g+1,B,0,N,m)}catch{}return m}else if(m.statusCode===429&&(this.retryFunc==null||await this.retryFunc(U,m,g))){const R=m.headers["retry-after"];let S=this.#l.slotInterval*Math.trunc(Math.random()*Math.pow(2,g));return typeof R=="string"&&R.match(/^[1-9][0-9]*$/)&&(S=parseInt(R)),U.clone().#d(g+1,B,S,N,m)}if(this.processFunc){p(N.#c);try{m=await this.processFunc(U,m)}catch(R){(R.throttle==null||typeof R.stall!="number")&&m.makeServerError("error in post-processing function",R).assertOk();let S=this.#l.slotInterval*Math.trunc(Math.random()*Math.pow(2,g));return R.stall>=0&&(S=R.stall),U.clone().#d(g+1,B,S,N,m)}}return m}send(){return(0,r.assert)(this.#c==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#c=new d(this),this.#d(0,x()+this.timeout,0,this,new w(0,"",{},null,this))}cancel(){(0,r.assert)(this.#c!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const g=E.get(this);if(!g)throw new Error("missing signal; should not happen");g()}redirect(g){const B=this.url.split(":")[0].toLowerCase(),C=g.split(":")[0].toLowerCase();(0,r.assert)(this.method==="GET"&&(B!=="https"||C!=="http")&&g.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(g)})`});const N=new y(g);return N.method="GET",N.allowGzip=this.allowGzip,N.timeout=this.timeout,N.#r=Object.assign({},this.#r),this.#i&&(N.#i=new Uint8Array(this.#i)),N.#o=this.#o,N}clone(){const g=new y(this.url);return g.#n=this.#n,this.#i&&(g.#i=this.#i),g.#o=this.#o,g.#r=Object.assign({},this.#r),g.#h=this.#h,this.allowGzip&&(g.allowGzip=!0),g.timeout=this.timeout,this.allowInsecureAuthentication&&(g.allowInsecureAuthentication=!0),g.#u=this.#u,g.#g=this.#g,g.#p=this.#p,g.#l=Object.assign({},this.#l),g.#f=this.#f,g}static lockConfig(){f=!0}static getGateway(g){return k[g.toLowerCase()]||null}static registerGateway(g,B){if(g=g.toLowerCase(),g==="http"||g==="https")throw new Error(`cannot intercept ${g}; use registerGetUrl`);if(f)throw new Error("gateways locked");k[g]=B}static registerGetUrl(g){if(f)throw new Error("gateways locked");u=g}static createGetUrlFunc(g){return(0,i.createGetUrl)(g)}static createDataGateway(){return h}static createIpfsGatewayFunc(g){return b(g)}}pr.FetchRequest=y;class w{#e;#t;#r;#n;#s;#a;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#n?(0,e.hexlify)(this.#n):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#r)}get body(){return this.#n==null?null:new Uint8Array(this.#n)}get bodyText(){try{return this.#n==null?"":(0,s.toUtf8String)(this.#n)}catch{(0,r.assert)(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{(0,r.assert)(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const g=this.headers,B=Object.keys(g);let C=0;return{next:()=>{if(C<B.length){const N=B[C++];return{value:[N,g[N]],done:!1}}return{value:void 0,done:!0}}}}constructor(g,B,C,N,F){this.#e=g,this.#t=B,this.#r=Object.keys(C).reduce((U,I)=>(U[I.toLowerCase()]=String(C[I]),U),{}),this.#n=N==null?null:new Uint8Array(N),this.#s=F||null,this.#a={message:""}}makeServerError(g,B){let C;g?C=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${g})`:(g=`${this.statusCode} ${this.statusMessage}`,C=`CLIENT ESCALATED SERVER ERROR (${g})`);const N=new w(599,C,this.headers,this.body,this.#s||void 0);return N.#a={message:g,error:B},N}throwThrottleError(g,B){B==null?B=-1:(0,r.assertArgument)(Number.isInteger(B)&&B>=0,"invalid stall timeout","stall",B);const C=new Error(g||"throttling requests");throw(0,n.defineProperties)(C,{stall:B,throttle:!0}),C}getHeader(g){return this.headers[g.toLowerCase()]}hasBody(){return this.#n!=null}get request(){return this.#s}ok(){return this.#a.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:g,error:B}=this.#a;g===""&&(g=`server response ${this.statusCode} ${this.statusMessage}`);let C=null;this.request&&(C=this.request.url);let N=null;try{this.#n&&(N=(0,s.toUtf8String)(this.#n))}catch{}(0,r.assert)(!1,g,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:B,info:{requestUrl:C,responseBody:N,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}pr.FetchResponse=w;function x(){return new Date().getTime()}function O(A){return(0,s.toUtf8Bytes)(A.replace(/%([0-9a-f][0-9a-f])/gi,(g,B)=>String.fromCharCode(parseInt(B,16))))}function P(A){return new Promise(g=>setTimeout(g,A))}return pr}var Ns={},Wl;function Pg(){if(Wl)return Ns;Wl=1,Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.FixedNumber=void 0;const t=er(),e=fr(),r=ra(),n=Kn(),s=BigInt(-1),i=BigInt(0),a=BigInt(1),o=BigInt(5),u={};let l="0000";for(;l.length<80;)l+=l;function c(E){let d=l;for(;d.length<E;)d+=d;return BigInt("1"+d.substring(0,E))}function f(E,d,p){const y=BigInt(d.width);if(d.signed){const w=a<<y-a;(0,e.assert)(p==null||E>=-w&&E<w,"overflow","NUMERIC_FAULT",{operation:p,fault:"overflow",value:E}),E>i?E=(0,r.fromTwos)((0,r.mask)(E,y),y):E=-(0,r.fromTwos)((0,r.mask)(-E,y),y)}else{const w=a<<y;(0,e.assert)(p==null||E>=0&&E<w,"overflow","NUMERIC_FAULT",{operation:p,fault:"overflow",value:E}),E=(E%w+w)%w&w-a}return E}function h(E){typeof E=="number"&&(E=`fixed128x${E}`);let d=!0,p=128,y=18;if(typeof E=="string"){if(E!=="fixed")if(E==="ufixed")d=!1;else{const x=E.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);(0,e.assertArgument)(x,"invalid fixed format","format",E),d=x[1]!=="u",p=parseInt(x[2]),y=parseInt(x[3])}}else if(E){const x=E,O=(P,A,g)=>x[P]==null?g:((0,e.assertArgument)(typeof x[P]===A,"invalid fixed format ("+P+" not "+A+")","format."+P,x[P]),x[P]);d=O("signed","boolean",d),p=O("width","number",p),y=O("decimals","number",y)}(0,e.assertArgument)(p%8===0,"invalid FixedNumber width (not byte aligned)","format.width",p),(0,e.assertArgument)(y<=80,"invalid FixedNumber decimals (too large)","format.decimals",y);const w=(d?"":"u")+"fixed"+String(p)+"x"+String(y);return{signed:d,width:p,decimals:y,name:w}}function b(E,d){let p="";E<i&&(p="-",E*=s);let y=E.toString();if(d===0)return p+y;for(;y.length<=d;)y=l+y;const w=y.length-d;for(y=y.substring(0,w)+"."+y.substring(w);y[0]==="0"&&y[1]!==".";)y=y.substring(1);for(;y[y.length-1]==="0"&&y[y.length-2]!==".";)y=y.substring(0,y.length-1);return p+y}class k{format;#e;#t;#r;_value;constructor(d,p,y){(0,e.assertPrivate)(d,u,"FixedNumber"),this.#t=p,this.#e=y;const w=b(p,y.decimals);(0,n.defineProperties)(this,{format:y.name,_value:w}),this.#r=c(y.decimals)}get signed(){return this.#e.signed}get width(){return this.#e.width}get decimals(){return this.#e.decimals}get value(){return this.#t}#n(d){(0,e.assertArgument)(this.format===d.format,"incompatible format; use fixedNumber.toFormat","other",d)}#s(d,p){return d=f(d,this.#e,p),new k(u,d,this.#e)}#a(d,p){return this.#n(d),this.#s(this.#t+d.#t,p)}addUnsafe(d){return this.#a(d)}add(d){return this.#a(d,"add")}#i(d,p){return this.#n(d),this.#s(this.#t-d.#t,p)}subUnsafe(d){return this.#i(d)}sub(d){return this.#i(d,"sub")}#o(d,p){return this.#n(d),this.#s(this.#t*d.#t/this.#r,p)}mulUnsafe(d){return this.#o(d)}mul(d){return this.#o(d,"mul")}mulSignal(d){this.#n(d);const p=this.#t*d.#t;return(0,e.assert)(p%this.#r===i,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#s(p/this.#r,"mulSignal")}#h(d,p){return(0,e.assert)(d.#t!==i,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(d),this.#s(this.#t*this.#r/d.#t,p)}divUnsafe(d){return this.#h(d)}div(d){return this.#h(d,"div")}divSignal(d){(0,e.assert)(d.#t!==i,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(d);const p=this.#t*this.#r;return(0,e.assert)(p%d.#t===i,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#s(p/d.#t,"divSignal")}cmp(d){let p=this.value,y=d.value;const w=this.decimals-d.decimals;return w>0?y*=c(w):w<0&&(p*=c(-w)),p<y?-1:p>y?1:0}eq(d){return this.cmp(d)===0}lt(d){return this.cmp(d)<0}lte(d){return this.cmp(d)<=0}gt(d){return this.cmp(d)>0}gte(d){return this.cmp(d)>=0}floor(){let d=this.#t;return this.#t<i&&(d-=this.#r-a),d=this.#t/this.#r*this.#r,this.#s(d,"floor")}ceiling(){let d=this.#t;return this.#t>i&&(d+=this.#r-a),d=this.#t/this.#r*this.#r,this.#s(d,"ceiling")}round(d){if(d==null&&(d=0),d>=this.decimals)return this;const p=this.decimals-d,y=o*c(p-1);let w=this.value+y;const x=c(p);return w=w/x*x,f(w,this.#e,"round"),new k(u,w,this.#e)}isZero(){return this.#t===i}isNegative(){return this.#t<i}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(d){return k.fromString(this.toString(),d)}static fromValue(d,p,y){const w=p==null?0:(0,r.getNumber)(p),x=h(y);let O=(0,r.getBigInt)(d,"value");const P=w-x.decimals;if(P>0){const A=c(P);(0,e.assert)(O%A===i,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:d}),O/=A}else P<0&&(O*=c(-P));return f(O,x,"fromValue"),new k(u,O,x)}static fromString(d,p){const y=d.match(/^(-?)([0-9]*)\.?([0-9]*)$/);(0,e.assertArgument)(y&&y[2].length+y[3].length>0,"invalid FixedNumber string value","value",d);const w=h(p);let x=y[2]||"0",O=y[3]||"";for(;O.length<w.decimals;)O+=l;(0,e.assert)(O.substring(w.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:d}),O=O.substring(0,w.decimals);const P=BigInt(y[1]+x+O);return f(P,w,"fromString"),new k(u,P,w)}static fromBytes(d,p){let y=(0,r.toBigInt)((0,t.getBytes)(d,"value"));const w=h(p);return w.signed&&(y=(0,r.fromTwos)(y,w.width)),f(y,w,"fromBytes"),new k(u,y,w)}}return Ns.FixedNumber=k,Ns}var Rs={},Zl;function Lw(){if(Zl)return Rs;Zl=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.decodeRlp=void 0;const t=er(),e=fr(),r=er();function n(u){let l=u.toString(16);for(;l.length<2;)l="0"+l;return"0x"+l}function s(u,l,c){let f=0;for(let h=0;h<c;h++)f=f*256+u[l+h];return f}function i(u,l,c,f){const h=[];for(;c<l+1+f;){const b=a(u,c);h.push(b.result),c+=b.consumed,(0,e.assert)(c<=l+1+f,"child data too short","BUFFER_OVERRUN",{buffer:u,length:f,offset:l})}return{consumed:1+f,result:h}}function a(u,l){(0,e.assert)(u.length!==0,"data too short","BUFFER_OVERRUN",{buffer:u,length:0,offset:1});const c=f=>{(0,e.assert)(f<=u.length,"data short segment too short","BUFFER_OVERRUN",{buffer:u,length:u.length,offset:f})};if(u[l]>=248){const f=u[l]-247;c(l+1+f);const h=s(u,l+1,f);return c(l+1+f+h),i(u,l,l+1+f,f+h)}else if(u[l]>=192){const f=u[l]-192;return c(l+1+f),i(u,l,l+1,f)}else if(u[l]>=184){const f=u[l]-183;c(l+1+f);const h=s(u,l+1,f);c(l+1+f+h);const b=(0,t.hexlify)(u.slice(l+1+f,l+1+f+h));return{consumed:1+f+h,result:b}}else if(u[l]>=128){const f=u[l]-128;c(l+1+f);const h=(0,t.hexlify)(u.slice(l+1,l+1+f));return{consumed:1+f,result:h}}return{consumed:1,result:n(u[l])}}function o(u){const l=(0,r.getBytes)(u,"data"),c=a(l,0);return(0,e.assertArgument)(c.consumed===l.length,"unexpected junk after rlp payload","data",u),c.result}return Rs.decodeRlp=o,Rs}var Cs={},Yl;function Fw(){if(Yl)return Cs;Yl=1,Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.encodeRlp=void 0;const t=er();function e(i){const a=[];for(;i;)a.unshift(i&255),i>>=8;return a}function r(i){if(Array.isArray(i)){let u=[];if(i.forEach(function(c){u=u.concat(r(c))}),u.length<=55)return u.unshift(192+u.length),u;const l=e(u.length);return l.unshift(247+l.length),l.concat(u)}const a=Array.prototype.slice.call((0,t.getBytes)(i,"object"));if(a.length===1&&a[0]<=127)return a;if(a.length<=55)return a.unshift(128+a.length),a;const o=e(a.length);return o.unshift(183+o.length),o.concat(a)}const n="0123456789abcdef";function s(i){let a="0x";for(const o of r(i))a+=n[o>>4],a+=n[o&15];return a}return Cs.encodeRlp=s,Cs}var Jt={},Xl;function Dw(){if(Xl)return Jt;Xl=1,Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.parseEther=Jt.formatEther=Jt.parseUnits=Jt.formatUnits=void 0;const t=fr(),e=Pg(),r=ra(),n=["wei","kwei","mwei","gwei","szabo","finney","ether"];function s(u,l){let c=18;if(typeof l=="string"){const f=n.indexOf(l);(0,t.assertArgument)(f>=0,"invalid unit","unit",l),c=3*f}else l!=null&&(c=(0,r.getNumber)(l,"unit"));return e.FixedNumber.fromValue(u,c,{decimals:c,width:512}).toString()}Jt.formatUnits=s;function i(u,l){(0,t.assertArgument)(typeof u=="string","value must be a string","value",u);let c=18;if(typeof l=="string"){const f=n.indexOf(l);(0,t.assertArgument)(f>=0,"invalid unit","unit",l),c=3*f}else l!=null&&(c=(0,r.getNumber)(l,"unit"));return e.FixedNumber.fromString(u,{decimals:c,width:512}).value}Jt.parseUnits=i;function a(u){return s(u,18)}Jt.formatEther=a;function o(u){return i(u,18)}return Jt.parseEther=o,Jt}var Ss={},$l;function Mw(){if($l)return Ss;$l=1,Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.uuidV4=void 0;const t=er();function e(r){const n=(0,t.getBytes)(r,"randomBytes");n[6]=n[6]&15|64,n[8]=n[8]&63|128;const s=(0,t.hexlify)(n);return[s.substring(2,10),s.substring(10,14),s.substring(14,18),s.substring(18,22),s.substring(22,34)].join("-")}return Ss.uuidV4=e,Ss}var ef;function fe(){return ef||(ef=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toUtf8String=t.toUtf8CodePoints=t.toUtf8Bytes=t.parseUnits=t.formatUnits=t.parseEther=t.formatEther=t.encodeRlp=t.decodeRlp=t.defineProperties=t.resolveProperties=t.toQuantity=t.toBeArray=t.toBeHex=t.toNumber=t.toBigInt=t.getUint=t.getNumber=t.getBigInt=t.mask=t.toTwos=t.fromTwos=t.FixedNumber=t.FetchCancelSignal=t.FetchResponse=t.FetchRequest=t.EventPayload=t.makeError=t.assertNormalize=t.assertPrivate=t.assertArgumentCount=t.assertArgument=t.assert=t.isError=t.isCallException=t.zeroPadBytes=t.zeroPadValue=t.stripZerosLeft=t.dataSlice=t.dataLength=t.concat=t.hexlify=t.isBytesLike=t.isHexString=t.getBytesCopy=t.getBytes=t.encodeBase64=t.decodeBase64=t.encodeBase58=t.decodeBase58=void 0,t.uuidV4=t.Utf8ErrorFuncs=void 0;var e=_w();Object.defineProperty(t,"decodeBase58",{enumerable:!0,get:function(){return e.decodeBase58}}),Object.defineProperty(t,"encodeBase58",{enumerable:!0,get:function(){return e.encodeBase58}});var r=Eg();Object.defineProperty(t,"decodeBase64",{enumerable:!0,get:function(){return r.decodeBase64}}),Object.defineProperty(t,"encodeBase64",{enumerable:!0,get:function(){return r.encodeBase64}});var n=er();Object.defineProperty(t,"getBytes",{enumerable:!0,get:function(){return n.getBytes}}),Object.defineProperty(t,"getBytesCopy",{enumerable:!0,get:function(){return n.getBytesCopy}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return n.isHexString}}),Object.defineProperty(t,"isBytesLike",{enumerable:!0,get:function(){return n.isBytesLike}}),Object.defineProperty(t,"hexlify",{enumerable:!0,get:function(){return n.hexlify}}),Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return n.concat}}),Object.defineProperty(t,"dataLength",{enumerable:!0,get:function(){return n.dataLength}}),Object.defineProperty(t,"dataSlice",{enumerable:!0,get:function(){return n.dataSlice}}),Object.defineProperty(t,"stripZerosLeft",{enumerable:!0,get:function(){return n.stripZerosLeft}}),Object.defineProperty(t,"zeroPadValue",{enumerable:!0,get:function(){return n.zeroPadValue}}),Object.defineProperty(t,"zeroPadBytes",{enumerable:!0,get:function(){return n.zeroPadBytes}});var s=fr();Object.defineProperty(t,"isCallException",{enumerable:!0,get:function(){return s.isCallException}}),Object.defineProperty(t,"isError",{enumerable:!0,get:function(){return s.isError}}),Object.defineProperty(t,"assert",{enumerable:!0,get:function(){return s.assert}}),Object.defineProperty(t,"assertArgument",{enumerable:!0,get:function(){return s.assertArgument}}),Object.defineProperty(t,"assertArgumentCount",{enumerable:!0,get:function(){return s.assertArgumentCount}}),Object.defineProperty(t,"assertPrivate",{enumerable:!0,get:function(){return s.assertPrivate}}),Object.defineProperty(t,"assertNormalize",{enumerable:!0,get:function(){return s.assertNormalize}}),Object.defineProperty(t,"makeError",{enumerable:!0,get:function(){return s.makeError}});var i=Iw();Object.defineProperty(t,"EventPayload",{enumerable:!0,get:function(){return i.EventPayload}});var a=Uw();Object.defineProperty(t,"FetchRequest",{enumerable:!0,get:function(){return a.FetchRequest}}),Object.defineProperty(t,"FetchResponse",{enumerable:!0,get:function(){return a.FetchResponse}}),Object.defineProperty(t,"FetchCancelSignal",{enumerable:!0,get:function(){return a.FetchCancelSignal}});var o=Pg();Object.defineProperty(t,"FixedNumber",{enumerable:!0,get:function(){return o.FixedNumber}});var u=ra();Object.defineProperty(t,"fromTwos",{enumerable:!0,get:function(){return u.fromTwos}}),Object.defineProperty(t,"toTwos",{enumerable:!0,get:function(){return u.toTwos}}),Object.defineProperty(t,"mask",{enumerable:!0,get:function(){return u.mask}}),Object.defineProperty(t,"getBigInt",{enumerable:!0,get:function(){return u.getBigInt}}),Object.defineProperty(t,"getNumber",{enumerable:!0,get:function(){return u.getNumber}}),Object.defineProperty(t,"getUint",{enumerable:!0,get:function(){return u.getUint}}),Object.defineProperty(t,"toBigInt",{enumerable:!0,get:function(){return u.toBigInt}}),Object.defineProperty(t,"toNumber",{enumerable:!0,get:function(){return u.toNumber}}),Object.defineProperty(t,"toBeHex",{enumerable:!0,get:function(){return u.toBeHex}}),Object.defineProperty(t,"toBeArray",{enumerable:!0,get:function(){return u.toBeArray}}),Object.defineProperty(t,"toQuantity",{enumerable:!0,get:function(){return u.toQuantity}});var l=Kn();Object.defineProperty(t,"resolveProperties",{enumerable:!0,get:function(){return l.resolveProperties}}),Object.defineProperty(t,"defineProperties",{enumerable:!0,get:function(){return l.defineProperties}});var c=Lw();Object.defineProperty(t,"decodeRlp",{enumerable:!0,get:function(){return c.decodeRlp}});var f=Fw();Object.defineProperty(t,"encodeRlp",{enumerable:!0,get:function(){return f.encodeRlp}});var h=Dw();Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return h.formatEther}}),Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return h.parseEther}}),Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return h.formatUnits}}),Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return h.parseUnits}});var b=Yc();Object.defineProperty(t,"toUtf8Bytes",{enumerable:!0,get:function(){return b.toUtf8Bytes}}),Object.defineProperty(t,"toUtf8CodePoints",{enumerable:!0,get:function(){return b.toUtf8CodePoints}}),Object.defineProperty(t,"toUtf8String",{enumerable:!0,get:function(){return b.toUtf8String}}),Object.defineProperty(t,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return b.Utf8ErrorFuncs}});var k=Mw();Object.defineProperty(t,"uuidV4",{enumerable:!0,get:function(){return k.uuidV4}})})(So)),So}var Io={},tf;function rr(){return tf||(tf=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Reader=t.Writer=t.Coder=t.checkResultErrors=t.Result=t.WordSize=void 0;const e=fe();t.WordSize=32;const r=new Uint8Array(t.WordSize),n=["then"],s={},i=new WeakMap;function a(d){return i.get(d)}function o(d,p){i.set(d,p)}function u(d,p){const y=new Error(`deferred error during ABI decoding triggered accessing ${d}`);throw y.error=p,y}function l(d,p,y){return d.indexOf(null)>=0?p.map((w,x)=>w instanceof c?l(a(w),w,y):w):d.reduce((w,x,O)=>{let P=p.getValue(x);return x in w||(y&&P instanceof c&&(P=l(a(P),P,y)),w[x]=P),w},{})}class c extends Array{#e;constructor(...p){const y=p[0];let w=p[1],x=(p[2]||[]).slice(),O=!0;y!==s&&(w=p,x=[],O=!1),super(w.length),w.forEach((g,B)=>{this[B]=g});const P=x.reduce((g,B)=>(typeof B=="string"&&g.set(B,(g.get(B)||0)+1),g),new Map);if(o(this,Object.freeze(w.map((g,B)=>{const C=x[B];return C!=null&&P.get(C)===1?C:null}))),this.#e=[],this.#e==null&&this.#e,!O)return;Object.freeze(this);const A=new Proxy(this,{get:(g,B,C)=>{if(typeof B=="string"){if(B.match(/^[0-9]+$/)){const F=(0,e.getNumber)(B,"%index");if(F<0||F>=this.length)throw new RangeError("out of result range");const U=g[F];return U instanceof Error&&u(`index ${F}`,U),U}if(n.indexOf(B)>=0)return Reflect.get(g,B,C);const N=g[B];if(N instanceof Function)return function(...F){return N.apply(this===C?g:this,F)};if(!(B in g))return g.getValue.apply(this===C?g:this,[B])}return Reflect.get(g,B,C)}});return o(A,a(this)),A}toArray(p){const y=[];return this.forEach((w,x)=>{w instanceof Error&&u(`index ${x}`,w),p&&w instanceof c&&(w=w.toArray(p)),y.push(w)}),y}toObject(p){const y=a(this);return y.reduce((w,x,O)=>((0,e.assert)(x!=null,`value at index ${O} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),l(y,this,p)),{})}slice(p,y){p==null&&(p=0),p<0&&(p+=this.length,p<0&&(p=0)),y==null&&(y=this.length),y<0&&(y+=this.length,y<0&&(y=0)),y>this.length&&(y=this.length);const w=a(this),x=[],O=[];for(let P=p;P<y;P++)x.push(this[P]),O.push(w[P]);return new c(s,x,O)}filter(p,y){const w=a(this),x=[],O=[];for(let P=0;P<this.length;P++){const A=this[P];A instanceof Error&&u(`index ${P}`,A),p.call(y,A,P,this)&&(x.push(A),O.push(w[P]))}return new c(s,x,O)}map(p,y){const w=[];for(let x=0;x<this.length;x++){const O=this[x];O instanceof Error&&u(`index ${x}`,O),w.push(p.call(y,O,x,this))}return w}getValue(p){const y=a(this).indexOf(p);if(y===-1)return;const w=this[y];return w instanceof Error&&u(`property ${JSON.stringify(p)}`,w.error),w}static fromItems(p,y){return new c(s,p,y)}}t.Result=c;function f(d){const p=[],y=function(w,x){if(Array.isArray(x))for(let O in x){const P=w.slice();P.push(O);try{y(P,x[O])}catch(A){p.push({path:P,error:A})}}};return y([],d),p}t.checkResultErrors=f;function h(d){let p=(0,e.toBeArray)(d);return(0,e.assert)(p.length<=t.WordSize,"value out-of-bounds","BUFFER_OVERRUN",{buffer:p,length:t.WordSize,offset:p.length}),p.length!==t.WordSize&&(p=(0,e.getBytesCopy)((0,e.concat)([r.slice(p.length%t.WordSize),p]))),p}class b{name;type;localName;dynamic;constructor(p,y,w,x){(0,e.defineProperties)(this,{name:p,type:y,localName:w,dynamic:x},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(p,y){(0,e.assertArgument)(!1,p,this.localName,y)}}t.Coder=b;class k{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return(0,e.concat)(this.#e)}get length(){return this.#t}#r(p){return this.#e.push(p),this.#t+=p.length,p.length}appendWriter(p){return this.#r((0,e.getBytesCopy)(p.data))}writeBytes(p){let y=(0,e.getBytesCopy)(p);const w=y.length%t.WordSize;return w&&(y=(0,e.getBytesCopy)((0,e.concat)([y,r.slice(w)]))),this.#r(y)}writeValue(p){return this.#r(h(p))}writeUpdatableValue(){const p=this.#e.length;return this.#e.push(r),this.#t+=t.WordSize,y=>{this.#e[p]=h(y)}}}t.Writer=k;class E{allowLoose;#e;#t;#r;#n;#s;constructor(p,y,w){(0,e.defineProperties)(this,{allowLoose:!!y}),this.#e=(0,e.getBytesCopy)(p),this.#r=0,this.#n=null,this.#s=w??1024,this.#t=0}get data(){return(0,e.hexlify)(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#a(p){if(this.#n)return this.#n.#a(p);this.#r+=p,(0,e.assert)(this.#s<1||this.#r<=this.#s*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#s} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:(0,e.getBytesCopy)(this.#e),offset:this.#t,length:p,info:{bytesRead:this.#r,dataLength:this.dataLength}})}#i(p,y,w){let x=Math.ceil(y/t.WordSize)*t.WordSize;return this.#t+x>this.#e.length&&(this.allowLoose&&w&&this.#t+y<=this.#e.length?x=y:(0,e.assert)(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:(0,e.getBytesCopy)(this.#e),length:this.#e.length,offset:this.#t+x})),this.#e.slice(this.#t,this.#t+x)}subReader(p){const y=new E(this.#e.slice(this.#t+p),this.allowLoose,this.#s);return y.#n=this,y}readBytes(p,y){let w=this.#i(0,p,!!y);return this.#a(p),this.#t+=w.length,w.slice(0,p)}readValue(){return(0,e.toBigInt)(this.readBytes(t.WordSize))}readIndex(){return(0,e.toNumber)(this.readBytes(t.WordSize))}}t.Reader=E})(Io)),Io}var _s={},To={},sn={},Uo={},Is={},zt={},Lo={},pt={},rf;function na(){if(rf)return pt;rf=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.output=pt.exists=pt.hash=pt.bytes=pt.bool=pt.number=void 0;function t(o){if(!Number.isSafeInteger(o)||o<0)throw new Error(`Wrong positive integer: ${o}`)}pt.number=t;function e(o){if(typeof o!="boolean")throw new Error(`Expected boolean, not ${o}`)}pt.bool=e;function r(o,...u){if(!(o instanceof Uint8Array))throw new Error("Expected Uint8Array");if(u.length>0&&!u.includes(o.length))throw new Error(`Expected Uint8Array of length ${u}, not of length=${o.length}`)}pt.bytes=r;function n(o){if(typeof o!="function"||typeof o.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(o.outputLen),t(o.blockLen)}pt.hash=n;function s(o,u=!0){if(o.destroyed)throw new Error("Hash instance has been destroyed");if(u&&o.finished)throw new Error("Hash#digest() has already been called")}pt.exists=s;function i(o,u){r(o);const l=u.outputLen;if(o.length<l)throw new Error(`digestInto() expects output buffer of length at least ${l}`)}pt.output=i;const a={number:t,bool:e,bytes:r,hash:n,exists:s,output:i};return pt.default=a,pt}var Fo={},Ts={},nf;function jw(){return nf||(nf=1,Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.crypto=void 0,Ts.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Ts}var sf;function dr(){return sf||(sf=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const e=jw(),r=P=>P instanceof Uint8Array,n=P=>new Uint8Array(P.buffer,P.byteOffset,P.byteLength);t.u8=n;const s=P=>new Uint32Array(P.buffer,P.byteOffset,Math.floor(P.byteLength/4));t.u32=s;const i=P=>new DataView(P.buffer,P.byteOffset,P.byteLength);t.createView=i;const a=(P,A)=>P<<32-A|P>>>A;if(t.rotr=a,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},(P,A)=>A.toString(16).padStart(2,"0"));function u(P){if(!r(P))throw new Error("Uint8Array expected");let A="";for(let g=0;g<P.length;g++)A+=o[P[g]];return A}t.bytesToHex=u;function l(P){if(typeof P!="string")throw new Error("hex string expected, got "+typeof P);const A=P.length;if(A%2)throw new Error("padded hex string expected, got unpadded hex of length "+A);const g=new Uint8Array(A/2);for(let B=0;B<g.length;B++){const C=B*2,N=P.slice(C,C+2),F=Number.parseInt(N,16);if(Number.isNaN(F)||F<0)throw new Error("Invalid byte sequence");g[B]=F}return g}t.hexToBytes=l;const c=async()=>{};t.nextTick=c;async function f(P,A,g){let B=Date.now();for(let C=0;C<P;C++){g(C);const N=Date.now()-B;N>=0&&N<A||(await(0,t.nextTick)(),B+=N)}}t.asyncLoop=f;function h(P){if(typeof P!="string")throw new Error(`utf8ToBytes expected string, got ${typeof P}`);return new Uint8Array(new TextEncoder().encode(P))}t.utf8ToBytes=h;function b(P){if(typeof P=="string"&&(P=h(P)),!r(P))throw new Error(`expected Uint8Array, got ${typeof P}`);return P}t.toBytes=b;function k(...P){const A=new Uint8Array(P.reduce((B,C)=>B+C.length,0));let g=0;return P.forEach(B=>{if(!r(B))throw new Error("Uint8Array expected");A.set(B,g),g+=B.length}),A}t.concatBytes=k;class E{clone(){return this._cloneInto()}}t.Hash=E;const d={}.toString;function p(P,A){if(A!==void 0&&d.call(A)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(P,A)}t.checkOpts=p;function y(P){const A=B=>P().update(b(B)).digest(),g=P();return A.outputLen=g.outputLen,A.blockLen=g.blockLen,A.create=()=>P(),A}t.wrapConstructor=y;function w(P){const A=(B,C)=>P(C).update(b(B)).digest(),g=P({});return A.outputLen=g.outputLen,A.blockLen=g.blockLen,A.create=B=>P(B),A}t.wrapConstructorWithOpts=w;function x(P){const A=(B,C)=>P(C).update(b(B)).digest(),g=P({});return A.outputLen=g.outputLen,A.blockLen=g.blockLen,A.create=B=>P(B),A}t.wrapXOFConstructorWithOpts=x;function O(P=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(P));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=O})(Fo)),Fo}var af;function Xc(){return af||(af=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const e=na(),r=dr();class n extends r.Hash{constructor(a,o){super(),this.finished=!1,this.destroyed=!1,(0,e.hash)(a);const u=(0,r.toBytes)(o);if(this.iHash=a.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const l=this.blockLen,c=new Uint8Array(l);c.set(u.length>l?a.create().update(u).digest():u);for(let f=0;f<c.length;f++)c[f]^=54;this.iHash.update(c),this.oHash=a.create();for(let f=0;f<c.length;f++)c[f]^=106;this.oHash.update(c),c.fill(0)}update(a){return(0,e.exists)(this),this.iHash.update(a),this}digestInto(a){(0,e.exists)(this),(0,e.bytes)(a,this.outputLen),this.finished=!0,this.iHash.digestInto(a),this.oHash.update(a),this.oHash.digestInto(a),this.destroy()}digest(){const a=new Uint8Array(this.oHash.outputLen);return this.digestInto(a),a}_cloneInto(a){a||(a=Object.create(Object.getPrototypeOf(this),{}));const{oHash:o,iHash:u,finished:l,destroyed:c,blockLen:f,outputLen:h}=this;return a=a,a.finished=l,a.destroyed=c,a.blockLen=f,a.outputLen=h,a.oHash=o._cloneInto(a.oHash),a.iHash=u._cloneInto(a.iHash),a}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=n;const s=(i,a,o)=>new n(i,a).update(o).digest();t.hmac=s,t.hmac.create=(i,a)=>new n(i,a)})(Lo)),Lo}var an={},of;function vg(){if(of)return an;of=1,Object.defineProperty(an,"__esModule",{value:!0}),an.pbkdf2Async=an.pbkdf2=void 0;const t=na(),e=Xc(),r=dr();function n(o,u,l,c){(0,t.hash)(o);const f=(0,r.checkOpts)({dkLen:32,asyncTick:10},c),{c:h,dkLen:b,asyncTick:k}=f;if((0,t.number)(h),(0,t.number)(b),(0,t.number)(k),h<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const E=(0,r.toBytes)(u),d=(0,r.toBytes)(l),p=new Uint8Array(b),y=e.hmac.create(o,E),w=y._cloneInto().update(d);return{c:h,dkLen:b,asyncTick:k,DK:p,PRF:y,PRFSalt:w}}function s(o,u,l,c,f){return o.destroy(),u.destroy(),c&&c.destroy(),f.fill(0),l}function i(o,u,l,c){const{c:f,dkLen:h,DK:b,PRF:k,PRFSalt:E}=n(o,u,l,c);let d;const p=new Uint8Array(4),y=(0,r.createView)(p),w=new Uint8Array(k.outputLen);for(let x=1,O=0;O<h;x++,O+=k.outputLen){const P=b.subarray(O,O+k.outputLen);y.setInt32(0,x,!1),(d=E._cloneInto(d)).update(p).digestInto(w),P.set(w.subarray(0,P.length));for(let A=1;A<f;A++){k._cloneInto(d).update(w).digestInto(w);for(let g=0;g<P.length;g++)P[g]^=w[g]}}return s(k,E,b,d,w)}an.pbkdf2=i;async function a(o,u,l,c){const{c:f,dkLen:h,asyncTick:b,DK:k,PRF:E,PRFSalt:d}=n(o,u,l,c);let p;const y=new Uint8Array(4),w=(0,r.createView)(y),x=new Uint8Array(E.outputLen);for(let O=1,P=0;P<h;O++,P+=E.outputLen){const A=k.subarray(P,P+E.outputLen);w.setInt32(0,O,!1),(p=d._cloneInto(p)).update(y).digestInto(x),A.set(x.subarray(0,A.length)),await(0,r.asyncLoop)(f-1,b,()=>{E._cloneInto(p).update(x).digestInto(x);for(let g=0;g<A.length;g++)A[g]^=x[g]})}return s(E,d,k,p,x)}return an.pbkdf2Async=a,an}var on={},Us={},cf;function $c(){if(cf)return Us;cf=1,Object.defineProperty(Us,"__esModule",{value:!0}),Us.SHA2=void 0;const t=na(),e=dr();function r(s,i,a,o){if(typeof s.setBigUint64=="function")return s.setBigUint64(i,a,o);const u=BigInt(32),l=BigInt(4294967295),c=Number(a>>u&l),f=Number(a&l),h=o?4:0,b=o?0:4;s.setUint32(i+h,c,o),s.setUint32(i+b,f,o)}class n extends e.Hash{constructor(i,a,o,u){super(),this.blockLen=i,this.outputLen=a,this.padOffset=o,this.isLE=u,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(i),this.view=(0,e.createView)(this.buffer)}update(i){(0,t.exists)(this);const{view:a,buffer:o,blockLen:u}=this;i=(0,e.toBytes)(i);const l=i.length;for(let c=0;c<l;){const f=Math.min(u-this.pos,l-c);if(f===u){const h=(0,e.createView)(i);for(;u<=l-c;c+=u)this.process(h,c);continue}o.set(i.subarray(c,c+f),this.pos),this.pos+=f,c+=f,this.pos===u&&(this.process(a,0),this.pos=0)}return this.length+=i.length,this.roundClean(),this}digestInto(i){(0,t.exists)(this),(0,t.output)(i,this),this.finished=!0;const{buffer:a,view:o,blockLen:u,isLE:l}=this;let{pos:c}=this;a[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>u-c&&(this.process(o,0),c=0);for(let E=c;E<u;E++)a[E]=0;r(o,u-8,BigInt(this.length*8),l),this.process(o,0);const f=(0,e.createView)(i),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const b=h/4,k=this.get();if(b>k.length)throw new Error("_sha2: outputLen bigger than state");for(let E=0;E<b;E++)f.setUint32(4*E,k[E],l)}digest(){const{buffer:i,outputLen:a}=this;this.digestInto(i);const o=i.slice(0,a);return this.destroy(),o}_cloneInto(i){i||(i=new this.constructor),i.set(...this.get());const{blockLen:a,buffer:o,length:u,finished:l,destroyed:c,pos:f}=this;return i.length=u,i.pos=f,i.finished=l,i.destroyed=c,u%a&&i.buffer.set(o),i}}return Us.SHA2=n,Us}var uf;function eu(){if(uf)return on;uf=1,Object.defineProperty(on,"__esModule",{value:!0}),on.sha224=on.sha256=void 0;const t=$c(),e=dr(),r=(l,c,f)=>l&c^~l&f,n=(l,c,f)=>l&c^l&f^c&f,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint32Array(64);class o extends t.SHA2{constructor(){super(64,32,8,!1),this.A=i[0]|0,this.B=i[1]|0,this.C=i[2]|0,this.D=i[3]|0,this.E=i[4]|0,this.F=i[5]|0,this.G=i[6]|0,this.H=i[7]|0}get(){const{A:c,B:f,C:h,D:b,E:k,F:E,G:d,H:p}=this;return[c,f,h,b,k,E,d,p]}set(c,f,h,b,k,E,d,p){this.A=c|0,this.B=f|0,this.C=h|0,this.D=b|0,this.E=k|0,this.F=E|0,this.G=d|0,this.H=p|0}process(c,f){for(let x=0;x<16;x++,f+=4)a[x]=c.getUint32(f,!1);for(let x=16;x<64;x++){const O=a[x-15],P=a[x-2],A=(0,e.rotr)(O,7)^(0,e.rotr)(O,18)^O>>>3,g=(0,e.rotr)(P,17)^(0,e.rotr)(P,19)^P>>>10;a[x]=g+a[x-7]+A+a[x-16]|0}let{A:h,B:b,C:k,D:E,E:d,F:p,G:y,H:w}=this;for(let x=0;x<64;x++){const O=(0,e.rotr)(d,6)^(0,e.rotr)(d,11)^(0,e.rotr)(d,25),P=w+O+r(d,p,y)+s[x]+a[x]|0,g=((0,e.rotr)(h,2)^(0,e.rotr)(h,13)^(0,e.rotr)(h,22))+n(h,b,k)|0;w=y,y=p,p=d,d=E+P|0,E=k,k=b,b=h,h=P+g|0}h=h+this.A|0,b=b+this.B|0,k=k+this.C|0,E=E+this.D|0,d=d+this.E|0,p=p+this.F|0,y=y+this.G|0,w=w+this.H|0,this.set(h,b,k,E,d,p,y,w)}roundClean(){a.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class u extends o{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}return on.sha256=(0,e.wrapConstructor)(()=>new o),on.sha224=(0,e.wrapConstructor)(()=>new u),on}var Rt={},Ae={},lf;function Og(){if(lf)return Ae;lf=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.add5L=Ae.add5H=Ae.add4H=Ae.add4L=Ae.add3H=Ae.add3L=Ae.add=Ae.rotlBL=Ae.rotlBH=Ae.rotlSL=Ae.rotlSH=Ae.rotr32L=Ae.rotr32H=Ae.rotrBL=Ae.rotrBH=Ae.rotrSL=Ae.rotrSH=Ae.shrSL=Ae.shrSH=Ae.toBig=Ae.split=Ae.fromBig=void 0;const t=BigInt(2**32-1),e=BigInt(32);function r(B,C=!1){return C?{h:Number(B&t),l:Number(B>>e&t)}:{h:Number(B>>e&t)|0,l:Number(B&t)|0}}Ae.fromBig=r;function n(B,C=!1){let N=new Uint32Array(B.length),F=new Uint32Array(B.length);for(let U=0;U<B.length;U++){const{h:I,l:v}=r(B[U],C);[N[U],F[U]]=[I,v]}return[N,F]}Ae.split=n;const s=(B,C)=>BigInt(B>>>0)<<e|BigInt(C>>>0);Ae.toBig=s;const i=(B,C,N)=>B>>>N;Ae.shrSH=i;const a=(B,C,N)=>B<<32-N|C>>>N;Ae.shrSL=a;const o=(B,C,N)=>B>>>N|C<<32-N;Ae.rotrSH=o;const u=(B,C,N)=>B<<32-N|C>>>N;Ae.rotrSL=u;const l=(B,C,N)=>B<<64-N|C>>>N-32;Ae.rotrBH=l;const c=(B,C,N)=>B>>>N-32|C<<64-N;Ae.rotrBL=c;const f=(B,C)=>C;Ae.rotr32H=f;const h=(B,C)=>B;Ae.rotr32L=h;const b=(B,C,N)=>B<<N|C>>>32-N;Ae.rotlSH=b;const k=(B,C,N)=>C<<N|B>>>32-N;Ae.rotlSL=k;const E=(B,C,N)=>C<<N-32|B>>>64-N;Ae.rotlBH=E;const d=(B,C,N)=>B<<N-32|C>>>64-N;Ae.rotlBL=d;function p(B,C,N,F){const U=(C>>>0)+(F>>>0);return{h:B+N+(U/2**32|0)|0,l:U|0}}Ae.add=p;const y=(B,C,N)=>(B>>>0)+(C>>>0)+(N>>>0);Ae.add3L=y;const w=(B,C,N,F)=>C+N+F+(B/2**32|0)|0;Ae.add3H=w;const x=(B,C,N,F)=>(B>>>0)+(C>>>0)+(N>>>0)+(F>>>0);Ae.add4L=x;const O=(B,C,N,F,U)=>C+N+F+U+(B/2**32|0)|0;Ae.add4H=O;const P=(B,C,N,F,U)=>(B>>>0)+(C>>>0)+(N>>>0)+(F>>>0)+(U>>>0);Ae.add5L=P;const A=(B,C,N,F,U,I)=>C+N+F+U+I+(B/2**32|0)|0;Ae.add5H=A;const g={fromBig:r,split:n,toBig:s,shrSH:i,shrSL:a,rotrSH:o,rotrSL:u,rotrBH:l,rotrBL:c,rotr32H:f,rotr32L:h,rotlSH:b,rotlSL:k,rotlBH:E,rotlBL:d,add:p,add3L:y,add3H:w,add4L:x,add4H:O,add5H:A,add5L:P};return Ae.default=g,Ae}var ff;function Hw(){if(ff)return Rt;ff=1,Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.sha384=Rt.sha512_256=Rt.sha512_224=Rt.sha512=Rt.SHA512=void 0;const t=$c(),e=Og(),r=dr(),[n,s]=e.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(f=>BigInt(f))),i=new Uint32Array(80),a=new Uint32Array(80);class o extends t.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:h,Al:b,Bh:k,Bl:E,Ch:d,Cl:p,Dh:y,Dl:w,Eh:x,El:O,Fh:P,Fl:A,Gh:g,Gl:B,Hh:C,Hl:N}=this;return[h,b,k,E,d,p,y,w,x,O,P,A,g,B,C,N]}set(h,b,k,E,d,p,y,w,x,O,P,A,g,B,C,N){this.Ah=h|0,this.Al=b|0,this.Bh=k|0,this.Bl=E|0,this.Ch=d|0,this.Cl=p|0,this.Dh=y|0,this.Dl=w|0,this.Eh=x|0,this.El=O|0,this.Fh=P|0,this.Fl=A|0,this.Gh=g|0,this.Gl=B|0,this.Hh=C|0,this.Hl=N|0}process(h,b){for(let I=0;I<16;I++,b+=4)i[I]=h.getUint32(b),a[I]=h.getUint32(b+=4);for(let I=16;I<80;I++){const v=i[I-15]|0,m=a[I-15]|0,R=e.default.rotrSH(v,m,1)^e.default.rotrSH(v,m,8)^e.default.shrSH(v,m,7),S=e.default.rotrSL(v,m,1)^e.default.rotrSL(v,m,8)^e.default.shrSL(v,m,7),_=i[I-2]|0,L=a[I-2]|0,D=e.default.rotrSH(_,L,19)^e.default.rotrBH(_,L,61)^e.default.shrSH(_,L,6),M=e.default.rotrSL(_,L,19)^e.default.rotrBL(_,L,61)^e.default.shrSL(_,L,6),Q=e.default.add4L(S,M,a[I-7],a[I-16]),j=e.default.add4H(Q,R,D,i[I-7],i[I-16]);i[I]=j|0,a[I]=Q|0}let{Ah:k,Al:E,Bh:d,Bl:p,Ch:y,Cl:w,Dh:x,Dl:O,Eh:P,El:A,Fh:g,Fl:B,Gh:C,Gl:N,Hh:F,Hl:U}=this;for(let I=0;I<80;I++){const v=e.default.rotrSH(P,A,14)^e.default.rotrSH(P,A,18)^e.default.rotrBH(P,A,41),m=e.default.rotrSL(P,A,14)^e.default.rotrSL(P,A,18)^e.default.rotrBL(P,A,41),R=P&g^~P&C,S=A&B^~A&N,_=e.default.add5L(U,m,S,s[I],a[I]),L=e.default.add5H(_,F,v,R,n[I],i[I]),D=_|0,M=e.default.rotrSH(k,E,28)^e.default.rotrBH(k,E,34)^e.default.rotrBH(k,E,39),Q=e.default.rotrSL(k,E,28)^e.default.rotrBL(k,E,34)^e.default.rotrBL(k,E,39),j=k&d^k&y^d&y,J=E&p^E&w^p&w;F=C|0,U=N|0,C=g|0,N=B|0,g=P|0,B=A|0,{h:P,l:A}=e.default.add(x|0,O|0,L|0,D|0),x=y|0,O=w|0,y=d|0,w=p|0,d=k|0,p=E|0;const q=e.default.add3L(D,Q,J);k=e.default.add3H(q,L,M,j),E=q|0}({h:k,l:E}=e.default.add(this.Ah|0,this.Al|0,k|0,E|0)),{h:d,l:p}=e.default.add(this.Bh|0,this.Bl|0,d|0,p|0),{h:y,l:w}=e.default.add(this.Ch|0,this.Cl|0,y|0,w|0),{h:x,l:O}=e.default.add(this.Dh|0,this.Dl|0,x|0,O|0),{h:P,l:A}=e.default.add(this.Eh|0,this.El|0,P|0,A|0),{h:g,l:B}=e.default.add(this.Fh|0,this.Fl|0,g|0,B|0),{h:C,l:N}=e.default.add(this.Gh|0,this.Gl|0,C|0,N|0),{h:F,l:U}=e.default.add(this.Hh|0,this.Hl|0,F|0,U|0),this.set(k,E,d,p,y,w,x,O,P,A,g,B,C,N,F,U)}roundClean(){i.fill(0),a.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}Rt.SHA512=o;class u extends o{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class l extends o{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class c extends o{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}return Rt.sha512=(0,r.wrapConstructor)(()=>new o),Rt.sha512_224=(0,r.wrapConstructor)(()=>new u),Rt.sha512_256=(0,r.wrapConstructor)(()=>new l),Rt.sha384=(0,r.wrapConstructor)(()=>new c),Rt}var df;function Wa(){if(df)return zt;df=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.randomBytes=zt.pbkdf2Sync=zt.createHmac=zt.createHash=void 0;const t=Xc(),e=vg(),r=eu(),n=Hw(),s=fe();function i(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}const a=i(),o=a.crypto||a.msCrypto;function u(h){switch(h){case"sha256":return r.sha256.create();case"sha512":return n.sha512.create()}(0,s.assertArgument)(!1,"invalid hashing algorithm name","algorithm",h)}zt.createHash=u;function l(h,b){const k={sha256:r.sha256,sha512:n.sha512}[h];return(0,s.assertArgument)(k!=null,"invalid hmac algorithm","algorithm",h),t.hmac.create(k,b)}zt.createHmac=l;function c(h,b,k,E,d){const p={sha256:r.sha256,sha512:n.sha512}[d];return(0,s.assertArgument)(p!=null,"invalid pbkdf2 algorithm","algorithm",d),(0,e.pbkdf2)(p,h,b,{c:k,dkLen:E})}zt.pbkdf2Sync=c;function f(h){(0,s.assert)(o!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),(0,s.assertArgument)(Number.isInteger(h)&&h>0&&h<=1024,"invalid length","length",h);const b=new Uint8Array(h);return o.getRandomValues(b),b}return zt.randomBytes=f,zt}var hf;function Gw(){if(hf)return Is;hf=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.computeHmac=void 0;const t=Wa(),e=fe();let r=!1;const n=function(a,o,u){return(0,t.createHmac)(a,o).update(u).digest()};let s=n;function i(a,o,u){const l=(0,e.getBytes)(o,"key"),c=(0,e.getBytes)(u,"data");return(0,e.hexlify)(s(a,l,c))}return Is.computeHmac=i,i._=n,i.lock=function(){r=!0},i.register=function(a){if(r)throw new Error("computeHmac is locked");s=a},Object.freeze(i),Is}var Ls={},Ue={},gf;function Vw(){if(gf)return Ue;gf=1,Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.shake256=Ue.shake128=Ue.keccak_512=Ue.keccak_384=Ue.keccak_256=Ue.keccak_224=Ue.sha3_512=Ue.sha3_384=Ue.sha3_256=Ue.sha3_224=Ue.Keccak=Ue.keccakP=void 0;const t=na(),e=Og(),r=dr(),[n,s,i]=[[],[],[]],a=BigInt(0),o=BigInt(1),u=BigInt(2),l=BigInt(7),c=BigInt(256),f=BigInt(113);for(let x=0,O=o,P=1,A=0;x<24;x++){[P,A]=[A,(2*P+3*A)%5],n.push(2*(5*A+P)),s.push((x+1)*(x+2)/2%64);let g=a;for(let B=0;B<7;B++)O=(O<<o^(O>>l)*f)%c,O&u&&(g^=o<<(o<<BigInt(B))-o);i.push(g)}const[h,b]=(0,e.split)(i,!0),k=(x,O,P)=>P>32?(0,e.rotlBH)(x,O,P):(0,e.rotlSH)(x,O,P),E=(x,O,P)=>P>32?(0,e.rotlBL)(x,O,P):(0,e.rotlSL)(x,O,P);function d(x,O=24){const P=new Uint32Array(10);for(let A=24-O;A<24;A++){for(let C=0;C<10;C++)P[C]=x[C]^x[C+10]^x[C+20]^x[C+30]^x[C+40];for(let C=0;C<10;C+=2){const N=(C+8)%10,F=(C+2)%10,U=P[F],I=P[F+1],v=k(U,I,1)^P[N],m=E(U,I,1)^P[N+1];for(let R=0;R<50;R+=10)x[C+R]^=v,x[C+R+1]^=m}let g=x[2],B=x[3];for(let C=0;C<24;C++){const N=s[C],F=k(g,B,N),U=E(g,B,N),I=n[C];g=x[I],B=x[I+1],x[I]=F,x[I+1]=U}for(let C=0;C<50;C+=10){for(let N=0;N<10;N++)P[N]=x[C+N];for(let N=0;N<10;N++)x[C+N]^=~P[(N+2)%10]&P[(N+4)%10]}x[0]^=h[A],x[1]^=b[A]}P.fill(0)}Ue.keccakP=d;class p extends r.Hash{constructor(O,P,A,g=!1,B=24){if(super(),this.blockLen=O,this.suffix=P,this.outputLen=A,this.enableXOF=g,this.rounds=B,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.number)(A),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,r.u32)(this.state)}keccak(){d(this.state32,this.rounds),this.posOut=0,this.pos=0}update(O){(0,t.exists)(this);const{blockLen:P,state:A}=this;O=(0,r.toBytes)(O);const g=O.length;for(let B=0;B<g;){const C=Math.min(P-this.pos,g-B);for(let N=0;N<C;N++)A[this.pos++]^=O[B++];this.pos===P&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:O,suffix:P,pos:A,blockLen:g}=this;O[A]^=P,(P&128)!==0&&A===g-1&&this.keccak(),O[g-1]^=128,this.keccak()}writeInto(O){(0,t.exists)(this,!1),(0,t.bytes)(O),this.finish();const P=this.state,{blockLen:A}=this;for(let g=0,B=O.length;g<B;){this.posOut>=A&&this.keccak();const C=Math.min(A-this.posOut,B-g);O.set(P.subarray(this.posOut,this.posOut+C),g),this.posOut+=C,g+=C}return O}xofInto(O){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(O)}xof(O){return(0,t.number)(O),this.xofInto(new Uint8Array(O))}digestInto(O){if((0,t.output)(O,this),this.finished)throw new Error("digest() was already called");return this.writeInto(O),this.destroy(),O}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(O){const{blockLen:P,suffix:A,outputLen:g,rounds:B,enableXOF:C}=this;return O||(O=new p(P,A,g,C,B)),O.state32.set(this.state32),O.pos=this.pos,O.posOut=this.posOut,O.finished=this.finished,O.rounds=B,O.suffix=A,O.outputLen=g,O.enableXOF=C,O.destroyed=this.destroyed,O}}Ue.Keccak=p;const y=(x,O,P)=>(0,r.wrapConstructor)(()=>new p(O,x,P));Ue.sha3_224=y(6,144,224/8),Ue.sha3_256=y(6,136,256/8),Ue.sha3_384=y(6,104,384/8),Ue.sha3_512=y(6,72,512/8),Ue.keccak_224=y(1,144,224/8),Ue.keccak_256=y(1,136,256/8),Ue.keccak_384=y(1,104,384/8),Ue.keccak_512=y(1,72,512/8);const w=(x,O,P)=>(0,r.wrapXOFConstructorWithOpts)((A={})=>new p(O,x,A.dkLen===void 0?P:A.dkLen,!0));return Ue.shake128=w(31,168,128/8),Ue.shake256=w(31,136,256/8),Ue}var pf;function Qw(){if(pf)return Ls;pf=1,Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.keccak256=void 0;const t=Vw(),e=fe();let r=!1;const n=function(a){return(0,t.keccak_256)(a)};let s=n;function i(a){const o=(0,e.getBytes)(a,"data");return(0,e.hexlify)(s(o))}return Ls.keccak256=i,i._=n,i.lock=function(){r=!0},i.register=function(a){if(r)throw new TypeError("keccak256 is locked");s=a},Object.freeze(i),Ls}var Fs={},cn={},bf;function Jw(){if(bf)return cn;bf=1,Object.defineProperty(cn,"__esModule",{value:!0}),cn.ripemd160=cn.RIPEMD160=void 0;const t=$c(),e=dr(),r=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),n=Uint8Array.from({length:16},(d,p)=>p),s=n.map(d=>(9*d+5)%16);let i=[n],a=[s];for(let d=0;d<4;d++)for(let p of[i,a])p.push(p[d].map(y=>r[y]));const o=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(d=>new Uint8Array(d)),u=i.map((d,p)=>d.map(y=>o[p][y])),l=a.map((d,p)=>d.map(y=>o[p][y])),c=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),f=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),h=(d,p)=>d<<p|d>>>32-p;function b(d,p,y,w){return d===0?p^y^w:d===1?p&y|~p&w:d===2?(p|~y)^w:d===3?p&w|y&~w:p^(y|~w)}const k=new Uint32Array(16);class E extends t.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:p,h1:y,h2:w,h3:x,h4:O}=this;return[p,y,w,x,O]}set(p,y,w,x,O){this.h0=p|0,this.h1=y|0,this.h2=w|0,this.h3=x|0,this.h4=O|0}process(p,y){for(let U=0;U<16;U++,y+=4)k[U]=p.getUint32(y,!0);let w=this.h0|0,x=w,O=this.h1|0,P=O,A=this.h2|0,g=A,B=this.h3|0,C=B,N=this.h4|0,F=N;for(let U=0;U<5;U++){const I=4-U,v=c[U],m=f[U],R=i[U],S=a[U],_=u[U],L=l[U];for(let D=0;D<16;D++){const M=h(w+b(U,O,A,B)+k[R[D]]+v,_[D])+N|0;w=N,N=B,B=h(A,10)|0,A=O,O=M}for(let D=0;D<16;D++){const M=h(x+b(I,P,g,C)+k[S[D]]+m,L[D])+F|0;x=F,F=C,C=h(g,10)|0,g=P,P=M}}this.set(this.h1+A+C|0,this.h2+B+F|0,this.h3+N+x|0,this.h4+w+P|0,this.h0+O+g|0)}roundClean(){k.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}return cn.RIPEMD160=E,cn.ripemd160=(0,e.wrapConstructor)(()=>new E),cn}var mf;function zw(){if(mf)return Fs;mf=1,Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.ripemd160=void 0;const t=Jw(),e=fe();let r=!1;const n=function(a){return(0,t.ripemd160)(a)};let s=n;function i(a){const o=(0,e.getBytes)(a,"data");return(0,e.hexlify)(s(o))}return Fs.ripemd160=i,i._=n,i.lock=function(){r=!0},i.register=function(a){if(r)throw new TypeError("ripemd160 is locked");s=a},Object.freeze(i),Fs}var Ds={},yf;function Kw(){if(yf)return Ds;yf=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.pbkdf2=void 0;const t=Wa(),e=fe();let r=!1;const n=function(a,o,u,l,c){return(0,t.pbkdf2Sync)(a,o,u,l,c)};let s=n;function i(a,o,u,l,c){const f=(0,e.getBytes)(a,"password"),h=(0,e.getBytes)(o,"salt");return(0,e.hexlify)(s(f,h,u,l,c))}return Ds.pbkdf2=i,i._=n,i.lock=function(){r=!0},i.register=function(a){if(r)throw new Error("pbkdf2 is locked");s=a},Object.freeze(i),Ds}var Ms={},xf;function qw(){if(xf)return Ms;xf=1,Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.randomBytes=void 0;const t=Wa();let e=!1;const r=function(i){return new Uint8Array((0,t.randomBytes)(i))};let n=r;function s(i){return n(i)}return Ms.randomBytes=s,s._=r,s.lock=function(){e=!0},s.register=function(i){if(e)throw new Error("randomBytes is locked");n=i},Object.freeze(s),Ms}var un={},ln={},wf;function Ww(){if(wf)return ln;wf=1,Object.defineProperty(ln,"__esModule",{value:!0}),ln.scryptAsync=ln.scrypt=void 0;const t=na(),e=eu(),r=vg(),n=dr(),s=(f,h)=>f<<h|f>>>32-h;function i(f,h,b,k,E,d){let p=f[h++]^b[k++],y=f[h++]^b[k++],w=f[h++]^b[k++],x=f[h++]^b[k++],O=f[h++]^b[k++],P=f[h++]^b[k++],A=f[h++]^b[k++],g=f[h++]^b[k++],B=f[h++]^b[k++],C=f[h++]^b[k++],N=f[h++]^b[k++],F=f[h++]^b[k++],U=f[h++]^b[k++],I=f[h++]^b[k++],v=f[h++]^b[k++],m=f[h++]^b[k++],R=p,S=y,_=w,L=x,D=O,M=P,Q=A,j=g,J=B,q=C,ee=N,te=F,Z=U,ie=I,pe=v,de=m;for(let ne=0;ne<8;ne+=2)D^=s(R+Z|0,7),J^=s(D+R|0,9),Z^=s(J+D|0,13),R^=s(Z+J|0,18),q^=s(M+S|0,7),ie^=s(q+M|0,9),S^=s(ie+q|0,13),M^=s(S+ie|0,18),pe^=s(ee+Q|0,7),_^=s(pe+ee|0,9),Q^=s(_+pe|0,13),ee^=s(Q+_|0,18),L^=s(de+te|0,7),j^=s(L+de|0,9),te^=s(j+L|0,13),de^=s(te+j|0,18),S^=s(R+L|0,7),_^=s(S+R|0,9),L^=s(_+S|0,13),R^=s(L+_|0,18),Q^=s(M+D|0,7),j^=s(Q+M|0,9),D^=s(j+Q|0,13),M^=s(D+j|0,18),te^=s(ee+q|0,7),J^=s(te+ee|0,9),q^=s(J+te|0,13),ee^=s(q+J|0,18),Z^=s(de+pe|0,7),ie^=s(Z+de|0,9),pe^=s(ie+Z|0,13),de^=s(pe+ie|0,18);E[d++]=p+R|0,E[d++]=y+S|0,E[d++]=w+_|0,E[d++]=x+L|0,E[d++]=O+D|0,E[d++]=P+M|0,E[d++]=A+Q|0,E[d++]=g+j|0,E[d++]=B+J|0,E[d++]=C+q|0,E[d++]=N+ee|0,E[d++]=F+te|0,E[d++]=U+Z|0,E[d++]=I+ie|0,E[d++]=v+pe|0,E[d++]=m+de|0}function a(f,h,b,k,E){let d=k+0,p=k+16*E;for(let y=0;y<16;y++)b[p+y]=f[h+(2*E-1)*16+y];for(let y=0;y<E;y++,d+=16,h+=16)i(b,p,f,h,b,d),y>0&&(p+=16),i(b,d,f,h+=16,b,p)}function o(f,h,b){const k=(0,n.checkOpts)({dkLen:32,asyncTick:10,maxmem:1073742848},b),{N:E,r:d,p,dkLen:y,asyncTick:w,maxmem:x,onProgress:O}=k;if((0,t.number)(E),(0,t.number)(d),(0,t.number)(p),(0,t.number)(y),(0,t.number)(w),(0,t.number)(x),O!==void 0&&typeof O!="function")throw new Error("progressCb should be function");const P=128*d,A=P/4;if(E<=1||(E&E-1)!==0||E>=2**(P/8)||E>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(p<0||p>(2**32-1)*32/P)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(y<0||y>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const g=P*(E+p);if(g>x)throw new Error(`Scrypt: parameters too large, ${g} (128 * r * (N + p)) > ${x} (maxmem)`);const B=(0,r.pbkdf2)(e.sha256,f,h,{c:1,dkLen:P*p}),C=(0,n.u32)(B),N=(0,n.u32)(new Uint8Array(P*E)),F=(0,n.u32)(new Uint8Array(P));let U=()=>{};if(O){const I=2*E*p,v=Math.max(Math.floor(I/1e4),1);let m=0;U=()=>{m++,O&&(!(m%v)||m===I)&&O(m/I)}}return{N:E,r:d,p,dkLen:y,blockSize32:A,V:N,B32:C,B,tmp:F,blockMixCb:U,asyncTick:w}}function u(f,h,b,k,E){const d=(0,r.pbkdf2)(e.sha256,f,b,{c:1,dkLen:h});return b.fill(0),k.fill(0),E.fill(0),d}function l(f,h,b){const{N:k,r:E,p:d,dkLen:p,blockSize32:y,V:w,B32:x,B:O,tmp:P,blockMixCb:A}=o(f,h,b);for(let g=0;g<d;g++){const B=y*g;for(let C=0;C<y;C++)w[C]=x[B+C];for(let C=0,N=0;C<k-1;C++)a(w,N,w,N+=y,E),A();a(w,(k-1)*y,x,B,E),A();for(let C=0;C<k;C++){const N=x[B+y-16]%k;for(let F=0;F<y;F++)P[F]=x[B+F]^w[N*y+F];a(P,0,x,B,E),A()}}return u(f,p,O,w,P)}ln.scrypt=l;async function c(f,h,b){const{N:k,r:E,p:d,dkLen:p,blockSize32:y,V:w,B32:x,B:O,tmp:P,blockMixCb:A,asyncTick:g}=o(f,h,b);for(let B=0;B<d;B++){const C=y*B;for(let F=0;F<y;F++)w[F]=x[C+F];let N=0;await(0,n.asyncLoop)(k-1,g,()=>{a(w,N,w,N+=y,E),A()}),a(w,(k-1)*y,x,C,E),A(),await(0,n.asyncLoop)(k,g,()=>{const F=x[C+y-16]%k;for(let U=0;U<y;U++)P[U]=x[C+U]^w[F*y+U];a(P,0,x,C,E),A()})}return u(f,p,O,w,P)}return ln.scryptAsync=c,ln}var Af;function Zw(){if(Af)return un;Af=1,Object.defineProperty(un,"__esModule",{value:!0}),un.scryptSync=un.scrypt=void 0;const t=Ww(),e=fe();let r=!1,n=!1;const s=async function(c,f,h,b,k,E,d){return await(0,t.scryptAsync)(c,f,{N:h,r:b,p:k,dkLen:E,onProgress:d})},i=function(c,f,h,b,k,E){return(0,t.scrypt)(c,f,{N:h,r:b,p:k,dkLen:E})};let a=s,o=i;async function u(c,f,h,b,k,E,d){const p=(0,e.getBytes)(c,"passwd"),y=(0,e.getBytes)(f,"salt");return(0,e.hexlify)(await a(p,y,h,b,k,E,d))}un.scrypt=u,u._=s,u.lock=function(){n=!0},u.register=function(c){if(n)throw new Error("scrypt is locked");a=c},Object.freeze(u);function l(c,f,h,b,k,E){const d=(0,e.getBytes)(c,"passwd"),p=(0,e.getBytes)(f,"salt");return(0,e.hexlify)(o(d,p,h,b,k,E))}return un.scryptSync=l,l._=i,l.lock=function(){r=!0},l.register=function(c){if(r)throw new Error("scryptSync is locked");o=c},Object.freeze(l),un}var fn={},Ef;function Yw(){if(Ef)return fn;Ef=1,Object.defineProperty(fn,"__esModule",{value:!0}),fn.sha512=fn.sha256=void 0;const t=Wa(),e=fe(),r=function(c){return(0,t.createHash)("sha256").update(c).digest()},n=function(c){return(0,t.createHash)("sha512").update(c).digest()};let s=r,i=n,a=!1,o=!1;function u(c){const f=(0,e.getBytes)(c,"data");return(0,e.hexlify)(s(f))}fn.sha256=u,u._=r,u.lock=function(){a=!0},u.register=function(c){if(a)throw new Error("sha256 is locked");s=c},Object.freeze(u);function l(c){const f=(0,e.getBytes)(c,"data");return(0,e.hexlify)(i(f))}return fn.sha512=l,l._=n,l.lock=function(){o=!0},l.register=function(c){if(o)throw new Error("sha512 is locked");i=c},Object.freeze(u),fn}var js={},Do={},Ee={},Pe={},Pf;function bs(){if(Pf)return Pe;Pf=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.validateObject=Pe.createHmacDrbg=Pe.bitMask=Pe.bitSet=Pe.bitGet=Pe.bitLen=Pe.utf8ToBytes=Pe.equalBytes=Pe.concatBytes=Pe.ensureBytes=Pe.numberToVarBytesBE=Pe.numberToBytesLE=Pe.numberToBytesBE=Pe.bytesToNumberLE=Pe.bytesToNumberBE=Pe.hexToBytes=Pe.hexToNumber=Pe.numberToHexUnpadded=Pe.bytesToHex=void 0;const t=BigInt(0),e=BigInt(1),r=BigInt(2),n=N=>N instanceof Uint8Array,s=Array.from({length:256},(N,F)=>F.toString(16).padStart(2,"0"));function i(N){if(!n(N))throw new Error("Uint8Array expected");let F="";for(let U=0;U<N.length;U++)F+=s[N[U]];return F}Pe.bytesToHex=i;function a(N){const F=N.toString(16);return F.length&1?`0${F}`:F}Pe.numberToHexUnpadded=a;function o(N){if(typeof N!="string")throw new Error("hex string expected, got "+typeof N);return BigInt(N===""?"0":`0x${N}`)}Pe.hexToNumber=o;function u(N){if(typeof N!="string")throw new Error("hex string expected, got "+typeof N);const F=N.length;if(F%2)throw new Error("padded hex string expected, got unpadded hex of length "+F);const U=new Uint8Array(F/2);for(let I=0;I<U.length;I++){const v=I*2,m=N.slice(v,v+2),R=Number.parseInt(m,16);if(Number.isNaN(R)||R<0)throw new Error("Invalid byte sequence");U[I]=R}return U}Pe.hexToBytes=u;function l(N){return o(i(N))}Pe.bytesToNumberBE=l;function c(N){if(!n(N))throw new Error("Uint8Array expected");return o(i(Uint8Array.from(N).reverse()))}Pe.bytesToNumberLE=c;function f(N,F){return u(N.toString(16).padStart(F*2,"0"))}Pe.numberToBytesBE=f;function h(N,F){return f(N,F).reverse()}Pe.numberToBytesLE=h;function b(N){return u(a(N))}Pe.numberToVarBytesBE=b;function k(N,F,U){let I;if(typeof F=="string")try{I=u(F)}catch(m){throw new Error(`${N} must be valid hex string, got "${F}". Cause: ${m}`)}else if(n(F))I=Uint8Array.from(F);else throw new Error(`${N} must be hex string or Uint8Array`);const v=I.length;if(typeof U=="number"&&v!==U)throw new Error(`${N} expected ${U} bytes, got ${v}`);return I}Pe.ensureBytes=k;function E(...N){const F=new Uint8Array(N.reduce((I,v)=>I+v.length,0));let U=0;return N.forEach(I=>{if(!n(I))throw new Error("Uint8Array expected");F.set(I,U),U+=I.length}),F}Pe.concatBytes=E;function d(N,F){if(N.length!==F.length)return!1;for(let U=0;U<N.length;U++)if(N[U]!==F[U])return!1;return!0}Pe.equalBytes=d;function p(N){if(typeof N!="string")throw new Error(`utf8ToBytes expected string, got ${typeof N}`);return new Uint8Array(new TextEncoder().encode(N))}Pe.utf8ToBytes=p;function y(N){let F;for(F=0;N>t;N>>=e,F+=1);return F}Pe.bitLen=y;function w(N,F){return N>>BigInt(F)&e}Pe.bitGet=w;const x=(N,F,U)=>N|(U?e:t)<<BigInt(F);Pe.bitSet=x;const O=N=>(r<<BigInt(N-1))-e;Pe.bitMask=O;const P=N=>new Uint8Array(N),A=N=>Uint8Array.from(N);function g(N,F,U){if(typeof N!="number"||N<2)throw new Error("hashLen must be a number");if(typeof F!="number"||F<2)throw new Error("qByteLen must be a number");if(typeof U!="function")throw new Error("hmacFn must be a function");let I=P(N),v=P(N),m=0;const R=()=>{I.fill(1),v.fill(0),m=0},S=(...M)=>U(v,I,...M),_=(M=P())=>{v=S(A([0]),M),I=S(),M.length!==0&&(v=S(A([1]),M),I=S())},L=()=>{if(m++>=1e3)throw new Error("drbg: tried 1000 values");let M=0;const Q=[];for(;M<F;){I=S();const j=I.slice();Q.push(j),M+=I.length}return E(...Q)};return(M,Q)=>{R(),_(M);let j;for(;!(j=Q(L()));)_();return R(),j}}Pe.createHmacDrbg=g;const B={bigint:N=>typeof N=="bigint",function:N=>typeof N=="function",boolean:N=>typeof N=="boolean",string:N=>typeof N=="string",stringOrUint8Array:N=>typeof N=="string"||N instanceof Uint8Array,isSafeInteger:N=>Number.isSafeInteger(N),array:N=>Array.isArray(N),field:(N,F)=>F.Fp.isValid(N),hash:N=>typeof N=="function"&&Number.isSafeInteger(N.outputLen)};function C(N,F,U={}){const I=(v,m,R)=>{const S=B[m];if(typeof S!="function")throw new Error(`Invalid validator "${m}", expected function`);const _=N[v];if(!(R&&_===void 0)&&!S(_,N))throw new Error(`Invalid param ${String(v)}=${_} (${typeof _}), expected ${m}`)};for(const[v,m]of Object.entries(F))I(v,m,!1);for(const[v,m]of Object.entries(U))I(v,m,!0);return N}return Pe.validateObject=C,Pe}var vf;function Za(){if(vf)return Ee;vf=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.mapHashToField=Ee.getMinHashLength=Ee.getFieldBytesLength=Ee.hashToPrivateScalar=Ee.FpSqrtEven=Ee.FpSqrtOdd=Ee.Field=Ee.nLength=Ee.FpIsSquare=Ee.FpDiv=Ee.FpInvertBatch=Ee.FpPow=Ee.validateField=Ee.isNegativeLE=Ee.FpSqrt=Ee.tonelliShanks=Ee.invert=Ee.pow2=Ee.pow=Ee.mod=void 0;const t=bs(),e=BigInt(0),r=BigInt(1),n=BigInt(2),s=BigInt(3),i=BigInt(4),a=BigInt(5),o=BigInt(8);BigInt(9),BigInt(16);function u(U,I){const v=U%I;return v>=e?v:I+v}Ee.mod=u;function l(U,I,v){if(v<=e||I<e)throw new Error("Expected power/modulo > 0");if(v===r)return e;let m=r;for(;I>e;)I&r&&(m=m*U%v),U=U*U%v,I>>=r;return m}Ee.pow=l;function c(U,I,v){let m=U;for(;I-- >e;)m*=m,m%=v;return m}Ee.pow2=c;function f(U,I){if(U===e||I<=e)throw new Error(`invert: expected positive integers, got n=${U} mod=${I}`);let v=u(U,I),m=I,R=e,S=r;for(;v!==e;){const L=m/v,D=m%v,M=R-S*L;m=v,v=D,R=S,S=M}if(m!==r)throw new Error("invert: does not exist");return u(R,I)}Ee.invert=f;function h(U){const I=(U-r)/n;let v,m,R;for(v=U-r,m=0;v%n===e;v/=n,m++);for(R=n;R<U&&l(R,I,U)!==U-r;R++);if(m===1){const _=(U+r)/i;return function(D,M){const Q=D.pow(M,_);if(!D.eql(D.sqr(Q),M))throw new Error("Cannot find square root");return Q}}const S=(v+r)/n;return function(L,D){if(L.pow(D,I)===L.neg(L.ONE))throw new Error("Cannot find square root");let M=m,Q=L.pow(L.mul(L.ONE,R),v),j=L.pow(D,S),J=L.pow(D,v);for(;!L.eql(J,L.ONE);){if(L.eql(J,L.ZERO))return L.ZERO;let q=1;for(let te=L.sqr(J);q<M&&!L.eql(te,L.ONE);q++)te=L.sqr(te);const ee=L.pow(Q,r<<BigInt(M-q-1));Q=L.sqr(ee),j=L.mul(j,ee),J=L.mul(J,Q),M=q}return j}}Ee.tonelliShanks=h;function b(U){if(U%i===s){const I=(U+r)/i;return function(m,R){const S=m.pow(R,I);if(!m.eql(m.sqr(S),R))throw new Error("Cannot find square root");return S}}if(U%o===a){const I=(U-a)/o;return function(m,R){const S=m.mul(R,n),_=m.pow(S,I),L=m.mul(R,_),D=m.mul(m.mul(L,n),_),M=m.mul(L,m.sub(D,m.ONE));if(!m.eql(m.sqr(M),R))throw new Error("Cannot find square root");return M}}return h(U)}Ee.FpSqrt=b;const k=(U,I)=>(u(U,I)&r)===r;Ee.isNegativeLE=k;const E=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function d(U){const I={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},v=E.reduce((m,R)=>(m[R]="function",m),I);return(0,t.validateObject)(U,v)}Ee.validateField=d;function p(U,I,v){if(v<e)throw new Error("Expected power > 0");if(v===e)return U.ONE;if(v===r)return I;let m=U.ONE,R=I;for(;v>e;)v&r&&(m=U.mul(m,R)),R=U.sqr(R),v>>=r;return m}Ee.FpPow=p;function y(U,I){const v=new Array(I.length),m=I.reduce((S,_,L)=>U.is0(_)?S:(v[L]=S,U.mul(S,_)),U.ONE),R=U.inv(m);return I.reduceRight((S,_,L)=>U.is0(_)?S:(v[L]=U.mul(S,v[L]),U.mul(S,_)),R),v}Ee.FpInvertBatch=y;function w(U,I,v){return U.mul(I,typeof v=="bigint"?f(v,U.ORDER):U.inv(v))}Ee.FpDiv=w;function x(U){const I=(U.ORDER-r)/n;return v=>{const m=U.pow(v,I);return U.eql(m,U.ZERO)||U.eql(m,U.ONE)}}Ee.FpIsSquare=x;function O(U,I){const v=I!==void 0?I:U.toString(2).length,m=Math.ceil(v/8);return{nBitLength:v,nByteLength:m}}Ee.nLength=O;function P(U,I,v=!1,m={}){if(U<=e)throw new Error(`Expected Field ORDER > 0, got ${U}`);const{nBitLength:R,nByteLength:S}=O(U,I);if(S>2048)throw new Error("Field lengths over 2048 bytes are not supported");const _=b(U),L=Object.freeze({ORDER:U,BITS:R,BYTES:S,MASK:(0,t.bitMask)(R),ZERO:e,ONE:r,create:D=>u(D,U),isValid:D=>{if(typeof D!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof D}`);return e<=D&&D<U},is0:D=>D===e,isOdd:D=>(D&r)===r,neg:D=>u(-D,U),eql:(D,M)=>D===M,sqr:D=>u(D*D,U),add:(D,M)=>u(D+M,U),sub:(D,M)=>u(D-M,U),mul:(D,M)=>u(D*M,U),pow:(D,M)=>p(L,D,M),div:(D,M)=>u(D*f(M,U),U),sqrN:D=>D*D,addN:(D,M)=>D+M,subN:(D,M)=>D-M,mulN:(D,M)=>D*M,inv:D=>f(D,U),sqrt:m.sqrt||(D=>_(L,D)),invertBatch:D=>y(L,D),cmov:(D,M,Q)=>Q?M:D,toBytes:D=>v?(0,t.numberToBytesLE)(D,S):(0,t.numberToBytesBE)(D,S),fromBytes:D=>{if(D.length!==S)throw new Error(`Fp.fromBytes: expected ${S}, got ${D.length}`);return v?(0,t.bytesToNumberLE)(D):(0,t.bytesToNumberBE)(D)}});return Object.freeze(L)}Ee.Field=P;function A(U,I){if(!U.isOdd)throw new Error("Field doesn't have isOdd");const v=U.sqrt(I);return U.isOdd(v)?v:U.neg(v)}Ee.FpSqrtOdd=A;function g(U,I){if(!U.isOdd)throw new Error("Field doesn't have isOdd");const v=U.sqrt(I);return U.isOdd(v)?U.neg(v):v}Ee.FpSqrtEven=g;function B(U,I,v=!1){U=(0,t.ensureBytes)("privateHash",U);const m=U.length,R=O(I).nByteLength+8;if(R<24||m<R||m>1024)throw new Error(`hashToPrivateScalar: expected ${R}-1024 bytes of input, got ${m}`);const S=v?(0,t.bytesToNumberLE)(U):(0,t.bytesToNumberBE)(U);return u(S,I-r)+r}Ee.hashToPrivateScalar=B;function C(U){if(typeof U!="bigint")throw new Error("field order must be bigint");const I=U.toString(2).length;return Math.ceil(I/8)}Ee.getFieldBytesLength=C;function N(U){const I=C(U);return I+Math.ceil(I/2)}Ee.getMinHashLength=N;function F(U,I,v=!1){const m=U.length,R=C(I),S=N(I);if(m<16||m<S||m>1024)throw new Error(`expected ${S}-1024 bytes of input, got ${m}`);const _=v?(0,t.bytesToNumberBE)(U):(0,t.bytesToNumberLE)(U),L=u(_,I-r)+r;return v?(0,t.numberToBytesLE)(L,R):(0,t.numberToBytesBE)(L,R)}return Ee.mapHashToField=F,Ee}var Mo={},dn={},Of;function Xw(){if(Of)return dn;Of=1,Object.defineProperty(dn,"__esModule",{value:!0}),dn.validateBasic=dn.wNAF=void 0;const t=Za(),e=bs(),r=BigInt(0),n=BigInt(1);function s(a,o){const u=(c,f)=>{const h=f.negate();return c?h:f},l=c=>{const f=Math.ceil(o/c)+1,h=2**(c-1);return{windows:f,windowSize:h}};return{constTimeNegate:u,unsafeLadder(c,f){let h=a.ZERO,b=c;for(;f>r;)f&n&&(h=h.add(b)),b=b.double(),f>>=n;return h},precomputeWindow(c,f){const{windows:h,windowSize:b}=l(f),k=[];let E=c,d=E;for(let p=0;p<h;p++){d=E,k.push(d);for(let y=1;y<b;y++)d=d.add(E),k.push(d);E=d.double()}return k},wNAF(c,f,h){const{windows:b,windowSize:k}=l(c);let E=a.ZERO,d=a.BASE;const p=BigInt(2**c-1),y=2**c,w=BigInt(c);for(let x=0;x<b;x++){const O=x*k;let P=Number(h&p);h>>=w,P>k&&(P-=y,h+=n);const A=O,g=O+Math.abs(P)-1,B=x%2!==0,C=P<0;P===0?d=d.add(u(B,f[A])):E=E.add(u(C,f[g]))}return{p:E,f:d}},wNAFCached(c,f,h,b){const k=c._WINDOW_SIZE||1;let E=f.get(c);return E||(E=this.precomputeWindow(c,k),k!==1&&f.set(c,b(E))),this.wNAF(k,E,h)}}}dn.wNAF=s;function i(a){return(0,t.validateField)(a.Fp),(0,e.validateObject)(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,t.nLength)(a.n,a.nBitLength),...a,p:a.Fp.ORDER})}return dn.validateBasic=i,dn}var kf;function kg(){return kf||(kf=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.mapToCurveSimpleSWU=t.SWUFpSqrtRatio=t.weierstrass=t.weierstrassPoints=t.DER=void 0;const e=Za(),r=bs(),n=bs(),s=Xw();function i(y){const w=(0,s.validateBasic)(y);r.validateObject(w,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:x,Fp:O,a:P}=w;if(x){if(!O.eql(P,O.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof x!="object"||typeof x.beta!="bigint"||typeof x.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...w})}const{bytesToNumberBE:a,hexToBytes:o}=r;t.DER={Err:class extends Error{constructor(w=""){super(w)}},_parseInt(y){const{Err:w}=t.DER;if(y.length<2||y[0]!==2)throw new w("Invalid signature integer tag");const x=y[1],O=y.subarray(2,x+2);if(!x||O.length!==x)throw new w("Invalid signature integer: wrong length");if(O[0]&128)throw new w("Invalid signature integer: negative");if(O[0]===0&&!(O[1]&128))throw new w("Invalid signature integer: unnecessary leading zero");return{d:a(O),l:y.subarray(x+2)}},toSig(y){const{Err:w}=t.DER,x=typeof y=="string"?o(y):y;if(!(x instanceof Uint8Array))throw new Error("ui8a expected");let O=x.length;if(O<2||x[0]!=48)throw new w("Invalid signature tag");if(x[1]!==O-2)throw new w("Invalid signature: incorrect length");const{d:P,l:A}=t.DER._parseInt(x.subarray(2)),{d:g,l:B}=t.DER._parseInt(A);if(B.length)throw new w("Invalid signature: left bytes after parsing");return{r:P,s:g}},hexFromSig(y){const w=N=>Number.parseInt(N[0],16)&8?"00"+N:N,x=N=>{const F=N.toString(16);return F.length&1?`0${F}`:F},O=w(x(y.s)),P=w(x(y.r)),A=O.length/2,g=P.length/2,B=x(A),C=x(g);return`30${x(g+A+4)}02${C}${P}02${B}${O}`}};const u=BigInt(0),l=BigInt(1),c=BigInt(2),f=BigInt(3),h=BigInt(4);function b(y){const w=i(y),{Fp:x}=w,O=w.toBytes||((m,R,S)=>{const _=R.toAffine();return r.concatBytes(Uint8Array.from([4]),x.toBytes(_.x),x.toBytes(_.y))}),P=w.fromBytes||(m=>{const R=m.subarray(1),S=x.fromBytes(R.subarray(0,x.BYTES)),_=x.fromBytes(R.subarray(x.BYTES,2*x.BYTES));return{x:S,y:_}});function A(m){const{a:R,b:S}=w,_=x.sqr(m),L=x.mul(_,m);return x.add(x.add(L,x.mul(m,R)),S)}if(!x.eql(x.sqr(w.Gy),A(w.Gx)))throw new Error("bad generator point: equation left != right");function g(m){return typeof m=="bigint"&&u<m&&m<w.n}function B(m){if(!g(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function C(m){const{allowedPrivateKeyLengths:R,nByteLength:S,wrapPrivateKey:_,n:L}=w;if(R&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=r.bytesToHex(m)),typeof m!="string"||!R.includes(m.length))throw new Error("Invalid key");m=m.padStart(S*2,"0")}let D;try{D=typeof m=="bigint"?m:r.bytesToNumberBE((0,n.ensureBytes)("private key",m,S))}catch{throw new Error(`private key must be ${S} bytes, hex or bigint, not ${typeof m}`)}return _&&(D=e.mod(D,L)),B(D),D}const N=new Map;function F(m){if(!(m instanceof U))throw new Error("ProjectivePoint expected")}class U{constructor(R,S,_){if(this.px=R,this.py=S,this.pz=_,R==null||!x.isValid(R))throw new Error("x required");if(S==null||!x.isValid(S))throw new Error("y required");if(_==null||!x.isValid(_))throw new Error("z required")}static fromAffine(R){const{x:S,y:_}=R||{};if(!R||!x.isValid(S)||!x.isValid(_))throw new Error("invalid affine point");if(R instanceof U)throw new Error("projective point not allowed");const L=D=>x.eql(D,x.ZERO);return L(S)&&L(_)?U.ZERO:new U(S,_,x.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(R){const S=x.invertBatch(R.map(_=>_.pz));return R.map((_,L)=>_.toAffine(S[L])).map(U.fromAffine)}static fromHex(R){const S=U.fromAffine(P((0,n.ensureBytes)("pointHex",R)));return S.assertValidity(),S}static fromPrivateKey(R){return U.BASE.multiply(C(R))}_setWindowSize(R){this._WINDOW_SIZE=R,N.delete(this)}assertValidity(){if(this.is0()){if(w.allowInfinityPoint&&!x.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:R,y:S}=this.toAffine();if(!x.isValid(R)||!x.isValid(S))throw new Error("bad point: x or y not FE");const _=x.sqr(S),L=A(R);if(!x.eql(_,L))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:R}=this.toAffine();if(x.isOdd)return!x.isOdd(R);throw new Error("Field doesn't support isOdd")}equals(R){F(R);const{px:S,py:_,pz:L}=this,{px:D,py:M,pz:Q}=R,j=x.eql(x.mul(S,Q),x.mul(D,L)),J=x.eql(x.mul(_,Q),x.mul(M,L));return j&&J}negate(){return new U(this.px,x.neg(this.py),this.pz)}double(){const{a:R,b:S}=w,_=x.mul(S,f),{px:L,py:D,pz:M}=this;let Q=x.ZERO,j=x.ZERO,J=x.ZERO,q=x.mul(L,L),ee=x.mul(D,D),te=x.mul(M,M),Z=x.mul(L,D);return Z=x.add(Z,Z),J=x.mul(L,M),J=x.add(J,J),Q=x.mul(R,J),j=x.mul(_,te),j=x.add(Q,j),Q=x.sub(ee,j),j=x.add(ee,j),j=x.mul(Q,j),Q=x.mul(Z,Q),J=x.mul(_,J),te=x.mul(R,te),Z=x.sub(q,te),Z=x.mul(R,Z),Z=x.add(Z,J),J=x.add(q,q),q=x.add(J,q),q=x.add(q,te),q=x.mul(q,Z),j=x.add(j,q),te=x.mul(D,M),te=x.add(te,te),q=x.mul(te,Z),Q=x.sub(Q,q),J=x.mul(te,ee),J=x.add(J,J),J=x.add(J,J),new U(Q,j,J)}add(R){F(R);const{px:S,py:_,pz:L}=this,{px:D,py:M,pz:Q}=R;let j=x.ZERO,J=x.ZERO,q=x.ZERO;const ee=w.a,te=x.mul(w.b,f);let Z=x.mul(S,D),ie=x.mul(_,M),pe=x.mul(L,Q),de=x.add(S,_),ne=x.add(D,M);de=x.mul(de,ne),ne=x.add(Z,ie),de=x.sub(de,ne),ne=x.add(S,L);let Y=x.add(D,Q);return ne=x.mul(ne,Y),Y=x.add(Z,pe),ne=x.sub(ne,Y),Y=x.add(_,L),j=x.add(M,Q),Y=x.mul(Y,j),j=x.add(ie,pe),Y=x.sub(Y,j),q=x.mul(ee,ne),j=x.mul(te,pe),q=x.add(j,q),j=x.sub(ie,q),q=x.add(ie,q),J=x.mul(j,q),ie=x.add(Z,Z),ie=x.add(ie,Z),pe=x.mul(ee,pe),ne=x.mul(te,ne),ie=x.add(ie,pe),pe=x.sub(Z,pe),pe=x.mul(ee,pe),ne=x.add(ne,pe),Z=x.mul(ie,ne),J=x.add(J,Z),Z=x.mul(Y,ne),j=x.mul(de,j),j=x.sub(j,Z),Z=x.mul(de,ie),q=x.mul(Y,q),q=x.add(q,Z),new U(j,J,q)}subtract(R){return this.add(R.negate())}is0(){return this.equals(U.ZERO)}wNAF(R){return v.wNAFCached(this,N,R,S=>{const _=x.invertBatch(S.map(L=>L.pz));return S.map((L,D)=>L.toAffine(_[D])).map(U.fromAffine)})}multiplyUnsafe(R){const S=U.ZERO;if(R===u)return S;if(B(R),R===l)return this;const{endo:_}=w;if(!_)return v.unsafeLadder(this,R);let{k1neg:L,k1:D,k2neg:M,k2:Q}=_.splitScalar(R),j=S,J=S,q=this;for(;D>u||Q>u;)D&l&&(j=j.add(q)),Q&l&&(J=J.add(q)),q=q.double(),D>>=l,Q>>=l;return L&&(j=j.negate()),M&&(J=J.negate()),J=new U(x.mul(J.px,_.beta),J.py,J.pz),j.add(J)}multiply(R){B(R);let S=R,_,L;const{endo:D}=w;if(D){const{k1neg:M,k1:Q,k2neg:j,k2:J}=D.splitScalar(S);let{p:q,f:ee}=this.wNAF(Q),{p:te,f:Z}=this.wNAF(J);q=v.constTimeNegate(M,q),te=v.constTimeNegate(j,te),te=new U(x.mul(te.px,D.beta),te.py,te.pz),_=q.add(te),L=ee.add(Z)}else{const{p:M,f:Q}=this.wNAF(S);_=M,L=Q}return U.normalizeZ([_,L])[0]}multiplyAndAddUnsafe(R,S,_){const L=U.BASE,D=(Q,j)=>j===u||j===l||!Q.equals(L)?Q.multiplyUnsafe(j):Q.multiply(j),M=D(this,S).add(D(R,_));return M.is0()?void 0:M}toAffine(R){const{px:S,py:_,pz:L}=this,D=this.is0();R==null&&(R=D?x.ONE:x.inv(L));const M=x.mul(S,R),Q=x.mul(_,R),j=x.mul(L,R);if(D)return{x:x.ZERO,y:x.ZERO};if(!x.eql(j,x.ONE))throw new Error("invZ was invalid");return{x:M,y:Q}}isTorsionFree(){const{h:R,isTorsionFree:S}=w;if(R===l)return!0;if(S)return S(U,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:R,clearCofactor:S}=w;return R===l?this:S?S(U,this):this.multiplyUnsafe(w.h)}toRawBytes(R=!0){return this.assertValidity(),O(U,this,R)}toHex(R=!0){return r.bytesToHex(this.toRawBytes(R))}}U.BASE=new U(w.Gx,w.Gy,x.ONE),U.ZERO=new U(x.ZERO,x.ONE,x.ZERO);const I=w.nBitLength,v=(0,s.wNAF)(U,w.endo?Math.ceil(I/2):I);return{CURVE:w,ProjectivePoint:U,normPrivateKeyToScalar:C,weierstrassEquation:A,isWithinCurveOrder:g}}t.weierstrassPoints=b;function k(y){const w=(0,s.validateBasic)(y);return r.validateObject(w,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...w})}function E(y){const w=k(y),{Fp:x,n:O}=w,P=x.BYTES+1,A=2*x.BYTES+1;function g(ne){return u<ne&&ne<x.ORDER}function B(ne){return e.mod(ne,O)}function C(ne){return e.invert(ne,O)}const{ProjectivePoint:N,normPrivateKeyToScalar:F,weierstrassEquation:U,isWithinCurveOrder:I}=b({...w,toBytes(ne,Y,T){const H=Y.toAffine(),K=x.toBytes(H.x),oe=r.concatBytes;return T?oe(Uint8Array.from([Y.hasEvenY()?2:3]),K):oe(Uint8Array.from([4]),K,x.toBytes(H.y))},fromBytes(ne){const Y=ne.length,T=ne[0],H=ne.subarray(1);if(Y===P&&(T===2||T===3)){const K=r.bytesToNumberBE(H);if(!g(K))throw new Error("Point is not on curve");const oe=U(K);let ce=x.sqrt(oe);const ye=(ce&l)===l;return(T&1)===1!==ye&&(ce=x.neg(ce)),{x:K,y:ce}}else if(Y===A&&T===4){const K=x.fromBytes(H.subarray(0,x.BYTES)),oe=x.fromBytes(H.subarray(x.BYTES,2*x.BYTES));return{x:K,y:oe}}else throw new Error(`Point of length ${Y} was invalid. Expected ${P} compressed bytes or ${A} uncompressed bytes`)}}),v=ne=>r.bytesToHex(r.numberToBytesBE(ne,w.nByteLength));function m(ne){const Y=O>>l;return ne>Y}function R(ne){return m(ne)?B(-ne):ne}const S=(ne,Y,T)=>r.bytesToNumberBE(ne.slice(Y,T));class _{constructor(Y,T,H){this.r=Y,this.s=T,this.recovery=H,this.assertValidity()}static fromCompact(Y){const T=w.nByteLength;return Y=(0,n.ensureBytes)("compactSignature",Y,T*2),new _(S(Y,0,T),S(Y,T,2*T))}static fromDER(Y){const{r:T,s:H}=t.DER.toSig((0,n.ensureBytes)("DER",Y));return new _(T,H)}assertValidity(){if(!I(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!I(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Y){return new _(this.r,this.s,Y)}recoverPublicKey(Y){const{r:T,s:H,recovery:K}=this,oe=J((0,n.ensureBytes)("msgHash",Y));if(K==null||![0,1,2,3].includes(K))throw new Error("recovery id invalid");const ce=K===2||K===3?T+w.n:T;if(ce>=x.ORDER)throw new Error("recovery id 2 or 3 invalid");const ye=(K&1)===0?"02":"03",he=N.fromHex(ye+v(ce)),me=C(ce),Ce=B(-oe*me),Ke=B(H*me),at=N.BASE.multiplyAndAddUnsafe(he,Ce,Ke);if(!at)throw new Error("point at infinify");return at.assertValidity(),at}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,B(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return t.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return v(this.r)+v(this.s)}}const L={isValidPrivateKey(ne){try{return F(ne),!0}catch{return!1}},normPrivateKeyToScalar:F,randomPrivateKey:()=>{const ne=e.getMinHashLength(w.n);return e.mapHashToField(w.randomBytes(ne),w.n)},precompute(ne=8,Y=N.BASE){return Y._setWindowSize(ne),Y.multiply(BigInt(3)),Y}};function D(ne,Y=!0){return N.fromPrivateKey(ne).toRawBytes(Y)}function M(ne){const Y=ne instanceof Uint8Array,T=typeof ne=="string",H=(Y||T)&&ne.length;return Y?H===P||H===A:T?H===2*P||H===2*A:ne instanceof N}function Q(ne,Y,T=!0){if(M(ne))throw new Error("first arg must be private key");if(!M(Y))throw new Error("second arg must be public key");return N.fromHex(Y).multiply(F(ne)).toRawBytes(T)}const j=w.bits2int||function(ne){const Y=r.bytesToNumberBE(ne),T=ne.length*8-w.nBitLength;return T>0?Y>>BigInt(T):Y},J=w.bits2int_modN||function(ne){return B(j(ne))},q=r.bitMask(w.nBitLength);function ee(ne){if(typeof ne!="bigint")throw new Error("bigint expected");if(!(u<=ne&&ne<q))throw new Error(`bigint expected < 2^${w.nBitLength}`);return r.numberToBytesBE(ne,w.nByteLength)}function te(ne,Y,T=Z){if(["recovered","canonical"].some(mt=>mt in T))throw new Error("sign() legacy options not supported");const{hash:H,randomBytes:K}=w;let{lowS:oe,prehash:ce,extraEntropy:ye}=T;oe==null&&(oe=!0),ne=(0,n.ensureBytes)("msgHash",ne),ce&&(ne=(0,n.ensureBytes)("prehashed msgHash",H(ne)));const he=J(ne),me=F(Y),Ce=[ee(me),ee(he)];if(ye!=null){const mt=ye===!0?K(x.BYTES):ye;Ce.push((0,n.ensureBytes)("extraEntropy",mt))}const Ke=r.concatBytes(...Ce),at=he;function hr(mt){const Ht=j(mt);if(!I(Ht))return;const gt=C(Ht),rt=N.BASE.multiply(Ht).toAffine(),sr=B(rt.x);if(sr===u)return;const Dr=B(gt*B(at+sr*me));if(Dr===u)return;let gr=(rt.x===sr?0:2)|Number(rt.y&l),qn=Dr;return oe&&m(Dr)&&(qn=R(Dr),gr^=1),new _(sr,qn,gr)}return{seed:Ke,k2sig:hr}}const Z={lowS:w.lowS,prehash:!1},ie={lowS:w.lowS,prehash:!1};function pe(ne,Y,T=Z){const{seed:H,k2sig:K}=te(ne,Y,T),oe=w;return r.createHmacDrbg(oe.hash.outputLen,oe.nByteLength,oe.hmac)(H,K)}N.BASE._setWindowSize(8);function de(ne,Y,T,H=ie){const K=ne;if(Y=(0,n.ensureBytes)("msgHash",Y),T=(0,n.ensureBytes)("publicKey",T),"strict"in H)throw new Error("options.strict was renamed to lowS");const{lowS:oe,prehash:ce}=H;let ye,he;try{if(typeof K=="string"||K instanceof Uint8Array)try{ye=_.fromDER(K)}catch(rt){if(!(rt instanceof t.DER.Err))throw rt;ye=_.fromCompact(K)}else if(typeof K=="object"&&typeof K.r=="bigint"&&typeof K.s=="bigint"){const{r:rt,s:sr}=K;ye=new _(rt,sr)}else throw new Error("PARSE");he=N.fromHex(T)}catch(rt){if(rt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(oe&&ye.hasHighS())return!1;ce&&(Y=w.hash(Y));const{r:me,s:Ce}=ye,Ke=J(Y),at=C(Ce),hr=B(Ke*at),mt=B(me*at),Ht=N.BASE.multiplyAndAddUnsafe(he,hr,mt)?.toAffine();return Ht?B(Ht.x)===me:!1}return{CURVE:w,getPublicKey:D,getSharedSecret:Q,sign:pe,verify:de,ProjectivePoint:N,Signature:_,utils:L}}t.weierstrass=E;function d(y,w){const x=y.ORDER;let O=u;for(let m=x-l;m%c===u;m/=c)O+=l;const P=O,A=c<<P-l-l,g=A*c,B=(x-l)/g,C=(B-l)/c,N=g-l,F=A,U=y.pow(w,B),I=y.pow(w,(B+l)/c);let v=(m,R)=>{let S=U,_=y.pow(R,N),L=y.sqr(_);L=y.mul(L,R);let D=y.mul(m,L);D=y.pow(D,C),D=y.mul(D,_),_=y.mul(D,R),L=y.mul(D,m);let M=y.mul(L,_);D=y.pow(M,F);let Q=y.eql(D,y.ONE);_=y.mul(L,I),D=y.mul(M,S),L=y.cmov(_,L,Q),M=y.cmov(D,M,Q);for(let j=P;j>l;j--){let J=j-c;J=c<<J-l;let q=y.pow(M,J);const ee=y.eql(q,y.ONE);_=y.mul(L,S),S=y.mul(S,S),q=y.mul(M,S),L=y.cmov(_,L,ee),M=y.cmov(q,M,ee)}return{isValid:Q,value:L}};if(y.ORDER%h===f){const m=(y.ORDER-f)/h,R=y.sqrt(y.neg(w));v=(S,_)=>{let L=y.sqr(_);const D=y.mul(S,_);L=y.mul(L,D);let M=y.pow(L,m);M=y.mul(M,D);const Q=y.mul(M,R),j=y.mul(y.sqr(M),_),J=y.eql(j,S);let q=y.cmov(Q,M,J);return{isValid:J,value:q}}}return v}t.SWUFpSqrtRatio=d;function p(y,w){if(e.validateField(y),!y.isValid(w.A)||!y.isValid(w.B)||!y.isValid(w.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const x=d(y,w.Z);if(!y.isOdd)throw new Error("Fp.isOdd is not implemented!");return O=>{let P,A,g,B,C,N,F,U;P=y.sqr(O),P=y.mul(P,w.Z),A=y.sqr(P),A=y.add(A,P),g=y.add(A,y.ONE),g=y.mul(g,w.B),B=y.cmov(w.Z,y.neg(A),!y.eql(A,y.ZERO)),B=y.mul(B,w.A),A=y.sqr(g),N=y.sqr(B),C=y.mul(N,w.A),A=y.add(A,C),A=y.mul(A,g),N=y.mul(N,B),C=y.mul(N,w.B),A=y.add(A,C),F=y.mul(P,g);const{isValid:I,value:v}=x(A,N);U=y.mul(P,O),U=y.mul(U,v),F=y.cmov(F,g,I),U=y.cmov(U,v,I);const m=y.isOdd(O)===y.isOdd(U);return U=y.cmov(y.neg(U),U,m),F=y.div(F,B),{x:F,y:U}}}t.mapToCurveSimpleSWU=p})(Mo)),Mo}var Ct={},Bf;function $w(){if(Bf)return Ct;Bf=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.createHasher=Ct.isogenyMap=Ct.hash_to_field=Ct.expand_message_xof=Ct.expand_message_xmd=void 0;const t=Za(),e=bs();function r(b){if(b instanceof Uint8Array)return b;if(typeof b=="string")return(0,e.utf8ToBytes)(b);throw new Error("DST must be Uint8Array or string")}const n=e.bytesToNumberBE;function s(b,k){if(b<0||b>=1<<8*k)throw new Error(`bad I2OSP call: value=${b} length=${k}`);const E=Array.from({length:k}).fill(0);for(let d=k-1;d>=0;d--)E[d]=b&255,b>>>=8;return new Uint8Array(E)}function i(b,k){const E=new Uint8Array(b.length);for(let d=0;d<b.length;d++)E[d]=b[d]^k[d];return E}function a(b){if(!(b instanceof Uint8Array))throw new Error("Uint8Array expected")}function o(b){if(!Number.isSafeInteger(b))throw new Error("number expected")}function u(b,k,E,d){a(b),a(k),o(E),k.length>255&&(k=d((0,e.concatBytes)((0,e.utf8ToBytes)("H2C-OVERSIZE-DST-"),k)));const{outputLen:p,blockLen:y}=d,w=Math.ceil(E/p);if(w>255)throw new Error("Invalid xmd length");const x=(0,e.concatBytes)(k,s(k.length,1)),O=s(0,y),P=s(E,2),A=new Array(w),g=d((0,e.concatBytes)(O,b,P,s(0,1),x));A[0]=d((0,e.concatBytes)(g,s(1,1),x));for(let C=1;C<=w;C++){const N=[i(g,A[C-1]),s(C+1,1),x];A[C]=d((0,e.concatBytes)(...N))}return(0,e.concatBytes)(...A).slice(0,E)}Ct.expand_message_xmd=u;function l(b,k,E,d,p){if(a(b),a(k),o(E),k.length>255){const y=Math.ceil(2*d/8);k=p.create({dkLen:y}).update((0,e.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(k).digest()}if(E>65535||k.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return p.create({dkLen:E}).update(b).update(s(E,2)).update(k).update(s(k.length,1)).digest()}Ct.expand_message_xof=l;function c(b,k,E){(0,e.validateObject)(E,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:d,k:p,m:y,hash:w,expand:x,DST:O}=E;a(b),o(k);const P=r(O),A=d.toString(2).length,g=Math.ceil((A+p)/8),B=k*y*g;let C;if(x==="xmd")C=u(b,P,B,w);else if(x==="xof")C=l(b,P,B,p,w);else if(x==="_internal_pass")C=b;else throw new Error('expand must be "xmd" or "xof"');const N=new Array(k);for(let F=0;F<k;F++){const U=new Array(y);for(let I=0;I<y;I++){const v=g*(I+F*y),m=C.subarray(v,v+g);U[I]=(0,t.mod)(n(m),d)}N[F]=U}return N}Ct.hash_to_field=c;function f(b,k){const E=k.map(d=>Array.from(d).reverse());return(d,p)=>{const[y,w,x,O]=E.map(P=>P.reduce((A,g)=>b.add(b.mul(A,d),g)));return d=b.div(y,w),p=b.mul(p,b.div(x,O)),{x:d,y:p}}}Ct.isogenyMap=f;function h(b,k,E){if(typeof k!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(d,p){const y=c(d,2,{...E,DST:E.DST,...p}),w=b.fromAffine(k(y[0])),x=b.fromAffine(k(y[1])),O=w.add(x).clearCofactor();return O.assertValidity(),O},encodeToCurve(d,p){const y=c(d,1,{...E,DST:E.encodeDST,...p}),w=b.fromAffine(k(y[0])).clearCofactor();return w.assertValidity(),w}}}return Ct.createHasher=h,Ct}var hn={},Nf;function eA(){if(Nf)return hn;Nf=1,Object.defineProperty(hn,"__esModule",{value:!0}),hn.createCurve=hn.getHash=void 0;const t=Xc(),e=dr(),r=kg();function n(i){return{hash:i,hmac:(a,...o)=>(0,t.hmac)(i,a,(0,e.concatBytes)(...o)),randomBytes:e.randomBytes}}hn.getHash=n;function s(i,a){const o=u=>(0,r.weierstrass)({...i,...n(u)});return Object.freeze({...o(a),create:o})}return hn.createCurve=s,hn}var Rf;function tA(){return Rf||(Rf=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.schnorr=t.secp256k1=void 0;const e=eu(),r=dr(),n=Za(),s=kg(),i=bs(),a=$w(),o=eA(),u=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),l=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),c=BigInt(1),f=BigInt(2),h=(_,L)=>(_+L/f)/L;function b(_){const L=u,D=BigInt(3),M=BigInt(6),Q=BigInt(11),j=BigInt(22),J=BigInt(23),q=BigInt(44),ee=BigInt(88),te=_*_*_%L,Z=te*te*_%L,ie=(0,n.pow2)(Z,D,L)*Z%L,pe=(0,n.pow2)(ie,D,L)*Z%L,de=(0,n.pow2)(pe,f,L)*te%L,ne=(0,n.pow2)(de,Q,L)*de%L,Y=(0,n.pow2)(ne,j,L)*ne%L,T=(0,n.pow2)(Y,q,L)*Y%L,H=(0,n.pow2)(T,ee,L)*T%L,K=(0,n.pow2)(H,q,L)*Y%L,oe=(0,n.pow2)(K,D,L)*Z%L,ce=(0,n.pow2)(oe,J,L)*ne%L,ye=(0,n.pow2)(ce,M,L)*te%L,he=(0,n.pow2)(ye,f,L);if(!k.eql(k.sqr(he),_))throw new Error("Cannot find square root");return he}const k=(0,n.Field)(u,void 0,void 0,{sqrt:b});t.secp256k1=(0,o.createCurve)({a:BigInt(0),b:BigInt(7),Fp:k,n:l,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:_=>{const L=l,D=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),M=-c*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),Q=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),j=D,J=BigInt("0x100000000000000000000000000000000"),q=h(j*_,L),ee=h(-M*_,L);let te=(0,n.mod)(_-q*D-ee*Q,L),Z=(0,n.mod)(-q*M-ee*j,L);const ie=te>J,pe=Z>J;if(ie&&(te=L-te),pe&&(Z=L-Z),te>J||Z>J)throw new Error("splitScalar: Endomorphism failed, k="+_);return{k1neg:ie,k1:te,k2neg:pe,k2:Z}}}},e.sha256);const E=BigInt(0),d=_=>typeof _=="bigint"&&E<_&&_<u,p=_=>typeof _=="bigint"&&E<_&&_<l,y={};function w(_,...L){let D=y[_];if(D===void 0){const M=(0,e.sha256)(Uint8Array.from(_,Q=>Q.charCodeAt(0)));D=(0,i.concatBytes)(M,M),y[_]=D}return(0,e.sha256)((0,i.concatBytes)(D,...L))}const x=_=>_.toRawBytes(!0).slice(1),O=_=>(0,i.numberToBytesBE)(_,32),P=_=>(0,n.mod)(_,u),A=_=>(0,n.mod)(_,l),g=t.secp256k1.ProjectivePoint,B=(_,L,D)=>g.BASE.multiplyAndAddUnsafe(_,L,D);function C(_){let L=t.secp256k1.utils.normPrivateKeyToScalar(_),D=g.fromPrivateKey(L);return{scalar:D.hasEvenY()?L:A(-L),bytes:x(D)}}function N(_){if(!d(_))throw new Error("bad x: need 0 < x < p");const L=P(_*_),D=P(L*_+BigInt(7));let M=b(D);M%f!==E&&(M=P(-M));const Q=new g(_,M,c);return Q.assertValidity(),Q}function F(..._){return A((0,i.bytesToNumberBE)(w("BIP0340/challenge",..._)))}function U(_){return C(_).bytes}function I(_,L,D=(0,r.randomBytes)(32)){const M=(0,i.ensureBytes)("message",_),{bytes:Q,scalar:j}=C(L),J=(0,i.ensureBytes)("auxRand",D,32),q=O(j^(0,i.bytesToNumberBE)(w("BIP0340/aux",J))),ee=w("BIP0340/nonce",q,Q,M),te=A((0,i.bytesToNumberBE)(ee));if(te===E)throw new Error("sign failed: k is zero");const{bytes:Z,scalar:ie}=C(te),pe=F(Z,Q,M),de=new Uint8Array(64);if(de.set(Z,0),de.set(O(A(ie+pe*j)),32),!v(de,M,Q))throw new Error("sign: Invalid signature produced");return de}function v(_,L,D){const M=(0,i.ensureBytes)("signature",_,64),Q=(0,i.ensureBytes)("message",L),j=(0,i.ensureBytes)("publicKey",D,32);try{const J=N((0,i.bytesToNumberBE)(j)),q=(0,i.bytesToNumberBE)(M.subarray(0,32));if(!d(q))return!1;const ee=(0,i.bytesToNumberBE)(M.subarray(32,64));if(!p(ee))return!1;const te=F(O(q),x(J),Q),Z=B(J,ee,A(-te));return!(!Z||!Z.hasEvenY()||Z.toAffine().x!==q)}catch{return!1}}t.schnorr={getPublicKey:U,sign:I,verify:v,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:N,pointToBytes:x,numberToBytesBE:i.numberToBytesBE,bytesToNumberBE:i.bytesToNumberBE,taggedHash:w,mod:n.mod}};const m=(0,a.isogenyMap)(k,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(_=>_.map(L=>BigInt(L)))),R=(0,s.mapToCurveSimpleSWU)(k,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:k.create(BigInt("-11"))}),S=(0,a.createHasher)(t.secp256k1.ProjectivePoint,_=>{const{x:L,y:D}=R(k.create(_[0]));return m(L,D)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:k.ORDER,m:1,k:128,expand:"xmd",hash:e.sha256});t.hashToCurve=S.hashToCurve,t.encodeToCurve=S.encodeToCurve})(Do)),Do}var Hs={},jo={},Gs={},Cf;function Bg(){return Cf||(Cf=1,Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.ZeroAddress=void 0,Gs.ZeroAddress="0x0000000000000000000000000000000000000000"),Gs}var Vs={},Sf;function rA(){return Sf||(Sf=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.ZeroHash=void 0,Vs.ZeroHash="0x0000000000000000000000000000000000000000000000000000000000000000"),Vs}var St={},_f;function nA(){return _f||(_f=1,Object.defineProperty(St,"__esModule",{value:!0}),St.MaxInt256=St.MinInt256=St.MaxUint256=St.WeiPerEther=St.N=void 0,St.N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),St.WeiPerEther=BigInt("1000000000000000000"),St.MaxUint256=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),St.MinInt256=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),St.MaxInt256=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")),St}var gn={},If;function sA(){return If||(If=1,Object.defineProperty(gn,"__esModule",{value:!0}),gn.MessagePrefix=gn.EtherSymbol=void 0,gn.EtherSymbol="Ξ",gn.MessagePrefix=`Ethereum Signed Message:
`),gn}var Tf;function sa(){return Tf||(Tf=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MessagePrefix=t.EtherSymbol=t.MaxInt256=t.MinInt256=t.MaxUint256=t.WeiPerEther=t.N=t.ZeroHash=t.ZeroAddress=void 0;var e=Bg();Object.defineProperty(t,"ZeroAddress",{enumerable:!0,get:function(){return e.ZeroAddress}});var r=rA();Object.defineProperty(t,"ZeroHash",{enumerable:!0,get:function(){return r.ZeroHash}});var n=nA();Object.defineProperty(t,"N",{enumerable:!0,get:function(){return n.N}}),Object.defineProperty(t,"WeiPerEther",{enumerable:!0,get:function(){return n.WeiPerEther}}),Object.defineProperty(t,"MaxUint256",{enumerable:!0,get:function(){return n.MaxUint256}}),Object.defineProperty(t,"MinInt256",{enumerable:!0,get:function(){return n.MinInt256}}),Object.defineProperty(t,"MaxInt256",{enumerable:!0,get:function(){return n.MaxInt256}});var s=sA();Object.defineProperty(t,"EtherSymbol",{enumerable:!0,get:function(){return s.EtherSymbol}}),Object.defineProperty(t,"MessagePrefix",{enumerable:!0,get:function(){return s.MessagePrefix}})})(jo)),jo}var Uf;function Ng(){if(Uf)return Hs;Uf=1,Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.Signature=void 0;const t=sa(),e=fe(),r=BigInt(0),n=BigInt(1),s=BigInt(2),i=BigInt(27),a=BigInt(28),o=BigInt(35),u={};function l(f){return(0,e.zeroPadValue)((0,e.toBeArray)(f),32)}class c{#e;#t;#r;#n;get r(){return this.#e}set r(h){(0,e.assertArgument)((0,e.dataLength)(h)===32,"invalid r","value",h),this.#e=(0,e.hexlify)(h)}get s(){return this.#t}set s(h){(0,e.assertArgument)((0,e.dataLength)(h)===32,"invalid s","value",h);const b=(0,e.hexlify)(h);(0,e.assertArgument)(parseInt(b.substring(0,3))<8,"non-canonical s","value",b),this.#t=b}get v(){return this.#r}set v(h){const b=(0,e.getNumber)(h,"value");(0,e.assertArgument)(b===27||b===28,"invalid v","v",h),this.#r=b}get networkV(){return this.#n}get legacyChainId(){const h=this.networkV;return h==null?null:c.getChainId(h)}get yParity(){return this.v===27?0:1}get yParityAndS(){const h=(0,e.getBytes)(this.s);return this.yParity&&(h[0]|=128),(0,e.hexlify)(h)}get compactSerialized(){return(0,e.concat)([this.r,this.yParityAndS])}get serialized(){return(0,e.concat)([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(h,b,k,E){(0,e.assertPrivate)(h,u,"Signature"),this.#e=b,this.#t=k,this.#r=E,this.#n=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const h=new c(u,this.r,this.s,this.v);return this.networkV&&(h.#n=this.networkV),h}toJSON(){const h=this.networkV;return{_type:"signature",networkV:h!=null?h.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(h){const b=(0,e.getBigInt)(h,"v");return b==i||b==a?r:((0,e.assertArgument)(b>=o,"invalid EIP-155 v","v",h),(b-o)/s)}static getChainIdV(h,b){return(0,e.getBigInt)(h)*s+BigInt(35+b-27)}static getNormalizedV(h){const b=(0,e.getBigInt)(h);return b===r||b===i?27:b===n||b===a?28:((0,e.assertArgument)(b>=o,"invalid v","v",h),b&n?27:28)}static from(h){function b(x,O){(0,e.assertArgument)(x,O,"signature",h)}if(h==null)return new c(u,t.ZeroHash,t.ZeroHash,27);if(typeof h=="string"){const x=(0,e.getBytes)(h,"signature");if(x.length===64){const O=(0,e.hexlify)(x.slice(0,32)),P=x.slice(32,64),A=P[0]&128?28:27;return P[0]&=127,new c(u,O,(0,e.hexlify)(P),A)}if(x.length===65){const O=(0,e.hexlify)(x.slice(0,32)),P=x.slice(32,64);b((P[0]&128)===0,"non-canonical s");const A=c.getNormalizedV(x[64]);return new c(u,O,(0,e.hexlify)(P),A)}b(!1,"invalid raw signature length")}if(h instanceof c)return h.clone();const k=h.r;b(k!=null,"missing r");const E=l(k),d=(function(x,O){if(x!=null)return l(x);if(O!=null){b((0,e.isHexString)(O,32),"invalid yParityAndS");const P=(0,e.getBytes)(O);return P[0]&=127,(0,e.hexlify)(P)}b(!1,"missing s")})(h.s,h.yParityAndS);b(((0,e.getBytes)(d)[0]&128)==0,"non-canonical s");const{networkV:p,v:y}=(function(x,O,P){if(x!=null){const A=(0,e.getBigInt)(x);return{networkV:A>=o?A:void 0,v:c.getNormalizedV(A)}}if(O!=null)return b((0,e.isHexString)(O,32),"invalid yParityAndS"),{v:(0,e.getBytes)(O)[0]&128?28:27};if(P!=null){switch((0,e.getNumber)(P,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}b(!1,"invalid yParity")}b(!1,"missing v")})(h.v,h.yParityAndS,h.yParity),w=new c(u,E,d,y);return p&&(w.#n=p),b(h.yParity==null||(0,e.getNumber)(h.yParity,"sig.yParity")===w.yParity,"yParity mismatch"),b(h.yParityAndS==null||h.yParityAndS===w.yParityAndS,"yParityAndS mismatch"),w}}return Hs.Signature=c,Hs}var Lf;function iA(){if(Lf)return js;Lf=1,Object.defineProperty(js,"__esModule",{value:!0}),js.SigningKey=void 0;const t=tA(),e=fe(),r=Ng();class n{#e;constructor(i){(0,e.assertArgument)((0,e.dataLength)(i)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=(0,e.hexlify)(i)}get privateKey(){return this.#e}get publicKey(){return n.computePublicKey(this.#e)}get compressedPublicKey(){return n.computePublicKey(this.#e,!0)}sign(i){(0,e.assertArgument)((0,e.dataLength)(i)===32,"invalid digest length","digest",i);const a=t.secp256k1.sign((0,e.getBytesCopy)(i),(0,e.getBytesCopy)(this.#e),{lowS:!0});return r.Signature.from({r:(0,e.toBeHex)(a.r,32),s:(0,e.toBeHex)(a.s,32),v:a.recovery?28:27})}computeSharedSecret(i){const a=n.computePublicKey(i);return(0,e.hexlify)(t.secp256k1.getSharedSecret((0,e.getBytesCopy)(this.#e),(0,e.getBytes)(a),!1))}static computePublicKey(i,a){let o=(0,e.getBytes)(i,"key");if(o.length===32){const l=t.secp256k1.getPublicKey(o,!!a);return(0,e.hexlify)(l)}if(o.length===64){const l=new Uint8Array(65);l[0]=4,l.set(o,1),o=l}const u=t.secp256k1.ProjectivePoint.fromHex(o);return(0,e.hexlify)(u.toRawBytes(a))}static recoverPublicKey(i,a){(0,e.assertArgument)((0,e.dataLength)(i)===32,"invalid digest length","digest",i);const o=r.Signature.from(a);let u=t.secp256k1.Signature.fromCompact((0,e.getBytesCopy)((0,e.concat)([o.r,o.s])));u=u.addRecoveryBit(o.yParity);const l=u.recoverPublicKey((0,e.getBytesCopy)(i));return(0,e.assertArgument)(l!=null,"invalid signautre for digest","signature",a),"0x"+l.toHex(!1)}static addPoints(i,a,o){const u=t.secp256k1.ProjectivePoint.fromHex(n.computePublicKey(i).substring(2)),l=t.secp256k1.ProjectivePoint.fromHex(n.computePublicKey(a).substring(2));return"0x"+u.add(l).toHex(!!o)}}return js.SigningKey=n,js}var Ff;function ht(){return Ff||(Ff=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.lock=t.Signature=t.SigningKey=t.scryptSync=t.scrypt=t.pbkdf2=t.sha512=t.sha256=t.ripemd160=t.keccak256=t.randomBytes=t.computeHmac=void 0;const e=Gw();Object.defineProperty(t,"computeHmac",{enumerable:!0,get:function(){return e.computeHmac}});const r=Qw();Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return r.keccak256}});const n=zw();Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return n.ripemd160}});const s=Kw();Object.defineProperty(t,"pbkdf2",{enumerable:!0,get:function(){return s.pbkdf2}});const i=qw();Object.defineProperty(t,"randomBytes",{enumerable:!0,get:function(){return i.randomBytes}});const a=Zw();Object.defineProperty(t,"scrypt",{enumerable:!0,get:function(){return a.scrypt}}),Object.defineProperty(t,"scryptSync",{enumerable:!0,get:function(){return a.scryptSync}});const o=Yw();Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return o.sha256}}),Object.defineProperty(t,"sha512",{enumerable:!0,get:function(){return o.sha512}});var u=iA();Object.defineProperty(t,"SigningKey",{enumerable:!0,get:function(){return u.SigningKey}});var l=Ng();Object.defineProperty(t,"Signature",{enumerable:!0,get:function(){return l.Signature}});function c(){e.computeHmac.lock(),r.keccak256.lock(),s.pbkdf2.lock(),i.randomBytes.lock(),n.ripemd160.lock(),a.scrypt.lock(),a.scryptSync.lock(),o.sha256.lock(),o.sha512.lock(),i.randomBytes.lock()}t.lock=c})(Uo)),Uo}var Df;function tu(){if(Df)return sn;Df=1,Object.defineProperty(sn,"__esModule",{value:!0}),sn.getIcapAddress=sn.getAddress=void 0;const t=ht(),e=fe(),r=BigInt(0),n=BigInt(36);function s(h){h=h.toLowerCase();const b=h.substring(2).split(""),k=new Uint8Array(40);for(let d=0;d<40;d++)k[d]=b[d].charCodeAt(0);const E=(0,e.getBytes)((0,t.keccak256)(k));for(let d=0;d<40;d+=2)E[d>>1]>>4>=8&&(b[d]=b[d].toUpperCase()),(E[d>>1]&15)>=8&&(b[d+1]=b[d+1].toUpperCase());return"0x"+b.join("")}const i={};for(let h=0;h<10;h++)i[String(h)]=String(h);for(let h=0;h<26;h++)i[String.fromCharCode(65+h)]=String(10+h);const a=15;function o(h){h=h.toUpperCase(),h=h.substring(4)+h.substring(0,2)+"00";let b=h.split("").map(E=>i[E]).join("");for(;b.length>=a;){let E=b.substring(0,a);b=parseInt(E,10)%97+b.substring(E.length)}let k=String(98-parseInt(b,10)%97);for(;k.length<2;)k="0"+k;return k}const u=(function(){const h={};for(let b=0;b<36;b++){const k="0123456789abcdefghijklmnopqrstuvwxyz"[b];h[k]=BigInt(b)}return h})();function l(h){h=h.toLowerCase();let b=r;for(let k=0;k<h.length;k++)b=b*n+u[h[k]];return b}function c(h){if((0,e.assertArgument)(typeof h=="string","invalid address","address",h),h.match(/^(0x)?[0-9a-fA-F]{40}$/)){h.startsWith("0x")||(h="0x"+h);const b=s(h);return(0,e.assertArgument)(!h.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||b===h,"bad address checksum","address",h),b}if(h.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){(0,e.assertArgument)(h.substring(2,4)===o(h),"bad icap checksum","address",h);let b=l(h.substring(4)).toString(16);for(;b.length<40;)b="0"+b;return s("0x"+b)}(0,e.assertArgument)(!1,"invalid address","address",h)}sn.getAddress=c;function f(h){let b=BigInt(c(h)).toString(36).toUpperCase();for(;b.length<30;)b="0"+b;return"XE"+o("XE00"+b)+b}return sn.getIcapAddress=f,sn}var pn={},Mf;function aA(){if(Mf)return pn;Mf=1,Object.defineProperty(pn,"__esModule",{value:!0}),pn.getCreate2Address=pn.getCreateAddress=void 0;const t=ht(),e=fe(),r=tu();function n(i){const a=(0,r.getAddress)(i.from);let u=(0,e.getBigInt)(i.nonce,"tx.nonce").toString(16);return u==="0"?u="0x":u.length%2?u="0x0"+u:u="0x"+u,(0,r.getAddress)((0,e.dataSlice)((0,t.keccak256)((0,e.encodeRlp)([a,u])),12))}pn.getCreateAddress=n;function s(i,a,o){const u=(0,r.getAddress)(i),l=(0,e.getBytes)(a,"salt"),c=(0,e.getBytes)(o,"initCodeHash");return(0,e.assertArgument)(l.length===32,"salt must be 32 bytes","salt",a),(0,e.assertArgument)(c.length===32,"initCodeHash must be 32 bytes","initCodeHash",o),(0,r.getAddress)((0,e.dataSlice)((0,t.keccak256)((0,e.concat)(["0xff",u,l,c])),12))}return pn.getCreate2Address=s,pn}var br={},jf;function oA(){if(jf)return br;jf=1,Object.defineProperty(br,"__esModule",{value:!0}),br.resolveAddress=br.isAddress=br.isAddressable=void 0;const t=fe(),e=tu();function r(a){return a&&typeof a.getAddress=="function"}br.isAddressable=r;function n(a){try{return(0,e.getAddress)(a),!0}catch{}return!1}br.isAddress=n;async function s(a,o){const u=await o;return(u==null||u==="0x0000000000000000000000000000000000000000")&&((0,t.assert)(typeof a!="string","unconfigured name","UNCONFIGURED_NAME",{value:a}),(0,t.assertArgument)(!1,"invalid AddressLike value; did not resolve to a value address","target",a)),(0,e.getAddress)(u)}function i(a,o){if(typeof a=="string")return a.match(/^0x[0-9a-f]{40}$/i)?(0,e.getAddress)(a):((0,t.assert)(o!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),s(a,o.resolveName(a)));if(r(a))return s(a,a.getAddress());if(a&&typeof a.then=="function")return s(a,a);(0,t.assertArgument)(!1,"unsupported addressable value","target",a)}return br.resolveAddress=i,br}var Hf;function lt(){return Hf||(Hf=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.resolveAddress=t.isAddress=t.isAddressable=t.getCreate2Address=t.getCreateAddress=t.getIcapAddress=t.getAddress=void 0;var e=tu();Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return e.getAddress}}),Object.defineProperty(t,"getIcapAddress",{enumerable:!0,get:function(){return e.getIcapAddress}});var r=aA();Object.defineProperty(t,"getCreateAddress",{enumerable:!0,get:function(){return r.getCreateAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return r.getCreate2Address}});var n=oA();Object.defineProperty(t,"isAddressable",{enumerable:!0,get:function(){return n.isAddressable}}),Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return n.isAddress}}),Object.defineProperty(t,"resolveAddress",{enumerable:!0,get:function(){return n.resolveAddress}})})(To)),To}var Qs={},Gf;function Lr(){if(Gf)return Qs;Gf=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.Typed=void 0;const t=fe(),e={};function r(a,o){let u=!1;return o<0&&(u=!0,o*=-1),new i(e,`${u?"":"u"}int${o}`,a,{signed:u,width:o})}function n(a,o){return new i(e,`bytes${o||""}`,a,{size:o})}const s=Symbol.for("_ethers_typed");class i{type;value;#e;_typedSymbol;constructor(o,u,l,c){c==null&&(c=null),(0,t.assertPrivate)(e,o,"Typed"),(0,t.defineProperties)(this,{_typedSymbol:s,type:u,value:l}),this.#e=c,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(o=>o.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(o,u){return new i(e,o,u)}static uint8(o){return r(o,8)}static uint16(o){return r(o,16)}static uint24(o){return r(o,24)}static uint32(o){return r(o,32)}static uint40(o){return r(o,40)}static uint48(o){return r(o,48)}static uint56(o){return r(o,56)}static uint64(o){return r(o,64)}static uint72(o){return r(o,72)}static uint80(o){return r(o,80)}static uint88(o){return r(o,88)}static uint96(o){return r(o,96)}static uint104(o){return r(o,104)}static uint112(o){return r(o,112)}static uint120(o){return r(o,120)}static uint128(o){return r(o,128)}static uint136(o){return r(o,136)}static uint144(o){return r(o,144)}static uint152(o){return r(o,152)}static uint160(o){return r(o,160)}static uint168(o){return r(o,168)}static uint176(o){return r(o,176)}static uint184(o){return r(o,184)}static uint192(o){return r(o,192)}static uint200(o){return r(o,200)}static uint208(o){return r(o,208)}static uint216(o){return r(o,216)}static uint224(o){return r(o,224)}static uint232(o){return r(o,232)}static uint240(o){return r(o,240)}static uint248(o){return r(o,248)}static uint256(o){return r(o,256)}static uint(o){return r(o,256)}static int8(o){return r(o,-8)}static int16(o){return r(o,-16)}static int24(o){return r(o,-24)}static int32(o){return r(o,-32)}static int40(o){return r(o,-40)}static int48(o){return r(o,-48)}static int56(o){return r(o,-56)}static int64(o){return r(o,-64)}static int72(o){return r(o,-72)}static int80(o){return r(o,-80)}static int88(o){return r(o,-88)}static int96(o){return r(o,-96)}static int104(o){return r(o,-104)}static int112(o){return r(o,-112)}static int120(o){return r(o,-120)}static int128(o){return r(o,-128)}static int136(o){return r(o,-136)}static int144(o){return r(o,-144)}static int152(o){return r(o,-152)}static int160(o){return r(o,-160)}static int168(o){return r(o,-168)}static int176(o){return r(o,-176)}static int184(o){return r(o,-184)}static int192(o){return r(o,-192)}static int200(o){return r(o,-200)}static int208(o){return r(o,-208)}static int216(o){return r(o,-216)}static int224(o){return r(o,-224)}static int232(o){return r(o,-232)}static int240(o){return r(o,-240)}static int248(o){return r(o,-248)}static int256(o){return r(o,-256)}static int(o){return r(o,-256)}static bytes1(o){return n(o,1)}static bytes2(o){return n(o,2)}static bytes3(o){return n(o,3)}static bytes4(o){return n(o,4)}static bytes5(o){return n(o,5)}static bytes6(o){return n(o,6)}static bytes7(o){return n(o,7)}static bytes8(o){return n(o,8)}static bytes9(o){return n(o,9)}static bytes10(o){return n(o,10)}static bytes11(o){return n(o,11)}static bytes12(o){return n(o,12)}static bytes13(o){return n(o,13)}static bytes14(o){return n(o,14)}static bytes15(o){return n(o,15)}static bytes16(o){return n(o,16)}static bytes17(o){return n(o,17)}static bytes18(o){return n(o,18)}static bytes19(o){return n(o,19)}static bytes20(o){return n(o,20)}static bytes21(o){return n(o,21)}static bytes22(o){return n(o,22)}static bytes23(o){return n(o,23)}static bytes24(o){return n(o,24)}static bytes25(o){return n(o,25)}static bytes26(o){return n(o,26)}static bytes27(o){return n(o,27)}static bytes28(o){return n(o,28)}static bytes29(o){return n(o,29)}static bytes30(o){return n(o,30)}static bytes31(o){return n(o,31)}static bytes32(o){return n(o,32)}static address(o){return new i(e,"address",o)}static bool(o){return new i(e,"bool",!!o)}static bytes(o){return new i(e,"bytes",o)}static string(o){return new i(e,"string",o)}static array(o,u){throw new Error("not implemented yet")}static tuple(o,u){throw new Error("not implemented yet")}static overrides(o){return new i(e,"overrides",Object.assign({},o))}static isTyped(o){return o&&typeof o=="object"&&"_typedSymbol"in o&&o._typedSymbol===s}static dereference(o,u){if(i.isTyped(o)){if(o.type!==u)throw new Error(`invalid type: expecetd ${u}, got ${o.type}`);return o.value}return o}}return Qs.Typed=i,Qs}var Vf;function cA(){if(Vf)return _s;Vf=1,Object.defineProperty(_s,"__esModule",{value:!0}),_s.AddressCoder=void 0;const t=lt(),e=ra(),r=Lr(),n=rr();class s extends n.Coder{constructor(a){super("address","address",a,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(a,o){let u=r.Typed.dereference(o,"string");try{u=(0,t.getAddress)(u)}catch(l){return this._throwError(l.message,o)}return a.writeValue(u)}decode(a){return(0,t.getAddress)((0,e.toBeHex)(a.readValue(),20))}}return _s.AddressCoder=s,_s}var mr={},Js={},Qf;function uA(){if(Qf)return Js;Qf=1,Object.defineProperty(Js,"__esModule",{value:!0}),Js.AnonymousCoder=void 0;const t=rr();class e extends t.Coder{coder;constructor(n){super(n.name,n.type,"_",n.dynamic),this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,s){return this.coder.encode(n,s)}decode(n){return this.coder.decode(n)}}return Js.AnonymousCoder=e,Js}var Jf;function Rg(){if(Jf)return mr;Jf=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.ArrayCoder=mr.unpack=mr.pack=void 0;const t=fe(),e=Lr(),r=rr(),n=uA();function s(o,u,l){let c=[];if(Array.isArray(l))c=l;else if(l&&typeof l=="object"){let E={};c=u.map(d=>{const p=d.localName;return(0,t.assert)(p,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:d},value:l}),(0,t.assert)(!E[p],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:d},value:l}),E[p]=!0,l[p]})}else(0,t.assertArgument)(!1,"invalid tuple value","tuple",l);(0,t.assertArgument)(u.length===c.length,"types/value length mismatch","tuple",l);let f=new r.Writer,h=new r.Writer,b=[];u.forEach((E,d)=>{let p=c[d];if(E.dynamic){let y=h.length;E.encode(h,p);let w=f.writeUpdatableValue();b.push(x=>{w(x+y)})}else E.encode(f,p)}),b.forEach(E=>{E(f.length)});let k=o.appendWriter(f);return k+=o.appendWriter(h),k}mr.pack=s;function i(o,u){let l=[],c=[],f=o.subReader(0);return u.forEach(h=>{let b=null;if(h.dynamic){let k=o.readIndex(),E=f.subReader(k);try{b=h.decode(E)}catch(d){if((0,t.isError)(d,"BUFFER_OVERRUN"))throw d;b=d,b.baseType=h.name,b.name=h.localName,b.type=h.type}}else try{b=h.decode(o)}catch(k){if((0,t.isError)(k,"BUFFER_OVERRUN"))throw k;b=k,b.baseType=h.name,b.name=h.localName,b.type=h.type}if(b==null)throw new Error("investigate");l.push(b),c.push(h.localName||null)}),r.Result.fromItems(l,c)}mr.unpack=i;class a extends r.Coder{coder;length;constructor(u,l,c){const f=u.type+"["+(l>=0?l:"")+"]",h=l===-1||u.dynamic;super("array",f,c,h),(0,t.defineProperties)(this,{coder:u,length:l})}defaultValue(){const u=this.coder.defaultValue(),l=[];for(let c=0;c<this.length;c++)l.push(u);return l}encode(u,l){const c=e.Typed.dereference(l,"array");Array.isArray(c)||this._throwError("expected array value",c);let f=this.length;f===-1&&(f=c.length,u.writeValue(c.length)),(0,t.assertArgumentCount)(c.length,f,"coder array"+(this.localName?" "+this.localName:""));let h=[];for(let b=0;b<c.length;b++)h.push(this.coder);return s(u,h,c)}decode(u){let l=this.length;l===-1&&(l=u.readIndex(),(0,t.assert)(l*r.WordSize<=u.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:u.bytes,offset:l*r.WordSize,length:u.dataLength}));let c=[];for(let f=0;f<l;f++)c.push(new n.AnonymousCoder(this.coder));return i(u,c)}}return mr.ArrayCoder=a,mr}var zs={},zf;function lA(){if(zf)return zs;zf=1,Object.defineProperty(zs,"__esModule",{value:!0}),zs.BooleanCoder=void 0;const t=Lr(),e=rr();class r extends e.Coder{constructor(s){super("bool","bool",s,!1)}defaultValue(){return!1}encode(s,i){const a=t.Typed.dereference(i,"bool");return s.writeValue(a?1:0)}decode(s){return!!s.readValue()}}return zs.BooleanCoder=r,zs}var bn={},Kf;function Cg(){if(Kf)return bn;Kf=1,Object.defineProperty(bn,"__esModule",{value:!0}),bn.BytesCoder=bn.DynamicBytesCoder=void 0;const t=fe(),e=rr();class r extends e.Coder{constructor(i,a){super(i,i,a,!0)}defaultValue(){return"0x"}encode(i,a){a=(0,t.getBytesCopy)(a);let o=i.writeValue(a.length);return o+=i.writeBytes(a),o}decode(i){return i.readBytes(i.readIndex(),!0)}}bn.DynamicBytesCoder=r;class n extends r{constructor(i){super("bytes",i)}decode(i){return(0,t.hexlify)(super.decode(i))}}return bn.BytesCoder=n,bn}var Ks={},qf;function fA(){if(qf)return Ks;qf=1,Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.FixedBytesCoder=void 0;const t=fe(),e=Lr(),r=rr();class n extends r.Coder{size;constructor(i,a){let o="bytes"+String(i);super(o,o,a,!1),(0,t.defineProperties)(this,{size:i},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(i,a){let o=(0,t.getBytesCopy)(e.Typed.dereference(a,this.type));return o.length!==this.size&&this._throwError("incorrect data length",a),i.writeBytes(o)}decode(i){return(0,t.hexlify)(i.readBytes(this.size))}}return Ks.FixedBytesCoder=n,Ks}var qs={},Wf;function dA(){if(Wf)return qs;Wf=1,Object.defineProperty(qs,"__esModule",{value:!0}),qs.NullCoder=void 0;const t=rr(),e=new Uint8Array([]);class r extends t.Coder{constructor(s){super("null","",s,!1)}defaultValue(){return null}encode(s,i){return i!=null&&this._throwError("not null",i),s.writeBytes(e)}decode(s){return s.readBytes(0),null}}return qs.NullCoder=r,qs}var Ws={},Zf;function hA(){if(Zf)return Ws;Zf=1,Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.NumberCoder=void 0;const t=fe(),e=Lr(),r=rr(),n=BigInt(0),s=BigInt(1),i=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class a extends r.Coder{size;signed;constructor(u,l,c){const f=(l?"int":"uint")+u*8;super(f,f,c,!1),(0,t.defineProperties)(this,{size:u,signed:l},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(u,l){let c=(0,t.getBigInt)(e.Typed.dereference(l,this.type)),f=(0,t.mask)(i,r.WordSize*8);if(this.signed){let h=(0,t.mask)(f,this.size*8-1);(c>h||c<-(h+s))&&this._throwError("value out-of-bounds",l),c=(0,t.toTwos)(c,8*r.WordSize)}else(c<n||c>(0,t.mask)(f,this.size*8))&&this._throwError("value out-of-bounds",l);return u.writeValue(c)}decode(u){let l=(0,t.mask)(u.readValue(),this.size*8);return this.signed&&(l=(0,t.fromTwos)(l,this.size*8)),l}}return Ws.NumberCoder=a,Ws}var Zs={},Yf;function gA(){if(Yf)return Zs;Yf=1,Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.StringCoder=void 0;const t=Yc(),e=Lr(),r=Cg();class n extends r.DynamicBytesCoder{constructor(i){super("string",i)}defaultValue(){return""}encode(i,a){return super.encode(i,(0,t.toUtf8Bytes)(e.Typed.dereference(a,"string")))}decode(i){return(0,t.toUtf8String)(super.decode(i))}}return Zs.StringCoder=n,Zs}var Ys={},Xf;function pA(){if(Xf)return Ys;Xf=1,Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.TupleCoder=void 0;const t=Kn(),e=Lr(),r=rr(),n=Rg();class s extends r.Coder{coders;constructor(a,o){let u=!1;const l=[];a.forEach(f=>{f.dynamic&&(u=!0),l.push(f.type)});const c="tuple("+l.join(",")+")";super("tuple",c,o,u),(0,t.defineProperties)(this,{coders:Object.freeze(a.slice())})}defaultValue(){const a=[];this.coders.forEach(u=>{a.push(u.defaultValue())});const o=this.coders.reduce((u,l)=>{const c=l.localName;return c&&(u[c]||(u[c]=0),u[c]++),u},{});return this.coders.forEach((u,l)=>{let c=u.localName;!c||o[c]!==1||(c==="length"&&(c="_length"),a[c]==null&&(a[c]=a[l]))}),Object.freeze(a)}encode(a,o){const u=e.Typed.dereference(o,"tuple");return(0,n.pack)(a,this.coders,u)}decode(a){return(0,n.unpack)(a,this.coders)}}return Ys.TupleCoder=s,Ys}var We={},Ho={},Xs={},$f;function Sg(){if($f)return Xs;$f=1,Object.defineProperty(Xs,"__esModule",{value:!0}),Xs.id=void 0;const t=ht(),e=fe();function r(n){return(0,t.keccak256)((0,e.toUtf8Bytes)(n))}return Xs.id=r,Xs}var Kt={},_t={},ed;function bA(){if(ed)return _t;ed=1;var t="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";const e=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),r=4;function n(G){let z=0;function W(){return G[z++]<<8|G[z++]}let $=W(),X=1,se=[0,1];for(let ar=1;ar<$;ar++)se.push(X+=W());let ae=W(),ue=z;z+=ae;let Re=0,Fe=0;function we(){return Re==0&&(Fe=Fe<<8|G[z++],Re=8),Fe>>--Re&1}const Be=31,ve=2**Be,Te=ve>>>1,nt=Te>>1,qe=ve-1;let et=0;for(let ar=0;ar<Be;ar++)et=et<<1|we();let ir=[],Wn=0,la=ve;for(;;){let ar=Math.floor(((et-Wn+1)*X-1)/la),Xr=0,io=$;for(;io-Xr>1;){let ao=Xr+io>>>1;ar<se[ao]?io=ao:Xr=ao}if(Xr==0)break;ir.push(Xr);let Mr=Wn+Math.floor(la*se[Xr]/X),$r=Wn+Math.floor(la*se[Xr+1]/X)-1;for(;((Mr^$r)&Te)==0;)et=et<<1&qe|we(),Mr=Mr<<1&qe,$r=$r<<1&qe|1;for(;Mr&~$r&nt;)et=et&Te|et<<1&qe>>>1|we(),Mr=Mr<<1^Te,$r=($r^Te)<<1|Te|1;Wn=Mr,la=1+$r-Mr}let fa=$-4;return ir.map(ar=>{switch(ar-fa){case 3:return fa+65792+(G[ue++]<<16|G[ue++]<<8|G[ue++]);case 2:return fa+256+(G[ue++]<<8|G[ue++]);case 1:return fa+G[ue++];default:return ar-1}})}function s(G){let z=0;return()=>G[z++]}function i(G){return s(n(a(G)))}function a(G){let z=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((X,se)=>z[X.charCodeAt(0)]=se);let W=G.length,$=new Uint8Array(6*W>>3);for(let X=0,se=0,ae=0,ue=0;X<W;X++)ue=ue<<6|z[G.charCodeAt(X)],ae+=6,ae>=8&&($[se++]=ue>>(ae-=8));return $}function o(G){return G&1?~G>>1:G>>1}function u(G,z){let W=Array(G);for(let $=0,X=0;$<G;$++)W[$]=X+=o(z());return W}function l(G,z=0){let W=[];for(;;){let $=G(),X=G();if(!X)break;z+=$;for(let se=0;se<X;se++)W.push(z+se);z+=X+1}return W}function c(G){return h(()=>{let z=l(G);if(z.length)return z})}function f(G){let z=[];for(;;){let W=G();if(W==0)break;z.push(k(W,G))}for(;;){let W=G()-1;if(W<0)break;z.push(E(W,G))}return z.flat()}function h(G){let z=[];for(;;){let W=G(z.length);if(!W)break;z.push(W)}return z}function b(G,z,W){let $=Array(G).fill().map(()=>[]);for(let X=0;X<z;X++)u(G,W).forEach((se,ae)=>$[ae].push(se));return $}function k(G,z){let W=1+z(),$=z(),X=h(z);return b(X.length,1+G,z).flatMap((ae,ue)=>{let[Re,...Fe]=ae;return Array(X[ue]).fill().map((we,Be)=>{let ve=Be*$;return[Re+Be*W,Fe.map(Te=>Te+ve)]})})}function E(G,z){let W=1+z();return b(W,1+G,z).map(X=>[X[0],X.slice(1)])}function d(G){let z=[],W=l(G);return X($([]),[]),z;function $(se){let ae=G(),ue=h(()=>{let Re=l(G).map(Fe=>W[Fe]);if(Re.length)return $(Re)});return{S:ae,B:ue,Q:se}}function X({S:se,B:ae},ue,Re){if(!(se&4&&Re===ue[ue.length-1])){se&2&&(Re=ue[ue.length-1]),se&1&&z.push(ue);for(let Fe of ae)for(let we of Fe.Q)X(Fe,[...ue,we],Re)}}}function p(G){return G.toString(16).toUpperCase().padStart(2,"0")}function y(G){return`{${p(G)}}`}function w(G){let z=[];for(let W=0,$=G.length;W<$;){let X=G.codePointAt(W);W+=X<65536?1:2,z.push(X)}return z}function x(G){let W=G.length;if(W<4096)return String.fromCodePoint(...G);let $=[];for(let X=0;X<W;)$.push(String.fromCodePoint(...G.slice(X,X+=4096)));return $.join("")}function O(G,z){let W=G.length,$=W-z.length;for(let X=0;$==0&&X<W;X++)$=G[X]-z[X];return $}var P="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const A=44032,g=4352,B=4449,C=4519,N=19,F=21,U=28,I=F*U,v=N*I,m=A+v,R=g+N,S=B+F,_=C+U;function L(G){return G>>24&255}function D(G){return G&16777215}let M,Q,j,J;function q(){let G=i(P);M=new Map(c(G).flatMap((z,W)=>z.map($=>[$,W+1<<24]))),Q=new Set(l(G)),j=new Map,J=new Map;for(let[z,W]of f(G)){if(!Q.has(z)&&W.length==2){let[$,X]=W,se=J.get($);se||(se=new Map,J.set($,se)),se.set(X,z)}j.set(z,W.reverse())}}function ee(G){return G>=A&&G<m}function te(G,z){if(G>=g&&G<R&&z>=B&&z<S)return A+(G-g)*I+(z-B)*U;if(ee(G)&&z>C&&z<_&&(G-A)%U==0)return G+(z-C);{let W=J.get(G);return W&&(W=W.get(z),W)?W:-1}}function Z(G){M||q();let z=[],W=[],$=!1;function X(se){let ae=M.get(se);ae&&($=!0,se|=ae),z.push(se)}for(let se of G)for(;;){if(se<128)z.push(se);else if(ee(se)){let ae=se-A,ue=ae/I|0,Re=ae%I/U|0,Fe=ae%U;X(g+ue),X(B+Re),Fe>0&&X(C+Fe)}else{let ae=j.get(se);ae?W.push(...ae):X(se)}if(!W.length)break;se=W.pop()}if($&&z.length>1){let se=L(z[0]);for(let ae=1;ae<z.length;ae++){let ue=L(z[ae]);if(ue==0||se<=ue){se=ue;continue}let Re=ae-1;for(;;){let Fe=z[Re+1];if(z[Re+1]=z[Re],z[Re]=Fe,!Re||(se=L(z[--Re]),se<=ue))break}se=L(z[ae])}}return z}function ie(G){let z=[],W=[],$=-1,X=0;for(let se of G){let ae=L(se),ue=D(se);if($==-1)ae==0?$=ue:z.push(ue);else if(X>0&&X>=ae)ae==0?(z.push($,...W),W.length=0,$=ue):W.push(ue),X=ae;else{let Re=te($,ue);Re>=0?$=Re:X==0&&ae==0?(z.push($),$=ue):(W.push(ue),X=ae)}}return $>=0&&z.push($,...W),z}function pe(G){return Z(G).map(D)}function de(G){return ie(Z(G))}const ne=45,Y=46,T=".",H=65039,K=1,oe=G=>Array.from(G);function ce(G,z){return G.P.has(z)||G.Q.has(z)}class ye extends Array{get is_emoji(){return!0}}let he,me,Ce,Ke,at,hr,mt,Ht,gt,rt,sr,Dr;function gr(){if(he)return;let G=i(t);const z=()=>l(G),W=()=>new Set(z()),$=(we,Be)=>Be.forEach(ve=>we.add(ve));he=new Map(f(G)),me=W(),Ce=z(),Ke=new Set(z().map(we=>Ce[we])),Ce=new Set(Ce),at=W(),hr=W();let X=c(G),se=G();const ae=()=>{let we=new Set;return z().forEach(Be=>$(we,X[Be])),$(we,z()),we};mt=h(we=>{let Be=h(G).map(ve=>ve+96);if(Be.length){let ve=we>=se;Be[0]-=32,Be=x(Be),ve&&(Be=`Restricted[${Be}]`);let Te=ae(),nt=ae(),qe=!G();return{N:Be,P:Te,Q:nt,M:qe,R:ve}}}),Ht=W(),gt=new Map;let ue=z().concat(oe(Ht)).sort((we,Be)=>we-Be);ue.forEach((we,Be)=>{let ve=G(),Te=ue[Be]=ve?ue[Be-ve]:{V:[],M:new Map};Te.V.push(we),Ht.has(we)||gt.set(we,Te)});for(let{V:we,M:Be}of new Set(gt.values())){let ve=[];for(let nt of we){let qe=mt.filter(ir=>ce(ir,nt)),et=ve.find(({G:ir})=>qe.some(Wn=>ir.has(Wn)));et||(et={G:new Set,V:[]},ve.push(et)),et.V.push(nt),$(et.G,qe)}let Te=ve.flatMap(nt=>oe(nt.G));for(let{G:nt,V:qe}of ve){let et=new Set(Te.filter(ir=>!nt.has(ir)));for(let ir of qe)Be.set(ir,et)}}rt=new Set;let Re=new Set;const Fe=we=>rt.has(we)?Re.add(we):rt.add(we);for(let we of mt){for(let Be of we.P)Fe(Be);for(let Be of we.Q)Fe(Be)}for(let we of rt)!gt.has(we)&&!Re.has(we)&&gt.set(we,K);$(rt,pe(rt)),sr=d(G).map(we=>ye.from(we)).sort(O),Dr=new Map;for(let we of sr){let Be=[Dr];for(let ve of we){let Te=Be.map(nt=>{let qe=nt.get(ve);return qe||(qe=new Map,nt.set(ve,qe)),qe});ve===H?Be.push(...Te):Be=Te}for(let ve of Be)ve.V=we}}function qn(G){return(to(G)?"":`${eo(ws([G]))} `)+y(G)}function eo(G){return`"${G}"‎`}function sp(G){if(G.length>=4&&G[2]==ne&&G[3]==ne)throw new Error(`invalid label extension: "${x(G.slice(0,4))}"`)}function ip(G){for(let W=G.lastIndexOf(95);W>0;)if(G[--W]!==95)throw new Error("underscore allowed only at start")}function ap(G){let z=G[0],W=e.get(z);if(W)throw As(`leading ${W}`);let $=G.length,X=-1;for(let se=1;se<$;se++){z=G[se];let ae=e.get(z);if(ae){if(X==se)throw As(`${W} + ${ae}`);X=se+1,W=ae}}if(X==$)throw As(`trailing ${W}`)}function ws(G,z=1/0,W=y){let $=[];pu(G[0])&&$.push("◌"),G.length>z&&(z>>=1,G=[...G.slice(0,z),8230,...G.slice(-z)]);let X=0,se=G.length;for(let ae=0;ae<se;ae++){let ue=G[ae];to(ue)&&($.push(x(G.slice(X,ae))),$.push(W(ue)),X=ae+1)}return $.push(x(G.slice(X,se))),$.join("")}function pu(G){return gr(),Ce.has(G)}function to(G){return gr(),at.has(G)}function op(){return gr(),sr.map(G=>G.slice())}function cp(G,z){gr();let W=z?pe:de;return G.split(T).map($=>x(xu(w($),W,ua).flat())).join(T)}function up(G){return bu(ro(G,de,ua))}function lp(G){let z=ro(G,de,W=>W);for(let{type:W,output:$,error:X}of z){if(X)break;W!=="Greek"&&fp($,958,926)}return bu(z)}function fp(G,z,W){let $=0;for(;;){let X=G.indexOf(z,$);if(X<0)break;G[X]=W,$=X+1}}function dp(G,z){return ro(G,de,z?W=>W.slice():ua)}function ro(G,z,W){if(!G)return[];gr();let $=0;return G.split(T).map(X=>{let se=w(X),ae={input:se,offset:$};$+=se.length+1;try{let ue=ae.tokens=xu(se,z,W),Re=ue.length,Fe;if(!Re)throw new Error("empty label");let we=ae.output=ue.flat();if(ip(we),!(ae.emoji=Re>1||ue[0].is_emoji)&&we.every(ve=>ve<128))sp(we),Fe="ASCII";else{let ve=ue.flatMap(Te=>Te.is_emoji?[]:Te);if(!ve.length)Fe="Emoji";else{if(Ce.has(we[0]))throw As("leading combining mark");for(let qe=1;qe<Re;qe++){let et=ue[qe];if(!et.is_emoji&&Ce.has(et[0]))throw As(`emoji + combining mark: "${x(ue[qe-1])} + ${ws([et[0]])}"`)}ap(we);let Te=oe(new Set(ve)),[nt]=gp(Te);pp(nt,ve),hp(nt,Te),Fe=nt.N}}ae.type=Fe}catch(ue){ae.error=ue}return ae})}function hp(G,z){let W,$=[];for(let X of z){let se=gt.get(X);if(se===K)return;if(se){let ae=se.M.get(X);if(W=W?W.filter(ue=>ae.has(ue)):oe(ae),!W.length)return}else $.push(X)}if(W){for(let X of W)if($.every(se=>ce(X,se)))throw new Error(`whole-script confusable: ${G.N}/${X.N}`)}}function gp(G){let z=mt;for(let W of G){let $=z.filter(X=>ce(X,W));if(!$.length)throw mt.some(X=>ce(X,W))?yu(z[0],W):mu(W);if(z=$,$.length==1)break}return z}function bu(G){return G.map(({input:z,error:W,output:$})=>{if(W){let X=W.message;throw new Error(G.length==1?X:`Invalid label ${eo(ws(z,63))}: ${X}`)}return x($)}).join(T)}function mu(G){return new Error(`disallowed character: ${qn(G)}`)}function yu(G,z){let W=qn(z),$=mt.find(X=>X.P.has(z));return $&&(W=`${$.N} ${W}`),new Error(`illegal mixture: ${G.N} + ${W}`)}function As(G){return new Error(`illegal placement: ${G}`)}function pp(G,z){for(let W of z)if(!ce(G,W))throw yu(G,W);if(G.M){let W=pe(z);for(let $=1,X=W.length;$<X;$++)if(Ke.has(W[$])){let se=$+1;for(let ae;se<X&&Ke.has(ae=W[se]);se++)for(let ue=$;ue<se;ue++)if(W[ue]==ae)throw new Error(`duplicate non-spacing marks: ${qn(ae)}`);if(se-$>r)throw new Error(`excessive non-spacing marks: ${eo(ws(W.slice($-1,se)))} (${se-$}/${r})`);$=se}}}function xu(G,z,W){let $=[],X=[];for(G=G.slice().reverse();G.length;){let se=wu(G);if(se)X.length&&($.push(z(X)),X=[]),$.push(W(se));else{let ae=G.pop();if(rt.has(ae))X.push(ae);else{let ue=he.get(ae);if(ue)X.push(...ue);else if(!me.has(ae))throw mu(ae)}}}return X.length&&$.push(z(X)),$}function ua(G){return G.filter(z=>z!=H)}function wu(G,z){let W=Dr,$,X=G.length;for(;X&&(W=W.get(G[--X]),!!W);){let{V:se}=W;se&&($=se,z&&z.push(...G.slice(X).reverse()),G.length=X)}return $}const Es="valid",Au="mapped",no="ignored",bp="disallowed",mp="emoji",yp="nfc",xp="stop";function Eu(G,{nf:z=!0}={}){gr();let W=w(G).reverse(),$=[],X=[];for(;W.length;){let se=wu(W,$);if(se)X.push({type:mp,emoji:se.slice(),input:$,cps:ua(se)}),$=[];else{let ae=W.pop();if(ae==Y)X.push({type:xp,cp:ae});else if(rt.has(ae))X.push({type:Es,cps:[ae]});else if(me.has(ae))X.push({type:no,cp:ae});else{let ue=he.get(ae);ue?X.push({type:Au,cp:ae,cps:ue.slice()}):X.push({type:bp,cp:ae})}}}if(z)for(let se=0,ae=-1;se<X.length;se++){let ue=X[se];if(so(ue.type))if(Pu(ue.cps)){let Re=se+1;for(let ve=Re;ve<X.length;ve++){let{type:Te,cps:nt}=X[ve];if(so(Te)){if(!Pu(nt))break;Re=ve+1}else if(Te!==no)break}ae<0&&(ae=se);let Fe=X.slice(ae,Re),we=Fe.flatMap(ve=>so(ve.type)?ve.cps:[]),Be=de(we);O(Be,we)?(X.splice(ae,Re-ae,{type:yp,input:we,cps:Be,tokens0:vu(Fe),tokens:Eu(x(Be),{nf:!1})}),se=ae):se=Re-1,ae=-1}else ae=se;else ue.type!==no&&(ae=-1)}return vu(X)}function so(G){return G==Es||G==Au}function Pu(G){return G.some(z=>hr.has(z))}function vu(G){for(let z=0;z<G.length;z++)if(G[z].type==Es){let W=z+1;for(;W<G.length&&G[W].type==Es;)W++;G.splice(z,W-z,{type:Es,cps:G.slice(z,W).flatMap($=>$.cps)})}return G}return _t.ens_beautify=lp,_t.ens_emoji=op,_t.ens_normalize=up,_t.ens_normalize_fragment=cp,_t.ens_split=dp,_t.ens_tokenize=Eu,_t.is_combining_mark=pu,_t.nfc=de,_t.nfd=pe,_t.safe_str_from_cps=ws,_t.should_escape=to,_t}var td;function mA(){if(td)return Kt;td=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.dnsEncode=Kt.namehash=Kt.isValidName=Kt.ensNormalize=void 0;const t=ht(),e=fe(),r=bA(),n=new Uint8Array(32);n.fill(0);function s(c){return(0,e.assertArgument)(c.length!==0,"invalid ENS name; empty component","comp",c),c}function i(c){const f=(0,e.toUtf8Bytes)(a(c)),h=[];if(c.length===0)return h;let b=0;for(let k=0;k<f.length;k++)f[k]===46&&(h.push(s(f.slice(b,k))),b=k+1);return(0,e.assertArgument)(b<f.length,"invalid ENS name; empty component","name",c),h.push(s(f.slice(b))),h}function a(c){try{if(c.length===0)throw new Error("empty label");return(0,r.ens_normalize)(c)}catch(f){(0,e.assertArgument)(!1,`invalid ENS name (${f.message})`,"name",c)}}Kt.ensNormalize=a;function o(c){try{return i(c).length!==0}catch{}return!1}Kt.isValidName=o;function u(c){(0,e.assertArgument)(typeof c=="string","invalid ENS name; not a string","name",c),(0,e.assertArgument)(c.length,"invalid ENS name (empty label)","name",c);let f=n;const h=i(c);for(;h.length;)f=(0,t.keccak256)((0,e.concat)([f,(0,t.keccak256)(h.pop())]));return(0,e.hexlify)(f)}Kt.namehash=u;function l(c,f){const h=f??63;return(0,e.assertArgument)(h<=255,"DNS encoded label cannot exceed 255","length",h),(0,e.hexlify)((0,e.concat)(i(c).map(b=>{(0,e.assertArgument)(b.length<=h,`label ${JSON.stringify(c)} exceeds ${h} bytes`,"name",c);const k=new Uint8Array(b.length+1);return k.set(b,1),k[0]=k.length-1,k})))+"00"}return Kt.dnsEncode=l,Kt}var mn={},Go={},$s={},rd;function _g(){if(rd)return $s;rd=1,Object.defineProperty($s,"__esModule",{value:!0}),$s.accessListify=void 0;const t=lt(),e=fe();function r(s,i){return{address:(0,t.getAddress)(s),storageKeys:i.map((a,o)=>((0,e.assertArgument)((0,e.isHexString)(a,32),"invalid slot",`storageKeys[${o}]`,a),a.toLowerCase()))}}function n(s){if(Array.isArray(s))return s.map((a,o)=>Array.isArray(a)?((0,e.assertArgument)(a.length===2,"invalid slot set",`value[${o}]`,a),r(a[0],a[1])):((0,e.assertArgument)(a!=null&&typeof a=="object","invalid address-slot set","value",s),r(a.address,a.storageKeys)));(0,e.assertArgument)(s!=null&&typeof s=="object","invalid access list","value",s);const i=Object.keys(s).map(a=>{const o=s[a].reduce((u,l)=>(u[l]=!0,u),{});return r(a,Object.keys(o).sort())});return i.sort((a,o)=>a.address.localeCompare(o.address)),i}return $s.accessListify=n,$s}var yn={},nd;function Ig(){if(nd)return yn;nd=1,Object.defineProperty(yn,"__esModule",{value:!0}),yn.recoverAddress=yn.computeAddress=void 0;const t=lt(),e=ht();function r(s){let i;return typeof s=="string"?i=e.SigningKey.computePublicKey(s,!1):i=s.publicKey,(0,t.getAddress)((0,e.keccak256)("0x"+i.substring(4)).substring(26))}yn.computeAddress=r;function n(s,i){return r(e.SigningKey.recoverPublicKey(s,i))}return yn.recoverAddress=n,yn}var ei={},sd;function yA(){if(sd)return ei;sd=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.Transaction=void 0;const t=lt(),e=Bg(),r=ht(),n=fe(),s=_g(),i=Ig(),a=BigInt(0),o=BigInt(2),u=BigInt(27),l=BigInt(28),c=BigInt(35),f=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),h=4096*32;function b(v,m){let R=v.toString(16);for(;R.length<2;)R="0"+R;return R+=(0,r.sha256)(m).substring(4),"0x"+R}function k(v){return v==="0x"?null:(0,t.getAddress)(v)}function E(v,m){try{return(0,s.accessListify)(v)}catch(R){(0,n.assertArgument)(!1,R.message,m,v)}}function d(v,m){return v==="0x"?0:(0,n.getNumber)(v,m)}function p(v,m){if(v==="0x")return a;const R=(0,n.getBigInt)(v,m);return(0,n.assertArgument)(R<=f,"value exceeds uint size",m,R),R}function y(v,m){const R=(0,n.getBigInt)(v,"value"),S=(0,n.toBeArray)(R);return(0,n.assertArgument)(S.length<=32,"value too large",`tx.${m}`,R),S}function w(v){return(0,s.accessListify)(v).map(m=>[m.address,m.storageKeys])}function x(v,m){(0,n.assertArgument)(Array.isArray(v),`invalid ${m}`,"value",v);for(let R=0;R<v.length;R++)(0,n.assertArgument)((0,n.isHexString)(v[R],32),"invalid ${ param } hash",`value[${R}]`,v[R]);return v}function O(v){const m=(0,n.decodeRlp)(v);(0,n.assertArgument)(Array.isArray(m)&&(m.length===9||m.length===6),"invalid field count for legacy transaction","data",v);const R={type:0,nonce:d(m[0],"nonce"),gasPrice:p(m[1],"gasPrice"),gasLimit:p(m[2],"gasLimit"),to:k(m[3]),value:p(m[4],"value"),data:(0,n.hexlify)(m[5]),chainId:a};if(m.length===6)return R;const S=p(m[6],"v"),_=p(m[7],"r"),L=p(m[8],"s");if(_===a&&L===a)R.chainId=S;else{let D=(S-c)/o;D<a&&(D=a),R.chainId=D,(0,n.assertArgument)(D!==a||S===u||S===l,"non-canonical legacy v","v",m[6]),R.signature=r.Signature.from({r:(0,n.zeroPadValue)(m[7],32),s:(0,n.zeroPadValue)(m[8],32),v:S})}return R}function P(v,m){const R=[y(v.nonce,"nonce"),y(v.gasPrice||0,"gasPrice"),y(v.gasLimit,"gasLimit"),v.to||"0x",y(v.value,"value"),v.data];let S=a;if(v.chainId!=a)S=(0,n.getBigInt)(v.chainId,"tx.chainId"),(0,n.assertArgument)(!m||m.networkV==null||m.legacyChainId===S,"tx.chainId/sig.v mismatch","sig",m);else if(v.signature){const L=v.signature.legacyChainId;L!=null&&(S=L)}if(!m)return S!==a&&(R.push((0,n.toBeArray)(S)),R.push("0x"),R.push("0x")),(0,n.encodeRlp)(R);let _=BigInt(27+m.yParity);return S!==a?_=r.Signature.getChainIdV(S,m.v):BigInt(m.v)!==_&&(0,n.assertArgument)(!1,"tx.chainId/sig.v mismatch","sig",m),R.push((0,n.toBeArray)(_)),R.push((0,n.toBeArray)(m.r)),R.push((0,n.toBeArray)(m.s)),(0,n.encodeRlp)(R)}function A(v,m){let R;try{if(R=d(m[0],"yParity"),R!==0&&R!==1)throw new Error("bad yParity")}catch{(0,n.assertArgument)(!1,"invalid yParity","yParity",m[0])}const S=(0,n.zeroPadValue)(m[1],32),_=(0,n.zeroPadValue)(m[2],32),L=r.Signature.from({r:S,s:_,yParity:R});v.signature=L}function g(v){const m=(0,n.decodeRlp)((0,n.getBytes)(v).slice(1));(0,n.assertArgument)(Array.isArray(m)&&(m.length===9||m.length===12),"invalid field count for transaction type: 2","data",(0,n.hexlify)(v));const R={type:2,chainId:p(m[0],"chainId"),nonce:d(m[1],"nonce"),maxPriorityFeePerGas:p(m[2],"maxPriorityFeePerGas"),maxFeePerGas:p(m[3],"maxFeePerGas"),gasPrice:null,gasLimit:p(m[4],"gasLimit"),to:k(m[5]),value:p(m[6],"value"),data:(0,n.hexlify)(m[7]),accessList:E(m[8],"accessList")};return m.length===9||A(R,m.slice(9)),R}function B(v,m){const R=[y(v.chainId,"chainId"),y(v.nonce,"nonce"),y(v.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),y(v.maxFeePerGas||0,"maxFeePerGas"),y(v.gasLimit,"gasLimit"),v.to||"0x",y(v.value,"value"),v.data,w(v.accessList||[])];return m&&(R.push(y(m.yParity,"yParity")),R.push((0,n.toBeArray)(m.r)),R.push((0,n.toBeArray)(m.s))),(0,n.concat)(["0x02",(0,n.encodeRlp)(R)])}function C(v){const m=(0,n.decodeRlp)((0,n.getBytes)(v).slice(1));(0,n.assertArgument)(Array.isArray(m)&&(m.length===8||m.length===11),"invalid field count for transaction type: 1","data",(0,n.hexlify)(v));const R={type:1,chainId:p(m[0],"chainId"),nonce:d(m[1],"nonce"),gasPrice:p(m[2],"gasPrice"),gasLimit:p(m[3],"gasLimit"),to:k(m[4]),value:p(m[5],"value"),data:(0,n.hexlify)(m[6]),accessList:E(m[7],"accessList")};return m.length===8||A(R,m.slice(8)),R}function N(v,m){const R=[y(v.chainId,"chainId"),y(v.nonce,"nonce"),y(v.gasPrice||0,"gasPrice"),y(v.gasLimit,"gasLimit"),v.to||"0x",y(v.value,"value"),v.data,w(v.accessList||[])];return m&&(R.push(y(m.yParity,"recoveryParam")),R.push((0,n.toBeArray)(m.r)),R.push((0,n.toBeArray)(m.s))),(0,n.concat)(["0x01",(0,n.encodeRlp)(R)])}function F(v){let m=(0,n.decodeRlp)((0,n.getBytes)(v).slice(1)),R="3",S=null;if(m.length===4&&Array.isArray(m[0])){R="3 (network format)";const L=m[1],D=m[2],M=m[3];(0,n.assertArgument)(Array.isArray(L),"invalid network format: blobs not an array","fields[1]",L),(0,n.assertArgument)(Array.isArray(D),"invalid network format: commitments not an array","fields[2]",D),(0,n.assertArgument)(Array.isArray(M),"invalid network format: proofs not an array","fields[3]",M),(0,n.assertArgument)(L.length===D.length,"invalid network format: blobs/commitments length mismatch","fields",m),(0,n.assertArgument)(L.length===M.length,"invalid network format: blobs/proofs length mismatch","fields",m),S=[];for(let Q=0;Q<m[1].length;Q++)S.push({data:L[Q],commitment:D[Q],proof:M[Q]});m=m[0]}(0,n.assertArgument)(Array.isArray(m)&&(m.length===11||m.length===14),`invalid field count for transaction type: ${R}`,"data",(0,n.hexlify)(v));const _={type:3,chainId:p(m[0],"chainId"),nonce:d(m[1],"nonce"),maxPriorityFeePerGas:p(m[2],"maxPriorityFeePerGas"),maxFeePerGas:p(m[3],"maxFeePerGas"),gasPrice:null,gasLimit:p(m[4],"gasLimit"),to:k(m[5]),value:p(m[6],"value"),data:(0,n.hexlify)(m[7]),accessList:E(m[8],"accessList"),maxFeePerBlobGas:p(m[9],"maxFeePerBlobGas"),blobVersionedHashes:m[10]};S&&(_.blobs=S),(0,n.assertArgument)(_.to!=null,`invalid address for transaction type: ${R}`,"data",v),(0,n.assertArgument)(Array.isArray(_.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",v);for(let L=0;L<_.blobVersionedHashes.length;L++)(0,n.assertArgument)((0,n.isHexString)(_.blobVersionedHashes[L],32),`invalid blobVersionedHash at index ${L}: must be length 32`,"data",v);return m.length===11||A(_,m.slice(11)),_}function U(v,m,R){const S=[y(v.chainId,"chainId"),y(v.nonce,"nonce"),y(v.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),y(v.maxFeePerGas||0,"maxFeePerGas"),y(v.gasLimit,"gasLimit"),v.to||e.ZeroAddress,y(v.value,"value"),v.data,w(v.accessList||[]),y(v.maxFeePerBlobGas||0,"maxFeePerBlobGas"),x(v.blobVersionedHashes||[],"blobVersionedHashes")];return m&&(S.push(y(m.yParity,"yParity")),S.push((0,n.toBeArray)(m.r)),S.push((0,n.toBeArray)(m.s)),R)?(0,n.concat)(["0x03",(0,n.encodeRlp)([S,R.map(_=>_.data),R.map(_=>_.commitment),R.map(_=>_.proof)])]):(0,n.concat)(["0x03",(0,n.encodeRlp)(S)])}class I{#e;#t;#r;#n;#s;#a;#i;#o;#h;#u;#g;#p;#c;#l;#f;#d;get type(){return this.#e}set type(m){switch(m){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;default:(0,n.assertArgument)(!1,"unsupported transaction type","type",m)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const m=this.#t;return m==null&&this.type===3?e.ZeroAddress:m}set to(m){this.#t=m==null?null:(0,t.getAddress)(m)}get nonce(){return this.#n}set nonce(m){this.#n=(0,n.getNumber)(m,"value")}get gasLimit(){return this.#s}set gasLimit(m){this.#s=(0,n.getBigInt)(m)}get gasPrice(){const m=this.#a;return m==null&&(this.type===0||this.type===1)?a:m}set gasPrice(m){this.#a=m==null?null:(0,n.getBigInt)(m,"gasPrice")}get maxPriorityFeePerGas(){const m=this.#i;return m??(this.type===2||this.type===3?a:null)}set maxPriorityFeePerGas(m){this.#i=m==null?null:(0,n.getBigInt)(m,"maxPriorityFeePerGas")}get maxFeePerGas(){const m=this.#o;return m??(this.type===2||this.type===3?a:null)}set maxFeePerGas(m){this.#o=m==null?null:(0,n.getBigInt)(m,"maxFeePerGas")}get data(){return this.#r}set data(m){this.#r=(0,n.hexlify)(m)}get value(){return this.#h}set value(m){this.#h=(0,n.getBigInt)(m,"value")}get chainId(){return this.#u}set chainId(m){this.#u=(0,n.getBigInt)(m)}get signature(){return this.#g||null}set signature(m){this.#g=m==null?null:r.Signature.from(m)}get accessList(){const m=this.#p||null;return m??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(m){this.#p=m==null?null:(0,s.accessListify)(m)}get maxFeePerBlobGas(){const m=this.#c;return m==null&&this.type===3?a:m}set maxFeePerBlobGas(m){this.#c=m==null?null:(0,n.getBigInt)(m,"maxFeePerBlobGas")}get blobVersionedHashes(){let m=this.#l;return m==null&&this.type===3?[]:m}set blobVersionedHashes(m){if(m!=null){(0,n.assertArgument)(Array.isArray(m),"blobVersionedHashes must be an Array","value",m),m=m.slice();for(let R=0;R<m.length;R++)(0,n.assertArgument)((0,n.isHexString)(m[R],32),"invalid blobVersionedHash",`value[${R}]`,m[R])}this.#l=m}get blobs(){return this.#d==null?null:this.#d.map(m=>Object.assign({},m))}set blobs(m){if(m==null){this.#d=null;return}const R=[],S=[];for(let _=0;_<m.length;_++){const L=m[_];if((0,n.isBytesLike)(L)){(0,n.assert)(this.#f,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let D=(0,n.getBytes)(L);if((0,n.assertArgument)(D.length<=h,"blob is too large",`blobs[${_}]`,L),D.length!==h){const j=new Uint8Array(h);j.set(D),D=j}const M=this.#f.blobToKzgCommitment(D),Q=(0,n.hexlify)(this.#f.computeBlobKzgProof(D,M));R.push({data:(0,n.hexlify)(D),commitment:(0,n.hexlify)(M),proof:Q}),S.push(b(1,M))}else{const D=(0,n.hexlify)(L.commitment);R.push({data:(0,n.hexlify)(L.data),commitment:D,proof:(0,n.hexlify)(L.proof)}),S.push(b(1,D))}}this.#d=R,this.#l=S}get kzg(){return this.#f}set kzg(m){this.#f=m}constructor(){this.#e=null,this.#t=null,this.#n=0,this.#s=a,this.#a=null,this.#i=null,this.#o=null,this.#r="0x",this.#h=a,this.#u=a,this.#g=null,this.#p=null,this.#c=null,this.#l=null,this.#d=null,this.#f=null}get hash(){return this.signature==null?null:(0,r.keccak256)(this.#b(!0,!1))}get unsignedHash(){return(0,r.keccak256)(this.unsignedSerialized)}get from(){return this.signature==null?null:(0,i.recoverAddress)(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:r.SigningKey.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#b(m,R){(0,n.assert)(!m||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const S=m?this.signature:null;switch(this.inferType()){case 0:return P(this,S);case 1:return N(this,S);case 2:return B(this,S);case 3:return U(this,S,R?this.blobs:null)}(0,n.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#b(!0,!0)}get unsignedSerialized(){return this.#b(!1,!1)}inferType(){const m=this.inferTypes();return m.indexOf(2)>=0?2:m.pop()}inferTypes(){const m=this.gasPrice!=null,R=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,S=this.accessList!=null,_=this.#c!=null||this.#l;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&(0,n.assert)(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),(0,n.assert)(!R||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),(0,n.assert)(this.type!==0||!S,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const L=[];return this.type!=null?L.push(this.type):R?L.push(2):m?(L.push(1),S||L.push(0)):S?(L.push(1),L.push(2)):(_&&this.to||(L.push(0),L.push(1),L.push(2)),L.push(3)),L.sort(),L}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return I.from(this)}toJSON(){const m=R=>R==null?null:R.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:m(this.gasLimit),gasPrice:m(this.gasPrice),maxPriorityFeePerGas:m(this.maxPriorityFeePerGas),maxFeePerGas:m(this.maxFeePerGas),value:m(this.value),chainId:m(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(m){if(m==null)return new I;if(typeof m=="string"){const S=(0,n.getBytes)(m);if(S[0]>=127)return I.from(O(S));switch(S[0]){case 1:return I.from(C(S));case 2:return I.from(g(S));case 3:return I.from(F(S))}(0,n.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const R=new I;return m.type!=null&&(R.type=m.type),m.to!=null&&(R.to=m.to),m.nonce!=null&&(R.nonce=m.nonce),m.gasLimit!=null&&(R.gasLimit=m.gasLimit),m.gasPrice!=null&&(R.gasPrice=m.gasPrice),m.maxPriorityFeePerGas!=null&&(R.maxPriorityFeePerGas=m.maxPriorityFeePerGas),m.maxFeePerGas!=null&&(R.maxFeePerGas=m.maxFeePerGas),m.maxFeePerBlobGas!=null&&(R.maxFeePerBlobGas=m.maxFeePerBlobGas),m.data!=null&&(R.data=m.data),m.value!=null&&(R.value=m.value),m.chainId!=null&&(R.chainId=m.chainId),m.signature!=null&&(R.signature=r.Signature.from(m.signature)),m.accessList!=null&&(R.accessList=m.accessList),m.blobVersionedHashes!=null&&(R.blobVersionedHashes=m.blobVersionedHashes),m.kzg!=null&&(R.kzg=m.kzg),m.blobs!=null&&(R.blobs=m.blobs),m.hash!=null&&((0,n.assertArgument)(R.isSigned(),"unsigned transaction cannot define '.hash'","tx",m),(0,n.assertArgument)(R.hash===m.hash,"hash mismatch","tx",m)),m.from!=null&&((0,n.assertArgument)(R.isSigned(),"unsigned transaction cannot define '.from'","tx",m),(0,n.assertArgument)(R.from.toLowerCase()===(m.from||"").toLowerCase(),"from mismatch","tx",m)),R}}return ei.Transaction=I,ei}var id;function Mt(){return id||(id=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=t.recoverAddress=t.computeAddress=t.accessListify=void 0;var e=_g();Object.defineProperty(t,"accessListify",{enumerable:!0,get:function(){return e.accessListify}});var r=Ig();Object.defineProperty(t,"computeAddress",{enumerable:!0,get:function(){return r.computeAddress}}),Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return r.recoverAddress}});var n=yA();Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return n.Transaction}})})(Go)),Go}var ad;function xA(){if(ad)return mn;ad=1,Object.defineProperty(mn,"__esModule",{value:!0}),mn.verifyMessage=mn.hashMessage=void 0;const t=ht(),e=sa(),r=Mt(),n=fe();function s(a){return typeof a=="string"&&(a=(0,n.toUtf8Bytes)(a)),(0,t.keccak256)((0,n.concat)([(0,n.toUtf8Bytes)(e.MessagePrefix),(0,n.toUtf8Bytes)(String(a.length)),a]))}mn.hashMessage=s;function i(a,o){const u=s(a);return(0,r.recoverAddress)(u,o)}return mn.verifyMessage=i,mn}var yr={},od;function wA(){if(od)return yr;od=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.solidityPackedSha256=yr.solidityPackedKeccak256=yr.solidityPacked=void 0;const t=lt(),e=ht(),r=fe(),n=new RegExp("^bytes([0-9]+)$"),s=new RegExp("^(u?int)([0-9]*)$"),i=new RegExp("^(.*)\\[([0-9]*)\\]$");function a(c,f,h){switch(c){case"address":return h?(0,r.getBytes)((0,r.zeroPadValue)(f,32)):(0,r.getBytes)((0,t.getAddress)(f));case"string":return(0,r.toUtf8Bytes)(f);case"bytes":return(0,r.getBytes)(f);case"bool":return f=f?"0x01":"0x00",h?(0,r.getBytes)((0,r.zeroPadValue)(f,32)):(0,r.getBytes)(f)}let b=c.match(s);if(b){let k=b[1]==="int",E=parseInt(b[2]||"256");return(0,r.assertArgument)((!b[2]||b[2]===String(E))&&E%8===0&&E!==0&&E<=256,"invalid number type","type",c),h&&(E=256),k&&(f=(0,r.toTwos)(f,E)),(0,r.getBytes)((0,r.zeroPadValue)((0,r.toBeArray)(f),E/8))}if(b=c.match(n),b){const k=parseInt(b[1]);return(0,r.assertArgument)(String(k)===b[1]&&k!==0&&k<=32,"invalid bytes type","type",c),(0,r.assertArgument)((0,r.dataLength)(f)===k,`invalid value for ${c}`,"value",f),h?(0,r.getBytes)((0,r.zeroPadBytes)(f,32)):f}if(b=c.match(i),b&&Array.isArray(f)){const k=b[1],E=parseInt(b[2]||String(f.length));(0,r.assertArgument)(E===f.length,`invalid array length for ${c}`,"value",f);const d=[];return f.forEach(function(p){d.push(a(k,p,!0))}),(0,r.getBytes)((0,r.concat)(d))}(0,r.assertArgument)(!1,"invalid type","type",c)}function o(c,f){(0,r.assertArgument)(c.length===f.length,"wrong number of values; expected ${ types.length }","values",f);const h=[];return c.forEach(function(b,k){h.push(a(b,f[k]))}),(0,r.hexlify)((0,r.concat)(h))}yr.solidityPacked=o;function u(c,f){return(0,e.keccak256)(o(c,f))}yr.solidityPackedKeccak256=u;function l(c,f){return(0,e.sha256)(o(c,f))}return yr.solidityPackedSha256=l,yr}var xn={},cd;function AA(){if(cd)return xn;cd=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.verifyTypedData=xn.TypedDataEncoder=void 0;const t=lt(),e=ht(),r=Mt(),n=fe(),s=Sg(),i=new Uint8Array(32);i.fill(0);const a=BigInt(-1),o=BigInt(0),u=BigInt(1),l=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function c(P){const A=(0,n.getBytes)(P),g=A.length%32;return g?(0,n.concat)([A,i.slice(g)]):(0,n.hexlify)(A)}const f=(0,n.toBeHex)(u,32),h=(0,n.toBeHex)(o,32),b={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},k=["name","version","chainId","verifyingContract","salt"];function E(P){return function(A){return(0,n.assertArgument)(typeof A=="string",`invalid domain value for ${JSON.stringify(P)}`,`domain.${P}`,A),A}}const d={name:E("name"),version:E("version"),chainId:function(P){const A=(0,n.getBigInt)(P,"domain.chainId");return(0,n.assertArgument)(A>=0,"invalid chain ID","domain.chainId",P),Number.isSafeInteger(A)?Number(A):(0,n.toQuantity)(A)},verifyingContract:function(P){try{return(0,t.getAddress)(P).toLowerCase()}catch{}(0,n.assertArgument)(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",P)},salt:function(P){const A=(0,n.getBytes)(P,"domain.salt");return(0,n.assertArgument)(A.length===32,'invalid domain value "salt"',"domain.salt",P),(0,n.hexlify)(A)}};function p(P){{const A=P.match(/^(u?)int(\d+)$/);if(A){const g=A[1]==="",B=parseInt(A[2]);(0,n.assertArgument)(B%8===0&&B!==0&&B<=256&&A[2]===String(B),"invalid numeric width","type",P);const C=(0,n.mask)(l,g?B-1:B),N=g?(C+u)*a:o;return function(F){const U=(0,n.getBigInt)(F,"value");return(0,n.assertArgument)(U>=N&&U<=C,`value out-of-bounds for ${P}`,"value",U),(0,n.toBeHex)(g?(0,n.toTwos)(U,256):U,32)}}}{const A=P.match(/^bytes(\d+)$/);if(A){const g=parseInt(A[1]);return(0,n.assertArgument)(g!==0&&g<=32&&A[1]===String(g),"invalid bytes width","type",P),function(B){const C=(0,n.getBytes)(B);return(0,n.assertArgument)(C.length===g,`invalid length for ${P}`,"value",B),c(B)}}}switch(P){case"address":return function(A){return(0,n.zeroPadValue)((0,t.getAddress)(A),32)};case"bool":return function(A){return A?f:h};case"bytes":return function(A){return(0,e.keccak256)(A)};case"string":return function(A){return(0,s.id)(A)}}return null}function y(P,A){return`${P}(${A.map(({name:g,type:B})=>B+" "+g).join(",")})`}function w(P){const A=P.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return A?{base:A[1],index:A[2]+A[4],array:{base:A[1],prefix:A[1]+A[2],count:A[5]?parseInt(A[5]):-1}}:{base:P}}class x{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#r;constructor(A){this.#t=new Map,this.#r=new Map;const g=new Map,B=new Map,C=new Map,N={};Object.keys(A).forEach(I=>{N[I]=A[I].map(({name:v,type:m})=>{let{base:R,index:S}=w(m);return R==="int"&&!A.int&&(R="int256"),R==="uint"&&!A.uint&&(R="uint256"),{name:v,type:R+(S||"")}}),g.set(I,new Set),B.set(I,[]),C.set(I,new Set)}),this.#e=JSON.stringify(N);for(const I in N){const v=new Set;for(const m of N[I]){(0,n.assertArgument)(!v.has(m.name),`duplicate variable name ${JSON.stringify(m.name)} in ${JSON.stringify(I)}`,"types",A),v.add(m.name);const R=w(m.type).base;(0,n.assertArgument)(R!==I,`circular type reference to ${JSON.stringify(R)}`,"types",A),!p(R)&&((0,n.assertArgument)(B.has(R),`unknown type ${JSON.stringify(R)}`,"types",A),B.get(R).push(I),g.get(I).add(R))}}const F=Array.from(B.keys()).filter(I=>B.get(I).length===0);(0,n.assertArgument)(F.length!==0,"missing primary type","types",A),(0,n.assertArgument)(F.length===1,`ambiguous primary types or unused types: ${F.map(I=>JSON.stringify(I)).join(", ")}`,"types",A),(0,n.defineProperties)(this,{primaryType:F[0]});function U(I,v){(0,n.assertArgument)(!v.has(I),`circular type reference to ${JSON.stringify(I)}`,"types",A),v.add(I);for(const m of g.get(I))if(B.has(m)){U(m,v);for(const R of v)C.get(R).add(m)}v.delete(I)}U(this.primaryType,new Set);for(const[I,v]of C){const m=Array.from(v);m.sort(),this.#t.set(I,y(I,N[I])+m.map(R=>y(R,N[R])).join(""))}}getEncoder(A){let g=this.#r.get(A);return g||(g=this.#n(A),this.#r.set(A,g)),g}#n(A){{const C=p(A);if(C)return C}const g=w(A).array;if(g){const C=g.prefix,N=this.getEncoder(C);return F=>{(0,n.assertArgument)(g.count===-1||g.count===F.length,`array length mismatch; expected length ${g.count}`,"value",F);let U=F.map(N);return this.#t.has(C)&&(U=U.map(e.keccak256)),(0,e.keccak256)((0,n.concat)(U))}}const B=this.types[A];if(B){const C=(0,s.id)(this.#t.get(A));return N=>{const F=B.map(({name:U,type:I})=>{const v=this.getEncoder(I)(N[U]);return this.#t.has(I)?(0,e.keccak256)(v):v});return F.unshift(C),(0,n.concat)(F)}}(0,n.assertArgument)(!1,`unknown type: ${A}`,"type",A)}encodeType(A){const g=this.#t.get(A);return(0,n.assertArgument)(g,`unknown type: ${JSON.stringify(A)}`,"name",A),g}encodeData(A,g){return this.getEncoder(A)(g)}hashStruct(A,g){return(0,e.keccak256)(this.encodeData(A,g))}encode(A){return this.encodeData(this.primaryType,A)}hash(A){return this.hashStruct(this.primaryType,A)}_visit(A,g,B){if(p(A))return B(A,g);const C=w(A).array;if(C)return(0,n.assertArgument)(C.count===-1||C.count===g.length,`array length mismatch; expected length ${C.count}`,"value",g),g.map(F=>this._visit(C.prefix,F,B));const N=this.types[A];if(N)return N.reduce((F,{name:U,type:I})=>(F[U]=this._visit(I,g[U],B),F),{});(0,n.assertArgument)(!1,`unknown type: ${A}`,"type",A)}visit(A,g){return this._visit(this.primaryType,A,g)}static from(A){return new x(A)}static getPrimaryType(A){return x.from(A).primaryType}static hashStruct(A,g,B){return x.from(g).hashStruct(A,B)}static hashDomain(A){const g=[];for(const B in A){if(A[B]==null)continue;const C=b[B];(0,n.assertArgument)(C,`invalid typed-data domain key: ${JSON.stringify(B)}`,"domain",A),g.push({name:B,type:C})}return g.sort((B,C)=>k.indexOf(B.name)-k.indexOf(C.name)),x.hashStruct("EIP712Domain",{EIP712Domain:g},A)}static encode(A,g,B){return(0,n.concat)(["0x1901",x.hashDomain(A),x.from(g).hash(B)])}static hash(A,g,B){return(0,e.keccak256)(x.encode(A,g,B))}static async resolveNames(A,g,B,C){A=Object.assign({},A);for(const U in A)A[U]==null&&delete A[U];const N={};A.verifyingContract&&!(0,n.isHexString)(A.verifyingContract,20)&&(N[A.verifyingContract]="0x");const F=x.from(g);F.visit(B,(U,I)=>(U==="address"&&!(0,n.isHexString)(I,20)&&(N[I]="0x"),I));for(const U in N)N[U]=await C(U);return A.verifyingContract&&N[A.verifyingContract]&&(A.verifyingContract=N[A.verifyingContract]),B=F.visit(B,(U,I)=>U==="address"&&N[I]?N[I]:I),{domain:A,value:B}}static getPayload(A,g,B){x.hashDomain(A);const C={},N=[];k.forEach(I=>{const v=A[I];v!=null&&(C[I]=d[I](v),N.push({name:I,type:b[I]}))});const F=x.from(g);g=F.types;const U=Object.assign({},g);return(0,n.assertArgument)(U.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",g),U.EIP712Domain=N,F.encode(B),{types:U,domain:C,primaryType:F.primaryType,message:F.visit(B,(I,v)=>{if(I.match(/^bytes(\d*)/))return(0,n.hexlify)((0,n.getBytes)(v));if(I.match(/^u?int/))return(0,n.getBigInt)(v).toString();switch(I){case"address":return v.toLowerCase();case"bool":return!!v;case"string":return(0,n.assertArgument)(typeof v=="string","invalid string","value",v),v}(0,n.assertArgument)(!1,"unsupported type","type",I)})}}}xn.TypedDataEncoder=x;function O(P,A,g,B){return(0,r.recoverAddress)(x.hash(P,A,g),B)}return xn.verifyTypedData=O,xn}var ud;function Fr(){return ud||(ud=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.verifyTypedData=t.TypedDataEncoder=t.solidityPackedSha256=t.solidityPackedKeccak256=t.solidityPacked=t.verifyMessage=t.hashMessage=t.dnsEncode=t.namehash=t.isValidName=t.ensNormalize=t.id=void 0;var e=Sg();Object.defineProperty(t,"id",{enumerable:!0,get:function(){return e.id}});var r=mA();Object.defineProperty(t,"ensNormalize",{enumerable:!0,get:function(){return r.ensNormalize}}),Object.defineProperty(t,"isValidName",{enumerable:!0,get:function(){return r.isValidName}}),Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return r.namehash}}),Object.defineProperty(t,"dnsEncode",{enumerable:!0,get:function(){return r.dnsEncode}});var n=xA();Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return n.hashMessage}}),Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return n.verifyMessage}});var s=wA();Object.defineProperty(t,"solidityPacked",{enumerable:!0,get:function(){return s.solidityPacked}}),Object.defineProperty(t,"solidityPackedKeccak256",{enumerable:!0,get:function(){return s.solidityPackedKeccak256}}),Object.defineProperty(t,"solidityPackedSha256",{enumerable:!0,get:function(){return s.solidityPackedSha256}});var i=AA();Object.defineProperty(t,"TypedDataEncoder",{enumerable:!0,get:function(){return i.TypedDataEncoder}}),Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return i.verifyTypedData}})})(Ho)),Ho}var ld;function ru(){if(ld)return We;ld=1,Object.defineProperty(We,"__esModule",{value:!0}),We.StructFragment=We.FunctionFragment=We.FallbackFragment=We.ConstructorFragment=We.EventFragment=We.ErrorFragment=We.NamedFragment=We.Fragment=We.ParamType=void 0;const t=fe(),e=Fr();function r(Y){const T=new Set;return Y.forEach(H=>T.add(H)),Object.freeze(T)}const s=r("external public payable override".split(" ")),i="constant external internal payable private public pure view override",a=r(i.split(" ")),o="constructor error event fallback function receive struct",u=r(o.split(" ")),l="calldata memory storage payable indexed",c=r(l.split(" ")),h=[o,l,"tuple returns",i].join(" "),b=r(h.split(" ")),k={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},E=new RegExp("^(\\s*)"),d=new RegExp("^([0-9]+)"),p=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),y=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),w=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class x{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(T){this.#e=0,this.#t=T.slice()}clone(){return new x(this.#t)}reset(){this.#e=0}#r(T=0,H=0){return new x(this.#t.slice(T,H).map(K=>Object.freeze(Object.assign({},K,{match:K.match-T,linkBack:K.linkBack-T,linkNext:K.linkNext-T}))))}popKeyword(T){const H=this.peek();if(H.type!=="KEYWORD"||!T.has(H.text))throw new Error(`expected keyword ${H.text}`);return this.pop().text}popType(T){if(this.peek().type!==T){const H=this.peek();throw new Error(`expected ${T}; got ${H.type} ${JSON.stringify(H.text)}`)}return this.pop().text}popParen(){const T=this.peek();if(T.type!=="OPEN_PAREN")throw new Error("bad start");const H=this.#r(this.#e+1,T.match+1);return this.#e=T.match+1,H}popParams(){const T=this.peek();if(T.type!=="OPEN_PAREN")throw new Error("bad start");const H=[];for(;this.#e<T.match-1;){const K=this.peek().linkNext;H.push(this.#r(this.#e+1,K)),this.#e=K}return this.#e=T.match+1,H}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(T){const H=this.peekType("KEYWORD");return H!=null&&T.has(H)?H:null}peekType(T){if(this.length===0)return null;const H=this.peek();return H.type===T?H.text:null}pop(){const T=this.peek();return this.#e++,T}toString(){const T=[];for(let H=this.#e;H<this.#t.length;H++){const K=this.#t[H];T.push(`${K.type}:${K.text}`)}return`<TokenString ${T.join(" ")}>`}}function O(Y){const T=[],H=ye=>{const he=ce<Y.length?JSON.stringify(Y[ce]):"$EOI";throw new Error(`invalid token ${he} at ${ce}: ${ye}`)};let K=[],oe=[],ce=0;for(;ce<Y.length;){let ye=Y.substring(ce),he=ye.match(E);he&&(ce+=he[1].length,ye=Y.substring(ce));const me={depth:K.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:ce,value:-1};T.push(me);let Ce=k[ye[0]]||"";if(Ce){if(me.type=Ce,me.text=ye[0],ce++,Ce==="OPEN_PAREN")K.push(T.length-1),oe.push(T.length-1);else if(Ce=="CLOSE_PAREN")K.length===0&&H("no matching open bracket"),me.match=K.pop(),T[me.match].match=T.length-1,me.depth--,me.linkBack=oe.pop(),T[me.linkBack].linkNext=T.length-1;else if(Ce==="COMMA")me.linkBack=oe.pop(),T[me.linkBack].linkNext=T.length-1,oe.push(T.length-1);else if(Ce==="OPEN_BRACKET")me.type="BRACKET";else if(Ce==="CLOSE_BRACKET"){let Ke=T.pop().text;if(T.length>0&&T[T.length-1].type==="NUMBER"){const at=T.pop().text;Ke=at+Ke,T[T.length-1].value=(0,t.getNumber)(at)}if(T.length===0||T[T.length-1].type!=="BRACKET")throw new Error("missing opening bracket");T[T.length-1].text+=Ke}continue}if(he=ye.match(p),he){if(me.text=he[1],ce+=me.text.length,b.has(me.text)){me.type="KEYWORD";continue}if(me.text.match(w)){me.type="TYPE";continue}me.type="ID";continue}if(he=ye.match(d),he){me.text=he[1],me.type="NUMBER",ce+=me.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(ye[0])} at position ${ce}`)}return new x(T.map(ye=>Object.freeze(ye)))}function P(Y,T){let H=[];for(const K in T.keys())Y.has(K)&&H.push(K);if(H.length>1)throw new Error(`conflicting types: ${H.join(", ")}`)}function A(Y,T){if(T.peekKeyword(u)){const H=T.pop().text;if(H!==Y)throw new Error(`expected ${Y}, got ${H}`)}return T.popType("ID")}function g(Y,T){const H=new Set;for(;;){const K=Y.peekType("KEYWORD");if(K==null||T&&!T.has(K))break;if(Y.pop(),H.has(K))throw new Error(`duplicate keywords: ${JSON.stringify(K)}`);H.add(K)}return Object.freeze(H)}function B(Y){let T=g(Y,a);return P(T,r("constant payable nonpayable".split(" "))),P(T,r("pure view payable nonpayable".split(" "))),T.has("view")?"view":T.has("pure")?"pure":T.has("payable")?"payable":T.has("nonpayable")?"nonpayable":T.has("constant")?"view":"nonpayable"}function C(Y,T){return Y.popParams().map(H=>j.from(H,T))}function N(Y){if(Y.peekType("AT")){if(Y.pop(),Y.peekType("NUMBER"))return(0,t.getBigInt)(Y.pop().text);throw new Error("invalid gas")}return null}function F(Y){if(Y.length)throw new Error(`unexpected tokens at offset ${Y.offset}: ${Y.toString()}`)}const U=new RegExp(/^(.*)\[([0-9]*)\]$/);function I(Y){const T=Y.match(w);if((0,t.assertArgument)(T,"invalid type","type",Y),Y==="uint")return"uint256";if(Y==="int")return"int256";if(T[2]){const H=parseInt(T[2]);(0,t.assertArgument)(H!==0&&H<=32,"invalid bytes length","type",Y)}else if(T[3]){const H=parseInt(T[3]);(0,t.assertArgument)(H!==0&&H<=256&&H%8===0,"invalid numeric width","type",Y)}return Y}const v={},m=Symbol.for("_ethers_internal"),R="_ParamTypeInternal",S="_ErrorInternal",_="_EventInternal",L="_ConstructorInternal",D="_FallbackInternal",M="_FunctionInternal",Q="_StructInternal";class j{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(T,H,K,oe,ce,ye,he,me){if((0,t.assertPrivate)(T,v,"ParamType"),Object.defineProperty(this,m,{value:R}),ye&&(ye=Object.freeze(ye.slice())),oe==="array"){if(he==null||me==null)throw new Error("")}else if(he!=null||me!=null)throw new Error("");if(oe==="tuple"){if(ye==null)throw new Error("")}else if(ye!=null)throw new Error("");(0,t.defineProperties)(this,{name:H,type:K,baseType:oe,indexed:ce,components:ye,arrayLength:he,arrayChildren:me})}format(T){if(T==null&&(T="sighash"),T==="json"){const K=this.name||"";if(this.isArray()){const ce=JSON.parse(this.arrayChildren.format("json"));return ce.name=K,ce.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(ce)}const oe={type:this.baseType==="tuple"?"tuple":this.type,name:K};return typeof this.indexed=="boolean"&&(oe.indexed=this.indexed),this.isTuple()&&(oe.components=this.components.map(ce=>JSON.parse(ce.format(T)))),JSON.stringify(oe)}let H="";return this.isArray()?(H+=this.arrayChildren.format(T),H+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?H+="("+this.components.map(K=>K.format(T)).join(T==="full"?", ":",")+")":H+=this.type,T!=="sighash"&&(this.indexed===!0&&(H+=" indexed"),T==="full"&&this.name&&(H+=" "+this.name)),H}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(T,H){if(this.isArray()){if(!Array.isArray(T))throw new Error("invalid array value");if(this.arrayLength!==-1&&T.length!==this.arrayLength)throw new Error("array is wrong length");const K=this;return T.map(oe=>K.arrayChildren.walk(oe,H))}if(this.isTuple()){if(!Array.isArray(T))throw new Error("invalid tuple value");if(T.length!==this.components.length)throw new Error("array is wrong length");const K=this;return T.map((oe,ce)=>K.components[ce].walk(oe,H))}return H(this.type,T)}#e(T,H,K,oe){if(this.isArray()){if(!Array.isArray(H))throw new Error("invalid array value");if(this.arrayLength!==-1&&H.length!==this.arrayLength)throw new Error("array is wrong length");const ye=this.arrayChildren,he=H.slice();he.forEach((me,Ce)=>{ye.#e(T,me,K,Ke=>{he[Ce]=Ke})}),oe(he);return}if(this.isTuple()){const ye=this.components;let he;if(Array.isArray(H))he=H.slice();else{if(H==null||typeof H!="object")throw new Error("invalid tuple value");he=ye.map(me=>{if(!me.name)throw new Error("cannot use object value with unnamed components");if(!(me.name in H))throw new Error(`missing value for component ${me.name}`);return H[me.name]})}if(he.length!==this.components.length)throw new Error("array is wrong length");he.forEach((me,Ce)=>{ye[Ce].#e(T,me,K,Ke=>{he[Ce]=Ke})}),oe(he);return}const ce=K(this.type,H);ce.then?T.push((async function(){oe(await ce)})()):oe(ce)}async walkAsync(T,H){const K=[],oe=[T];return this.#e(K,T,H,ce=>{oe[0]=ce}),K.length&&await Promise.all(K),oe[0]}static from(T,H){if(j.isParamType(T))return T;if(typeof T=="string")try{return j.from(O(T),H)}catch{(0,t.assertArgument)(!1,"invalid param type","obj",T)}else if(T instanceof x){let he="",me="",Ce=null;g(T,r(["tuple"])).has("tuple")||T.peekType("OPEN_PAREN")?(me="tuple",Ce=T.popParams().map(gt=>j.from(gt)),he=`tuple(${Ce.map(gt=>gt.format()).join(",")})`):(he=I(T.popType("TYPE")),me=he);let Ke=null,at=null;for(;T.length&&T.peekType("BRACKET");){const gt=T.pop();Ke=new j(v,"",he,me,null,Ce,at,Ke),at=gt.value,he+=gt.text,me="array",Ce=null}let hr=null;if(g(T,c).has("indexed")){if(!H)throw new Error("");hr=!0}const Ht=T.peekType("ID")?T.pop().text:"";if(T.length)throw new Error("leftover tokens");return new j(v,Ht,he,me,hr,Ce,at,Ke)}const K=T.name;(0,t.assertArgument)(!K||typeof K=="string"&&K.match(y),"invalid name","obj.name",K);let oe=T.indexed;oe!=null&&((0,t.assertArgument)(H,"parameter cannot be indexed","obj.indexed",T.indexed),oe=!!oe);let ce=T.type,ye=ce.match(U);if(ye){const he=parseInt(ye[2]||"-1"),me=j.from({type:ye[1],components:T.components});return new j(v,K||"",ce,"array",oe,null,he,me)}if(ce==="tuple"||ce.startsWith("tuple(")||ce.startsWith("(")){const he=T.components!=null?T.components.map(Ce=>j.from(Ce)):null;return new j(v,K||"",ce,"tuple",oe,he,null,null)}return ce=I(T.type),new j(v,K||"",ce,ce,oe,null,null,null)}static isParamType(T){return T&&T[m]===R}}We.ParamType=j;class J{type;inputs;constructor(T,H,K){(0,t.assertPrivate)(T,v,"Fragment"),K=Object.freeze(K.slice()),(0,t.defineProperties)(this,{type:H,inputs:K})}static from(T){if(typeof T=="string"){try{J.from(JSON.parse(T))}catch{}return J.from(O(T))}if(T instanceof x)switch(T.peekKeyword(u)){case"constructor":return ie.from(T);case"error":return te.from(T);case"event":return Z.from(T);case"fallback":case"receive":return pe.from(T);case"function":return de.from(T);case"struct":return ne.from(T)}else if(typeof T=="object"){switch(T.type){case"constructor":return ie.from(T);case"error":return te.from(T);case"event":return Z.from(T);case"fallback":case"receive":return pe.from(T);case"function":return de.from(T);case"struct":return ne.from(T)}(0,t.assert)(!1,`unsupported type: ${T.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}(0,t.assertArgument)(!1,"unsupported frgament object","obj",T)}static isConstructor(T){return ie.isFragment(T)}static isError(T){return te.isFragment(T)}static isEvent(T){return Z.isFragment(T)}static isFunction(T){return de.isFragment(T)}static isStruct(T){return ne.isFragment(T)}}We.Fragment=J;class q extends J{name;constructor(T,H,K,oe){super(T,H,oe),(0,t.assertArgument)(typeof K=="string"&&K.match(y),"invalid identifier","name",K),oe=Object.freeze(oe.slice()),(0,t.defineProperties)(this,{name:K})}}We.NamedFragment=q;function ee(Y,T){return"("+T.map(H=>H.format(Y)).join(Y==="full"?", ":",")+")"}class te extends q{constructor(T,H,K){super(T,"error",H,K),Object.defineProperty(this,m,{value:S})}get selector(){return(0,e.id)(this.format("sighash")).substring(0,10)}format(T){if(T==null&&(T="sighash"),T==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(K=>JSON.parse(K.format(T)))});const H=[];return T!=="sighash"&&H.push("error"),H.push(this.name+ee(T,this.inputs)),H.join(" ")}static from(T){if(te.isFragment(T))return T;if(typeof T=="string")return te.from(O(T));if(T instanceof x){const H=A("error",T),K=C(T);return F(T),new te(v,H,K)}return new te(v,T.name,T.inputs?T.inputs.map(j.from):[])}static isFragment(T){return T&&T[m]===S}}We.ErrorFragment=te;class Z extends q{anonymous;constructor(T,H,K,oe){super(T,"event",H,K),Object.defineProperty(this,m,{value:_}),(0,t.defineProperties)(this,{anonymous:oe})}get topicHash(){return(0,e.id)(this.format("sighash"))}format(T){if(T==null&&(T="sighash"),T==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(K=>JSON.parse(K.format(T)))});const H=[];return T!=="sighash"&&H.push("event"),H.push(this.name+ee(T,this.inputs)),T!=="sighash"&&this.anonymous&&H.push("anonymous"),H.join(" ")}static getTopicHash(T,H){return H=(H||[]).map(oe=>j.from(oe)),new Z(v,T,H,!1).topicHash}static from(T){if(Z.isFragment(T))return T;if(typeof T=="string")try{return Z.from(O(T))}catch{(0,t.assertArgument)(!1,"invalid event fragment","obj",T)}else if(T instanceof x){const H=A("event",T),K=C(T,!0),oe=!!g(T,r(["anonymous"])).has("anonymous");return F(T),new Z(v,H,K,oe)}return new Z(v,T.name,T.inputs?T.inputs.map(H=>j.from(H,!0)):[],!!T.anonymous)}static isFragment(T){return T&&T[m]===_}}We.EventFragment=Z;class ie extends J{payable;gas;constructor(T,H,K,oe,ce){super(T,H,K),Object.defineProperty(this,m,{value:L}),(0,t.defineProperties)(this,{payable:oe,gas:ce})}format(T){if((0,t.assert)(T!=null&&T!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),T==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(K=>JSON.parse(K.format(T)))});const H=[`constructor${ee(T,this.inputs)}`];return this.payable&&H.push("payable"),this.gas!=null&&H.push(`@${this.gas.toString()}`),H.join(" ")}static from(T){if(ie.isFragment(T))return T;if(typeof T=="string")try{return ie.from(O(T))}catch{(0,t.assertArgument)(!1,"invalid constuctor fragment","obj",T)}else if(T instanceof x){g(T,r(["constructor"]));const H=C(T),K=!!g(T,s).has("payable"),oe=N(T);return F(T),new ie(v,"constructor",H,K,oe)}return new ie(v,"constructor",T.inputs?T.inputs.map(j.from):[],!!T.payable,T.gas!=null?T.gas:null)}static isFragment(T){return T&&T[m]===L}}We.ConstructorFragment=ie;class pe extends J{payable;constructor(T,H,K){super(T,"fallback",H),Object.defineProperty(this,m,{value:D}),(0,t.defineProperties)(this,{payable:K})}format(T){const H=this.inputs.length===0?"receive":"fallback";if(T==="json"){const K=this.payable?"payable":"nonpayable";return JSON.stringify({type:H,stateMutability:K})}return`${H}()${this.payable?" payable":""}`}static from(T){if(pe.isFragment(T))return T;if(typeof T=="string")try{return pe.from(O(T))}catch{(0,t.assertArgument)(!1,"invalid fallback fragment","obj",T)}else if(T instanceof x){const H=T.toString(),K=T.peekKeyword(r(["fallback","receive"]));if((0,t.assertArgument)(K,"type must be fallback or receive","obj",H),T.popKeyword(r(["fallback","receive"]))==="receive"){const he=C(T);return(0,t.assertArgument)(he.length===0,"receive cannot have arguments","obj.inputs",he),g(T,r(["payable"])),F(T),new pe(v,[],!0)}let ce=C(T);ce.length?(0,t.assertArgument)(ce.length===1&&ce[0].type==="bytes","invalid fallback inputs","obj.inputs",ce.map(he=>he.format("minimal")).join(", ")):ce=[j.from("bytes")];const ye=B(T);if((0,t.assertArgument)(ye==="nonpayable"||ye==="payable","fallback cannot be constants","obj.stateMutability",ye),g(T,r(["returns"])).has("returns")){const he=C(T);(0,t.assertArgument)(he.length===1&&he[0].type==="bytes","invalid fallback outputs","obj.outputs",he.map(me=>me.format("minimal")).join(", "))}return F(T),new pe(v,ce,ye==="payable")}if(T.type==="receive")return new pe(v,[],!0);if(T.type==="fallback"){const H=[j.from("bytes")],K=T.stateMutability==="payable";return new pe(v,H,K)}(0,t.assertArgument)(!1,"invalid fallback description","obj",T)}static isFragment(T){return T&&T[m]===D}}We.FallbackFragment=pe;class de extends q{constant;outputs;stateMutability;payable;gas;constructor(T,H,K,oe,ce,ye){super(T,"function",H,oe),Object.defineProperty(this,m,{value:M}),ce=Object.freeze(ce.slice());const he=K==="view"||K==="pure",me=K==="payable";(0,t.defineProperties)(this,{constant:he,gas:ye,outputs:ce,payable:me,stateMutability:K})}get selector(){return(0,e.id)(this.format("sighash")).substring(0,10)}format(T){if(T==null&&(T="sighash"),T==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(K=>JSON.parse(K.format(T))),outputs:this.outputs.map(K=>JSON.parse(K.format(T)))});const H=[];return T!=="sighash"&&H.push("function"),H.push(this.name+ee(T,this.inputs)),T!=="sighash"&&(this.stateMutability!=="nonpayable"&&H.push(this.stateMutability),this.outputs&&this.outputs.length&&(H.push("returns"),H.push(ee(T,this.outputs))),this.gas!=null&&H.push(`@${this.gas.toString()}`)),H.join(" ")}static getSelector(T,H){return H=(H||[]).map(oe=>j.from(oe)),new de(v,T,"view",H,[],null).selector}static from(T){if(de.isFragment(T))return T;if(typeof T=="string")try{return de.from(O(T))}catch{(0,t.assertArgument)(!1,"invalid function fragment","obj",T)}else if(T instanceof x){const K=A("function",T),oe=C(T),ce=B(T);let ye=[];g(T,r(["returns"])).has("returns")&&(ye=C(T));const he=N(T);return F(T),new de(v,K,ce,oe,ye,he)}let H=T.stateMutability;return H==null&&(H="payable",typeof T.constant=="boolean"?(H="view",T.constant||(H="payable",typeof T.payable=="boolean"&&!T.payable&&(H="nonpayable"))):typeof T.payable=="boolean"&&!T.payable&&(H="nonpayable")),new de(v,T.name,H,T.inputs?T.inputs.map(j.from):[],T.outputs?T.outputs.map(j.from):[],T.gas!=null?T.gas:null)}static isFragment(T){return T&&T[m]===M}}We.FunctionFragment=de;class ne extends q{constructor(T,H,K){super(T,"struct",H,K),Object.defineProperty(this,m,{value:Q})}format(){throw new Error("@TODO")}static from(T){if(typeof T=="string")try{return ne.from(O(T))}catch{(0,t.assertArgument)(!1,"invalid struct fragment","obj",T)}else if(T instanceof x){const H=A("struct",T),K=C(T);return F(T),new ne(v,H,K)}return new ne(v,T.name,T.inputs?T.inputs.map(j.from):[])}static isFragment(T){return T&&T[m]===Q}}return We.StructFragment=ne,We}var fd;function Tg(){if(fd)return ks;fd=1,Object.defineProperty(ks,"__esModule",{value:!0}),ks.AbiCoder=void 0;const t=fe(),e=rr(),r=cA(),n=Rg(),s=lA(),i=Cg(),a=fA(),o=dA(),u=hA(),l=gA(),c=pA(),f=ru(),h=lt(),b=fe(),k=new Map;k.set(0,"GENERIC_PANIC"),k.set(1,"ASSERT_FALSE"),k.set(17,"OVERFLOW"),k.set(18,"DIVIDE_BY_ZERO"),k.set(33,"ENUM_RANGE_ERROR"),k.set(34,"BAD_STORAGE_DATA"),k.set(49,"STACK_UNDERFLOW"),k.set(50,"ARRAY_RANGE_ERROR"),k.set(65,"OUT_OF_MEMORY"),k.set(81,"UNINITIALIZED_FUNCTION_CALL");const E=new RegExp(/^bytes([0-9]*)$/),d=new RegExp(/^(u?int)([0-9]*)$/);let p=null,y=1024;function w(O,P,A,g){let B="missing revert data",C=null;const N=null;let F=null;if(A){B="execution reverted";const I=(0,b.getBytes)(A);if(A=(0,b.hexlify)(A),I.length===0)B+=" (no data present; likely require(false) occurred",C="require(false)";else if(I.length%32!==4)B+=" (could not decode reason; invalid data length)";else if((0,b.hexlify)(I.slice(0,4))==="0x08c379a0")try{C=g.decode(["string"],I.slice(4))[0],F={signature:"Error(string)",name:"Error",args:[C]},B+=`: ${JSON.stringify(C)}`}catch{B+=" (could not decode reason; invalid string data)"}else if((0,b.hexlify)(I.slice(0,4))==="0x4e487b71")try{const v=Number(g.decode(["uint256"],I.slice(4))[0]);F={signature:"Panic(uint256)",name:"Panic",args:[v]},C=`Panic due to ${k.get(v)||"UNKNOWN"}(${v})`,B+=`: ${C}`}catch{B+=" (could not decode panic code)"}else B+=" (unknown custom error)"}const U={to:P.to?(0,h.getAddress)(P.to):null,data:P.data||"0x"};return P.from&&(U.from=(0,h.getAddress)(P.from)),(0,b.makeError)(B,"CALL_EXCEPTION",{action:O,data:A,reason:C,transaction:U,invocation:N,revert:F})}class x{#e(P){if(P.isArray())return new n.ArrayCoder(this.#e(P.arrayChildren),P.arrayLength,P.name);if(P.isTuple())return new c.TupleCoder(P.components.map(g=>this.#e(g)),P.name);switch(P.baseType){case"address":return new r.AddressCoder(P.name);case"bool":return new s.BooleanCoder(P.name);case"string":return new l.StringCoder(P.name);case"bytes":return new i.BytesCoder(P.name);case"":return new o.NullCoder(P.name)}let A=P.type.match(d);if(A){let g=parseInt(A[2]||"256");return(0,t.assertArgument)(g!==0&&g<=256&&g%8===0,"invalid "+A[1]+" bit length","param",P),new u.NumberCoder(g/8,A[1]==="int",P.name)}if(A=P.type.match(E),A){let g=parseInt(A[1]);return(0,t.assertArgument)(g!==0&&g<=32,"invalid bytes length","param",P),new a.FixedBytesCoder(g,P.name)}(0,t.assertArgument)(!1,"invalid type","type",P.type)}getDefaultValue(P){const A=P.map(B=>this.#e(f.ParamType.from(B)));return new c.TupleCoder(A,"_").defaultValue()}encode(P,A){(0,t.assertArgumentCount)(A.length,P.length,"types/values length mismatch");const g=P.map(N=>this.#e(f.ParamType.from(N))),B=new c.TupleCoder(g,"_"),C=new e.Writer;return B.encode(C,A),C.data}decode(P,A,g){const B=P.map(N=>this.#e(f.ParamType.from(N)));return new c.TupleCoder(B,"_").decode(new e.Reader(A,g,y))}static _setDefaultMaxInflation(P){(0,t.assertArgument)(typeof P=="number"&&Number.isInteger(P),"invalid defaultMaxInflation factor","value",P),y=P}static defaultAbiCoder(){return p==null&&(p=new x),p}static getBuiltinCallException(P,A,g){return w(P,A,g,x.defaultAbiCoder())}}return ks.AbiCoder=x,ks}var wn={},dd;function EA(){if(dd)return wn;dd=1,Object.defineProperty(wn,"__esModule",{value:!0}),wn.decodeBytes32String=wn.encodeBytes32String=void 0;const t=fe();function e(n){const s=(0,t.toUtf8Bytes)(n);if(s.length>31)throw new Error("bytes32 string must be less than 32 bytes");return(0,t.zeroPadBytes)(s,32)}wn.encodeBytes32String=e;function r(n){const s=(0,t.getBytes)(n,"bytes");if(s.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(s[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let i=31;for(;s[i-1]===0;)i--;return(0,t.toUtf8String)(s.slice(0,i))}return wn.decodeBytes32String=r,wn}var Vo={},hd;function PA(){return hd||(hd=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Interface=t.Indexed=t.ErrorDescription=t.TransactionDescription=t.LogDescription=t.Result=t.checkResultErrors=void 0;const e=ht(),r=Fr(),n=fe(),s=Tg(),i=rr();Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return i.checkResultErrors}}),Object.defineProperty(t,"Result",{enumerable:!0,get:function(){return i.Result}});const a=ru(),o=Lr();class u{fragment;name;signature;topic;args;constructor(d,p,y){const w=d.name,x=d.format();(0,n.defineProperties)(this,{fragment:d,name:w,signature:x,topic:p,args:y})}}t.LogDescription=u;class l{fragment;name;args;signature;selector;value;constructor(d,p,y,w){const x=d.name,O=d.format();(0,n.defineProperties)(this,{fragment:d,name:x,args:y,signature:O,selector:p,value:w})}}t.TransactionDescription=l;class c{fragment;name;args;signature;selector;constructor(d,p,y){const w=d.name,x=d.format();(0,n.defineProperties)(this,{fragment:d,name:w,args:y,signature:x,selector:p})}}t.ErrorDescription=c;class f{hash;_isIndexed;static isIndexed(d){return!!(d&&d._isIndexed)}constructor(d){(0,n.defineProperties)(this,{hash:d,_isIndexed:!0})}}t.Indexed=f;const h={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},b={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:E=>`reverted with reason string ${JSON.stringify(E)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:E=>{let d="unknown panic code";return E>=0&&E<=255&&h[E.toString()]&&(d=h[E.toString()]),`reverted with panic code 0x${E.toString(16)} (${d})`}}};class k{fragments;deploy;fallback;receive;#e;#t;#r;#n;constructor(d){let p=[];typeof d=="string"?p=JSON.parse(d):p=d,this.#r=new Map,this.#e=new Map,this.#t=new Map;const y=[];for(const O of p)try{y.push(a.Fragment.from(O))}catch(P){console.log(`[Warning] Invalid Fragment ${JSON.stringify(O)}:`,P.message)}(0,n.defineProperties)(this,{fragments:Object.freeze(y)});let w=null,x=!1;this.#n=this.getAbiCoder(),this.fragments.forEach((O,P)=>{let A;switch(O.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}(0,n.defineProperties)(this,{deploy:O});return;case"fallback":O.inputs.length===0?x=!0:((0,n.assertArgument)(!w||O.payable!==w.payable,"conflicting fallback fragments",`fragments[${P}]`,O),w=O,x=w.payable);return;case"function":A=this.#r;break;case"event":A=this.#t;break;case"error":A=this.#e;break;default:return}const g=O.format();A.has(g)||A.set(g,O)}),this.deploy||(0,n.defineProperties)(this,{deploy:a.ConstructorFragment.from("constructor()")}),(0,n.defineProperties)(this,{fallback:w,receive:x})}format(d){const p=d?"minimal":"full";return this.fragments.map(w=>w.format(p))}formatJson(){const d=this.fragments.map(p=>p.format("json"));return JSON.stringify(d.map(p=>JSON.parse(p)))}getAbiCoder(){return s.AbiCoder.defaultAbiCoder()}#s(d,p,y){if((0,n.isHexString)(d)){const x=d.toLowerCase();for(const O of this.#r.values())if(x===O.selector)return O;return null}if(d.indexOf("(")===-1){const x=[];for(const[O,P]of this.#r)O.split("(")[0]===d&&x.push(P);if(p){const O=p.length>0?p[p.length-1]:null;let P=p.length,A=!0;o.Typed.isTyped(O)&&O.type==="overrides"&&(A=!1,P--);for(let g=x.length-1;g>=0;g--){const B=x[g].inputs.length;B!==P&&(!A||B!==P-1)&&x.splice(g,1)}for(let g=x.length-1;g>=0;g--){const B=x[g].inputs;for(let C=0;C<p.length;C++)if(o.Typed.isTyped(p[C])){if(C>=B.length){if(p[C].type==="overrides")continue;x.splice(g,1);break}if(p[C].type!==B[C].baseType){x.splice(g,1);break}}}}if(x.length===1&&p&&p.length!==x[0].inputs.length){const O=p[p.length-1];(O==null||Array.isArray(O)||typeof O!="object")&&x.splice(0,1)}if(x.length===0)return null;if(x.length>1&&y){const O=x.map(P=>JSON.stringify(P.format())).join(", ");(0,n.assertArgument)(!1,`ambiguous function description (i.e. matches ${O})`,"key",d)}return x[0]}const w=this.#r.get(a.FunctionFragment.from(d).format());return w||null}getFunctionName(d){const p=this.#s(d,null,!1);return(0,n.assertArgument)(p,"no matching function","key",d),p.name}hasFunction(d){return!!this.#s(d,null,!1)}getFunction(d,p){return this.#s(d,p||null,!0)}forEachFunction(d){const p=Array.from(this.#r.keys());p.sort((y,w)=>y.localeCompare(w));for(let y=0;y<p.length;y++){const w=p[y];d(this.#r.get(w),y)}}#a(d,p,y){if((0,n.isHexString)(d)){const x=d.toLowerCase();for(const O of this.#t.values())if(x===O.topicHash)return O;return null}if(d.indexOf("(")===-1){const x=[];for(const[O,P]of this.#t)O.split("(")[0]===d&&x.push(P);if(p){for(let O=x.length-1;O>=0;O--)x[O].inputs.length<p.length&&x.splice(O,1);for(let O=x.length-1;O>=0;O--){const P=x[O].inputs;for(let A=0;A<p.length;A++)if(o.Typed.isTyped(p[A])&&p[A].type!==P[A].baseType){x.splice(O,1);break}}}if(x.length===0)return null;if(x.length>1&&y){const O=x.map(P=>JSON.stringify(P.format())).join(", ");(0,n.assertArgument)(!1,`ambiguous event description (i.e. matches ${O})`,"key",d)}return x[0]}const w=this.#t.get(a.EventFragment.from(d).format());return w||null}getEventName(d){const p=this.#a(d,null,!1);return(0,n.assertArgument)(p,"no matching event","key",d),p.name}hasEvent(d){return!!this.#a(d,null,!1)}getEvent(d,p){return this.#a(d,p||null,!0)}forEachEvent(d){const p=Array.from(this.#t.keys());p.sort((y,w)=>y.localeCompare(w));for(let y=0;y<p.length;y++){const w=p[y];d(this.#t.get(w),y)}}getError(d,p){if((0,n.isHexString)(d)){const w=d.toLowerCase();if(b[w])return a.ErrorFragment.from(b[w].signature);for(const x of this.#e.values())if(w===x.selector)return x;return null}if(d.indexOf("(")===-1){const w=[];for(const[x,O]of this.#e)x.split("(")[0]===d&&w.push(O);if(w.length===0)return d==="Error"?a.ErrorFragment.from("error Error(string)"):d==="Panic"?a.ErrorFragment.from("error Panic(uint256)"):null;if(w.length>1){const x=w.map(O=>JSON.stringify(O.format())).join(", ");(0,n.assertArgument)(!1,`ambiguous error description (i.e. ${x})`,"name",d)}return w[0]}if(d=a.ErrorFragment.from(d).format(),d==="Error(string)")return a.ErrorFragment.from("error Error(string)");if(d==="Panic(uint256)")return a.ErrorFragment.from("error Panic(uint256)");const y=this.#e.get(d);return y||null}forEachError(d){const p=Array.from(this.#e.keys());p.sort((y,w)=>y.localeCompare(w));for(let y=0;y<p.length;y++){const w=p[y];d(this.#e.get(w),y)}}_decodeParams(d,p){return this.#n.decode(d,p)}_encodeParams(d,p){return this.#n.encode(d,p)}encodeDeploy(d){return this._encodeParams(this.deploy.inputs,d||[])}decodeErrorResult(d,p){if(typeof d=="string"){const y=this.getError(d);(0,n.assertArgument)(y,"unknown error","fragment",d),d=y}return(0,n.assertArgument)((0,n.dataSlice)(p,0,4)===d.selector,`data signature does not match error ${d.name}.`,"data",p),this._decodeParams(d.inputs,(0,n.dataSlice)(p,4))}encodeErrorResult(d,p){if(typeof d=="string"){const y=this.getError(d);(0,n.assertArgument)(y,"unknown error","fragment",d),d=y}return(0,n.concat)([d.selector,this._encodeParams(d.inputs,p||[])])}decodeFunctionData(d,p){if(typeof d=="string"){const y=this.getFunction(d);(0,n.assertArgument)(y,"unknown function","fragment",d),d=y}return(0,n.assertArgument)((0,n.dataSlice)(p,0,4)===d.selector,`data signature does not match function ${d.name}.`,"data",p),this._decodeParams(d.inputs,(0,n.dataSlice)(p,4))}encodeFunctionData(d,p){if(typeof d=="string"){const y=this.getFunction(d);(0,n.assertArgument)(y,"unknown function","fragment",d),d=y}return(0,n.concat)([d.selector,this._encodeParams(d.inputs,p||[])])}decodeFunctionResult(d,p){if(typeof d=="string"){const x=this.getFunction(d);(0,n.assertArgument)(x,"unknown function","fragment",d),d=x}let y="invalid length for result data";const w=(0,n.getBytesCopy)(p);if(w.length%32===0)try{return this.#n.decode(d.outputs,w)}catch{y="could not decode result data"}(0,n.assert)(!1,y,"BAD_DATA",{value:(0,n.hexlify)(w),info:{method:d.name,signature:d.format()}})}makeError(d,p){const y=(0,n.getBytes)(d,"data"),w=s.AbiCoder.getBuiltinCallException("call",p,y);if(w.message.startsWith("execution reverted (unknown custom error)")){const P=(0,n.hexlify)(y.slice(0,4)),A=this.getError(P);if(A)try{const g=this.#n.decode(A.inputs,y.slice(4));w.revert={name:A.name,signature:A.format(),args:g},w.reason=w.revert.signature,w.message=`execution reverted: ${w.reason}`}catch{w.message="execution reverted (coult not decode custom error)"}}const O=this.parseTransaction(p);return O&&(w.invocation={method:O.name,signature:O.signature,args:O.args}),w}encodeFunctionResult(d,p){if(typeof d=="string"){const y=this.getFunction(d);(0,n.assertArgument)(y,"unknown function","fragment",d),d=y}return(0,n.hexlify)(this.#n.encode(d.outputs,p||[]))}encodeFilterTopics(d,p){if(typeof d=="string"){const x=this.getEvent(d);(0,n.assertArgument)(x,"unknown event","eventFragment",d),d=x}(0,n.assert)(p.length<=d.inputs.length,`too many arguments for ${d.format()}`,"UNEXPECTED_ARGUMENT",{count:p.length,expectedCount:d.inputs.length});const y=[];d.anonymous||y.push(d.topicHash);const w=(x,O)=>x.type==="string"?(0,r.id)(O):x.type==="bytes"?(0,e.keccak256)((0,n.hexlify)(O)):(x.type==="bool"&&typeof O=="boolean"?O=O?"0x01":"0x00":x.type.match(/^u?int/)?O=(0,n.toBeHex)(O):x.type.match(/^bytes/)?O=(0,n.zeroPadBytes)(O,32):x.type==="address"&&this.#n.encode(["address"],[O]),(0,n.zeroPadValue)((0,n.hexlify)(O),32));for(p.forEach((x,O)=>{const P=d.inputs[O];if(!P.indexed){(0,n.assertArgument)(x==null,"cannot filter non-indexed parameters; must be null","contract."+P.name,x);return}x==null?y.push(null):P.baseType==="array"||P.baseType==="tuple"?(0,n.assertArgument)(!1,"filtering with tuples or arrays not supported","contract."+P.name,x):Array.isArray(x)?y.push(x.map(A=>w(P,A))):y.push(w(P,x))});y.length&&y[y.length-1]===null;)y.pop();return y}encodeEventLog(d,p){if(typeof d=="string"){const O=this.getEvent(d);(0,n.assertArgument)(O,"unknown event","eventFragment",d),d=O}const y=[],w=[],x=[];return d.anonymous||y.push(d.topicHash),(0,n.assertArgument)(p.length===d.inputs.length,"event arguments/values mismatch","values",p),d.inputs.forEach((O,P)=>{const A=p[P];if(O.indexed)if(O.type==="string")y.push((0,r.id)(A));else if(O.type==="bytes")y.push((0,e.keccak256)(A));else{if(O.baseType==="tuple"||O.baseType==="array")throw new Error("not implemented");y.push(this.#n.encode([O.type],[A]))}else w.push(O),x.push(A)}),{data:this.#n.encode(w,x),topics:y}}decodeEventLog(d,p,y){if(typeof d=="string"){const F=this.getEvent(d);(0,n.assertArgument)(F,"unknown event","eventFragment",d),d=F}if(y!=null&&!d.anonymous){const F=d.topicHash;(0,n.assertArgument)((0,n.isHexString)(y[0],32)&&y[0].toLowerCase()===F,"fragment/topic mismatch","topics[0]",y[0]),y=y.slice(1)}const w=[],x=[],O=[];d.inputs.forEach((F,U)=>{F.indexed?F.type==="string"||F.type==="bytes"||F.baseType==="tuple"||F.baseType==="array"?(w.push(a.ParamType.from({type:"bytes32",name:F.name})),O.push(!0)):(w.push(F),O.push(!1)):(x.push(F),O.push(!1))});const P=y!=null?this.#n.decode(w,(0,n.concat)(y)):null,A=this.#n.decode(x,p,!0),g=[],B=[];let C=0,N=0;return d.inputs.forEach((F,U)=>{let I=null;if(F.indexed)if(P==null)I=new f(null);else if(O[U])I=new f(P[N++]);else try{I=P[N++]}catch(v){I=v}else try{I=A[C++]}catch(v){I=v}g.push(I),B.push(F.name||null)}),i.Result.fromItems(g,B)}parseTransaction(d){const p=(0,n.getBytes)(d.data,"tx.data"),y=(0,n.getBigInt)(d.value!=null?d.value:0,"tx.value"),w=this.getFunction((0,n.hexlify)(p.slice(0,4)));if(!w)return null;const x=this.#n.decode(w.inputs,p.slice(4));return new l(w,w.selector,x,y)}parseCallResult(d){throw new Error("@TODO")}parseLog(d){const p=this.getEvent(d.topics[0]);return!p||p.anonymous?null:new u(p,p.topicHash,this.decodeEventLog(p,d.data,d.topics))}parseError(d){const p=(0,n.hexlify)(d),y=this.getError((0,n.dataSlice)(p,0,4));if(!y)return null;const w=this.#n.decode(y.inputs,(0,n.dataSlice)(p,4));return new c(y,y.selector,w)}static from(d){return d instanceof k?d:typeof d=="string"?new k(JSON.parse(d)):typeof d.formatJson=="function"?new k(d.formatJson()):typeof d.format=="function"?new k(d.format("json")):new k(d)}}t.Interface=k})(Vo)),Vo}var gd;function ia(){return gd||(gd=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Typed=t.Result=t.TransactionDescription=t.LogDescription=t.ErrorDescription=t.Interface=t.Indexed=t.checkResultErrors=t.StructFragment=t.ParamType=t.NamedFragment=t.FunctionFragment=t.Fragment=t.FallbackFragment=t.EventFragment=t.ErrorFragment=t.ConstructorFragment=t.encodeBytes32String=t.decodeBytes32String=t.AbiCoder=void 0;var e=Tg();Object.defineProperty(t,"AbiCoder",{enumerable:!0,get:function(){return e.AbiCoder}});var r=EA();Object.defineProperty(t,"decodeBytes32String",{enumerable:!0,get:function(){return r.decodeBytes32String}}),Object.defineProperty(t,"encodeBytes32String",{enumerable:!0,get:function(){return r.encodeBytes32String}});var n=ru();Object.defineProperty(t,"ConstructorFragment",{enumerable:!0,get:function(){return n.ConstructorFragment}}),Object.defineProperty(t,"ErrorFragment",{enumerable:!0,get:function(){return n.ErrorFragment}}),Object.defineProperty(t,"EventFragment",{enumerable:!0,get:function(){return n.EventFragment}}),Object.defineProperty(t,"FallbackFragment",{enumerable:!0,get:function(){return n.FallbackFragment}}),Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return n.Fragment}}),Object.defineProperty(t,"FunctionFragment",{enumerable:!0,get:function(){return n.FunctionFragment}}),Object.defineProperty(t,"NamedFragment",{enumerable:!0,get:function(){return n.NamedFragment}}),Object.defineProperty(t,"ParamType",{enumerable:!0,get:function(){return n.ParamType}}),Object.defineProperty(t,"StructFragment",{enumerable:!0,get:function(){return n.StructFragment}});var s=PA();Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return s.checkResultErrors}}),Object.defineProperty(t,"Indexed",{enumerable:!0,get:function(){return s.Indexed}}),Object.defineProperty(t,"Interface",{enumerable:!0,get:function(){return s.Interface}}),Object.defineProperty(t,"ErrorDescription",{enumerable:!0,get:function(){return s.ErrorDescription}}),Object.defineProperty(t,"LogDescription",{enumerable:!0,get:function(){return s.LogDescription}}),Object.defineProperty(t,"TransactionDescription",{enumerable:!0,get:function(){return s.TransactionDescription}}),Object.defineProperty(t,"Result",{enumerable:!0,get:function(){return s.Result}});var i=Lr();Object.defineProperty(t,"Typed",{enumerable:!0,get:function(){return i.Typed}})})(Co)),Co}var Qo={},qt={},yt={},pd;function aa(){if(pd)return yt;pd=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.TransactionResponse=yt.TransactionReceipt=yt.Log=yt.Block=yt.copyRequest=yt.FeeData=void 0;const t=fe(),e=Mt(),r=BigInt(0);function n(E){return E??null}function s(E){return E==null?null:E.toString()}class i{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(d,p,y){(0,t.defineProperties)(this,{gasPrice:n(d),maxFeePerGas:n(p),maxPriorityFeePerGas:n(y)})}toJSON(){const{gasPrice:d,maxFeePerGas:p,maxPriorityFeePerGas:y}=this;return{_type:"FeeData",gasPrice:s(d),maxFeePerGas:s(p),maxPriorityFeePerGas:s(y)}}}yt.FeeData=i;function a(E){const d={};E.to&&(d.to=E.to),E.from&&(d.from=E.from),E.data&&(d.data=(0,t.hexlify)(E.data));const p="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const w of p)!(w in E)||E[w]==null||(d[w]=(0,t.getBigInt)(E[w],`request.${w}`));const y="type,nonce".split(/,/);for(const w of y)!(w in E)||E[w]==null||(d[w]=(0,t.getNumber)(E[w],`request.${w}`));return E.accessList&&(d.accessList=(0,e.accessListify)(E.accessList)),"blockTag"in E&&(d.blockTag=E.blockTag),"enableCcipRead"in E&&(d.enableCcipRead=!!E.enableCcipRead),"customData"in E&&(d.customData=E.customData),"blobVersionedHashes"in E&&E.blobVersionedHashes&&(d.blobVersionedHashes=E.blobVersionedHashes.slice()),"kzg"in E&&(d.kzg=E.kzg),"blobs"in E&&E.blobs&&(d.blobs=E.blobs.map(w=>(0,t.isBytesLike)(w)?(0,t.hexlify)(w):Object.assign({},w))),d}yt.copyRequest=a;class o{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(d,p){this.#e=d.transactions.map(y=>typeof y!="string"?new c(y,p):y),(0,t.defineProperties)(this,{provider:p,hash:n(d.hash),number:d.number,timestamp:d.timestamp,parentHash:d.parentHash,parentBeaconBlockRoot:d.parentBeaconBlockRoot,nonce:d.nonce,difficulty:d.difficulty,gasLimit:d.gasLimit,gasUsed:d.gasUsed,blobGasUsed:d.blobGasUsed,excessBlobGas:d.excessBlobGas,miner:d.miner,prevRandao:n(d.prevRandao),extraData:d.extraData,baseFeePerGas:n(d.baseFeePerGas),stateRoot:d.stateRoot,receiptsRoot:d.receiptsRoot})}get transactions(){return this.#e.map(d=>typeof d=="string"?d:d.hash)}get prefetchedTransactions(){const d=this.#e.slice();return d.length===0?[]:((0,t.assert)(typeof d[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),d)}toJSON(){const{baseFeePerGas:d,difficulty:p,extraData:y,gasLimit:w,gasUsed:x,hash:O,miner:P,prevRandao:A,nonce:g,number:B,parentHash:C,parentBeaconBlockRoot:N,stateRoot:F,receiptsRoot:U,timestamp:I,transactions:v}=this;return{_type:"Block",baseFeePerGas:s(d),difficulty:s(p),extraData:y,gasLimit:s(w),gasUsed:s(x),blobGasUsed:s(this.blobGasUsed),excessBlobGas:s(this.excessBlobGas),hash:O,miner:P,prevRandao:A,nonce:g,number:B,parentHash:C,timestamp:I,parentBeaconBlockRoot:N,stateRoot:F,receiptsRoot:U,transactions:v}}[Symbol.iterator](){let d=0;const p=this.transactions;return{next:()=>d<this.length?{value:p[d++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(d){let p;if(typeof d=="number")p=this.#e[d];else{const y=d.toLowerCase();for(const w of this.#e)if(typeof w=="string"){if(w!==y)continue;p=w;break}else{if(w.hash===y)continue;p=w;break}}if(p==null)throw new Error("no such tx");return typeof p=="string"?await this.provider.getTransaction(p):p}getPrefetchedTransaction(d){const p=this.prefetchedTransactions;if(typeof d=="number")return p[d];d=d.toLowerCase();for(const y of p)if(y.hash===d)return y;(0,t.assertArgument)(!1,"no matching transaction","indexOrHash",d)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return f(this)}}yt.Block=o;class u{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(d,p){this.provider=p;const y=Object.freeze(d.topics.slice());(0,t.defineProperties)(this,{transactionHash:d.transactionHash,blockHash:d.blockHash,blockNumber:d.blockNumber,removed:d.removed,address:d.address,data:d.data,topics:y,index:d.index,transactionIndex:d.transactionIndex})}toJSON(){const{address:d,blockHash:p,blockNumber:y,data:w,index:x,removed:O,topics:P,transactionHash:A,transactionIndex:g}=this;return{_type:"log",address:d,blockHash:p,blockNumber:y,data:w,index:x,removed:O,topics:P,transactionHash:A,transactionIndex:g}}async getBlock(){const d=await this.provider.getBlock(this.blockHash);return(0,t.assert)(!!d,"failed to find transaction","UNKNOWN_ERROR",{}),d}async getTransaction(){const d=await this.provider.getTransaction(this.transactionHash);return(0,t.assert)(!!d,"failed to find transaction","UNKNOWN_ERROR",{}),d}async getTransactionReceipt(){const d=await this.provider.getTransactionReceipt(this.transactionHash);return(0,t.assert)(!!d,"failed to find transaction receipt","UNKNOWN_ERROR",{}),d}removedEvent(){return k(this)}}yt.Log=u;class l{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(d,p){this.#e=Object.freeze(d.logs.map(w=>new u(w,p)));let y=r;d.effectiveGasPrice!=null?y=d.effectiveGasPrice:d.gasPrice!=null&&(y=d.gasPrice),(0,t.defineProperties)(this,{provider:p,to:d.to,from:d.from,contractAddress:d.contractAddress,hash:d.hash,index:d.index,blockHash:d.blockHash,blockNumber:d.blockNumber,logsBloom:d.logsBloom,gasUsed:d.gasUsed,cumulativeGasUsed:d.cumulativeGasUsed,blobGasUsed:d.blobGasUsed,gasPrice:y,blobGasPrice:d.blobGasPrice,type:d.type,status:d.status,root:d.root})}get logs(){return this.#e}toJSON(){const{to:d,from:p,contractAddress:y,hash:w,index:x,blockHash:O,blockNumber:P,logsBloom:A,logs:g,status:B,root:C}=this;return{_type:"TransactionReceipt",blockHash:O,blockNumber:P,contractAddress:y,cumulativeGasUsed:s(this.cumulativeGasUsed),from:p,gasPrice:s(this.gasPrice),blobGasUsed:s(this.blobGasUsed),blobGasPrice:s(this.blobGasPrice),gasUsed:s(this.gasUsed),hash:w,index:x,logs:g,logsBloom:A,root:C,status:B,to:d}}get length(){return this.logs.length}[Symbol.iterator](){let d=0;return{next:()=>d<this.length?{value:this.logs[d++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const d=await this.provider.getBlock(this.blockHash);if(d==null)throw new Error("TODO");return d}async getTransaction(){const d=await this.provider.getTransaction(this.hash);if(d==null)throw new Error("TODO");return d}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return b(this)}reorderedEvent(d){return(0,t.assert)(!d||d.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),h(this,d)}}yt.TransactionReceipt=l;class c{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#e;constructor(d,p){this.provider=p,this.blockNumber=d.blockNumber!=null?d.blockNumber:null,this.blockHash=d.blockHash!=null?d.blockHash:null,this.hash=d.hash,this.index=d.index,this.type=d.type,this.from=d.from,this.to=d.to||null,this.gasLimit=d.gasLimit,this.nonce=d.nonce,this.data=d.data,this.value=d.value,this.gasPrice=d.gasPrice,this.maxPriorityFeePerGas=d.maxPriorityFeePerGas!=null?d.maxPriorityFeePerGas:null,this.maxFeePerGas=d.maxFeePerGas!=null?d.maxFeePerGas:null,this.maxFeePerBlobGas=d.maxFeePerBlobGas!=null?d.maxFeePerBlobGas:null,this.chainId=d.chainId,this.signature=d.signature,this.accessList=d.accessList!=null?d.accessList:null,this.blobVersionedHashes=d.blobVersionedHashes!=null?d.blobVersionedHashes:null,this.#e=-1}toJSON(){const{blockNumber:d,blockHash:p,index:y,hash:w,type:x,to:O,from:P,nonce:A,data:g,signature:B,accessList:C,blobVersionedHashes:N}=this;return{_type:"TransactionResponse",accessList:C,blockNumber:d,blockHash:p,blobVersionedHashes:N,chainId:s(this.chainId),data:g,from:P,gasLimit:s(this.gasLimit),gasPrice:s(this.gasPrice),hash:w,maxFeePerGas:s(this.maxFeePerGas),maxPriorityFeePerGas:s(this.maxPriorityFeePerGas),maxFeePerBlobGas:s(this.maxFeePerBlobGas),nonce:A,signature:B,to:O,index:y,type:x,value:s(this.value)}}async getBlock(){let d=this.blockNumber;if(d==null){const y=await this.getTransaction();y&&(d=y.blockNumber)}if(d==null)return null;const p=this.provider.getBlock(d);if(p==null)throw new Error("TODO");return p}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:p,blockNumber:y}=await(0,t.resolveProperties)({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return p==null||p.blockNumber==null?0:y-p.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(d,p){const y=d??1,w=p??0;let x=this.#e,O=-1,P=x===-1;const A=async()=>{if(P)return null;const{blockNumber:N,nonce:F}=await(0,t.resolveProperties)({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(F<this.nonce){x=N;return}if(P)return null;const U=await this.getTransaction();if(!(U&&U.blockNumber!=null))for(O===-1&&(O=x-3,O<this.#e&&(O=this.#e));O<=N;){if(P)return null;const I=await this.provider.getBlock(O,!0);if(I==null)return;for(const v of I)if(v===this.hash)return;for(let v=0;v<I.length;v++){const m=await I.getTransaction(v);if(m.from===this.from&&m.nonce===this.nonce){if(P)return null;const R=await this.provider.getTransactionReceipt(m.hash);if(R==null||N-R.blockNumber+1<y)return;let S="replaced";m.data===this.data&&m.to===this.to&&m.value===this.value?S="repriced":m.data==="0x"&&m.from===m.to&&m.value===r&&(S="cancelled"),(0,t.assert)(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:S==="replaced"||S==="cancelled",reason:S,replacement:m.replaceableTransaction(x),hash:m.hash,receipt:R})}}O++}},g=N=>{if(N==null||N.status!==0)return N;(0,t.assert)(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:N.to,from:N.from,data:""},receipt:N})},B=await this.provider.getTransactionReceipt(this.hash);if(y===0)return g(B);if(B){if(await B.confirmations()>=y)return g(B)}else if(await A(),y===0)return null;return await new Promise((N,F)=>{const U=[],I=()=>{U.forEach(m=>m())};if(U.push(()=>{P=!0}),w>0){const m=setTimeout(()=>{I(),F((0,t.makeError)("wait for transaction timeout","TIMEOUT"))},w);U.push(()=>{clearTimeout(m)})}const v=async m=>{if(await m.confirmations()>=y){I();try{N(g(m))}catch(R){F(R)}}};if(U.push(()=>{this.provider.off(this.hash,v)}),this.provider.on(this.hash,v),x>=0){const m=async()=>{try{await A()}catch(R){if((0,t.isError)(R,"TRANSACTION_REPLACED")){I(),F(R);return}}P||this.provider.once("block",m)};U.push(()=>{this.provider.off("block",m)}),this.provider.once("block",m)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return(0,t.assert)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),b(this)}reorderedEvent(d){return(0,t.assert)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),(0,t.assert)(!d||d.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),h(this,d)}replaceableTransaction(d){(0,t.assertArgument)(Number.isInteger(d)&&d>=0,"invalid startBlock","startBlock",d);const p=new c(this,this.provider);return p.#e=d,p}}yt.TransactionResponse=c;function f(E){return{orphan:"drop-block",hash:E.hash,number:E.number}}function h(E,d){return{orphan:"reorder-transaction",tx:E,other:d}}function b(E){return{orphan:"drop-transaction",tx:E}}function k(E){return{orphan:"drop-log",log:{transactionHash:E.transactionHash,blockHash:E.blockHash,blockNumber:E.blockNumber,address:E.address,data:E.data,topics:Object.freeze(E.topics.slice()),index:E.index}}}return yt}var xt={},bd;function Ug(){if(bd)return xt;bd=1,Object.defineProperty(xt,"__esModule",{value:!0}),xt.ContractEventPayload=xt.ContractUnknownEventPayload=xt.ContractTransactionResponse=xt.ContractTransactionReceipt=xt.UndecodedEventLog=xt.EventLog=void 0;const t=aa(),e=fe();class r extends t.Log{interface;fragment;args;constructor(l,c,f){super(l,l.provider);const h=c.decodeEventLog(f,l.data,l.topics);(0,e.defineProperties)(this,{args:h,fragment:f,interface:c})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}xt.EventLog=r;class n extends t.Log{error;constructor(l,c){super(l,l.provider),(0,e.defineProperties)(this,{error:c})}}xt.UndecodedEventLog=n;class s extends t.TransactionReceipt{#e;constructor(l,c,f){super(f,c),this.#e=l}get logs(){return super.logs.map(l=>{const c=l.topics.length?this.#e.getEvent(l.topics[0]):null;if(c)try{return new r(l,this.#e,c)}catch(f){return new n(l,f)}return l})}}xt.ContractTransactionReceipt=s;class i extends t.TransactionResponse{#e;constructor(l,c,f){super(f,c),this.#e=l}async wait(l,c){const f=await super.wait(l,c);return f==null?null:new s(this.#e,this.provider,f)}}xt.ContractTransactionResponse=i;class a extends e.EventPayload{log;constructor(l,c,f,h){super(l,c,f),(0,e.defineProperties)(this,{log:h})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}xt.ContractUnknownEventPayload=a;class o extends a{constructor(l,c,f,h,b){super(l,c,f,new r(b,l.interface,h));const k=l.interface.decodeEventLog(h,this.log.data,this.log.topics);(0,e.defineProperties)(this,{args:k,fragment:h})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}return xt.ContractEventPayload=o,xt}var md;function Lg(){if(md)return qt;md=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.Contract=qt.BaseContract=qt.resolveArgs=qt.copyOverrides=void 0;const t=ia(),e=lt(),r=aa(),n=fe(),s=Ug(),i=BigInt(0);function a(S){return S&&typeof S.call=="function"}function o(S){return S&&typeof S.estimateGas=="function"}function u(S){return S&&typeof S.resolveName=="function"}function l(S){return S&&typeof S.sendTransaction=="function"}function c(S){if(S!=null){if(u(S))return S;if(S.provider)return S.provider}}class f{#e;fragment;constructor(_,L,D){if((0,n.defineProperties)(this,{fragment:L}),L.inputs.length<D.length)throw new Error("too many arguments");const M=h(_.runner,"resolveName"),Q=u(M)?M:null;this.#e=(async function(){const j=await Promise.all(L.inputs.map((J,q)=>D[q]==null?null:J.walkAsync(D[q],(te,Z)=>te==="address"?Array.isArray(Z)?Promise.all(Z.map(ie=>(0,e.resolveAddress)(ie,Q))):(0,e.resolveAddress)(Z,Q):Z)));return _.interface.encodeFilterTopics(L,j)})()}getTopicFilter(){return this.#e}}function h(S,_){return S==null?null:typeof S[_]=="function"?S:S.provider&&typeof S.provider[_]=="function"?S.provider:null}function b(S){return S==null?null:S.provider||null}async function k(S,_){const L=t.Typed.dereference(S,"overrides");(0,n.assertArgument)(typeof L=="object","invalid overrides parameter","overrides",S);const D=(0,r.copyRequest)(L);return(0,n.assertArgument)(D.to==null||(_||[]).indexOf("to")>=0,"cannot override to","overrides.to",D.to),(0,n.assertArgument)(D.data==null||(_||[]).indexOf("data")>=0,"cannot override data","overrides.data",D.data),D.from&&(D.from=D.from),D}qt.copyOverrides=k;async function E(S,_,L){const D=h(S,"resolveName"),M=u(D)?D:null;return await Promise.all(_.map((Q,j)=>Q.walkAsync(L[j],(J,q)=>(q=t.Typed.dereference(q,J),J==="address"?(0,e.resolveAddress)(q,M):q))))}qt.resolveArgs=E;function d(S){const _=async function(j){const J=await k(j,["data"]);J.to=await S.getAddress(),J.from&&(J.from=await(0,e.resolveAddress)(J.from,c(S.runner)));const q=S.interface,ee=(0,n.getBigInt)(J.value||i,"overrides.value")===i,te=(J.data||"0x")==="0x";q.fallback&&!q.fallback.payable&&q.receive&&!te&&!ee&&(0,n.assertArgument)(!1,"cannot send data to receive or send value to non-payable fallback","overrides",j),(0,n.assertArgument)(q.fallback||te,"cannot send data to receive-only contract","overrides.data",J.data);const Z=q.receive||q.fallback&&q.fallback.payable;return(0,n.assertArgument)(Z||ee,"cannot send value to non-payable fallback","overrides.value",J.value),(0,n.assertArgument)(q.fallback||te,"cannot send data to receive-only contract","overrides.data",J.data),J},L=async function(j){const J=h(S.runner,"call");(0,n.assert)(a(J),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const q=await _(j);try{return await J.call(q)}catch(ee){throw(0,n.isCallException)(ee)&&ee.data?S.interface.makeError(ee.data,q):ee}},D=async function(j){const J=S.runner;(0,n.assert)(l(J),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const q=await J.sendTransaction(await _(j)),ee=b(S.runner);return new s.ContractTransactionResponse(S.interface,ee,q)},M=async function(j){const J=h(S.runner,"estimateGas");return(0,n.assert)(o(J),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await J.estimateGas(await _(j))},Q=async j=>await D(j);return(0,n.defineProperties)(Q,{_contract:S,estimateGas:M,populateTransaction:_,send:D,staticCall:L}),Q}function p(S,_){const L=function(...ee){const te=S.interface.getFunction(_,ee);return(0,n.assert)(te,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:_,args:ee}}),te},D=async function(...ee){const te=L(...ee);let Z={};if(te.inputs.length+1===ee.length&&(Z=await k(ee.pop()),Z.from&&(Z.from=await(0,e.resolveAddress)(Z.from,c(S.runner)))),te.inputs.length!==ee.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const ie=await E(S.runner,te.inputs,ee);return Object.assign({},Z,await(0,n.resolveProperties)({to:S.getAddress(),data:S.interface.encodeFunctionData(te,ie)}))},M=async function(...ee){const te=await J(...ee);return te.length===1?te[0]:te},Q=async function(...ee){const te=S.runner;(0,n.assert)(l(te),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const Z=await te.sendTransaction(await D(...ee)),ie=b(S.runner);return new s.ContractTransactionResponse(S.interface,ie,Z)},j=async function(...ee){const te=h(S.runner,"estimateGas");return(0,n.assert)(o(te),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await te.estimateGas(await D(...ee))},J=async function(...ee){const te=h(S.runner,"call");(0,n.assert)(a(te),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const Z=await D(...ee);let ie="0x";try{ie=await te.call(Z)}catch(de){throw(0,n.isCallException)(de)&&de.data?S.interface.makeError(de.data,Z):de}const pe=L(...ee);return S.interface.decodeFunctionResult(pe,ie)},q=async(...ee)=>L(...ee).constant?await M(...ee):await Q(...ee);return(0,n.defineProperties)(q,{name:S.interface.getFunctionName(_),_contract:S,_key:_,getFragment:L,estimateGas:j,populateTransaction:D,send:Q,staticCall:M,staticCallResult:J}),Object.defineProperty(q,"fragment",{configurable:!1,enumerable:!0,get:()=>{const ee=S.interface.getFunction(_);return(0,n.assert)(ee,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:_}}),ee}}),q}function y(S,_){const L=function(...M){const Q=S.interface.getEvent(_,M);return(0,n.assert)(Q,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:_,args:M}}),Q},D=function(...M){return new f(S,L(...M),M)};return(0,n.defineProperties)(D,{name:S.interface.getEventName(_),_contract:S,_key:_,getFragment:L}),Object.defineProperty(D,"fragment",{configurable:!1,enumerable:!0,get:()=>{const M=S.interface.getEvent(_);return(0,n.assert)(M,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:_}}),M}}),D}const w=Symbol.for("_ethersInternal_contract"),x=new WeakMap;function O(S,_){x.set(S[w],_)}function P(S){return x.get(S[w])}function A(S){return S&&typeof S=="object"&&"getTopicFilter"in S&&typeof S.getTopicFilter=="function"&&S.fragment}async function g(S,_){let L,D=null;if(Array.isArray(_)){const Q=function(j){if((0,n.isHexString)(j,32))return j;const J=S.interface.getEvent(j);return(0,n.assertArgument)(J,"unknown fragment","name",j),J.topicHash};L=_.map(j=>j==null?null:Array.isArray(j)?j.map(Q):Q(j))}else _==="*"?L=[null]:typeof _=="string"?(0,n.isHexString)(_,32)?L=[_]:(D=S.interface.getEvent(_),(0,n.assertArgument)(D,"unknown fragment","event",_),L=[D.topicHash]):A(_)?L=await _.getTopicFilter():"fragment"in _?(D=_.fragment,L=[D.topicHash]):(0,n.assertArgument)(!1,"unknown event name","event",_);L=L.map(Q=>{if(Q==null)return null;if(Array.isArray(Q)){const j=Array.from(new Set(Q.map(J=>J.toLowerCase())).values());return j.length===1?j[0]:(j.sort(),j)}return Q.toLowerCase()});const M=L.map(Q=>Q==null?"null":Array.isArray(Q)?Q.join("|"):Q).join("&");return{fragment:D,tag:M,topics:L}}async function B(S,_){const{subs:L}=P(S);return L.get((await g(S,_)).tag)||null}async function C(S,_,L){const D=b(S.runner);(0,n.assert)(D,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:_});const{fragment:M,tag:Q,topics:j}=await g(S,L),{addr:J,subs:q}=P(S);let ee=q.get(Q);if(!ee){const Z={address:J||S,topics:j},ie=Y=>{let T=M;if(T==null)try{T=S.interface.getEvent(Y.topics[0])}catch{}if(T){const H=T,K=M?S.interface.decodeEventLog(M,Y.data,Y.topics):[];U(S,L,K,oe=>new s.ContractEventPayload(S,oe,L,H,Y))}else U(S,L,[],H=>new s.ContractUnknownEventPayload(S,H,L,Y))};let pe=[];ee={tag:Q,listeners:[],start:()=>{pe.length||pe.push(D.on(Z,ie))},stop:async()=>{if(pe.length==0)return;let Y=pe;pe=[],await Promise.all(Y),D.off(Z,ie)}},q.set(Q,ee)}return ee}let N=Promise.resolve();async function F(S,_,L,D){await N;const M=await B(S,_);if(!M)return!1;const Q=M.listeners.length;return M.listeners=M.listeners.filter(({listener:j,once:J})=>{const q=Array.from(L);D&&q.push(D(J?null:j));try{j.call(S,...q)}catch{}return!J}),M.listeners.length===0&&(M.stop(),P(S).subs.delete(M.tag)),Q>0}async function U(S,_,L,D){try{await N}catch{}const M=F(S,_,L,D);return N=M,await M}const I=["then"];class v{target;interface;runner;filters;[w];fallback;constructor(_,L,D,M){(0,n.assertArgument)(typeof _=="string"||(0,e.isAddressable)(_),"invalid value for Contract target","target",_),D==null&&(D=null);const Q=t.Interface.from(L);(0,n.defineProperties)(this,{target:_,runner:D,interface:Q}),Object.defineProperty(this,w,{value:{}});let j,J=null,q=null;if(M){const Z=b(D);q=new s.ContractTransactionResponse(this.interface,Z,M)}let ee=new Map;if(typeof _=="string")if((0,n.isHexString)(_))J=_,j=Promise.resolve(_);else{const Z=h(D,"resolveName");if(!u(Z))throw(0,n.makeError)("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});j=Z.resolveName(_).then(ie=>{if(ie==null)throw(0,n.makeError)("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:_});return P(this).addr=ie,ie})}else j=_.getAddress().then(Z=>{if(Z==null)throw new Error("TODO");return P(this).addr=Z,Z});O(this,{addrPromise:j,addr:J,deployTx:q,subs:ee});const te=new Proxy({},{get:(Z,ie,pe)=>{if(typeof ie=="symbol"||I.indexOf(ie)>=0)return Reflect.get(Z,ie,pe);try{return this.getEvent(ie)}catch(de){if(!(0,n.isError)(de,"INVALID_ARGUMENT")||de.argument!=="key")throw de}},has:(Z,ie)=>I.indexOf(ie)>=0?Reflect.has(Z,ie):Reflect.has(Z,ie)||this.interface.hasEvent(String(ie))});return(0,n.defineProperties)(this,{filters:te}),(0,n.defineProperties)(this,{fallback:Q.receive||Q.fallback?d(this):null}),new Proxy(this,{get:(Z,ie,pe)=>{if(typeof ie=="symbol"||ie in Z||I.indexOf(ie)>=0)return Reflect.get(Z,ie,pe);try{return Z.getFunction(ie)}catch(de){if(!(0,n.isError)(de,"INVALID_ARGUMENT")||de.argument!=="key")throw de}},has:(Z,ie)=>typeof ie=="symbol"||ie in Z||I.indexOf(ie)>=0?Reflect.has(Z,ie):Z.interface.hasFunction(ie)})}connect(_){return new v(this.target,this.interface,_)}attach(_){return new v(_,this.interface,this.runner)}async getAddress(){return await P(this).addrPromise}async getDeployedCode(){const _=b(this.runner);(0,n.assert)(_,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const L=await _.getCode(await this.getAddress());return L==="0x"?null:L}async waitForDeployment(){const _=this.deploymentTransaction();if(_)return await _.wait(),this;if(await this.getDeployedCode()!=null)return this;const D=b(this.runner);return(0,n.assert)(D!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((M,Q)=>{const j=async()=>{try{if(await this.getDeployedCode()!=null)return M(this);D.once("block",j)}catch(J){Q(J)}};j()})}deploymentTransaction(){return P(this).deployTx}getFunction(_){return typeof _!="string"&&(_=_.format()),p(this,_)}getEvent(_){return typeof _!="string"&&(_=_.format()),y(this,_)}async queryTransaction(_){throw new Error("@TODO")}async queryFilter(_,L,D){L==null&&(L=0),D==null&&(D="latest");const{addr:M,addrPromise:Q}=P(this),j=M||await Q,{fragment:J,topics:q}=await g(this,_),ee={address:j,topics:q,fromBlock:L,toBlock:D},te=b(this.runner);return(0,n.assert)(te,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await te.getLogs(ee)).map(Z=>{let ie=J;if(ie==null)try{ie=this.interface.getEvent(Z.topics[0])}catch{}if(ie)try{return new s.EventLog(Z,this.interface,ie)}catch(pe){return new s.UndecodedEventLog(Z,pe)}return new r.Log(Z,te)})}async on(_,L){const D=await C(this,"on",_);return D.listeners.push({listener:L,once:!1}),D.start(),this}async once(_,L){const D=await C(this,"once",_);return D.listeners.push({listener:L,once:!0}),D.start(),this}async emit(_,...L){return await U(this,_,L,null)}async listenerCount(_){if(_){const M=await B(this,_);return M?M.listeners.length:0}const{subs:L}=P(this);let D=0;for(const{listeners:M}of L.values())D+=M.length;return D}async listeners(_){if(_){const M=await B(this,_);return M?M.listeners.map(({listener:Q})=>Q):[]}const{subs:L}=P(this);let D=[];for(const{listeners:M}of L.values())D=D.concat(M.map(({listener:Q})=>Q));return D}async off(_,L){const D=await B(this,_);if(!D)return this;if(L){const M=D.listeners.map(({listener:Q})=>Q).indexOf(L);M>=0&&D.listeners.splice(M,1)}return(L==null||D.listeners.length===0)&&(D.stop(),P(this).subs.delete(D.tag)),this}async removeAllListeners(_){if(_){const L=await B(this,_);if(!L)return this;L.stop(),P(this).subs.delete(L.tag)}else{const{subs:L}=P(this);for(const{tag:D,stop:M}of L.values())M(),L.delete(D)}return this}async addListener(_,L){return await this.on(_,L)}async removeListener(_,L){return await this.off(_,L)}static buildClass(_){class L extends v{constructor(M,Q=null){super(M,_,Q)}}return L}static from(_,L,D){return D==null&&(D=null),new this(_,L,D)}}qt.BaseContract=v;function m(){return v}class R extends m(){}return qt.Contract=R,qt}var ti={},yd;function vA(){if(yd)return ti;yd=1,Object.defineProperty(ti,"__esModule",{value:!0}),ti.ContractFactory=void 0;const t=ia(),e=lt(),r=fe(),n=Lg();class s{interface;bytecode;runner;constructor(a,o,u){const l=t.Interface.from(a);o instanceof Uint8Array||(typeof o=="object"&&(o=o.object),o.startsWith("0x")||(o="0x"+o)),o=(0,r.hexlify)((0,r.getBytes)(o)),(0,r.defineProperties)(this,{bytecode:o,interface:l,runner:u||null})}attach(a){return new n.BaseContract(a,this.interface,this.runner)}async getDeployTransaction(...a){let o={};const u=this.interface.deploy;if(u.inputs.length+1===a.length&&(o=await(0,n.copyOverrides)(a.pop())),u.inputs.length!==a.length)throw new Error("incorrect number of arguments to constructor");const l=await(0,n.resolveArgs)(this.runner,u.inputs,a),c=(0,r.concat)([this.bytecode,this.interface.encodeDeploy(l)]);return Object.assign({},o,{data:c})}async deploy(...a){const o=await this.getDeployTransaction(...a);(0,r.assert)(this.runner&&typeof this.runner.sendTransaction=="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const u=await this.runner.sendTransaction(o),l=(0,e.getCreateAddress)(u);return new n.BaseContract(l,this.interface,this.runner,u)}connect(a){return new s(this.interface,this.bytecode,a)}static fromSolidity(a,o){(0,r.assertArgument)(a!=null,"bad compiler output","output",a),typeof a=="string"&&(a=JSON.parse(a));const u=a.abi;let l="";return a.bytecode?l=a.bytecode:a.evm&&a.evm.bytecode&&(l=a.evm.bytecode),new this(u,l,o)}}return ti.ContractFactory=s,ti}var xd;function Ya(){return xd||(xd=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.UndecodedEventLog=t.EventLog=t.ContractTransactionResponse=t.ContractTransactionReceipt=t.ContractUnknownEventPayload=t.ContractEventPayload=t.ContractFactory=t.Contract=t.BaseContract=void 0;var e=Lg();Object.defineProperty(t,"BaseContract",{enumerable:!0,get:function(){return e.BaseContract}}),Object.defineProperty(t,"Contract",{enumerable:!0,get:function(){return e.Contract}});var r=vA();Object.defineProperty(t,"ContractFactory",{enumerable:!0,get:function(){return r.ContractFactory}});var n=Ug();Object.defineProperty(t,"ContractEventPayload",{enumerable:!0,get:function(){return n.ContractEventPayload}}),Object.defineProperty(t,"ContractUnknownEventPayload",{enumerable:!0,get:function(){return n.ContractUnknownEventPayload}}),Object.defineProperty(t,"ContractTransactionReceipt",{enumerable:!0,get:function(){return n.ContractTransactionReceipt}}),Object.defineProperty(t,"ContractTransactionResponse",{enumerable:!0,get:function(){return n.ContractTransactionResponse}}),Object.defineProperty(t,"EventLog",{enumerable:!0,get:function(){return n.EventLog}}),Object.defineProperty(t,"UndecodedEventLog",{enumerable:!0,get:function(){return n.UndecodedEventLog}})})(Qo)),Qo}var Jo={},An={},xr={},wd;function Fg(){if(wd)return xr;wd=1,Object.defineProperty(xr,"__esModule",{value:!0}),xr.EnsResolver=xr.BasicMulticoinProviderPlugin=xr.MulticoinProviderPlugin=void 0;const t=lt(),e=sa(),r=Ya(),n=Fr(),s=fe();function i(h){return h.match(/^ipfs:\/\/ipfs\//i)?h=h.substring(12):h.match(/^ipfs:\/\//i)?h=h.substring(7):(0,s.assertArgument)(!1,"unsupported IPFS format","link",h),`https://gateway.ipfs.io/ipfs/${h}`}class a{name;constructor(b){(0,s.defineProperties)(this,{name:b})}connect(b){return this}supportsCoinType(b){return!1}async encodeAddress(b,k){throw new Error("unsupported coin")}async decodeAddress(b,k){throw new Error("unsupported coin")}}xr.MulticoinProviderPlugin=a;const o="org.ethers.plugins.provider.BasicMulticoin";class u extends a{constructor(){super(o)}}xr.BasicMulticoinProviderPlugin=u;const l=new RegExp("^(ipfs)://(.*)$","i"),c=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),l,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class f{provider;address;name;#e;#t;constructor(b,k,E){(0,s.defineProperties)(this,{provider:b,address:k,name:E}),this.#e=null,this.#t=new r.Contract(k,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],b)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(b){if((0,s.isError)(b,"CALL_EXCEPTION"))return!1;throw this.#e=null,b}})()),await this.#e}async#r(b,k){k=(k||[]).slice();const E=this.#t.interface;k.unshift((0,n.namehash)(this.name));let d=null;await this.supportsWildcard()&&(d=E.getFunction(b),(0,s.assert)(d,"missing fragment","UNKNOWN_ERROR",{info:{funcName:b}}),k=[(0,n.dnsEncode)(this.name,255),E.encodeFunctionData(d,k)],b="resolve(bytes,bytes)"),k.push({enableCcipRead:!0});try{const p=await this.#t[b](...k);return d?E.decodeFunctionResult(d,p)[0]:p}catch(p){if(!(0,s.isError)(p,"CALL_EXCEPTION"))throw p}return null}async getAddress(b){if(b==null&&(b=60),b===60)try{const p=await this.#r("addr(bytes32)");return p==null||p===e.ZeroAddress?null:p}catch(p){if((0,s.isError)(p,"CALL_EXCEPTION"))return null;throw p}if(b>=0&&b<2147483648){let p=b+2147483648;const y=await this.#r("addr(bytes32,uint)",[p]);if((0,s.isHexString)(y,20))return(0,t.getAddress)(y)}let k=null;for(const p of this.provider.plugins)if(p instanceof a&&p.supportsCoinType(b)){k=p;break}if(k==null)return null;const E=await this.#r("addr(bytes32,uint)",[b]);if(E==null||E==="0x")return null;const d=await k.decodeAddress(b,E);if(d!=null)return d;(0,s.assert)(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${b})`,info:{coinType:b,data:E}})}async getText(b){const k=await this.#r("text(bytes32,string)",[b]);return k==null||k==="0x"?null:k}async getContentHash(){const b=await this.#r("contenthash(bytes32)");if(b==null||b==="0x")return null;const k=b.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(k){const d=k[1]==="e3010170"?"ipfs":"ipns",p=parseInt(k[4],16);if(k[5].length===p*2)return`${d}://${(0,s.encodeBase58)("0x"+k[2])}`}const E=b.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(E&&E[1].length===64)return`bzz://${E[1]}`;(0,s.assert)(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:b}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const b=[{type:"name",value:this.name}];try{const k=await this.getText("avatar");if(k==null)return b.push({type:"!avatar",value:""}),{url:null,linkage:b};b.push({type:"avatar",value:k});for(let E=0;E<c.length;E++){const d=k.match(c[E]);if(d==null)continue;const p=d[1].toLowerCase();switch(p){case"https":case"data":return b.push({type:"url",value:k}),{linkage:b,url:k};case"ipfs":{const y=i(k);return b.push({type:"ipfs",value:k}),b.push({type:"url",value:y}),{linkage:b,url:y}}case"erc721":case"erc1155":{const y=p==="erc721"?"tokenURI(uint256)":"uri(uint256)";b.push({type:p,value:k});const w=await this.getAddress();if(w==null)return b.push({type:"!owner",value:""}),{url:null,linkage:b};const x=(d[2]||"").split("/");if(x.length!==2)return b.push({type:`!${p}caip`,value:d[2]||""}),{url:null,linkage:b};const O=x[1],P=new r.Contract(x[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(p==="erc721"){const N=await P.ownerOf(O);if(w!==N)return b.push({type:"!owner",value:N}),{url:null,linkage:b};b.push({type:"owner",value:N})}else if(p==="erc1155"){const N=await P.balanceOf(w,O);if(!N)return b.push({type:"!balance",value:"0"}),{url:null,linkage:b};b.push({type:"balance",value:N.toString()})}let A=await P[y](O);if(A==null||A==="0x")return b.push({type:"!metadata-url",value:""}),{url:null,linkage:b};b.push({type:"metadata-url-base",value:A}),p==="erc1155"&&(A=A.replace("{id}",(0,s.toBeHex)(O,32).substring(2)),b.push({type:"metadata-url-expanded",value:A})),A.match(/^ipfs:/i)&&(A=i(A)),b.push({type:"metadata-url",value:A});let g={};const B=await new s.FetchRequest(A).send();B.assertOk();try{g=B.bodyJson}catch{try{b.push({type:"!metadata",value:B.bodyText})}catch{const U=B.body;return U&&b.push({type:"!metadata",value:(0,s.hexlify)(U)}),{url:null,linkage:b}}return{url:null,linkage:b}}if(!g)return b.push({type:"!metadata",value:""}),{url:null,linkage:b};b.push({type:"metadata",value:JSON.stringify(g)});let C=g.image;if(typeof C!="string")return b.push({type:"!imageUrl",value:""}),{url:null,linkage:b};if(!C.match(/^(https:\/\/|data:)/i)){if(C.match(l)==null)return b.push({type:"!imageUrl-ipfs",value:C}),{url:null,linkage:b};b.push({type:"imageUrl-ipfs",value:C}),C=i(C)}return b.push({type:"url",value:C}),{linkage:b,url:C}}}}}catch{}return{linkage:b,url:null}}static async getEnsAddress(b){const k=await b.getNetwork(),E=k.getPlugin("org.ethers.plugins.network.Ens");return(0,s.assert)(E,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:k}}),E.address}static async#n(b,k){const E=await f.getEnsAddress(b);try{const p=await new r.Contract(E,["function resolver(bytes32) view returns (address)"],b).resolver((0,n.namehash)(k),{enableCcipRead:!0});return p===e.ZeroAddress?null:p}catch(d){throw d}return null}static async fromName(b,k){let E=k;for(;;){if(E===""||E==="."||k!=="eth"&&E==="eth")return null;const d=await f.#n(b,E);if(d!=null){const p=new f(b,d,k);return E!==k&&!await p.supportsWildcard()?null:p}E=E.split(".").slice(1).join(".")}}}return xr.EnsResolver=f,xr}var Le={},Ad;function OA(){if(Ad)return Le;Ad=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.formatTransactionResponse=Le.formatTransactionReceipt=Le.formatReceiptLog=Le.formatBlock=Le.formatLog=Le.formatUint256=Le.formatHash=Le.formatData=Le.formatBoolean=Le.object=Le.arrayOf=Le.allowNull=void 0;const t=lt(),e=ht(),r=Mt(),n=fe(),s=BigInt(0);function i(O,P){return(function(A){return A==null?P:O(A)})}Le.allowNull=i;function a(O,P){return(A=>{if(P&&A==null)return null;if(!Array.isArray(A))throw new Error("not an array");return A.map(g=>O(g))})}Le.arrayOf=a;function o(O,P){return(A=>{const g={};for(const B in O){let C=B;if(P&&B in P&&!(C in A)){for(const N of P[B])if(N in A){C=N;break}}try{const N=O[B](A[C]);N!==void 0&&(g[B]=N)}catch(N){const F=N instanceof Error?N.message:"not-an-error";(0,n.assert)(!1,`invalid value for value.${B} (${F})`,"BAD_DATA",{value:A})}}return g})}Le.object=o;function u(O){switch(O){case!0:case"true":return!0;case!1:case"false":return!1}(0,n.assertArgument)(!1,`invalid boolean; ${JSON.stringify(O)}`,"value",O)}Le.formatBoolean=u;function l(O){return(0,n.assertArgument)((0,n.isHexString)(O,!0),"invalid data","value",O),O}Le.formatData=l;function c(O){return(0,n.assertArgument)((0,n.isHexString)(O,32),"invalid hash","value",O),O}Le.formatHash=c;function f(O){if(!(0,n.isHexString)(O))throw new Error("invalid uint256");return(0,n.zeroPadValue)(O,32)}Le.formatUint256=f;const h=o({address:t.getAddress,blockHash:c,blockNumber:n.getNumber,data:l,index:n.getNumber,removed:i(u,!1),topics:a(c),transactionHash:c,transactionIndex:n.getNumber},{index:["logIndex"]});function b(O){return h(O)}Le.formatLog=b;const k=o({hash:i(c),parentHash:c,parentBeaconBlockRoot:i(c,null),number:n.getNumber,timestamp:n.getNumber,nonce:i(l),difficulty:n.getBigInt,gasLimit:n.getBigInt,gasUsed:n.getBigInt,stateRoot:i(c,null),receiptsRoot:i(c,null),blobGasUsed:i(n.getBigInt,null),excessBlobGas:i(n.getBigInt,null),miner:i(t.getAddress),prevRandao:i(c,null),extraData:l,baseFeePerGas:i(n.getBigInt)},{prevRandao:["mixHash"]});function E(O){const P=k(O);return P.transactions=O.transactions.map(A=>typeof A=="string"?A:x(A)),P}Le.formatBlock=E;const d=o({transactionIndex:n.getNumber,blockNumber:n.getNumber,transactionHash:c,address:t.getAddress,topics:a(c),data:l,index:n.getNumber,blockHash:c},{index:["logIndex"]});function p(O){return d(O)}Le.formatReceiptLog=p;const y=o({to:i(t.getAddress,null),from:i(t.getAddress,null),contractAddress:i(t.getAddress,null),index:n.getNumber,root:i(n.hexlify),gasUsed:n.getBigInt,blobGasUsed:i(n.getBigInt,null),logsBloom:i(l),blockHash:c,hash:c,logs:a(p),blockNumber:n.getNumber,cumulativeGasUsed:n.getBigInt,effectiveGasPrice:i(n.getBigInt),blobGasPrice:i(n.getBigInt,null),status:i(n.getNumber),type:i(n.getNumber,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function w(O){return y(O)}Le.formatTransactionReceipt=w;function x(O){O.to&&(0,n.getBigInt)(O.to)===s&&(O.to="0x0000000000000000000000000000000000000000");const P=o({hash:c,index:i(n.getNumber,void 0),type:A=>A==="0x"||A==null?0:(0,n.getNumber)(A),accessList:i(r.accessListify,null),blobVersionedHashes:i(a(c,!0),null),blockHash:i(c,null),blockNumber:i(n.getNumber,null),transactionIndex:i(n.getNumber,null),from:t.getAddress,gasPrice:i(n.getBigInt),maxPriorityFeePerGas:i(n.getBigInt),maxFeePerGas:i(n.getBigInt),maxFeePerBlobGas:i(n.getBigInt,null),gasLimit:n.getBigInt,to:i(t.getAddress,null),value:n.getBigInt,nonce:n.getNumber,data:l,creates:i(t.getAddress,null),chainId:i(n.getBigInt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(O);if(P.to==null&&P.creates==null&&(P.creates=(0,t.getCreateAddress)(P)),(O.type===1||O.type===2)&&O.accessList==null&&(P.accessList=[]),O.signature?P.signature=e.Signature.from(O.signature):P.signature=e.Signature.from(O),P.chainId==null){const A=P.signature.legacyChainId;A!=null&&(P.chainId=A)}return P.blockHash&&(0,n.getBigInt)(P.blockHash)===s&&(P.blockHash=null),P}return Le.formatTransactionResponse=x,Le}var ri={},It={},Ed;function nu(){if(Ed)return It;Ed=1,Object.defineProperty(It,"__esModule",{value:!0}),It.FetchUrlFeeDataNetworkPlugin=It.FeeDataNetworkPlugin=It.EnsPlugin=It.GasCostPlugin=It.NetworkPlugin=void 0;const t=Kn(),e=fe(),r="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class n{name;constructor(l){(0,t.defineProperties)(this,{name:l})}clone(){return new n(this.name)}}It.NetworkPlugin=n;class s extends n{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(l,c){l==null&&(l=0),super(`org.ethers.network.plugins.GasCost#${l||0}`);const f={effectiveBlock:l};function h(b,k){let E=(c||{})[b];E==null&&(E=k),(0,e.assertArgument)(typeof E=="number",`invalud value for ${b}`,"costs",c),f[b]=E}h("txBase",21e3),h("txCreate",32e3),h("txDataZero",4),h("txDataNonzero",16),h("txAccessListStorageKey",1900),h("txAccessListAddress",2400),(0,t.defineProperties)(this,f)}clone(){return new s(this.effectiveBlock,this)}}It.GasCostPlugin=s;class i extends n{address;targetNetwork;constructor(l,c){super("org.ethers.plugins.network.Ens"),(0,t.defineProperties)(this,{address:l||r,targetNetwork:c??1})}clone(){return new i(this.address,this.targetNetwork)}}It.EnsPlugin=i;class a extends n{#e;get feeDataFunc(){return this.#e}constructor(l){super("org.ethers.plugins.network.FeeData"),this.#e=l}async getFeeData(l){return await this.#e(l)}clone(){return new a(this.#e)}}It.FeeDataNetworkPlugin=a;class o extends n{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(l,c){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=l,this.#t=c}clone(){return this}}return It.FetchUrlFeeDataNetworkPlugin=o,It}var Pd;function jt(){if(Pd)return ri;Pd=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.Network=void 0;const t=Mt(),e=fe(),r=nu(),n=new Map;class s{#e;#t;#r;constructor(c,f){this.#e=c,this.#t=(0,e.getBigInt)(f),this.#r=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(c){this.#e=c}get chainId(){return this.#t}set chainId(c){this.#t=(0,e.getBigInt)(c,"chainId")}matches(c){if(c==null)return!1;if(typeof c=="string"){try{return this.chainId===(0,e.getBigInt)(c)}catch{}return this.name===c}if(typeof c=="number"||typeof c=="bigint"){try{return this.chainId===(0,e.getBigInt)(c)}catch{}return!1}if(typeof c=="object"){if(c.chainId!=null){try{return this.chainId===(0,e.getBigInt)(c.chainId)}catch{}return!1}return c.name!=null?this.name===c.name:!1}return!1}get plugins(){return Array.from(this.#r.values())}attachPlugin(c){if(this.#r.get(c.name))throw new Error(`cannot replace existing plugin: ${c.name} `);return this.#r.set(c.name,c.clone()),this}getPlugin(c){return this.#r.get(c)||null}getPlugins(c){return this.plugins.filter(f=>f.name.split("#")[0]===c)}clone(){const c=new s(this.name,this.chainId);return this.plugins.forEach(f=>{c.attachPlugin(f.clone())}),c}computeIntrinsicGas(c){const f=this.getPlugin("org.ethers.plugins.network.GasCost")||new r.GasCostPlugin;let h=f.txBase;if(c.to==null&&(h+=f.txCreate),c.data)for(let b=2;b<c.data.length;b+=2)c.data.substring(b,b+2)==="00"?h+=f.txDataZero:h+=f.txDataNonzero;if(c.accessList){const b=(0,t.accessListify)(c.accessList);for(const k in b)h+=f.txAccessListAddress+f.txAccessListStorageKey*b[k].storageKeys.length}return h}static from(c){if(u(),c==null)return s.from("mainnet");if(typeof c=="number"&&(c=BigInt(c)),typeof c=="string"||typeof c=="bigint"){const f=n.get(c);if(f)return f();if(typeof c=="bigint")return new s("unknown",c);(0,e.assertArgument)(!1,"unknown network","network",c)}if(typeof c.clone=="function")return c.clone();if(typeof c=="object"){(0,e.assertArgument)(typeof c.name=="string"&&typeof c.chainId=="number","invalid network object name or chainId","network",c);const f=new s(c.name,c.chainId);return(c.ensAddress||c.ensNetwork!=null)&&f.attachPlugin(new r.EnsPlugin(c.ensAddress,c.ensNetwork)),f}(0,e.assertArgument)(!1,"invalid network","network",c)}static register(c,f){typeof c=="number"&&(c=BigInt(c));const h=n.get(c);h&&(0,e.assertArgument)(!1,`conflicting network for ${JSON.stringify(h.name)}`,"nameOrChainId",c),n.set(c,f)}}ri.Network=s;function i(l,c){const f=String(l);if(!f.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${l}`);const h=f.split(".");if(h.length===1&&h.push(""),h.length!==2)throw new Error(`invalid gwei value: ${l}`);for(;h[1].length<c;)h[1]+="0";if(h[1].length>9){let b=BigInt(h[1].substring(0,9));h[1].substring(9).match(/^0+$/)||b++,h[1]=b.toString()}return BigInt(h[0]+h[1])}function a(l){return new r.FetchUrlFeeDataNetworkPlugin(l,async(c,f,h)=>{h.setHeader("User-Agent","ethers");let b;try{const[k,E]=await Promise.all([h.send(),c()]);b=k;const d=b.bodyJson.standard;return{gasPrice:E.gasPrice,maxFeePerGas:i(d.maxFee,9),maxPriorityFeePerGas:i(d.maxPriorityFee,9)}}catch(k){(0,e.assert)(!1,`error encountered with polygon gas station (${JSON.stringify(h.url)})`,"SERVER_ERROR",{request:h,response:b,error:k})}})}let o=!1;function u(){if(o)return;o=!0;function l(c,f,h){const b=function(){const k=new s(c,f);return h.ensNetwork!=null&&k.attachPlugin(new r.EnsPlugin(null,h.ensNetwork)),k.attachPlugin(new r.GasCostPlugin),(h.plugins||[]).forEach(E=>{k.attachPlugin(E)}),k};s.register(c,b),s.register(f,b),h.altNames&&h.altNames.forEach(k=>{s.register(k,b)})}l("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),l("ropsten",3,{ensNetwork:3}),l("rinkeby",4,{ensNetwork:4}),l("goerli",5,{ensNetwork:5}),l("kovan",42,{ensNetwork:42}),l("sepolia",11155111,{ensNetwork:11155111}),l("holesky",17e3,{ensNetwork:17e3}),l("classic",61,{}),l("classicKotti",6,{}),l("arbitrum",42161,{ensNetwork:1}),l("arbitrum-goerli",421613,{}),l("arbitrum-sepolia",421614,{}),l("base",8453,{ensNetwork:1}),l("base-goerli",84531,{}),l("base-sepolia",84532,{}),l("bnb",56,{ensNetwork:1}),l("bnbt",97,{}),l("linea",59144,{ensNetwork:1}),l("linea-goerli",59140,{}),l("linea-sepolia",59141,{}),l("matic",137,{ensNetwork:1,plugins:[a("https://gasstation.polygon.technology/v2")]}),l("matic-amoy",80002,{}),l("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[a("https://gasstation-testnet.polygon.technology/v2")]}),l("optimism",10,{ensNetwork:1,plugins:[]}),l("optimism-goerli",420,{}),l("optimism-sepolia",11155420,{}),l("xdai",100,{ensNetwork:1})}return ri}var ft={},vd;function su(){if(vd)return ft;vd=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.PollingEventSubscriber=ft.PollingTransactionSubscriber=ft.PollingOrphanSubscriber=ft.PollingBlockTagSubscriber=ft.OnBlockSubscriber=ft.PollingBlockSubscriber=ft.getPollingSubscriber=void 0;const t=fe();function e(l){return JSON.parse(JSON.stringify(l))}function r(l,c){if(c==="block")return new n(l);if((0,t.isHexString)(c,32))return new o(l,c);(0,t.assert)(!1,"unsupported polling event","UNSUPPORTED_OPERATION",{operation:"getPollingSubscriber",info:{event:c}})}ft.getPollingSubscriber=r;class n{#e;#t;#r;#n;constructor(c){this.#e=c,this.#t=null,this.#r=4e3,this.#n=-2}get pollingInterval(){return this.#r}set pollingInterval(c){this.#r=c}async#s(){try{const c=await this.#e.getBlockNumber();if(this.#n===-2){this.#n=c;return}if(c!==this.#n){for(let f=this.#n+1;f<=c;f++){if(this.#t==null)return;await this.#e.emit("block",f)}this.#n=c}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#s.bind(this),this.#r))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#s.bind(this),this.#r),this.#s())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(c){this.stop(),c&&(this.#n=-2)}resume(){this.start()}}ft.PollingBlockSubscriber=n;class s{#e;#t;#r;constructor(c){this.#e=c,this.#r=!1,this.#t=f=>{this._poll(f,this.#e)}}async _poll(c,f){throw new Error("sub-classes must override this")}start(){this.#r||(this.#r=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#t))}pause(c){this.stop()}resume(){this.start()}}ft.OnBlockSubscriber=s;class i extends s{#e;#t;constructor(c,f){super(c),this.#e=f,this.#t=-2}pause(c){c&&(this.#t=-2),super.pause(c)}async _poll(c,f){const h=await f.getBlock(this.#e);h!=null&&(this.#t===-2?this.#t=h.number:h.number>this.#t&&(f.emit(this.#e,h.number),this.#t=h.number))}}ft.PollingBlockTagSubscriber=i;class a extends s{#e;constructor(c,f){super(c),this.#e=e(f)}async _poll(c,f){throw new Error("@TODO")}}ft.PollingOrphanSubscriber=a;class o extends s{#e;constructor(c,f){super(c),this.#e=f}async _poll(c,f){const h=await f.getTransactionReceipt(this.#e);h&&f.emit(this.#e,h)}}ft.PollingTransactionSubscriber=o;class u{#e;#t;#r;#n;#s;constructor(c,f){this.#e=c,this.#t=e(f),this.#r=this.#a.bind(this),this.#n=!1,this.#s=-2}async#a(c){if(this.#s===-2)return;const f=e(this.#t);f.fromBlock=this.#s+1,f.toBlock=c;const h=await this.#e.getLogs(f);if(h.length===0){this.#s<c-60&&(this.#s=c-60);return}for(const b of h)this.#e.emit(this.#t,b),this.#s=b.blockNumber}start(){this.#n||(this.#n=!0,this.#s===-2&&this.#e.getBlockNumber().then(c=>{this.#s=c}),this.#e.on("block",this.#r))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#r))}pause(c){this.stop(),c&&(this.#s=-2)}resume(){this.start()}}return ft.PollingEventSubscriber=u,ft}var Od;function oa(){if(Od)return An;Od=1,Object.defineProperty(An,"__esModule",{value:!0}),An.AbstractProvider=An.UnmanagedSubscriber=void 0;const t=lt(),e=sa(),r=Ya(),n=Fr(),s=Mt(),i=fe(),a=Fg(),o=OA(),u=jt(),l=aa(),c=su(),f=BigInt(2),h=10;function b(I){return I&&typeof I.then=="function"}function k(I,v){return I+":"+JSON.stringify(v,(m,R)=>{if(R==null)return"null";if(typeof R=="bigint")return`bigint:${R.toString()}`;if(typeof R=="string")return R.toLowerCase();if(typeof R=="object"&&!Array.isArray(R)){const S=Object.keys(R);return S.sort(),S.reduce((_,L)=>(_[L]=R[L],_),{})}return R})}class E{name;constructor(v){(0,i.defineProperties)(this,{name:v})}start(){}stop(){}pause(v){}resume(){}}An.UnmanagedSubscriber=E;function d(I){return JSON.parse(JSON.stringify(I))}function p(I){return I=Array.from(new Set(I).values()),I.sort(),I}async function y(I,v){if(I==null)throw new Error("invalid event");if(Array.isArray(I)&&(I={topics:I}),typeof I=="string")switch(I){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:I,tag:I}}if((0,i.isHexString)(I,32)){const m=I.toLowerCase();return{type:"transaction",tag:k("tx",{hash:m}),hash:m}}if(I.orphan){const m=I;return{type:"orphan",tag:k("orphan",m),filter:d(m)}}if(I.address||I.topics){const m=I,R={topics:(m.topics||[]).map(S=>S==null?null:Array.isArray(S)?p(S.map(_=>_.toLowerCase())):S.toLowerCase())};if(m.address){const S=[],_=[],L=D=>{(0,i.isHexString)(D)?S.push(D):_.push((async()=>{S.push(await(0,t.resolveAddress)(D,v))})())};Array.isArray(m.address)?m.address.forEach(L):L(m.address),_.length&&await Promise.all(_),R.address=p(S.map(D=>D.toLowerCase()))}return{filter:R,tag:k("event",R),type:"event"}}(0,i.assertArgument)(!1,"unknown ProviderEvent","event",I)}function w(){return new Date().getTime()}const x={cacheTimeout:250,pollingInterval:4e3};class O{#e;#t;#r;#n;#s;#a;#i;#o;#h;#u;#g;#p;constructor(v,m){if(this.#p=Object.assign({},x,m||{}),v==="any")this.#a=!0,this.#s=null;else if(v){const R=u.Network.from(v);this.#a=!1,this.#s=Promise.resolve(R),setTimeout(()=>{this.emit("network",R,null)},0)}else this.#a=!1,this.#s=null;this.#o=-1,this.#i=new Map,this.#e=new Map,this.#t=new Map,this.#r=null,this.#n=!1,this.#h=1,this.#u=new Map,this.#g=!1}get pollingInterval(){return this.#p.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(v){if(this.#t.get(v.name))throw new Error(`cannot replace existing plugin: ${v.name} `);return this.#t.set(v.name,v.connect(this)),this}getPlugin(v){return this.#t.get(v)||null}get disableCcipRead(){return this.#g}set disableCcipRead(v){this.#g=!!v}async#c(v){const m=this.#p.cacheTimeout;if(m<0)return await this._perform(v);const R=k(v.method,v);let S=this.#i.get(R);return S||(S=this._perform(v),this.#i.set(R,S),setTimeout(()=>{this.#i.get(R)===S&&this.#i.delete(R)},m)),await S}async ccipReadFetch(v,m,R){if(this.disableCcipRead||R.length===0||v.to==null)return null;const S=v.to.toLowerCase(),_=m.toLowerCase(),L=[];for(let D=0;D<R.length;D++){const M=R[D],Q=M.replace("{sender}",S).replace("{data}",_),j=new i.FetchRequest(Q);M.indexOf("{data}")===-1&&(j.body={data:_,sender:S}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:j,index:D,urls:R});let J="unknown error";const q=await j.send();try{const ee=q.bodyJson;if(ee.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:j,result:ee}),ee.data;ee.message&&(J=ee.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:j,result:ee})}catch{}(0,i.assert)(q.statusCode<400||q.statusCode>=500,`response not found during CCIP fetch: ${J}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:v,info:{url:M,errorMessage:J}}),L.push(J)}(0,i.assert)(!1,`error encountered during CCIP fetch: ${L.map(D=>JSON.stringify(D)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:v,info:{urls:R,errorMessages:L}})}_wrapBlock(v,m){return new l.Block((0,o.formatBlock)(v),this)}_wrapLog(v,m){return new l.Log((0,o.formatLog)(v),this)}_wrapTransactionReceipt(v,m){return new l.TransactionReceipt((0,o.formatTransactionReceipt)(v),this)}_wrapTransactionResponse(v,m){return new l.TransactionResponse((0,o.formatTransactionResponse)(v),this)}_detectNetwork(){(0,i.assert)(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(v){(0,i.assert)(!1,`unsupported method: ${v.method}`,"UNSUPPORTED_OPERATION",{operation:v.method,info:v})}async getBlockNumber(){const v=(0,i.getNumber)(await this.#c({method:"getBlockNumber"}),"%response");return this.#o>=0&&(this.#o=v),v}_getAddress(v){return(0,t.resolveAddress)(v,this)}_getBlockTag(v){if(v==null)return"latest";switch(v){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return v}if((0,i.isHexString)(v))return(0,i.isHexString)(v,32)?v:(0,i.toQuantity)(v);if(typeof v=="bigint"&&(v=(0,i.getNumber)(v,"blockTag")),typeof v=="number")return v>=0?(0,i.toQuantity)(v):this.#o>=0?(0,i.toQuantity)(this.#o+v):this.getBlockNumber().then(m=>(0,i.toQuantity)(m+v));(0,i.assertArgument)(!1,"invalid blockTag","blockTag",v)}_getFilter(v){const m=(v.topics||[]).map(M=>M==null?null:Array.isArray(M)?p(M.map(Q=>Q.toLowerCase())):M.toLowerCase()),R="blockHash"in v?v.blockHash:void 0,S=(M,Q,j)=>{let J;switch(M.length){case 0:break;case 1:J=M[0];break;default:M.sort(),J=M}if(R&&(Q!=null||j!=null))throw new Error("invalid filter");const q={};return J&&(q.address=J),m.length&&(q.topics=m),Q&&(q.fromBlock=Q),j&&(q.toBlock=j),R&&(q.blockHash=R),q};let _=[];if(v.address)if(Array.isArray(v.address))for(const M of v.address)_.push(this._getAddress(M));else _.push(this._getAddress(v.address));let L;"fromBlock"in v&&(L=this._getBlockTag(v.fromBlock));let D;return"toBlock"in v&&(D=this._getBlockTag(v.toBlock)),_.filter(M=>typeof M!="string").length||L!=null&&typeof L!="string"||D!=null&&typeof D!="string"?Promise.all([Promise.all(_),L,D]).then(M=>S(M[0],M[1],M[2])):S(_,L,D)}_getTransactionRequest(v){const m=(0,l.copyRequest)(v),R=[];if(["to","from"].forEach(S=>{if(m[S]==null)return;const _=(0,t.resolveAddress)(m[S],this);b(_)?R.push((async function(){m[S]=await _})()):m[S]=_}),m.blockTag!=null){const S=this._getBlockTag(m.blockTag);b(S)?R.push((async function(){m.blockTag=await S})()):m.blockTag=S}return R.length?(async function(){return await Promise.all(R),m})():m}async getNetwork(){if(this.#s==null){const S=(async()=>{try{const _=await this._detectNetwork();return this.emit("network",_,null),_}catch(_){throw this.#s===S&&(this.#s=null),_}})();return this.#s=S,(await S).clone()}const v=this.#s,[m,R]=await Promise.all([v,this._detectNetwork()]);return m.chainId!==R.chainId&&(this.#a?(this.emit("network",R,m),this.#s===v&&(this.#s=Promise.resolve(R))):(0,i.assert)(!1,`network changed: ${m.chainId} => ${R.chainId} `,"NETWORK_ERROR",{event:"changed"})),m.clone()}async getFeeData(){const v=await this.getNetwork(),m=async()=>{const{_block:S,gasPrice:_,priorityFee:L}=await(0,i.resolveProperties)({_block:this.#b("latest",!1),gasPrice:(async()=>{try{const j=await this.#c({method:"getGasPrice"});return(0,i.getBigInt)(j,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const j=await this.#c({method:"getPriorityFee"});return(0,i.getBigInt)(j,"%response")}catch{}return null})()});let D=null,M=null;const Q=this._wrapBlock(S,v);return Q&&Q.baseFeePerGas&&(M=L??BigInt("1000000000"),D=Q.baseFeePerGas*f+M),new l.FeeData(_,D,M)},R=v.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(R){const S=new i.FetchRequest(R.url),_=await R.processFunc(m,this,S);return new l.FeeData(_.gasPrice,_.maxFeePerGas,_.maxPriorityFeePerGas)}return await m()}async estimateGas(v){let m=this._getTransactionRequest(v);return b(m)&&(m=await m),(0,i.getBigInt)(await this.#c({method:"estimateGas",transaction:m}),"%response")}async#l(v,m,R){(0,i.assert)(R<h,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},v,{blockTag:m,enableCcipRead:!0})});const S=(0,l.copyRequest)(v);try{return(0,i.hexlify)(await this._perform({method:"call",transaction:S,blockTag:m}))}catch(_){if(!this.disableCcipRead&&(0,i.isCallException)(_)&&_.data&&R>=0&&m==="latest"&&S.to!=null&&(0,i.dataSlice)(_.data,0,4)==="0x556f1830"){const L=_.data,D=await(0,t.resolveAddress)(S.to,this);let M;try{M=U((0,i.dataSlice)(_.data,4))}catch(J){(0,i.assert)(!1,J.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:S,info:{data:L}})}(0,i.assert)(M.sender.toLowerCase()===D.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:L,reason:"OffchainLookup",transaction:S,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:M.errorArgs}});const Q=await this.ccipReadFetch(S,M.calldata,M.urls);(0,i.assert)(Q!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:S,info:{data:_.data,errorArgs:M.errorArgs}});const j={to:D,data:(0,i.concat)([M.selector,N([Q,M.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:j});try{const J=await this.#l(j,m,R+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},j),result:J}),J}catch(J){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},j),error:J}),J}}throw _}}async#f(v){const{value:m}=await(0,i.resolveProperties)({network:this.getNetwork(),value:v});return m}async call(v){const{tx:m,blockTag:R}=await(0,i.resolveProperties)({tx:this._getTransactionRequest(v),blockTag:this._getBlockTag(v.blockTag)});return await this.#f(this.#l(m,R,v.enableCcipRead?0:-1))}async#d(v,m,R){let S=this._getAddress(m),_=this._getBlockTag(R);return(typeof S!="string"||typeof _!="string")&&([S,_]=await Promise.all([S,_])),await this.#f(this.#c(Object.assign(v,{address:S,blockTag:_})))}async getBalance(v,m){return(0,i.getBigInt)(await this.#d({method:"getBalance"},v,m),"%response")}async getTransactionCount(v,m){return(0,i.getNumber)(await this.#d({method:"getTransactionCount"},v,m),"%response")}async getCode(v,m){return(0,i.hexlify)(await this.#d({method:"getCode"},v,m))}async getStorage(v,m,R){const S=(0,i.getBigInt)(m,"position");return(0,i.hexlify)(await this.#d({method:"getStorage",position:S},v,R))}async broadcastTransaction(v){const{blockNumber:m,hash:R,network:S}=await(0,i.resolveProperties)({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:v}),network:this.getNetwork()}),_=s.Transaction.from(v);if(_.hash!==R)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(_,S).replaceableTransaction(m)}async#b(v,m){if((0,i.isHexString)(v,32))return await this.#c({method:"getBlock",blockHash:v,includeTransactions:m});let R=this._getBlockTag(v);return typeof R!="string"&&(R=await R),await this.#c({method:"getBlock",blockTag:R,includeTransactions:m})}async getBlock(v,m){const{network:R,params:S}=await(0,i.resolveProperties)({network:this.getNetwork(),params:this.#b(v,!!m)});return S==null?null:this._wrapBlock(S,R)}async getTransaction(v){const{network:m,params:R}=await(0,i.resolveProperties)({network:this.getNetwork(),params:this.#c({method:"getTransaction",hash:v})});return R==null?null:this._wrapTransactionResponse(R,m)}async getTransactionReceipt(v){const{network:m,params:R}=await(0,i.resolveProperties)({network:this.getNetwork(),params:this.#c({method:"getTransactionReceipt",hash:v})});if(R==null)return null;if(R.gasPrice==null&&R.effectiveGasPrice==null){const S=await this.#c({method:"getTransaction",hash:v});if(S==null)throw new Error("report this; could not find tx or effectiveGasPrice");R.effectiveGasPrice=S.gasPrice}return this._wrapTransactionReceipt(R,m)}async getTransactionResult(v){const{result:m}=await(0,i.resolveProperties)({network:this.getNetwork(),result:this.#c({method:"getTransactionResult",hash:v})});return m==null?null:(0,i.hexlify)(m)}async getLogs(v){let m=this._getFilter(v);b(m)&&(m=await m);const{network:R,params:S}=await(0,i.resolveProperties)({network:this.getNetwork(),params:this.#c({method:"getLogs",filter:m})});return S.map(_=>this._wrapLog(_,R))}_getProvider(v){(0,i.assert)(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(v){return await a.EnsResolver.fromName(this,v)}async getAvatar(v){const m=await this.getResolver(v);return m?await m.getAvatar():null}async resolveName(v){const m=await this.getResolver(v);return m?await m.getAddress():null}async lookupAddress(v){v=(0,t.getAddress)(v);const m=(0,n.namehash)(v.substring(2).toLowerCase()+".addr.reverse");try{const R=await a.EnsResolver.getEnsAddress(this),_=await new r.Contract(R,["function resolver(bytes32) view returns (address)"],this).resolver(m);if(_==null||_===e.ZeroAddress)return null;const D=await new r.Contract(_,["function name(bytes32) view returns (string)"],this).name(m);return await this.resolveName(D)!==v?null:D}catch(R){if((0,i.isError)(R,"BAD_DATA")&&R.value==="0x"||(0,i.isError)(R,"CALL_EXCEPTION"))return null;throw R}return null}async waitForTransaction(v,m,R){const S=m??1;return S===0?this.getTransactionReceipt(v):new Promise(async(_,L)=>{let D=null;const M=(async Q=>{try{const j=await this.getTransactionReceipt(v);if(j!=null&&Q-j.blockNumber+1>=S){_(j),D&&(clearTimeout(D),D=null);return}}catch(j){console.log("EEE",j)}this.once("block",M)});R!=null&&(D=setTimeout(()=>{D!=null&&(D=null,this.off("block",M),L((0,i.makeError)("timeout","TIMEOUT",{reason:"timeout"})))},R)),M(await this.getBlockNumber())})}async waitForBlock(v){(0,i.assert)(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(v){const m=this.#u.get(v);m&&(m.timer&&clearTimeout(m.timer),this.#u.delete(v))}_setTimeout(v,m){m==null&&(m=0);const R=this.#h++,S=()=>{this.#u.delete(R),v()};if(this.paused)this.#u.set(R,{timer:null,func:S,time:m});else{const _=setTimeout(S,m);this.#u.set(R,{timer:_,func:S,time:w()})}return R}_forEachSubscriber(v){for(const m of this.#e.values())v(m.subscriber)}_getSubscriber(v){switch(v.type){case"debug":case"error":case"network":return new E(v.type);case"block":{const m=new c.PollingBlockSubscriber(this);return m.pollingInterval=this.pollingInterval,m}case"safe":case"finalized":return new c.PollingBlockTagSubscriber(this,v.type);case"event":return new c.PollingEventSubscriber(this,v.filter);case"transaction":return new c.PollingTransactionSubscriber(this,v.hash);case"orphan":return new c.PollingOrphanSubscriber(this,v.filter)}throw new Error(`unsupported event: ${v.type}`)}_recoverSubscriber(v,m){for(const R of this.#e.values())if(R.subscriber===v){R.started&&R.subscriber.stop(),R.subscriber=m,R.started&&m.start(),this.#r!=null&&m.pause(this.#r);break}}async#m(v,m){let R=await y(v,this);return R.type==="event"&&m&&m.length>0&&m[0].removed===!0&&(R=await y({orphan:"drop-log",log:m[0]},this)),this.#e.get(R.tag)||null}async#y(v){const m=await y(v,this),R=m.tag;let S=this.#e.get(R);return S||(S={subscriber:this._getSubscriber(m),tag:R,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(R,S)),S}async on(v,m){const R=await this.#y(v);return R.listeners.push({listener:m,once:!1}),R.started||(R.subscriber.start(),R.started=!0,this.#r!=null&&R.subscriber.pause(this.#r)),this}async once(v,m){const R=await this.#y(v);return R.listeners.push({listener:m,once:!0}),R.started||(R.subscriber.start(),R.started=!0,this.#r!=null&&R.subscriber.pause(this.#r)),this}async emit(v,...m){const R=await this.#m(v,m);if(!R||R.listeners.length===0)return!1;const S=R.listeners.length;return R.listeners=R.listeners.filter(({listener:_,once:L})=>{const D=new i.EventPayload(this,L?null:_,v);try{_.call(this,...m,D)}catch{}return!L}),R.listeners.length===0&&(R.started&&R.subscriber.stop(),this.#e.delete(R.tag)),S>0}async listenerCount(v){if(v){const R=await this.#m(v);return R?R.listeners.length:0}let m=0;for(const{listeners:R}of this.#e.values())m+=R.length;return m}async listeners(v){if(v){const R=await this.#m(v);return R?R.listeners.map(({listener:S})=>S):[]}let m=[];for(const{listeners:R}of this.#e.values())m=m.concat(R.map(({listener:S})=>S));return m}async off(v,m){const R=await this.#m(v);if(!R)return this;if(m){const S=R.listeners.map(({listener:_})=>_).indexOf(m);S>=0&&R.listeners.splice(S,1)}return(!m||R.listeners.length===0)&&(R.started&&R.subscriber.stop(),this.#e.delete(R.tag)),this}async removeAllListeners(v){if(v){const{tag:m,started:R,subscriber:S}=await this.#y(v);R&&S.stop(),this.#e.delete(m)}else for(const[m,{started:R,subscriber:S}]of this.#e)R&&S.stop(),this.#e.delete(m);return this}async addListener(v,m){return await this.on(v,m)}async removeListener(v,m){return this.off(v,m)}get destroyed(){return this.#n}destroy(){this.removeAllListeners();for(const v of this.#u.keys())this._clearTimeout(v);this.#n=!0}get paused(){return this.#r!=null}set paused(v){!!v!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(v){if(this.#o=-1,this.#r!=null){if(this.#r==!!v)return;(0,i.assert)(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(m=>m.pause(v)),this.#r=!!v;for(const m of this.#u.values())m.timer&&clearTimeout(m.timer),m.time=w()-m.time}resume(){if(this.#r!=null){this._forEachSubscriber(v=>v.resume()),this.#r=null;for(const v of this.#u.values()){let m=v.time;m<0&&(m=0),v.time=w(),setTimeout(v.func,m)}}}}An.AbstractProvider=O;function P(I,v){try{const m=A(I,v);if(m)return(0,i.toUtf8String)(m)}catch{}return null}function A(I,v){if(I==="0x")return null;try{const m=(0,i.getNumber)((0,i.dataSlice)(I,v,v+32)),R=(0,i.getNumber)((0,i.dataSlice)(I,m,m+32));return(0,i.dataSlice)(I,m+32,m+32+R)}catch{}return null}function g(I){const v=(0,i.toBeArray)(I);if(v.length>32)throw new Error("internal; should not happen");const m=new Uint8Array(32);return m.set(v,32-v.length),m}function B(I){if(I.length%32===0)return I;const v=new Uint8Array(Math.ceil(I.length/32)*32);return v.set(I),v}const C=new Uint8Array([]);function N(I){const v=[];let m=0;for(let R=0;R<I.length;R++)v.push(C),m+=32;for(let R=0;R<I.length;R++){const S=(0,i.getBytes)(I[R]);v[R]=g(m),v.push(g(S.length)),v.push(B(S)),m+=32+Math.ceil(S.length/32)*32}return(0,i.concat)(v)}const F="0x0000000000000000000000000000000000000000000000000000000000000000";function U(I){const v={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};(0,i.assert)((0,i.dataLength)(I)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const m=(0,i.dataSlice)(I,0,32);(0,i.assert)((0,i.dataSlice)(m,0,12)===(0,i.dataSlice)(F,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),v.sender=(0,i.dataSlice)(m,12);try{const R=[],S=(0,i.getNumber)((0,i.dataSlice)(I,32,64)),_=(0,i.getNumber)((0,i.dataSlice)(I,S,S+32)),L=(0,i.dataSlice)(I,S+32);for(let D=0;D<_;D++){const M=P(L,D*32);if(M==null)throw new Error("abort");R.push(M)}v.urls=R}catch{(0,i.assert)(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const R=A(I,64);if(R==null)throw new Error("abort");v.calldata=R}catch{(0,i.assert)(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}(0,i.assert)((0,i.dataSlice)(I,100,128)===(0,i.dataSlice)(F,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),v.selector=(0,i.dataSlice)(I,96,100);try{const R=A(I,128);if(R==null)throw new Error("abort");v.extraData=R}catch{(0,i.assert)(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return v.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(R=>v[R]),v}return An}var En={},kd;function iu(){if(kd)return En;kd=1,Object.defineProperty(En,"__esModule",{value:!0}),En.VoidSigner=En.AbstractSigner=void 0;const t=lt(),e=Mt(),r=fe(),n=aa();function s(u,l){if(u.provider)return u.provider;(0,r.assert)(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:l})}async function i(u,l){let c=(0,n.copyRequest)(l);if(c.to!=null&&(c.to=(0,t.resolveAddress)(c.to,u)),c.from!=null){const f=c.from;c.from=Promise.all([u.getAddress(),(0,t.resolveAddress)(f,u)]).then(([h,b])=>((0,r.assertArgument)(h.toLowerCase()===b.toLowerCase(),"transaction from mismatch","tx.from",b),h))}else c.from=u.getAddress();return await(0,r.resolveProperties)(c)}class a{provider;constructor(l){(0,r.defineProperties)(this,{provider:l||null})}async getNonce(l){return s(this,"getTransactionCount").getTransactionCount(await this.getAddress(),l)}async populateCall(l){return await i(this,l)}async populateTransaction(l){const c=s(this,"populateTransaction"),f=await i(this,l);f.nonce==null&&(f.nonce=await this.getNonce("pending")),f.gasLimit==null&&(f.gasLimit=await this.estimateGas(f));const h=await this.provider.getNetwork();if(f.chainId!=null){const k=(0,r.getBigInt)(f.chainId);(0,r.assertArgument)(k===h.chainId,"transaction chainId mismatch","tx.chainId",l.chainId)}else f.chainId=h.chainId;const b=f.maxFeePerGas!=null||f.maxPriorityFeePerGas!=null;if(f.gasPrice!=null&&(f.type===2||b)?(0,r.assertArgument)(!1,"eip-1559 transaction do not support gasPrice","tx",l):(f.type===0||f.type===1)&&b&&(0,r.assertArgument)(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",l),(f.type===2||f.type==null)&&f.maxFeePerGas!=null&&f.maxPriorityFeePerGas!=null)f.type=2;else if(f.type===0||f.type===1){const k=await c.getFeeData();(0,r.assert)(k.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),f.gasPrice==null&&(f.gasPrice=k.gasPrice)}else{const k=await c.getFeeData();if(f.type==null)if(k.maxFeePerGas!=null&&k.maxPriorityFeePerGas!=null)if(f.type=2,f.gasPrice!=null){const E=f.gasPrice;delete f.gasPrice,f.maxFeePerGas=E,f.maxPriorityFeePerGas=E}else f.maxFeePerGas==null&&(f.maxFeePerGas=k.maxFeePerGas),f.maxPriorityFeePerGas==null&&(f.maxPriorityFeePerGas=k.maxPriorityFeePerGas);else k.gasPrice!=null?((0,r.assert)(!b,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),f.gasPrice==null&&(f.gasPrice=k.gasPrice),f.type=0):(0,r.assert)(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(f.type===2||f.type===3)&&(f.maxFeePerGas==null&&(f.maxFeePerGas=k.maxFeePerGas),f.maxPriorityFeePerGas==null&&(f.maxPriorityFeePerGas=k.maxPriorityFeePerGas))}return await(0,r.resolveProperties)(f)}async estimateGas(l){return s(this,"estimateGas").estimateGas(await this.populateCall(l))}async call(l){return s(this,"call").call(await this.populateCall(l))}async resolveName(l){return await s(this,"resolveName").resolveName(l)}async sendTransaction(l){const c=s(this,"sendTransaction"),f=await this.populateTransaction(l);delete f.from;const h=e.Transaction.from(f);return await c.broadcastTransaction(await this.signTransaction(h))}}En.AbstractSigner=a;class o extends a{address;constructor(l,c){super(c),(0,r.defineProperties)(this,{address:l})}async getAddress(){return this.address}connect(l){return new o(this.address,l)}#e(l,c){(0,r.assert)(!1,`VoidSigner cannot sign ${l}`,"UNSUPPORTED_OPERATION",{operation:c})}async signTransaction(l){this.#e("transactions","signTransaction")}async signMessage(l){this.#e("messages","signMessage")}async signTypedData(l,c,f){this.#e("typed-data","signTypedData")}}return En.VoidSigner=o,En}var ni={},Bd;function Yr(){if(Bd)return ni;Bd=1,Object.defineProperty(ni,"__esModule",{value:!0}),ni.showThrottleMessage=void 0;const t=new Set;function e(r){t.has(r)||(t.add(r),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${r} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}return ni.showThrottleMessage=e,ni}var si={},ii={},Wt={},wr={},Nd;function kA(){if(Nd)return wr;Nd=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.FilterIdPendingSubscriber=wr.FilterIdEventSubscriber=wr.FilterIdSubscriber=void 0;const t=fe(),e=su();function r(a){return JSON.parse(JSON.stringify(a))}class n{#e;#t;#r;#n;#s;#a;constructor(o){this.#e=o,this.#t=null,this.#r=this.#i.bind(this),this.#n=!1,this.#s=null,this.#a=!1}_subscribe(o){throw new Error("subclasses must override this")}_emitResults(o,u){throw new Error("subclasses must override this")}_recover(o){throw new Error("subclasses must override this")}async#i(o){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let u=null;try{u=await this.#t}catch(f){if(!(0,t.isError)(f,"UNSUPPORTED_OPERATION")||f.operation!=="eth_newFilter")throw f}if(u==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}const l=await this.#e.getNetwork();if(this.#s||(this.#s=l),this.#s.chainId!==l.chainId)throw new Error("chaid changed");if(this.#a)return;const c=await this.#e.send("eth_getFilterChanges",[u]);await this._emitResults(this.#e,c)}catch(u){console.log("@TODO",u)}this.#e.once("block",this.#r)}#o(){const o=this.#t;o&&(this.#t=null,o.then(u=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[u])}))}start(){this.#n||(this.#n=!0,this.#i(-2))}stop(){this.#n&&(this.#n=!1,this.#a=!0,this.#o(),this.#e.off("block",this.#r))}pause(o){o&&this.#o(),this.#e.off("block",this.#r)}resume(){this.start()}}wr.FilterIdSubscriber=n;class s extends n{#e;constructor(o,u){super(o),this.#e=r(u)}_recover(o){return new e.PollingEventSubscriber(o,this.#e)}async _subscribe(o){return await o.send("eth_newFilter",[this.#e])}async _emitResults(o,u){for(const l of u)o.emit(this.#e,o._wrapLog(l,o._network))}}wr.FilterIdEventSubscriber=s;class i extends n{async _subscribe(o){return await o.send("eth_newPendingTransactionFilter",[])}async _emitResults(o,u){for(const l of u)o.emit("pending",l)}}return wr.FilterIdPendingSubscriber=i,wr}var Rd;function nr(){if(Rd)return Wt;Rd=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.JsonRpcProvider=Wt.JsonRpcApiPollingProvider=Wt.JsonRpcApiProvider=Wt.JsonRpcSigner=void 0;const t=ia(),e=lt(),r=Fr(),n=Mt(),s=fe(),i=oa(),a=iu(),o=jt(),u=kA(),l=su(),c="bigint,boolean,function,number,string,symbol".split(/,/g);function f(A){if(A==null||c.indexOf(typeof A)>=0||typeof A.getAddress=="function")return A;if(Array.isArray(A))return A.map(f);if(typeof A=="object")return Object.keys(A).reduce((g,B)=>(g[B]=A[B],g),{});throw new Error(`should not happen: ${A} (${typeof A})`)}function h(A){return new Promise(g=>{setTimeout(g,A)})}function b(A){return A&&A.toLowerCase()}function k(A){return A&&typeof A.pollingInterval=="number"}const E={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class d extends a.AbstractSigner{address;constructor(g,B){super(g),B=(0,e.getAddress)(B),(0,s.defineProperties)(this,{address:B})}connect(g){(0,s.assert)(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(g){return await this.populateCall(g)}async sendUncheckedTransaction(g){const B=f(g),C=[];if(B.from){const F=B.from;C.push((async()=>{const U=await(0,e.resolveAddress)(F,this.provider);(0,s.assertArgument)(U!=null&&U.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",g),B.from=U})())}else B.from=this.address;if(B.gasLimit==null&&C.push((async()=>{B.gasLimit=await this.provider.estimateGas({...B,from:this.address})})()),B.to!=null){const F=B.to;C.push((async()=>{B.to=await(0,e.resolveAddress)(F,this.provider)})())}C.length&&await Promise.all(C);const N=this.provider.getRpcTransaction(B);return this.provider.send("eth_sendTransaction",[N])}async sendTransaction(g){const B=await this.provider.getBlockNumber(),C=await this.sendUncheckedTransaction(g);return await new Promise((N,F)=>{const U=[1e3,100];let I=0;const v=async()=>{try{const m=await this.provider.getTransaction(C);if(m!=null){N(m.replaceableTransaction(B));return}}catch(m){if((0,s.isError)(m,"CANCELLED")||(0,s.isError)(m,"BAD_DATA")||(0,s.isError)(m,"NETWORK_ERROR")){m.info==null&&(m.info={}),m.info.sendTransactionHash=C,F(m);return}if((0,s.isError)(m,"INVALID_ARGUMENT")&&(I++,m.info==null&&(m.info={}),m.info.sendTransactionHash=C,I>10)){F(m);return}this.provider.emit("error",(0,s.makeError)("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:m}))}this.provider._setTimeout(()=>{v()},U.pop()||4e3)};v()})}async signTransaction(g){const B=f(g);if(B.from){const N=await(0,e.resolveAddress)(B.from,this.provider);(0,s.assertArgument)(N!=null&&N.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",g),B.from=N}else B.from=this.address;const C=this.provider.getRpcTransaction(B);return await this.provider.send("eth_signTransaction",[C])}async signMessage(g){const B=typeof g=="string"?(0,s.toUtf8Bytes)(g):g;return await this.provider.send("personal_sign",[(0,s.hexlify)(B),this.address.toLowerCase()])}async signTypedData(g,B,C){const N=f(C),F=await r.TypedDataEncoder.resolveNames(g,B,N,async U=>{const I=await(0,e.resolveAddress)(U);return(0,s.assertArgument)(I!=null,"TypedData does not support null address","value",U),I});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(r.TypedDataEncoder.getPayload(F.domain,B,F.value))])}async unlock(g){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),g,null])}async _legacySignMessage(g){const B=typeof g=="string"?(0,s.toUtf8Bytes)(g):g;return await this.provider.send("eth_sign",[this.address.toLowerCase(),(0,s.hexlify)(B)])}}Wt.JsonRpcSigner=d;class p extends i.AbstractProvider{#e;#t;#r;#n;#s;#a;#i;#o(){if(this.#n)return;const g=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#n=setTimeout(()=>{this.#n=null;const B=this.#r;for(this.#r=[];B.length;){const C=[B.shift()];for(;B.length&&C.length!==this.#e.batchMaxCount;)if(C.push(B.shift()),JSON.stringify(C.map(F=>F.payload)).length>this.#e.batchMaxSize){B.unshift(C.pop());break}(async()=>{const N=C.length===1?C[0].payload:C.map(F=>F.payload);this.emit("debug",{action:"sendRpcPayload",payload:N});try{const F=await this._send(N);this.emit("debug",{action:"receiveRpcResult",result:F});for(const{resolve:U,reject:I,payload:v}of C){if(this.destroyed){I((0,s.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:v.method}));continue}const m=F.filter(R=>R.id===v.id)[0];if(m==null){const R=(0,s.makeError)("missing response for request","BAD_DATA",{value:F,info:{payload:v}});this.emit("error",R),I(R);continue}if("error"in m){I(this.getRpcError(v,m));continue}U(m.result)}}catch(F){this.emit("debug",{action:"receiveRpcError",error:F});for(const{reject:U}of C)U(F)}})()}},g)}constructor(g,B){super(g,B),this.#t=1,this.#e=Object.assign({},E,B||{}),this.#r=[],this.#n=null,this.#a=null,this.#i=null;{let N=null;const F=new Promise(U=>{N=U});this.#s={promise:F,resolve:N}}const C=this._getOption("staticNetwork");typeof C=="boolean"?((0,s.assertArgument)(!C||g!=="any","staticNetwork cannot be used on special network 'any'","options",B),C&&g!=null&&(this.#a=o.Network.from(g))):C&&((0,s.assertArgument)(g==null||C.matches(g),"staticNetwork MUST match network object","options",B),this.#a=C)}_getOption(g){return this.#e[g]}get _network(){return(0,s.assert)(this.#a,"network is not available yet","NETWORK_ERROR"),this.#a}async _perform(g){if(g.method==="call"||g.method==="estimateGas"){let C=g.transaction;if(C&&C.type!=null&&(0,s.getBigInt)(C.type)&&C.maxFeePerGas==null&&C.maxPriorityFeePerGas==null){const N=await this.getFeeData();N.maxFeePerGas==null&&N.maxPriorityFeePerGas==null&&(g=Object.assign({},g,{transaction:Object.assign({},C,{type:void 0})}))}}const B=this.getRpcRequest(g);return B!=null?await this.send(B.method,B.args):super._perform(g)}async _detectNetwork(){const g=this._getOption("staticNetwork");if(g)if(g===!0){if(this.#a)return this.#a}else return g;return this.#i?await this.#i:this.ready?(this.#i=(async()=>{try{const B=o.Network.from((0,s.getBigInt)(await this.send("eth_chainId",[])));return this.#i=null,B}catch(B){throw this.#i=null,B}})(),await this.#i):(this.#i=(async()=>{const B={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:B});let C;try{C=(await this._send(B))[0],this.#i=null}catch(N){throw this.#i=null,this.emit("debug",{action:"receiveRpcError",error:N}),N}if(this.emit("debug",{action:"receiveRpcResult",result:C}),"result"in C)return o.Network.from((0,s.getBigInt)(C.result));throw this.getRpcError(B,C)})(),await this.#i)}_start(){this.#s==null||this.#s.resolve==null||(this.#s.resolve(),this.#s=null,(async()=>{for(;this.#a==null&&!this.destroyed;)try{this.#a=await this._detectNetwork()}catch(g){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",(0,s.makeError)("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:g}})),await h(1e3)}this.#o()})())}async _waitUntilReady(){if(this.#s!=null)return await this.#s.promise}_getSubscriber(g){return g.type==="pending"?new u.FilterIdPendingSubscriber(this):g.type==="event"?this._getOption("polling")?new l.PollingEventSubscriber(this,g.filter):new u.FilterIdEventSubscriber(this,g.filter):g.type==="orphan"&&g.filter.orphan==="drop-log"?new i.UnmanagedSubscriber("orphan"):super._getSubscriber(g)}get ready(){return this.#s==null}getRpcTransaction(g){const B={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(C=>{if(g[C]==null)return;let N=C;C==="gasLimit"&&(N="gas"),B[N]=(0,s.toQuantity)((0,s.getBigInt)(g[C],`tx.${C}`))}),["from","to","data"].forEach(C=>{g[C]!=null&&(B[C]=(0,s.hexlify)(g[C]))}),g.accessList&&(B.accessList=(0,n.accessListify)(g.accessList)),g.blobVersionedHashes&&(B.blobVersionedHashes=g.blobVersionedHashes.map(C=>C.toLowerCase())),B}getRpcRequest(g){switch(g.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[b(g.address),g.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[b(g.address),g.blockTag]};case"getCode":return{method:"eth_getCode",args:[b(g.address),g.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[b(g.address),"0x"+g.position.toString(16),g.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[g.signedTransaction]};case"getBlock":if("blockTag"in g)return{method:"eth_getBlockByNumber",args:[g.blockTag,!!g.includeTransactions]};if("blockHash"in g)return{method:"eth_getBlockByHash",args:[g.blockHash,!!g.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[g.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[g.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(g.transaction),g.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(g.transaction)]};case"getLogs":return g.filter&&g.filter.address!=null&&(Array.isArray(g.filter.address)?g.filter.address=g.filter.address.map(b):g.filter.address=b(g.filter.address)),{method:"eth_getLogs",args:[g.filter]}}return null}getRpcError(g,B){const{method:C}=g,{error:N}=B;if(C==="eth_estimateGas"&&N.message){const I=N.message;if(!I.match(/revert/i)&&I.match(/insufficient funds/i))return(0,s.makeError)("insufficient funds","INSUFFICIENT_FUNDS",{transaction:g.params[0],info:{payload:g,error:N}})}if(C==="eth_call"||C==="eth_estimateGas"){const I=x(N),v=t.AbiCoder.getBuiltinCallException(C==="eth_call"?"call":"estimateGas",g.params[0],I?I.data:null);return v.info={error:N,payload:g},v}const F=JSON.stringify(P(N));if(typeof N.message=="string"&&N.message.match(/user denied|ethers-user-denied/i)){const I={eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"};return(0,s.makeError)("user rejected action","ACTION_REJECTED",{action:I[C]||"unknown",reason:"rejected",info:{payload:g,error:N}})}if(C==="eth_sendRawTransaction"||C==="eth_sendTransaction"){const I=g.params[0];if(F.match(/insufficient funds|base fee exceeds gas limit/i))return(0,s.makeError)("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:I,info:{error:N}});if(F.match(/nonce/i)&&F.match(/too low/i))return(0,s.makeError)("nonce has already been used","NONCE_EXPIRED",{transaction:I,info:{error:N}});if(F.match(/replacement transaction/i)&&F.match(/underpriced/i))return(0,s.makeError)("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:I,info:{error:N}});if(F.match(/only replay-protected/i))return(0,s.makeError)("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:C,info:{transaction:I,info:{error:N}}})}let U=!!F.match(/the method .* does not exist/i);return U||N&&N.details&&N.details.startsWith("Unauthorized method:")&&(U=!0),U?(0,s.makeError)("unsupported operation","UNSUPPORTED_OPERATION",{operation:g.method,info:{error:N,payload:g}}):(0,s.makeError)("could not coalesce error","UNKNOWN_ERROR",{error:N,payload:g})}send(g,B){if(this.destroyed)return Promise.reject((0,s.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:g}));const C=this.#t++,N=new Promise((F,U)=>{this.#r.push({resolve:F,reject:U,payload:{method:g,params:B,id:C,jsonrpc:"2.0"}})});return this.#o(),N}async getSigner(g){g==null&&(g=0);const B=this.send("eth_accounts",[]);if(typeof g=="number"){const N=await B;if(g>=N.length)throw new Error("no such account");return new d(this,N[g])}const{accounts:C}=await(0,s.resolveProperties)({network:this.getNetwork(),accounts:B});g=(0,e.getAddress)(g);for(const N of C)if((0,e.getAddress)(N)===g)return new d(this,g);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(B=>new d(this,B))}destroy(){this.#n&&(clearTimeout(this.#n),this.#n=null);for(const{payload:g,reject:B}of this.#r)B((0,s.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:g.method}));this.#r=[],super.destroy()}}Wt.JsonRpcApiProvider=p;class y extends p{#e;constructor(g,B){super(g,B);let C=this._getOption("pollingInterval");C==null&&(C=E.pollingInterval),this.#e=C}_getSubscriber(g){const B=super._getSubscriber(g);return k(B)&&(B.pollingInterval=this.#e),B}get pollingInterval(){return this.#e}set pollingInterval(g){if(!Number.isInteger(g)||g<0)throw new Error("invalid interval");this.#e=g,this._forEachSubscriber(B=>{k(B)&&(B.pollingInterval=this.#e)})}}Wt.JsonRpcApiPollingProvider=y;class w extends y{#e;constructor(g,B,C){g==null&&(g="http://localhost:8545"),super(B,C),typeof g=="string"?this.#e=new s.FetchRequest(g):this.#e=g.clone()}_getConnection(){return this.#e.clone()}async send(g,B){return await this._start(),await super.send(g,B)}async _send(g){const B=this._getConnection();B.body=JSON.stringify(g),B.setHeader("content-type","application/json");const C=await B.send();C.assertOk();let N=C.bodyJson;return Array.isArray(N)||(N=[N]),N}}Wt.JsonRpcProvider=w;function x(A){if(A==null)return null;if(typeof A.message=="string"&&A.message.match(/revert/i)&&(0,s.isHexString)(A.data))return{message:A.message,data:A.data};if(typeof A=="object"){for(const g in A){const B=x(A[g]);if(B)return B}return null}if(typeof A=="string")try{return x(JSON.parse(A))}catch{}return null}function O(A,g){if(A!=null){if(typeof A.message=="string"&&g.push(A.message),typeof A=="object")for(const B in A)O(A[B],g);if(typeof A=="string")try{return O(JSON.parse(A),g)}catch{}}}function P(A){const g=[];return O(A,g),g}return Wt}var Cd;function Dg(){if(Cd)return ii;Cd=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.AnkrProvider=void 0;const t=fe(),e=Yr(),r=jt(),n=nr(),s="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function i(o){switch(o){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}(0,t.assertArgument)(!1,"unsupported network","network",o)}class a extends n.JsonRpcProvider{apiKey;constructor(u,l){u==null&&(u="mainnet");const c=r.Network.from(u);l==null&&(l=s);const f={polling:!0,staticNetwork:c},h=a.getRequest(c,l);super(h,c,f),(0,t.defineProperties)(this,{apiKey:l})}_getProvider(u){try{return new a(u,this.apiKey)}catch{}return super._getProvider(u)}static getRequest(u,l){l==null&&(l=s);const c=new t.FetchRequest(`https://${i(u.name)}/${l}`);return c.allowGzip=!0,l===s&&(c.retryFunc=async(f,h,b)=>((0,e.showThrottleMessage)("AnkrProvider"),!0)),c}getRpcError(u,l){return u.method==="eth_sendRawTransaction"&&l&&l.error&&l.error.message==="INTERNAL_ERROR: could not replace existing tx"&&(l.error.message="replacement transaction underpriced"),super.getRpcError(u,l)}isCommunityResource(){return this.apiKey===s}}return ii.AnkrProvider=a,ii}var ai={},Sd;function Mg(){if(Sd)return ai;Sd=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.AlchemyProvider=void 0;const t=fe(),e=Yr(),r=jt(),n=nr(),s="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";function i(o){switch(o){case"mainnet":return"eth-mainnet.alchemyapi.io";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}(0,t.assertArgument)(!1,"unsupported network","network",o)}class a extends n.JsonRpcProvider{apiKey;constructor(u,l){u==null&&(u="mainnet");const c=r.Network.from(u);l==null&&(l=s);const f=a.getRequest(c,l);super(f,c,{staticNetwork:c}),(0,t.defineProperties)(this,{apiKey:l})}_getProvider(u){try{return new a(u,this.apiKey)}catch{}return super._getProvider(u)}async _perform(u){if(u.method==="getTransactionResult"){const{trace:l,tx:c}=await(0,t.resolveProperties)({trace:this.send("trace_transaction",[u.hash]),tx:this.getTransaction(u.hash)});if(l==null||c==null)return null;let f,h=!1;try{f=l[0].result.output,h=l[0].error==="Reverted"}catch{}if(f)return(0,t.assert)(!h,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:f,reason:null,transaction:c,invocation:null,revert:null}),f;(0,t.assert)(!1,"could not parse trace result","BAD_DATA",{value:l})}return await super._perform(u)}isCommunityResource(){return this.apiKey===s}static getRequest(u,l){l==null&&(l=s);const c=new t.FetchRequest(`https://${i(u.name)}/v2/${l}`);return c.allowGzip=!0,l===s&&(c.retryFunc=async(f,h,b)=>((0,e.showThrottleMessage)("alchemy"),!0)),c}}return ai.AlchemyProvider=a,ai}var oi={},_d;function jg(){if(_d)return oi;_d=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.ChainstackProvider=void 0;const t=fe(),e=Yr(),r=jt(),n=nr();function s(o){switch(o){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}(0,t.assertArgument)(!1,"unsupported network","network",o)}function i(o){switch(o){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}(0,t.assertArgument)(!1,"unsupported network","network",o)}class a extends n.JsonRpcProvider{apiKey;constructor(u,l){u==null&&(u="mainnet");const c=r.Network.from(u);l==null&&(l=s(c.name));const f=a.getRequest(c,l);super(f,c,{staticNetwork:c}),(0,t.defineProperties)(this,{apiKey:l})}_getProvider(u){try{return new a(u,this.apiKey)}catch{}return super._getProvider(u)}isCommunityResource(){return this.apiKey===s(this._network.name)}static getRequest(u,l){l==null&&(l=s(u.name));const c=new t.FetchRequest(`https://${i(u.name)}/${l}`);return c.allowGzip=!0,l===s(u.name)&&(c.retryFunc=async(f,h,b)=>((0,e.showThrottleMessage)("ChainstackProvider"),!0)),c}}return oi.ChainstackProvider=a,oi}var ci={},Id;function Hg(){if(Id)return ci;Id=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.CloudflareProvider=void 0;const t=fe(),e=jt(),r=nr();class n extends r.JsonRpcProvider{constructor(i){i==null&&(i="mainnet");const a=e.Network.from(i);(0,t.assertArgument)(a.name==="mainnet","unsupported network","network",i),super("https://cloudflare-eth.com/",a,{staticNetwork:a})}}return ci.CloudflareProvider=n,ci}var Pn={},Td;function Gg(){if(Td)return Pn;Td=1,Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.EtherscanProvider=Pn.EtherscanPlugin=void 0;const t=ia(),e=Ya(),r=Mt(),n=fe(),s=oa(),i=jt(),a=nu(),o=Yr(),u=2e3;function l(E){return E&&typeof E.then=="function"}const c="org.ethers.plugins.provider.Etherscan";class f extends a.NetworkPlugin{baseUrl;constructor(d){super(c),(0,n.defineProperties)(this,{baseUrl:d})}clone(){return new f(this.baseUrl)}}Pn.EtherscanPlugin=f;const h=["enableCcipRead"];let b=1;class k extends s.AbstractProvider{network;apiKey;#e;constructor(d,p){const y=p??null;super();const w=i.Network.from(d);this.#e=w.getPlugin(c),(0,n.defineProperties)(this,{apiKey:y,network:w}),this.getBaseUrl()}getBaseUrl(){if(this.#e)return this.#e.baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}(0,n.assertArgument)(!1,"unsupported network","network",this.network)}getUrl(d,p){const y=Object.keys(p).reduce((x,O)=>{const P=p[O];return P!=null&&(x+=`&${O}=${P}`),x},""),w=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.getBaseUrl()}/api?module=${d}${y}${w}`}getPostUrl(){return`${this.getBaseUrl()}/api`}getPostData(d,p){return p.module=d,p.apikey=this.apiKey,p}async detectNetwork(){return this.network}async fetch(d,p,y){const w=b++,x=y?this.getPostUrl():this.getUrl(d,p),O=y?this.getPostData(d,p):null;this.emit("debug",{action:"sendRequest",id:w,url:x,payload:O});const P=new n.FetchRequest(x);P.setThrottleParams({slotInterval:1e3}),P.retryFunc=(B,C,N)=>(this.isCommunityResource()&&(0,o.showThrottleMessage)("Etherscan"),Promise.resolve(!0)),P.processFunc=async(B,C)=>{const N=C.hasBody()?JSON.parse((0,n.toUtf8String)(C.body)):{},F=(typeof N.result=="string"?N.result:"").toLowerCase().indexOf("rate limit")>=0;return d==="proxy"?N&&N.status==0&&N.message=="NOTOK"&&F&&(this.emit("debug",{action:"receiveError",id:w,reason:"proxy-NOTOK",error:N}),C.throwThrottleError(N.result,u)):F&&(this.emit("debug",{action:"receiveError",id:w,reason:"null result",error:N.result}),C.throwThrottleError(N.result,u)),C},O&&(P.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),P.body=Object.keys(O).map(B=>`${B}=${O[B]}`).join("&"));const A=await P.send();try{A.assertOk()}catch(B){this.emit("debug",{action:"receiveError",id:w,error:B,reason:"assertOk"}),(0,n.assert)(!1,"response error","SERVER_ERROR",{request:P,response:A})}A.hasBody()||(this.emit("debug",{action:"receiveError",id:w,error:"missing body",reason:"null body"}),(0,n.assert)(!1,"missing response","SERVER_ERROR",{request:P,response:A}));const g=JSON.parse((0,n.toUtf8String)(A.body));return d==="proxy"?(g.jsonrpc!="2.0"&&(this.emit("debug",{action:"receiveError",id:w,result:g,reason:"invalid JSON-RPC"}),(0,n.assert)(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:P,response:A,info:{result:g}})),g.error&&(this.emit("debug",{action:"receiveError",id:w,result:g,reason:"JSON-RPC error"}),(0,n.assert)(!1,"error response","SERVER_ERROR",{request:P,response:A,info:{result:g}})),this.emit("debug",{action:"receiveRequest",id:w,result:g}),g.result):g.status==0&&(g.message==="No records found"||g.message==="No transactions found")?(this.emit("debug",{action:"receiveRequest",id:w,result:g}),g.result):((g.status!=1||typeof g.message=="string"&&!g.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:w,result:g}),(0,n.assert)(!1,"error response","SERVER_ERROR",{request:P,response:A,info:{result:g}})),this.emit("debug",{action:"receiveRequest",id:w,result:g}),g.result)}_getTransactionPostData(d){const p={};for(let y in d){if(h.indexOf(y)>=0||d[y]==null)continue;let w=d[y];if(!(y==="type"&&w===0)&&!(y==="blockTag"&&w==="latest")){if({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[y])w=(0,n.toQuantity)(w);else if(y==="accessList")w="["+(0,r.accessListify)(w).map(x=>`{address:"${x.address}",storageKeys:["${x.storageKeys.join('","')}"]}`).join(",")+"]";else if(y==="blobVersionedHashes"){if(w.length===0)continue;(0,n.assert)(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:d}})}else w=(0,n.hexlify)(w);p[y]=w}}return p}_checkError(d,p,y){let w="";if((0,n.isError)(p,"SERVER_ERROR")){try{w=p.info.result.error.message}catch{}if(!w)try{w=p.info.message}catch{}}if(d.method==="estimateGas"&&!w.match(/revert/i)&&w.match(/insufficient funds/i)&&(0,n.assert)(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:d.transaction}),(d.method==="call"||d.method==="estimateGas")&&w.match(/execution reverted/i)){let x="";try{x=p.info.result.error.data}catch{}const O=t.AbiCoder.getBuiltinCallException(d.method,d.transaction,x);throw O.info={request:d,error:p},O}if(w&&d.method==="broadcastTransaction"){const x=r.Transaction.from(d.signedTransaction);w.match(/replacement/i)&&w.match(/underpriced/i)&&(0,n.assert)(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:x}),w.match(/insufficient funds/)&&(0,n.assert)(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:x}),w.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&(0,n.assert)(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:x})}throw p}async _detectNetwork(){return this.network}async _perform(d){switch(d.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if(this.network.name==="mainnet")return"1000000000";if(this.network.name==="optimism")return"1000000";throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:d.address,tag:d.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:d.address,tag:d.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:d.address,tag:d.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:d.address,position:d.position,tag:d.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:d.signedTransaction},!0).catch(p=>this._checkError(d,p,d.signedTransaction));case"getBlock":if("blockTag"in d)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:d.blockTag,boolean:d.includeTransactions?"true":"false"});(0,n.assert)(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:d.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:d.hash});case"call":{if(d.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const p=this._getTransactionPostData(d.transaction);p.module="proxy",p.action="eth_call";try{return await this.fetch("proxy",p,!0)}catch(y){return this._checkError(d,y,d.transaction)}}case"estimateGas":{const p=this._getTransactionPostData(d.transaction);p.module="proxy",p.action="eth_estimateGas";try{return await this.fetch("proxy",p,!0)}catch(y){return this._checkError(d,y,d.transaction)}}}return super._perform(d)}async getNetwork(){return this.network}async getEtherPrice(){return this.network.name!=="mainnet"?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(d){let p=this._getAddress(d);l(p)&&(p=await p);try{const y=await this.fetch("contract",{action:"getabi",address:p}),w=JSON.parse(y);return new e.Contract(p,w,this)}catch{return null}}isCommunityResource(){return this.apiKey==null}}return Pn.EtherscanProvider=k,Pn}var vn={},ui={},li={},Ud;function BA(){if(Ud)return li;Ud=1,Object.defineProperty(li,"__esModule",{value:!0}),li.WebSocket=void 0;function t(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}const e=t().WebSocket;return li.WebSocket=e,li}var Tt={},Ld;function Ec(){if(Ld)return Tt;Ld=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.SocketProvider=Tt.SocketEventSubscriber=Tt.SocketPendingSubscriber=Tt.SocketBlockSubscriber=Tt.SocketSubscriber=void 0;const t=oa(),e=fe(),r=nr();class n{#e;#t;get filter(){return JSON.parse(this.#t)}#r;#n;#s;constructor(l,c){this.#e=l,this.#t=JSON.stringify(c),this.#r=null,this.#n=null,this.#s=null}start(){this.#r=this.#e.send("eth_subscribe",this.filter).then(l=>(this.#e._register(l,this),l))}stop(){this.#r.then(l=>{this.#e.destroyed||this.#e.send("eth_unsubscribe",[l])}),this.#r=null}pause(l){(0,e.assert)(l,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),this.#n=!!l}resume(){this.#n=null}_handleMessage(l){if(this.#r!=null&&this.#n===null){let c=this.#s;c==null?c=this._emit(this.#e,l):c=c.then(async()=>{await this._emit(this.#e,l)}),this.#s=c.then(()=>{this.#s===c&&(this.#s=null)})}}async _emit(l,c){throw new Error("sub-classes must implemente this; _emit")}}Tt.SocketSubscriber=n;class s extends n{constructor(l){super(l,["newHeads"])}async _emit(l,c){l.emit("block",parseInt(c.number))}}Tt.SocketBlockSubscriber=s;class i extends n{constructor(l){super(l,["newPendingTransactions"])}async _emit(l,c){l.emit("pending",c)}}Tt.SocketPendingSubscriber=i;class a extends n{#e;get logFilter(){return JSON.parse(this.#e)}constructor(l,c){super(l,["logs",c]),this.#e=JSON.stringify(c)}async _emit(l,c){l.emit(this.logFilter,l._wrapLog(c,l._network))}}Tt.SocketEventSubscriber=a;class o extends r.JsonRpcApiProvider{#e;#t;#r;constructor(l,c){const f=Object.assign({},c??{});(0,e.assertArgument)(f.batchMaxCount==null||f.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",c),f.batchMaxCount=1,f.staticNetwork==null&&(f.staticNetwork=!0),super(l,f),this.#e=new Map,this.#t=new Map,this.#r=new Map}_getSubscriber(l){switch(l.type){case"close":return new t.UnmanagedSubscriber("close");case"block":return new s(this);case"pending":return new i(this);case"event":return new a(this,l.filter);case"orphan":if(l.filter.orphan==="drop-log")return new t.UnmanagedSubscriber("drop-log")}return super._getSubscriber(l)}_register(l,c){this.#t.set(l,c);const f=this.#r.get(l);if(f){for(const h of f)c._handleMessage(h);this.#r.delete(l)}}async _send(l){(0,e.assertArgument)(!Array.isArray(l),"WebSocket does not support batch send","payload",l);const c=new Promise((f,h)=>{this.#e.set(l.id,{payload:l,resolve:f,reject:h})});return await this._waitUntilReady(),await this._write(JSON.stringify(l)),[await c]}async _processMessage(l){const c=JSON.parse(l);if(c&&typeof c=="object"&&"id"in c){const f=this.#e.get(c.id);if(f==null){this.emit("error",(0,e.makeError)("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:c}));return}this.#e.delete(c.id),f.resolve(c)}else if(c&&c.method==="eth_subscription"){const f=c.params.subscription,h=this.#t.get(f);if(h)h._handleMessage(c.params.result);else{let b=this.#r.get(f);b==null&&(b=[],this.#r.set(f,b)),b.push(c.params.result)}}else{this.emit("error",(0,e.makeError)("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:c}));return}}async _write(l){throw new Error("sub-classes must override this")}}return Tt.SocketProvider=o,Tt}var Fd;function au(){if(Fd)return ui;Fd=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.WebSocketProvider=void 0;const t=BA(),e=Ec();class r extends e.SocketProvider{#e;#t;get websocket(){if(this.#t==null)throw new Error("websocket closed");return this.#t}constructor(s,i,a){super(i,a),typeof s=="string"?(this.#e=()=>new t.WebSocket(s),this.#t=this.#e()):typeof s=="function"?(this.#e=s,this.#t=s()):(this.#e=null,this.#t=s),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(o){console.log("failed to start WebsocketProvider",o)}},this.websocket.onmessage=o=>{this._processMessage(o.data)}}async _write(s){this.websocket.send(s)}async destroy(){this.#t!=null&&(this.#t.close(),this.#t=null),super.destroy()}}return ui.WebSocketProvider=r,ui}var Dd;function Vg(){if(Dd)return vn;Dd=1,Object.defineProperty(vn,"__esModule",{value:!0}),vn.InfuraProvider=vn.InfuraWebSocketProvider=void 0;const t=fe(),e=Yr(),r=jt(),n=nr(),s=au(),i="84842078b09946638c03157f83405213";function a(l){switch(l){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bnbsmartchain-mainnet.infura.io";case"bnbt":return"bnbsmartchain-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}(0,t.assertArgument)(!1,"unsupported network","network",l)}class o extends s.WebSocketProvider{projectId;projectSecret;constructor(c,f){const h=new u(c,f),b=h._getConnection();(0,t.assert)(!b.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});const k=b.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(k,h._network),(0,t.defineProperties)(this,{projectId:h.projectId,projectSecret:h.projectSecret})}isCommunityResource(){return this.projectId===i}}vn.InfuraWebSocketProvider=o;class u extends n.JsonRpcProvider{projectId;projectSecret;constructor(c,f,h){c==null&&(c="mainnet");const b=r.Network.from(c);f==null&&(f=i),h==null&&(h=null);const k=u.getRequest(b,f,h);super(k,b,{staticNetwork:b}),(0,t.defineProperties)(this,{projectId:f,projectSecret:h})}_getProvider(c){try{return new u(c,this.projectId,this.projectSecret)}catch{}return super._getProvider(c)}isCommunityResource(){return this.projectId===i}static getWebSocketProvider(c,f){return new o(c,f)}static getRequest(c,f,h){f==null&&(f=i),h==null&&(h=null);const b=new t.FetchRequest(`https://${a(c.name)}/v3/${f}`);return b.allowGzip=!0,h&&b.setCredentials("",h),f===i&&(b.retryFunc=async(k,E,d)=>((0,e.showThrottleMessage)("InfuraProvider"),!0)),b}}return vn.InfuraProvider=u,vn}var fi={},Md;function Qg(){if(Md)return fi;Md=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.QuickNodeProvider=void 0;const t=fe(),e=Yr(),r=jt(),n=nr(),s="919b412a057b5e9c9b6dce193c5a60242d6efadb";function i(o){switch(o){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}(0,t.assertArgument)(!1,"unsupported network","network",o)}class a extends n.JsonRpcProvider{token;constructor(u,l){u==null&&(u="mainnet");const c=r.Network.from(u);l==null&&(l=s);const f=a.getRequest(c,l);super(f,c,{staticNetwork:c}),(0,t.defineProperties)(this,{token:l})}_getProvider(u){try{return new a(u,this.token)}catch{}return super._getProvider(u)}isCommunityResource(){return this.token===s}static getRequest(u,l){l==null&&(l=s);const c=new t.FetchRequest(`https://${i(u.name)}/${l}`);return c.allowGzip=!0,l===s&&(c.retryFunc=async(f,h,b)=>((0,e.showThrottleMessage)("QuickNodeProvider"),!0)),c}}return fi.QuickNodeProvider=a,fi}var di={},jd;function Jg(){if(jd)return di;jd=1,Object.defineProperty(di,"__esModule",{value:!0}),di.FallbackProvider=void 0;const t=fe(),e=oa(),r=jt(),n=BigInt("1"),s=BigInt("2");function i(w){for(let x=w.length-1;x>0;x--){const O=Math.floor(Math.random()*(x+1)),P=w[x];w[x]=w[O],w[O]=P}}function a(w){return new Promise(x=>{setTimeout(x,w)})}function o(){return new Date().getTime()}function u(w){return JSON.stringify(w,(x,O)=>typeof O=="bigint"?{type:"bigint",value:O.toString()}:O)}const l={stallTimeout:400,priority:1,weight:1},c={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};async function f(w,x){for(;(w.blockNumber<0||w.blockNumber<x)&&(w._updateNumber||(w._updateNumber=(async()=>{try{const O=await w.provider.getBlockNumber();O>w.blockNumber&&(w.blockNumber=O)}catch(O){w.blockNumber=-2,w._lastFatalError=O,w._lastFatalErrorTimestamp=o()}w._updateNumber=null})()),await w._updateNumber,w.outOfSync++,!w._lastFatalError););}function h(w){if(w==null)return"null";if(Array.isArray(w))return"["+w.map(h).join(",")+"]";if(typeof w=="object"&&typeof w.toJSON=="function")return h(w.toJSON());switch(typeof w){case"boolean":case"symbol":return w.toString();case"bigint":case"number":return BigInt(w).toString();case"string":return JSON.stringify(w);case"object":{const x=Object.keys(w);return x.sort(),"{"+x.map(O=>`${JSON.stringify(O)}:${h(w[O])}`).join(",")+"}"}}throw console.log("Could not serialize",w),new Error("Hmm...")}function b(w){if("error"in w){const O=w.error;return{tag:h(O),value:O}}const x=w.result;return{tag:h(x),value:x}}function k(w,x){const O=new Map;for(const{value:A,tag:g,weight:B}of x){const C=O.get(g)||{value:A,weight:0};C.weight+=B,O.set(g,C)}let P=null;for(const A of O.values())A.weight>=w&&(!P||A.weight>P.weight)&&(P=A);if(P)return P.value}function E(w,x){let O=0;const P=new Map;let A=null;const g=[];for(const{value:C,tag:N,weight:F}of x)if(C instanceof Error){const U=P.get(N)||{value:C,weight:0};U.weight+=F,P.set(N,U),(A==null||U.weight>A.weight)&&(A=U)}else g.push(BigInt(C)),O+=F;if(O<w)return A&&A.weight>=w?A.value:void 0;g.sort((C,N)=>C<N?-1:N>C?1:0);const B=Math.floor(g.length/2);return g.length%2?g[B]:(g[B-1]+g[B]+n)/s}function d(w,x){const O=k(w,x);if(O!==void 0)return O;for(const P of x)if(P.value)return P.value}function p(w,x){if(w===1)return(0,t.getNumber)(E(w,x),"%internal");const O=new Map,P=(B,C)=>{const N=O.get(B)||{result:B,weight:0};N.weight+=C,O.set(B,N)};for(const{weight:B,value:C}of x){const N=(0,t.getNumber)(C);P(N-1,B),P(N,B),P(N+1,B)}let A=0,g;for(const{weight:B,result:C}of O.values())B>=w&&(B>A||g!=null&&B===A&&C>g)&&(A=B,g=C);return g}class y extends e.AbstractProvider{quorum;eventQuorum;eventWorkers;#e;#t;#r;constructor(x,O,P){super(O,P),this.#e=x.map(A=>A instanceof e.AbstractProvider?Object.assign({provider:A},l,c):Object.assign({},l,A,c)),this.#t=-2,this.#r=null,P&&P.quorum!=null?this.quorum=P.quorum:this.quorum=Math.ceil(this.#e.reduce((A,g)=>(A+=g.weight,A),0)/2),this.eventQuorum=1,this.eventWorkers=1,(0,t.assertArgument)(this.quorum<=this.#e.reduce((A,g)=>A+g.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return this.#e.map(x=>{const O=Object.assign({},x);for(const P in O)P[0]==="_"&&delete O[P];return O})}async _detectNetwork(){return r.Network.from((0,t.getBigInt)(await this._perform({method:"chainId"})))}async _translatePerform(x,O){switch(O.method){case"broadcastTransaction":return await x.broadcastTransaction(O.signedTransaction);case"call":return await x.call(Object.assign({},O.transaction,{blockTag:O.blockTag}));case"chainId":return(await x.getNetwork()).chainId;case"estimateGas":return await x.estimateGas(O.transaction);case"getBalance":return await x.getBalance(O.address,O.blockTag);case"getBlock":{const P="blockHash"in O?O.blockHash:O.blockTag;return await x.getBlock(P,O.includeTransactions)}case"getBlockNumber":return await x.getBlockNumber();case"getCode":return await x.getCode(O.address,O.blockTag);case"getGasPrice":return(await x.getFeeData()).gasPrice;case"getPriorityFee":return(await x.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await x.getLogs(O.filter);case"getStorage":return await x.getStorage(O.address,O.position,O.blockTag);case"getTransaction":return await x.getTransaction(O.hash);case"getTransactionCount":return await x.getTransactionCount(O.address,O.blockTag);case"getTransactionReceipt":return await x.getTransactionReceipt(O.hash);case"getTransactionResult":return await x.getTransactionResult(O.hash)}}#n(x){const O=Array.from(x).map(A=>A.config),P=this.#e.slice();i(P),P.sort((A,g)=>A.priority-g.priority);for(const A of P)if(!A._lastFatalError&&O.indexOf(A)===-1)return A;return null}#s(x,O){const P=this.#n(x);if(P==null)return null;const A={config:P,result:null,didBump:!1,perform:null,staller:null},g=o();return A.perform=(async()=>{try{P.requests++;const C=await this._translatePerform(P.provider,O);A.result={result:C}}catch(C){P.errorResponses++,A.result={error:C}}const B=o()-g;P._totalTime+=B,P.rollingDuration=.95*P.rollingDuration+.05*B,A.perform=null})(),A.staller=(async()=>{await a(P.stallTimeout),A.staller=null})(),x.add(A),A}async#a(){let x=this.#r;if(!x){const O=[];this.#e.forEach(P=>{O.push((async()=>{await f(P,0),P._lastFatalError||(P._network=await P.provider.getNetwork())})())}),this.#r=x=(async()=>{await Promise.all(O);let P=null;for(const A of this.#e){if(A._lastFatalError)continue;const g=A._network;P==null?P=g.chainId:g.chainId!==P&&(0,t.assert)(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})()}await x}async#i(x,O){const P=[];for(const A of x)if(A.result!=null){const{tag:g,value:B}=b(A.result);P.push({tag:g,value:B,weight:A.config.weight})}if(!(P.reduce((A,g)=>A+g.weight,0)<this.quorum)){switch(O.method){case"getBlockNumber":{this.#t===-2&&(this.#t=Math.ceil((0,t.getNumber)(E(this.quorum,this.#e.filter(g=>!g._lastFatalError).map(g=>({value:g.blockNumber,tag:(0,t.getNumber)(g.blockNumber).toString(),weight:g.weight}))))));const A=p(this.quorum,P);return A===void 0?void 0:(A>this.#t&&(this.#t=A),this.#t)}case"getGasPrice":case"getPriorityFee":case"estimateGas":return E(this.quorum,P);case"getBlock":return"blockTag"in O&&O.blockTag==="pending"?d(this.quorum,P):k(this.quorum,P);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return k(this.quorum,P);case"broadcastTransaction":return d(this.quorum,P)}(0,t.assert)(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${u(O.method)})`})}}async#o(x,O){if(x.size===0)throw new Error("no runners?!");const P=[];let A=0;for(const B of x){if(B.perform&&P.push(B.perform),B.staller){P.push(B.staller);continue}B.didBump||(B.didBump=!0,A++)}const g=await this.#i(x,O);if(g!==void 0){if(g instanceof Error)throw g;return g}for(let B=0;B<A;B++)this.#s(x,O);return(0,t.assert)(P.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:O,results:Array.from(x).map(B=>u(B.result))}}),await Promise.race(P),await this.#o(x,O)}async _perform(x){if(x.method==="broadcastTransaction"){const g=this.#e.map(N=>null),B=this.#e.map(async({provider:N,weight:F},U)=>{try{const I=await N._perform(x);g[U]=Object.assign(b({result:I}),{weight:F})}catch(I){g[U]=Object.assign(b({error:I}),{weight:F})}});for(;;){const N=g.filter(I=>I!=null);for(const{value:I}of N)if(!(I instanceof Error))return I;const F=k(this.quorum,g.filter(I=>I!=null));if((0,t.isError)(F,"INSUFFICIENT_FUNDS"))throw F;const U=B.filter((I,v)=>g[v]==null);if(U.length===0)break;await Promise.race(U)}const C=d(this.quorum,g);if((0,t.assert)(C!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:x,results:g.map(u)}}),C instanceof Error)throw C;return C}await this.#a();const O=new Set;let P=0;for(;;){const g=this.#s(O,x);if(g==null||(P+=g.config.weight,P>=this.quorum))break}const A=await this.#o(O,x);for(const g of O)g.perform&&g.result==null&&g.config.lateResponses++;return A}async destroy(){for(const{provider:x}of this.#e)x.destroy();super.destroy()}}return di.FallbackProvider=y,di}var Hd;function NA(){if(Hd)return si;Hd=1,Object.defineProperty(si,"__esModule",{value:!0}),si.getDefaultProvider=void 0;const t=fe(),e=Dg(),r=Mg(),n=jg(),s=Hg(),i=Gg(),a=Vg(),o=Qg(),u=Jg(),l=nr(),c=jt(),f=au();function h(E){return E&&typeof E.send=="function"&&typeof E.close=="function"}const b="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function k(E,d){d==null&&(d={});const p=O=>d[O]==="-"?!1:typeof d.exclusive=="string"?O===d.exclusive:Array.isArray(d.exclusive)?d.exclusive.indexOf(O)!==-1:!0;if(typeof E=="string"&&E.match(/^https?:/))return new l.JsonRpcProvider(E);if(typeof E=="string"&&E.match(/^wss?:/)||h(E))return new f.WebSocketProvider(E);let y=null;try{y=c.Network.from(E)}catch{}const w=[];if(p("publicPolygon")&&y&&(y.name==="matic"?w.push(new l.JsonRpcProvider("https://polygon-rpc.com/",y,{staticNetwork:y})):y.name==="matic-amoy"&&w.push(new l.JsonRpcProvider("https://rpc-amoy.polygon.technology/",y,{staticNetwork:y}))),p("alchemy"))try{w.push(new r.AlchemyProvider(E,d.alchemy))}catch{}if(p("ankr")&&d.ankr!=null)try{w.push(new e.AnkrProvider(E,d.ankr))}catch{}if(p("chainstack"))try{w.push(new n.ChainstackProvider(E,d.chainstack))}catch{}if(p("cloudflare"))try{w.push(new s.CloudflareProvider(E))}catch{}if(p("etherscan"))try{w.push(new i.EtherscanProvider(E,d.etherscan))}catch{}if(p("infura"))try{let O=d.infura,P;typeof O=="object"&&(P=O.projectSecret,O=O.projectId),w.push(new a.InfuraProvider(E,O,P))}catch{}if(p("quicknode"))try{let O=d.quicknode;w.push(new o.QuickNodeProvider(E,O))}catch{}if((0,t.assert)(w.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),w.length===1)return w[0];let x=Math.floor(w.length/2);return x>2&&(x=2),y&&b.indexOf(y.name)!==-1&&(x=1),d&&d.quorum&&(x=d.quorum),new u.FallbackProvider(w,void 0,{quorum:x})}return si.getDefaultProvider=k,si}var hi={},Gd;function RA(){if(Gd)return hi;Gd=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.NonceManager=void 0;const t=fe(),e=iu();class r extends e.AbstractSigner{signer;#e;#t;constructor(s){super(s.provider),(0,t.defineProperties)(this,{signer:s}),this.#e=null,this.#t=0}async getAddress(){return this.signer.getAddress()}connect(s){return new r(this.signer.connect(s))}async getNonce(s){if(s==="pending"){this.#e==null&&(this.#e=super.getNonce("pending"));const i=this.#t;return await this.#e+i}return super.getNonce(s)}increment(){this.#t++}reset(){this.#t=0,this.#e=null}async sendTransaction(s){const i=this.getNonce("pending");return this.increment(),s=await this.signer.populateTransaction(s),s.nonce=await i,await this.signer.sendTransaction(s)}signTransaction(s){return this.signer.signTransaction(s)}signMessage(s){return this.signer.signMessage(s)}signTypedData(s,i,a){return this.signer.signTypedData(s,i,a)}}return hi.NonceManager=r,hi}var gi={},Vd;function CA(){if(Vd)return gi;Vd=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.BrowserProvider=void 0;const t=fe(),e=nr();class r extends e.JsonRpcApiPollingProvider{#e;constructor(s,i,a){const o=Object.assign({},a??{},{batchMaxCount:1});(0,t.assertArgument)(s&&s.request,"invalid EIP-1193 provider","ethereum",s),super(i,o),this.#e=async(u,l)=>{const c={method:u,params:l};this.emit("debug",{action:"sendEip1193Request",payload:c});try{const f=await s.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:f}),f}catch(f){const h=new Error(f.message);throw h.code=f.code,h.data=f.data,h.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:h}),h}}}async send(s,i){return await this._start(),await super.send(s,i)}async _send(s){(0,t.assertArgument)(!Array.isArray(s),"EIP-1193 does not support batch request","payload",s);try{const i=await this.#e(s.method,s.params||[]);return[{id:s.id,result:i}]}catch(i){return[{id:s.id,error:{code:i.code,data:i.data,message:i.message}}]}}getRpcError(s,i){switch(i=JSON.parse(JSON.stringify(i)),i.error.code||-1){case 4001:i.error.message=`ethers-user-denied: ${i.error.message}`;break;case 4200:i.error.message=`ethers-unsupported: ${i.error.message}`;break}return super.getRpcError(s,i)}async hasSigner(s){s==null&&(s=0);const i=await this.send("eth_accounts",[]);return typeof s=="number"?i.length>s:(s=s.toLowerCase(),i.filter(a=>a.toLowerCase()===s).length!==0)}async getSigner(s){if(s==null&&(s=0),!await this.hasSigner(s))try{await this.#e("eth_requestAccounts",[])}catch(i){const a=i.payload;throw this.getRpcError(a,{id:a.id,error:i})}return await super.getSigner(s)}}return gi.BrowserProvider=r,gi}var pi={},Qd;function SA(){if(Qd)return pi;Qd=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.PocketProvider=void 0;const t=fe(),e=Yr(),r=jt(),n=nr(),s="62e1ad51b37b8e00394bda3b";function i(o){switch(o){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}(0,t.assertArgument)(!1,"unsupported network","network",o)}class a extends n.JsonRpcProvider{applicationId;applicationSecret;constructor(u,l,c){u==null&&(u="mainnet");const f=r.Network.from(u);l==null&&(l=s),c==null&&(c=null);const h={staticNetwork:f},b=a.getRequest(f,l,c);super(b,f,h),(0,t.defineProperties)(this,{applicationId:l,applicationSecret:c})}_getProvider(u){try{return new a(u,this.applicationId,this.applicationSecret)}catch{}return super._getProvider(u)}static getRequest(u,l,c){l==null&&(l=s);const f=new t.FetchRequest(`https://${i(u.name)}/v1/lb/${l}`);return f.allowGzip=!0,c&&f.setCredentials("",c),l===s&&(f.retryFunc=async(h,b,k)=>((0,e.showThrottleMessage)("PocketProvider"),!0)),f}isCommunityResource(){return this.applicationId===s}}return pi.PocketProvider=a,pi}var bi={},Jd;function _A(){if(Jd)return bi;Jd=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.IpcSocketProvider=void 0;const t=void 0;return bi.IpcSocketProvider=t,bi}var zd;function ou(){return zd||(zd=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SocketEventSubscriber=t.SocketPendingSubscriber=t.SocketBlockSubscriber=t.SocketSubscriber=t.WebSocketProvider=t.SocketProvider=t.IpcSocketProvider=t.QuickNodeProvider=t.PocketProvider=t.InfuraWebSocketProvider=t.InfuraProvider=t.EtherscanPlugin=t.EtherscanProvider=t.ChainstackProvider=t.CloudflareProvider=t.AnkrProvider=t.AlchemyProvider=t.BrowserProvider=t.JsonRpcSigner=t.JsonRpcProvider=t.JsonRpcApiProvider=t.FallbackProvider=t.copyRequest=t.TransactionResponse=t.TransactionReceipt=t.Log=t.FeeData=t.Block=t.FetchUrlFeeDataNetworkPlugin=t.FeeDataNetworkPlugin=t.EnsPlugin=t.GasCostPlugin=t.NetworkPlugin=t.NonceManager=t.Network=t.MulticoinProviderPlugin=t.EnsResolver=t.getDefaultProvider=t.showThrottleMessage=t.VoidSigner=t.AbstractSigner=t.UnmanagedSubscriber=t.AbstractProvider=void 0;var e=oa();Object.defineProperty(t,"AbstractProvider",{enumerable:!0,get:function(){return e.AbstractProvider}}),Object.defineProperty(t,"UnmanagedSubscriber",{enumerable:!0,get:function(){return e.UnmanagedSubscriber}});var r=iu();Object.defineProperty(t,"AbstractSigner",{enumerable:!0,get:function(){return r.AbstractSigner}}),Object.defineProperty(t,"VoidSigner",{enumerable:!0,get:function(){return r.VoidSigner}});var n=Yr();Object.defineProperty(t,"showThrottleMessage",{enumerable:!0,get:function(){return n.showThrottleMessage}});var s=NA();Object.defineProperty(t,"getDefaultProvider",{enumerable:!0,get:function(){return s.getDefaultProvider}});var i=Fg();Object.defineProperty(t,"EnsResolver",{enumerable:!0,get:function(){return i.EnsResolver}}),Object.defineProperty(t,"MulticoinProviderPlugin",{enumerable:!0,get:function(){return i.MulticoinProviderPlugin}});var a=jt();Object.defineProperty(t,"Network",{enumerable:!0,get:function(){return a.Network}});var o=RA();Object.defineProperty(t,"NonceManager",{enumerable:!0,get:function(){return o.NonceManager}});var u=nu();Object.defineProperty(t,"NetworkPlugin",{enumerable:!0,get:function(){return u.NetworkPlugin}}),Object.defineProperty(t,"GasCostPlugin",{enumerable:!0,get:function(){return u.GasCostPlugin}}),Object.defineProperty(t,"EnsPlugin",{enumerable:!0,get:function(){return u.EnsPlugin}}),Object.defineProperty(t,"FeeDataNetworkPlugin",{enumerable:!0,get:function(){return u.FeeDataNetworkPlugin}}),Object.defineProperty(t,"FetchUrlFeeDataNetworkPlugin",{enumerable:!0,get:function(){return u.FetchUrlFeeDataNetworkPlugin}});var l=aa();Object.defineProperty(t,"Block",{enumerable:!0,get:function(){return l.Block}}),Object.defineProperty(t,"FeeData",{enumerable:!0,get:function(){return l.FeeData}}),Object.defineProperty(t,"Log",{enumerable:!0,get:function(){return l.Log}}),Object.defineProperty(t,"TransactionReceipt",{enumerable:!0,get:function(){return l.TransactionReceipt}}),Object.defineProperty(t,"TransactionResponse",{enumerable:!0,get:function(){return l.TransactionResponse}}),Object.defineProperty(t,"copyRequest",{enumerable:!0,get:function(){return l.copyRequest}});var c=Jg();Object.defineProperty(t,"FallbackProvider",{enumerable:!0,get:function(){return c.FallbackProvider}});var f=nr();Object.defineProperty(t,"JsonRpcApiProvider",{enumerable:!0,get:function(){return f.JsonRpcApiProvider}}),Object.defineProperty(t,"JsonRpcProvider",{enumerable:!0,get:function(){return f.JsonRpcProvider}}),Object.defineProperty(t,"JsonRpcSigner",{enumerable:!0,get:function(){return f.JsonRpcSigner}});var h=CA();Object.defineProperty(t,"BrowserProvider",{enumerable:!0,get:function(){return h.BrowserProvider}});var b=Mg();Object.defineProperty(t,"AlchemyProvider",{enumerable:!0,get:function(){return b.AlchemyProvider}});var k=Dg();Object.defineProperty(t,"AnkrProvider",{enumerable:!0,get:function(){return k.AnkrProvider}});var E=Hg();Object.defineProperty(t,"CloudflareProvider",{enumerable:!0,get:function(){return E.CloudflareProvider}});var d=jg();Object.defineProperty(t,"ChainstackProvider",{enumerable:!0,get:function(){return d.ChainstackProvider}});var p=Gg();Object.defineProperty(t,"EtherscanProvider",{enumerable:!0,get:function(){return p.EtherscanProvider}}),Object.defineProperty(t,"EtherscanPlugin",{enumerable:!0,get:function(){return p.EtherscanPlugin}});var y=Vg();Object.defineProperty(t,"InfuraProvider",{enumerable:!0,get:function(){return y.InfuraProvider}}),Object.defineProperty(t,"InfuraWebSocketProvider",{enumerable:!0,get:function(){return y.InfuraWebSocketProvider}});var w=SA();Object.defineProperty(t,"PocketProvider",{enumerable:!0,get:function(){return w.PocketProvider}});var x=Qg();Object.defineProperty(t,"QuickNodeProvider",{enumerable:!0,get:function(){return x.QuickNodeProvider}});const O=_A();Object.defineProperty(t,"IpcSocketProvider",{enumerable:!0,get:function(){return O.IpcSocketProvider}});var P=Ec();Object.defineProperty(t,"SocketProvider",{enumerable:!0,get:function(){return P.SocketProvider}});var A=au();Object.defineProperty(t,"WebSocketProvider",{enumerable:!0,get:function(){return A.WebSocketProvider}});var g=Ec();Object.defineProperty(t,"SocketSubscriber",{enumerable:!0,get:function(){return g.SocketSubscriber}}),Object.defineProperty(t,"SocketBlockSubscriber",{enumerable:!0,get:function(){return g.SocketBlockSubscriber}}),Object.defineProperty(t,"SocketPendingSubscriber",{enumerable:!0,get:function(){return g.SocketPendingSubscriber}}),Object.defineProperty(t,"SocketEventSubscriber",{enumerable:!0,get:function(){return g.SocketEventSubscriber}})})(Jo)),Jo}var zo={},mi={},Kd;function cu(){if(Kd)return mi;Kd=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.BaseWallet=void 0;const t=lt(),e=Fr(),r=ou(),n=Mt(),s=fe();class i extends r.AbstractSigner{address;#e;constructor(o,u){super(u),(0,s.assertArgument)(o&&typeof o.sign=="function","invalid private key","privateKey","[ REDACTED ]"),this.#e=o;const l=(0,n.computeAddress)(this.signingKey.publicKey);(0,s.defineProperties)(this,{address:l})}get signingKey(){return this.#e}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(o){return new i(this.#e,o)}async signTransaction(o){const{to:u,from:l}=await(0,s.resolveProperties)({to:o.to?(0,t.resolveAddress)(o.to,this.provider):void 0,from:o.from?(0,t.resolveAddress)(o.from,this.provider):void 0});u!=null&&(o.to=u),l!=null&&(o.from=l),o.from!=null&&((0,s.assertArgument)((0,t.getAddress)(o.from)===this.address,"transaction from address mismatch","tx.from",o.from),delete o.from);const c=n.Transaction.from(o);return c.signature=this.signingKey.sign(c.unsignedHash),c.serialized}async signMessage(o){return this.signMessageSync(o)}signMessageSync(o){return this.signingKey.sign((0,e.hashMessage)(o)).serialized}async signTypedData(o,u,l){const c=await e.TypedDataEncoder.resolveNames(o,u,l,async f=>{(0,s.assert)(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:f}});const h=await this.provider.resolveName(f);return(0,s.assert)(h!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:f}),h});return this.signingKey.sign(e.TypedDataEncoder.hash(c.domain,u,c.value)).serialized}}return mi.BaseWallet=i,mi}var Ko={},yi={},xi={},On={},qd;function zg(){if(qd)return On;qd=1,Object.defineProperty(On,"__esModule",{value:!0}),On.decodeOwl=On.decode=void 0;const t=fe(),e=" !#$%&'()*+,-./<=>?@[]^_`{|}~",r=/^[a-z]*$/i;function n(a,o){let u=97;return a.reduce((l,c)=>(c===o?u++:c.match(r)?l.push(String.fromCharCode(u)+c):(u=97,l.push(c)),l),[])}function s(a,o){for(let c=e.length-1;c>=0;c--)a=a.split(e[c]).join(o.substring(2*c,2*c+2));const u=[],l=a.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(c,f,h,b)=>{if(h)for(let k=parseInt(h);k>=0;k--)u.push(";");else u.push(f.toLowerCase());return""});if(l)throw new Error(`leftovers: ${JSON.stringify(l)}`);return n(n(u,";"),":")}On.decode=s;function i(a){return(0,t.assertArgument)(a[0]==="0","unsupported auwl data","data",a),s(a.substring(1+2*e.length),a.substring(1,1+2*e.length))}return On.decodeOwl=i,On}var wi={},Wd;function Kg(){if(Wd)return wi;Wd=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.Wordlist=void 0;const t=fe();class e{locale;constructor(n){(0,t.defineProperties)(this,{locale:n})}split(n){return n.toLowerCase().split(/\s+/g)}join(n){return n.join(" ")}}return wi.Wordlist=e,wi}var Zd;function uu(){if(Zd)return xi;Zd=1,Object.defineProperty(xi,"__esModule",{value:!0}),xi.WordlistOwl=void 0;const t=Fr(),e=fe(),r=zg(),n=Kg();class s extends n.Wordlist{#e;#t;constructor(a,o,u){super(a),this.#e=o,this.#t=u,this.#r=null}get _data(){return this.#e}_decodeWords(){return(0,r.decodeOwl)(this.#e)}#r;#n(){if(this.#r==null){const a=this._decodeWords();if((0,t.id)(a.join(`
`)+`
`)!==this.#t)throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#r=a}return this.#r}getWord(a){const o=this.#n();return(0,e.assertArgument)(a>=0&&a<o.length,`invalid word index: ${a}`,"index",a),o[a]}getWordIndex(a){return this.#n().indexOf(a)}}return xi.WordlistOwl=s,xi}var Yd;function Xa(){if(Yd)return yi;Yd=1,Object.defineProperty(yi,"__esModule",{value:!0}),yi.LangEn=void 0;const t=uu(),e="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",r="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let n=null;class s extends t.WordlistOwl{constructor(){super("en",e,r)}static wordlist(){return n==null&&(n=new s),n}}return yi.LangEn=s,yi}var Ai={},Xd;function lu(){if(Xd)return Ai;Xd=1,Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.Mnemonic=void 0;const t=ht(),e=fe(),r=Xa();function n(l){return(1<<l)-1<<8-l&255}function s(l){return(1<<l)-1&255}function i(l,c){(0,e.assertNormalize)("NFKD"),c==null&&(c=r.LangEn.wordlist());const f=c.split(l);(0,e.assertArgument)(f.length%3===0&&f.length>=12&&f.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const h=new Uint8Array(Math.ceil(11*f.length/8));let b=0;for(let y=0;y<f.length;y++){let w=c.getWordIndex(f[y].normalize("NFKD"));(0,e.assertArgument)(w>=0,`invalid mnemonic word at index ${y}`,"mnemonic","[ REDACTED ]");for(let x=0;x<11;x++)w&1<<10-x&&(h[b>>3]|=1<<7-b%8),b++}const k=32*f.length/3,E=f.length/3,d=n(E),p=(0,e.getBytes)((0,t.sha256)(h.slice(0,k/8)))[0]&d;return(0,e.assertArgument)(p===(h[h.length-1]&d),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),(0,e.hexlify)(h.slice(0,k/8))}function a(l,c){(0,e.assertArgument)(l.length%4===0&&l.length>=16&&l.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),c==null&&(c=r.LangEn.wordlist());const f=[0];let h=11;for(let E=0;E<l.length;E++)h>8?(f[f.length-1]<<=8,f[f.length-1]|=l[E],h-=8):(f[f.length-1]<<=h,f[f.length-1]|=l[E]>>8-h,f.push(l[E]&s(8-h)),h+=3);const b=l.length/4,k=parseInt((0,t.sha256)(l).substring(2,4),16)&n(b);return f[f.length-1]<<=b,f[f.length-1]|=k>>8-b,c.join(f.map(E=>c.getWord(E)))}const o={};class u{phrase;password;wordlist;entropy;constructor(c,f,h,b,k){b==null&&(b=""),k==null&&(k=r.LangEn.wordlist()),(0,e.assertPrivate)(c,o,"Mnemonic"),(0,e.defineProperties)(this,{phrase:h,password:b,wordlist:k,entropy:f})}computeSeed(){const c=(0,e.toUtf8Bytes)("mnemonic"+this.password,"NFKD");return(0,t.pbkdf2)((0,e.toUtf8Bytes)(this.phrase,"NFKD"),c,2048,64,"sha512")}static fromPhrase(c,f,h){const b=i(c,h);return c=a((0,e.getBytes)(b),h),new u(o,b,c,f,h)}static fromEntropy(c,f,h){const b=(0,e.getBytes)(c,"entropy"),k=a(b,h);return new u(o,(0,e.hexlify)(b),k,f,h)}static entropyToPhrase(c,f){const h=(0,e.getBytes)(c,"entropy");return a(h,f)}static phraseToEntropy(c,f){return i(c,f)}static isValidMnemonic(c,f){try{return i(c,f),!0}catch{}return!1}}return Ai.Mnemonic=u,Ai}var Ut={},qo={},Ar={},$d;function qg(){if($d)return Ar;$d=1;var t=Ar&&Ar.__classPrivateFieldGet||function(A,g,B,C){if(B==="a"&&!C)throw new TypeError("Private accessor was defined without a getter");if(typeof g=="function"?A!==g||!C:!g.has(A))throw new TypeError("Cannot read private member from an object whose class did not declare it");return B==="m"?C:B==="a"?C.call(A):C?C.value:g.get(A)},e=Ar&&Ar.__classPrivateFieldSet||function(A,g,B,C,N){if(C==="m")throw new TypeError("Private method is not writable");if(C==="a"&&!N)throw new TypeError("Private accessor was defined without a setter");if(typeof g=="function"?A!==g||!N:!g.has(A))throw new TypeError("Cannot write private member to an object whose class did not declare it");return C==="a"?N.call(A,B):N?N.value=B:g.set(A,B),B},r,n,s;Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.AES=void 0;const i={16:10,24:12,32:14},a=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],o=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],u=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],l=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],c=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],f=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],h=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],b=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],k=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],E=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],d=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],p=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],y=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],w=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],x=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function O(A){const g=[];for(let B=0;B<A.length;B+=4)g.push(A[B]<<24|A[B+1]<<16|A[B+2]<<8|A[B+3]);return g}class P{get key(){return t(this,r,"f").slice()}constructor(g){if(r.set(this,void 0),n.set(this,void 0),s.set(this,void 0),!(this instanceof P))throw Error("AES must be instanitated with `new`");e(this,r,new Uint8Array(g),"f");const B=i[this.key.length];if(B==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");e(this,s,[],"f"),e(this,n,[],"f");for(let R=0;R<=B;R++)t(this,s,"f").push([0,0,0,0]),t(this,n,"f").push([0,0,0,0]);const C=(B+1)*4,N=this.key.length/4,F=O(this.key);let U;for(let R=0;R<N;R++)U=R>>2,t(this,s,"f")[U][R%4]=F[R],t(this,n,"f")[B-U][R%4]=F[R];let I=0,v=N,m;for(;v<C;){if(m=F[N-1],F[0]^=o[m>>16&255]<<24^o[m>>8&255]<<16^o[m&255]<<8^o[m>>24&255]^a[I]<<24,I+=1,N!=8)for(let L=1;L<N;L++)F[L]^=F[L-1];else{for(let L=1;L<N/2;L++)F[L]^=F[L-1];m=F[N/2-1],F[N/2]^=o[m&255]^o[m>>8&255]<<8^o[m>>16&255]<<16^o[m>>24&255]<<24;for(let L=N/2+1;L<N;L++)F[L]^=F[L-1]}let R=0,S,_;for(;R<N&&v<C;)S=v>>2,_=v%4,t(this,s,"f")[S][_]=F[R],t(this,n,"f")[B-S][_]=F[R++],v++}for(let R=1;R<B;R++)for(let S=0;S<4;S++)m=t(this,n,"f")[R][S],t(this,n,"f")[R][S]=p[m>>24&255]^y[m>>16&255]^w[m>>8&255]^x[m&255]}encrypt(g){if(g.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const B=t(this,s,"f").length-1,C=[0,0,0,0];let N=O(g);for(let I=0;I<4;I++)N[I]^=t(this,s,"f")[0][I];for(let I=1;I<B;I++){for(let v=0;v<4;v++)C[v]=l[N[v]>>24&255]^c[N[(v+1)%4]>>16&255]^f[N[(v+2)%4]>>8&255]^h[N[(v+3)%4]&255]^t(this,s,"f")[I][v];N=C.slice()}const F=new Uint8Array(16);let U=0;for(let I=0;I<4;I++)U=t(this,s,"f")[B][I],F[4*I]=(o[N[I]>>24&255]^U>>24)&255,F[4*I+1]=(o[N[(I+1)%4]>>16&255]^U>>16)&255,F[4*I+2]=(o[N[(I+2)%4]>>8&255]^U>>8)&255,F[4*I+3]=(o[N[(I+3)%4]&255]^U)&255;return F}decrypt(g){if(g.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const B=t(this,n,"f").length-1,C=[0,0,0,0];let N=O(g);for(let I=0;I<4;I++)N[I]^=t(this,n,"f")[0][I];for(let I=1;I<B;I++){for(let v=0;v<4;v++)C[v]=b[N[v]>>24&255]^k[N[(v+3)%4]>>16&255]^E[N[(v+2)%4]>>8&255]^d[N[(v+1)%4]&255]^t(this,n,"f")[I][v];N=C.slice()}const F=new Uint8Array(16);let U=0;for(let I=0;I<4;I++)U=t(this,n,"f")[B][I],F[4*I]=(u[N[I]>>24&255]^U>>24)&255,F[4*I+1]=(u[N[(I+3)%4]>>16&255]^U>>16)&255,F[4*I+2]=(u[N[(I+2)%4]>>8&255]^U>>8)&255,F[4*I+3]=(u[N[(I+1)%4]&255]^U)&255;return F}}return Ar.AES=P,r=new WeakMap,n=new WeakMap,s=new WeakMap,Ar}var Ei={},e0;function xs(){if(e0)return Ei;e0=1,Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.ModeOfOperation=void 0;const t=qg();class e{constructor(n,s,i){if(i&&!(this instanceof i))throw new Error(`${n} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new t.AES(s)},name:{enumerable:!0,value:n}})}}return Ei.ModeOfOperation=e,Ei}var Er={},t0;function IA(){if(t0)return Er;t0=1;var t=Er&&Er.__classPrivateFieldSet||function(a,o,u,l,c){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?a!==o||!c:!o.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?c.call(a,u):c?c.value=u:o.set(a,u),u},e=Er&&Er.__classPrivateFieldGet||function(a,o,u,l){if(u==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?a!==o||!l:!o.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return u==="m"?l:u==="a"?l.call(a):l?l.value:o.get(a)},r,n;Object.defineProperty(Er,"__esModule",{value:!0}),Er.CBC=void 0;const s=xs();class i extends s.ModeOfOperation{constructor(o,u){if(super("ECC",o,i),r.set(this,void 0),n.set(this,void 0),u){if(u.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");t(this,r,new Uint8Array(u),"f")}else t(this,r,new Uint8Array(16),"f");t(this,n,this.iv,"f")}get iv(){return new Uint8Array(e(this,r,"f"))}encrypt(o){if(o.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const u=new Uint8Array(o.length);for(let l=0;l<o.length;l+=16){for(let c=0;c<16;c++)e(this,n,"f")[c]^=o[l+c];t(this,n,this.aes.encrypt(e(this,n,"f")),"f"),u.set(e(this,n,"f"),l)}return u}decrypt(o){if(o.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const u=new Uint8Array(o.length);for(let l=0;l<o.length;l+=16){const c=this.aes.decrypt(o.subarray(l,l+16));for(let f=0;f<16;f++)u[l+f]=c[f]^e(this,n,"f")[f],e(this,n,"f")[f]=o[l+f]}return u}}return Er.CBC=i,r=new WeakMap,n=new WeakMap,Er}var Pr={},r0;function TA(){if(r0)return Pr;r0=1;var t=Pr&&Pr.__classPrivateFieldSet||function(u,l,c,f,h){if(f==="m")throw new TypeError("Private method is not writable");if(f==="a"&&!h)throw new TypeError("Private accessor was defined without a setter");if(typeof l=="function"?u!==l||!h:!l.has(u))throw new TypeError("Cannot write private member to an object whose class did not declare it");return f==="a"?h.call(u,c):h?h.value=c:l.set(u,c),c},e=Pr&&Pr.__classPrivateFieldGet||function(u,l,c,f){if(c==="a"&&!f)throw new TypeError("Private accessor was defined without a getter");if(typeof l=="function"?u!==l||!f:!l.has(u))throw new TypeError("Cannot read private member from an object whose class did not declare it");return c==="m"?f:c==="a"?f.call(u):f?f.value:l.get(u)},r,n,s,i;Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.CFB=void 0;const a=xs();class o extends a.ModeOfOperation{constructor(l,c,f=8){if(super("CFB",l,o),r.add(this),n.set(this,void 0),s.set(this,void 0),!Number.isInteger(f)||f%8)throw new TypeError("invalid segmentSize");if(Object.defineProperties(this,{segmentSize:{enumerable:!0,value:f}}),c){if(c.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");t(this,n,new Uint8Array(c),"f")}else t(this,n,new Uint8Array(16),"f");t(this,s,this.iv,"f")}get iv(){return new Uint8Array(e(this,n,"f"))}encrypt(l){if(8*l.length%this.segmentSize)throw new TypeError("invalid plaintext size (must be multiple of segmentSize bytes)");const c=this.segmentSize/8,f=new Uint8Array(l);for(let h=0;h<f.length;h+=c){const b=this.aes.encrypt(e(this,s,"f"));for(let k=0;k<c;k++)f[h+k]^=b[k];e(this,r,"m",i).call(this,f.subarray(h))}return f}decrypt(l){if(8*l.length%this.segmentSize)throw new TypeError("invalid ciphertext size (must be multiple of segmentSize bytes)");const c=this.segmentSize/8,f=new Uint8Array(l);for(let h=0;h<f.length;h+=c){const b=this.aes.encrypt(e(this,s,"f"));for(let k=0;k<c;k++)f[h+k]^=b[k];e(this,r,"m",i).call(this,l.subarray(h))}return f}}return Pr.CFB=o,n=new WeakMap,s=new WeakMap,r=new WeakSet,i=function(l){const c=this.segmentSize/8;e(this,s,"f").set(e(this,s,"f").subarray(c)),e(this,s,"f").set(l.subarray(0,c),16-c)},Pr}var vr={},n0;function UA(){if(n0)return vr;n0=1;var t=vr&&vr.__classPrivateFieldSet||function(o,u,l,c,f){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!f)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?o!==u||!f:!u.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?f.call(o,l):f?f.value=l:u.set(o,l),l},e=vr&&vr.__classPrivateFieldGet||function(o,u,l,c){if(l==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?o!==u||!c:!u.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?c:l==="a"?c.call(o):c?c.value:u.get(o)},r,n,s;Object.defineProperty(vr,"__esModule",{value:!0}),vr.CTR=void 0;const i=xs();class a extends i.ModeOfOperation{constructor(u,l){super("CTR",u,a),r.set(this,void 0),n.set(this,void 0),s.set(this,void 0),t(this,s,new Uint8Array(16),"f"),e(this,s,"f").fill(0),t(this,r,e(this,s,"f"),"f"),t(this,n,16,"f"),l==null&&(l=1),typeof l=="number"?this.setCounterValue(l):this.setCounterBytes(l)}get counter(){return new Uint8Array(e(this,s,"f"))}setCounterValue(u){if(!Number.isInteger(u)||u<0||u>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let l=15;l>=0;--l)e(this,s,"f")[l]=u%256,u=Math.floor(u/256)}setCounterBytes(u){if(u.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");e(this,s,"f").set(u)}increment(){for(let u=15;u>=0;u--)if(e(this,s,"f")[u]===255)e(this,s,"f")[u]=0;else{e(this,s,"f")[u]++;break}}encrypt(u){var l,c;const f=new Uint8Array(u);for(let h=0;h<f.length;h++)e(this,n,"f")===16&&(t(this,r,this.aes.encrypt(e(this,s,"f")),"f"),t(this,n,0,"f"),this.increment()),f[h]^=e(this,r,"f")[t(this,n,(c=e(this,n,"f"),l=c++,c),"f"),l];return f}decrypt(u){return this.encrypt(u)}}return vr.CTR=a,r=new WeakMap,n=new WeakMap,s=new WeakMap,vr}var Pi={},s0;function LA(){if(s0)return Pi;s0=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.ECB=void 0;const t=xs();class e extends t.ModeOfOperation{constructor(n){super("ECB",n,e)}encrypt(n){if(n.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const s=new Uint8Array(n.length);for(let i=0;i<n.length;i+=16)s.set(this.aes.encrypt(n.subarray(i,i+16)),i);return s}decrypt(n){if(n.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const s=new Uint8Array(n.length);for(let i=0;i<n.length;i+=16)s.set(this.aes.decrypt(n.subarray(i,i+16)),i);return s}}return Pi.ECB=e,Pi}var Or={},i0;function FA(){if(i0)return Or;i0=1;var t=Or&&Or.__classPrivateFieldSet||function(o,u,l,c,f){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!f)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?o!==u||!f:!u.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?f.call(o,l):f?f.value=l:u.set(o,l),l},e=Or&&Or.__classPrivateFieldGet||function(o,u,l,c){if(l==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?o!==u||!c:!u.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?c:l==="a"?c.call(o):c?c.value:u.get(o)},r,n,s;Object.defineProperty(Or,"__esModule",{value:!0}),Or.OFB=void 0;const i=xs();class a extends i.ModeOfOperation{constructor(u,l){if(super("OFB",u,a),r.set(this,void 0),n.set(this,void 0),s.set(this,void 0),l){if(l.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");t(this,r,new Uint8Array(l),"f")}else t(this,r,new Uint8Array(16),"f");t(this,n,this.iv,"f"),t(this,s,16,"f")}get iv(){return new Uint8Array(e(this,r,"f"))}encrypt(u){var l,c;if(u.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const f=new Uint8Array(u);for(let h=0;h<f.length;h++)e(this,s,"f")===16&&(t(this,n,this.aes.encrypt(e(this,n,"f")),"f"),t(this,s,0,"f")),f[h]^=e(this,n,"f")[t(this,s,(c=e(this,s,"f"),l=c++,c),"f"),l];return f}decrypt(u){if(u.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");return this.encrypt(u)}}return Or.OFB=a,r=new WeakMap,n=new WeakMap,s=new WeakMap,Or}var kn={},a0;function DA(){if(a0)return kn;a0=1,Object.defineProperty(kn,"__esModule",{value:!0}),kn.pkcs7Strip=kn.pkcs7Pad=void 0;function t(r){const n=16-r.length%16,s=new Uint8Array(r.length+n);s.set(r);for(let i=r.length;i<s.length;i++)s[i]=n;return s}kn.pkcs7Pad=t;function e(r){if(r.length<16)throw new TypeError("PKCS#7 invalid length");const n=r[r.length-1];if(n>16)throw new TypeError("PKCS#7 padding byte out of range");const s=r.length-n;for(let i=0;i<n;i++)if(r[s+i]!==n)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(r.subarray(0,s))}return kn.pkcs7Strip=e,kn}var o0;function Wg(){return o0||(o0=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.pkcs7Strip=t.pkcs7Pad=t.OFB=t.ECB=t.CTR=t.CFB=t.CBC=t.ModeOfOperation=t.AES=void 0;var e=qg();Object.defineProperty(t,"AES",{enumerable:!0,get:function(){return e.AES}});var r=xs();Object.defineProperty(t,"ModeOfOperation",{enumerable:!0,get:function(){return r.ModeOfOperation}});var n=IA();Object.defineProperty(t,"CBC",{enumerable:!0,get:function(){return n.CBC}});var s=TA();Object.defineProperty(t,"CFB",{enumerable:!0,get:function(){return s.CFB}});var i=UA();Object.defineProperty(t,"CTR",{enumerable:!0,get:function(){return i.CTR}});var a=LA();Object.defineProperty(t,"ECB",{enumerable:!0,get:function(){return a.ECB}});var o=FA();Object.defineProperty(t,"OFB",{enumerable:!0,get:function(){return o.OFB}});var u=DA();Object.defineProperty(t,"pkcs7Pad",{enumerable:!0,get:function(){return u.pkcs7Pad}}),Object.defineProperty(t,"pkcs7Strip",{enumerable:!0,get:function(){return u.pkcs7Strip}})})(qo)),qo}var Zt={},c0;function Zg(){if(c0)return Zt;c0=1,Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.spelunk=Zt.getPassword=Zt.zpad=Zt.looseArrayify=void 0;const t=fe();function e(i){return typeof i=="string"&&!i.startsWith("0x")&&(i="0x"+i),(0,t.getBytesCopy)(i)}Zt.looseArrayify=e;function r(i,a){for(i=String(i);i.length<a;)i="0"+i;return i}Zt.zpad=r;function n(i){return typeof i=="string"?(0,t.toUtf8Bytes)(i,"NFKC"):(0,t.getBytesCopy)(i)}Zt.getPassword=n;function s(i,a){const o=a.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);(0,t.assertArgument)(o!=null,"invalid path","path",a);const u=o[1],l=o[3],c=o[4]==="!";let f=i;for(const h of u.toLowerCase().split(".")){if(Array.isArray(f)){if(!h.match(/^[0-9]+$/))break;f=f[parseInt(h)]}else if(typeof f=="object"){let b=null;for(const k in f)if(k.toLowerCase()===h){b=f[k];break}f=b}else f=null;if(f==null)break}if((0,t.assertArgument)(!c||f!=null,"missing required value","path",u),l&&f!=null){if(l==="int"){if(typeof f=="string"&&f.match(/^-?[0-9]+$/))return parseInt(f);if(Number.isSafeInteger(f))return f}if(l==="number"&&typeof f=="string"&&f.match(/^-?[0-9.]*$/))return parseFloat(f);if(l==="data"&&typeof f=="string")return e(f);if(l==="array"&&Array.isArray(f)||l===typeof f)return f;(0,t.assertArgument)(!1,`wrong type found for ${l} `,"path",u)}return f}return Zt.spelunk=s,Zt}var u0;function fu(){if(u0)return Ut;u0=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.encryptKeystoreJson=Ut.encryptKeystoreJsonSync=Ut.decryptKeystoreJson=Ut.decryptKeystoreJsonSync=Ut.isKeystoreJson=void 0;const t=Wg(),e=lt(),r=ht(),n=Mt(),s=fe(),i=Zg(),a=Zc(),o="m/44'/60'/0'/0/0";function u(w){try{const x=JSON.parse(w);if((x.version!=null?parseInt(x.version):0)===3)return!0}catch{}return!1}Ut.isKeystoreJson=u;function l(w,x,O){if((0,i.spelunk)(w,"crypto.cipher:string")==="aes-128-ctr"){const A=(0,i.spelunk)(w,"crypto.cipherparams.iv:data!"),g=new t.CTR(x,A);return(0,s.hexlify)(g.decrypt(O))}(0,s.assert)(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function c(w,x){const O=(0,s.getBytes)(x),P=(0,i.spelunk)(w,"crypto.ciphertext:data!"),A=(0,s.hexlify)((0,r.keccak256)((0,s.concat)([O.slice(16,32),P]))).substring(2);(0,s.assertArgument)(A===(0,i.spelunk)(w,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const g=l(w,O.slice(0,16),P),B=(0,n.computeAddress)(g);if(w.address){let F=w.address.toLowerCase();F.startsWith("0x")||(F="0x"+F),(0,s.assertArgument)((0,e.getAddress)(F)===B,"keystore address/privateKey mismatch","address",w.address)}const C={address:B,privateKey:g};if((0,i.spelunk)(w,"x-ethers.version:string")==="0.1"){const F=O.slice(32,64),U=(0,i.spelunk)(w,"x-ethers.mnemonicCiphertext:data!"),I=(0,i.spelunk)(w,"x-ethers.mnemonicCounter:data!"),v=new t.CTR(F,I);C.mnemonic={path:(0,i.spelunk)(w,"x-ethers.path:string")||o,locale:(0,i.spelunk)(w,"x-ethers.locale:string")||"en",entropy:(0,s.hexlify)((0,s.getBytes)(v.decrypt(U)))}}return C}function f(w){const x=(0,i.spelunk)(w,"crypto.kdf:string");if(x&&typeof x=="string"){if(x.toLowerCase()==="scrypt"){const O=(0,i.spelunk)(w,"crypto.kdfparams.salt:data!"),P=(0,i.spelunk)(w,"crypto.kdfparams.n:int!"),A=(0,i.spelunk)(w,"crypto.kdfparams.r:int!"),g=(0,i.spelunk)(w,"crypto.kdfparams.p:int!");(0,s.assertArgument)(P>0&&(P&P-1)===0,"invalid kdf.N","kdf.N",P),(0,s.assertArgument)(A>0&&g>0,"invalid kdf","kdf",x);const B=(0,i.spelunk)(w,"crypto.kdfparams.dklen:int!");return(0,s.assertArgument)(B===32,"invalid kdf.dklen","kdf.dflen",B),{name:"scrypt",salt:O,N:P,r:A,p:g,dkLen:64}}else if(x.toLowerCase()==="pbkdf2"){const O=(0,i.spelunk)(w,"crypto.kdfparams.salt:data!"),P=(0,i.spelunk)(w,"crypto.kdfparams.prf:string!"),A=P.split("-").pop();(0,s.assertArgument)(A==="sha256"||A==="sha512","invalid kdf.pdf","kdf.pdf",P);const g=(0,i.spelunk)(w,"crypto.kdfparams.c:int!"),B=(0,i.spelunk)(w,"crypto.kdfparams.dklen:int!");return(0,s.assertArgument)(B===32,"invalid kdf.dklen","kdf.dklen",B),{name:"pbkdf2",salt:O,count:g,dkLen:B,algorithm:A}}}(0,s.assertArgument)(!1,"unsupported key-derivation function","kdf",x)}function h(w,x){const O=JSON.parse(w),P=(0,i.getPassword)(x),A=f(O);if(A.name==="pbkdf2"){const{salt:I,count:v,dkLen:m,algorithm:R}=A,S=(0,r.pbkdf2)(P,I,v,m,R);return c(O,S)}(0,s.assert)(A.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:A});const{salt:g,N:B,r:C,p:N,dkLen:F}=A,U=(0,r.scryptSync)(P,g,B,C,N,F);return c(O,U)}Ut.decryptKeystoreJsonSync=h;function b(w){return new Promise(x=>{setTimeout(()=>{x()},w)})}async function k(w,x,O){const P=JSON.parse(w),A=(0,i.getPassword)(x),g=f(P);if(g.name==="pbkdf2"){O&&(O(0),await b(0));const{salt:v,count:m,dkLen:R,algorithm:S}=g,_=(0,r.pbkdf2)(A,v,m,R,S);return O&&(O(1),await b(0)),c(P,_)}(0,s.assert)(g.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:g});const{salt:B,N:C,r:N,p:F,dkLen:U}=g,I=await(0,r.scrypt)(A,B,C,N,F,U,O);return c(P,I)}Ut.decryptKeystoreJson=k;function E(w){const x=w.salt!=null?(0,s.getBytes)(w.salt,"options.salt"):(0,r.randomBytes)(32);let O=1<<17,P=8,A=1;return w.scrypt&&(w.scrypt.N&&(O=w.scrypt.N),w.scrypt.r&&(P=w.scrypt.r),w.scrypt.p&&(A=w.scrypt.p)),(0,s.assertArgument)(typeof O=="number"&&O>0&&Number.isSafeInteger(O)&&(BigInt(O)&BigInt(O-1))===BigInt(0),"invalid scrypt N parameter","options.N",O),(0,s.assertArgument)(typeof P=="number"&&P>0&&Number.isSafeInteger(P),"invalid scrypt r parameter","options.r",P),(0,s.assertArgument)(typeof A=="number"&&A>0&&Number.isSafeInteger(A),"invalid scrypt p parameter","options.p",A),{name:"scrypt",dkLen:32,salt:x,N:O,r:P,p:A}}function d(w,x,O,P){const A=(0,s.getBytes)(O.privateKey,"privateKey"),g=P.iv!=null?(0,s.getBytes)(P.iv,"options.iv"):(0,r.randomBytes)(16);(0,s.assertArgument)(g.length===16,"invalid options.iv length","options.iv",P.iv);const B=P.uuid!=null?(0,s.getBytes)(P.uuid,"options.uuid"):(0,r.randomBytes)(16);(0,s.assertArgument)(B.length===16,"invalid options.uuid length","options.uuid",P.iv);const C=w.slice(0,16),N=w.slice(16,32),F=new t.CTR(C,g),U=(0,s.getBytes)(F.encrypt(A)),I=(0,r.keccak256)((0,s.concat)([N,U])),v={address:O.address.substring(2).toLowerCase(),id:(0,s.uuidV4)(B),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,s.hexlify)(g).substring(2)},ciphertext:(0,s.hexlify)(U).substring(2),kdf:"scrypt",kdfparams:{salt:(0,s.hexlify)(x.salt).substring(2),n:x.N,dklen:32,p:x.p,r:x.r},mac:I.substring(2)}};if(O.mnemonic){const m=P.client!=null?P.client:`ethers/${a.version}`,R=O.mnemonic.path||o,S=O.mnemonic.locale||"en",_=w.slice(32,64),L=(0,s.getBytes)(O.mnemonic.entropy,"account.mnemonic.entropy"),D=(0,r.randomBytes)(16),M=new t.CTR(_,D),Q=(0,s.getBytes)(M.encrypt(L)),j=new Date,q="UTC--"+(j.getUTCFullYear()+"-"+(0,i.zpad)(j.getUTCMonth()+1,2)+"-"+(0,i.zpad)(j.getUTCDate(),2)+"T"+(0,i.zpad)(j.getUTCHours(),2)+"-"+(0,i.zpad)(j.getUTCMinutes(),2)+"-"+(0,i.zpad)(j.getUTCSeconds(),2)+".0Z")+"--"+v.address;v["x-ethers"]={client:m,gethFilename:q,path:R,locale:S,mnemonicCounter:(0,s.hexlify)(D).substring(2),mnemonicCiphertext:(0,s.hexlify)(Q).substring(2),version:"0.1"}}return JSON.stringify(v)}function p(w,x,O){O==null&&(O={});const P=(0,i.getPassword)(x),A=E(O),g=(0,r.scryptSync)(P,A.salt,A.N,A.r,A.p,64);return d((0,s.getBytes)(g),A,w,O)}Ut.encryptKeystoreJsonSync=p;async function y(w,x,O){O==null&&(O={});const P=(0,i.getPassword)(x),A=E(O),g=await(0,r.scrypt)(P,A.salt,A.N,A.r,A.p,64,O.progressCallback);return d((0,s.getBytes)(g),A,w,O)}return Ut.encryptKeystoreJson=y,Ut}var l0;function Yg(){return l0||(l0=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getIndexedAccountPath=t.getAccountPath=t.HDNodeVoidWallet=t.HDNodeWallet=t.defaultPath=void 0;const e=ht(),r=ou(),n=Mt(),s=fe(),i=Xa(),a=cu(),o=lu(),u=fu();t.defaultPath="m/44'/60'/0'/0/0";const l=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),c=2147483648,f=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h="0123456789abcdef";function b(P,A){let g="";for(;P;)g=h[P%16]+g,P=Math.trunc(P/16);for(;g.length<A*2;)g="0"+g;return"0x"+g}function k(P){const A=(0,s.getBytes)(P),g=(0,s.dataSlice)((0,e.sha256)((0,e.sha256)(A)),0,4),B=(0,s.concat)([A,g]);return(0,s.encodeBase58)(B)}const E={};function d(P,A,g,B){const C=new Uint8Array(37);P&c?((0,s.assert)(B!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),C.set((0,s.getBytes)(B),1)):C.set((0,s.getBytes)(g));for(let F=24;F>=0;F-=8)C[33+(F>>3)]=P>>24-F&255;const N=(0,s.getBytes)((0,e.computeHmac)("sha512",A,C));return{IL:N.slice(0,32),IR:N.slice(32)}}function p(P,A){const g=A.split("/");(0,s.assertArgument)(g.length>0,"invalid path","path",A),g[0]==="m"&&((0,s.assertArgument)(P.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${P.depth}`,"path",A),g.shift());let B=P;for(let C=0;C<g.length;C++){const N=g[C];if(N.match(/^[0-9]+'$/)){const F=parseInt(N.substring(0,N.length-1));(0,s.assertArgument)(F<c,"invalid path index",`path[${C}]`,N),B=B.deriveChild(c+F)}else if(N.match(/^[0-9]+$/)){const F=parseInt(N);(0,s.assertArgument)(F<c,"invalid path index",`path[${C}]`,N),B=B.deriveChild(F)}else(0,s.assertArgument)(!1,"invalid path component",`path[${C}]`,N)}return B}class y extends a.BaseWallet{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(A,g,B,C,N,F,U,I,v){super(g,v),(0,s.assertPrivate)(A,E,"HDNodeWallet"),(0,s.defineProperties)(this,{publicKey:g.compressedPublicKey});const m=(0,s.dataSlice)((0,e.ripemd160)((0,e.sha256)(this.publicKey)),0,4);(0,s.defineProperties)(this,{parentFingerprint:B,fingerprint:m,chainCode:C,path:N,index:F,depth:U}),(0,s.defineProperties)(this,{mnemonic:I})}connect(A){return new y(E,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,A)}#e(){const A={address:this.address,privateKey:this.privateKey},g=this.mnemonic;return this.path&&g&&g.wordlist.locale==="en"&&g.password===""&&(A.mnemonic={path:this.path,locale:"en",entropy:g.entropy}),A}async encrypt(A,g){return await(0,u.encryptKeystoreJson)(this.#e(),A,{progressCallback:g})}encryptSync(A){return(0,u.encryptKeystoreJsonSync)(this.#e(),A)}get extendedKey(){return(0,s.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),k((0,s.concat)(["0x0488ADE4",b(this.depth,1),this.parentFingerprint,b(this.index,4),this.chainCode,(0,s.concat)(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new w(E,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(A){const g=(0,s.getNumber)(A,"index");(0,s.assertArgument)(g<=4294967295,"invalid index","index",g);let B=this.path;B&&(B+="/"+(g&~c),g&c&&(B+="'"));const{IR:C,IL:N}=d(g,this.chainCode,this.publicKey,this.privateKey),F=new e.SigningKey((0,s.toBeHex)(((0,s.toBigInt)(N)+BigInt(this.privateKey))%f,32));return new y(E,F,this.fingerprint,(0,s.hexlify)(C),B,g,this.depth+1,this.mnemonic,this.provider)}derivePath(A){return p(this,A)}static#t(A,g){(0,s.assertArgument)((0,s.isBytesLike)(A),"invalid seed","seed","[REDACTED]");const B=(0,s.getBytes)(A,"seed");(0,s.assertArgument)(B.length>=16&&B.length<=64,"invalid seed","seed","[REDACTED]");const C=(0,s.getBytes)((0,e.computeHmac)("sha512",l,B)),N=new e.SigningKey((0,s.hexlify)(C.slice(0,32)));return new y(E,N,"0x00000000",(0,s.hexlify)(C.slice(32)),"m",0,0,g,null)}static fromExtendedKey(A){const g=(0,s.toBeArray)((0,s.decodeBase58)(A));(0,s.assertArgument)(g.length===82||k(g.slice(0,78))===A,"invalid extended key","extendedKey","[ REDACTED ]");const B=g[4],C=(0,s.hexlify)(g.slice(5,9)),N=parseInt((0,s.hexlify)(g.slice(9,13)).substring(2),16),F=(0,s.hexlify)(g.slice(13,45)),U=g.slice(45,78);switch((0,s.hexlify)(g.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const I=(0,s.hexlify)(U);return new w(E,(0,n.computeAddress)(I),I,C,F,null,N,B,null)}case"0x0488ade4":case"0x04358394 ":if(U[0]!==0)break;return new y(E,new e.SigningKey(U.slice(1)),C,F,null,N,B,null,null)}(0,s.assertArgument)(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(A,g,B){A==null&&(A=""),g==null&&(g=t.defaultPath),B==null&&(B=i.LangEn.wordlist());const C=o.Mnemonic.fromEntropy((0,e.randomBytes)(16),A,B);return y.#t(C.computeSeed(),C).derivePath(g)}static fromMnemonic(A,g){return g||(g=t.defaultPath),y.#t(A.computeSeed(),A).derivePath(g)}static fromPhrase(A,g,B,C){g==null&&(g=""),B==null&&(B=t.defaultPath),C==null&&(C=i.LangEn.wordlist());const N=o.Mnemonic.fromPhrase(A,g,C);return y.#t(N.computeSeed(),N).derivePath(B)}static fromSeed(A){return y.#t(A,null)}}t.HDNodeWallet=y;class w extends r.VoidSigner{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(A,g,B,C,N,F,U,I,v){super(g,v),(0,s.assertPrivate)(A,E,"HDNodeVoidWallet"),(0,s.defineProperties)(this,{publicKey:B});const m=(0,s.dataSlice)((0,e.ripemd160)((0,e.sha256)(B)),0,4);(0,s.defineProperties)(this,{publicKey:B,fingerprint:m,parentFingerprint:C,chainCode:N,path:F,index:U,depth:I})}connect(A){return new w(E,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,A)}get extendedKey(){return(0,s.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),k((0,s.concat)(["0x0488B21E",b(this.depth,1),this.parentFingerprint,b(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(A){const g=(0,s.getNumber)(A,"index");(0,s.assertArgument)(g<=4294967295,"invalid index","index",g);let B=this.path;B&&(B+="/"+(g&~c),g&c&&(B+="'"));const{IR:C,IL:N}=d(g,this.chainCode,this.publicKey,null),F=e.SigningKey.addPoints(N,this.publicKey,!0),U=(0,n.computeAddress)(F);return new w(E,U,F,this.fingerprint,(0,s.hexlify)(C),B,g,this.depth+1,this.provider)}derivePath(A){return p(this,A)}}t.HDNodeVoidWallet=w;function x(P){const A=(0,s.getNumber)(P,"index");return(0,s.assertArgument)(A>=0&&A<c,"invalid account index","index",A),`m/44'/60'/${A}'/0/0`}t.getAccountPath=x;function O(P){const A=(0,s.getNumber)(P,"index");return(0,s.assertArgument)(A>=0&&A<c,"invalid account index","index",A),`m/44'/60'/0'/0/${A}`}t.getIndexedAccountPath=O})(Ko)),Ko}var Bn={},f0;function Xg(){if(f0)return Bn;f0=1,Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.decryptCrowdsaleJson=Bn.isCrowdsaleJson=void 0;const t=Wg(),e=lt(),r=ht(),n=Fr(),s=fe(),i=Zg();function a(u){try{if(JSON.parse(u).encseed)return!0}catch{}return!1}Bn.isCrowdsaleJson=a;function o(u,l){const c=JSON.parse(u),f=(0,i.getPassword)(l),h=(0,e.getAddress)((0,i.spelunk)(c,"ethaddr:string!")),b=(0,i.looseArrayify)((0,i.spelunk)(c,"encseed:string!"));(0,s.assertArgument)(b&&b.length%16===0,"invalid encseed","json",u);const k=(0,s.getBytes)((0,r.pbkdf2)(f,f,2e3,32,"sha256")).slice(0,16),E=b.slice(0,16),d=b.slice(16),p=new t.CBC(k,E),y=(0,t.pkcs7Strip)((0,s.getBytes)(p.decrypt(d)));let w="";for(let x=0;x<y.length;x++)w+=String.fromCharCode(y[x]);return{address:h,privateKey:(0,n.id)(w)}}return Bn.decryptCrowdsaleJson=o,Bn}var vi={},d0;function MA(){if(d0)return vi;d0=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.Wallet=void 0;const t=ht(),e=fe(),r=cu(),n=Yg(),s=Xg(),i=fu(),a=lu();function o(l){return new Promise(c=>{setTimeout(()=>{c()},l)})}class u extends r.BaseWallet{constructor(c,f){typeof c=="string"&&!c.startsWith("0x")&&(c="0x"+c);let h=typeof c=="string"?new t.SigningKey(c):c;super(h,f)}connect(c){return new u(this.signingKey,c)}async encrypt(c,f){const h={address:this.address,privateKey:this.privateKey};return await(0,i.encryptKeystoreJson)(h,c,{progressCallback:f})}encryptSync(c){const f={address:this.address,privateKey:this.privateKey};return(0,i.encryptKeystoreJsonSync)(f,c)}static#e(c){if((0,e.assertArgument)(c,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in c&&c.mnemonic&&c.mnemonic.locale==="en"){const h=a.Mnemonic.fromEntropy(c.mnemonic.entropy),b=n.HDNodeWallet.fromMnemonic(h,c.mnemonic.path);if(b.address===c.address&&b.privateKey===c.privateKey)return b;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const f=new u(c.privateKey);return(0,e.assertArgument)(f.address===c.address,"address/privateKey mismatch","json","[ REDACTED ]"),f}static async fromEncryptedJson(c,f,h){let b=null;return(0,i.isKeystoreJson)(c)?b=await(0,i.decryptKeystoreJson)(c,f,h):(0,s.isCrowdsaleJson)(c)&&(h&&(h(0),await o(0)),b=(0,s.decryptCrowdsaleJson)(c,f),h&&(h(1),await o(0))),u.#e(b)}static fromEncryptedJsonSync(c,f){let h=null;return(0,i.isKeystoreJson)(c)?h=(0,i.decryptKeystoreJsonSync)(c,f):(0,s.isCrowdsaleJson)(c)?h=(0,s.decryptCrowdsaleJson)(c,f):(0,e.assertArgument)(!1,"invalid JSON wallet","json","[ REDACTED ]"),u.#e(h)}static createRandom(c){const f=n.HDNodeWallet.createRandom();return c?f.connect(c):f}static fromPhrase(c,f){const h=n.HDNodeWallet.fromPhrase(c);return f?h.connect(f):h}}return vi.Wallet=u,vi}var h0;function jA(){return h0||(h0=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Wallet=t.Mnemonic=t.encryptKeystoreJsonSync=t.encryptKeystoreJson=t.decryptKeystoreJson=t.decryptKeystoreJsonSync=t.isKeystoreJson=t.decryptCrowdsaleJson=t.isCrowdsaleJson=t.HDNodeVoidWallet=t.HDNodeWallet=t.getIndexedAccountPath=t.getAccountPath=t.defaultPath=t.BaseWallet=void 0;var e=cu();Object.defineProperty(t,"BaseWallet",{enumerable:!0,get:function(){return e.BaseWallet}});var r=Yg();Object.defineProperty(t,"defaultPath",{enumerable:!0,get:function(){return r.defaultPath}}),Object.defineProperty(t,"getAccountPath",{enumerable:!0,get:function(){return r.getAccountPath}}),Object.defineProperty(t,"getIndexedAccountPath",{enumerable:!0,get:function(){return r.getIndexedAccountPath}}),Object.defineProperty(t,"HDNodeWallet",{enumerable:!0,get:function(){return r.HDNodeWallet}}),Object.defineProperty(t,"HDNodeVoidWallet",{enumerable:!0,get:function(){return r.HDNodeVoidWallet}});var n=Xg();Object.defineProperty(t,"isCrowdsaleJson",{enumerable:!0,get:function(){return n.isCrowdsaleJson}}),Object.defineProperty(t,"decryptCrowdsaleJson",{enumerable:!0,get:function(){return n.decryptCrowdsaleJson}});var s=fu();Object.defineProperty(t,"isKeystoreJson",{enumerable:!0,get:function(){return s.isKeystoreJson}}),Object.defineProperty(t,"decryptKeystoreJsonSync",{enumerable:!0,get:function(){return s.decryptKeystoreJsonSync}}),Object.defineProperty(t,"decryptKeystoreJson",{enumerable:!0,get:function(){return s.decryptKeystoreJson}}),Object.defineProperty(t,"encryptKeystoreJson",{enumerable:!0,get:function(){return s.encryptKeystoreJson}}),Object.defineProperty(t,"encryptKeystoreJsonSync",{enumerable:!0,get:function(){return s.encryptKeystoreJsonSync}});var i=lu();Object.defineProperty(t,"Mnemonic",{enumerable:!0,get:function(){return i.Mnemonic}});var a=MA();Object.defineProperty(t,"Wallet",{enumerable:!0,get:function(){return a.Wallet}})})(zo)),zo}var Wo={},Oi={},ki={},Bi={},g0;function HA(){if(g0)return Bi;g0=1,Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.decodeBits=void 0;const t=")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_";function e(r,n){const s=(1<<r)-1,i=[];let a=0,o=0,u=0;for(let l=0;l<n.length;l++)for(a=a<<6|t.indexOf(n[l]),o+=6;o>=r;){const c=a>>o-r;a&=(1<<o-r)-1,o-=r,c===0?u+=s:(i.push(c+u),u=0)}return i}return Bi.decodeBits=e,Bi}var p0;function GA(){if(p0)return ki;p0=1,Object.defineProperty(ki,"__esModule",{value:!0}),ki.decodeOwlA=void 0;const t=fe(),e=HA(),r=zg();function n(s,i){let a=(0,r.decodeOwl)(s).join(",");return i.split(/,/g).forEach(o=>{const u=o.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);(0,t.assertArgument)(u!==null,"internal error parsing accents","accents",i);let l=0;const c=(0,e.decodeBits)(parseInt(u[3]),u[4]),f=parseInt(u[2]),h=new RegExp(`([${u[1]}])`,"g");a=a.replace(h,(b,k)=>(--c[l]===0&&(k=String.fromCharCode(k.charCodeAt(0),f),l++),k))}),a.split(",")}return ki.decodeOwlA=n,ki}var b0;function VA(){if(b0)return Oi;b0=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.WordlistOwlA=void 0;const t=uu(),e=GA();class r extends t.WordlistOwl{#e;constructor(s,i,a,o){super(s,i,o),this.#e=a}get _accent(){return this.#e}_decodeWords(){return(0,e.decodeOwlA)(this._data,this._accent)}}return Oi.WordlistOwlA=r,Oi}var Ni={},m0;function QA(){if(m0)return Ni;m0=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.wordlists=void 0;const t=Xa();return Ni.wordlists={en:t.LangEn.wordlist()},Ni}var y0;function JA(){return y0||(y0=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.wordlists=t.WordlistOwlA=t.WordlistOwl=t.LangEn=t.Wordlist=void 0;var e=Kg();Object.defineProperty(t,"Wordlist",{enumerable:!0,get:function(){return e.Wordlist}});var r=Xa();Object.defineProperty(t,"LangEn",{enumerable:!0,get:function(){return r.LangEn}});var n=uu();Object.defineProperty(t,"WordlistOwl",{enumerable:!0,get:function(){return n.WordlistOwl}});var s=VA();Object.defineProperty(t,"WordlistOwlA",{enumerable:!0,get:function(){return s.WordlistOwlA}});var i=QA();Object.defineProperty(t,"wordlists",{enumerable:!0,get:function(){return i.wordlists}})})(Wo)),Wo}var x0;function w0(){return x0||(x0=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ripemd160=t.keccak256=t.randomBytes=t.computeHmac=t.UndecodedEventLog=t.EventLog=t.ContractUnknownEventPayload=t.ContractTransactionResponse=t.ContractTransactionReceipt=t.ContractEventPayload=t.ContractFactory=t.Contract=t.BaseContract=t.MessagePrefix=t.EtherSymbol=t.ZeroHash=t.N=t.MaxInt256=t.MinInt256=t.MaxUint256=t.WeiPerEther=t.ZeroAddress=t.resolveAddress=t.isAddress=t.isAddressable=t.getCreate2Address=t.getCreateAddress=t.getIcapAddress=t.getAddress=t.Typed=t.TransactionDescription=t.Result=t.LogDescription=t.Interface=t.Indexed=t.ErrorDescription=t.checkResultErrors=t.StructFragment=t.ParamType=t.NamedFragment=t.FunctionFragment=t.FallbackFragment=t.Fragment=t.EventFragment=t.ErrorFragment=t.ConstructorFragment=t.AbiCoder=t.encodeBytes32String=t.decodeBytes32String=t.version=void 0,t.EnsPlugin=t.Network=t.EnsResolver=t.WebSocketProvider=t.SocketProvider=t.IpcSocketProvider=t.QuickNodeProvider=t.PocketProvider=t.InfuraWebSocketProvider=t.InfuraProvider=t.EtherscanProvider=t.CloudflareProvider=t.ChainstackProvider=t.AnkrProvider=t.AlchemyProvider=t.BrowserProvider=t.JsonRpcSigner=t.JsonRpcProvider=t.JsonRpcApiProvider=t.FallbackProvider=t.AbstractProvider=t.VoidSigner=t.NonceManager=t.AbstractSigner=t.TransactionResponse=t.TransactionReceipt=t.Log=t.FeeData=t.Block=t.getDefaultProvider=t.verifyTypedData=t.TypedDataEncoder=t.solidityPackedSha256=t.solidityPackedKeccak256=t.solidityPacked=t.verifyMessage=t.hashMessage=t.dnsEncode=t.namehash=t.isValidName=t.ensNormalize=t.id=t.SigningKey=t.Signature=t.lock=t.scryptSync=t.scrypt=t.pbkdf2=t.sha512=t.sha256=void 0,t.getUint=t.getNumber=t.getBigInt=t.FixedNumber=t.FetchCancelSignal=t.FetchResponse=t.FetchRequest=t.EventPayload=t.isError=t.isCallException=t.makeError=t.assertPrivate=t.assertNormalize=t.assertArgumentCount=t.assertArgument=t.assert=t.resolveProperties=t.defineProperties=t.zeroPadValue=t.zeroPadBytes=t.stripZerosLeft=t.isBytesLike=t.isHexString=t.hexlify=t.getBytesCopy=t.getBytes=t.dataSlice=t.dataLength=t.concat=t.encodeBase64=t.decodeBase64=t.encodeBase58=t.decodeBase58=t.Transaction=t.recoverAddress=t.computeAddress=t.accessListify=t.showThrottleMessage=t.copyRequest=t.UnmanagedSubscriber=t.SocketSubscriber=t.SocketPendingSubscriber=t.SocketEventSubscriber=t.SocketBlockSubscriber=t.MulticoinProviderPlugin=t.NetworkPlugin=t.GasCostPlugin=t.FetchUrlFeeDataNetworkPlugin=t.FeeDataNetworkPlugin=t.EtherscanPlugin=void 0,t.wordlists=t.WordlistOwlA=t.WordlistOwl=t.LangEn=t.Wordlist=t.encryptKeystoreJsonSync=t.encryptKeystoreJson=t.decryptKeystoreJson=t.decryptKeystoreJsonSync=t.decryptCrowdsaleJson=t.isKeystoreJson=t.isCrowdsaleJson=t.getIndexedAccountPath=t.getAccountPath=t.defaultPath=t.Wallet=t.HDNodeVoidWallet=t.HDNodeWallet=t.BaseWallet=t.Mnemonic=t.uuidV4=t.encodeRlp=t.decodeRlp=t.Utf8ErrorFuncs=t.toUtf8String=t.toUtf8CodePoints=t.toUtf8Bytes=t.parseUnits=t.formatUnits=t.parseEther=t.formatEther=t.mask=t.toTwos=t.fromTwos=t.toQuantity=t.toNumber=t.toBeHex=t.toBigInt=t.toBeArray=void 0;var e=Zc();Object.defineProperty(t,"version",{enumerable:!0,get:function(){return e.version}});var r=ia();Object.defineProperty(t,"decodeBytes32String",{enumerable:!0,get:function(){return r.decodeBytes32String}}),Object.defineProperty(t,"encodeBytes32String",{enumerable:!0,get:function(){return r.encodeBytes32String}}),Object.defineProperty(t,"AbiCoder",{enumerable:!0,get:function(){return r.AbiCoder}}),Object.defineProperty(t,"ConstructorFragment",{enumerable:!0,get:function(){return r.ConstructorFragment}}),Object.defineProperty(t,"ErrorFragment",{enumerable:!0,get:function(){return r.ErrorFragment}}),Object.defineProperty(t,"EventFragment",{enumerable:!0,get:function(){return r.EventFragment}}),Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return r.Fragment}}),Object.defineProperty(t,"FallbackFragment",{enumerable:!0,get:function(){return r.FallbackFragment}}),Object.defineProperty(t,"FunctionFragment",{enumerable:!0,get:function(){return r.FunctionFragment}}),Object.defineProperty(t,"NamedFragment",{enumerable:!0,get:function(){return r.NamedFragment}}),Object.defineProperty(t,"ParamType",{enumerable:!0,get:function(){return r.ParamType}}),Object.defineProperty(t,"StructFragment",{enumerable:!0,get:function(){return r.StructFragment}}),Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return r.checkResultErrors}}),Object.defineProperty(t,"ErrorDescription",{enumerable:!0,get:function(){return r.ErrorDescription}}),Object.defineProperty(t,"Indexed",{enumerable:!0,get:function(){return r.Indexed}}),Object.defineProperty(t,"Interface",{enumerable:!0,get:function(){return r.Interface}}),Object.defineProperty(t,"LogDescription",{enumerable:!0,get:function(){return r.LogDescription}}),Object.defineProperty(t,"Result",{enumerable:!0,get:function(){return r.Result}}),Object.defineProperty(t,"TransactionDescription",{enumerable:!0,get:function(){return r.TransactionDescription}}),Object.defineProperty(t,"Typed",{enumerable:!0,get:function(){return r.Typed}});var n=lt();Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return n.getAddress}}),Object.defineProperty(t,"getIcapAddress",{enumerable:!0,get:function(){return n.getIcapAddress}}),Object.defineProperty(t,"getCreateAddress",{enumerable:!0,get:function(){return n.getCreateAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return n.getCreate2Address}}),Object.defineProperty(t,"isAddressable",{enumerable:!0,get:function(){return n.isAddressable}}),Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return n.isAddress}}),Object.defineProperty(t,"resolveAddress",{enumerable:!0,get:function(){return n.resolveAddress}});var s=sa();Object.defineProperty(t,"ZeroAddress",{enumerable:!0,get:function(){return s.ZeroAddress}}),Object.defineProperty(t,"WeiPerEther",{enumerable:!0,get:function(){return s.WeiPerEther}}),Object.defineProperty(t,"MaxUint256",{enumerable:!0,get:function(){return s.MaxUint256}}),Object.defineProperty(t,"MinInt256",{enumerable:!0,get:function(){return s.MinInt256}}),Object.defineProperty(t,"MaxInt256",{enumerable:!0,get:function(){return s.MaxInt256}}),Object.defineProperty(t,"N",{enumerable:!0,get:function(){return s.N}}),Object.defineProperty(t,"ZeroHash",{enumerable:!0,get:function(){return s.ZeroHash}}),Object.defineProperty(t,"EtherSymbol",{enumerable:!0,get:function(){return s.EtherSymbol}}),Object.defineProperty(t,"MessagePrefix",{enumerable:!0,get:function(){return s.MessagePrefix}});var i=Ya();Object.defineProperty(t,"BaseContract",{enumerable:!0,get:function(){return i.BaseContract}}),Object.defineProperty(t,"Contract",{enumerable:!0,get:function(){return i.Contract}}),Object.defineProperty(t,"ContractFactory",{enumerable:!0,get:function(){return i.ContractFactory}}),Object.defineProperty(t,"ContractEventPayload",{enumerable:!0,get:function(){return i.ContractEventPayload}}),Object.defineProperty(t,"ContractTransactionReceipt",{enumerable:!0,get:function(){return i.ContractTransactionReceipt}}),Object.defineProperty(t,"ContractTransactionResponse",{enumerable:!0,get:function(){return i.ContractTransactionResponse}}),Object.defineProperty(t,"ContractUnknownEventPayload",{enumerable:!0,get:function(){return i.ContractUnknownEventPayload}}),Object.defineProperty(t,"EventLog",{enumerable:!0,get:function(){return i.EventLog}}),Object.defineProperty(t,"UndecodedEventLog",{enumerable:!0,get:function(){return i.UndecodedEventLog}});var a=ht();Object.defineProperty(t,"computeHmac",{enumerable:!0,get:function(){return a.computeHmac}}),Object.defineProperty(t,"randomBytes",{enumerable:!0,get:function(){return a.randomBytes}}),Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return a.keccak256}}),Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return a.ripemd160}}),Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return a.sha256}}),Object.defineProperty(t,"sha512",{enumerable:!0,get:function(){return a.sha512}}),Object.defineProperty(t,"pbkdf2",{enumerable:!0,get:function(){return a.pbkdf2}}),Object.defineProperty(t,"scrypt",{enumerable:!0,get:function(){return a.scrypt}}),Object.defineProperty(t,"scryptSync",{enumerable:!0,get:function(){return a.scryptSync}}),Object.defineProperty(t,"lock",{enumerable:!0,get:function(){return a.lock}}),Object.defineProperty(t,"Signature",{enumerable:!0,get:function(){return a.Signature}}),Object.defineProperty(t,"SigningKey",{enumerable:!0,get:function(){return a.SigningKey}});var o=Fr();Object.defineProperty(t,"id",{enumerable:!0,get:function(){return o.id}}),Object.defineProperty(t,"ensNormalize",{enumerable:!0,get:function(){return o.ensNormalize}}),Object.defineProperty(t,"isValidName",{enumerable:!0,get:function(){return o.isValidName}}),Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return o.namehash}}),Object.defineProperty(t,"dnsEncode",{enumerable:!0,get:function(){return o.dnsEncode}}),Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return o.hashMessage}}),Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return o.verifyMessage}}),Object.defineProperty(t,"solidityPacked",{enumerable:!0,get:function(){return o.solidityPacked}}),Object.defineProperty(t,"solidityPackedKeccak256",{enumerable:!0,get:function(){return o.solidityPackedKeccak256}}),Object.defineProperty(t,"solidityPackedSha256",{enumerable:!0,get:function(){return o.solidityPackedSha256}}),Object.defineProperty(t,"TypedDataEncoder",{enumerable:!0,get:function(){return o.TypedDataEncoder}}),Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return o.verifyTypedData}});var u=ou();Object.defineProperty(t,"getDefaultProvider",{enumerable:!0,get:function(){return u.getDefaultProvider}}),Object.defineProperty(t,"Block",{enumerable:!0,get:function(){return u.Block}}),Object.defineProperty(t,"FeeData",{enumerable:!0,get:function(){return u.FeeData}}),Object.defineProperty(t,"Log",{enumerable:!0,get:function(){return u.Log}}),Object.defineProperty(t,"TransactionReceipt",{enumerable:!0,get:function(){return u.TransactionReceipt}}),Object.defineProperty(t,"TransactionResponse",{enumerable:!0,get:function(){return u.TransactionResponse}}),Object.defineProperty(t,"AbstractSigner",{enumerable:!0,get:function(){return u.AbstractSigner}}),Object.defineProperty(t,"NonceManager",{enumerable:!0,get:function(){return u.NonceManager}}),Object.defineProperty(t,"VoidSigner",{enumerable:!0,get:function(){return u.VoidSigner}}),Object.defineProperty(t,"AbstractProvider",{enumerable:!0,get:function(){return u.AbstractProvider}}),Object.defineProperty(t,"FallbackProvider",{enumerable:!0,get:function(){return u.FallbackProvider}}),Object.defineProperty(t,"JsonRpcApiProvider",{enumerable:!0,get:function(){return u.JsonRpcApiProvider}}),Object.defineProperty(t,"JsonRpcProvider",{enumerable:!0,get:function(){return u.JsonRpcProvider}}),Object.defineProperty(t,"JsonRpcSigner",{enumerable:!0,get:function(){return u.JsonRpcSigner}}),Object.defineProperty(t,"BrowserProvider",{enumerable:!0,get:function(){return u.BrowserProvider}}),Object.defineProperty(t,"AlchemyProvider",{enumerable:!0,get:function(){return u.AlchemyProvider}}),Object.defineProperty(t,"AnkrProvider",{enumerable:!0,get:function(){return u.AnkrProvider}}),Object.defineProperty(t,"ChainstackProvider",{enumerable:!0,get:function(){return u.ChainstackProvider}}),Object.defineProperty(t,"CloudflareProvider",{enumerable:!0,get:function(){return u.CloudflareProvider}}),Object.defineProperty(t,"EtherscanProvider",{enumerable:!0,get:function(){return u.EtherscanProvider}}),Object.defineProperty(t,"InfuraProvider",{enumerable:!0,get:function(){return u.InfuraProvider}}),Object.defineProperty(t,"InfuraWebSocketProvider",{enumerable:!0,get:function(){return u.InfuraWebSocketProvider}}),Object.defineProperty(t,"PocketProvider",{enumerable:!0,get:function(){return u.PocketProvider}}),Object.defineProperty(t,"QuickNodeProvider",{enumerable:!0,get:function(){return u.QuickNodeProvider}}),Object.defineProperty(t,"IpcSocketProvider",{enumerable:!0,get:function(){return u.IpcSocketProvider}}),Object.defineProperty(t,"SocketProvider",{enumerable:!0,get:function(){return u.SocketProvider}}),Object.defineProperty(t,"WebSocketProvider",{enumerable:!0,get:function(){return u.WebSocketProvider}}),Object.defineProperty(t,"EnsResolver",{enumerable:!0,get:function(){return u.EnsResolver}}),Object.defineProperty(t,"Network",{enumerable:!0,get:function(){return u.Network}}),Object.defineProperty(t,"EnsPlugin",{enumerable:!0,get:function(){return u.EnsPlugin}}),Object.defineProperty(t,"EtherscanPlugin",{enumerable:!0,get:function(){return u.EtherscanPlugin}}),Object.defineProperty(t,"FeeDataNetworkPlugin",{enumerable:!0,get:function(){return u.FeeDataNetworkPlugin}}),Object.defineProperty(t,"FetchUrlFeeDataNetworkPlugin",{enumerable:!0,get:function(){return u.FetchUrlFeeDataNetworkPlugin}}),Object.defineProperty(t,"GasCostPlugin",{enumerable:!0,get:function(){return u.GasCostPlugin}}),Object.defineProperty(t,"NetworkPlugin",{enumerable:!0,get:function(){return u.NetworkPlugin}}),Object.defineProperty(t,"MulticoinProviderPlugin",{enumerable:!0,get:function(){return u.MulticoinProviderPlugin}}),Object.defineProperty(t,"SocketBlockSubscriber",{enumerable:!0,get:function(){return u.SocketBlockSubscriber}}),Object.defineProperty(t,"SocketEventSubscriber",{enumerable:!0,get:function(){return u.SocketEventSubscriber}}),Object.defineProperty(t,"SocketPendingSubscriber",{enumerable:!0,get:function(){return u.SocketPendingSubscriber}}),Object.defineProperty(t,"SocketSubscriber",{enumerable:!0,get:function(){return u.SocketSubscriber}}),Object.defineProperty(t,"UnmanagedSubscriber",{enumerable:!0,get:function(){return u.UnmanagedSubscriber}}),Object.defineProperty(t,"copyRequest",{enumerable:!0,get:function(){return u.copyRequest}}),Object.defineProperty(t,"showThrottleMessage",{enumerable:!0,get:function(){return u.showThrottleMessage}});var l=Mt();Object.defineProperty(t,"accessListify",{enumerable:!0,get:function(){return l.accessListify}}),Object.defineProperty(t,"computeAddress",{enumerable:!0,get:function(){return l.computeAddress}}),Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return l.recoverAddress}}),Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return l.Transaction}});var c=fe();Object.defineProperty(t,"decodeBase58",{enumerable:!0,get:function(){return c.decodeBase58}}),Object.defineProperty(t,"encodeBase58",{enumerable:!0,get:function(){return c.encodeBase58}}),Object.defineProperty(t,"decodeBase64",{enumerable:!0,get:function(){return c.decodeBase64}}),Object.defineProperty(t,"encodeBase64",{enumerable:!0,get:function(){return c.encodeBase64}}),Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return c.concat}}),Object.defineProperty(t,"dataLength",{enumerable:!0,get:function(){return c.dataLength}}),Object.defineProperty(t,"dataSlice",{enumerable:!0,get:function(){return c.dataSlice}}),Object.defineProperty(t,"getBytes",{enumerable:!0,get:function(){return c.getBytes}}),Object.defineProperty(t,"getBytesCopy",{enumerable:!0,get:function(){return c.getBytesCopy}}),Object.defineProperty(t,"hexlify",{enumerable:!0,get:function(){return c.hexlify}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return c.isHexString}}),Object.defineProperty(t,"isBytesLike",{enumerable:!0,get:function(){return c.isBytesLike}}),Object.defineProperty(t,"stripZerosLeft",{enumerable:!0,get:function(){return c.stripZerosLeft}}),Object.defineProperty(t,"zeroPadBytes",{enumerable:!0,get:function(){return c.zeroPadBytes}}),Object.defineProperty(t,"zeroPadValue",{enumerable:!0,get:function(){return c.zeroPadValue}}),Object.defineProperty(t,"defineProperties",{enumerable:!0,get:function(){return c.defineProperties}}),Object.defineProperty(t,"resolveProperties",{enumerable:!0,get:function(){return c.resolveProperties}}),Object.defineProperty(t,"assert",{enumerable:!0,get:function(){return c.assert}}),Object.defineProperty(t,"assertArgument",{enumerable:!0,get:function(){return c.assertArgument}}),Object.defineProperty(t,"assertArgumentCount",{enumerable:!0,get:function(){return c.assertArgumentCount}}),Object.defineProperty(t,"assertNormalize",{enumerable:!0,get:function(){return c.assertNormalize}}),Object.defineProperty(t,"assertPrivate",{enumerable:!0,get:function(){return c.assertPrivate}}),Object.defineProperty(t,"makeError",{enumerable:!0,get:function(){return c.makeError}}),Object.defineProperty(t,"isCallException",{enumerable:!0,get:function(){return c.isCallException}}),Object.defineProperty(t,"isError",{enumerable:!0,get:function(){return c.isError}}),Object.defineProperty(t,"EventPayload",{enumerable:!0,get:function(){return c.EventPayload}}),Object.defineProperty(t,"FetchRequest",{enumerable:!0,get:function(){return c.FetchRequest}}),Object.defineProperty(t,"FetchResponse",{enumerable:!0,get:function(){return c.FetchResponse}}),Object.defineProperty(t,"FetchCancelSignal",{enumerable:!0,get:function(){return c.FetchCancelSignal}}),Object.defineProperty(t,"FixedNumber",{enumerable:!0,get:function(){return c.FixedNumber}}),Object.defineProperty(t,"getBigInt",{enumerable:!0,get:function(){return c.getBigInt}}),Object.defineProperty(t,"getNumber",{enumerable:!0,get:function(){return c.getNumber}}),Object.defineProperty(t,"getUint",{enumerable:!0,get:function(){return c.getUint}}),Object.defineProperty(t,"toBeArray",{enumerable:!0,get:function(){return c.toBeArray}}),Object.defineProperty(t,"toBigInt",{enumerable:!0,get:function(){return c.toBigInt}}),Object.defineProperty(t,"toBeHex",{enumerable:!0,get:function(){return c.toBeHex}}),Object.defineProperty(t,"toNumber",{enumerable:!0,get:function(){return c.toNumber}}),Object.defineProperty(t,"toQuantity",{enumerable:!0,get:function(){return c.toQuantity}}),Object.defineProperty(t,"fromTwos",{enumerable:!0,get:function(){return c.fromTwos}}),Object.defineProperty(t,"toTwos",{enumerable:!0,get:function(){return c.toTwos}}),Object.defineProperty(t,"mask",{enumerable:!0,get:function(){return c.mask}}),Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return c.formatEther}}),Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return c.parseEther}}),Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return c.formatUnits}}),Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return c.parseUnits}}),Object.defineProperty(t,"toUtf8Bytes",{enumerable:!0,get:function(){return c.toUtf8Bytes}}),Object.defineProperty(t,"toUtf8CodePoints",{enumerable:!0,get:function(){return c.toUtf8CodePoints}}),Object.defineProperty(t,"toUtf8String",{enumerable:!0,get:function(){return c.toUtf8String}}),Object.defineProperty(t,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return c.Utf8ErrorFuncs}}),Object.defineProperty(t,"decodeRlp",{enumerable:!0,get:function(){return c.decodeRlp}}),Object.defineProperty(t,"encodeRlp",{enumerable:!0,get:function(){return c.encodeRlp}}),Object.defineProperty(t,"uuidV4",{enumerable:!0,get:function(){return c.uuidV4}});var f=jA();Object.defineProperty(t,"Mnemonic",{enumerable:!0,get:function(){return f.Mnemonic}}),Object.defineProperty(t,"BaseWallet",{enumerable:!0,get:function(){return f.BaseWallet}}),Object.defineProperty(t,"HDNodeWallet",{enumerable:!0,get:function(){return f.HDNodeWallet}}),Object.defineProperty(t,"HDNodeVoidWallet",{enumerable:!0,get:function(){return f.HDNodeVoidWallet}}),Object.defineProperty(t,"Wallet",{enumerable:!0,get:function(){return f.Wallet}}),Object.defineProperty(t,"defaultPath",{enumerable:!0,get:function(){return f.defaultPath}}),Object.defineProperty(t,"getAccountPath",{enumerable:!0,get:function(){return f.getAccountPath}}),Object.defineProperty(t,"getIndexedAccountPath",{enumerable:!0,get:function(){return f.getIndexedAccountPath}}),Object.defineProperty(t,"isCrowdsaleJson",{enumerable:!0,get:function(){return f.isCrowdsaleJson}}),Object.defineProperty(t,"isKeystoreJson",{enumerable:!0,get:function(){return f.isKeystoreJson}}),Object.defineProperty(t,"decryptCrowdsaleJson",{enumerable:!0,get:function(){return f.decryptCrowdsaleJson}}),Object.defineProperty(t,"decryptKeystoreJsonSync",{enumerable:!0,get:function(){return f.decryptKeystoreJsonSync}}),Object.defineProperty(t,"decryptKeystoreJson",{enumerable:!0,get:function(){return f.decryptKeystoreJson}}),Object.defineProperty(t,"encryptKeystoreJson",{enumerable:!0,get:function(){return f.encryptKeystoreJson}}),Object.defineProperty(t,"encryptKeystoreJsonSync",{enumerable:!0,get:function(){return f.encryptKeystoreJsonSync}});var h=JA();Object.defineProperty(t,"Wordlist",{enumerable:!0,get:function(){return h.Wordlist}}),Object.defineProperty(t,"LangEn",{enumerable:!0,get:function(){return h.LangEn}}),Object.defineProperty(t,"WordlistOwl",{enumerable:!0,get:function(){return h.WordlistOwl}}),Object.defineProperty(t,"WordlistOwlA",{enumerable:!0,get:function(){return h.WordlistOwlA}}),Object.defineProperty(t,"wordlists",{enumerable:!0,get:function(){return h.wordlists}})})(Ro)),Ro}var A0;function l1(){return A0||(A0=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ethers=void 0;const e=Sw,r=e.__importStar(w0());t.ethers=r,e.__exportStar(w0(),t)})(No)),No}const du=globalThis,E0=t=>t,Ua=du.trustedTypes,P0=Ua?Ua.createPolicy("lit-html",{createHTML:t=>t}):void 0,$g="$lit$",Jr=`lit$${Math.random().toFixed(9).slice(2)}$`,ep="?"+Jr,zA=`<${ep}>`,Jn=document,Qi=()=>Jn.createComment(""),Ji=t=>t===null||typeof t!="object"&&typeof t!="function",hu=Array.isArray,KA=t=>hu(t)||typeof t?.[Symbol.iterator]=="function",Zo=`[ 	
\f\r]`,Ri=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v0=/-->/g,O0=/>/g,Nn=RegExp(`>|${Zo}(?:([^\\s"'>=/]+)(${Zo}*=${Zo}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),k0=/'/g,B0=/"/g,tp=/^(?:script|style|textarea|title)$/i,rp=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),f1=rp(1),qA=rp(2),ms=Symbol.for("lit-noChange"),ct=Symbol.for("lit-nothing"),N0=new WeakMap,Ln=Jn.createTreeWalker(Jn,129);function np(t,e){if(!hu(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return P0!==void 0?P0.createHTML(e):e}const WA=(t,e)=>{const r=t.length-1,n=[];let s,i=e===2?"<svg>":e===3?"<math>":"",a=Ri;for(let o=0;o<r;o++){const u=t[o];let l,c,f=-1,h=0;for(;h<u.length&&(a.lastIndex=h,c=a.exec(u),c!==null);)h=a.lastIndex,a===Ri?c[1]==="!--"?a=v0:c[1]!==void 0?a=O0:c[2]!==void 0?(tp.test(c[2])&&(s=RegExp("</"+c[2],"g")),a=Nn):c[3]!==void 0&&(a=Nn):a===Nn?c[0]===">"?(a=s??Ri,f=-1):c[1]===void 0?f=-2:(f=a.lastIndex-c[2].length,l=c[1],a=c[3]===void 0?Nn:c[3]==='"'?B0:k0):a===B0||a===k0?a=Nn:a===v0||a===O0?a=Ri:(a=Nn,s=void 0);const b=a===Nn&&t[o+1].startsWith("/>")?" ":"";i+=a===Ri?u+zA:f>=0?(n.push(l),u.slice(0,f)+$g+u.slice(f)+Jr+b):u+Jr+(f===-2?o:b)}return[np(t,i+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};class zi{constructor({strings:e,_$litType$:r},n){let s;this.parts=[];let i=0,a=0;const o=e.length-1,u=this.parts,[l,c]=WA(e,r);if(this.el=zi.createElement(l,n),Ln.currentNode=this.el.content,r===2||r===3){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(s=Ln.nextNode())!==null&&u.length<o;){if(s.nodeType===1){if(s.hasAttributes())for(const f of s.getAttributeNames())if(f.endsWith($g)){const h=c[a++],b=s.getAttribute(f).split(Jr),k=/([.?@])?(.*)/.exec(h);u.push({type:1,index:i,name:k[2],strings:b,ctor:k[1]==="."?YA:k[1]==="?"?XA:k[1]==="@"?$A:$a}),s.removeAttribute(f)}else f.startsWith(Jr)&&(u.push({type:6,index:i}),s.removeAttribute(f));if(tp.test(s.tagName)){const f=s.textContent.split(Jr),h=f.length-1;if(h>0){s.textContent=Ua?Ua.emptyScript:"";for(let b=0;b<h;b++)s.append(f[b],Qi()),Ln.nextNode(),u.push({type:2,index:++i});s.append(f[h],Qi())}}}else if(s.nodeType===8)if(s.data===ep)u.push({type:2,index:i});else{let f=-1;for(;(f=s.data.indexOf(Jr,f+1))!==-1;)u.push({type:7,index:i}),f+=Jr.length-1}i++}}static createElement(e,r){const n=Jn.createElement("template");return n.innerHTML=e,n}}function ys(t,e,r=t,n){if(e===ms)return e;let s=n!==void 0?r._$Co?.[n]:r._$Cl;const i=Ji(e)?void 0:e._$litDirective$;return s?.constructor!==i&&(s?._$AO?.(!1),i===void 0?s=void 0:(s=new i(t),s._$AT(t,r,n)),n!==void 0?(r._$Co??=[])[n]=s:r._$Cl=s),s!==void 0&&(e=ys(t,s._$AS(t,e.values),s,n)),e}class ZA{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:n}=this._$AD,s=(e?.creationScope??Jn).importNode(r,!0);Ln.currentNode=s;let i=Ln.nextNode(),a=0,o=0,u=n[0];for(;u!==void 0;){if(a===u.index){let l;u.type===2?l=new ca(i,i.nextSibling,this,e):u.type===1?l=new u.ctor(i,u.name,u.strings,this,e):u.type===6&&(l=new e1(i,this,e)),this._$AV.push(l),u=n[++o]}a!==u?.index&&(i=Ln.nextNode(),a++)}return Ln.currentNode=Jn,s}p(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class ca{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,r,n,s){this.type=2,this._$AH=ct,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&e?.nodeType===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=ys(this,e,r),Ji(e)?e===ct||e==null||e===""?(this._$AH!==ct&&this._$AR(),this._$AH=ct):e!==this._$AH&&e!==ms&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):KA(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==ct&&Ji(this._$AH)?this._$AA.nextSibling.data=e:this.T(Jn.createTextNode(e)),this._$AH=e}$(e){const{values:r,_$litType$:n}=e,s=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=zi.createElement(np(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===s)this._$AH.p(r);else{const i=new ZA(s,this),a=i.u(this.options);i.p(r),this.T(a),this._$AH=i}}_$AC(e){let r=N0.get(e.strings);return r===void 0&&N0.set(e.strings,r=new zi(e)),r}k(e){hu(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,s=0;for(const i of e)s===r.length?r.push(n=new ca(this.O(Qi()),this.O(Qi()),this,this.options)):n=r[s],n._$AI(i),s++;s<r.length&&(this._$AR(n&&n._$AB.nextSibling,s),r.length=s)}_$AR(e=this._$AA.nextSibling,r){for(this._$AP?.(!1,!0,r);e!==this._$AB;){const n=E0(e).nextSibling;E0(e).remove(),e=n}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}class $a{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,s,i){this.type=1,this._$AH=ct,this._$AN=void 0,this.element=e,this.name=r,this._$AM=s,this.options=i,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=ct}_$AI(e,r=this,n,s){const i=this.strings;let a=!1;if(i===void 0)e=ys(this,e,r,0),a=!Ji(e)||e!==this._$AH&&e!==ms,a&&(this._$AH=e);else{const o=e;let u,l;for(e=i[0],u=0;u<i.length-1;u++)l=ys(this,o[n+u],r,u),l===ms&&(l=this._$AH[u]),a||=!Ji(l)||l!==this._$AH[u],l===ct?e=ct:e!==ct&&(e+=(l??"")+i[u+1]),this._$AH[u]=l}a&&!s&&this.j(e)}j(e){e===ct?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class YA extends $a{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===ct?void 0:e}}class XA extends $a{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==ct)}}class $A extends $a{constructor(e,r,n,s,i){super(e,r,n,s,i),this.type=5}_$AI(e,r=this){if((e=ys(this,e,r,0)??ct)===ms)return;const n=this._$AH,s=e===ct&&n!==ct||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,i=e!==ct&&(n===ct||s);s&&this.element.removeEventListener(this.name,this,n),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class e1{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){ys(this,e)}}const t1=du.litHtmlPolyfillSupport;t1?.(zi,ca),(du.litHtmlVersions??=[]).push("3.3.2");const r1=(t,e,r)=>{const n=r?.renderBefore??e;let s=n._$litPart$;if(s===void 0){const i=r?.renderBefore??null;n._$litPart$=s=new ca(e.insertBefore(Qi(),i),i,void 0,r??{})}return s._$AI(t),s};const gu=globalThis;class Oa extends wp{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=r1(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return ms}}Oa._$litElement$=!0,Oa.finalized=!0,gu.litElementHydrateSupport?.({LitElement:Oa});const n1=gu.litElementPolyfillSupport;n1?.({LitElement:Oa});(gu.litElementVersions??=[]).push("4.2.2");const s1=qA`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M4.25 7a.63.63 0 0 0-.63.63v3.97c0 .28-.2.51-.47.54l-.75.07a.93.93 0 0 1-.9-.47A7.51 7.51 0 0 1 5.54.92a7.5 7.5 0 0 1 9.54 4.62c.12.35.06.72-.16 1-.74.97-1.68 1.78-2.6 2.44V4.44a.64.64 0 0 0-.63-.64h-1.06c-.35 0-.63.3-.63.64v5.5c0 .23-.12.42-.32.5l-.52.23V6.05c0-.36-.3-.64-.64-.64H7.45c-.35 0-.64.3-.64.64v4.97c0 .25-.17.46-.4.52a5.8 5.8 0 0 0-.45.11v-4c0-.36-.3-.65-.64-.65H4.25ZM14.07 12.4A7.49 7.49 0 0 1 3.6 14.08c4.09-.58 9.14-2.5 11.87-6.6v.03a7.56 7.56 0 0 1-1.41 4.91Z"
  />
</svg>`,d1=Object.freeze(Object.defineProperty({__proto__:null,etherscanSvg:s1},Symbol.toStringTag,{value:"Module"}));export{ct as A,c1 as B,Ui as C,ms as E,yc as M,a1 as a,f1 as b,ke as c,d1 as e,Ap as g,Oa as i,tt as k,l1 as r,$t as t,qA as w};
