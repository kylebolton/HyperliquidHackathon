import{a as Se}from"./ethers-BgwcOcCU.js";import{r as we}from"./index-My90LZL7.js";import{r as Pe}from"./web3-BLQ0acpL.js";import{o as Te}from"./railgun-engine-CcqnAZft.js";function Ce(e,u){for(var t=0;t<u.length;t++){const h=u[t];if(typeof h!="string"&&!Array.isArray(h)){for(const r in h)if(r!=="default"&&!(r in e)){const a=Object.getOwnPropertyDescriptor(h,r);a&&Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:()=>h[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var N={},j={},p={},E={},v={},M={},q={},K;function me(){if(K)return q;K=1,Object.defineProperty(q,"__esModule",{value:!0}),q.getSDKVersion=void 0;const e=()=>"9.1.0";return q.getSDKVersion=e,q}var O={},J;function Re(){if(J)return O;J=1,Object.defineProperty(O,"__esModule",{value:!0}),O.generateRequestId=void 0;const e=h=>h.toString(16).padStart(2,"0"),u=h=>{const r=new Uint8Array(h/2);return window.crypto.getRandomValues(r),Array.from(r,e).join("")},t=()=>typeof window<"u"?u(10):new Date().getTime().toString(36);return O.generateRequestId=t,O}var Q;function pe(){if(Q)return M;Q=1,Object.defineProperty(M,"__esModule",{value:!0}),M.MessageFormatter=void 0;const e=me(),u=Re();class t{}return M.MessageFormatter=t,t.makeRequest=(h,r)=>({id:(0,u.generateRequestId)(),method:h,params:r,env:{sdkVersion:(0,e.getSDKVersion)()}}),t.makeResponse=(h,r,a)=>({id:h,success:!0,version:a,data:r}),t.makeErrorResponse=(h,r,a)=>({id:h,success:!1,error:r,version:a}),M}var b={},X;function C(){if(X)return b;X=1,Object.defineProperty(b,"__esModule",{value:!0}),b.RestrictedMethods=b.Methods=void 0;var e;(function(t){t.sendTransactions="sendTransactions",t.rpcCall="rpcCall",t.getChainInfo="getChainInfo",t.getSafeInfo="getSafeInfo",t.getTxBySafeTxHash="getTxBySafeTxHash",t.getSafeBalances="getSafeBalances",t.signMessage="signMessage",t.signTypedMessage="signTypedMessage",t.getEnvironmentInfo="getEnvironmentInfo",t.getOffChainSignature="getOffChainSignature",t.requestAddressBook="requestAddressBook",t.wallet_getPermissions="wallet_getPermissions",t.wallet_requestPermissions="wallet_requestPermissions"})(e||(b.Methods=e={}));var u;return(function(t){t.requestAddressBook="requestAddressBook"})(u||(b.RestrictedMethods=u={})),b}var Y;function Ee(){return Y||(Y=1,(function(e){var u=v&&v.__createBinding||(Object.create?(function(a,i,s,o){o===void 0&&(o=s);var d=Object.getOwnPropertyDescriptor(i,s);(!d||("get"in d?!i.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(a,o,d)}):(function(a,i,s,o){o===void 0&&(o=s),a[o]=i[s]})),t=v&&v.__exportStar||function(a,i){for(var s in a)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&u(i,a,s)};Object.defineProperty(e,"__esModule",{value:!0});const h=pe();class r{constructor(i=null,s=!1){this.allowedOrigins=null,this.callbacks=new Map,this.debugMode=!1,this.isServer=typeof window>"u",this.isValidMessage=({origin:o,data:d,source:n})=>{const g=!d,c=!this.isServer&&n===window.parent,l=typeof d.version<"u"&&parseInt(d.version.split(".")[0]),f=typeof l=="number"&&l>=1;let _=!0;return Array.isArray(this.allowedOrigins)&&(_=this.allowedOrigins.find(m=>m.test(o))!==void 0),!g&&c&&f&&_},this.logIncomingMessage=o=>{console.info(`Safe Apps SDK v1: A message was received from origin ${o.origin}. `,o.data)},this.onParentMessage=o=>{this.isValidMessage(o)&&(this.debugMode&&this.logIncomingMessage(o),this.handleIncomingMessage(o.data))},this.handleIncomingMessage=o=>{const{id:d}=o,n=this.callbacks.get(d);n&&(n(o),this.callbacks.delete(d))},this.send=(o,d)=>{const n=h.MessageFormatter.makeRequest(o,d);if(this.isServer)throw new Error("Window doesn't exist");return window.parent.postMessage(n,"*"),new Promise((g,c)=>{this.callbacks.set(n.id,l=>{if(!l.success){c(new Error(l.error));return}g(l)})})},this.allowedOrigins=i,this.debugMode=s,this.isServer||window.addEventListener("message",this.onParentMessage)}}e.default=r,t(C(),e)})(v)),v}var I={},S={},A={},z;function je(){if(z)return A;z=1,Object.defineProperty(A,"__esModule",{value:!0}),A.isObjectEIP712TypedData=void 0;const e=u=>typeof u=="object"&&u!=null&&"domain"in u&&"types"in u&&"message"in u;return A.isObjectEIP712TypedData=e,A}var V={},Z;function Me(){return Z||(Z=1,Object.defineProperty(V,"__esModule",{value:!0})),V}var U={},$;function qe(){return $||($=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TransferDirection=e.TransactionStatus=e.TokenType=e.Operation=void 0;var u=we();Object.defineProperty(e,"Operation",{enumerable:!0,get:function(){return u.Operation}}),Object.defineProperty(e,"TokenType",{enumerable:!0,get:function(){return u.TokenType}}),Object.defineProperty(e,"TransactionStatus",{enumerable:!0,get:function(){return u.TransactionStatus}}),Object.defineProperty(e,"TransferDirection",{enumerable:!0,get:function(){return u.TransferDirection}})})(U)),U}var G={},ee;function Oe(){return ee||(ee=1,Object.defineProperty(G,"__esModule",{value:!0}),C()),G}var te;function F(){return te||(te=1,(function(e){var u=S&&S.__createBinding||(Object.create?(function(h,r,a,i){i===void 0&&(i=a);var s=Object.getOwnPropertyDescriptor(r,a);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(h,i,s)}):(function(h,r,a,i){i===void 0&&(i=a),h[i]=r[a]})),t=S&&S.__exportStar||function(h,r){for(var a in h)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&u(r,h,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(je(),e),t(Me(),e),t(qe(),e),t(Oe(),e)})(S)),S}var se;function Ie(){if(se)return I;se=1,Object.defineProperty(I,"__esModule",{value:!0}),I.TXs=void 0;const e=C(),u=F();class t{constructor(r){this.communicator=r}async getBySafeTxHash(r){if(!r)throw new Error("Invalid safeTxHash");return(await this.communicator.send(e.Methods.getTxBySafeTxHash,{safeTxHash:r})).data}async signMessage(r){const a={message:r};return(await this.communicator.send(e.Methods.signMessage,a)).data}async signTypedMessage(r){if(!(0,u.isObjectEIP712TypedData)(r))throw new Error("Invalid typed data");return(await this.communicator.send(e.Methods.signTypedMessage,{typedData:r})).data}async send({txs:r,params:a}){if(!r||!r.length)throw new Error("No transactions were passed");const i={txs:r,params:a};return(await this.communicator.send(e.Methods.sendTransactions,i)).data}}return I.TXs=t,I}var B={},x={},re;function W(){return re||(re=1,Object.defineProperty(x,"__esModule",{value:!0}),x.RPC_CALLS=void 0,x.RPC_CALLS={eth_call:"eth_call",eth_gasPrice:"eth_gasPrice",eth_getLogs:"eth_getLogs",eth_getBalance:"eth_getBalance",eth_getCode:"eth_getCode",eth_getBlockByHash:"eth_getBlockByHash",eth_getBlockByNumber:"eth_getBlockByNumber",eth_getStorageAt:"eth_getStorageAt",eth_getTransactionByHash:"eth_getTransactionByHash",eth_getTransactionReceipt:"eth_getTransactionReceipt",eth_getTransactionCount:"eth_getTransactionCount",eth_estimateGas:"eth_estimateGas",safe_setSettings:"safe_setSettings"}),x}var ae;function Ae(){if(ae)return B;ae=1,Object.defineProperty(B,"__esModule",{value:!0}),B.Eth=void 0;const e=W(),u=C(),t={defaultBlockParam:(r="latest")=>r,returnFullTxObjectParam:(r=!1)=>r,blockNumberToHex:r=>Number.isInteger(r)?`0x${r.toString(16)}`:r};class h{constructor(a){this.communicator=a,this.call=this.buildRequest({call:e.RPC_CALLS.eth_call,formatters:[null,t.defaultBlockParam]}),this.getBalance=this.buildRequest({call:e.RPC_CALLS.eth_getBalance,formatters:[null,t.defaultBlockParam]}),this.getCode=this.buildRequest({call:e.RPC_CALLS.eth_getCode,formatters:[null,t.defaultBlockParam]}),this.getStorageAt=this.buildRequest({call:e.RPC_CALLS.eth_getStorageAt,formatters:[null,t.blockNumberToHex,t.defaultBlockParam]}),this.getPastLogs=this.buildRequest({call:e.RPC_CALLS.eth_getLogs}),this.getBlockByHash=this.buildRequest({call:e.RPC_CALLS.eth_getBlockByHash,formatters:[null,t.returnFullTxObjectParam]}),this.getBlockByNumber=this.buildRequest({call:e.RPC_CALLS.eth_getBlockByNumber,formatters:[t.blockNumberToHex,t.returnFullTxObjectParam]}),this.getTransactionByHash=this.buildRequest({call:e.RPC_CALLS.eth_getTransactionByHash}),this.getTransactionReceipt=this.buildRequest({call:e.RPC_CALLS.eth_getTransactionReceipt}),this.getTransactionCount=this.buildRequest({call:e.RPC_CALLS.eth_getTransactionCount,formatters:[null,t.defaultBlockParam]}),this.getGasPrice=this.buildRequest({call:e.RPC_CALLS.eth_gasPrice}),this.getEstimateGas=i=>this.buildRequest({call:e.RPC_CALLS.eth_estimateGas})([i]),this.setSafeSettings=this.buildRequest({call:e.RPC_CALLS.safe_setSettings})}buildRequest(a){const{call:i,formatters:s}=a;return async o=>{s&&Array.isArray(o)&&s.forEach((g,c)=>{g&&(o[c]=g(o[c]))});const d={call:i,params:o||[]};return(await this.communicator.send(u.Methods.rpcCall,d)).data}}}return B.Eth=h,B}var y={},w={},ne;function Be(){if(ne)return w;ne=1,Object.defineProperty(w,"__esModule",{value:!0}),w.MAGIC_VALUE_BYTES=w.MAGIC_VALUE=void 0;const e="0x1626ba7e";w.MAGIC_VALUE=e;const u="0x20c13b0b";return w.MAGIC_VALUE_BYTES=u,w}var H={},k={},P={},ie;function ye(){if(ie)return P;ie=1,Object.defineProperty(P,"__esModule",{value:!0}),P.PermissionsError=P.PERMISSIONS_REQUEST_REJECTED=void 0,P.PERMISSIONS_REQUEST_REJECTED=4001;class e extends Error{constructor(t,h,r){super(t),this.code=h,this.data=r,Object.setPrototypeOf(this,e.prototype)}}return P.PermissionsError=e,P}var oe;function ve(){if(oe)return k;oe=1,Object.defineProperty(k,"__esModule",{value:!0}),k.Wallet=void 0;const e=C(),u=ye();class t{constructor(r){this.communicator=r}async getPermissions(){return(await this.communicator.send(e.Methods.wallet_getPermissions,void 0)).data}async requestPermissions(r){if(!this.isPermissionRequestValid(r))throw new u.PermissionsError("Permissions request is invalid",u.PERMISSIONS_REQUEST_REJECTED);try{return(await this.communicator.send(e.Methods.wallet_requestPermissions,r)).data}catch{throw new u.PermissionsError("Permissions rejected",u.PERMISSIONS_REQUEST_REJECTED)}}isPermissionRequestValid(r){return r.every(a=>typeof a=="object"?Object.keys(a).every(i=>!!Object.values(e.RestrictedMethods).includes(i)):!1)}}return k.Wallet=t,k}var ue;function xe(){if(ue)return H;ue=1,Object.defineProperty(H,"__esModule",{value:!0});const e=ve(),u=ye(),t=(r,a)=>a.some(i=>i.parentCapability===r),h=()=>(r,a,i)=>{const s=i.value;return i.value=async function(){const o=new e.Wallet(this.communicator);let d=await o.getPermissions();if(t(a,d)||(d=await o.requestPermissions([{[a]:{}}])),!t(a,d))throw new u.PermissionsError("Permissions rejected",u.PERMISSIONS_REQUEST_REJECTED);return s.apply(this)},i};return H.default=h,H}var ce;function ke(){if(ce)return y;ce=1;var e=y&&y.__decorate||function(d,n,g,c){var l=arguments.length,f=l<3?n:c===null?c=Object.getOwnPropertyDescriptor(n,g):c,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(d,n,g,c);else for(var m=d.length-1;m>=0;m--)(_=d[m])&&(f=(l<3?_(f):l>3?_(n,g,f):_(n,g))||f);return l>3&&f&&Object.defineProperty(n,g,f),f},u=y&&y.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(y,"__esModule",{value:!0}),y.Safe=void 0;const t=Pe(),h=Be(),r=C(),a=W(),i=F(),s=u(xe());class o{constructor(n){this.communicator=n}async getChainInfo(){return(await this.communicator.send(r.Methods.getChainInfo,void 0)).data}async getInfo(){return(await this.communicator.send(r.Methods.getSafeInfo,void 0)).data}async experimental_getBalances({currency:n="usd"}={}){return(await this.communicator.send(r.Methods.getSafeBalances,{currency:n})).data}async check1271Signature(n,g="0x"){const c=await this.getInfo(),l=(0,t.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_dataHash",type:"bytes32"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[n,g]}),f={call:a.RPC_CALLS.eth_call,params:[{to:c.safeAddress,data:l},"latest"]};try{return(await this.communicator.send(r.Methods.rpcCall,f)).data.slice(0,10).toLowerCase()===h.MAGIC_VALUE}catch{return!1}}async check1271SignatureBytes(n,g="0x"){const c=await this.getInfo(),l=(0,t.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_data",type:"bytes"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[n,g]}),f={call:a.RPC_CALLS.eth_call,params:[{to:c.safeAddress,data:l},"latest"]};try{return(await this.communicator.send(r.Methods.rpcCall,f)).data.slice(0,10).toLowerCase()===h.MAGIC_VALUE_BYTES}catch{return!1}}calculateMessageHash(n){return(0,t.hashMessage)(n)}calculateTypedMessageHash(n){const g=typeof n.domain.chainId=="object"?n.domain.chainId.toNumber():Number(n.domain.chainId);let c=n.primaryType;if(!c){const l=Object.values(n.types),f=Object.keys(n.types).filter(_=>l.every(m=>m.every(({type:L})=>L.replace("[","").replace("]","")!==_)));if(f.length===0||f.length>1)throw new Error("Please specify primaryType");c=f[0]}return(0,t.hashTypedData)({message:n.message,domain:{...n.domain,chainId:g,verifyingContract:n.domain.verifyingContract,salt:n.domain.salt},types:n.types,primaryType:c})}async getOffChainSignature(n){return(await this.communicator.send(r.Methods.getOffChainSignature,n)).data}async isMessageSigned(n,g="0x"){let c;if(typeof n=="string"&&(c=async()=>{const l=this.calculateMessageHash(n);return await this.isMessageHashSigned(l,g)}),(0,i.isObjectEIP712TypedData)(n)&&(c=async()=>{const l=this.calculateTypedMessageHash(n);return await this.isMessageHashSigned(l,g)}),c)return await c();throw new Error("Invalid message type")}async isMessageHashSigned(n,g="0x"){const c=[this.check1271Signature.bind(this),this.check1271SignatureBytes.bind(this)];for(const l of c)if(await l(n,g))return!0;return!1}async getEnvironmentInfo(){return(await this.communicator.send(r.Methods.getEnvironmentInfo,void 0)).data}async requestAddressBook(){return(await this.communicator.send(r.Methods.requestAddressBook,void 0)).data}}return y.Safe=o,e([(0,s.default)()],o.prototype,"requestAddressBook",null),y}var de;function le(){if(de)return E;de=1;var e=E&&E.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(E,"__esModule",{value:!0});const u=e(Ee()),t=Ie(),h=Ae(),r=ke(),a=ve();class i{constructor(o={}){const{allowedDomains:d=null,debug:n=!1}=o;this.communicator=new u.default(d,n),this.eth=new h.Eth(this.communicator),this.txs=new t.TXs(this.communicator),this.safe=new r.Safe(this.communicator),this.wallet=new a.Wallet(this.communicator)}}return E.default=i,E}var he;function Le(){return he||(he=1,(function(e){var u=p&&p.__createBinding||(Object.create?(function(i,s,o,d){d===void 0&&(d=o);var n=Object.getOwnPropertyDescriptor(s,o);(!n||("get"in n?!s.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,d,n)}):(function(i,s,o,d){d===void 0&&(d=o),i[d]=s[o]})),t=p&&p.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&u(s,i,o)},h=p&&p.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0}),e.getSDKVersion=void 0;const r=h(le());e.default=r.default,t(le(),e),t(F(),e),t(C(),e),t(pe(),e);var a=me();Object.defineProperty(e,"getSDKVersion",{enumerable:!0,get:function(){return a.getSDKVersion}}),t(W(),e)})(p)),p}var T={},fe;function He(){if(fe)return T;fe=1,Object.defineProperty(T,"__esModule",{value:!0}),T.numberToHex=T.getLowerCase=void 0;function e(t){return t&&t.toLowerCase()}T.getLowerCase=e;function u(t){return`0x${t.toString(16)}`}return T.numberToHex=u,T}var ge;function De(){if(ge)return j;ge=1,Object.defineProperty(j,"__esModule",{value:!0}),j.SafeAppProvider=void 0;const e=Le(),u=Te(),t=He();class h extends u.EventEmitter{constructor(a,i){super(),this.submittedTxs=new Map,this.safe=a,this.sdk=i}async connect(){this.emit("connect",{chainId:this.chainId})}async disconnect(){}get chainId(){return this.safe.chainId}async request(a){const{method:i,params:s=[]}=a;switch(i){case"eth_accounts":return[this.safe.safeAddress];case"net_version":case"eth_chainId":return(0,t.numberToHex)(this.chainId);case"personal_sign":{const[c,l]=s;if(this.safe.safeAddress.toLowerCase()!==l.toLowerCase())throw new Error("The address or message hash is invalid");const f=await this.sdk.txs.signMessage(c);return("signature"in f?f.signature:void 0)||"0x"}case"eth_sign":{const[c,l]=s;if(this.safe.safeAddress.toLowerCase()!==c.toLowerCase()||!l.startsWith("0x"))throw new Error("The address or message hash is invalid");const f=await this.sdk.txs.signMessage(l);return("signature"in f?f.signature:void 0)||"0x"}case"eth_signTypedData":case"eth_signTypedData_v4":{const[c,l]=s,f=typeof l=="string"?JSON.parse(l):l;if(this.safe.safeAddress.toLowerCase()!==c.toLowerCase())throw new Error("The address is invalid");const _=await this.sdk.txs.signTypedMessage(f);return("signature"in _?_.signature:void 0)||"0x"}case"eth_sendTransaction":const o={...s[0],value:s[0].value||"0",data:s[0].data||"0x"};typeof o.gas=="string"&&o.gas.startsWith("0x")&&(o.gas=parseInt(o.gas,16));const d=await this.sdk.txs.send({txs:[o],params:{safeTxGas:o.gas}});return this.submittedTxs.set(d.safeTxHash,{from:this.safe.safeAddress,hash:d.safeTxHash,gas:0,gasPrice:"0x00",nonce:0,input:o.data,value:o.value,to:o.to,blockHash:null,blockNumber:null,transactionIndex:null}),d.safeTxHash;case"eth_blockNumber":return(await this.sdk.eth.getBlockByNumber(["latest"])).number;case"eth_getBalance":return this.sdk.eth.getBalance([(0,t.getLowerCase)(s[0]),s[1]]);case"eth_getCode":return this.sdk.eth.getCode([(0,t.getLowerCase)(s[0]),s[1]]);case"eth_getTransactionCount":return this.sdk.eth.getTransactionCount([(0,t.getLowerCase)(s[0]),s[1]]);case"eth_getStorageAt":return this.sdk.eth.getStorageAt([(0,t.getLowerCase)(s[0]),s[1],s[2]]);case"eth_getBlockByNumber":return this.sdk.eth.getBlockByNumber([s[0],s[1]]);case"eth_getBlockByHash":return this.sdk.eth.getBlockByHash([s[0],s[1]]);case"eth_getTransactionByHash":let g=s[0];try{g=(await this.sdk.txs.getBySafeTxHash(g)).txHash||g}catch{}return this.submittedTxs.has(g)?this.submittedTxs.get(g):this.sdk.eth.getTransactionByHash([g]).then(c=>(c&&(c.hash=s[0]),c));case"eth_getTransactionReceipt":{let c=s[0];try{c=(await this.sdk.txs.getBySafeTxHash(c)).txHash||c}catch{}return this.sdk.eth.getTransactionReceipt([c]).then(l=>(l&&(l.transactionHash=s[0]),l))}case"eth_estimateGas":return this.sdk.eth.getEstimateGas(s[0]);case"eth_call":return this.sdk.eth.call([s[0],s[1]]);case"eth_getLogs":return this.sdk.eth.getPastLogs([s[0]]);case"eth_gasPrice":return this.sdk.eth.getGasPrice();case"wallet_getPermissions":return this.sdk.wallet.getPermissions();case"wallet_requestPermissions":return this.sdk.wallet.requestPermissions(s[0]);case"safe_setSettings":return this.sdk.eth.setSafeSettings([s[0]]);case"wallet_sendCalls":{const{from:c,calls:l,chainId:f}=s[0];if(f!==(0,t.numberToHex)(this.chainId))throw new Error(`Safe is not on chain ${f}`);if(c!==this.safe.safeAddress)throw Error("Invalid from address");const _=l.map((R,D)=>{if(!R.to)throw new Error(`Invalid call #${D}: missing "to" field`);return{to:R.to,data:R.data??"0x",value:R.value??(0,t.numberToHex)(0)}}),{safeTxHash:m}=await this.sdk.txs.send({txs:_});return{id:m}}case"wallet_getCallsStatus":{const c=s[0],l={[e.TransactionStatus.AWAITING_CONFIRMATIONS]:100,[e.TransactionStatus.AWAITING_EXECUTION]:100,[e.TransactionStatus.SUCCESS]:200,[e.TransactionStatus.CANCELLED]:400,[e.TransactionStatus.FAILED]:500},f=await this.sdk.txs.getBySafeTxHash(c),_={version:"1.0",id:c,chainId:(0,t.numberToHex)(this.chainId),status:l[f.txStatus]};if(!f.txHash)return _;const m=await this.sdk.eth.getTransactionReceipt([f.txHash]);if(!m)return _;const L=f.txData?.dataDecoded?.method!=="multiSend"?1:f.txData.dataDecoded.parameters?.[0].valueDecoded?.length??1,R=Number(m.blockNumber),D=Number(m.gasUsed);return _.receipts=Array(L).fill({logs:m.logs,status:(0,t.numberToHex)(f.txStatus===e.TransactionStatus.SUCCESS?1:0),blockHash:m.blockHash,blockNumber:(0,t.numberToHex)(R),gasUsed:(0,t.numberToHex)(D),transactionHash:f.txHash}),_}case"wallet_showCallsStatus":throw new Error(`"${a.method}" not supported`);case"wallet_getCapabilities":return{[(0,t.numberToHex)(this.chainId)]:{atomicBatch:{supported:!0}}};default:throw Error(`"${a.method}" not implemented`)}}send(a,i){a||i("Undefined request"),this.request(a).then(s=>i(null,{jsonrpc:"2.0",id:a.id,result:s})).catch(s=>i(s,null))}}return j.SafeAppProvider=h,j}var _e;function Ne(){return _e||(_e=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SafeAppProvider=void 0;var u=De();Object.defineProperty(e,"SafeAppProvider",{enumerable:!0,get:function(){return u.SafeAppProvider}})})(N)),N}var be=Ne();const Ve=Se(be),Ke=Ce({__proto__:null,default:Ve},[be]);export{Ke as i};
